<div class="altai-list">
    <div class="search">
        <input class="query" type="text" placeholder="{{'searchinname'|translate}}" ng-model-options="{ debounce: 300 }" ng-model="vm.searchModel.name" />
        <md-button ng-click="vm.createForum()" class="md-button-altai md-raised"><i class="mdi mdi-plus"></i> {{::'create'|translate}} </md-button>
    </div>


</div>
<div class="altai-admin-section altai-Forum">
    <table>

        <thead>
            <tr>
                <th><a ng-click="vm.setSorting('Name')">{{'title'|translate}}<span ng-if="vm.searchModel.sorterAttr =='Name'"><span ng-if="vm.searchModel.sorterDesc"><i class="mdi mdi-menu-down"></i></span><span ng-if="!vm.searchModel.sorterDesc"><i class="mdi mdi-menu-up"></i></span></span></a></th>
                <th><a>{{'user'|translate}}</a></th>
                <th><a ng-click="vm.setSorting('Comments')">{{'comments'|translate}}<span ng-if="vm.searchModel.sorterAttr =='Comments'"><span ng-if="vm.searchModel.sorterDesc"><i class="mdi mdi-menu-down"></i></span><span ng-if="!vm.searchModel.sorterDesc"><i class="mdi mdi-menu-up"></i></span></span></a></th>
                <th><a ng-click="vm.setSorting('ViewCount')">{{'views'|translate}}<span ng-if="vm.searchModel.sorterAttr =='ViewCount'"><span ng-if="vm.searchModel.sorterDesc"><i class="mdi mdi-menu-down"></i></span><span ng-if="!vm.searchModel.sorterDesc"><i class="mdi mdi-menu-up"></i></span></span></a></th>
                <th><a ng-click="vm.setSorting('LastActivity')">{{'activity'|translate}}<span ng-if="vm.searchModel.sorterAttr =='LastActivity'"><span ng-if="vm.searchModel.sorterDesc"><i class="mdi mdi-menu-down"></i></span><span ng-if="!vm.searchModel.sorterDesc"><i class="mdi mdi-menu-up"></i></span></span></a></th>
                <th>{{'actions'|translate}}</th>
            </tr>
        </thead>

        <tbody>
            <tr ng-repeat="forum in vm.forums.pageResults track by forum.id" >
                <td>{{forum.title}}</td>
                <td>
                   
                    <div ng-repeat="user in forum.usersLinked track by $index" class="forum-User" >
                        <ng-letter-avatar data="{{user.name}}" shape="round" fontsize="15" height="25" width="25" avatarcustombgcolor="{{user.color}}"></ng-letter-avatar>
                    </div>
                </td>
                <td>{{forum.comments}}</td>
                <td>{{forum.viewCount}}</td>
                <td>{{forum.lastActivity| date:'mediumDate'}}</td>
                <td>
                <md-button ng-click="vm.deleteForums(forum)" class="md-button-altai md-raised"><i class="mdi mdi-delete"></i> {{::'delete'|translate}}</md-button>
                <md-button ng-if="forum.isEdit" ng-click="vm.editForum(forum)" class="md-button-altai md-raised"><i class="mdi mdi-pencil"></i> {{::'edit'|translate}}</md-button>
                </td>
            </tr>
        </tbody>

    </table>

    <div class="panel-buttons">
        <altai-pagination paged-result="vm.forums" switch-page="vm.openPage(pageIndex)"></altai-pagination>
    </div>

</div>