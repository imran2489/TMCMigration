function stripHtmlToText(n){var i=document.createElement("DIV"),t;return i.innerHTML=n,t=i.textContent||i.innerText||"",t.replace("​",""),t=t.trim()}function getDomFromHtml(n){var t=document.createElement("DIV");return t.innerHTML=n,t}var ngFileUpload,sheet,addCSSRule,removeCSSRule,_addCSSRule,_removeCSSRule,_getRuleIndex,_sheets,i,dropFired,textAngular,duScrollDefaultEasing,duScroll,Base64,AltaiCore,AltaiWindowManager,AltaiAdmin,altaiIdentity,AltaiIdentity,AltaiTheming,AltaiLocalization,AltaiPageBuilder,AltaiContent,AltaiWorkflow,AltaiBusinessProcessFlow,AltaiEvent,AltaiMenus,AltaiFileManager,AltaiTextBlockModule,AltaiMyFavouriteModule,AltaiTextEditor,ComeosModule,AltaiEngage,AltaiInsights,AltaiElasticSearch,AltaiElastic,AltaiMailing,AltaiContentEditor,AltaiImageStyleSets,__extends,AltaiBackgroundWork;console.log("ok");!function(n,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)}("undefined"!=typeof window?window:this,function(n,t){function ti(n){var t="length"in n&&n.length,r=i.type(n);return"function"===r||i.isWindow(n)?!1:1===n.nodeType&&t?!0:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in n}function ii(n,t,r){if(i.isFunction(t))return i.grep(n,function(n,i){return!!t.call(n,i,n)!==r});if(t.nodeType)return i.grep(n,function(n){return n===t!==r});if("string"==typeof t){if(yf.test(t))return i.filter(t,n,r);t=i.filter(t,n)}return i.grep(n,function(n){return st.call(t,n)>=0!==r})}function wi(n,t){for(;(n=n[t])&&1!==n.nodeType;);return n}function nf(n){var t=hi[n]={};return i.each(n.match(c)||[],function(n,i){t[i]=!0}),t}function ft(){u.removeEventListener("DOMContentLoaded",ft,!1);n.removeEventListener("load",ft,!1);i.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=i.expando+a.uid++}function bi(n,t,r){var u;if(void 0===r&&1===n.nodeType)if(u="data-"+t.replace(wf,"-$1").toLowerCase(),r=n.getAttribute(u),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:pf.test(r)?i.parseJSON(r):r}catch(f){}e.set(n,t,r)}else r=void 0;return r}function et(){return!0}function w(){return!1}function ki(){try{return u.activeElement}catch(n){}}function di(n,t){return i.nodeName(n,"table")&&i.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?n.getElementsByTagName("tbody")[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n}function tf(n){return n.type=(null!==n.getAttribute("type"))+"/"+n.type,n}function rf(n){var t=te.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function ri(n,t){for(var i=0,u=n.length;u>i;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function gi(n,t){var u,c,f,s,h,l,a,o;if(1===t.nodeType){if(r.hasData(n)&&(s=r.access(n),h=r.set(t,s),o=s.events)){delete h.handle;h.events={};for(f in o)for(u=0,c=o[f].length;c>u;u++)i.event.add(t,f,o[f][u])}e.hasData(n)&&(l=e.access(n),a=i.extend({},l),e.set(t,a))}}function o(n,t){var r=n.getElementsByTagName?n.getElementsByTagName(t||"*"):n.querySelectorAll?n.querySelectorAll(t||"*"):[];return void 0===t||t&&i.nodeName(n,t)?i.merge([n],r):r}function uf(n,t){var i=t.nodeName.toLowerCase();"input"===i&&nu.test(n.type)?t.checked=n.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=n.defaultValue)}function nr(t,r){var f,u=i(r.createElement(t)).appendTo(r.body),e=n.getDefaultComputedStyle&&(f=n.getDefaultComputedStyle(u[0]))?f.display:i.css(u[0],"display");return u.detach(),e}function ui(n){var r=u,t=eu[n];return t||(t=nr(n,r),"none"!==t&&t||(vt=(vt||i("<iframe frameborder='0' width='0' height='0'/>")).appendTo(r.documentElement),r=vt[0].contentDocument,r.write(),r.close(),t=nr(n,r),vt.detach()),eu[n]=t),t}function tt(n,t,r){var e,o,s,u,f=n.style;return r=r||yt(n),r&&(u=r.getPropertyValue(t)||r[t]),r&&(""!==u||i.contains(n.ownerDocument,n)||(u=i.style(n,t)),ci.test(u)&&ou.test(t)&&(e=f.width,o=f.minWidth,s=f.maxWidth,f.minWidth=f.maxWidth=f.width=u,u=r.width,f.width=e,f.minWidth=o,f.maxWidth=s)),void 0!==u?u+"":u}function tr(n,t){return{get:function(){return n()?void delete this.get:(this.get=t).apply(this,arguments)}}}function ir(n,t){if(t in n)return t;for(var r=t[0].toUpperCase()+t.slice(1),u=t,i=hu.length;i--;)if(t=hu[i]+r,t in n)return t;return u}function rr(n,t,i){var r=ue.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function ur(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:"width"===t?1:0,o=0;4>e;e+=2)"margin"===r&&(o+=i.css(n,r+p[e],!0,f)),u?("content"===r&&(o-=i.css(n,"padding"+p[e],!0,f)),"margin"!==r&&(o-=i.css(n,"border"+p[e]+"Width",!0,f))):(o+=i.css(n,"padding"+p[e],!0,f),"padding"!==r&&(o+=i.css(n,"border"+p[e]+"Width",!0,f)));return o}function fr(n,t,r){var o=!0,u="width"===t?n.offsetWidth:n.offsetHeight,e=yt(n),s="border-box"===i.css(n,"boxSizing",!1,e);if(0>=u||null==u){if(u=tt(n,t,e),(0>u||null==u)&&(u=n.style[t]),ci.test(u))return u;o=s&&(f.boxSizingReliable()||u===n.style[t]);u=parseFloat(u)||0}return u+ur(n,t,r||(s?"border":"content"),o,e)+"px"}function er(n,t){for(var e,u,s,o=[],f=0,h=n.length;h>f;f++)u=n[f],u.style&&(o[f]=r.get(u,"olddisplay"),e=u.style.display,t?(o[f]||"none"!==e||(u.style.display=""),""===u.style.display&&it(u)&&(o[f]=r.access(u,"olddisplay",ui(u.nodeName)))):(s=it(u),"none"===e&&s||r.set(u,"olddisplay",s?e:i.css(u,"display"))));for(f=0;h>f;f++)u=n[f],u.style&&(t&&"none"!==u.style.display&&""!==u.style.display||(u.style.display=t?o[f]||"":"none"));return n}function s(n,t,i,r,u){return new s.prototype.init(n,t,i,r,u)}function or(){return setTimeout(function(){d=void 0}),d=i.now()}function ot(n,t){var r,u=0,i={height:n};for(t=t?1:0;4>u;u+=2-t)r=p[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function sr(n,t,i){for(var u,f=(rt[t]||[]).concat(rt["*"]),r=0,e=f.length;e>r;r++)if(u=f[r].call(i,t,n))return u}function ff(n,t,u){var f,a,p,v,o,w,h,b,l=this,y={},s=n.style,c=n.nodeType&&it(n),e=r.get(n,"fxshow");u.queue||(o=i._queueHooks(n,"fx"),null==o.unqueued&&(o.unqueued=0,w=o.empty.fire,o.empty.fire=function(){o.unqueued||w()}),o.unqueued++,l.always(function(){l.always(function(){o.unqueued--;i.queue(n,"fx").length||o.empty.fire()})}));1===n.nodeType&&("height"in t||"width"in t)&&(u.overflow=[s.overflow,s.overflowX,s.overflowY],h=i.css(n,"display"),b="none"===h?r.get(n,"olddisplay")||ui(n.nodeName):h,"inline"===b&&"none"===i.css(n,"float")&&(s.display="inline-block"));u.overflow&&(s.overflow="hidden",l.always(function(){s.overflow=u.overflow[0];s.overflowX=u.overflow[1];s.overflowY=u.overflow[2]}));for(f in t)if(a=t[f],oe.exec(a)){if(delete t[f],p=p||"toggle"===a,a===(c?"hide":"show")){if("show"!==a||!e||void 0===e[f])continue;c=!0}y[f]=e&&e[f]||i.style(n,f)}else h=void 0;if(i.isEmptyObject(y))"inline"===("none"===h?ui(n.nodeName):h)&&(s.display=h);else{e?"hidden"in e&&(c=e.hidden):e=r.access(n,"fxshow",{});p&&(e.hidden=!c);c?i(n).show():l.done(function(){i(n).hide()});l.done(function(){var t;r.remove(n,"fxshow");for(t in y)i.style(n,t,y[t])});for(f in y)v=sr(c?e[f]:0,f,l),f in e||(e[f]=v.start,c&&(v.end=v.start,v.start="width"===f||"height"===f?1:0))}}function ef(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function hr(n,t,r){var h,e,o=0,l=wt.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(e)return!1;for(var s=d||or(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,o=u.tweens.length;o>r;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),1>i&&o?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:d||or(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(e)return this;for(e=!0;r>i;i++)u.tweens[i].run(1);return t?f.resolveWith(n,[u,t]):f.rejectWith(n,[u,t]),this}}),s=u.props;for(ef(s,u.opts.specialEasing);l>o;o++)if(h=wt[o].call(u,n,s,u.opts))return h;return i.map(s,sr,u),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function cr(n){return function(t,r){"string"!=typeof t&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(c)||[];if(i.isFunction(r))for(;u=e[f++];)"+"===u[0]?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function lr(n,t,r,u){function f(s){var h;return e[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);return"string"!=typeof s||o||e[s]?o?!(h=s):void 0:(t.dataTypes.unshift(s),f(s),!1)}),h}var e={},o=n===li;return f(t.dataTypes[0])||!e["*"]&&f("*")}function fi(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function of(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;"*"===r[0];)r.shift(),void 0===e&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return(f!==r[0]&&r.unshift(f),i[f])}function sf(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift())if("*"===u)u=e;else if("*"!==e&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]])){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}function ei(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||pe.test(n)?u(n,i):ei(n+"["+("object"==typeof i?t:"")+"]",i,r,u)});else if(r||"object"!==i.type(t))u(n,t);else for(f in t)ei(n+"["+f+"]",t[f],r,u)}function ar(n){return i.isWindow(n)?n:9===n.nodeType&&n.defaultView}var b=[],v=b.slice,vr=b.concat,oi=b.push,st=b.indexOf,ht={},hf=ht.toString,si=ht.hasOwnProperty,f={},u=n.document,yr="2.1.4",i=function(n,t){return new i.fn.init(n,t)},cf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,lf=/^-ms-/,af=/-([\da-z])/gi,vf=function(n,t){return t.toUpperCase()},y,ct,br,kr,dr,gr,c,hi,lt,l,k,he,lu,g,au,bt,vu,kt,dt,vi,ni,yi,pi,du,gu;i.fn=i.prototype={jquery:yr,constructor:i,selector:"",length:0,toArray:function(){return v.call(this)},get:function(n){return null!=n?0>n?this[n+this.length]:this[n]:v.call(this)},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n,t){return i.each(this,n,t)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(v.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(0>n?i:0);return this.pushStack(t>=0&&i>t?[this[t]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:oi,sort:b.sort,splice:b.splice};i.extend=i.fn.extend=function(){var e,f,r,t,o,s,n=arguments[0]||{},u=1,c=arguments.length,h=!1;for("boolean"==typeof n&&(h=n,n=arguments[u]||{},u++),"object"==typeof n||i.isFunction(n)||(n={}),u===c&&(n=this,u--);c>u;u++)if(null!=(e=arguments[u]))for(f in e)r=n[f],t=e[f],n!==t&&(h&&t&&(i.isPlainObject(t)||(o=i.isArray(t)))?(o?(o=!1,s=r&&i.isArray(r)?r:[]):s=r&&i.isPlainObject(r)?r:{},n[f]=i.extend(h,s,t)):void 0!==t&&(n[f]=t));return n};i.extend({expando:"jQuery"+(yr+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isFunction:function(n){return"function"===i.type(n)},isArray:Array.isArray,isWindow:function(n){return null!=n&&n===n.window},isNumeric:function(n){return!i.isArray(n)&&n-parseFloat(n)+1>=0},isPlainObject:function(n){return"object"!==i.type(n)||n.nodeType||i.isWindow(n)?!1:!n.constructor||si.call(n.constructor.prototype,"isPrototypeOf")},isEmptyObject:function(n){for(var t in n)return!1;return!0},type:function(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?ht[hf.call(n)]||"object":typeof n},globalEval:function(n){var t,r=eval;n=i.trim(n);n&&(1===n.indexOf("use strict")?(t=u.createElement("script"),t.text=n,u.head.appendChild(t).parentNode.removeChild(t)):r(n))},camelCase:function(n){return n.replace(lf,"ms-").replace(af,vf)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t,i){var u,r=0,f=n.length,e=ti(n);if(i){if(e)for(;f>r&&(u=t.apply(n[r],i),u!==!1);r++);else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e)for(;f>r&&(u=t.call(n[r],r,n[r]),u!==!1);r++);else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n},trim:function(n){return null==n?"":(n+"").replace(cf,"")},makeArray:function(n,t){var r=t||[];return null!=n&&(ti(Object(n))?i.merge(r,"string"==typeof n?[n]:n):oi.call(r,n)),r},inArray:function(n,t,i){return null==t?-1:st.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;u>i;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;e>r;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var u,r=0,e=n.length,o=ti(n),f=[];if(o)for(;e>r;r++)u=t(n[r],r,i),null!=u&&f.push(u);else for(r in n)u=t(n[r],r,i),null!=u&&f.push(u);return vr.apply([],f)},guid:1,proxy:function(n,t){var u,f,r;return"string"==typeof t&&(u=n[t],t=n,n=u),i.isFunction(n)?(f=v.call(arguments,2),r=function(){return n.apply(t||this,f.concat(v.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r):void 0},now:Date.now,support:f});i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,t){ht["[object "+t+"]"]=t.toLowerCase()});y=function(n){function r(n,t,i,r){var p,s,l,h,w,y,k,v,nt,g;if((t?t.ownerDocument||t:c)!==o&&d(t),t=t||o,i=i||[],h=t.nodeType,"string"!=typeof n||!n||1!==h&&9!==h&&11!==h)return i;if(!r&&a){if(11!==h&&(p=vr.exec(n)))if(l=p[1]){if(9===h){if(s=t.getElementById(l),!s||!s.parentNode)return i;if(s.id===l)return i.push(s),i}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(l))&&et(t,s)&&s.id===l)return i.push(s),i}else{if(p[2])return b.apply(i,t.getElementsByTagName(n)),i;if((l=p[3])&&u.getElementsByClassName)return b.apply(i,t.getElementsByClassName(l)),i}if(u.qsa&&(!e||!e.test(n))){if(v=k=f,nt=t,g=1!==h&&n,1===h&&"object"!==t.nodeName.toLowerCase()){for(y=ft(n),(k=t.getAttribute("id"))?v=k.replace(yr,"\\$&"):t.setAttribute("id",v),v="[id='"+v+"'] ",w=y.length;w--;)y[w]=v+st(y[w]);nt=fi.test(n)&&bt(t.parentNode)||t;g=y.join(",")}if(g)try{return b.apply(i,nt.querySelectorAll(g)),i}catch(tt){}finally{k||t.removeAttribute("id")}}}return hi(n.replace(vt,"$1"),t,i,r)}function pt(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function s(n){return n[f]=!0,n}function l(n){var t=o.createElement("div");try{return!!n(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function wt(n,i){for(var u=n.split("|"),r=n.length;r--;)t.attrHandle[u[r]]=i}function ei(n,t){var i=t&&n,r=i&&1===n.nodeType&&1===t.nodeType&&(~t.sourceIndex||vi)-(~n.sourceIndex||vi);if(r)return r;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return n?1:-1}function ki(n){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===n}}function di(n){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===n}}function k(n){return s(function(t){return t=+t,s(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function bt(n){return n&&"undefined"!=typeof n.getElementsByTagName&&n}function oi(){}function st(n){for(var t=0,r=n.length,i="";r>t;t++)i+=n[t].value;return i}function kt(n,t,i){var r=t.dir,u=i&&"parentNode"===r,e=tr++;return t.first?function(t,i,f){for(;t=t[r];)if(1===t.nodeType||u)return n(t,i,f)}:function(t,i,o){var s,h,c=[v,e];if(o){for(;t=t[r];)if((1===t.nodeType||u)&&n(t,i,o))return!0}else for(;t=t[r];)if(1===t.nodeType||u){if(h=t[f]||(t[f]={}),(s=h[r])&&s[0]===v&&s[1]===e)return c[2]=s[2];if(h[r]=c,c[2]=n(t,i,o))return!0}}}function dt(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function gi(n,t,i){for(var u=0,f=t.length;f>u;u++)r(n,t[u],i);return i}function ht(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;s>f;f++)(e=n[f])&&(i&&!i(e,r,u)||(o.push(e),h&&t.push(f)));return o}function gt(n,t,i,r,u,e){return r&&!r[f]&&(r=gt(r)),u&&!u[f]&&(u=gt(u,e)),s(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,k=f||gi(t||"*",o.nodeType?[o]:o,[]),v=!n||!f&&t?k:ht(k,p,n,o,s),h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=ht(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?tt(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=ht(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):b.apply(e,h)})}function ni(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=kt(function(n){return n===o},c,!0),a=kt(function(n){return tt(o,n)>-1},c,!0),e=[function(n,t,i){var r=!h&&(i||t!==lt)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];s>i;i++)if(u=t.relative[n[i].type])e=[kt(dt(e),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[f]){for(r=++i;s>r&&!t.relative[n[r].type];r++);return gt(i>1&&dt(e),i>1&&st(n.slice(0,i-1).concat({value:" "===n[i-2].type?"*":""})).replace(vt,"$1"),u,r>i&&ni(n.slice(i,r)),s>r&&ni(n=n.slice(r)),s>r&&st(n))}e.push(u)}return dt(e)}function nr(n,i){var u=i.length>0,f=n.length>0,e=function(e,s,h,c,l){var y,d,w,k=0,a="0",g=e&&[],p=[],nt=lt,tt=e||f&&t.find.TAG("*",l),it=v+=null==nt?1:Math.random()||.1,rt=tt.length;for(l&&(lt=s!==o&&s);a!==rt&&null!=(y=tt[a]);a++){if(f&&y){for(d=0;w=n[d++];)if(w(y,s,h)){c.push(y);break}l&&(v=it)}u&&((y=!w&&y)&&k--,e&&g.push(y))}if(k+=a,u&&a!==k){for(d=0;w=i[d++];)w(g,p,s,h);if(e){if(k>0)for(;a--;)g[a]||p[a]||(p[a]=rr.call(c));p=ht(p)}b.apply(c,p);l&&!e&&p.length>0&&k+i.length>1&&r.uniqueSort(c)}return l&&(v=it,lt=nt),g};return u?s(e):e}var it,u,t,ct,si,ft,ti,hi,lt,w,rt,d,o,h,a,e,g,at,et,f="sizzle"+1*new Date,c=n.document,v=0,tr=0,ci=pt(),li=pt(),ai=pt(),ii=function(n,t){return n===t&&(rt=!0),0},vi=-2147483648,ir={}.hasOwnProperty,nt=[],rr=nt.pop,ur=nt.push,b=nt.push,yi=nt.slice,tt=function(n,t){for(var i=0,r=n.length;r>i;i++)if(n[i]===t)return i;return-1},ri="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",i="[\\x20\\t\\r\\n\\f]",ut="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",pi=ut.replace("w","w#"),wi="\\["+i+"*("+ut+")(?:"+i+"*([*^$|!~]?=)"+i+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+pi+"))|)"+i+"*\\]",ui=":("+ut+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+wi+")*)|.*)\\)|)",fr=new RegExp(i+"+","g"),vt=new RegExp("^"+i+"+|((?:^|[^\\\\])(?:\\\\.)*)"+i+"+$","g"),er=new RegExp("^"+i+"*,"+i+"*"),or=new RegExp("^"+i+"*([>+~]|"+i+")"+i+"*"),sr=new RegExp("="+i+"*([^\\]'\"]*?)"+i+"*\\]","g"),hr=new RegExp(ui),cr=new RegExp("^"+pi+"$"),yt={ID:new RegExp("^#("+ut+")"),CLASS:new RegExp("^\\.("+ut+")"),TAG:new RegExp("^("+ut.replace("w","w*")+")"),ATTR:new RegExp("^"+wi),PSEUDO:new RegExp("^"+ui),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+i+"*(even|odd|(([+-]|)(\\d*)n|)"+i+"*(?:([+-]|)"+i+"*(\\d+)|))"+i+"*\\)|)","i"),bool:new RegExp("^(?:"+ri+")$","i"),needsContext:new RegExp("^"+i+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+i+"*((?:-\\d)?\\d*)"+i+"*\\)|)(?=[^-]|$)","i")},lr=/^(?:input|select|textarea|button)$/i,ar=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,vr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fi=/[+~]/,yr=/'|\\/g,y=new RegExp("\\\\([\\da-f]{1,6}"+i+"?|("+i+")|.)","ig"),p=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},bi=function(){d()};try{b.apply(nt=yi.call(c.childNodes),c.childNodes);nt[c.childNodes.length].nodeType}catch(pr){b={apply:nt.length?function(n,t){ur.apply(n,yi.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}u=r.support={};si=r.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?"HTML"!==t.nodeName:!1};d=r.setDocument=function(n){var v,s,r=n?n.ownerDocument||n:c;return r!==o&&9===r.nodeType&&r.documentElement?(o=r,h=r.documentElement,s=r.defaultView,s&&s!==s.top&&(s.addEventListener?s.addEventListener("unload",bi,!1):s.attachEvent&&s.attachEvent("onunload",bi)),a=!si(r),u.attributes=l(function(n){return n.className="i",!n.getAttribute("className")}),u.getElementsByTagName=l(function(n){return n.appendChild(r.createComment("")),!n.getElementsByTagName("*").length}),u.getElementsByClassName=ot.test(r.getElementsByClassName),u.getById=l(function(n){return h.appendChild(n).id=f,!r.getElementsByName||!r.getElementsByName(f).length}),u.getById?(t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&a){var i=t.getElementById(n);return i&&i.parentNode?[i]:[]}},t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}}):(delete t.find.ID,t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i="undefined"!=typeof n.getAttributeNode&&n.getAttributeNode("id");return i&&i.value===t}}),t.find.TAG=u.getElementsByTagName?function(n,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(n):u.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"===n){for(;i=u[f++];)1===i.nodeType&&r.push(i);return r}return u},t.find.CLASS=u.getElementsByClassName&&function(n,t){if(a)return t.getElementsByClassName(n)},g=[],e=[],(u.qsa=ot.test(r.querySelectorAll))&&(l(function(n){h.appendChild(n).innerHTML="<a id='"+f+"'><\/a><select id='"+f+"-\f]' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&e.push("[*^$]="+i+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||e.push("\\["+i+"*(?:value|"+ri+")");n.querySelectorAll("[id~="+f+"-]").length||e.push("~=");n.querySelectorAll(":checked").length||e.push(":checked");n.querySelectorAll("a#"+f+"+*").length||e.push(".#.+[+~]")}),l(function(n){var t=r.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&e.push("name"+i+"*[*^$|!~]?=");n.querySelectorAll(":enabled").length||e.push(":enabled",":disabled");n.querySelectorAll("*,:x");e.push(",.*:")})),(u.matchesSelector=ot.test(at=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&l(function(n){u.disconnectedMatch=at.call(n,"div");at.call(n,"[s!='']:x");g.push("!=",ui)}),e=e.length&&new RegExp(e.join("|")),g=g.length&&new RegExp(g.join("|")),v=ot.test(h.compareDocumentPosition),et=v||ot.test(h.contains)?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)for(;t=t.parentNode;)if(t===n)return!0;return!1},ii=v?function(n,t){if(n===t)return rt=!0,0;var i=!n.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1,1&i||!u.sortDetached&&t.compareDocumentPosition(n)===i?n===r||n.ownerDocument===c&&et(c,n)?-1:t===r||t.ownerDocument===c&&et(c,t)?1:w?tt(w,n)-tt(w,t):0:4&i?-1:1)}:function(n,t){if(n===t)return rt=!0,0;var i,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(!o||!s)return n===r?-1:t===r?1:o?-1:s?1:w?tt(w,n)-tt(w,t):0;if(o===s)return ei(n,t);for(i=n;i=i.parentNode;)f.unshift(i);for(i=t;i=i.parentNode;)e.unshift(i);for(;f[u]===e[u];)u++;return u?ei(f[u],e[u]):f[u]===c?-1:e[u]===c?1:0},r):o};r.matches=function(n,t){return r(n,null,null,t)};r.matchesSelector=function(n,t){if((n.ownerDocument||n)!==o&&d(n),t=t.replace(sr,"='$1']"),u.matchesSelector&&a&&(!g||!g.test(t))&&(!e||!e.test(t)))try{var i=at.call(n,t);if(i||u.disconnectedMatch||n.document&&11!==n.document.nodeType)return i}catch(f){}return r(t,o,null,[n]).length>0};r.contains=function(n,t){return(n.ownerDocument||n)!==o&&d(n),et(n,t)};r.attr=function(n,i){(n.ownerDocument||n)!==o&&d(n);var f=t.attrHandle[i.toLowerCase()],r=f&&ir.call(t.attrHandle,i.toLowerCase())?f(n,i,!a):void 0;return void 0!==r?r:u.attributes||!a?n.getAttribute(i):(r=n.getAttributeNode(i))&&r.specified?r.value:null};r.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};r.uniqueSort=function(n){var r,f=[],t=0,i=0;if(rt=!u.detectDuplicates,w=!u.sortStable&&n.slice(0),n.sort(ii),rt){for(;r=n[i++];)r===n[i]&&(t=f.push(i));for(;t--;)n.splice(f[t],1)}return w=null,n};ct=r.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=ct(n)}else if(3===t||4===t)return n.nodeValue}else for(;r=n[u++];)i+=ct(r);return i};t=r.selectors={cacheLength:50,createPseudo:s,match:yt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||r.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&r.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return yt.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&hr.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return"*"===n?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=ci[n+" "];return t||(t=new RegExp("(^|"+i+")"+n+"("+i+"|$)"))&&ci(n,function(n){return t.test("string"==typeof n.className&&n.className||"undefined"!=typeof n.getAttribute&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(u){var f=r.attr(u,n);return null==f?"!="===t:t?(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&f.indexOf(i)>-1:"$="===t?i&&f.slice(-i.length)===i:"~="===t?(" "+f.replace(fr," ")+" ").indexOf(i)>-1:"|="===t?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s="nth"!==n.slice(0,3),o="last"!==n.slice(-4),e="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,h){var a,k,c,l,y,w,b=s!==o?"nextSibling":"previousSibling",p=t.parentNode,g=e&&t.nodeName.toLowerCase(),d=!h&&!e;if(p){if(s){for(;b;){for(c=t;c=c[b];)if(e?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;w=b="only"===n&&!w&&"nextSibling"}return!0}if(w=[o?p.firstChild:p.lastChild],o&&d){for(k=p[f]||(p[f]={}),a=k[n]||[],y=a[0]===v&&a[1],l=a[0]===v&&a[2],c=y&&p.childNodes[y];c=++y&&c&&c[b]||(l=y=0)||w.pop();)if(1===c.nodeType&&++l&&c===t){k[n]=[v,y,l];break}}else if(d&&(a=(t[f]||(t[f]={}))[n])&&a[0]===v)l=a[1];else for(;(c=++y&&c&&c[b]||(l=y=0)||w.pop())&&((e?c.nodeName.toLowerCase()!==g:1!==c.nodeType)||!++l||(d&&((c[f]||(c[f]={}))[n]=[v,l]),c!==t)););return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var e,u=t.pseudos[n]||t.setFilters[n.toLowerCase()]||r.error("unsupported pseudo: "+n);return u[f]?u(i):u.length>1?(e=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?s(function(n,t){for(var r,f=u(n,i),e=f.length;e--;)r=tt(n,f[e]),n[r]=!(t[r]=f[e])}):function(n){return u(n,0,e)}):u}},pseudos:{not:s(function(n){var t=[],r=[],i=ti(n.replace(vt,"$1"));return i[f]?s(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:s(function(n){return function(t){return r(n,t).length>0}}),contains:s(function(n){return n=n.replace(y,p),function(t){return(t.textContent||t.innerText||ct(t)).indexOf(n)>-1}}),lang:s(function(n){return cr.test(n||"")||r.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=a?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===h},focus:function(n){return n===o.activeElement&&(!o.hasFocus||o.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return ar.test(n.nodeName)},input:function(n){return lr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||"text"===t.toLowerCase())},first:k(function(){return[0]}),last:k(function(n,t){return[t-1]}),eq:k(function(n,t,i){return[0>i?i+t:i]}),even:k(function(n,t){for(var i=0;t>i;i+=2)n.push(i);return n}),odd:k(function(n,t){for(var i=1;t>i;i+=2)n.push(i);return n}),lt:k(function(n,t,i){for(var r=0>i?i+t:i;--r>=0;)n.push(r);return n}),gt:k(function(n,t,i){for(var r=0>i?i+t:i;++r<t;)n.push(r);return n})}};t.pseudos.nth=t.pseudos.eq;for(it in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[it]=ki(it);for(it in{submit:!0,reset:!0})t.pseudos[it]=di(it);return oi.prototype=t.filters=t.pseudos,t.setFilters=new oi,ft=r.tokenize=function(n,i){var e,f,s,o,u,h,c,l=li[n+" "];if(l)return i?0:l.slice(0);for(u=n,h=[],c=t.preFilter;u;){(!e||(f=er.exec(u)))&&(f&&(u=u.slice(f[0].length)||u),h.push(s=[]));e=!1;(f=or.exec(u))&&(e=f.shift(),s.push({value:e,type:f[0].replace(vt," ")}),u=u.slice(e.length));for(o in t.filter)(f=yt[o].exec(u))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),u=u.slice(e.length));if(!e)break}return i?u.length:u?r.error(n):li(n,h).slice(0)},ti=r.compile=function(n,t){var r,u=[],e=[],i=ai[n+" "];if(!i){for(t||(t=ft(n)),r=t.length;r--;)i=ni(t[r]),i[f]?u.push(i):e.push(i);i=ai(n,nr(e,u));i.selector=n}return i},hi=r.select=function(n,i,r,f){var s,e,o,l,v,c="function"==typeof n&&n,h=!f&&ft(n=c.selector||n);if(r=r||[],1===h.length){if(e=h[0]=h[0].slice(0),e.length>2&&"ID"===(o=e[0]).type&&u.getById&&9===i.nodeType&&a&&t.relative[e[1].type]){if(i=(t.find.ID(o.matches[0].replace(y,p),i)||[])[0],!i)return r;c&&(i=i.parentNode);n=n.slice(e.shift().value.length)}for(s=yt.needsContext.test(n)?0:e.length;s--&&(o=e[s],!t.relative[l=o.type]);)if((v=t.find[l])&&(f=v(o.matches[0].replace(y,p),fi.test(e[0].type)&&bt(i.parentNode)||i))){if(e.splice(s,1),n=f.length&&st(e),!n)return b.apply(r,f),r;break}}return(c||ti(n,h))(f,i,!a,r,fi.test(n)&&bt(i.parentNode)||i),r},u.sortStable=f.split("").sort(ii).join("")===f,u.detectDuplicates=!!rt,d(),u.sortDetached=l(function(n){return 1&n.compareDocumentPosition(o.createElement("div"))}),l(function(n){return n.innerHTML="<a href='#'><\/a>","#"===n.firstChild.getAttribute("href")})||wt("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,"type"===t.toLowerCase()?1:2)}),u.attributes&&l(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),""===n.firstChild.getAttribute("value")})||wt("value",function(n,t,i){if(!i&&"input"===n.nodeName.toLowerCase())return n.defaultValue}),l(function(n){return null==n.getAttribute("disabled")})||wt(ri,function(n,t,i){var r;if(!i)return n[t]===!0?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),r}(n);i.find=y;i.expr=y.selectors;i.expr[":"]=i.expr.pseudos;i.unique=y.uniqueSort;i.text=y.getText;i.isXMLDoc=y.isXML;i.contains=y.contains;var pr=i.expr.match.needsContext,wr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,yf=/^.[^:#\[\.,]*$/;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),1===t.length&&1===u.nodeType?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return 1===n.nodeType}))};i.fn.extend({find:function(n){var t,u=this.length,r=[],f=this;if("string"!=typeof n)return this.pushStack(i(n).filter(function(){for(t=0;u>t;t++)if(i.contains(f[t],this))return!0}));for(t=0;u>t;t++)i.find(n,f[t],r);return r=this.pushStack(u>1?i.unique(r):r),r.selector=this.selector?this.selector+" "+n:n,r},filter:function(n){return this.pushStack(ii(this,n||[],!1))},not:function(n){return this.pushStack(ii(this,n||[],!0))},is:function(n){return!!ii(this,"string"==typeof n&&pr.test(n)?i(n):n||[],!1).length}});br=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;kr=i.fn.init=function(n,t){var r,f;if(!n)return this;if("string"==typeof n){if(r="<"===n[0]&&">"===n[n.length-1]&&n.length>=3?[null,n,null]:br.exec(n),!r||!r[1]&&t)return!t||t.jquery?(t||ct).find(n):this.constructor(t).find(n);if(r[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:u,!0)),wr.test(r[1])&&i.isPlainObject(t))for(r in t)i.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return f=u.getElementById(r[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=u,this.selector=n,this}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?"undefined"!=typeof ct.ready?ct.ready(n):n(i):(void 0!==n.selector&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))};kr.prototype=i.fn;ct=i(u);dr=/^(?:parents|prev(?:Until|All))/;gr={children:!0,contents:!0,next:!0,prev:!0};i.extend({dir:function(n,t,r){for(var u=[],f=void 0!==r;(n=n[t])&&9!==n.nodeType;)if(1===n.nodeType){if(f&&i(n).is(r))break;u.push(n)}return u},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i}});i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;r>n;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=pr.test(n)||"string"!=typeof n?i(n,t||this.context):0;o>f;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:1===r.nodeType&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.unique(u):u)},index:function(n){return n?"string"==typeof n?st.call(i(n),this[0]):st.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.unique(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return wi(n,"nextSibling")},prev:function(n){return wi(n,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return n.contentDocument||i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return"Until"!==n.slice(-5)&&(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),this.length>1&&(gr[n]||i.unique(f),dr.test(n)&&f.reverse()),this.pushStack(f)}});c=/\S+/g;hi={};i.Callbacks=function(n){n="string"==typeof n?hi[n]||nf(n):i.extend({},n);var u,h,o,c,f,e,t=[],r=!n.once&&[],l=function(i){for(u=n.memory&&i,h=!0,e=c||0,c=0,f=t.length,o=!0;t&&f>e;e++)if(t[e].apply(i[0],i[1])===!1&&n.stopOnFalse){u=!1;break}o=!1;t&&(r?r.length&&l(r.shift()):u?t=[]:s.disable())},s={add:function(){if(t){var r=t.length;!function e(r){i.each(r,function(r,u){var f=i.type(u);"function"===f?n.unique&&s.has(u)||t.push(u):u&&u.length&&"string"!==f&&e(u)})}(arguments);o?f=t.length:u&&(c=r,l(u))}return this},remove:function(){return t&&i.each(arguments,function(n,r){for(var u;(u=i.inArray(r,t,u))>-1;)t.splice(u,1),o&&(f>=u&&f--,e>=u&&e--)}),this},has:function(n){return n?i.inArray(n,t)>-1:!(!t||!t.length)},empty:function(){return t=[],f=0,this},disable:function(){return t=r=u=void 0,this},disabled:function(){return!t},lock:function(){return r=void 0,u||s.disable(),this},locked:function(){return!r},fireWith:function(n,i){return!t||h&&!r||(i=i||[],i=[n,i.slice?i.slice():i],o?r.push(i):l(i)),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!h}};return s};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().done(f.resolve).fail(f.reject).progress(f.notify):f[e[0]+"With"](this===r?f.promise():this,o?[n]:arguments)})});n=null}).promise()},promise:function(n){return null!=n?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[1^n][2].disable,u[2][2].lock);t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this};t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var o,h,s,t=0,u=v.call(arguments),r=u.length,e=1!==r||n&&i.isFunction(n.promise)?r:0,f=1===e?n:i.Deferred(),c=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?v.call(arguments):r;i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}};if(r>1)for(o=new Array(r),h=new Array(r),s=new Array(r);r>t;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().done(c(t,s,u)).fail(f.reject).progress(c(t,h,o)):--e;return e||f.resolveWith(s,u),f.promise()}});i.fn.ready=function(n){return i.ready.promise().done(n),this};i.extend({isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0||(lt.resolveWith(u,[i]),i.fn.triggerHandler&&(i(u).triggerHandler("ready"),i(u).off("ready"))))}});i.ready.promise=function(t){return lt||(lt=i.Deferred(),"complete"===u.readyState?setTimeout(i.ready):(u.addEventListener("DOMContentLoaded",ft,!1),n.addEventListener("load",ft,!1))),lt.promise(t)};i.ready.promise();l=i.access=function(n,t,r,u,f,e,o){var s=0,c=n.length,h=null==r;if("object"===i.type(r)){f=!0;for(s in r)i.access(n,t,s,r[s],!0,e,o)}else if(void 0!==u&&(f=!0,i.isFunction(u)||(o=!0),h&&(o?(t.call(n,u),t=null):(h=t,t=function(n,t,r){return h.call(i(n),r)})),t))for(;c>s;s++)t(n[s],r,o?u:u.call(n[s],s,t(n[s],r)));return f?n:h?t.call(n):c?t(n[0],r):e};i.acceptData=function(n){return 1===n.nodeType||9===n.nodeType||!+n.nodeType};a.uid=1;a.accepts=i.acceptData;a.prototype={key:function(n){if(!a.accepts(n))return 0;var r={},t=n[this.expando];if(!t){t=a.uid++;try{r[this.expando]={value:t};Object.defineProperties(n,r)}catch(u){r[this.expando]=t;i.extend(n,r)}}return this.cache[t]||(this.cache[t]={}),t},set:function(n,t,r){var f,e=this.key(n),u=this.cache[e];if("string"==typeof t)u[t]=r;else if(i.isEmptyObject(u))i.extend(this.cache[e],t);else for(f in t)u[f]=t[f];return u},get:function(n,t){var i=this.cache[this.key(n)];return void 0===t?i:i[t]},access:function(n,t,r){var u;return void 0===t||t&&"string"==typeof t&&void 0===r?(u=this.get(n,t),void 0!==u?u:this.get(n,i.camelCase(t))):(this.set(n,t,r),void 0!==r?r:t)},remove:function(n,t){var u,r,f,o=this.key(n),e=this.cache[o];if(void 0===t)this.cache[o]={};else for(i.isArray(t)?r=t.concat(t.map(i.camelCase)):(f=i.camelCase(t),(t in e)?r=[t,f]:(r=f,r=(r in e)?[r]:r.match(c)||[])),u=r.length;u--;)delete e[r[u]]},hasData:function(n){return!i.isEmptyObject(this.cache[n[this.expando]]||{})},discard:function(n){n[this.expando]&&delete this.cache[n[this.expando]]}};var r=new a,e=new a,pf=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wf=/([A-Z])/g;i.extend({hasData:function(n){return e.hasData(n)||r.hasData(n)},data:function(n,t,i){return e.access(n,t,i)},removeData:function(n,t){e.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var o,f,s,u=this[0],h=u&&u.attributes;if(void 0===n){if(this.length&&(s=e.get(u),1===u.nodeType&&!r.get(u,"hasDataAttrs"))){for(o=h.length;o--;)h[o]&&(f=h[o].name,0===f.indexOf("data-")&&(f=i.camelCase(f.slice(5)),bi(u,f,s[f])));r.set(u,"hasDataAttrs",!0)}return s}return"object"==typeof n?this.each(function(){e.set(this,n)}):l(this,function(t){var r,f=i.camelCase(n);if(u&&void 0===t){if((r=e.get(u,n),void 0!==r)||(r=e.get(u,f),void 0!==r)||(r=bi(u,f,void 0),void 0!==r))return r}else this.each(function(){var i=e.get(this,f);e.set(this,f,t);-1!==n.indexOf("-")&&void 0!==i&&e.set(this,n,t)})},null,t,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){e.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return(t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||i.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[])},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};"inprogress"===u&&(u=r.shift(),e--);u&&("fx"===t&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return"string"!=typeof n&&(t=n,n="fx",r--),arguments.length<r?i.queue(this[0],n):void 0===t?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);"fx"===n&&"inprogress"!==r[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for("string"!=typeof n&&(t=n,n=void 0),n=n||"fx";s--;)u=r.get(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var at=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,p=["Top","Right","Bottom","Left"],it=function(n,t){return n=t||n,"none"===i.css(n,"display")||!i.contains(n.ownerDocument,n)},nu=/^(?:checkbox|radio)$/i;!function(){var i=u.createDocumentFragment(),n=i.appendChild(u.createElement("div")),t=u.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);f.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;n.innerHTML="<textarea>x<\/textarea>";f.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue}();k="undefined";f.focusinBubbles="onfocusin"in n;var bf=/^key/,kf=/^(?:mouse|pointer|contextmenu)|click/,tu=/^(?:focusinfocus|focusoutblur)$/,iu=/^([^.]*)(?:\.(.+)|)$/;i.event={global:{},add:function(n,t,u,f,e){var v,y,w,p,b,h,s,l,o,d,g,a=r.get(n);if(a)for(u.handler&&(v=u,u=v.handler,e=v.selector),u.guid||(u.guid=i.guid++),(p=a.events)||(p=a.events={}),(y=a.handle)||(y=a.handle=function(t){if(typeof i!==k&&i.event.triggered!==t.type)return i.event.dispatch.apply(n,arguments)}),t=(t||"").match(c)||[""],b=t.length;b--;)w=iu.exec(t[b])||[],o=g=w[1],d=(w[2]||"").split(".").sort(),o&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},h=i.extend({type:o,origType:g,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:d.join(".")},v),(l=p[o])||(l=p[o]=[],l.delegateCount=0,s.setup&&s.setup.call(n,f,d,y)!==!1||n.addEventListener&&n.addEventListener(o,y,!1)),s.add&&(s.add.call(n,h),h.handler.guid||(h.handler.guid=u.guid)),e?l.splice(l.delegateCount++,0,h):l.push(h),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var p,k,h,v,w,s,l,a,o,b,d,y=r.hasData(n)&&r.get(n);if(y&&(v=y.events)){for(t=(t||"").match(c)||[""],w=t.length;w--;)if(h=iu.exec(t[w])||[],o=d=h[1],b=(h[2]||"").split(".").sort(),o){for(l=i.event.special[o]||{},o=(f?l.delegateType:l.bindType)||o,a=v[o]||[],h=h[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=p=a.length;p--;)s=a[p],!e&&d!==s.origType||u&&u.guid!==s.guid||h&&!h.test(s.namespace)||f&&f!==s.selector&&("**"!==f||!s.selector)||(a.splice(p,1),s.selector&&a.delegateCount--,l.remove&&l.remove.call(n,s));k&&!a.length&&(l.teardown&&l.teardown.call(n,b,y.handle)!==!1||i.removeEvent(n,o,y.handle),delete v[o])}else for(o in v)i.event.remove(n,o+t[w],u,f,!0);i.isEmptyObject(v)&&(delete y.handle,r.remove(n,"events"))}},trigger:function(t,f,e,o){var w,s,c,b,a,v,l,p=[e||u],h=si.call(t,"type")?t.type:t,y=si.call(t,"namespace")?t.namespace.split("."):[];if(s=c=e=e||u,3!==e.nodeType&&8!==e.nodeType&&!tu.test(h+i.event.triggered)&&(h.indexOf(".")>=0&&(y=h.split("."),h=y.shift(),y.sort()),a=h.indexOf(":")<0&&"on"+h,t=t[i.expando]?t:new i.Event(h,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=y.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=e),f=null==f?[t]:i.makeArray(f,[t]),l=i.event.special[h]||{},o||!l.trigger||l.trigger.apply(e,f)!==!1)){if(!o&&!l.noBubble&&!i.isWindow(e)){for(b=l.delegateType||h,tu.test(b+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),c=s;c===(e.ownerDocument||u)&&p.push(c.defaultView||c.parentWindow||n)}for(w=0;(s=p[w++])&&!t.isPropagationStopped();)t.type=w>1?b:l.bindType||h,v=(r.get(s,"events")||{})[t.type]&&r.get(s,"handle"),v&&v.apply(s,f),v=a&&s[a],v&&v.apply&&i.acceptData(s)&&(t.result=v.apply(s,f),t.result===!1&&t.preventDefault());return t.type=h,o||t.isDefaultPrevented()||l._default&&l._default.apply(p.pop(),f)!==!1||!i.acceptData(e)||a&&i.isFunction(e[h])&&!i.isWindow(e)&&(c=e[a],c&&(e[a]=null),i.event.triggered=h,e[h](),i.event.triggered=void 0,c&&(e[a]=c)),t.result}},dispatch:function(n){n=i.event.fix(n);var o,s,e,u,t,h=[],c=v.call(arguments),l=(r.get(this,"events")||{})[n.type]||[],f=i.event.special[n.type]||{};if(c[0]=n,n.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,n)!==!1){for(h=i.event.handlers.call(this,n,l),o=0;(u=h[o++])&&!n.isPropagationStopped();)for(n.currentTarget=u.elem,s=0;(t=u.handlers[s++])&&!n.isImmediatePropagationStopped();)n.namespace_re&&!n.namespace_re.test(t.namespace)||(n.handleObj=t,n.data=t.data,e=((i.event.special[t.origType]||{}).handle||t.handler).apply(u.elem,c),void 0!==e&&(n.result=e)===!1&&(n.preventDefault(),n.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,n),n.result}},handlers:function(n,t){var e,u,f,o,h=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&(!n.button||"click"!==n.type))for(;r!==this;r=r.parentNode||this)if(r.disabled!==!0||"click"!==n.type){for(u=[],e=0;s>e;e++)o=t[e],f=o.selector+" ",void 0===u[f]&&(u[f]=o.needsContext?i(f,this).index(r)>=0:i.find(f,this,null,[r]).length),u[f]&&u.push(o);u.length&&h.push({elem:r,handlers:u})}return s<t.length&&h.push({elem:this,handlers:t.slice(s)}),h},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return null==n.which&&(n.which=null!=t.charCode?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,t){var e,i,r,f=t.button;return null==n.pageX&&null!=t.clientX&&(e=n.target.ownerDocument||u,i=e.documentElement,r=e.body,n.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),n.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),n.which||void 0===f||(n.which=1&f?1:2&f?3:4&f?2:0),n}},fix:function(n){if(n[i.expando])return n;var f,e,o,r=n.type,s=n,t=this.fixHooks[r];for(t||(this.fixHooks[r]=t=kf.test(r)?this.mouseHooks:bf.test(r)?this.keyHooks:{}),o=t.props?this.props.concat(t.props):this.props,n=new i.Event(s),f=o.length;f--;)e=o[f],n[e]=s[e];return n.target||(n.target=u),3===n.target.nodeType&&(n.target=n.target.parentNode),t.filter?t.filter(n,s):n},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ki()&&this.focus)return(this.focus(),!1)},delegateType:"focusin"},blur:{trigger:function(){if(this===ki()&&this.blur)return(this.blur(),!1)},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&i.nodeName(this,"input"))return(this.click(),!1)},_default:function(n){return i.nodeName(n.target,"a")}},beforeunload:{postDispatch:function(n){void 0!==n.result&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f);f.isDefaultPrevented()&&r.preventDefault()}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)};i.Event=function(n,t){return this instanceof i.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||void 0===n.defaultPrevented&&n.returnValue===!1?et:w):this.type=n,t&&i.extend(this,t),this.timeStamp=n&&n.timeStamp||i.now(),void(this[i.expando]=!0)):new i.Event(n,t)};i.Event.prototype={isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=et;n&&n.preventDefault&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=et;n&&n.stopPropagation&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=et;n&&n.stopImmediatePropagation&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});f.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){var i=this.ownerDocument||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});i.fn.extend({on:function(n,t,r,u,f){var e,o;if("object"==typeof n){"string"!=typeof t&&(r=r||t,t=void 0);for(o in n)this.on(o,t,r,n[o],f);return this}if(null==r&&null==u?(u=t,r=t=void 0):null==u&&("string"==typeof t?(u=r,r=void 0):(u=r,r=t,t=void 0)),u===!1)u=w;else if(!u)return this;return 1===f&&(e=u,u=function(n){return i().off(n),e.apply(this,arguments)},u.guid=e.guid||(e.guid=i.guid++)),this.each(function(){i.event.add(this,n,u,r,t)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if("object"==typeof n){for(f in n)this.off(f,t,n[f]);return this}return t!==!1&&"function"!=typeof t||(r=t,t=void 0),r===!1&&(r=w),this.each(function(){i.event.remove(this,n,r,t)})},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});var ru=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,uu=/<([\w:]+)/,df=/<|&#?\w+;/,gf=/<(?:script|style|link)/i,ne=/checked\s*(?:[^=]|=\s*.checked.)/i,fu=/^$|\/(?:java|ecma)script/i,te=/^true\/(.*)/,ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,h={option:[1,"<select multiple='multiple'>","<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};h.optgroup=h.option;h.tbody=h.tfoot=h.colgroup=h.caption=h.thead;h.th=h.td;i.extend({clone:function(n,t,r){var u,c,s,e,h=n.cloneNode(!0),l=i.contains(n.ownerDocument,n);if(!(f.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(e=o(h),s=o(n),u=0,c=s.length;c>u;u++)uf(s[u],e[u]);if(t)if(r)for(s=s||o(n),e=e||o(h),u=0,c=s.length;c>u;u++)gi(s[u],e[u]);else gi(n,h);return e=o(h,"script"),e.length>0&&ri(e,!l&&o(n,"script")),h},buildFragment:function(n,t,r,u){for(var f,e,y,l,p,a,s=t.createDocumentFragment(),v=[],c=0,w=n.length;w>c;c++)if(f=n[c],f||0===f)if("object"===i.type(f))i.merge(v,f.nodeType?[f]:f);else if(df.test(f)){for(e=e||s.appendChild(t.createElement("div")),y=(uu.exec(f)||["",""])[1].toLowerCase(),l=h[y]||h._default,e.innerHTML=l[1]+f.replace(ru,"<$1><\/$2>")+l[2],a=l[0];a--;)e=e.lastChild;i.merge(v,e.childNodes);e=s.firstChild;e.textContent=""}else v.push(t.createTextNode(f));for(s.textContent="",c=0;f=v[c++];)if((!u||-1===i.inArray(f,u))&&(p=i.contains(f.ownerDocument,f),e=o(s.appendChild(f),"script"),p&&ri(e),r))for(a=0;f=e[a++];)fu.test(f.type||"")&&r.push(f);return s},cleanData:function(n){for(var f,t,o,u,h=i.event.special,s=0;void 0!==(t=n[s]);s++){if(i.acceptData(t)&&(u=t[r.expando],u&&(f=r.cache[u]))){if(f.events)for(o in f.events)h[o]?i.event.remove(t,o):i.removeEvent(t,o,f.handle);r.cache[u]&&delete r.cache[u]}delete e.cache[t[e.expando]]}}});i.fn.extend({text:function(n){return l(this,function(n){return void 0===n?i.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=n)})},null,n,arguments.length)},append:function(){return this.domManip(arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=di(this,n);t.appendChild(n)}})},prepend:function(){return this.domManip(arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=di(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},remove:function(n,t){for(var r,f=n?i.filter(n,this):this,u=0;null!=(r=f[u]);u++)t||1!==r.nodeType||i.cleanData(o(r)),r.parentNode&&(t&&i.contains(r.ownerDocument,r)&&ri(o(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var n,t=0;null!=(n=this[t]);t++)1===n.nodeType&&(i.cleanData(o(n,!1)),n.textContent="");return this},clone:function(n,t){return n=null==n?!1:n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return l(this,function(n){var t=this[0]||{},r=0,u=this.length;if(void 0===n&&1===t.nodeType)return t.innerHTML;if("string"==typeof n&&!gf.test(n)&&!h[(uu.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(ru,"<$1><\/$2>");try{for(;u>r;r++)t=this[r]||{},1===t.nodeType&&(i.cleanData(o(t,!1)),t.innerHTML=n);t=0}catch(f){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=arguments[0];return this.domManip(arguments,function(t){n=this.parentNode;i.cleanData(o(this));n&&n.replaceChild(t,this)}),n&&(n.length||n.nodeType)?this:this.remove()},detach:function(n){return this.remove(n,!0)},domManip:function(n,t){n=vr.apply([],n);var h,v,s,c,u,y,e=0,l=this.length,w=this,b=l-1,a=n[0],p=i.isFunction(a);if(p||l>1&&"string"==typeof a&&!f.checkClone&&ne.test(a))return this.each(function(i){var r=w.eq(i);p&&(n[0]=a.call(this,i,r.html()));r.domManip(n,t)});if(l&&(h=i.buildFragment(n,this[0].ownerDocument,!1,this),v=h.firstChild,1===h.childNodes.length&&(h=v),v)){for(s=i.map(o(h,"script"),tf),c=s.length;l>e;e++)u=h,e!==b&&(u=i.clone(u,!0,!0),c&&i.merge(s,o(u,"script"))),t.call(this[e],u,e);if(c)for(y=s[s.length-1].ownerDocument,i.map(s,rf),e=0;c>e;e++)u=s[e],fu.test(u.type||"")&&!r.access(u,"globalEval")&&i.contains(y,u)&&(u.src?i._evalUrl&&i._evalUrl(u.src):i.globalEval(u.textContent.replace(ie,"")))}return this}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;o>=r;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),oi.apply(f,u.get());return this.pushStack(f)}});var vt,eu={},ou=/^margin/,ci=new RegExp("^("+at+")(?!px)[a-z%]+$","i"),yt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):n.getComputedStyle(t,null)};!function(){function s(){t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";t.innerHTML="";e.appendChild(r);var i=n.getComputedStyle(t,null);h="1%"!==i.top;o="4px"===i.width;e.removeChild(r)}var h,o,e=u.documentElement,r=u.createElement("div"),t=u.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===t.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(t),n.getComputedStyle&&i.extend(f,{pixelPosition:function(){return s(),h},boxSizingReliable:function(){return null==o&&s(),o},reliableMarginRight:function(){var f,i=t.appendChild(u.createElement("div"));return i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",e.appendChild(r),f=!parseFloat(n.getComputedStyle(i,null).marginRight),e.removeChild(r),t.removeChild(i),f}}))}();i.swap=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f};var re=/^(none|table(?!-c[ea]).+)/,ue=new RegExp("^("+at+")(.*)$","i"),fe=new RegExp("^([+-])=("+at+")","i"),ee={position:"absolute",visibility:"hidden",display:"block"},su={letterSpacing:"0",fontWeight:"400"},hu=["Webkit","O","Moz","ms"];i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=tt(n,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(n,t,r,u){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var o,h,e,s=i.camelCase(t),c=n.style;return t=i.cssProps[s]||(i.cssProps[s]=ir(c,s)),e=i.cssHooks[t]||i.cssHooks[s],void 0===r?e&&"get"in e&&void 0!==(o=e.get(n,!1,u))?o:c[t]:(h=typeof r,"string"===h&&(o=fe.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(i.css(n,t)),h="number"),null!=r&&r===r&&("number"!==h||i.cssNumber[s]||(r+="px"),f.clearCloneStyle||""!==r||0!==t.indexOf("background")||(c[t]="inherit"),e&&"set"in e&&void 0===(r=e.set(n,r,u))||(c[t]=r)),void 0)}},css:function(n,t,r,u){var f,s,e,o=i.camelCase(t);return t=i.cssProps[o]||(i.cssProps[o]=ir(n.style,o)),e=i.cssHooks[t]||i.cssHooks[o],e&&"get"in e&&(f=e.get(n,!0,r)),void 0===f&&(f=tt(n,t,u)),"normal"===f&&t in su&&(f=su[t]),""===r||r?(s=parseFloat(f),r===!0||i.isNumeric(s)?s||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return re.test(i.css(n,"display"))&&0===n.offsetWidth?i.swap(n,ee,function(){return fr(n,t,u)}):fr(n,t,u)},set:function(n,r,u){var f=u&&yt(n);return rr(n,r,u?ur(n,t,u,"border-box"===i.css(n,"boxSizing",!1,f),f):0)}}});i.cssHooks.marginRight=tr(f.reliableMarginRight,function(n,t){if(t)return i.swap(n,{display:"inline-block"},tt,[n,"marginRight"])});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];4>r;r++)f[n+p[r]+t]=u[r]||u[r-2]||u[0];return f}};ou.test(n)||(i.cssHooks[n+t].set=rr)});i.fn.extend({css:function(n,t){return l(this,function(n,t,r){var f,e,o={},u=0;if(i.isArray(t)){for(f=yt(n),e=t.length;e>u;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return void 0!==r?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)},show:function(){return er(this,!0)},hide:function(){return er(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each(function(){it(this)?i(this).show():i(this).hide()})}});i.Tween=s;s.prototype={constructor:s,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||"swing";this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=s.propHooks[this.prop];return n&&n.get?n.get(this):s.propHooks._default.get(this)},run:function(n){var t,r=s.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):s.propHooks._default.set(this),this}};s.prototype.init.prototype=s.prototype;s.propHooks={_default:{get:function(n){var t;return null==n.elem[n.prop]||n.elem.style&&null!=n.elem.style[n.prop]?(t=i.css(n.elem,n.prop,""),t&&"auto"!==t?t:0):n.elem[n.prop]},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.style&&(null!=n.elem.style[i.cssProps[n.prop]]||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};s.propHooks.scrollTop=s.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}};i.fx=s.prototype.init;i.fx.step={};var d,pt,oe=/^(?:toggle|show|hide)$/,cu=new RegExp("^(?:([+-])=|)("+at+")([a-z%]*)$","i"),se=/queueHooks$/,wt=[ff],rt={"*":[function(n,t){var f=this.createTween(n,t),s=f.cur(),r=cu.exec(t),e=r&&r[3]||(i.cssNumber[n]?"":"px"),u=(i.cssNumber[n]||"px"!==e&&+s)&&cu.exec(i.css(f.elem,n)),o=1,h=20;if(u&&u[3]!==e){e=e||u[3];r=r||[];u=+s||1;do o=o||".5",u/=o,i.style(f.elem,n,u+e);while(o!==(o=f.cur()/s)&&1!==o&&--h)}return r&&(u=f.start=+u||+s||0,f.unit=e,f.end=r[1]?u+(r[1]+1)*r[2]:+r[2]),f}]};i.Animation=i.extend(hr,{tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.split(" ");for(var r,u=0,f=n.length;f>u;u++)r=n[u],rt[r]=rt[r]||[],rt[r].unshift(t)},prefilter:function(n,t){t?wt.unshift(n):wt.push(n)}});i.speed=function(n,t,r){var u=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:"number"==typeof u.duration?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,null!=u.queue&&u.queue!==!0||(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(it).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=hr(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||o.queue===!1?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return"string"!=typeof n&&(u=t,t=n,n=void 0),t&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=null!=n&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&se.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem!==this||null!=n&&o[t].queue!==n||(o[t].anim.stop(u),s=!1,o.splice(t,1));!s&&u||i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;s>t;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(ot(t,!0),n,i,u)}});i.each({slideDown:ot("show"),slideUp:ot("hide"),slideToggle:ot("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(d=i.now();n<t.length;n++)r=t[n],r()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();d=void 0};i.fx.timer=function(n){i.timers.push(n);n()?i.fx.start():i.timers.pop()};i.fx.interval=13;i.fx.start=function(){pt||(pt=setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){clearInterval(pt);pt=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},function(){var n=u.createElement("input"),t=u.createElement("select"),i=t.appendChild(u.createElement("option"));n.type="checkbox";f.checkOn=""!==n.value;f.optSelected=i.selected;t.disabled=!0;f.optDisabled=!i.disabled;n=u.createElement("input");n.value="t";n.type="radio";f.radioValue="t"===n.value}();g=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return l(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(n&&3!==e&&8!==e&&2!==e)return typeof n.getAttribute===k?i.prop(n,t,r):(1===e&&i.isXMLDoc(n)||(t=t.toLowerCase(),u=i.attrHooks[t]||(i.expr.match.bool.test(t)?lu:he)),void 0===r?u&&"get"in u&&null!==(f=u.get(n,t))?f:(f=i.find.attr(n,t),null==f?void 0:f):null!==r?u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:(n.setAttribute(t,r+""),r):void i.removeAttr(n,t))},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(c);if(f&&1===n.nodeType)for(;r=f[e++];)u=i.propFix[r]||r,i.expr.match.bool.test(r)&&(n[u]=!1),n.removeAttribute(r)},attrHooks:{type:{set:function(n,t){if(!f.radioValue&&"radio"===t&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}}}});lu={set:function(n,t,r){return t===!1?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=g[t]||i.find.attr;g[t]=function(n,t,i){var u,f;return i||(f=g[t],g[t]=u,u=null!=r(n,t,i)?t.toLowerCase():null,g[t]=f),u}});au=/^(?:input|select|textarea|button)$/i;i.fn.extend({prop:function(n,t){return l(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(n,t,r){var f,u,o,e=n.nodeType;if(n&&3!==e&&8!==e&&2!==e)return o=1!==e||!i.isXMLDoc(n),o&&(t=i.propFix[t]||t,u=i.propHooks[t]),void 0!==r?u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:n[t]=r:u&&"get"in u&&null!==(f=u.get(n,t))?f:n[t]},propHooks:{tabIndex:{get:function(n){return n.hasAttribute("tabindex")||au.test(n.nodeName)||n.href?n.tabIndex:-1}}}});f.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});bt=/[\t\r\n\f]/g;i.fn.extend({addClass:function(n){var o,t,r,u,s,f,h="string"==typeof n&&n,e=0,l=this.length;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(h)for(o=(n||"").match(c)||[];l>e;e++)if(t=this[e],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(bt," "):" ")){for(s=0;u=o[s++];)r.indexOf(" "+u+" ")<0&&(r+=u+" ");f=i.trim(r);t.className!==f&&(t.className=f)}return this},removeClass:function(n){var o,t,r,u,s,f,h=0===arguments.length||"string"==typeof n&&n,e=0,l=this.length;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(h)for(o=(n||"").match(c)||[];l>e;e++)if(t=this[e],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(bt," "):"")){for(s=0;u=o[s++];)for(;r.indexOf(" "+u+" ")>=0;)r=r.replace(" "+u+" "," ");f=n?i.trim(r):"";t.className!==f&&(t.className=f)}return this},toggleClass:function(n,t){var u=typeof n;return"boolean"==typeof t&&"string"===u?t?this.addClass(n):this.removeClass(n):i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}):this.each(function(){if("string"===u)for(var t,e=0,f=i(this),o=n.match(c)||[];t=o[e++];)f.hasClass(t)?f.removeClass(t):f.addClass(t);else u!==k&&"boolean"!==u||(this.className&&r.set(this,"__className__",this.className),this.className=this.className||n===!1?"":r.get(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;r>t;t++)if(1===this[t].nodeType&&(" "+this[t].className+" ").replace(bt," ").indexOf(i)>=0)return!0;return!1}});vu=/\r/g;i.fn.extend({val:function(n){var t,r,f,u=this[0];return arguments.length?(f=i.isFunction(n),this.each(function(r){var u;1===this.nodeType&&(u=f?n.call(this,r,i(this).val()):n,null==u?u="":"number"==typeof u?u+="":i.isArray(u)&&(u=i.map(u,function(n){return null==n?"":n+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,u,"value")||(this.value=u))})):u?(t=i.valHooks[u.type]||i.valHooks[u.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(u,"value"))?r:(r=u.value,"string"==typeof r?r.replace(vu,""):null==r?"":r)):void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return null!=t?t:i.trim(i.text(n))}},select:{get:function(n){for(var o,t,s=n.options,r=n.selectedIndex,u="select-one"===n.type||0>r,h=u?null:[],c=u?r+1:s.length,e=0>r?c:u?r:0;c>e;e++)if(t=s[e],(t.selected||e===r)&&(f.optDisabled?!t.disabled:null===t.getAttribute("disabled"))&&(!t.parentNode.disabled||!i.nodeName(t.parentNode,"optgroup"))){if(o=i(t).val(),u)return o;h.push(o)}return h},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(r.value,e)>=0)&&(u=!0);return u||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>=0}};f.checkOn||(i.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)}});kt=i.now();dt=/\?/;i.parseJSON=function(n){return JSON.parse(n+"")};i.parseXML=function(n){var t,r;if(!n||"string"!=typeof n)return null;try{r=new DOMParser;t=r.parseFromString(n,"text/xml")}catch(u){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+n),t};var ce=/#.*$/,yu=/([?&])_=[^&]*/,le=/^(.*?):[ \t]*([^\r\n]*)$/gm,ae=/^(?:GET|HEAD)$/,ve=/^\/\//,pu=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,wu={},li={},bu="*/".concat("*"),ai=n.location.href,nt=pu.exec(ai.toLowerCase())||[];i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ai,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(nt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?fi(fi(n,i.ajaxSettings),t):fi(i.ajaxSettings,n)},ajaxPrefilter:cr(wu),ajaxTransport:cr(li),ajax:function(n,t){function v(n,t,s,h){var v,it,tt,y,nt,c=t;2!==e&&(e=2,b&&clearTimeout(b),l=void 0,w=h||"",u.readyState=n>0?4:0,v=n>=200&&300>n||304===n,s&&(y=of(r,u,s)),y=sf(r,y,u,v),v?(r.ifModified&&(nt=u.getResponseHeader("Last-Modified"),nt&&(i.lastModified[f]=nt),nt=u.getResponseHeader("etag"),nt&&(i.etag[f]=nt)),204===n||"HEAD"===r.type?c="nocontent":304===n?c="notmodified":(c=y.state,it=y.data,tt=y.error,v=!tt)):(tt=c,!n&&c||(c="error",0>n&&(n=0))),u.status=n,u.statusText=(t||c)+"",v?d.resolveWith(o,[it,c,u]):d.rejectWith(o,[u,c,tt]),u.statusCode(p),p=void 0,a&&k.trigger(v?"ajaxSuccess":"ajaxError",[u,r,v?it:tt]),g.fireWith(o,[u,c]),a&&(k.trigger("ajaxComplete",[u,r]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof n&&(t=n,n=void 0);t=t||{};var l,f,w,y,b,s,a,h,r=i.ajaxSetup({},t),o=r.context||r,k=r.context&&(o.nodeType||o.jquery)?i(o):i.event,d=i.Deferred(),g=i.Callbacks("once memory"),p=r.statusCode||{},tt={},it={},e=0,rt="canceled",u={readyState:0,getResponseHeader:function(n){var t;if(2===e){if(!y)for(y={};t=le.exec(w);)y[t[1].toLowerCase()]=t[2];t=y[n.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===e?w:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return e||(n=it[i]=it[i]||n,tt[n]=t),this},overrideMimeType:function(n){return e||(r.mimeType=n),this},statusCode:function(n){var t;if(n)if(2>e)for(t in n)p[t]=[p[t],n[t]];else u.always(n[u.status]);return this},abort:function(n){var t=n||rt;return l&&l.abort(t),v(0,t),this}};if(d.promise(u).complete=g.add,u.success=u.done,u.error=u.fail,r.url=((n||r.url||ai)+"").replace(ce,"").replace(ve,nt[1]+"//"),r.type=t.method||t.type||r.method||r.type,r.dataTypes=i.trim(r.dataType||"*").toLowerCase().match(c)||[""],null==r.crossDomain&&(s=pu.exec(r.url.toLowerCase()),r.crossDomain=!(!s||s[1]===nt[1]&&s[2]===nt[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(nt[3]||("http:"===nt[1]?"80":"443")))),r.data&&r.processData&&"string"!=typeof r.data&&(r.data=i.param(r.data,r.traditional)),lr(wu,r,t,u),2===e)return u;a=i.event&&r.global;a&&0==i.active++&&i.event.trigger("ajaxStart");r.type=r.type.toUpperCase();r.hasContent=!ae.test(r.type);f=r.url;r.hasContent||(r.data&&(f=r.url+=(dt.test(f)?"&":"?")+r.data,delete r.data),r.cache===!1&&(r.url=yu.test(f)?f.replace(yu,"$1_="+kt++):f+(dt.test(f)?"&":"?")+"_="+kt++));r.ifModified&&(i.lastModified[f]&&u.setRequestHeader("If-Modified-Since",i.lastModified[f]),i.etag[f]&&u.setRequestHeader("If-None-Match",i.etag[f]));(r.data&&r.hasContent&&r.contentType!==!1||t.contentType)&&u.setRequestHeader("Content-Type",r.contentType);u.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+("*"!==r.dataTypes[0]?", "+bu+"; q=0.01":""):r.accepts["*"]);for(h in r.headers)u.setRequestHeader(h,r.headers[h]);if(r.beforeSend&&(r.beforeSend.call(o,u,r)===!1||2===e))return u.abort();rt="abort";for(h in{success:1,error:1,complete:1})u[h](r[h]);if(l=lr(li,r,t,u)){u.readyState=1;a&&k.trigger("ajaxSend",[u,r]);r.async&&r.timeout>0&&(b=setTimeout(function(){u.abort("timeout")},r.timeout));try{e=1;l.send(tt,v)}catch(ut){if(!(2>e))throw ut;v(-1,ut)}}else v(-1,"No Transport");return u},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,void 0,t,"script")}});i.each(["get","post"],function(n,t){i[t]=function(n,r,u,f){return i.isFunction(r)&&(f=f||u,u=r,r=void 0),i.ajax({url:n,type:t,dataType:f,data:r,success:u})}});i._evalUrl=function(n){return i.ajax({url:n,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};i.fn.extend({wrapAll:function(n){var t;return i.isFunction(n)?this.each(function(t){i(this).wrapAll(n.call(this,t))}):(this[0]&&(t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this)},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()}});i.expr.filters.hidden=function(n){return n.offsetWidth<=0&&n.offsetHeight<=0};i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)};var ye=/%20/g,pe=/\[\]$/,ku=/\r?\n/g,we=/^(?:submit|button|image|reset|file)$/i,be=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,u=[],f=function(n,t){t=i.isFunction(t)?t():null==t?"":t;u[u.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(void 0===t&&(t=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){f(this.name,this.value)});else for(r in n)ei(r,n[r],t,f);return u.join("&").replace(ye,"+")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&be.test(this.nodeName)&&!we.test(n)&&(this.checked||!nu.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(ku,"\r\n")}}):{name:t.name,value:r.replace(ku,"\r\n")}}).get()}});i.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(n){}};var ke=0,gt={},de={0:200,1223:204},ut=i.ajaxSettings.xhr();return n.attachEvent&&n.attachEvent("onunload",function(){for(var n in gt)gt[n]()}),f.cors=!!ut&&"withCredentials"in ut,f.ajax=ut=!!ut,i.ajaxTransport(function(n){var t;if(f.cors||ut&&!n.crossDomain)return{send:function(i,r){var f,u=n.xhr(),e=++ke;if(u.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(f in n.xhrFields)u[f]=n.xhrFields[f];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType);n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(f in i)u.setRequestHeader(f,i[f]);t=function(n){return function(){t&&(delete gt[e],t=u.onload=u.onerror=null,"abort"===n?u.abort():"error"===n?r(u.status,u.statusText):r(de[u.status]||u.status,u.statusText,"string"==typeof u.responseText?{text:u.responseText}:void 0,u.getAllResponseHeaders()))}};u.onload=t();u.onerror=t("error");t=gt[e]=t("abort");try{u.send(n.hasContent&&n.data||null)}catch(o){if(t)throw o;}},abort:function(){t&&t()}}}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){void 0===n.cache&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){if(n.crossDomain){var r,t;return{send:function(f,e){r=i("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e("error"===n.type?404:200,n.type)});u.head.appendChild(r[0])},abort:function(){t&&t()}}}}),vi=[],ni=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=vi.pop()||i.expando+"_"+kt++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,u){var f,o,e,s=t.jsonp!==!1&&(ni.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return(f=t.jsonpCallback=i.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ni,"$1"+f):t.jsonp!==!1&&(t.url+=(dt.test(t.url)?"&":"?")+t.jsonp+"="+f),t.converters["script json"]=function(){return e||i.error(f+" was not called"),e[0]},t.dataTypes[0]="json",o=n[f],n[f]=function(){e=arguments},u.always(function(){n[f]=o;t[f]&&(t.jsonpCallback=r.jsonpCallback,vi.push(f));e&&i.isFunction(o)&&o(e[0]);e=o=void 0}),"script")}),i.parseHTML=function(n,t,r){if(!n||"string"!=typeof n)return null;"boolean"==typeof t&&(r=t,t=!1);t=t||u;var f=wr.exec(n),e=!r&&[];return f?[t.createElement(f[1])]:(f=i.buildFragment([n],t,e),e&&e.length&&i(e).remove(),i.merge([],f.childNodes))},yi=i.fn.load,i.fn.load=function(n,t,r){if("string"!=typeof n&&yi)return yi.apply(this,arguments);var u,o,s,f=this,e=n.indexOf(" ");return e>=0&&(u=i.trim(n.slice(e)),n=n.slice(0,e)),i.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(o="POST"),f.length>0&&i.ajax({url:n,type:o,dataType:"html",data:t}).done(function(n){s=arguments;f.html(u?i("<div>").append(i.parseHTML(n)).find(u):n)}).complete(r&&function(n,t){f.each(r,s||[n.responseText,t,n])}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},pi=n.document.documentElement,i.offset={setOffset:function(n,t,r){var e,o,s,h,u,c,v,l=i.css(n,"position"),a=i(n),f={};"static"===l&&(n.style.position="relative");u=a.offset();s=i.css(n,"top");c=i.css(n,"left");v=("absolute"===l||"fixed"===l)&&(s+c).indexOf("auto")>-1;v?(e=a.position(),h=e.top,o=e.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);i.isFunction(t)&&(t=t.call(n,r,u));null!=t.top&&(f.top=t.top-u.top+h);null!=t.left&&(f.left=t.left-u.left+o);"using"in t?t.using.call(n,f):a.css(f)}},i.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,f,t=this[0],u={top:0,left:0},e=t&&t.ownerDocument;if(e)return r=e.documentElement,i.contains(r,t)?(typeof t.getBoundingClientRect!==k&&(u=t.getBoundingClientRect()),f=ar(e),{top:u.top+f.pageYOffset-r.clientTop,left:u.left+f.pageXOffset-r.clientLeft}):u},position:function(){if(this[0]){var n,r,u=this[0],t={top:0,left:0};return"fixed"===i.css(u,"position")?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0),t.left+=i.css(n[0],"borderLeftWidth",!0)),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||pi;n&&!i.nodeName(n,"html")&&"static"===i.css(n,"position");)n=n.offsetParent;return n||pi})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var u="pageYOffset"===r;i.fn[t]=function(i){return l(this,function(t,i,f){var e=ar(t);return void 0===f?e?e[r]:t[i]:void(e?e.scrollTo(u?n.pageXOffset:f,u?f:n.pageYOffset):t[i]=f)},t,i,arguments.length,null)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=tr(f.pixelPosition,function(n,r){if(r)return(r=tt(n,t),ci.test(r)?i(n).position()[t]+"px":r)})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(u,f){var e=arguments.length&&(r||"boolean"!=typeof u),o=r||(u===!0||f===!0?"margin":"border");return l(this,function(t,r,u){var f;return i.isWindow(t)?t.document.documentElement["client"+n]:9===t.nodeType?(f=t.documentElement,Math.max(t.body["scroll"+n],f["scroll"+n],t.body["offset"+n],f["offset"+n],f["client"+n])):void 0===u?i.css(t,r,o):i.style(t,r,u,o)},t,e?u:void 0,e,null)}})}),i.fn.size=function(){return this.length},i.fn.andSelf=i.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return i}),du=n.jQuery,gu=n.$,i.noConflict=function(t){return n.$===i&&(n.$=gu),t&&n.jQuery===i&&(n.jQuery=du),i},typeof t===k&&(n.jQuery=n.$=i),i}),function(n){"use strict";function l(n){return function(){for(var i=arguments[0],t,u,r="["+(n?n+":":"")+i+"] http://errors.angularjs.org/1.5.5/"+(n?n+"/":"")+i,i=1;i<arguments.length;i++)r=r+(1==i?"?":"&")+"p"+(i-1)+"=",u=encodeURIComponent,t=arguments[i],t="function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?JSON.stringify(t):t,r+=u(t);return Error(r)}}function ri(n){if(null==n||ur(n))return!1;if(c(n)||h(n)||e&&n instanceof e)return!0;var t="length"in Object(n)&&n.length;return w(t)&&(t>=0&&(t-1 in n||n instanceof Array)||"function"==typeof n.item)}function t(n,i,r){var u,e,o;if(n)if(f(n))for(u in n)"prototype"==u||"length"==u||"name"==u||n.hasOwnProperty&&!n.hasOwnProperty(u)||i.call(r,n[u],u,n);else if(c(n)||ri(n))for(o="object"!=typeof n,u=0,e=n.length;e>u;u++)(o||u in n)&&i.call(r,n[u],u,n);else if(n.forEach&&n.forEach!==t)n.forEach(i,r,n);else if(ve(n))for(u in n)i.call(r,n[u],u,n);else if("function"==typeof n.hasOwnProperty)for(u in n)n.hasOwnProperty(u)&&i.call(r,n[u],u,n);else for(u in n)wt.call(n,u)&&i.call(r,n[u],u,n);return n}function ce(n,t,i){for(var r=Object.keys(n).sort(),u=0;u<r.length;u++)t.call(i,n[r[u]],r[u]);return r}function le(n){return function(t,i){n(i,t)}}function wc(){return++wu}function ff(n,t,i){for(var e,u,r,l=n.$$hashKey,o=0,v=t.length;v>o;++o)if(e=t[o],s(e)||f(e))for(var a=Object.keys(e),h=0,y=a.length;y>h;h++)u=a[h],r=e[u],i&&s(r)?et(r)?n[u]=new Date(r.valueOf()):rr(r)?n[u]=new RegExp(r):r.nodeName?n[u]=r.cloneNode(!0):of(r)?n[u]=r.clone():(s(n[u])||(n[u]=c(r)?[]:{}),ff(n[u],[r],!0)):n[u]=r;return l?n.$$hashKey=l:delete n.$$hashKey,n}function a(n){return ff(n,bt.call(arguments,1),!1)}function bc(n){return ff(n,bt.call(arguments,1),!0)}function tt(n){return parseInt(n,10)}function ef(n,t){return a(Object.create(n),t)}function o(){}function ir(n){return n}function ft(n){return function(){return n}}function ae(n){return f(n.toString)&&n.toString!==rt}function r(n){return"undefined"==typeof n}function u(n){return"undefined"!=typeof n}function s(n){return null!==n&&"object"==typeof n}function ve(n){return null!==n&&"object"==typeof n&&!eh(n)}function h(n){return"string"==typeof n}function w(n){return"number"==typeof n}function et(n){return"[object Date]"===rt.call(n)}function f(n){return"function"==typeof n}function rr(n){return"[object RegExp]"===rt.call(n)}function ur(n){return n&&n.window===n}function fr(n){return n&&n.$evalAsync&&n.$watch}function ui(n){return"boolean"==typeof n}function kc(n){return n&&w(n.length)&&wv.test(rt.call(n))}function of(n){return!(!n||!(n.nodeName||n.prop&&n.attr&&n.find))}function dc(n){var i={},t;for(n=n.split(","),t=0;t<n.length;t++)i[n[t]]=!0;return i}function at(n){return v(n.nodeName||n[0]&&n[0].nodeName)}function er(n,t){var i=n.indexOf(t);return i>=0&&n.splice(i,1),i}function kt(n,i){function o(n,t){var i,u=t.$$hashKey,f;if(c(n))for(i=0,f=n.length;f>i;i++)t.push(r(n[i]));else if(ve(n))for(i in n)t[i]=r(n[i]);else if(n&&"function"==typeof n.hasOwnProperty)for(i in n)n.hasOwnProperty(i)&&(t[i]=r(n[i]));else for(i in n)wt.call(n,i)&&(t[i]=r(n[i]));return u?t.$$hashKey=u:delete t.$$hashKey,t}function r(n){var t,i;if(!s(n))return n;if(t=u.indexOf(n),-1!==t)return e[t];if(ur(n)||fr(n))throw ci("cpws");return t=!1,i=h(n),void 0===i&&(i=c(n)?[]:Object.create(eh(n)),t=!0),u.push(n),e.push(i),t?o(n,i):i}function h(n){switch(rt.call(n)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new n.constructor(r(n.buffer));case"[object ArrayBuffer]":if(!n.slice){var t=new ArrayBuffer(n.byteLength);return new Uint8Array(t).set(new Uint8Array(n)),t}return n.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new n.constructor(n.valueOf());case"[object RegExp]":return t=new RegExp(n.source,n.toString().match(/[^\/]*$/)[0]),t.lastIndex=n.lastIndex,t;case"[object Blob]":return new n.constructor([n],{type:n.type})}if(f(n.cloneNode))return n.cloneNode(!0)}var u=[],e=[];if(i){if(kc(i)||"[object ArrayBuffer]"===rt.call(i))throw ci("cpta");if(n===i)throw ci("cpi");return c(i)?i.length=0:t(i,function(n,t){"$$hashKey"!==t&&delete i[t]}),u.push(n),e.push(i),o(n,i)}return r(n)}function ot(n,t){if(c(n)){t=t||[];for(var i=0,r=n.length;r>i;i++)t[i]=n[i]}else if(s(n))for(i in t=t||{},n)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=n[i]);return t||n}function st(n,t){if(n===t)return!0;if(null===n||null===t)return!1;if(n!==n&&t!==t)return!0;var i,r=typeof n;if(r==typeof t&&"object"==r){if(!c(n)){if(et(n))return et(t)?st(n.getTime(),t.getTime()):!1;if(rr(n))return rr(t)?n.toString()==t.toString():!1;if(fr(n)||fr(t)||ur(n)||ur(t)||c(t)||et(t)||rr(t))return!1;r=y();for(i in n)if("$"!==i.charAt(0)&&!f(n[i])){if(!st(n[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&u(t[i])&&!f(t[i]))return!1;return!0}if(!c(t))return!1;if((r=n.length)==t.length){for(i=0;r>i;i++)if(!st(n[i],t[i]))return!1;return!0}}return!1}function or(n,t,i){return n.concat(bt.call(t,i))}function ye(n,t){var i=2<arguments.length?bt.call(arguments,2):[];return!f(t)||t instanceof RegExp?t:i.length?function(){return arguments.length?t.apply(n,or(i,arguments,0)):t.apply(n,i)}:function(){return arguments.length?t.apply(n,arguments):t.call(n)}}function gc(t,i){var r=i;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:ur(i)?r="$WINDOW":i&&n.document===i?r="$DOCUMENT":fr(i)&&(r="$SCOPE"),r}function sr(n,t){if(!r(n))return(w(t)||(t=t?2:null),JSON.stringify(n,gc,t))}function pe(n){return h(n)?JSON.parse(n):n}function we(n,t){n=n.replace(bv,"");var i=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(i)?t:i}function sf(n,t,i){i=i?-1:1;var r=n.getTimezoneOffset();return t=we(t,r),i*=t-r,n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+i),n}function vt(n){n=e(n).clone();try{n.empty()}catch(i){}var t=e("<div>").append(n).html();try{return n[0].nodeType===di?v(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(n,t){return"<"+v(t)})}catch(r){return v(t)}}function be(n){try{return decodeURIComponent(n)}catch(t){}}function ke(n){var i={};return t((n||"").split("&"),function(n){var f,t,r;n&&(t=n=n.replace(/\+/g,"%20"),f=n.indexOf("="),-1!==f&&(t=n.substring(0,f),r=n.substring(f+1)),t=be(t),u(t)&&(r=u(r)?be(r):!0,wt.call(i,t)?c(i[t])?i[t].push(r):i[t]=[i[t],r]:i[t]=r))}),i}function hf(n){var i=[];return t(n,function(n,r){c(n)?t(n,function(n){i.push(ht(r,!0)+(!0===n?"":"="+ht(n,!0)))}):i.push(ht(r,!0)+(!0===n?"":"="+ht(n,!0)))}),i.length?i.join("&"):""}function nu(n){return ht(n,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ht(n,t){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function nl(n,t){for(var i,u=ki.length,r=0;u>r;++r)if(i=ki[r]+t,h(i=n.getAttribute(i)))return i;return null}function tl(n,i){var r,u,f={};t(ki,function(t){t+="app";!r&&n.hasAttribute&&n.hasAttribute(t)&&(r=n,u=n.getAttribute(t))});t(ki,function(t){t+="app";var i;!r&&(i=n.querySelector("["+t.replace(":","\\:")+"]"))&&(r=i,u=i.getAttribute(t))});r&&(f.strictDi=null!==nl(r,"strict-di"),i(r,u?[u]:[],f))}function de(i,r,u){s(u)||(u={});u=a({strictDi:!1},u);var o=function(){if(i=e(i),i.injector()){var t=i[0]===n.document?"document":vt(i);throw ci("btstrpd",t.replace(/</,"&lt;").replace(/>/,"&gt;"));}return r=r||[],r.unshift(["$provide",function(n){n.value("$rootElement",i)}]),u.debugInfoEnabled&&r.push(["$compileProvider",function(n){n.debugInfoEnabled(!0)}]),r.unshift("ng"),t=lr(r,u.strictDi),t.invoke(["$rootScope","$rootElement","$compile","$injector",function(n,t,i,r){n.$apply(function(){t.data("$injector",r);i(t)(n)})}]),t},h=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return n&&h.test(n.name)&&(u.debugInfoEnabled=!0,n.name=n.name.replace(h,"")),n&&!c.test(n.name)?o():(n.name=n.name.replace(c,""),ut.resumeBootstrap=function(n){return t(n,function(n){r.push(n)}),o()},void(f(ut.resumeDeferredBootstrap)&&ut.resumeDeferredBootstrap()))}function il(){n.name="NG_ENABLE_DEBUG_INFO!"+n.name;n.location.reload()}function rl(n){if(n=ut.element(n).injector(),!n)throw ci("test");return n.get("$$testability")}function ge(n,t){return t=t||"_",n.replace(kv,function(n,i){return(i?t:"")+n.toLowerCase()})}function ul(){var i,t;sh||(t=bu(),(ti=r(t)?n.jQuery:t?n[t]:void 0)&&ti.fn.on?(e=ti,a(ti.fn,{scope:nr.scope,isolateScope:nr.isolateScope,controller:nr.controller,injector:nr.injector,inheritedData:nr.inheritedData}),i=ti.cleanData,ti.cleanData=function(n){for(var r,t,u=0;null!=(t=n[u]);u++)(r=ti._data(t,"events"))&&r.$destroy&&ti(t).triggerHandler("$destroy");i(n)}):e=b,ut.element=e,sh=!0)}function tu(n,t,i){if(!n)throw ci("areq",t||"?",i||"required");return n}function yi(n,t,i){return i&&c(n)&&(n=n[n.length-1]),tu(f(n),t,"not a function, got "+(n&&"object"==typeof n?n.constructor.name||"Object":typeof n)),n}function pi(n,t){if("hasOwnProperty"===n)throw ci("badname",t);}function no(n,t,i){if(!t)return n;t=t.split(".");for(var u,e=n,o=t.length,r=0;o>r;r++)u=t[r],n&&(n=(e=n)[u]);return!i&&f(n)?ye(e,n):n}function iu(n){for(var t,i=n[0],u=n[n.length-1],r=1;i!==u&&(i=i.nextSibling);r++)(t||n[r]!==i)&&(t||(t=e(bt.call(n,0,r))),t.push(i));return t||n}function y(){return Object.create(null)}function fl(n){function t(n,t,i){return n[t]||(n[t]=i())}var i=l("$injector"),r=l("ng");return n=t(n,"angular",Object),n.$$minErr=n.$$minErr||l,t(n,"module",function(){var n={};return function(u,e,o){if("hasOwnProperty"===u)throw r("badname","module");return e&&n.hasOwnProperty(u)&&(n[u]=null),t(n,u,function(){function t(n,t,i,u){return u||(u=r),function(){return u[i||"push"]([n,t,arguments]),s}}function n(n,t){return function(i,e){return e&&f(e)&&(e.$$moduleName=u),r.push([n,t,arguments]),s}}if(!e)throw i("nomod",u);var r=[],h=[],c=[],l=t("$injector","invoke","push",h),s={_invokeQueue:r,_configBlocks:h,_runBlocks:c,requires:e,name:u,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:l,run:function(n){return c.push(n),this}};return o&&l(o),s})}})}function el(i){a(i,{bootstrap:de,copy:kt,extend:a,merge:bc,equals:st,element:e,forEach:t,injector:lr,noop:o,bind:ye,toJson:sr,fromJson:pe,identity:ir,isUndefined:r,isDefined:u,isString:h,isFunction:f,isObject:s,isNumber:w,isElement:of,isArray:c,version:dv,isDate:et,lowercase:v,uppercase:pu,callbacks:{counter:0},getTestability:rl,$$minErr:l,$$csp:li,reloadWithDebugInfo:il});(fh=fl(n))("ng",["ngLocale"],["$provide",function(n){n.provider({$$sanitizeUri:ka});n.provider("$compile",co).directive({a:nc,input:sc,textarea:sc,form:vp,script:ab,select:pb,style:bb,option:wb,ngBind:nw,ngBindHtml:iw,ngBindTemplate:tw,ngClass:uw,ngClassEven:ew,ngClassOdd:fw,ngCloak:ow,ngController:sw,ngForm:yp,ngHide:fb,ngIf:cw,ngInclude:lw,ngInit:vw,ngNonBindable:dw,ngPluralize:ib,ngRepeat:rb,ngShow:ub,ngStyle:eb,ngSwitch:ob,ngSwitchWhen:sb,ngSwitchDefault:hb,ngOptions:tb,ngTransclude:lb,ngModel:ww,ngList:yw,ngChange:rw,pattern:vc,ngPattern:vc,required:ac,ngRequired:ac,minlength:pc,ngMinlength:pc,maxlength:yc,ngMaxlength:yc,ngValue:gp,ngModelOptions:kw}).directive({ngInclude:aw}).directive(br).directive(hc);n.provider({$anchorScroll:vl,$animate:vy,$animateCss:wy,$$animateJs:ly,$$animateQueue:ay,$$AnimateRunner:py,$$animateAsyncRun:yy,$browser:wl,$cacheFactory:bl,$controller:dl,$document:gl,$exceptionHandler:na,$filter:vs,$$forceReflow:ky,$interpolate:oa,$interval:sa,$http:ra,$httpParamSerializer:ta,$httpParamSerializerJQLike:ia,$httpBackend:fa,$xhrFactory:ua,$location:ha,$log:ca,$parse:va,$rootScope:ba,$q:ya,$$q:pa,$sce:nv,$sceDelegate:ga,$sniffer:tv,$templateCache:kl,$templateRequest:iv,$$testability:rv,$timeout:uv,$window:fv,$$rAF:wa,$$jqLite:ll,$$HashMap:fy,$$cookieReader:ev})}])}function hr(n){return n.replace(gv,function(n,t,i,r){return r?i.toUpperCase():i}).replace(ny,"Moz$1")}function to(n){return n=n.nodeType,1===n||!n||9===n}function io(n,i){var r,u,f=i.createDocumentFragment(),e=[];if(re.test(n)){for(r=r||f.appendChild(i.createElement("div")),u=(iy.exec(n)||["",""])[1].toLowerCase(),u=ct[u]||ct._default,r.innerHTML=u[1]+n.replace(ry,"<$1><\/$2>")+u[2],u=u[0];u--;)r=r.lastChild;e=or(e,r.childNodes);r=f.firstChild;r.textContent=""}else e.push(i.createTextNode(n));return f.textContent="",f.innerHTML="",t(e,function(n){f.appendChild(n)}),f}function ro(n,t){var i=n.parentNode;i&&i.replaceChild(t,n);t.appendChild(n)}function b(t){var i,r;if(t instanceof b)return t;if(h(t)&&(t=p(t),i=!0),!(this instanceof b)){if(i&&"<"!=t.charAt(0))throw ie("nosel");return new b(t)}i&&(i=n.document,t=(r=ty.exec(t))?[i.createElement(r[1])]:(r=io(t,i))?r.childNodes:[]);fo(this,t)}function cf(n){return n.cloneNode(!0)}function ru(n,t){if(t||cr(n),n.querySelectorAll)for(var r=n.querySelectorAll("*"),i=0,u=r.length;u>i;i++)cr(r[i])}function uo(n,i,r,f){var e,o,s;if(u(f))throw ie("offargs");if(e=(f=uu(n))&&f.events,o=f&&f.handle,o)if(i)s=function(t){var i=e[t];u(r)&&er(i||[],r);u(r)&&i&&0<i.length||(n.removeEventListener(t,o,!1),delete e[t])},t(i.split(" "),function(n){s(n);ku[n]&&s(ku[n])});else for(i in e)"$destroy"!==i&&n.removeEventListener(i,o,!1),delete e[i]}function cr(n,t){var r=n.ng339,i=r&&gi[r];i&&(t?delete i.data[t]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),uo(n)),delete gi[r],n.ng339=void 0))}function uu(n,t){var i=n.ng339,i=i&&gi[i];return t&&!i&&(n.ng339=i=++hh,i=gi[i]={events:{},data:{},handle:void 0}),i}function lf(n,t,i){if(to(n)){var r=u(i),f=!r&&t&&!s(t),e=!t;if(n=(n=uu(n,!f))&&n.data,r)n[t]=i;else{if(e)return n;if(f)return n&&n[t];a(n,t)}}}function fu(n,t){return n.getAttribute?-1<(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" "):!1}function eu(n,i){i&&n.setAttribute&&t(i.split(" "),function(t){n.setAttribute("class",p((" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+p(t)+" "," ")))})}function ou(n,i){if(i&&n.setAttribute){var r=(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");t(i.split(" "),function(n){n=p(n);-1===r.indexOf(" "+n+" ")&&(r+=n+" ")});n.setAttribute("class",p(r))}}function fo(n,t){var i,r;if(t)if(t.nodeType)n[n.length++]=t;else if(i=t.length,"number"==typeof i&&t.window!==t){if(i)for(r=0;i>r;r++)n[n.length++]=t[r]}else n[n.length++]=t}function eo(n,t){return su(n,"$"+(t||"ngController")+"Controller")}function su(n,t,i){for(9==n.nodeType&&(n=n.documentElement),t=c(t)?t:[t];n;){for(var r=0,f=t.length;f>r;r++)if(u(i=e.data(n,t[r])))return i;n=n.parentNode||11===n.nodeType&&n.host}}function oo(n){for(ru(n,!0);n.firstChild;)n.removeChild(n.firstChild)}function af(n,t){t||ru(n);var i=n.parentNode;i&&i.removeChild(n)}function ol(t,i){i=i||n;"complete"===i.document.readyState?i.setTimeout(t):e(i).on("load",t)}function so(n,t){var i=du[t.toLowerCase()];return i&&ue[at(n)]&&i}function sl(n,t){var i=function(i,u){var f,e,s,h,o;if(i.isDefaultPrevented=function(){return i.defaultPrevented},f=t[u||i.type],e=f?f.length:0,e)for(r(i.immediatePropagationStopped)&&(s=i.stopImmediatePropagation,i.stopImmediatePropagation=function(){i.immediatePropagationStopped=!0;i.stopPropagation&&i.stopPropagation();s&&s.call(i)}),i.isImmediatePropagationStopped=function(){return!0===i.immediatePropagationStopped},h=f.specialHandlerWrapper||hl,e>1&&(f=ot(f)),o=0;e>o;o++)i.isImmediatePropagationStopped()||h(n,i,f[o])};return i.elem=n,i}function hl(n,t,i){i.call(n,t)}function cl(n,t,i){var r=t.relatedTarget;r&&(r===n||uy.call(n,r))||i.call(n,t)}function ll(){this.$get=function(){return a(b,{hasClass:function(n,t){return n.attr&&(n=n[0]),fu(n,t)},addClass:function(n,t){return n.attr&&(n=n[0]),ou(n,t)},removeClass:function(n,t){return n.attr&&(n=n[0]),eu(n,t)}})}}function fi(n,t){var i=n&&n.$$hashKey;return i?("function"==typeof i&&(i=n.$$hashKey()),i):(i=typeof n,i="function"==i||"object"==i&&null!==n?n.$$hashKey=i+":"+(t||wc)():i+":"+n)}function wi(n,i){if(i){var r=0;this.nextUid=function(){return++r}}t(n,this.put,this)}function ho(n){return n=Function.prototype.toString.call(n).replace(cy,""),n.match(ey)||n.match(oy)}function al(n){return(n=ho(n))?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function lr(n,i){function l(n){return function(i,r){return s(i)?void t(i,le(n)):n(i,r)}}function w(n,t){if(pi(n,"service"),(f(t)||c(t))&&(t=o.instantiate(t)),!t.$get)throw ai("pget",n);return e[n+"Provider"]=t}function tt(n,t){return function(){var i=u.invoke(t,this);if(r(i))throw ai("undef",n);return i}}function v(n,t,i){return w(n,{$get:!1!==i?tt(n,t):t})}function b(n){tu(r(n)||c(n),"modulesToLoad","not an array");var i,u=[];return t(n,function(n){function r(n){for(var i,r,t=0,u=n.length;u>t;t++)i=n[t],r=o.get(i[0]),r[i[1]].apply(r,i[2])}if(!d.get(n)){d.put(n,!0);try{h(n)?(i=fh(n),u=u.concat(b(i.requires)).concat(i._runBlocks),r(i._invokeQueue),r(i._configBlocks)):f(n)?u.push(o.invoke(n)):c(n)?u.push(o.invoke(n)):yi(n,"module")}catch(t){throw c(n)&&(n=n[n.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),ai("modulerr",n,t.stack||t.message||t);}}}),u}function k(n,t){function r(i,r){if(n.hasOwnProperty(i)){if(n[i]===y)throw ai("cdep",i+" <- "+a.join(" <- "));return n[i]}try{return a.unshift(i),n[i]=y,n[i]=t(i,r)}catch(u){throw n[i]===y&&delete n[i],u;}finally{a.shift()}}function u(n,t,u){var o=[],e,s,f;for(n=lr.$$annotate(n,i,u),e=0,s=n.length;s>e;e++){if(f=n[e],"string"!=typeof f)throw ai("itkn",f);o.push(t&&t.hasOwnProperty(f)?t[f]:r(f,u))}return o}return{invoke:function(n,t,i,r){return"string"==typeof i&&(r=i,i=null),i=u(n,i,r),c(n)&&(n=n[n.length-1]),r=11>=ni?!1:"function"==typeof n&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(n)),r?(i.unshift(null),new(Function.prototype.bind.apply(n,i))):n.apply(t,i)},instantiate:function(n,t,i){var r=c(n)?n[n.length-1]:n;return n=u(n,t,i),n.unshift(null),new(Function.prototype.bind.apply(r,n))},get:r,annotate:lr.$$annotate,has:function(t){return e.hasOwnProperty(t+"Provider")||n.hasOwnProperty(t)}}}var nt,u;i=!0===i;var y={},a=[],d=new wi([],!0),e={$provide:{provider:l(w),factory:l(v),service:l(function(n,t){return v(n,["$injector",function(n){return n.instantiate(t)}])}),value:l(function(n,t){return v(n,ft(t),!1)}),constant:l(function(n,t){pi(n,"constant");e[n]=t;g[n]=t}),decorator:function(n,t){var i=o.get(n+"Provider"),r=i.$get;i.$get=function(){var n=u.invoke(r,i);return u.invoke(t,null,{$delegate:n})}}}},o=e.$injector=k(e,function(n,t){throw ut.isString(t)&&a.push(t),ai("unpr",a.join(" <- "));}),g={},p=k(g,function(n,t){var i=o.get(n+"Provider",t);return u.invoke(i.$get,i,void 0,n)}),u=p;return e.$injectorProvider={$get:ft(p)},nt=b(n),u=p.get("$injector"),u.strictDi=i,t(nt,function(n){n&&u.invoke(n)}),u}function vl(){var n=!0;this.disableAutoScrolling=function(){n=!1};this.$get=["$window","$location","$rootScope",function(t,i,r){function s(n){var t=null;return Array.prototype.some.call(n,function(n){if("a"===at(n))return(t=n,!0)}),t}function u(n){if(n){n.scrollIntoView();var i;i=e.yOffset;f(i)?i=i():of(i)?(i=i[0],i="fixed"!==t.getComputedStyle(i).position?0:i.getBoundingClientRect().bottom):w(i)||(i=0);i&&(n=n.getBoundingClientRect().top,t.scrollBy(0,n-i))}else t.scrollTo(0,0)}function e(n){n=h(n)?n:i.hash();var t;n?(t=o.getElementById(n))?u(t):(t=s(o.getElementsByName(n)))?u(t):"top"===n&&u(null):u(null)}var o=t.document;return n&&r.$watch(function(){return i.hash()},function(n,t){n===t&&""===n||ol(function(){r.$evalAsync(e)})}),e}]}function ar(n,t){return n||t?n?t?(c(n)&&(n=n.join(" ")),c(t)&&(t=t.join(" ")),n+" "+t):n:t:""}function yl(n){h(n)&&(n=n.split(" "));var i=y();return t(n,function(n){n.length&&(i[n]=!0)}),i}function ei(n){return s(n)?n:{}}function pl(n,i,u,f){function k(n){try{n.apply(null,bt.call(arguments,1))}finally{if(l--,0===l)for(;b.length;)try{b.pop()()}catch(t){u.error(t)}}}function d(){y=null;g();tt()}function g(){h=ot();h=r(h)?null:h;st(h,nt)&&(h=nt);nt=h}function tt(){v===s.url()&&a===h||(v=s.url(),a=h,t(it,function(n){n(s.url(),h)}))}var s=this,c=n.location,p=n.history,ut=n.setTimeout,ft=n.clearTimeout,w={},l,b;s.isMock=!1;l=0;b=[];s.$$completeOutstandingRequest=k;s.$$incOutstandingRequestCount=function(){l++};s.notifyWhenNoOutstandingRequests=function(n){0===l?n():b.push(n)};var h,a,v=c.href,et=i.find("base"),y=null,ot=f.history?function(){try{return p.state}catch(n){}}:o;g();a=h;s.url=function(t,i,u){var o,e;return(r(u)&&(u=null),c!==n.location&&(c=n.location),p!==n.history&&(p=n.history),t)?(o=a===u,v===t&&(!f.history||o))?s:(e=v&&oi(v)===oi(t),v=t,a=u,!f.history||e&&o?(e&&!y||(y=t),i?c.replace(t):e?(i=c,u=t.indexOf("#"),u=-1===u?"":t.substr(u),i.hash=u):c.href=t,c.href!==t&&(y=t)):(p[i?"replaceState":"pushState"](u,"",t),g(),a=h),s):y||c.href.replace(/%27/g,"'")};s.state=function(){return h};var it=[],rt=!1,nt=null;s.onUrlChange=function(t){return rt||(f.history&&e(n).on("popstate",d),e(n).on("hashchange",d),rt=!0),it.push(t),t};s.$$applicationDestroyed=function(){e(n).off("hashchange popstate",d)};s.$$checkUrlChange=tt;s.baseHref=function(){var n=et.attr("href");return n?n.replace(/^(https?\:)?\/\/[^\/]*/,""):""};s.defer=function(n,t){var i;return l++,i=ut(function(){delete w[i];k(n)},t||0),w[i]=!0,i};s.defer.cancel=function(n){return w[n]?(delete w[n],ft(n),k(o),!0):!1}}function wl(){this.$get=["$window","$log","$sniffer","$document",function(n,t,i,r){return new pl(n,r,t,i)}]}function bl(){this.$get=function(){function i(t,i){function v(n){n!=o&&(u?u==n&&(u=n.n):u=n,c(n.n,n.p),c(n,o),o=n,o.n=null)}function c(n,t){n!=t&&(n&&(n.p=t),t&&(t.n=n))}if(t in n)throw l("$cacheFactory")("iid",t);var s=0,p=a({},i,{id:t}),f=y(),h=i&&i.capacity||Number.MAX_VALUE,e=y(),o=null,u=null;return n[t]={put:function(n,t){if(!r(t)){if(h<Number.MAX_VALUE){var i=e[n]||(e[n]={key:n});v(i)}return n in f||s++,f[n]=t,s>h&&this.remove(u.key),t}},get:function(n){if(h<Number.MAX_VALUE){var t=e[n];if(!t)return;v(t)}return f[n]},remove:function(n){if(h<Number.MAX_VALUE){var t=e[n];if(!t)return;t==o&&(o=t.p);t==u&&(u=t.n);c(t.n,t.p);delete e[n]}n in f&&(delete f[n],s--)},removeAll:function(){f=y();s=0;e=y();o=u=null},destroy:function(){e=p=f=null;delete n[t]},info:function(){return a({},p,{size:s})}}}var n={};return i.info=function(){var i={};return t(n,function(n,t){i[t]=n.info()}),i},i.get=function(t){return n[t]},i}}function kl(){this.$get=["$cacheFactory",function(n){return n("templates")}]}function co(i,l){function d(n,i,r){var f=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,u=y();return t(n,function(n,t){if(n in nt)u[t]=nt[n];else{var e=n.match(f);if(!e)throw g("iscp",i,t,n,r?"controller bindings definition":"isolate scope definition");u[t]={mode:e[1][0],collection:"*"===e[2],optional:"?"===e[3],attrName:e[4]||t};e[4]&&(nt[n]=u[t])}}),u}function tt(n){var t=n.charAt(0);if(!t||t!==v(t))throw g("baddir",n);if(n!==n.trim())throw g("baddir",n);}var b={},it=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,ut=/(([\w\-]+)(?:\:([^;]+))?;?)/,et=dc("ngSrc,ngSrcset,src,srcset"),ot=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,ht=/^(on[a-z]+|formaction)$/,nt=y(),w,k;this.directive=function ct(n,r){return pi(n,"directive"),h(n)?(tt(n),tu(r,"directiveFactory"),b.hasOwnProperty(n)||(b[n]=[],i.factory(n+"Directive",["$injector","$exceptionHandler",function(i,r){var u=[];return t(b[n],function(t,e){try{var o=i.invoke(t);f(o)?o={compile:ft(o)}:!o.compile&&o.link&&(o.compile=ft(o.link));o.priority=o.priority||0;o.index=e;o.name=o.name||n;o.require=o.require||o.controller&&o.name;o.restrict=o.restrict||"EA";o.$$moduleName=t.$$moduleName;u.push(o)}catch(s){r(s)}}),u}])),b[n].push(r)):t(n,le(ct)),this};this.component=function(n,i){function r(n){function r(t){return f(t)||c(t)?function(i,r){return n.invoke(t,this,{$element:i,$attrs:r})}:t}var o=i.template||i.templateUrl?i.template:"",e={controller:u,controllerAs:vo(i.controller)||i.controllerAs||"$ctrl",template:r(o),templateUrl:r(i.templateUrl),transclude:i.transclude,scope:{},bindToController:i.bindings||{},restrict:"E",require:i.require};return t(i,function(n,t){"$"===t.charAt(0)&&(e[t]=n)}),e}var u=i.controller||function(){};return t(i,function(n,t){"$"===t.charAt(0)&&(r[t]=n,f(u)&&(u[t]=n))}),r.$inject=["$injector"],this.directive(n,r)};this.aHrefSanitizationWhitelist=function(n){return u(n)?(l.aHrefSanitizationWhitelist(n),this):l.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(n){return u(n)?(l.imgSrcSanitizationWhitelist(n),this):l.imgSrcSanitizationWhitelist()};w=!0;this.debugInfoEnabled=function(n){return u(n)?(w=n,this):w};k=10;this.onChangesTtl=function(n){return arguments.length?(k=n,this):k};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(i,u,l,nt,tt,ft,ct,lt,pt,kt){function cr(){try{if(!--ur)throw gt=void 0,g("infchng",k);ct.$apply(function(){for(var n=0,t=gt.length;t>n;++n)gt[n]();gt=void 0})}finally{ur++}}function si(n,t){if(t)for(var r,f=Object.keys(t),i=0,u=f.length;u>i;i++)r=f[i],this[r]=t[r];else this.$attr={};this.$$element=n}function lr(n,t,i){rr.innerHTML="<span "+t+">";t=rr.firstChild.attributes;var r=t[0];t.removeNamedItem(r.name);r.value=i;n.attributes.setNamedItem(r)}function fi(n,t){try{n.addClass(t)}catch(i){}}function dt(t,i,r,u,f){var h,c,o;t instanceof e||(t=e(t));for(var s=0,l=t.length;l>s;s++)h=t[s],h.nodeType===di&&h.nodeValue.match(/\S+/)&&ro(h,t[s]=n.document.createElement("span"));return c=hi(t,i,t,r,u,f),dt.$$addScopeClass(t),o=null,function(n,i,r){var u,s,h;if(tu(n,"scope"),f&&f.needsNewScope&&(n=n.$parent.$new()),r=r||{},u=r.parentBoundTranscludeFn,s=r.transcludeControllers,r=r.futureParentElement,u&&u.$$boundTransclude&&(u=u.$$boundTransclude),o||(o=(r=r&&r[0])&&"foreignobject"!==at(r)&&rt.call(r).match(/SVG/)?"svg":"html"),r="html"!==o?e(ai(o,e("<div>").append(t).html())):i?nr.clone.call(t):t,s)for(h in s)r.data("$"+h+"Controller",s[h].instance);return dt.$$addScopeInfo(r,n),i&&i(r,n),c&&c(n,r,r,u),r}}function hi(n,t,i,r,u,f){function y(n,i,r,u){var o,h,c,f,v,y,l;if(a)for(l=Array(i.length),f=0;f<s.length;f+=3)o=s[f],l[o]=i[o];else l=i;for(f=0,v=s.length;v>f;)h=l[s[f++]],i=s[f++],o=s[f++],i?(i.scope?(c=n.$new(),dt.$$addScopeInfo(e(h),c)):c=n,y=i.transcludeOnThisElement?ii(n,i.transclude,u):!i.templateOnThisElement&&u?u:!u&&t?ii(n,t):null,i(o,c,h,r,y)):o&&o(n,h.childNodes,void 0,u)}for(var o,c,l,v,a,s=[],h=0;h<n.length;h++)o=new si,c=ci(n[h],[],o,0===h?r:void 0,u),(f=c.length?wi(c,n[h],o,t,i,null,[],[],f):null)&&f.scope&&dt.$$addScopeClass(o.$$element),o=f&&f.terminal||!(l=n[h].childNodes)||!l.length?null:hi(l,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:t),(f||o)&&(s.push(h,f,o),v=!0,a=a||f),f=null;return v?y:null}function ii(n,t,i){function u(r,u,f,e,o){return r||(r=n.$new(!1,o),r.$$transcluded=!0),t(r,u,{parentBoundTranscludeFn:i,transcludeControllers:f,futureParentElement:e})}var r,f=u.$$slots=y();for(r in t.$$slots)f[r]=t.$$slots[r]?ii(n,t.$$slots[r],i):null;return u}function ci(n,t,i,r,u){var e,w=i.$attr,v,y;switch(n.nodeType){case 1:ei(t,yt(at(n)),"E",r,u);for(var f,o,c,l=n.attributes,a=0,b=l&&l.length;b>a;a++)v=!1,y=!1,f=l[a],e=f.name,o=p(f.value),f=yt(e),(c=gr.test(f))&&(e=e.replace(lh,"").substr(8).replace(/_(.)/g,function(n,t){return t.toUpperCase()})),(f=f.match(nu))&&vr(f[1])&&(v=e,y=e.substr(0,e.length-5)+"end",e=e.substr(0,e.length-6)),f=yt(e.toLowerCase()),w[f]=e,!c&&i.hasOwnProperty(f)||(i[f]=o,so(n,f)&&(i[f]=!0)),kr(n,t,o,f,c),ei(t,f,"A",r,u,v,y);if(n=n.className,s(n)&&(n=n.animVal),h(n)&&""!==n)for(;e=ut.exec(n);)f=yt(e[2]),ei(t,f,"C",r,u)&&(i[f]=p(e[3])),n=n.substr(e.index+e[0].length);break;case di:if(11===ni)for(;n.parentNode&&n.nextSibling&&n.nextSibling.nodeType===di;)n.nodeValue+=n.nextSibling.nodeValue,n.parentNode.removeChild(n.nextSibling);wr(t,n.nodeValue);break;case 8:try{(e=it.exec(n.nodeValue))&&(f=yt(e[1]),ei(t,f,"M",r,u)&&(i[f]=p(e[2])))}catch(k){}}return t.sort(pr),t}function yi(n,t,i){var r=[],u=0;if(t&&n.hasAttribute&&n.hasAttribute(t)){do{if(!n)throw g("uterdir",t,i);1==n.nodeType&&(n.hasAttribute(t)&&u++,n.hasAttribute(i)&&u--);r.push(n);n=n.nextSibling}while(u>0)}else r.push(n);return e(r)}function pi(n,t,i){return function(r,u,f,e,o){return u=yi(u[0],t,i),n(r,u,f,e,o)}}function li(n,t,i,r,u,f){var e;return n?dt(t,i,r,u,f):function(){return e||(e=dt(t,i,r,u,f),t=i=f=null),e.apply(this,arguments)}}function wi(n,i,u,o,h,v,w,b,k){function rr(n,t,i,r){n&&(i&&(n=pi(n,i,r)),n.require=d.require,n.directiveName=et,(tt===d||d.$$isolateScope)&&(n=gi(n,{isolateScope:!0})),w.push(n));t&&(i&&(t=pi(t,i,r)),t.require=d.require,t.directiveName=et,(tt===d||d.$$isolateScope)&&(t=gi(t,{isolateScope:!0})),b.push(t))}function lt(n,o,h,l,v){function lt(n,t,i,u){var e,f;if(fr(n)||(u=i,i=t,t=n,n=void 0),ui&&(e=it),i||(i=ui?p.parent():p),!u)return v(n,t,e,i,et);if(f=v.$$slots[u],f)return f(n,t,e,i,et);if(r(f))throw g("noslot",u,vt(p));}var k,d,y,nt,ft,it,rt,p,ht,ct,et;i===h?(l=u,p=u.$$element):(p=e(h),l=new si(p,u));ft=o;tt?nt=o.$new(!0):ut&&(ft=o.$parent);v&&(rt=lt,rt.$$boundTransclude=v,rt.isSlotFilled=function(n){return!!v.$$slots[n]});ot&&(it=ar(p,l,rt,ot,nt,o,tt));tt&&(dt.$$addScopeInfo(p,nt,!0,!(st&&(st===tt||st===tt.$$originalDirective))),dt.$$addScopeClass(p,!0),nt.$$isolateBindings=tt.$$isolateBindings,d=vi(o,l,nt,nt.$$isolateBindings,tt),d.removeWatches&&nt.$on("$destroy",d.removeWatches));for(k in it)d=ot[k],y=it[k],ht=d.$$bindings.bindToController,y.bindingInfo=y.identifier&&ht?vi(ft,l,y.instance,ht,d):{},ct=y(),ct!==y.instance&&(y.instance=ct,p.data("$"+d.name+"Controller",ct),y.bindingInfo.removeWatches&&y.bindingInfo.removeWatches(),y.bindingInfo=vi(ft,l,y.instance,ht,d));for(t(ot,function(n,t){var i=n.require;n.bindToController&&!c(i)&&s(i)&&a(it[t].instance,ri(t,i,p,it))}),t(it,function(n){var t=n.instance;f(t.$onChanges)&&t.$onChanges(n.bindingInfo.initialChanges);f(t.$onInit)&&t.$onInit();f(t.$onDestroy)&&ft.$on("$destroy",function(){t.$onDestroy()})}),k=0,d=w.length;d>k;k++)y=w[k],tr(y,y.isolateScope?nt:o,p,l,y.require&&ri(y.directiveName,y.require,p,it),rt);for(et=o,tt&&(tt.template||null===tt.templateUrl)&&(et=nt),n&&n(et,h.childNodes,void 0,v),k=b.length-1;k>=0;k--)y=b[k],tr(y,y.isolateScope?nt:o,p,l,y.require&&ri(y.directiveName,y.require,p,it),rt);t(it,function(n){n=n.instance;f(n.$postLink)&&n.$postLink()})}var ni,ei,ft,ir,hi,wi,ur;k=k||{};for(var d,et,rt,pt,nt,gt=-Number.MAX_VALUE,ut=k.newScopeDirective,ot=k.controllerDirectives,tt=k.newIsolateScopeDirective,st=k.templateDirective,ii=k.nonTlbTranscludeDirective,di=!1,nr=!1,ui=k.hasElementTranscludeDirective,it=u.$$element=e(i),wt=o,ht=!1,fi=!1,ct=0,kt=n.length;kt>ct;ct++){if(d=n[ct],ni=d.$$start,ei=d.$$end,ni&&(it=yi(i,ni,ei)),rt=void 0,gt>d.priority)break;if((nt=d.scope)&&(d.templateUrl||(s(nt)?(ti("new/isolated scope",tt||ut,d,it),tt=d):ti("new/isolated scope",tt,d,it)),ut=ut||d),et=d.name,!ht&&(d.replace&&(d.templateUrl||d.template)||d.transclude&&!d.$$tlb)){for(nt=ct+1;ht=n[nt++];)if(ht.transclude&&!ht.$$tlb||ht.replace&&(ht.templateUrl||ht.template)){fi=!0;break}ht=!0}if(!d.templateUrl&&d.controller&&(nt=d.controller,ot=ot||y(),ti("'"+et+"' controller",ot[et],d,it),ot[et]=d),nt=d.transclude)if(di=!0,d.$$tlb||(ti("transclusion",ii,d,it),ii=d),"element"==nt)ui=!0,gt=d.priority,rt=it,it=u.$$element=e(dt.$$createComment(et,u[et])),i=it[0],oi(h,bt.call(rt,0),i),rt[0].$$parentNode=rt[0].parentNode,wt=li(fi,rt,o,gt,v&&v.name,{nonTlbTranscludeDirective:ii});else{if(ft=y(),rt=e(cf(i)).contents(),s(nt)){rt=[];ir=y();hi=y();t(nt,function(n,t){var i="?"===n.charAt(0);n=i?n.substring(1):n;ir[n]=t;ft[t]=null;hi[t]=i});t(it.contents(),function(n){var t=ir[yt(at(n))];t?(hi[t]=!0,ft[t]=ft[t]||[],ft[t].push(n)):rt.push(n)});t(hi,function(n,t){if(!n)throw g("reqslot",t);});for(wi in ft)ft[wi]&&(ft[wi]=li(fi,ft[wi],o))}it.empty();wt=li(fi,rt,o,void 0,void 0,{needsNewScope:d.$$isolateScope||d.$$newScope});wt.$$slots=ft}if(d.template)if(nr=!0,ti("template",st,d,it),st=d,nt=f(d.template)?d.template(it,u):d.template,nt=hr(nt),d.replace){if(v=d,rt=re.test(nt)?ao(ai(d.templateNamespace,p(nt))):[],i=rt[0],1!=rt.length||1!==i.nodeType)throw g("tplrt",et,"");oi(h,it,i);kt={$attr:{}};nt=ci(i,[],kt);ur=n.splice(ct+1,n.length-(ct+1));(tt||ut)&&bi(nt,tt,ut);n=n.concat(nt).concat(ur);ki(u,kt);kt=n.length}else it.html(nt);if(d.templateUrl)nr=!0,ti("template",st,d,it),st=d,d.replace&&(v=d),lt=yr(n.splice(ct,n.length-ct),it,u,h,di&&wt,w,b,{controllerDirectives:ot,newScopeDirective:ut!==d&&ut,newIsolateScopeDirective:tt,templateDirective:st,nonTlbTranscludeDirective:ii}),kt=n.length;else if(d.compile)try{pt=d.compile(it,u,wt);f(pt)?rr(null,pt,ni,ei):pt&&rr(pt.pre,pt.post,ni,ei)}catch(er){l(er,vt(it))}d.terminal&&(lt.terminal=!0,gt=Math.max(gt,d.priority))}return lt.scope=ut&&!0===ut.scope,lt.transcludeOnThisElement=di,lt.templateOnThisElement=nr,lt.transclude=wt,k.hasElementTranscludeDirective=ui,lt}function ri(n,i,r,u){var f,o,e,l;if(h(i)){if(e=i.match(ot),i=i.substring(e[0].length),o=e[1]||e[3],e="?"===e[2],("^^"===o?r=r.parent():f=(f=u&&u[i])&&f.instance,f)||(l="$"+i+"Controller",f=o?r.inheritedData(l):r.data(l)),!f&&!e)throw g("ctreq",i,n);}else if(c(i))for(f=[],o=0,e=i.length;e>o;o++)f[o]=ri(n,i[o],r,u);else s(i)&&(f={},t(i,function(t,i){f[i]=ri(n,t,r,u)}));return f||null}function ar(n,t,i,r,u,f,e){var c,l=y();for(c in r){var o=r[c],s={$scope:o===e||o.$$isolateScope?u:f,$element:n,$attrs:t,$transclude:i},h=o.controller;"@"==h&&(h=t[o.name]);s=ft(h,s,!0,o.controllerAs);l[o.name]=s;n.data("$"+o.name+"Controller",s.instance)}return l}function bi(n,t,i){for(var r=0,u=n.length;u>r;r++)n[r]=ef(n[r],{$$isolateScope:t,$$newScope:i})}function ei(n,t,u,f,e,o,h){var c,p,nt,w,tt,k;if(t===e)return null;if(e=null,b.hasOwnProperty(t))for(t=i.get(t+"Directive"),p=0,nt=t.length;nt>p;p++)try{if(c=t[p],(r(f)||f>c.priority)&&-1!=c.restrict.indexOf(u)){if(o&&(c=ef(c,{$$start:o,$$end:h})),!c.$$bindings){var it=c,a=c,y=c.name,v={isolateScope:null,bindToController:null};if(s(a.scope)&&(!0===a.bindToController?(v.bindToController=d(a.scope,y,!0),v.isolateScope={}):v.isolateScope=d(a.scope,y,!1)),s(a.bindToController)&&(v.bindToController=d(a.bindToController,y,!0)),s(v.bindToController)){if(w=a.controller,tt=a.controllerAs,!w)throw g("noctrl",y);if(!vo(w,tt))throw g("noident",y);}k=it.$$bindings=v;s(k.isolateScope)&&(c.$$isolateBindings=k.isolateScope)}n.push(c);e=c}}catch(rt){l(rt)}return e}function vr(n){if(b.hasOwnProperty(n))for(var r=i.get(n+"Directive"),t=0,u=r.length;u>t;t++)if(n=r[t],n.multiElement)return!0;return!1}function ki(n,i){var u=i.$attr,f=n.$attr,r=n.$$element;t(n,function(t,r){"$"!=r.charAt(0)&&(i[r]&&i[r]!==t&&(t+=("style"===r?";":" ")+i[r]),n.$set(r,t,!0,u[r]))});t(i,function(t,i){"class"==i?(fi(r,t),n["class"]=(n["class"]?n["class"]+" ":"")+t):"style"==i?(r.attr("style",r.attr("style")+";"+t),n.style=(n.style?n.style+";":"")+t):"$"==i.charAt(0)||n.hasOwnProperty(i)||(n[i]=t,f[i]=u[i])})}function yr(n,i,r,u,o,h,c,l){var y,w,v=[],b=i[0],a=n.shift(),d=ef(a,{templateUrl:null,transclude:null,replace:null,$$originalDirective:a}),k=f(a.templateUrl)?a.templateUrl(i,r):a.templateUrl,tt=a.templateNamespace;return i.empty(),nt(k).then(function(f){var nt,rt,it,ft;if(f=hr(f),a.replace){if(f=re.test(f)?ao(ai(tt,p(f))):[],nt=f[0],1!=f.length||1!==nt.nodeType)throw g("tplrt",a.name,k);f={$attr:{}};oi(u,i,nt);it=ci(nt,[],f);s(a.scope)&&bi(it,!0);n=it.concat(n);ki(r,f)}else nt=b,i.html(f);for(n.unshift(d),y=wi(n,nt,r,o,i,a,h,c,l),t(u,function(n,t){n==nt&&(u[t]=i[0])}),w=hi(i[0].childNodes,o);v.length;){f=v.shift();rt=v.shift();var et=v.shift(),ut=v.shift(),it=i[0];f.$$destroyed||(rt!==b&&(ft=rt.className,l.hasElementTranscludeDirective&&a.replace||(it=cf(nt)),oi(et,e(rt),it),fi(e(it),ft)),rt=y.transcludeOnThisElement?ii(f,y.transclude,ut):ut,y(w,f,it,u,rt))}v=null}),function(n,t,i,r,u){n=u;t.$$destroyed||(v?v.push(t,i,r,n):(y.transcludeOnThisElement&&(n=ii(t,y.transclude,u)),y(w,t,i,r,n)))}}function pr(n,t){var i=t.priority-n.priority;return 0!==i?i:n.name!==t.name?n.name<t.name?-1:1:n.index-t.index}function ti(n,t,i,r){function u(n){return n?" (module: "+n+")":""}if(t)throw g("multidir",t.name,u(t.$$moduleName),i.name,u(i.$$moduleName),n,vt(r));}function wr(n,t){var i=u(t,!0);i&&n.push({priority:0,compile:function(n){n=n.parent();var t=!!n.length;return t&&dt.$$addBindingClass(n),function(n,r){var u=r.parent();t||dt.$$addBindingClass(u);dt.$$addBindingInfo(u,i.expressions);n.$watch(i,function(n){r[0].nodeValue=n})}}})}function ai(t,i){switch(t=v(t||"html")){case"svg":case"math":var r=n.document.createElement("div");return r.innerHTML="<"+t+">"+i+"<\/"+t+">",r.childNodes[0].childNodes;default:return i}}function br(n,t){if("srcdoc"==t)return lt.HTML;var i=at(n);if("xlinkHref"==t||"form"==i&&"action"==t||"img"!=i&&("src"==t||"ngSrc"==t))return lt.RESOURCE_URL}function kr(n,t,i,r,f){var o=br(n,r),e;if(f=et[r]||f,e=u(i,!0,o,f),e){if("multiple"===r&&"select"===at(n))throw g("selmulti",vt(n));t.push({priority:100,compile:function(){return{pre:function(n,t,s){if(t=s.$$observers||(s.$$observers=y()),ht.test(r))throw g("nodomevents");var h=s[r];h!==i&&(e=h&&u(h,!0,o,f),i=h);e&&(s[r]=e(n),(t[r]||(t[r]=[])).$$inter=!0,(s.$$observers&&s.$$observers[r].$$scope||n).$watch(e,function(n,t){"class"===r&&n!=t?s.$updateClass(n,t):s.$set(r,n)}))}}}})}}function oi(t,i,r){var u,o,f=i[0],s=i.length,c=f.parentNode,h;if(t)for(u=0,o=t.length;o>u;u++)if(t[u]==f){for(t[u++]=r,o=u+s-1,h=t.length;h>u;u++,o++)h>o?t[u]=t[o]:delete t[u];t.length-=s-1;t.context===f&&(t.context=r);break}for(c&&c.replaceChild(r,f),t=n.document.createDocumentFragment(),u=0;s>u;u++)t.appendChild(i[u]);for(e.hasData(f)&&(e.data(r,e.data(f)),e(f).off("$destroy")),e.cleanData(t.querySelectorAll("*")),u=1;s>u;u++)delete i[u];i[0]=r;i.length=1}function gi(n,t){return a(function(){return n.apply(null,arguments)},n,t)}function tr(n,t,i,r,u,f){try{n(t,i,r,u,f)}catch(e){l(e,vt(i))}}function vi(n,i,r,e,s){function v(t,i,u){f(r.$onChanges)&&i!==u&&(gt||(n.$$postDigest(cr),gt=[]),c||(c={},gt.push(y)),c[t]&&(u=c[t].previousValue),c[t]=new hu(u,i))}function y(){r.$onChanges(c);c=void 0}var c,l=[],a={};return t(e,function(t,f){var p,y,b,w,e=t.attrName,c=t.optional;switch(t.mode){case"@":c||wt.call(i,e)||(r[f]=i[e]=void 0);i.$observe(e,function(n){(h(n)||ui(n))&&(v(f,n,r[f]),r[f]=n)});i.$$observers[e].$$scope=n;p=i[e];h(p)?r[f]=u(p)(n):ui(p)&&(r[f]=p);a[f]=new hu(ee,r[f]);break;case"=":if(!wt.call(i,e)){if(c)break;i[e]=void 0}if(c&&!i[e])break;y=tt(i[e]);w=y.literal?st:function(n,t){return n===t||n!==n&&t!==t};b=y.assign||function(){throw p=r[f]=y(n),g("nonassign",i[e],e,s.name);};p=r[f]=y(n);c=function(t){return w(t,r[f])||(w(t,p)?b(n,t=r[f]):r[f]=t),p=t};c.$stateful=!0;c=t.collection?n.$watchCollection(i[e],c):n.$watch(tt(i[e],c),null,y.literal);l.push(c);break;case"<":if(!wt.call(i,e)){if(c)break;i[e]=void 0}if(c&&!i[e])break;y=tt(i[e]);r[f]=y(n);a[f]=new hu(ee,r[f]);c=n.$watch(y,function(n,t){n===t&&(t=r[f]);v(f,n,t);r[f]=n},y.literal);l.push(c);break;case"&":if(y=i.hasOwnProperty(e)?tt(i[e]):o,y===o&&c)break;r[f]=function(t){return y(n,t)}}}),{initialChanges:a,removeWatches:l.length&&function(){for(var n=0,t=l.length;t>n;++n)l[n]()}}}var gt,dr=/^\w/,rr=n.document.createElement("div"),ur=k;si.prototype={$normalize:yt,$addClass:function(n){n&&0<n.length&&pt.addClass(this.$$element,n)},$removeClass:function(n){n&&0<n.length&&pt.removeClass(this.$$element,n)},$updateClass:function(n,t){var i=lo(n,t);i&&i.length&&pt.addClass(this.$$element,i);(i=lo(t,n))&&i.length&&pt.removeClass(this.$$element,i)},$set:function(n,i,u,f){var o=so(this.$$element[0],n),e=fe[n],c=n;if(o?(this.$$element.prop(n,i),f=o):e&&(this[e]=i,c=e),this[n]=i,f?this.$attr[n]=f:(f=this.$attr[n])||(this.$attr[n]=f=ge(n,"-")),o=at(this.$$element),"a"===o&&("href"===n||"xlinkHref"===n)||"img"===o&&"src"===n)this[n]=i=kt(i,"src"===n);else if("img"===o&&"srcset"===n){for(var o="",e=p(i),h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(e)?h:/(,)/,e=e.split(h),h=Math.floor(e.length/2),s=0;h>s;s++)var a=2*s,o=o+kt(p(e[a]),!0),o=o+(" "+p(e[a+1]));e=p(e[2*s]).split(/\s/);o+=kt(p(e[0]),!0);2===e.length&&(o+=" "+p(e[1]));this[n]=i=o}!1!==u&&(null===i||r(i)?this.$$element.removeAttr(f):dr.test(f)?this.$$element.attr(f,i):lr(this.$$element[0],f,i));(n=this.$$observers)&&t(n[c],function(n){try{n(i)}catch(t){l(t)}})},$observe:function(n,t){var i=this,f=i.$$observers||(i.$$observers=y()),u=f[n]||(f[n]=[]);return u.push(t),ct.$evalAsync(function(){u.$$inter||!i.hasOwnProperty(n)||r(i[n])||t(i[n])}),function(){er(u,t)}}};var or=u.startSymbol(),sr=u.endSymbol(),hr="{{"==or&&"}}"==sr?ir:function(n){return n.replace(/\{\{/g,or).replace(/}}/g,sr)},gr=/^ngAttr[A-Z]/,nu=/^(.+)Start$/;return dt.$$addBindingInfo=w?function(n,t){var i=n.data("$binding")||[];c(t)?i=i.concat(t):i.push(t);n.data("$binding",i)}:o,dt.$$addBindingClass=w?function(n){fi(n,"ng-binding")}:o,dt.$$addScopeInfo=w?function(n,t,i,r){n.data(i?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:o,dt.$$addScopeClass=w?function(n,t){fi(n,t?"ng-isolate-scope":"ng-scope")}:o,dt.$$createComment=function(t,i){var r="";return w&&(r=" "+(t||"")+": "+(i||"")+" "),n.document.createComment(r)},dt}]}function hu(n,t){this.previousValue=n;this.currentValue=t}function yt(n){return hr(n.replace(lh,""))}function lo(n,t){var r="",e=n.split(/\s+/),o=t.split(/\s+/),u=0,f,i;n:for(;u<e.length;u++){for(f=e[u],i=0;i<o.length;i++)if(f==o[i])continue n;r+=(0<r.length?" ":"")+f}return r}function ao(n){n=e(n);var t=n.length;if(1>=t)return n;for(;t--;)8===n[t].nodeType&&yv.call(n,t,1);return n}function vo(n,t){if(t&&h(t))return t;if(h(n)){var i=ah.exec(n);if(i)return i[3]}}function dl(){var n={},t=!1;this.has=function(t){return n.hasOwnProperty(t)};this.register=function(t,i){pi(t,"controller");s(t)?a(n,t):n[t]=i};this.allowGlobals=function(){t=!0};this.$get=["$injector","$window",function(i,r){function u(n,t,i,r){if(!n||!s(n.$scope))throw l("$controller")("noscp",r,t);n.$scope[t]=i}return function(e,o,l,v){var y,p,w;if(l=!0===l,v&&h(v)&&(w=v),h(e)){if(v=e.match(ah),!v)throw by("ctrlfmt",e);p=v[1];w=w||v[3];e=n.hasOwnProperty(p)?n[p]:no(o.$scope,p,!0)||(t?no(r,p,!0):void 0);yi(e,p,!0)}return l?(l=(c(e)?e[e.length-1]:e).prototype,y=Object.create(l||null),w&&u(o,w,y,p||e.name),a(function(){var n=i.invoke(e,y,o,p);return n!==y&&(s(n)||f(n))&&(y=n,w&&u(o,w,y,p||e.name)),y},{instance:y,identifier:w})):(y=i.instantiate(e,o,p),w&&u(o,w,y,p||e.name),y)}}]}function gl(){this.$get=["$window",function(n){return e(n.document)}]}function na(){this.$get=["$log",function(n){return function(){n.error.apply(n,arguments)}}]}function vf(n){return s(n)?et(n)?n.toISOString():sr(n):n}function ta(){this.$get=function(){return function(n){if(!n)return"";var i=[];return ce(n,function(n,u){null===n||r(n)||(c(n)?t(n,function(n){i.push(ht(u)+"="+ht(vf(n)))}):i.push(ht(u)+"="+ht(vf(n))))}),i.join("&")}}}function ia(){this.$get=function(){return function(n){function i(n,f,e){null===n||r(n)||(c(n)?t(n,function(n,t){i(n,f+"["+(s(n)?t:"")+"]")}):s(n)&&!et(n)?ce(n,function(n,t){i(n,f+(e?"":"[")+t+(e?"":"]"))}):u.push(ht(f)+"="+ht(vf(n))))}if(!n)return"";var u=[];return i(n,"",!0),u.join("&")}}}function yf(n,t){var r,i;return h(n)&&(r=n.replace(np,"").trim(),r&&(i=t("Content-Type"),(i=i&&0===i.indexOf(vh))||(i=(i=r.match(dy))&&gy[i[0]].test(r)),i&&(n=pe(r)))),n}function yo(n){var r,i=y();return h(n)?t(n.split("\n"),function(n){r=n.indexOf(":");var t=v(p(n.substr(0,r)));n=p(n.substr(r+1));t&&(i[t]=i[t]?i[t]+", "+n:n)}):s(n)&&t(n,function(n,t){var r=v(t),u=p(n);r&&(i[r]=i[r]?i[r]+", "+u:u)}),i}function po(n){var t;return function(i){return t||(t=yo(n)),i?(i=t[v(i)],void 0===i&&(i=null),i):t}}function wo(n,i,r,u){return f(u)?u(n,i,r):(t(u,function(t){n=t(n,i,r)}),n)}function ra(){var n=this.defaults={transformResponse:[yf],transformRequest:[function(n){return s(n)&&"[object File]"!==rt.call(n)&&"[object Blob]"!==rt.call(n)&&"[object FormData]"!==rt.call(n)?sr(n):n}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ot(oe),put:ot(oe),patch:ot(oe)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},i=!1,e,o;this.useApplyAsync=function(n){return u(n)?(i=!!n,this):i};e=!0;this.useLegacyPromiseExtensions=function(n){return u(n)?(e=!!n,this):e};o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(y,p,w,b,k,d){function g(i){function y(n){var t=a({},n);return t.data=wo(n.data,n.headers,n.status,u.transformResponse),n=n.status,n>=200&&300>n?t:k.reject(t)}function w(n,i){var r,u={};return t(n,function(n,t){f(n)?(r=n(i),null!=r&&(u[t]=r)):u[t]=n}),u}var u,c,p,o;if(!s(i))throw l("$http")("badreq",i);if(!h(i.url))throw l("$http")("badreq",i.url);for(u=a({method:"get",transformRequest:n.transformRequest,transformResponse:n.transformResponse,paramSerializer:n.paramSerializer},i),u.headers=function(t){var i,f,e,r=n.headers,u=a({},t.headers),r=a({},r.common,r[v(t.method)]);n:for(i in r){f=v(i);for(e in u)if(v(e)===f)continue n;u[i]=r[i]}return w(u,ot(t))}(i),u.method=pu(u.method),u.paramSerializer=h(u.paramSerializer)?d.get(u.paramSerializer):u.paramSerializer,c=[function(i){var u=i.headers,f=wo(i.data,po(u),void 0,i.transformRequest);return r(f)&&t(u,function(n,t){"content-type"===v(t)&&delete u[t]}),r(i.withCredentials)&&!r(n.withCredentials)&&(i.withCredentials=n.withCredentials),tt(i,f).then(y,y)},void 0],o=k.when(u),t(nt,function(n){(n.request||n.requestError)&&c.unshift(n.request,n.requestError);(n.response||n.responseError)&&c.push(n.response,n.responseError)});c.length;)i=c.shift(),p=c.shift(),o=o.then(i,p);return e?(o.success=function(n){return yi(n,"fn"),o.then(function(t){n(t.data,t.status,t.headers,u)}),o},o.error=function(n){return yi(n,"fn"),o.then(null,function(t){n(t.data,t.status,t.headers,u)}),o}):(o.success=yh("success"),o.error=yh("error")),o}function tt(e,o){function nt(n){if(n){var r={};return t(n,function(n,t){r[t]=function(t){function r(){n(t)}i?b.$applyAsync(r):b.$$phase?r():b.$apply(r)}}),r}}function et(n,t,r,u){function f(){v(t,n,r,u)}l&&(n>=200&&300>n?l.put(a,[n,t,yo(r),u]):l.remove(a));i?b.$applyAsync(f):(f(),b.$$phase||b.$apply())}function v(n,t,i,r){t=t>=-1?t:0;(t>=200&&300>t?w.resolve:w.reject)({data:n,status:t,headers:po(i),config:e,statusText:r})}function tt(n){v(n.data,n.status,ot(n.headers()),n.statusText)}function ut(){var n=g.pendingRequests.indexOf(e);-1!==n&&g.pendingRequests.splice(n,1)}var l,h,w=k.defer(),d=w.promise,ft=e.headers,a=it(e.url,e.paramSerializer(e.params));return g.pendingRequests.push(e),d.then(ut,ut),!e.cache&&!n.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method||(l=s(e.cache)?e.cache:s(n.cache)?n.cache:rt),l&&(h=l.get(a),u(h)?h&&f(h.then)?h.then(tt,tt):c(h)?v(h[1],h[0],ot(h[2]),h[3]):v(h,200,{},"OK"):l.put(a,d)),r(h)&&((h=ls(e.url)?p()[e.xsrfCookieName||n.xsrfCookieName]:void 0)&&(ft[e.xsrfHeaderName||n.xsrfHeaderName]=h),y(e.method,a,o,et,ft,e.timeout,e.withCredentials,e.responseType,nt(e.eventHandlers),nt(e.uploadEventHandlers))),d}function it(n,t){return 0<t.length&&(n+=(-1==n.indexOf("?")?"?":"&")+t),n}var rt=w("$http"),nt;return n.paramSerializer=h(n.paramSerializer)?d.get(n.paramSerializer):n.paramSerializer,nt=[],t(o,function(n){nt.unshift(h(n)?d.get(n):d.invoke(n))}),g.pendingRequests=[],function(){t(arguments,function(n){g[n]=function(t,i){return g(a({},i||{},{method:n,url:t}))}})}("get","delete","head","jsonp"),function(){t(arguments,function(n){g[n]=function(t,i,r){return g(a({},r||{},{method:n,url:t,data:i}))}})}("post","put","patch"),g.defaults=n,g}]}function ua(){this.$get=function(){return function(){return new n.XMLHttpRequest}}}function fa(){this.$get=["$browser","$window","$document","$xhrFactory",function(n,t,i,r){return ea(n,r,n.defer,t.angular.callbacks,i[0])}]}function ea(n,i,e,s,h){function c(n,t,i){var r=h.createElement("script"),u=null;return r.type="text/javascript",r.src=n,r.async=!0,u=function(n){r.removeEventListener("load",u,!1);r.removeEventListener("error",u,!1);h.body.removeChild(r);r=null;var f=-1,e="unknown";n&&("load"!==n.type||s[t].called||(n={type:"error"}),e=n.type,f="error"===n.type?404:200);i&&i(f,e)},r.addEventListener("load",u,!1),r.addEventListener("error",u,!1),h.body.appendChild(r),u}return function(h,l,a,y,p,w,b,k,d,g){function ft(){it&&it();nt&&nt.abort()}function rt(t,i,r,f,s){u(ut)&&e.cancel(ut);it=nt=null;t(i,r,f,s);n.$$completeOutstandingRequest(o)}var tt,it,nt,ut;if(n.$$incOutstandingRequestCount(),l=l||n.url(),"jsonp"==v(h))tt="_"+(s.counter++).toString(36),s[tt]=function(n){s[tt].data=n;s[tt].called=!0},it=c(l.replace("JSON_CALLBACK","angular.callbacks."+tt),tt,function(n,t){rt(y,n,s[tt].data,"",t);s[tt]=o});else{if(nt=i(h,l),nt.open(h,l,!0),t(p,function(n,t){u(n)&&nt.setRequestHeader(t,n)}),nt.onload=function(){var i=nt.statusText||"",t="response"in nt?nt.response:nt.responseText,n=1223===nt.status?204:nt.status;0===n&&(n=t?200:"file"==gt(l).protocol?404:0);rt(y,n,t,nt.getAllResponseHeaders(),i)},h=function(){rt(y,-1,null,null,"")},nt.onerror=h,nt.onabort=h,t(d,function(n,t){nt.addEventListener(t,n)}),t(g,function(n,t){nt.upload.addEventListener(t,n)}),b&&(nt.withCredentials=!0),k)try{nt.responseType=k}catch(et){if("json"!==k)throw et;}nt.send(r(a)?null:a)}w>0?ut=e(ft,w):w&&f(w.then)&&w.then(ft)}}function oa(){var n="{{",t="}}";this.startSymbol=function(t){return t?(n=t,this):n};this.endSymbol=function(n){return n?(t=n,this):t};this.$get=["$parse","$exceptionHandler","$sce",function(i,e,o){function c(n){return"\\\\\\"+n}function s(i){return i.replace(p,n).replace(w,t)}function v(n,t,i,r){var u;return u=n.$watch(function(n){return u(),r(n)},t,i)}function h(h,c,p,w){function et(n){var i,t;try{if(i=n,n=p?o.getTrusted(p,i):o.valueOf(i),w&&!u(n))t=n;else if(null==n)t="";else{switch(typeof n){case"string":break;case"number":n=""+n;break;default:n=sr(n)}t=n}return t}catch(r){e(vi.interr(h,r))}}var k,d,rt,ut;if(!h.length||-1===h.indexOf(n))return c||(c=s(h),k=ft(c),k.exp=h,k.expressions=[],k.$$watchDelegate=v),k;w=!!w;var g,tt,b=0,nt=[],it=[];for(k=h.length,d=[],rt=[];k>b;){if(-1==(g=h.indexOf(n,b))||-1==(tt=h.indexOf(t,g+l))){b!==k&&d.push(s(h.substring(b)));break}b!==g&&d.push(s(h.substring(b,g)));b=h.substring(g+l,tt);nt.push(b);it.push(i(b,et));b=tt+y;rt.push(d.length);d.push("")}if(p&&1<d.length&&vi.throwNoconcat(h),!c||nt.length)return ut=function(n){for(var t=0,i=nt.length;i>t;t++){if(w&&r(n[t]))return;d[rt[t]]=n[t]}return d.join("")},a(function(n){var t=0,i=nt.length,r=Array(i);try{for(;i>t;t++)r[t]=it[t](n);return ut(r)}catch(u){e(vi.interr(h,u))}},{exp:h,expressions:nt,$$watchDelegate:function(n,t){var i;return n.$watchGroup(it,function(r,u){var e=ut(r);f(t)&&t.call(this,e,r!==u?i:e,n);i=e})}})}var l=n.length,y=t.length,p=new RegExp(n.replace(/./g,c),"g"),w=new RegExp(t.replace(/./g,c),"g");return h.startSymbol=function(){return n},h.endSymbol=function(){return t},h}]}function sa(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(n,t,i,r,f){function o(o,s,h,c){function p(){w?o.apply(null,b):o(a)}var w=4<arguments.length,b=w?bt.call(arguments,4):[],k=t.setInterval,d=t.clearInterval,a=0,y=u(c)&&!c,v=(y?r:i).defer(),l=v.promise;return h=u(h)?h:0,l.$$intervalId=k(function(){y?f.defer(p):n.$evalAsync(p);v.notify(a++);h>0&&a>=h&&(v.resolve(a),d(l.$$intervalId),delete e[l.$$intervalId]);y||n.$apply()},s),e[l.$$intervalId]=v,l}var e={};return o.cancel=function(n){return n&&n.$$intervalId in e?(e[n.$$intervalId].reject("canceled"),t.clearInterval(n.$$intervalId),delete e[n.$$intervalId],!0):!1},o}]}function pf(n){n=n.split("/");for(var t=n.length;t--;)n[t]=nu(n[t]);return n.join("/")}function bo(n,t){var i=gt(n);t.$$protocol=i.protocol;t.$$host=i.hostname;t.$$port=tt(i.port)||rp[i.protocol]||null}function ko(n,t){var r="/"!==n.charAt(0),i;r&&(n="/"+n);i=gt(n);t.$$path=decodeURIComponent(r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname);t.$$search=ke(i.search);t.$$hash=decodeURIComponent(i.hash);t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function pt(n,t){if(0===t.indexOf(n))return t.substr(n.length)}function oi(n){var t=n.indexOf("#");return-1==t?n:n.substr(0,t)}function vr(n){return n.replace(/(#.+)|#$/,"$1")}function wf(n,t,i){this.$$html5=!0;i=i||"";bo(n,this);this.$$parse=function(n){var i=pt(t,n);if(!h(i))throw gu("ipthprfx",n,t);ko(i,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var n=hf(this.$$search),i=this.$$hash?"#"+nu(this.$$hash):"";this.$$url=pf(this.$$path)+(n?"?"+n:"")+i;this.$$absUrl=t+this.$$url.substr(1)};this.$$parseLinkUrl=function(r,f){if(f&&"#"===f[0])return this.hash(f.slice(1)),!0;var e,o;return u(e=pt(n,r))?(o=e,o=u(e=pt(i,e))?t+(pt("/",e)||e):n+o):u(e=pt(t,r))?o=t+e:t==r+"/"&&(o=t),o&&this.$$parse(o),!!o}}function bf(n,t,i){bo(n,this);this.$$parse=function(u){var f,e=pt(n,u)||pt(t,u),o;r(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",r(e)&&(n=u,this.replace())):(f=pt(i,e),r(f)&&(f=e));ko(f,this);u=this.$$path;e=n;o=/^\/[A-Z]:(\/.*)/;0===f.indexOf(e)&&(f=f.replace(e,""));o.exec(f)||(u=(f=o.exec(u))?f[1]:u);this.$$path=u;this.$$compose()};this.$$compose=function(){var t=hf(this.$$search),r=this.$$hash?"#"+nu(this.$$hash):"";this.$$url=pf(this.$$path)+(t?"?"+t:"")+r;this.$$absUrl=n+(this.$$url?i+this.$$url:"")};this.$$parseLinkUrl=function(t){return oi(n)==oi(t)?(this.$$parse(t),!0):!1}}function go(n,t,i){this.$$html5=!0;bf.apply(this,arguments);this.$$parseLinkUrl=function(r,u){if(u&&"#"===u[0])return this.hash(u.slice(1)),!0;var f,e;return n==oi(r)?f=r:(e=pt(t,r))?f=n+i+e:t===r+"/"&&(f=t),f&&this.$$parse(f),!!f};this.$$compose=function(){var t=hf(this.$$search),r=this.$$hash?"#"+nu(this.$$hash):"";this.$$url=pf(this.$$path)+(t?"?"+t:"")+r;this.$$absUrl=n+i+this.$$url}}function cu(n){return function(){return this[n]}}function ns(n,t){return function(i){return r(i)?this[n]:(this[n]=t(i),this.$$compose(),this)}}function ha(){var t="",n={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(n){return u(n)?(t=n,this):t};this.html5Mode=function(t){return ui(t)?(n.enabled=t,this):s(t)?(ui(t.enabled)&&(n.enabled=t.enabled),ui(t.requireBase)&&(n.requireBase=t.requireBase),ui(t.rewriteLinks)&&(n.rewriteLinks=t.rewriteLinks),this):n};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,u,f,o,h){function w(n,t,i){var r=c.url(),f=c.$$state;try{u.url(n,t,i);c.$$state=u.state()}catch(e){throw c.url(r),c.$$state=f,e;}}function b(n,t){i.$broadcast("$locationChangeSuccess",c.absUrl(),n,c.$$state,t)}var c,a,v,l,p,k,y;if(a=u.baseHref(),l=u.url(),n.enabled){if(!a&&n.requireBase)throw gu("nobase");v=l.substring(0,l.indexOf("/",l.indexOf("//")+2))+(a||"/");a=f.history?wf:go}else v=oi(l),a=bf;return p=v.substr(0,oi(v).lastIndexOf("/")+1),c=new a(v,p,"#"+t),c.$$parseLinkUrl(l,l),c.$$state=u.state(),k=/^\s*(javascript|mailto):/i,o.on("click",function(t){var r,f,l;if(n.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(r=e(t.target);"a"!==at(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;f=r.prop("href");l=r.attr("href")||r.attr("xlink:href");s(f)&&"[object SVGAnimatedString]"===f.toString()&&(f=gt(f.animVal).href);k.test(f)||!f||r.attr("target")||t.isDefaultPrevented()||!c.$$parseLinkUrl(f,l)||(t.preventDefault(),c.absUrl()!=u.url()&&(i.$apply(),h.angular["ff-684208-preventDefault"]=!0))}}),vr(c.absUrl())!=vr(l)&&u.url(c.absUrl(),!0),y=!0,u.onUrlChange(function(n,t){r(pt(p,n))?h.location.href=n:(i.$evalAsync(function(){var f,r=c.absUrl(),u=c.$$state;n=vr(n);c.$$parse(n);c.$$state=t;f=i.$broadcast("$locationChangeStart",n,r,t,u).defaultPrevented;c.absUrl()===n&&(f?(c.$$parse(r),c.$$state=u,w(r,!1,u)):(y=!1,b(r,u)))}),i.$$phase||i.$digest())}),i.$watch(function(){var t=vr(u.url()),e=vr(c.absUrl()),n=u.state(),o=c.$$replace,r=t!==e||c.$$html5&&f.history&&n!==c.$$state;(y||r)&&(y=!1,i.$evalAsync(function(){var u=c.absUrl(),f=i.$broadcast("$locationChangeStart",u,t,c.$$state,n).defaultPrevented;c.absUrl()===u&&(f?(c.$$parse(t),c.$$state=n):(r&&w(u,o,n===c.$$state?null:c.$$state),b(t,n)))}));c.$$replace=!1}),c}]}function ca(){var n=!0,i=this;this.debugEnabled=function(t){return u(t)?(n=t,this):n};this.$get=["$window",function(r){function f(n){return n instanceof Error&&(n.stack?n=n.message&&-1===n.stack.indexOf(n.message)?"Error: "+n.message+"\n"+n.stack:n.stack:n.sourceURL&&(n=n.message+"\n"+n.sourceURL+":"+n.line)),n}function u(n){var i=r.console||{},u=i[n]||i.log||o;n=!1;try{n=!!u.apply}catch(e){}return n?function(){var n=[];return t(arguments,function(t){n.push(f(t))}),u.apply(i,n)}:function(n,t){u(n,null==t?"":t)}}return{log:u("log"),info:u("info"),warn:u("warn"),error:u("error"),debug:function(){var t=u("debug");return function(){n&&t.apply(i,arguments)}}()}}]}function bi(n,t){if("__defineGetter__"===n||"__defineSetter__"===n||"__lookupGetter__"===n||"__lookupSetter__"===n||"__proto__"===n)throw it("isecfld",t);return n}function la(n){return n+""}function dt(n,t){if(n){if(n.constructor===n)throw it("isecfn",t);if(n.window===n)throw it("isecwindow",t);if(n.children&&(n.nodeName||n.prop&&n.attr&&n.find))throw it("isecdom",t);if(n===Object)throw it("isecobj",t);}return n}function ts(n,t){if(n){if(n.constructor===n)throw it("isecfn",t);if(n===fp||n===ep||n===op)throw it("isecff",t);}}function lu(n,t){if(n&&(n===0..constructor||n===(!1).constructor||n==="".constructor||n==={}.constructor||n===[].constructor||n===Function.constructor))throw it("isecaf",t);}function aa(n,t){return"undefined"!=typeof n?n:t}function is(n,t){return"undefined"==typeof n?t:"undefined"==typeof t?n:n+t}function k(n,r){var u,f;switch(n.type){case i.Program:u=!0;t(n.body,function(n){k(n.expression,r);u=u&&n.expression.constant});n.constant=u;break;case i.Literal:n.constant=!0;n.toWatch=[];break;case i.UnaryExpression:k(n.argument,r);n.constant=n.argument.constant;n.toWatch=n.argument.toWatch;break;case i.BinaryExpression:k(n.left,r);k(n.right,r);n.constant=n.left.constant&&n.right.constant;n.toWatch=n.left.toWatch.concat(n.right.toWatch);break;case i.LogicalExpression:k(n.left,r);k(n.right,r);n.constant=n.left.constant&&n.right.constant;n.toWatch=n.constant?[]:[n];break;case i.ConditionalExpression:k(n.test,r);k(n.alternate,r);k(n.consequent,r);n.constant=n.test.constant&&n.alternate.constant&&n.consequent.constant;n.toWatch=n.constant?[]:[n];break;case i.Identifier:n.constant=!1;n.toWatch=[n];break;case i.MemberExpression:k(n.object,r);n.computed&&k(n.property,r);n.constant=n.object.constant&&(!n.computed||n.property.constant);n.toWatch=[n];break;case i.CallExpression:u=n.filter?!r(n.callee.name).$stateful:!1;f=[];t(n.arguments,function(n){k(n,r);u=u&&n.constant;n.constant||f.push.apply(f,n.toWatch)});n.constant=u;n.toWatch=n.filter&&!r(n.callee.name).$stateful?f:[n];break;case i.AssignmentExpression:k(n.left,r);k(n.right,r);n.constant=n.left.constant&&n.right.constant;n.toWatch=[n];break;case i.ArrayExpression:u=!0;f=[];t(n.elements,function(n){k(n,r);u=u&&n.constant;n.constant||f.push.apply(f,n.toWatch)});n.constant=u;n.toWatch=f;break;case i.ObjectExpression:u=!0;f=[];t(n.properties,function(n){k(n.value,r);u=u&&n.value.constant;n.value.constant||f.push.apply(f,n.value.toWatch)});n.constant=u;n.toWatch=f;break;case i.ThisExpression:n.constant=!1;n.toWatch=[];break;case i.LocalsExpression:n.constant=!1;n.toWatch=[]}}function rs(n){if(1==n.length){n=n[0].expression;var t=n.toWatch;return 1!==t.length?t:t[0]!==n?t:void 0}}function us(n){return n.type===i.Identifier||n.type===i.MemberExpression}function fs(n){if(1===n.body.length&&us(n.body[0].expression))return{type:i.AssignmentExpression,left:n.body[0].expression,right:{type:i.NGValueParameter},operator:"="}}function es(n){return 0===n.body.length||1===n.body.length&&(n.body[0].expression.type===i.Literal||n.body[0].expression.type===i.ArrayExpression||n.body[0].expression.type===i.ObjectExpression)}function os(n,t){this.astBuilder=n;this.$filter=t}function ss(n,t){this.astBuilder=n;this.$filter=t}function au(n){return"constructor"==n}function kf(n){return f(n.valueOf)?n.valueOf():sp.call(n)}function va(){var n,i,e=y(),s=y(),r={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(n,t){r[n]=t};this.setIdentifierFns=function(t,r){return n=t,i=r,this};this.$get=["$filter",function(h){function p(n,t,i){var r,l,u,f,p;switch(i=i||c,typeof n){case"string":return u=n=n.trim(),f=i?s:e,(r=f[u],r)||(":"===n.charAt(0)&&":"===n.charAt(1)&&(l=!0,n=n.substring(2)),r=i?nt:g,p=new tf(r),r=new rf(p,h,r).parse(n),r.constant?r.$$watchDelegate=d:l?r.$$watchDelegate=r.literal?b:w:r.inputs&&(r.$$watchDelegate=v),i&&(r=a(r)),f[u]=r),y(r,t);case"function":return y(n,t);default:return y(o,t)}}function a(n){function t(t,i,r,u){var f=c;c=!0;try{return n(t,i,r,u)}finally{c=f}}if(!n)return n;t.$$watchDelegate=n.$$watchDelegate;t.assign=a(n.assign);t.constant=n.constant;t.literal=n.literal;for(var i=0;n.inputs&&i<n.inputs.length;++i)n.inputs[i]=a(n.inputs[i]);return t.inputs=n.inputs,t}function l(n,t){return null==n||null==t?n===t:"object"==typeof n&&(n=kf(n),"object"==typeof n)?!1:n===t||n!==n&&t!==t}function v(n,t,i,r,u){var e,f=r.inputs,s;if(1===f.length)return s=l,f=f[0],n.$watch(function(n){var t=f(n);return l(t,s)||(e=r(n,void 0,void 0,[t]),s=t&&kf(t)),e},t,i,u);for(var h=[],c=[],o=0,a=f.length;a>o;o++)h[o]=l,c[o]=null;return n.$watch(function(n){for(var i,u=!1,t=0,o=f.length;o>t;t++)i=f[t](n),(u||(u=!l(i,h[t])))&&(c[t]=i,h[t]=i&&kf(i));return u&&(e=r(n,void 0,void 0,c)),e},t,i,u)}function w(n,t,i,r){var e,o;return e=n.$watch(function(n){return r(n)},function(n,i,r){o=n;f(t)&&t.apply(this,arguments);u(n)&&r.$$postDigest(function(){u(o)&&e()})},i)}function b(n,i,r,e){function o(n){var i=!0;return t(n,function(n){u(n)||(i=!1)}),i}var s,h;return s=n.$watch(function(n){return e(n)},function(n,t,r){h=n;f(i)&&i.call(this,n,t,r);o(n)&&r.$$postDigest(function(){o(h)&&s()})},r)}function d(n,t,i,r){var u;return u=n.$watch(function(n){return u(),r(n)},t,i)}function y(n,t){if(!t)return n;var i=n.$$watchDelegate,r=!1,i=i!==b&&i!==w?function(i,u,f,e){return f=r&&e?e[0]:n(i,u,f,e),t(f,i,u)}:function(i,r,f,e){return f=n(i,r,f,e),i=t(f,i,r),u(f)?i:f};return n.$$watchDelegate&&n.$$watchDelegate!==v?i.$$watchDelegate=n.$$watchDelegate:t.$stateful||(i.$$watchDelegate=v,r=!n.inputs,i.inputs=n.inputs?n.inputs:[n]),i}var k=li().noUnsafeEval,g={csp:k,expensiveChecks:!1,literals:kt(r),isIdentifierStart:f(n)&&n,isIdentifierContinue:f(i)&&i},nt={csp:k,expensiveChecks:!0,literals:kt(r),isIdentifierStart:f(n)&&n,isIdentifierContinue:f(i)&&i},c=!1;return p.$$runningExpensiveChecks=function(){return c},p}]}function ya(){this.$get=["$rootScope","$exceptionHandler",function(n,t){return hs(function(t){n.$evalAsync(t)},t)}]}function pa(){this.$get=["$browser","$exceptionHandler",function(n,t){return hs(function(t){n.defer(t)},t)}]}function hs(n,i){function v(){this.$$state={status:0}}function o(n,t){return function(i){t.call(n,i)}}function y(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,n(function(){var e,n,u,r,o;for(u=t.pending,t.processScheduled=!1,t.pending=void 0,r=0,o=u.length;o>r;++r){n=u[r][0];e=u[r][t.status];try{f(e)?n.resolve(e(t.value)):1===t.status?n.resolve(t.value):n.reject(t.value)}catch(s){n.reject(s);i(s)}}}))}function u(){this.promise=new v}var w=l("$q",TypeError);a(v.prototype,{then:function(n,t,i){if(r(n)&&r(t)&&r(i))return this;var f=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([f,n,t,i]),0<this.$$state.status&&y(this.$$state),f.promise},"catch":function(n){return this.then(null,n)},"finally":function(n,t){return this.then(function(t){return b(t,!0,n)},function(t){return b(t,!1,n)},t)}});a(u.prototype,{resolve:function(n){this.promise.$$state.status||(n===this.promise?this.$$reject(w("qcycle",n)):this.$$resolve(n))},$$resolve:function(n){function c(n){t||(t=!0,e.$$resolve(n))}function u(n){t||(t=!0,e.$$reject(n))}var r,e=this,t=!1;try{(s(n)||f(n))&&(r=n&&n.then);f(r)?(this.promise.$$state.status=-1,r.call(n,c,u,o(this,this.notify))):(this.promise.$$state.value=n,this.promise.$$state.status=1,y(this.promise.$$state))}catch(h){u(h);i(h)}},reject:function(n){this.promise.$$state.status||this.$$reject(n)},$$reject:function(n){this.promise.$$state.value=n;this.promise.$$state.status=2;y(this.promise.$$state)},notify:function(t){var r=this.promise.$$state.pending;0>=this.promise.$$state.status&&r&&r.length&&n(function(){for(var u,e,n=0,o=r.length;o>n;n++){e=r[n][0];u=r[n][3];try{e.notify(f(u)?u(t):t)}catch(s){i(s)}}})}});var h=function(n,t){var i=new u;return t?i.resolve(n):i.reject(n),i.promise},b=function(n,t,i){var r=null;try{f(i)&&(r=i())}catch(u){return h(u,!1)}return r&&f(r.then)?r.then(function(){return h(n,t)},function(n){return h(n,!1)}):h(n,t)},p=function(n,t,i,r){var f=new u;return f.resolve(n),f.promise.then(t,i,r)},e=function(n){if(!f(n))throw w("norslvr",n);var t=new u;return n(function(n){t.resolve(n)},function(n){t.reject(n)}),t.promise};return e.prototype=v.prototype,e.defer=function(){var n=new u;return n.resolve=o(n,n.resolve),n.reject=o(n,n.reject),n.notify=o(n,n.notify),n},e.reject=function(n){var t=new u;return t.reject(n),t.promise},e.when=p,e.resolve=p,e.all=function(n){var r=new u,f=0,i=c(n)?[]:{};return t(n,function(n,t){f++;p(n).then(function(n){i.hasOwnProperty(t)||(i[t]=n,--f||r.resolve(i))},function(n){i.hasOwnProperty(t)||r.reject(n)})}),0===f&&r.resolve(i),r.promise},e}function wa(){this.$get=["$window","$timeout",function(n,t){var i=n.requestAnimationFrame||n.webkitRequestAnimationFrame,f=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.webkitCancelRequestAnimationFrame,r=!!i,u=r?function(n){var t=i(n);return function(){f(t)}}:function(n){var i=t(n,16.66,!1);return function(){t.cancel(i)}};return u.supported=r,u}]}function ba(){function h(n){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++wu;this.$$ChildScope=null}return t.prototype=n,t}var u=10,e=l("$rootScope"),n=null,i=null;this.digestTtl=function(n){return arguments.length&&(u=n),u};this.$get=["$exceptionHandler","$parse","$browser",function(c,l,a){function rt(n){n.currentScope.$$destroyed=!0}function w(n){9===ni&&(n.$$childHead&&w(n.$$childHead),n.$$nextSibling&&w(n.$$nextSibling));n.$parent=n.$$nextSibling=n.$$prevSibling=n.$$childHead=n.$$childTail=n.$root=n.$$watchers=null}function p(){this.$id=++wu;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function g(n){if(v.$$phase)throw e("inprog",v.$$phase);v.$$phase=n}function b(n,t){do n.$$watchersCount+=t;while(n=n.$parent)}function nt(n,t,i){do n.$$listenerCount[i]-=t,0===n.$$listenerCount[i]&&delete n.$$listenerCount[i];while(n=n.$parent)}function tt(){}function it(){for(;d.length;)try{d.shift()()}catch(n){c(n)}i=null}function ut(){null===i&&(i=a.defer(function(){v.$apply(it)}))}p.prototype={constructor:p,$new:function(n,t){var i;return t=t||this,n?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=h(this)),i=new this.$$ChildScope),i.$parent=t,i.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=i,t.$$childTail=i):t.$$childHead=t.$$childTail=i,(n||t!=this)&&i.$on("$destroy",rt),i},$watch:function(t,i,r,u){var e=l(t);if(e.$$watchDelegate)return e.$$watchDelegate(this,i,r,e,t);var h=this,s=h.$$watchers,c={fn:i,last:tt,get:e,exp:u||t,eq:!!r};return n=null,f(i)||(c.fn=o),s||(s=h.$$watchers=[]),s.unshift(c),b(this,1),function(){0<=er(s,c)&&b(h,-1);n=null}},$watchGroup:function(n,i){function c(){o=!1;h?(h=!1,i(r,r,u)):i(r,f,u)}var f=Array(n.length),r=Array(n.length),e=[],u=this,o=!1,h=!0,s;return n.length?1===n.length?this.$watch(n[0],function(n,t,u){r[0]=n;f[0]=t;i(r,n===t?r:f,u)}):(t(n,function(n,t){var i=u.$watch(n,function(n,i){r[t]=n;f[t]=i;o||(o=!0,u.$evalAsync(c))});e.push(i)}),function(){for(;e.length;)e.shift()()}):(s=!0,u.$evalAsync(function(){s&&i(r,r,u)}),function(){s=!1})},$watchCollection:function(n,t){function h(n){i=n;var t,c,o,h;if(!r(i)){if(s(i))if(ri(i))for(u!==a&&(u=a,e=u.length=0,f++),n=i.length,e!==n&&(f++,u.length=e=n),t=0;n>t;t++)h=u[t],o=i[t],c=h!==h&&o!==o,c||h===o||(f++,u[t]=o);else{u!==v&&(u=v={},e=0,f++);n=0;for(t in i)wt.call(i,t)&&(n++,o=i[t],h=u[t],t in u?(c=h!==h&&o!==o,c||h===o||(f++,u[t]=o)):(e++,u[t]=o,f++));if(e>n)for(t in f++,u)wt.call(i,t)||(e--,delete u[t])}else u!==i&&(u=i,f++);return f}}h.$stateful=!0;var i,u,o,c=this,p=1<t.length,f=0,w=l(n,h),a=[],v={},y=!0,e=0;return this.$watch(w,function(){if(y?(y=!1,t(i,i,c)):t(i,o,c),p)if(s(i))if(ri(i)){o=Array(i.length);for(var n=0;n<i.length;n++)o[n]=i[n]}else for(n in o={},i)wt.call(i,n)&&(o[n]=i[n]);else o=i})},$digest:function(){var t,o,s,rt,ut,h,d,l,r,p,w,nt=u,b=[];g("$digest");a.$$checkUrlChange();this===v&&null!==i&&(a.defer.cancel(i),it());n=null;do{for(l=!1,r=this;y.length;){try{w=y.shift();w.scope.$eval(w.expression,w.locals)}catch(ft){c(ft)}n=null}n:do{if(h=r.$$watchers)for(d=h.length;d--;)try{if(t=h[d])if(ut=t.get,(o=ut(r))===(s=t.last)||(t.eq?st(o,s):"number"==typeof o&&"number"==typeof s&&isNaN(o)&&isNaN(s))){if(t===n){l=!1;break n}}else l=!0,n=t,t.last=t.eq?kt(o,null):o,rt=t.fn,rt(o,s===tt?o:s,r),5>nt&&(p=4-nt,b[p]||(b[p]=[]),b[p].push({msg:f(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:o,oldVal:s}))}catch(et){c(et)}if(!(h=r.$$watchersCount&&r.$$childHead||r!==this&&r.$$nextSibling))for(;r!==this&&!(h=r.$$nextSibling);)r=r.$parent}while(r=h);if((l||y.length)&&!nt--)throw v.$$phase=null,e("infdig",u,b);}while(l||y.length);for(v.$$phase=null;k.length;)try{k.shift()()}catch(ot){c(ot)}},$destroy:function(){var n,t;if(!this.$$destroyed){n=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===v&&a.$$applicationDestroyed();b(this,-this.$$watchersCount);for(t in this.$$listenerCount)nt(this,this.$$listenerCount[t],t);n&&n.$$childHead==this&&(n.$$childHead=this.$$nextSibling);n&&n.$$childTail==this&&(n.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=o;this.$on=this.$watch=this.$watchGroup=function(){return o};this.$$listeners={};this.$$nextSibling=null;w(this)}},$eval:function(n,t){return l(n)(this,t)},$evalAsync:function(n,t){v.$$phase||y.length||a.defer(function(){y.length&&v.$digest()});y.push({scope:this,expression:l(n),locals:t})},$$postDigest:function(n){k.push(n)},$apply:function(n){try{g("$apply");try{return this.$eval(n)}finally{v.$$phase=null}}catch(i){c(i)}finally{try{v.$digest()}catch(t){throw c(t),t;}}},$applyAsync:function(n){function t(){i.$eval(n)}var i=this;n&&d.push(t);n=l(n);ut()},$on:function(n,t){var r=this.$$listeners[n],i,u;r||(this.$$listeners[n]=r=[]);r.push(t);i=this;do i.$$listenerCount[n]||(i.$$listenerCount[n]=0),i.$$listenerCount[n]++;while(i=i.$parent);return u=this,function(){var i=r.indexOf(t);-1!==i&&(r[i]=null,nt(u,1,n))}},$emit:function(n){var u,t,f,o=[],r=this,e=!1,i={name:n,targetScope:r,stopPropagation:function(){e=!0},preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},s=or([i],arguments,1);do{for(u=r.$$listeners[n]||o,i.currentScope=r,t=0,f=u.length;f>t;t++)if(u[t])try{u[t].apply(null,s)}catch(h){c(h)}else u.splice(t,1),t--,f--;if(e)return i.currentScope=null,i;r=r.$parent}while(r);return i.currentScope=null,i},$broadcast:function(n){var t=this,i=this,u={name:n,targetScope:this,preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},r,f,e;if(!this.$$listenerCount[n])return u;for(e=or([u],arguments,1);t=i;){for(u.currentScope=t,i=t.$$listeners[n]||[],r=0,f=i.length;f>r;r++)if(i[r])try{i[r].apply(null,e)}catch(o){c(o)}else i.splice(r,1),r--,f--;if(!(i=t.$$listenerCount[n]&&t.$$childHead||t!==this&&t.$$nextSibling))for(;t!==this&&!(i=t.$$nextSibling);)t=t.$parent}return u.currentScope=null,u}};var v=new p,y=v.$$asyncQueue=[],k=v.$$postDigestQueue=[],d=v.$$applyAsyncQueue=[];return v}]}function ka(){var n=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return u(t)?(n=t,this):n};this.imgSrcSanitizationWhitelist=function(n){return u(n)?(t=n,this):t};this.$get=function(){return function(i,r){var u,f=r?t:n;return u=gt(i).href,""===u||u.match(f)?i:"unsafe:"+u}}}function da(n){if("self"===n)return n;if(h(n)){if(-1<n.indexOf("***"))throw ii("iwcard",n);return n=oh(n).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+n+"$")}if(rr(n))return new RegExp("^"+n.source+"$");throw ii("imatcher");}function cs(n){var i=[];return u(n)&&t(n,function(n){i.push(da(n))}),i}function ga(){this.SCE_CONTEXTS=lt;var n=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(n=cs(t)),n};this.resourceUrlBlacklist=function(n){return arguments.length&&(t=cs(n)),t};this.$get=["$injector",function(i){function o(n,t){return"self"===n?ls(t):!!n.exec(t.href)}function f(n){var t=function(n){this.$$unwrapTrustedValue=function(){return n}};return n&&(t.prototype=new n),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var s=function(){throw ii("unsafe");},e,u;return i.has("$sanitize")&&(s=i.get("$sanitize")),e=f(),u={},u[lt.HTML]=f(e),u[lt.CSS]=f(e),u[lt.URL]=f(e),u[lt.JS]=f(e),u[lt.RESOURCE_URL]=f(u[lt.URL]),{trustAs:function(n,t){var i=u.hasOwnProperty(n)?u[n]:null;if(!i)throw ii("icontext",n,t);if(null===t||r(t)||""===t)return t;if("string"!=typeof t)throw ii("itype",n);return new i(t)},getTrusted:function(i,f){var e,l,h,c;if(null===f||r(f)||""===f)return f;if(h=u.hasOwnProperty(i)?u[i]:null,h&&f instanceof h)return f.$$unwrapTrustedValue();if(i===lt.RESOURCE_URL){for(h=gt(f.toString()),c=!1,e=0,l=n.length;l>e;e++)if(o(n[e],h)){c=!0;break}if(c)for(e=0,l=t.length;l>e;e++)if(o(t[e],h)){c=!1;break}if(c)return f;throw ii("insecurl",f.toString());}if(i===lt.HTML)return s(f);throw ii("unsafe");},valueOf:function(n){return n instanceof e?n.$$unwrapTrustedValue():n}}}]}function nv(){var n=!0;this.enabled=function(t){return arguments.length&&(n=!!t),n};this.$get=["$parse","$sceDelegate",function(i,r){var u;if(n&&8>ni)throw ii("iequirks");u=ot(lt);u.isEnabled=function(){return n};u.trustAs=r.trustAs;u.getTrusted=r.getTrusted;u.valueOf=r.valueOf;n||(u.trustAs=u.getTrusted=function(n,t){return t},u.valueOf=ir);u.parseAs=function(n,t){var r=i(t);return r.literal&&r.constant?r:i(t,function(t){return u.getTrusted(n,t)})};var f=u.parseAs,e=u.getTrusted,o=u.trustAs;return t(lt,function(n,t){var i=v(t);u[hr("parse_as_"+i)]=function(t){return f(n,t)};u[hr("get_trusted_"+i)]=function(t){return e(n,t)};u[hr("trust_as_"+i)]=function(t){return o(n,t)}}),u}]}function tv(){this.$get=["$window","$document",function(n,t){var i,o={},a=!(n.chrome&&n.chrome.app&&n.chrome.app.runtime)&&n.history&&n.history.pushState,s=tt((/android (\d+)/.exec(v((n.navigator||{}).userAgent))||[])[1]),y=/Boxee/i.test((n.navigator||{}).userAgent),c=t[0]||{},u=c.body&&c.body.style,f=!1,e=!1,l;if(u){for(l in u)if(f=/^(Moz|webkit|ms)(?=[A-Z])/.exec(l)){i=f[0];i=i.substr(0,1).toUpperCase()+i.substr(1);break}i||(i="WebkitOpacity"in u&&"webkit");f=!!("transition"in u||i+"Transition"in u);e=!!("animation"in u||i+"Animation"in u);!s||f&&e||(f=h(u.webkitTransition),e=h(u.webkitAnimation))}return{history:!(!a||4>s||y),hasEvent:function(n){if("input"===n&&11>=ni)return!1;if(r(o[n])){var t=c.createElement("div");o[n]="on"+n in t}return o[n]},csp:li(),vendorPrefix:i,transitions:f,animations:e,android:s}}]}function iv(){var n;this.httpOptions=function(t){return t?(n=t,this):n};this.$get=["$templateCache","$http","$q","$sce",function(t,i,r,u){function f(e,o){f.totalPendingRequests++;h(e)&&t.get(e)||(e=u.getTrustedResourceUrl(e));var s=i.defaults&&i.defaults.transformResponse;return c(s)?s=s.filter(function(n){return n!==yf}):s===yf&&(s=null),i.get(e,a({cache:t,transformResponse:s},n))["finally"](function(){f.totalPendingRequests--}).then(function(n){return t.put(e,n.data),n.data},function(n){if(!o)throw hp("tpload",e,n.status,n.statusText);return r.reject(n)})}return f.totalPendingRequests=0,f}]}function rv(){this.$get=["$rootScope","$browser","$location",function(n,i,r){return{findBindings:function(n,i,r){n=n.getElementsByClassName("ng-binding");var u=[];return t(n,function(n){var f=ut.element(n).data("$binding");f&&t(f,function(t){r?new RegExp("(^|\\s)"+oh(i)+"(\\s|\\||$)").test(t)&&u.push(n):-1!=t.indexOf(i)&&u.push(n)})}),u},findModels:function(n,t,i){for(var f,u=["ng-","data-ng-","ng\\:"],r=0;r<u.length;++r)if(f=n.querySelectorAll("["+u[r]+"model"+(i?"=":"*=")+'"'+t+'"]'),f.length)return f},getLocation:function(){return r.url()},setLocation:function(t){t!==r.url()&&(r.url(t),n.$digest())},whenStable:function(n){i.notifyWhenNoOutstandingRequests(n)}}}]}function uv(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(n,t,i,r,e){function h(h,c,l){f(h)||(l=c,c=h,h=o);var v,w=bt.call(arguments,3),p=u(l)&&!l,a=(p?r:i).defer(),y=a.promise;return v=t.defer(function(){try{a.resolve(h.apply(null,w))}catch(t){a.reject(t);e(t)}finally{delete s[y.$$timeoutId]}p||n.$apply()},c),y.$$timeoutId=v,s[v]=a,y}var s={};return h.cancel=function(n){return n&&n.$$timeoutId in s?(s[n.$$timeoutId].reject("canceled"),delete s[n.$$timeoutId],t.defer.cancel(n.$$timeoutId)):!1},h}]}function gt(n){return ni&&(nt.setAttribute("href",n),n=nt.href),nt.setAttribute("href",n),{href:nt.href,protocol:nt.protocol?nt.protocol.replace(/:$/,""):"",host:nt.host,search:nt.search?nt.search.replace(/^\?/,""):"",hash:nt.hash?nt.hash.replace(/^#/,""):"",hostname:nt.hostname,port:nt.port,pathname:"/"===nt.pathname.charAt(0)?nt.pathname:"/"+nt.pathname}}function ls(n){return n=h(n)?gt(n):n,n.protocol===wh.protocol&&n.host===wh.host}function fv(){this.$get=ft(n)}function as(n){function u(n){try{return decodeURIComponent(n)}catch(t){return n}}var f=n[0]||{},t={},i="";return function(){var n,e,o,s,h;if(n=f.cookie||"",n!==i)for(i=n,n=i.split("; "),t={},o=0;o<n.length;o++)e=n[o],s=e.indexOf("="),s>0&&(h=u(e.substring(0,s)),r(t[h])&&(t[h]=u(e.substring(s+1))));return t}}function ev(){this.$get=as}function vs(n){function i(r,u){if(s(r)){var f={};return t(r,function(n,t){f[t]=i(t,n)}),f}return n.factory(r+"Filter",u)}this.register=i;this.$get=["$injector",function(n){return function(t){return n.get(t+"Filter")}}];i("currency",ys);i("date",ds);i("filter",ov);i("json",lv);i("limitTo",av);i("lowercase",dh);i("number",ps);i("orderBy",gs);i("uppercase",gh)}function ov(){return function(n,t,i){if(!ri(n)){if(null==n)return n;throw l("filter")("notarray",n);}var r;switch(df(t)){case"function":break;case"boolean":case"null":case"number":case"string":r=!0;case"object":t=sv(t,i,r);break;default:return n}return Array.prototype.filter.call(n,t)}}function sv(n,t,i){var u=s(n)&&"$"in n;return!0===t?t=st:f(t)||(t=function(n,t){return r(n)?!1:null===n||null===t?n===t:s(t)||s(n)&&!ae(n)?!1:(n=v(""+n),t=v(""+t),-1!==n.indexOf(t))}),function(r){return u&&!s(r)?si(r,n.$,t,!1):si(r,n,t,i)}}function si(n,t,i,u,e){var s=df(n),h=df(t),o;if("string"===h&&"!"===t.charAt(0))return!si(n,t.substring(1),i,u);if(c(n))return n.some(function(n){return si(n,t,i,u)});switch(s){case"object":if(u){for(o in n)if("$"!==o.charAt(0)&&si(n[o],t,i,!0))return!0;return e?!1:si(n,t,i,!1)}if("object"===h){for(o in t)if(e=t[o],!f(e)&&!r(e)&&(s="$"===o,!si(s?n:n[o],e,i,s,s)))return!1;return!0}return i(n,t);case"function":return!1;default:return i(n,t)}}function df(n){return null===n?"null":typeof n}function ys(n){var t=n.NUMBER_FORMATS;return function(n,i,u){return r(i)&&(i=t.CURRENCY_SYM),r(u)&&(u=t.PATTERNS[1].maxFrac),null==n?n:ws(n,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,u).replace(/\u00A4/g,i)}}function ps(n){var t=n.NUMBER_FORMATS;return function(n,i){return null==n?n:ws(n,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,i)}}function hv(n){var r,t,i,f,u,e=0;for(-1<(t=n.indexOf(kh))&&(n=n.replace(kh,"")),0<(i=n.search(/e/i))?(0>t&&(t=i),t+=+n.slice(i+1),n=n.substring(0,i)):0>t&&(t=n.length),i=0;n.charAt(i)==se;i++);if(i==(u=n.length))r=[0],t=1;else{for(u--;n.charAt(u)==se;)u--;for(t-=i,r=[],f=0;u>=i;i++,f++)r[f]=+n.charAt(i)}return t>bh&&(r=r.splice(0,bh-1),e=t-1,t=1),{d:r,e:e,i:t}}function cv(n,t,i,u){var f=n.d,o=f.length-n.i,e;if(t=r(t)?Math.min(Math.max(i,o),u):+t,i=t+n.i,u=f[i],i>0)for(f.splice(Math.max(n.i,i)),e=i;e<f.length;e++)f[e]=0;else for(o=Math.max(0,o),n.i=1,f.length=Math.max(1,i=t+1),f[0]=0,e=1;i>e;e++)f[e]=0;if(u>=5)if(0>i-1){for(u=0;u>i;u--)f.unshift(0),n.i++;f.unshift(1);n.i++}else f[i-1]++;for(;o<Math.max(0,t);o++)f.push(0);(t=f.reduceRight(function(n,t,i,r){return t+=n,r[i]=t%10,Math.floor(t/10)},0))&&(f.unshift(t),n.i++)}function ws(n,t,i,r,u){if(!h(n)&&!w(n)||isNaN(n))return"";var s=!isFinite(n),o=!1,e=Math.abs(n)+"",f="";if(s)f="∞";else{for(o=hv(e),cv(o,u,t.minFrac,t.maxFrac),f=o.d,e=o.i,u=o.e,s=[],o=f.reduce(function(n,t){return n&&!t},!0);0>e;)f.unshift(0),e++;for(e>0?s=f.splice(e):(s=f,f=[0]),e=[],f.length>=t.lgSize&&e.unshift(f.splice(-t.lgSize).join(""));f.length>t.gSize;)e.unshift(f.splice(-t.gSize).join(""));f.length&&e.unshift(f.join(""));f=e.join(i);s.length&&(f+=r+s.join(""));u&&(f+="e+"+u)}return 0>n&&!o?t.negPre+f+t.negSuf:t.posPre+f+t.posSuf}function vu(n,t,i,r){var u="";for((0>n||r&&0>=n)&&(r?n=-n+1:(n=-n,u="-")),n=""+n;n.length<t;)n=se+n;return i&&(n=n.substr(n.length-t)),u+n}function d(n,t,i,r,u){return i=i||0,function(f){return f=f["get"+n](),(i>0||f>-i)&&(f+=i),0===f&&-12==i&&(f=12),vu(f,t,r,u)}}function yr(n,t,i){return function(r,u){var f=r["get"+n](),e=pu((i?"STANDALONE":"")+(t?"SHORT":"")+n);return u[e][f]}}function bs(n){var t=new Date(n,0,1).getDay();return new Date(n,0,(4>=t?5:12)-t)}function ks(n){return function(t){var i=bs(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+i,t=1+Math.round(t/6048e5),vu(t,n)}}function gf(n,t){return 0>=n.getFullYear()?t.ERAS[0]:t.ERAS[1]}function ds(n){function i(n){var t;if(t=n.match(r)){n=new Date(0);var i=0,u=0,f=t[8]?n.setUTCFullYear:n.setFullYear,e=t[8]?n.setUTCHours:n.setHours;t[9]&&(i=tt(t[9]+t[10]),u=tt(t[9]+t[11]));f.call(n,tt(t[1]),tt(t[2])-1,tt(t[3]));i=tt(t[4]||0)-i;u=tt(t[5]||0)-u;f=tt(t[6]||0);t=Math.round(1e3*parseFloat("0."+(t[7]||0)));e.call(n,i,u,f,t)}return n}var r=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(r,u,f){var s,c,l="",e=[],o;if(u=u||"mediumDate",u=n.DATETIME_FORMATS[u]||u,h(r)&&(r=ap.test(r)?tt(r):i(r)),w(r)&&(r=new Date(r)),!et(r)||!isFinite(r.getTime()))return r;for(;u;)(c=lp.exec(u))?(e=or(e,c,1),u=e.pop()):(e.push(u),u=null);return o=r.getTimezoneOffset(),f&&(o=we(f,o),r=sf(r,f,!0)),t(e,function(t){s=cp[t];l+=s?s(r,n.DATETIME_FORMATS,o):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function lv(){return function(n,t){return r(t)&&(t=2),sr(n,t)}}function av(){return function(n,t,i){return t=1/0===Math.abs(Number(t))?Number(t):tt(t),isNaN(t)?n:(w(n)&&(n=n.toString()),c(n)||h(n)?(i=!i||isNaN(i)?0:tt(i),i=0>i?Math.max(0,n.length+i):i,t>=0?n.slice(i,i+t):0===i?n.slice(t,n.length):n.slice(Math.max(0,i+t),i)):n)}}function gs(n){function i(t,i){return i=i?-1:1,t.map(function(t){var u=1,r=ir,e;return f(t)?r=t:h(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(u="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=n(t),r.constant))&&(e=r(),r=function(n){return n[e]}),{get:r,descending:u*i}})}function t(n){switch(typeof n){case"number":case"boolean":case"string":return!0;default:return!1}}return function(n,r,u){if(null==n)return n;if(!ri(n))throw l("orderBy")("notarray",n);c(r)||(r=[r]);0===r.length&&(r=["+"]);var f=i(r,u);return f.push({get:function(){return{}},descending:u?-1:1}),n=Array.prototype.map.call(n,function(n,i){return{value:n,predicateValues:f.map(function(r){var u=r.get(n);return r=typeof u,null===u?(r="string",u="null"):"string"===r?u=u.toLowerCase():"object"===r&&("function"==typeof u.valueOf&&(u=u.valueOf(),t(u))||ae(u)&&(u=u.toString(),t(u))||(u=i)),{value:u,type:r}})}}),n.sort(function(n,t){for(var i=0,r=0,o=f.length;o>r;++r){var i=n.predicateValues[r],u=t.predicateValues[r],e=0;if(i.type===u.type?i.value!==u.value&&(e=i.value<u.value?-1:1):e=i.type<u.type?-1:1,i=e*f[r].descending)break}return i}),n=n.map(function(n){return n.value})}}function hi(n){return f(n)&&(n={link:n}),n.restrict=n.restrict||"AC",ft(n)}function nh(n,i,r,u,f){var e=this,o=[];e.$error={};e.$$success={};e.$pending=void 0;e.$name=f(i.name||i.ngForm||"")(r);e.$dirty=!1;e.$pristine=!0;e.$valid=!0;e.$invalid=!1;e.$submitted=!1;e.$$parentForm=kr;e.$rollbackViewValue=function(){t(o,function(n){n.$rollbackViewValue()})};e.$commitViewValue=function(){t(o,function(n){n.$commitViewValue()})};e.$addControl=function(n){pi(n.$name,"input");o.push(n);n.$name&&(e[n.$name]=n);n.$$parentForm=e};e.$$renameControl=function(n,t){var i=n.$name;e[i]===n&&delete e[i];e[t]=n;n.$name=t};e.$removeControl=function(n){n.$name&&e[n.$name]===n&&delete e[n.$name];t(e.$pending,function(t,i){e.$setValidity(i,null,n)});t(e.$error,function(t,i){e.$setValidity(i,null,n)});t(e.$$success,function(t,i){e.$setValidity(i,null,n)});er(o,n);n.$$parentForm=kr};rh({ctrl:this,$element:n,set:function(n,t,i){var r=n[t];r?-1===r.indexOf(i)&&r.push(i):n[t]=[i]},unset:function(n,t,i){var r=n[t];r&&(er(r,i),0===r.length&&delete n[t])},$animate:u});e.$setDirty=function(){u.removeClass(n,tr);u.addClass(n,uf);e.$dirty=!0;e.$pristine=!1;e.$$parentForm.$setDirty()};e.$setPristine=function(){u.setClass(n,tr,uf+" ng-submitted");e.$dirty=!1;e.$pristine=!0;e.$submitted=!1;t(o,function(n){n.$setPristine()})};e.$setUntouched=function(){t(o,function(n){n.$setUntouched()})};e.$setSubmitted=function(){u.addClass(n,"ng-submitted");e.$submitted=!0;e.$$parentForm.$setSubmitted()}}function ne(n){n.$formatters.push(function(t){return n.$isEmpty(t)?t:t.toString()})}function pr(n,t,i,r,u,f){var h=v(t[0].type),s,e,o,c;if(u.android||(s=!1,t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1;o()})),o=function(n){if(e&&(f.defer.cancel(e),e=null),!s){var u=t.val();n=n&&n.type;"password"===h||i.ngTrim&&"false"===i.ngTrim||(u=p(u));(r.$viewValue!==u||""===u&&r.$$hasNativeValidators)&&r.$setViewValue(u,n)}},u.hasEvent("input"))t.on("input",o);else c=function(n,t,i){e||(e=f.defer(function(){e=null;t&&t.value===i||o(n)}))},t.on("keydown",function(n){var t=n.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(n,this,this.value)}),u.hasEvent("paste")&&t.on("paste cut",c);t.on("change",o);ec[h]&&r.$$hasNativeValidators&&h===i.type&&t.on("keydown wheel mousedown",function(n){if(!e){var t=this.validity,i=t.badInput,r=t.typeMismatch;e=f.defer(function(){e=null;t.badInput===i&&t.typeMismatch===r||o(n)})}});r.$render=function(){var n=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==n&&t.val(n)}}function yu(n,i){return function(r,u){var e,f;if(et(r))return r;if(h(r)){if('"'==r.charAt(0)&&'"'==r.charAt(r.length-1)&&(r=r.substring(1,r.length-1)),pp.test(r))return new Date(r);if(n.lastIndex=0,e=n.exec(r))return e.shift(),f=u?{yyyy:u.getFullYear(),MM:u.getMonth()+1,dd:u.getDate(),HH:u.getHours(),mm:u.getMinutes(),ss:u.getSeconds(),sss:u.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},t(e,function(n,t){t<i.length&&(f[i[t]]=+n)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1e3*f.sss||0)}return NaN}}function wr(n,t,i,f){return function(e,o,s,h,c,l,a){function p(n){return n&&!(n.getTime&&n.getTime()!==n.getTime())}function k(n){return u(n)&&!et(n)?i(n)||void 0:n}var y,v,w,b;th(e,o,s,h);pr(e,o,s,h,c,l);v=h&&h.$options&&h.$options.timezone;(h.$$parserName=n,h.$parsers.push(function(n){return h.$isEmpty(n)?null:t.test(n)?(n=i(n,y),v&&(n=sf(n,v)),n):void 0}),h.$formatters.push(function(n){if(n&&!et(n))throw gr("datefmt",n);return p(n)?((y=n)&&v&&(y=sf(y,v,!0)),a("date")(n,f,v)):(y=null,"")}),u(s.min)||s.ngMin)&&(h.$validators.min=function(n){return!p(n)||r(w)||i(n)>=w},s.$observe("min",function(n){w=k(n);h.$validate()}));(u(s.max)||s.ngMax)&&(h.$validators.max=function(n){return!p(n)||r(b)||i(n)<=b},s.$observe("max",function(n){b=k(n);h.$validate()}))}}function th(n,t,i,r){(r.$$hasNativeValidators=s(t[0].validity))&&r.$parsers.push(function(n){var i=t.prop("validity")||{};if(!i.badInput&&!i.typeMismatch)return n})}function ih(n,t,i,r,f){if(u(r)){if(n=n(r),!n.constant)throw gr("constexpr",i,r);return n(t)}return f}function te(n,i){return n="ngClass"+n,["$animate",function(r){function f(n,t){var f=[],r=0,u,i;n:for(;r<n.length;r++){for(u=n[r],i=0;i<t.length;i++)if(u==t[i])continue n;f.push(u)}return f}function u(n){var i=[];return c(n)?(t(n,function(n){i=i.concat(u(n))}),i):h(n)?n.split(" "):s(n)?(t(n,function(n,t){n&&(i=i.concat(t.split(" ")))}),i):n}return{restrict:"AC",link:function(e,o,s){function a(n){n=h(n,1);s.$addClass(n)}function h(n,i){var r=o.data("$classCounts")||y(),u=[];return t(n,function(n){(i>0||r[n])&&(r[n]=(r[n]||0)+i,r[n]===+(i>0)&&u.push(n))}),o.data("$classCounts",r),u.join(" ")}function p(n,t){var i=f(t,n),u=f(n,t),i=h(i,1),u=h(u,-1);i&&i.length&&r.addClass(o,i);u&&u.length&&r.removeClass(o,u)}function v(n){var t,r;(!0===i||e.$index%2===i)&&(t=u(n||[]),l?st(n,l)||(r=u(l),p(r,t)):a(t));l=c(n)?n.map(function(n){return ot(n)}):ot(n)}var l;e.$watch(s[n],v,!0);s.$observe("class",function(){v(e.$eval(s[n]))});"ngClass"!==n&&e.$watch("$index",function(t,r){var f=1&t,o;f!==(1&r)&&(o=u(e.$eval(s[n])),f===i?a(o):(f=h(o,-1),s.$removeClass(f)))})}}}]}function rh(n){function f(n,t){t&&!i[n]?(h.addClass(o,n),i[n]=!0):!t&&i[n]&&(h.removeClass(o,n),i[n]=!1)}function e(n,t){n=n?"-"+ge(n,"-"):"";f(dr+n,!0===t);f(cc+n,!1===t)}var t=n.ctrl,o=n.$element,i={},s=n.set,u=n.unset,h=n.$animate;i[cc]=!(i[dr]=o.hasClass(dr));t.$setValidity=function(n,i,o){r(i)?(t.$pending||(t.$pending={}),s(t.$pending,n,o)):(t.$pending&&u(t.$pending,n,o),uh(t.$pending)&&(t.$pending=void 0));ui(i)?i?(u(t.$error,n,o),s(t.$$success,n,o)):(s(t.$error,n,o),u(t.$$success,n,o)):(u(t.$error,n,o),u(t.$$success,n,o));t.$pending?(f(lc,!0),t.$valid=t.$invalid=void 0,e("",null)):(f(lc,!1),t.$valid=uh(t.$error),t.$invalid=!t.$valid,e("",t.$valid));i=t.$pending&&t.$pending[n]?void 0:t.$error[n]?!1:t.$$success[n]?!0:null;e(n,i);t.$$parentForm.$setValidity(n,i,t)}}function uh(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}var ni,e,ti,fh,vv=/^\/(.+)\/([a-z]*)$/,wt=Object.prototype.hasOwnProperty,v=function(n){return h(n)?n.toLowerCase():n},pu=function(n){return h(n)?n.toUpperCase():n},bt=[].slice,yv=[].splice,pv=[].push,rt=Object.prototype.toString,eh=Object.getPrototypeOf,ci=l("ng"),ut=n.angular||(n.angular={}),wu=0,gi,hh,ue,fe,ph,tf,i,rf,dh,gh,nc,br,kr;ni=n.document.documentMode;o.$inject=[];ir.$inject=[];var c=Array.isArray,wv=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,p=function(n){return h(n)?n.trim():n},oh=function(n){return n.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},li=function(){var i,t;if(!u(li.rules))if(i=n.document.querySelector("[ng-csp]")||n.document.querySelector("[data-ng-csp]"),i)t=i.getAttribute("ng-csp")||i.getAttribute("data-ng-csp"),li.rules={noUnsafeEval:!t||-1!==t.indexOf("no-unsafe-eval"),noInlineStyle:!t||-1!==t.indexOf("no-inline-style")};else{i=li;try{new Function("");t=!1}catch(r){t=!0}i.rules={noUnsafeEval:t,noInlineStyle:!1}}return li.rules},bu=function(){if(u(bu.name_))return bu.name_;for(var r,i,f,e=ki.length,t=0;e>t;++t)if(i=ki[t],r=n.document.querySelector("["+i.replace(":","\\:")+"jq]")){f=r.getAttribute(i+"jq");break}return bu.name_=f},bv=/:/g,ki=["ng-","data-ng-","ng:","x-ng-"],kv=/[A-Z]/g,sh=!1,di=3,dv={full:"1.5.5",major:1,minor:5,dot:5,codeName:"material-conspiration"};b.expando="ng339";gi=b.cache={};hh=1;b._data=function(n){return this.cache[n[this.expando]]||{}};var gv=/([\:\-\_]+(.))/g,ny=/^moz([A-Z])/,ku={mouseleave:"mouseout",mouseenter:"mouseover"},ie=l("jqLite"),ty=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,re=/<|&#?\w+;/,iy=/<([\w:-]+)/,ry=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ct={option:[1,'<select multiple="multiple">',"<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};ct.optgroup=ct.option;ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead;ct.th=ct.td;var uy=n.Node.prototype.contains||function(n){return!!(16&this.compareDocumentPosition(n))},nr=b.prototype={ready:function(t){function i(){r||(r=!0,t())}var r=!1;"complete"===n.document.readyState?n.setTimeout(i):(this.on("DOMContentLoaded",i),b(n).on("load",i))},toString:function(){var n=[];return t(this,function(t){n.push(""+t)}),"["+n.join(", ")+"]"},eq:function(n){return e(n>=0?this[n]:this[this.length+n])},length:0,push:pv,sort:[].sort,splice:[].splice},du={};t("multiple selected checked disabled readOnly required open".split(" "),function(n){du[v(n)]=n});ue={};t("input select option textarea button form details".split(" "),function(n){ue[n]=!0});fe={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};t({data:lf,removeData:cr,hasData:function(n){for(var t in gi[n.ng339])return!0;return!1},cleanData:function(n){for(var t=0,i=n.length;i>t;t++)cr(n[t])}},function(n,t){b[t]=n});t({data:lf,inheritedData:su,scope:function(n){return e.data(n,"$scope")||su(n.parentNode||n,["$isolateScope","$scope"])},isolateScope:function(n){return e.data(n,"$isolateScope")||e.data(n,"$isolateScopeNoTemplate")},controller:eo,injector:function(n){return su(n,"$injector")},removeAttr:function(n,t){n.removeAttribute(t)},hasClass:fu,css:function(n,t,i){return t=hr(t),u(i)?void(n.style[t]=i):n.style[t]},attr:function(n,t,i){var r=n.nodeType;if(r!==di&&2!==r&&8!==r)if(r=v(t),du[r]){if(!u(i))return n[t]||(n.attributes.getNamedItem(t)||o).specified?r:void 0;i?(n[t]=!0,n.setAttribute(t,r)):(n[t]=!1,n.removeAttribute(r))}else if(u(i))n.setAttribute(t,i);else if(n.getAttribute)return n=n.getAttribute(t,2),null===n?void 0:n},prop:function(n,t,i){return u(i)?void(n[t]=i):n[t]},text:function(){function n(n,t){if(r(t)){var i=n.nodeType;return 1===i||i===di?n.textContent:""}n.textContent=t}return n.$dv="",n}(),val:function(n,i){if(r(i)){if(n.multiple&&"select"===at(n)){var u=[];return t(n.options,function(n){n.selected&&u.push(n.value||n.text)}),0===u.length?null:u}return n.value}n.value=i},html:function(n,t){return r(t)?n.innerHTML:(ru(n,!0),void(n.innerHTML=t))},empty:oo},function(n,t){b.prototype[t]=function(t,i){var u,f,e=this.length,o;if(n!==oo&&r(2==n.length&&n!==fu&&n!==eo?t:i)){if(s(t)){for(u=0;e>u;u++)if(n===lf)n(this[u],t);else for(f in t)n(this[u],f,t[f]);return this}for(u=n.$dv,e=r(u)?Math.min(e,1):e,f=0;e>f;f++)o=n(this[f],t,i),u=u?u+o:o;return u}for(u=0;e>u;u++)n(this[u],t,i);return this}});t({removeData:cr,on:function(n,t,i,r){var f,e,s,o;if(u(r))throw ie("onargs");if(to(n))for(r=uu(n,!0),f=r.events,e=r.handle,e||(e=r.handle=sl(n,f)),r=0<=t.indexOf(" ")?t.split(" "):[t],s=r.length,o=function(t,r,u){var o=f[t];o||(o=f[t]=[],o.specialHandlerWrapper=r,"$destroy"===t||u||n.addEventListener(t,e,!1));o.push(i)};s--;)t=r[s],ku[t]?(o(ku[t],cl),o(t,void 0,!0)):o(t)},off:uo,one:function(n,t,i){n=e(n);n.on(t,function r(){n.off(t,i);n.off(t,r)});n.on(t,i)},replaceWith:function(n,i){var r,u=n.parentNode;ru(n);t(new b(i),function(t){r?u.insertBefore(t,r.nextSibling):u.replaceChild(t,n);r=t})},children:function(n){var i=[];return t(n.childNodes,function(n){1===n.nodeType&&i.push(n)}),i},contents:function(n){return n.contentDocument||n.childNodes||[]},append:function(n,t){var i=n.nodeType,r;if(1===i||11===i)for(t=new b(t),i=0,r=t.length;r>i;i++)n.appendChild(t[i])},prepend:function(n,i){if(1===n.nodeType){var r=n.firstChild;t(new b(i),function(t){n.insertBefore(t,r)})}},wrap:function(n,t){ro(n,e(t).eq(0).clone()[0])},remove:af,detach:function(n){af(n,!0)},after:function(n,t){var u=n,e=n.parentNode,i,f,r;for(t=new b(t),i=0,f=t.length;f>i;i++)r=t[i],e.insertBefore(r,u.nextSibling),u=r},addClass:ou,removeClass:eu,toggleClass:function(n,i,u){i&&t(i.split(" "),function(t){var i=u;r(i)&&(i=!fu(n,t));(i?ou:eu)(n,t)})},parent:function(n){return(n=n.parentNode)&&11!==n.nodeType?n:null},next:function(n){return n.nextElementSibling},find:function(n,t){return n.getElementsByTagName?n.getElementsByTagName(t):[]},clone:cf,triggerHandler:function(n,i,r){var u,e,s=i.type||i,f=uu(n);(f=(f=f&&f.events)&&f[s])&&(u={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:o,type:s,target:n},i.type&&(u=a(u,i)),i=ot(f),e=r?[u].concat(r):[u],t(i,function(t){u.isImmediatePropagationStopped()||t.apply(n,e)}))}},function(n,t){b.prototype[t]=function(t,i,f){for(var o,s=0,h=this.length;h>s;s++)r(o)?(o=n(this[s],t,i,f),u(o)&&(o=e(o))):fo(o,n(this[s],t,i,f));return u(o)?o:this};b.prototype.bind=b.prototype.on;b.prototype.unbind=b.prototype.off});wi.prototype={put:function(n,t){this[fi(n,this.nextUid)]=t},get:function(n){return this[fi(n,this.nextUid)]},remove:function(n){var t=this[n=fi(n,this.nextUid)];return delete this[n],t}};var fy=[function(){this.$get=[function(){return wi}]}],ey=/^([^\(]+?)=>/,oy=/^[^\(]*\(\s*([^\)]*)\)/m,sy=/,/,hy=/^\s*(_?)(\S+?)\1\s*$/,cy=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ai=l("$injector");lr.$$annotate=function(n,i,r){var u;if("function"==typeof n){if(!(u=n.$inject)){if(u=[],n.length){if(i)throw h(r)&&r||(r=n.name||al(n)),ai("strictdi",r);i=ho(n);t(i[1].split(sy),function(n){n.replace(hy,function(n,t,i){u.push(i)})})}n.$inject=u}}else c(n)?(i=n.length-1,yi(n[i],"fn"),u=n.slice(0,i)):yi(n,"fn",!0);return u};var ch=l("$animate"),ly=function(){this.$get=o},ay=function(){var n=new wi,i=[];this.$get=["$$AnimateRunner","$rootScope",function(r,u){function f(n,i,r){var u=!1;return i&&(i=h(i)?i.split(" "):c(i)?i:[],t(i,function(t){t&&(u=!0,n[t]=r)})),u}function e(){t(i,function(i){var f=n.get(i);if(f){var e=yl(i.attr("class")),r="",u="";t(f,function(n,t){n!==!!e[t]&&(n?r+=(r.length?" ":"")+t:u+=(u.length?" ":"")+t)});t(i,function(n){r&&ou(n,r);u&&eu(n,u)});n.remove(i)}});i.length=0}return{enabled:o,on:o,off:o,pin:o,push:function(t,o,s,h){return h&&h(),s=s||{},s.from&&t.css(s.from),s.to&&t.css(s.to),(s.addClass||s.removeClass)&&(o=s.addClass,h=s.removeClass,s=n.get(t)||{},o=f(s,o,!0),h=f(s,h,!1),(o||h)&&(n.put(t,s),i.push(t),1===i.length&&u.$$postDigest(e))),t=new r,t.complete(),t}}}]},vy=["$provide",function(n){var t=this;this.$$registeredAnimations=Object.create(null);this.register=function(i,r){if(i&&"."!==i.charAt(0))throw ch("notcsel",i);var u=i+"-animation";t.$$registeredAnimations[i.substr(1)]=u;n.factory(u,r)};this.classNameFilter=function(n){if(1===arguments.length&&(this.$$classNameFilter=n instanceof RegExp?n:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw ch("nongcls","ng-animate");return this.$$classNameFilter};this.$get=["$$animateQueue",function(n){function t(n,t,i){var r,u;if(i){n:{for(r=0;r<i.length;r++)if(u=i[r],1===u.nodeType){r=u;break n}r=void 0}!r||r.parentNode||r.previousElementSibling||(i=null)}i?i.after(n):t.prepend(n)}return{on:n.on,off:n.off,pin:n.pin,enabled:n.enabled,cancel:function(n){n.end&&n.end()},enter:function(i,r,u,f){return r=r&&e(r),u=u&&e(u),r=r||u.parent(),t(i,r,u),n.push(i,"enter",ei(f))},move:function(i,r,u,f){return r=r&&e(r),u=u&&e(u),r=r||u.parent(),t(i,r,u),n.push(i,"move",ei(f))},leave:function(t,i){return n.push(t,"leave",ei(i),function(){t.remove()})},addClass:function(t,i,r){return r=ei(r),r.addClass=ar(r.addclass,i),n.push(t,"addClass",r)},removeClass:function(t,i,r){return r=ei(r),r.removeClass=ar(r.removeClass,i),n.push(t,"removeClass",r)},setClass:function(t,i,r,u){return u=ei(u),u.addClass=ar(u.addClass,i),u.removeClass=ar(u.removeClass,r),n.push(t,"setClass",u)},animate:function(t,i,r,u,f){return f=ei(f),f.from=f.from?a(f.from,i):i,f.to=f.to?a(f.to,r):r,f.tempClasses=ar(f.tempClasses,u||"ng-inline-animate"),n.push(t,"animate",f)}}}]}],yy=function(){this.$get=["$$rAF",function(n){function i(i){t.push(i);1<t.length||n(function(){for(var n=0;n<t.length;n++)t[n]();t=[]})}var t=[];return function(){var n=!1;return i(function(){n=!0}),function(t){n?t():i(t)}}}]},py=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(n,i,r,u,f){function e(n){this.setHost(n);var t=r();this._doneCallbacks=[];this._tick=function(n){var i=u[0];i&&i.hidden?f(n,0,!1):t(n)};this._state=0}return e.chain=function(n,t){function r(){i===n.length?t(!0):n[i](function(n){!1===n?t(!1):(i++,r())})}var i=0;r()},e.all=function(n,i){function u(t){r=r&&t;++f===n.length&&i(r)}var f=0,r=!0;t(n,function(n){n.done(u)})},e.prototype={setHost:function(n){this.host=n||{}},done:function(n){2===this._state?n():this._doneCallbacks.push(n)},progress:o,getPromise:function(){if(!this.promise){var t=this;this.promise=n(function(n,i){t.done(function(t){!1===t?i():n()})})}return this.promise},then:function(n,t){return this.getPromise().then(n,t)},"catch":function(n){return this.getPromise()["catch"](n)},"finally":function(n){return this.getPromise()["finally"](n)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(n){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(n)}))},_resolve:function(n){2!==this._state&&(t(this._doneCallbacks,function(t){t(n)}),this._doneCallbacks.length=0,this._state=2)}},e}]},wy=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(n,t,i){return function(t,r){function e(){return n(function(){u.addClass&&(t.addClass(u.addClass),u.addClass=null);u.removeClass&&(t.removeClass(u.removeClass),u.removeClass=null);u.to&&(t.css(u.to),u.to=null);o||f.complete();o=!0}),f}var u=r||{},o,f;return u.$$prepared||(u=kt(u)),u.cleanupStyles&&(u.from=u.to=null),u.from&&(t.css(u.from),u.from=null),f=new i,{start:e,end:e}}}]},g=l("$compile"),ee=new function(){};co.$inject=["$provide","$$sanitizeUriProvider"];hu.prototype.isFirstChange=function(){return this.previousValue===ee};var lh=/^((?:x|data)[\:\-_])/i,by=l("$controller"),ah=/^(\S+)(\s+as\s+([\w$]+))?$/,ky=function(){this.$get=["$document",function(n){return function(t){return t?!t.nodeType&&t instanceof e&&(t=t[0]):t=n[0].body,t.offsetWidth+1}}]},vh="application/json",oe={"Content-Type":vh+";charset=utf-8"},dy=/^\[|^\{(?!\{)/,gy={"[":/]$/,"{":/}$/},np=/^\)\]\}',?\n/,tp=l("$http"),yh=function(n){return function(){throw tp("legacy",n);}},vi=ut.$interpolateMinErr=l("$interpolate");vi.throwNoconcat=function(n){throw vi("noconcat",n);};vi.interr=function(n,t){return vi("interr",n,t.toString())};var ip=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,rp={http:80,https:443,ftp:21},gu=l("$location"),up={$$html5:!1,$$replace:!1,absUrl:cu("$$absUrl"),url:function(n){if(r(n))return this.$$url;var t=ip.exec(n);return(t[1]||""===n)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===n)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:cu("$$protocol"),host:cu("$$host"),port:cu("$$port"),path:ns("$$path",function(n){return n=null!==n?n.toString():"","/"==n.charAt(0)?n:"/"+n}),search:function(n,i){switch(arguments.length){case 0:return this.$$search;case 1:if(h(n)||w(n))n=n.toString(),this.$$search=ke(n);else{if(!s(n))throw gu("isrcharg");n=kt(n,{});t(n,function(t,i){null==t&&delete n[i]});this.$$search=n}break;default:r(i)||null===i?delete this.$$search[n]:this.$$search[n]=i}return this.$$compose(),this},hash:ns("$$hash",function(n){return null!==n?n.toString():""}),replace:function(){return this.$$replace=!0,this}};t([go,bf,wf],function(n){n.prototype=Object.create(up);n.prototype.state=function(t){if(!arguments.length)return this.$$state;if(n!==wf||!this.$$html5)throw gu("nostate");return this.$$state=r(t)?null:t,this}});var it=l("$parse"),fp=Function.prototype.call,ep=Function.prototype.apply,op=Function.prototype.bind,nf=y();t("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(n){nf[n]=!0});ph={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0b","'":"'",'"':'"'};tf=function(n){this.options=n};tf.prototype={constructor:tf,lex:function(n){for(this.text=n,this.index=0,this.tokens=[];this.index<this.text.length;)if(n=this.text.charAt(this.index),'"'===n||"'"===n)this.readString(n);else if(this.isNumber(n)||"."===n&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(n,"(){}[].,;:?"))this.tokens.push({index:this.index,text:n}),this.index++;else if(this.isWhitespace(n))this.index++;else{var t=n+this.peek(),i=t+this.peek(2),r=nf[t],u=nf[i];nf[n]||r||u?(n=u?i:r?t:n,this.tokens.push({index:this.index,text:n,operator:!0}),this.index+=n.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(n,t){return-1!==t.indexOf(n)},peek:function(n){return n=n||1,this.index+n<this.text.length?this.text.charAt(this.index+n):!1},isNumber:function(n){return n>="0"&&"9">=n&&"string"==typeof n},isWhitespace:function(n){return" "===n||"\r"===n||"\t"===n||"\n"===n||"\x0b"===n||" "===n},isIdentifierStart:function(n){return this.options.isIdentifierStart?this.options.isIdentifierStart(n,this.codePointAt(n)):this.isValidIdentifierStart(n)},isValidIdentifierStart:function(n){return n>="a"&&"z">=n||n>="A"&&"Z">=n||"_"===n||"$"===n},isIdentifierContinue:function(n){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(n,this.codePointAt(n)):this.isValidIdentifierContinue(n)},isValidIdentifierContinue:function(n,t){return this.isValidIdentifierStart(n,t)||this.isNumber(n)},codePointAt:function(n){return 1===n.length?n.charCodeAt(0):(n.charCodeAt(0)<<10)+n.charCodeAt(1)-56613888},peekMultichar:function(){var n=this.text.charAt(this.index),t=this.peek(),i,r;return t?(i=n.charCodeAt(0),r=t.charCodeAt(0),i>=55296&&56319>=i&&r>=56320&&57343>=r?n+t:n):n},isExpOperator:function(n){return"-"===n||"+"===n||this.isNumber(n)},throwError:function(n,t,i){throw i=i||this.index,t=u(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,i)+"]":" "+i,it("lexerr",n,t,this.text);},readNumber:function(){for(var t,i,n="",r=this.index;this.index<this.text.length;){if(t=v(this.text.charAt(this.index)),"."==t||this.isNumber(t))n+=t;else if(i=this.peek(),"e"==t&&this.isExpOperator(i))n+=t;else if(this.isExpOperator(t)&&i&&this.isNumber(i)&&"e"==n.charAt(n.length-1))n+=t;else{if(!this.isExpOperator(t)||i&&this.isNumber(i)||"e"!=n.charAt(n.length-1))break;this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:r,text:n,constant:!0,value:Number(n)})},readIdent:function(){var t=this.index,n;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){if(n=this.peekMultichar(),!this.isIdentifierContinue(n))break;this.index+=n.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(n){var f=this.index,t,u;this.index++;for(var r="",u=n,i=!1;this.index<this.text.length;){if(t=this.text.charAt(this.index),u=u+t,i)"u"===t?(i=this.text.substring(this.index+1,this.index+5),i.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,r+=String.fromCharCode(parseInt(i,16))):r+=ph[t]||t,i=!1;else if("\\"===t)i=!0;else{if(t===n)return this.index++,void this.tokens.push({index:f,text:u,constant:!0,value:r});r+=t}this.index++}this.throwError("Unterminated quote",f)}};i=function(n,t){this.lexer=n;this.options=t};i.Program="Program";i.ExpressionStatement="ExpressionStatement";i.AssignmentExpression="AssignmentExpression";i.ConditionalExpression="ConditionalExpression";i.LogicalExpression="LogicalExpression";i.BinaryExpression="BinaryExpression";i.UnaryExpression="UnaryExpression";i.CallExpression="CallExpression";i.MemberExpression="MemberExpression";i.Identifier="Identifier";i.Literal="Literal";i.ArrayExpression="ArrayExpression";i.Property="Property";i.ObjectExpression="ObjectExpression";i.ThisExpression="ThisExpression";i.LocalsExpression="LocalsExpression";i.NGValueParameter="NGValueParameter";i.prototype={ast:function(n){return this.text=n,this.tokens=this.lexer.lex(n),n=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),n},program:function(){for(var n=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&n.push(this.expressionStatement()),!this.expect(";"))return{type:i.Program,body:n}},expressionStatement:function(){return{type:i.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var n=this.expression();this.expect("|");)n=this.filter(n);return n},expression:function(){return this.assignment()},assignment:function(){var n=this.ternary();return this.expect("=")&&(n={type:i.AssignmentExpression,left:n,right:this.assignment(),operator:"="}),n},ternary:function(){var n,t,r=this.logicalOR();return this.expect("?")&&(n=this.expression(),this.consume(":"))?(t=this.expression(),{type:i.ConditionalExpression,test:r,alternate:n,consequent:t}):r},logicalOR:function(){for(var n=this.logicalAND();this.expect("||");)n={type:i.LogicalExpression,operator:"||",left:n,right:this.logicalAND()};return n},logicalAND:function(){for(var n=this.equality();this.expect("&&");)n={type:i.LogicalExpression,operator:"&&",left:n,right:this.equality()};return n},equality:function(){for(var t,n=this.relational();t=this.expect("==","!=","===","!==");)n={type:i.BinaryExpression,operator:t.text,left:n,right:this.relational()};return n},relational:function(){for(var t,n=this.additive();t=this.expect("<",">","<=",">=");)n={type:i.BinaryExpression,operator:t.text,left:n,right:this.additive()};return n},additive:function(){for(var t,n=this.multiplicative();t=this.expect("+","-");)n={type:i.BinaryExpression,operator:t.text,left:n,right:this.multiplicative()};return n},multiplicative:function(){for(var t,n=this.unary();t=this.expect("*","/","%");)n={type:i.BinaryExpression,operator:t.text,left:n,right:this.unary()};return n},unary:function(){var n;return(n=this.expect("+","-","!"))?{type:i.UnaryExpression,operator:n.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var n,t;for(this.expect("(")?(n=this.filterChain(),this.consume(")")):this.expect("[")?n=this.arrayDeclaration():this.expect("{")?n=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?n=kt(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?n={type:i.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?n=this.identifier():this.peek().constant?n=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(n={type:i.CallExpression,callee:n,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(n={type:i.MemberExpression,object:n,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?n={type:i.MemberExpression,object:n,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return n},filter:function(n){n=[n];for(var t={type:i.CallExpression,callee:this.identifier(),arguments:n,filter:!0};this.expect(":");)n.push(this.expression());return t},parseArguments:function(){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));return n},identifier:function(){var n=this.consume();return n.identifier||this.throwError("is not a valid identifier",n),{type:i.Identifier,name:n.text}},constant:function(){return{type:i.Literal,value:this.consume().value}},arrayDeclaration:function(){var n=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;n.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:i.ArrayExpression,elements:n}},object:function(){var n,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;n={type:i.Property,kind:"init"};this.peek().constant?n.key=this.constant():this.peek().identifier?n.key=this.identifier():this.throwError("invalid key",this.peek());this.consume(":");n.value=this.expression();t.push(n)}while(this.expect(","));return this.consume("}"),{type:i.ObjectExpression,properties:t}},throwError:function(n,t){throw it("syntax",t.text,n,t.index+1,this.text,this.text.substring(t.index));},consume:function(n){if(0===this.tokens.length)throw it("ueoe",this.text);var t=this.expect(n);return t||this.throwError("is unexpected, expecting ["+n+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw it("ueoe",this.text);return this.tokens[0]},peek:function(n,t,i,r){return this.peekAhead(0,n,t,i,r)},peekAhead:function(n,t,i,r,u){if(this.tokens.length>n){n=this.tokens[n];var f=n.text;if(f===t||f===i||f===r||f===u||!(t||i||r||u))return n}return!1},expect:function(n,t,i,r){return(n=this.peek(n,t,i,r))?(this.tokens.shift(),n):!1},selfReferential:{"this":{type:i.ThisExpression},$locals:{type:i.LocalsExpression}}};os.prototype={compile:function(n,i){var u=this,f=this.astBuilder.ast(n),e,r;return this.state={nextId:0,filters:{},expensiveChecks:i,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},k(f,u.$filter),r="",this.stage="assign",(e=fs(f))&&(this.state.computing="assign",r=this.nextId(),this.recurse(e,r),this.return_(r),r="fn.assign="+this.generateFunction("assign","s,v,l")),e=rs(f.body),u.stage="inputs",t(e,function(n,t){var i="fn"+t,r;u.state[i]={vars:[],body:[],own:{}};u.state.computing=i;r=u.nextId();u.recurse(n,r);u.return_(r);u.state.inputs.push(i);n.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(f),r='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",r=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",r)(this.$filter,bi,dt,ts,la,lu,aa,is,n),this.state=this.stage=void 0,r.literal=es(f),r.constant=f.constant,r},USE:"use",STRICT:"strict",watchFns:function(){var n=[],i=this.state.inputs,r=this;return t(i,function(t){n.push("var "+t+"="+r.generateFunction(t,"s"))}),i.length&&n.push("fn.inputs=["+i.join(",")+"];"),n.join("")},generateFunction:function(n,t){return"function("+t+"){"+this.varsPrefix(n)+this.body(n)+"};"},filterPrefix:function(){var n=[],i=this;return t(this.state.filters,function(t,r){n.push(t+"=$filter("+i.escape(r)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(n){return this.state[n].vars.length?"var "+this.state[n].vars.join(",")+";":""},body:function(n){return this.state[n].body.join("")},recurse:function(n,r,f,e,s,h){var l,v,y,a,c=this;if(e=e||o,!h&&u(n.watchId))r=r||this.nextId(),this.if_("i",this.lazyAssign(r,this.computedMember("i",n.watchId)),this.lazyRecurse(n,r,f,e,s,!0));else switch(n.type){case i.Program:t(n.body,function(t,i){c.recurse(t.expression,void 0,void 0,function(n){v=n});i!==n.body.length-1?c.current().body.push(v,";"):c.return_(v)});break;case i.Literal:a=this.escape(n.value);this.assign(r,a);e(a);break;case i.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(n){v=n});a=n.operator+"("+this.ifDefined(v,0)+")";this.assign(r,a);e(a);break;case i.BinaryExpression:this.recurse(n.left,void 0,void 0,function(n){l=n});this.recurse(n.right,void 0,void 0,function(n){v=n});a="+"===n.operator?this.plus(l,v):"-"===n.operator?this.ifDefined(l,0)+n.operator+this.ifDefined(v,0):"("+l+")"+n.operator+"("+v+")";this.assign(r,a);e(a);break;case i.LogicalExpression:r=r||this.nextId();c.recurse(n.left,r);c.if_("&&"===n.operator?r:c.not(r),c.lazyRecurse(n.right,r));e(r);break;case i.ConditionalExpression:r=r||this.nextId();c.recurse(n.test,r);c.if_(r,c.lazyRecurse(n.alternate,r),c.lazyRecurse(n.consequent,r));e(r);break;case i.Identifier:r=r||this.nextId();f&&(f.context="inputs"===c.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),f.computed=!1,f.name=n.name);bi(n.name);c.if_("inputs"===c.stage||c.not(c.getHasOwnProperty("l",n.name)),function(){c.if_("inputs"===c.stage||"s",function(){s&&1!==s&&c.if_(c.not(c.nonComputedMember("s",n.name)),c.lazyAssign(c.nonComputedMember("s",n.name),"{}"));c.assign(r,c.nonComputedMember("s",n.name))})},r&&c.lazyAssign(r,c.nonComputedMember("l",n.name)));(c.state.expensiveChecks||au(n.name))&&c.addEnsureSafeObject(r);e(r);break;case i.MemberExpression:l=f&&(f.context=this.nextId())||this.nextId();r=r||this.nextId();c.recurse(n.object,l,void 0,function(){c.if_(c.notNull(l),function(){s&&1!==s&&c.addEnsureSafeAssignContext(l);n.computed?(v=c.nextId(),c.recurse(n.property,v),c.getStringValue(v),c.addEnsureSafeMemberName(v),s&&1!==s&&c.if_(c.not(c.computedMember(l,v)),c.lazyAssign(c.computedMember(l,v),"{}")),a=c.ensureSafeObject(c.computedMember(l,v)),c.assign(r,a),f&&(f.computed=!0,f.name=v)):(bi(n.property.name),s&&1!==s&&c.if_(c.not(c.nonComputedMember(l,n.property.name)),c.lazyAssign(c.nonComputedMember(l,n.property.name),"{}")),a=c.nonComputedMember(l,n.property.name),(c.state.expensiveChecks||au(n.property.name))&&(a=c.ensureSafeObject(a)),c.assign(r,a),f&&(f.computed=!1,f.name=n.property.name))},function(){c.assign(r,"undefined")});e(r)},!!s);break;case i.CallExpression:r=r||this.nextId();n.filter?(v=c.filter(n.callee.name),y=[],t(n.arguments,function(n){var t=c.nextId();c.recurse(n,t);y.push(t)}),a=v+"("+y.join(",")+")",c.assign(r,a),e(r)):(v=c.nextId(),l={},y=[],c.recurse(n.callee,v,l,function(){c.if_(c.notNull(v),function(){c.addEnsureSafeFunction(v);t(n.arguments,function(n){c.recurse(n,c.nextId(),void 0,function(n){y.push(c.ensureSafeObject(n))})});l.name?(c.state.expensiveChecks||c.addEnsureSafeObject(l.context),a=c.member(l.context,l.name,l.computed)+"("+y.join(",")+")"):a=v+"("+y.join(",")+")";a=c.ensureSafeObject(a);c.assign(r,a)},function(){c.assign(r,"undefined")});e(r)}));break;case i.AssignmentExpression:if(v=this.nextId(),l={},!us(n.left))throw it("lval");this.recurse(n.left,void 0,l,function(){c.if_(c.notNull(l.context),function(){c.recurse(n.right,v);c.addEnsureSafeObject(c.member(l.context,l.name,l.computed));c.addEnsureSafeAssignContext(l.context);a=c.member(l.context,l.name,l.computed)+n.operator+v;c.assign(r,a);e(r||a)})},1);break;case i.ArrayExpression:y=[];t(n.elements,function(n){c.recurse(n,c.nextId(),void 0,function(n){y.push(n)})});a="["+y.join(",")+"]";this.assign(r,a);e(a);break;case i.ObjectExpression:y=[];t(n.properties,function(n){c.recurse(n.value,c.nextId(),void 0,function(t){y.push(c.escape(n.key.type===i.Identifier?n.key.name:""+n.key.value)+":"+t)})});a="{"+y.join(",")+"}";this.assign(r,a);e(a);break;case i.ThisExpression:this.assign(r,"s");e("s");break;case i.LocalsExpression:this.assign(r,"l");e("l");break;case i.NGValueParameter:this.assign(r,"v");e("v")}},getHasOwnProperty:function(n,t){var i=n+"."+t,r=this.current().own;return r.hasOwnProperty(i)||(r[i]=this.nextId(!1,n+"&&("+this.escape(t)+" in "+n+")")),r[i]},assign:function(n,t){if(n)return(this.current().body.push(n,"=",t,";"),n)},filter:function(n){return this.state.filters.hasOwnProperty(n)||(this.state.filters[n]=this.nextId(!0)),this.state.filters[n]},ifDefined:function(n,t){return"ifDefined("+n+","+this.escape(t)+")"},plus:function(n,t){return"plus("+n+","+t+")"},return_:function(n){this.current().body.push("return ",n,";")},if_:function(n,t,i){if(!0===n)t();else{var r=this.current().body;r.push("if(",n,"){");t();r.push("}");i&&(r.push("else{"),i(),r.push("}"))}},not:function(n){return"!("+n+")"},notNull:function(n){return n+"!=null"},nonComputedMember:function(n,t){return/[$_a-zA-Z][$_a-zA-Z0-9]*/.test(t)?n+"."+t:n+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(n,t){return n+"["+t+"]"},member:function(n,t,i){return i?this.computedMember(n,t):this.nonComputedMember(n,t)},addEnsureSafeObject:function(n){this.current().body.push(this.ensureSafeObject(n),";")},addEnsureSafeMemberName:function(n){this.current().body.push(this.ensureSafeMemberName(n),";")},addEnsureSafeFunction:function(n){this.current().body.push(this.ensureSafeFunction(n),";")},addEnsureSafeAssignContext:function(n){this.current().body.push(this.ensureSafeAssignContext(n),";")},ensureSafeObject:function(n){return"ensureSafeObject("+n+",text)"},ensureSafeMemberName:function(n){return"ensureSafeMemberName("+n+",text)"},ensureSafeFunction:function(n){return"ensureSafeFunction("+n+",text)"},getStringValue:function(n){this.assign(n,"getStringValue("+n+")")},ensureSafeAssignContext:function(n){return"ensureSafeAssignContext("+n+",text)"},lazyRecurse:function(n,t,i,r,u,f){var e=this;return function(){e.recurse(n,t,i,r,u,f)}},lazyAssign:function(n,t){var i=this;return function(){i.assign(n,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)},escape:function(n){if(h(n))return"'"+n.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(n))return n.toString();if(!0===n)return"true";if(!1===n)return"false";if(null===n)return"null";if("undefined"==typeof n)return"undefined";throw it("esc");},nextId:function(n,t){var i="v"+this.state.nextId++;return n||this.current().vars.push(i+(t?"="+t:"")),i},current:function(){return this.state[this.state.computing]}};ss.prototype={compile:function(n,i){var s=this,u=this.astBuilder.ast(n),r,h,f,e;return this.expression=n,this.expensiveChecks=i,k(u,s.$filter),(r=fs(u))&&(h=this.recurse(r)),r=rs(u.body),r&&(f=[],t(r,function(n,t){var i=s.recurse(n);n.input=i;f.push(i);n.watchId=t})),e=[],t(u.body,function(n){e.push(s.recurse(n.expression))}),r=0===u.body.length?o:1===u.body.length?e[0]:function(n,i){var r;return t(e,function(t){r=t(n,i)}),r},h&&(r.assign=function(n,t,i){return h(n,i,t)}),f&&(r.inputs=f),r.literal=es(u),r.constant=u.constant,r},recurse:function(n,r,u){var s,f,o,e=this;if(n.input)return this.inputs(n.input,n.watchId);switch(n.type){case i.Literal:return this.value(n.value,r);case i.UnaryExpression:return f=this.recurse(n.argument),this["unary"+n.operator](f,r);case i.BinaryExpression:return s=this.recurse(n.left),f=this.recurse(n.right),this["binary"+n.operator](s,f,r);case i.LogicalExpression:return s=this.recurse(n.left),f=this.recurse(n.right),this["binary"+n.operator](s,f,r);case i.ConditionalExpression:return this["ternary?:"](this.recurse(n.test),this.recurse(n.alternate),this.recurse(n.consequent),r);case i.Identifier:return bi(n.name,e.expression),e.identifier(n.name,e.expensiveChecks||au(n.name),r,u,e.expression);case i.MemberExpression:return s=this.recurse(n.object,!1,!!u),n.computed||(bi(n.property.name,e.expression),f=n.property.name),n.computed&&(f=this.recurse(n.property)),n.computed?this.computedMember(s,f,r,u,e.expression):this.nonComputedMember(s,f,e.expensiveChecks,r,u,e.expression);case i.CallExpression:return o=[],t(n.arguments,function(n){o.push(e.recurse(n))}),n.filter&&(f=this.$filter(n.callee.name)),n.filter||(f=this.recurse(n.callee,!0)),n.filter?function(n,t,i,u){for(var s=[],e=0;e<o.length;++e)s.push(o[e](n,t,i,u));return n=f.apply(void 0,s,u),r?{context:void 0,name:void 0,value:n}:n}:function(n,t,i,u){var s,h=f(n,t,i,u),c;if(null!=h.value){for(dt(h.context,e.expression),ts(h.value,e.expression),s=[],c=0;c<o.length;++c)s.push(dt(o[c](n,t,i,u),e.expression));s=dt(h.value.apply(h.context,s),e.expression)}return r?{value:s}:s};case i.AssignmentExpression:return s=this.recurse(n.left,!0,1),f=this.recurse(n.right),function(n,t,i,u){var o=s(n,t,i,u);return n=f(n,t,i,u),dt(o.value,e.expression),lu(o.context),o.context[o.name]=n,r?{value:n}:n};case i.ArrayExpression:return o=[],t(n.elements,function(n){o.push(e.recurse(n))}),function(n,t,i,u){for(var f=[],e=0;e<o.length;++e)f.push(o[e](n,t,i,u));return r?{value:f}:f};case i.ObjectExpression:return o=[],t(n.properties,function(n){o.push({key:n.key.type===i.Identifier?n.key.name:""+n.key.value,value:e.recurse(n.value)})}),function(n,t,i,u){for(var e={},f=0;f<o.length;++f)e[o[f].key]=o[f].value(n,t,i,u);return r?{value:e}:e};case i.ThisExpression:return function(n){return r?{value:n}:n};case i.LocalsExpression:return function(n,t){return r?{value:t}:t};case i.NGValueParameter:return function(n,t,i){return r?{value:i}:i}}},"unary+":function(n,t){return function(i,r,f,e){return i=n(i,r,f,e),i=u(i)?+i:0,t?{value:i}:i}},"unary-":function(n,t){return function(i,r,f,e){return i=n(i,r,f,e),i=u(i)?-i:0,t?{value:i}:i}},"unary!":function(n,t){return function(i,r,u,f){return i=!n(i,r,u,f),t?{value:i}:i}},"binary+":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e);return r=t(r,u,f,e),o=is(o,r),i?{value:o}:o}},"binary-":function(n,t,i){return function(r,f,e,o){var s=n(r,f,e,o);return r=t(r,f,e,o),s=(u(s)?s:0)-(u(r)?r:0),i?{value:s}:s}},"binary*":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)*t(r,u,f,e),i?{value:r}:r}},"binary/":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)/t(r,u,f,e),i?{value:r}:r}},"binary%":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)%t(r,u,f,e),i?{value:r}:r}},"binary===":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)===t(r,u,f,e),i?{value:r}:r}},"binary!==":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)!==t(r,u,f,e),i?{value:r}:r}},"binary==":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)==t(r,u,f,e),i?{value:r}:r}},"binary!=":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)!=t(r,u,f,e),i?{value:r}:r}},"binary<":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)<t(r,u,f,e),i?{value:r}:r}},"binary>":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)>t(r,u,f,e),i?{value:r}:r}},"binary<=":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)<=t(r,u,f,e),i?{value:r}:r}},"binary>=":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)>=t(r,u,f,e),i?{value:r}:r}},"binary&&":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)&&t(r,u,f,e),i?{value:r}:r}},"binary||":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)||t(r,u,f,e),i?{value:r}:r}},"ternary?:":function(n,t,i,r){return function(u,f,e,o){return u=n(u,f,e,o)?t(u,f,e,o):i(u,f,e,o),r?{value:u}:u}},value:function(n,t){return function(){return t?{context:void 0,name:void 0,value:n}:n}},identifier:function(n,t,i,r,u){return function(f,e){return f=e&&n in e?e:f,r&&1!==r&&f&&!f[n]&&(f[n]={}),e=f?f[n]:void 0,t&&dt(e,u),i?{context:f,name:n,value:e}:e}},computedMember:function(n,t,i,r,u){return function(f,e,o,s){var h,l,c=n(f,e,o,s);return null!=c&&(h=t(f,e,o,s),h+="",bi(h,u),r&&1!==r&&(lu(c),c&&!c[h]&&(c[h]={})),l=c[h],dt(l,u)),i?{context:c,name:h,value:l}:l}},nonComputedMember:function(n,t,i,r,u,f){return function(e,o,s,h){return e=n(e,o,s,h),u&&1!==u&&(lu(e),e&&!e[t]&&(e[t]={})),o=null!=e?e[t]:void 0,(i||au(t))&&dt(o,f),r?{context:e,name:t,value:o}:o}},inputs:function(n,t){return function(i,r,u,f){return f?f[t]:n(i,r,u)}}};rf=function(n,t,r){this.lexer=n;this.$filter=t;this.options=r;this.ast=new i(n,r);this.astCompiler=r.csp?new ss(this.ast,t):new os(this.ast,t)};rf.prototype={constructor:rf,parse:function(n){return this.astCompiler.compile(n,this.options.expensiveChecks)}};var sp=Object.prototype.valueOf,ii=l("$sce"),lt={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},hp=l("$compile"),nt=n.document.createElement("a"),wh=gt(n.location.href);as.$inject=["$document"];vs.$inject=["$provide"];var bh=22,kh=".",se="0";ys.$inject=["$locale"];ps.$inject=["$locale"];var cp={yyyy:d("FullYear",4,0,!1,!0),yy:d("FullYear",2,0,!0,!0),y:d("FullYear",1,0,!1,!0),MMMM:yr("Month"),MMM:yr("Month",!0),MM:d("Month",2,1),M:d("Month",1,1),LLLL:yr("Month",!1,!0),dd:d("Date",2),d:d("Date",1),HH:d("Hours",2),H:d("Hours",1),hh:d("Hours",2,-12),h:d("Hours",1,-12),mm:d("Minutes",2),m:d("Minutes",1),ss:d("Seconds",2),s:d("Seconds",1),sss:d("Milliseconds",3),EEEE:yr("Day"),EEE:yr("Day",!0),a:function(n,t){return 12>n.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(n,t,i){return n=-1*i,n=(n>=0?"+":"")+(vu(Math[n>0?"floor":"ceil"](n/60),2)+vu(Math.abs(n%60),2))},ww:ks(2),w:ks(1),G:gf,GG:gf,GGG:gf,GGGG:function(n,t){return 0>=n.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},lp=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ap=/^\-?\d+$/;ds.$inject=["$locale"];dh=ft(v);gh=ft(pu);gs.$inject=["$parse"];nc=ft({restrict:"E",compile:function(n,t){if(!t.href&&!t.xlinkHref)return function(n,t){if("a"===t[0].nodeName.toLowerCase()){var i="[object SVGAnimatedString]"===rt.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(n){t.attr(i)||n.preventDefault()})}}}});br={};t(du,function(n,t){function r(n,r,u){n.$watch(u[i],function(n){u.$set(t,!!n)})}if("multiple"!=n){var i=yt("ng-"+t),u=r;"checked"===n&&(u=function(n,t,u){u.ngModel!==u[i]&&r(n,t,u)});br[i]=function(){return{restrict:"A",priority:100,link:u}}}});t(fe,function(n,t){br[t]=function(){return{priority:100,link:function(n,i,r){return"ngPattern"===t&&"/"==r.ngPattern.charAt(0)&&(i=r.ngPattern.match(vv))?void r.$set("ngPattern",new RegExp(i[1],i[2])):void n.$watch(r[t],function(n){r.$set(t,n)})}}}});t(["src","srcset","href"],function(n){var t=yt("ng-"+n);br[t]=function(){return{priority:99,link:function(i,r,u){var e=n,f=n;"href"===n&&"[object SVGAnimatedString]"===rt.call(r.prop("href"))&&(f="xlinkHref",u.$attr[f]="xlink:href",e=null);u.$observe(t,function(t){t?(u.$set(f,t),ni&&e&&r.prop(e,u[f])):"href"===n&&u.$set(f,null)})}}}});kr={$addControl:o,$$renameControl:function(n,t){n.$name=t},$removeControl:o,$setValidity:o,$setDirty:o,$setPristine:o,$setSubmitted:o};nh.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var tc=function(n){return["$timeout","$parse",function(t,i){function r(n){return""===n?i('this[""]').assign:i(n).assign||o}return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:nh,compile:function(i,u){i.addClass(tr).addClass(dr);var f=u.name?"name":n&&u.ngForm?"ngForm":!1;return{pre:function(n,i,u,e){var s=e[0],c,h;"action"in u||(c=function(t){n.$apply(function(){s.$commitViewValue();s.$setSubmitted()});t.preventDefault()},i[0].addEventListener("submit",c,!1),i.on("$destroy",function(){t(function(){i[0].removeEventListener("submit",c,!1)},0,!1)}));(e[1]||s.$$parentForm).$addControl(s);h=f?r(s.$name):o;f&&(h(n,s),u.$observe(f,function(t){s.$name!==t&&(h(n,void 0),s.$$parentForm.$$renameControl(s,t),(h=r(s.$name))(n,s))}));i.on("$destroy",function(){s.$$parentForm.$removeControl(s);h(n,void 0);a(s,kr)})}}}}}]},vp=tc(),yp=tc(!0),pp=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,wp=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,bp=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,kp=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ic=/^(\d{4,})-(\d{2})-(\d{2})$/,rc=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,he=/^(\d{4,})-W(\d\d)$/,uc=/^(\d{4,})-(\d\d)$/,fc=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ec=y();t(["date","datetime-local","month","time","week"],function(n){ec[n]=!0});var oc={text:function(n,t,i,r,u,f){pr(n,t,i,r,u,f);ne(r)},date:wr("date",ic,yu(ic,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":wr("datetimelocal",rc,yu(rc,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:wr("time",fc,yu(fc,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:wr("week",he,function(n,t){var i;if(et(n))return n;if(h(n)&&(he.lastIndex=0,i=he.exec(n),i)){var r=+i[1],u=+i[2],f=i=0,e=0,o=0,s=bs(r),u=7*(u-1);return t&&(i=t.getHours(),f=t.getMinutes(),e=t.getSeconds(),o=t.getMilliseconds()),new Date(r,0,s.getDate()+u,i,f,e,o)}return NaN},"yyyy-Www"),month:wr("month",uc,yu(uc,["yyyy","MM"]),"yyyy-MM"),number:function(n,t,i,f,e,o){var s,h;(th(n,t,i,f),pr(n,t,i,f,e,o),f.$$parserName="number",f.$parsers.push(function(n){return f.$isEmpty(n)?null:kp.test(n)?parseFloat(n):void 0}),f.$formatters.push(function(n){if(!f.$isEmpty(n)){if(!w(n))throw gr("numfmt",n);n=n.toString()}return n}),u(i.min)||i.ngMin)&&(f.$validators.min=function(n){return f.$isEmpty(n)||r(s)||n>=s},i.$observe("min",function(n){u(n)&&!w(n)&&(n=parseFloat(n,10));s=w(n)&&!isNaN(n)?n:void 0;f.$validate()}));(u(i.max)||i.ngMax)&&(f.$validators.max=function(n){return f.$isEmpty(n)||r(h)||h>=n},i.$observe("max",function(n){u(n)&&!w(n)&&(n=parseFloat(n,10));h=w(n)&&!isNaN(n)?n:void 0;f.$validate()}))},url:function(n,t,i,r,u,f){pr(n,t,i,r,u,f);ne(r);r.$$parserName="url";r.$validators.url=function(n,t){var i=n||t;return r.$isEmpty(i)||wp.test(i)}},email:function(n,t,i,r,u,f){pr(n,t,i,r,u,f);ne(r);r.$$parserName="email";r.$validators.email=function(n,t){var i=n||t;return r.$isEmpty(i)||bp.test(i)}},radio:function(n,t,i,u){r(i.name)&&t.attr("name",++wu);t.on("click",function(n){t[0].checked&&u.$setViewValue(i.value,n&&n.type)});u.$render=function(){t[0].checked=i.value==u.$viewValue};i.$observe("value",u.$render)},checkbox:function(n,t,i,r,u,f,e,o){var s=ih(o,n,"ngTrueValue",i.ngTrueValue,!0),h=ih(o,n,"ngFalseValue",i.ngFalseValue,!1);t.on("click",function(n){r.$setViewValue(t[0].checked,n&&n.type)});r.$render=function(){t[0].checked=r.$viewValue};r.$isEmpty=function(n){return!1===n};r.$formatters.push(function(n){return st(n,s)});r.$parsers.push(function(n){return n?s:h})},hidden:o,button:o,submit:o,reset:o,file:o},sc=["$browser","$sniffer","$filter","$parse",function(n,t,i,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(u,f,e,o){o[0]&&(oc[v(e.type)]||oc.text)(u,f,e,o[0],t,n,i,r)}}}}],dp=/^(true|false|\d+)$/,gp=function(){return{restrict:"A",priority:100,compile:function(n,t){return dp.test(t.ngValue)?function(n,t,i){i.$set("value",n.$eval(i.ngValue))}:function(n,t,i){n.$watch(i.ngValue,function(n){i.$set("value",n)})}}}},nw=["$compile",function(n){return{restrict:"AC",compile:function(t){return n.$$addBindingClass(t),function(t,i,u){n.$$addBindingInfo(i,u.ngBind);i=i[0];t.$watch(u.ngBind,function(n){i.textContent=r(n)?"":n})}}}}],tw=["$interpolate","$compile",function(n,t){return{compile:function(i){return t.$$addBindingClass(i),function(i,u,f){i=n(u.attr(f.$attr.ngBindTemplate));t.$$addBindingInfo(u,i.expressions);u=u[0];f.$observe("ngBindTemplate",function(n){u.textContent=r(n)?"":n})}}}}],iw=["$sce","$parse","$compile",function(n,t,i){return{restrict:"A",compile:function(r,u){var f=t(u.ngBindHtml),e=t(u.ngBindHtml,function(n){return(n||"").toString()});return i.$$addBindingClass(r),function(t,r,u){i.$$addBindingInfo(r,u.ngBindHtml);t.$watch(e,function(){r.html(n.getTrustedHtml(f(t))||"")})}}}}],rw=ft({restrict:"A",require:"ngModel",link:function(n,t,i,r){r.$viewChangeListeners.push(function(){n.$eval(i.ngChange)})}}),uw=te("",!0),fw=te("Odd",0),ew=te("Even",1),ow=hi({compile:function(n,t){t.$set("ngCloak",void 0);n.removeClass("ng-cloak")}}),sw=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],hc={},hw={blur:!0,focus:!0};t("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(n){var t=yt("ng-"+n);hc[t]=["$parse","$rootScope",function(i,r){return{restrict:"A",compile:function(u,f){var e=i(f[t],null,!0);return function(t,i){i.on(n,function(i){var u=function(){e(t,{$event:i})};hw[n]&&r.$$phase?t.$evalAsync(u):t.$apply(u)})}}}}]});var cw=["$animate","$compile",function(n,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(i,r,u,f,e){var h,s,o;i.$watch(u.ngIf,function(i){i?s||e(function(i,f){s=f;i[i.length++]=t.$$createComment("end ngIf",u.ngIf);h={clone:i};n.enter(i,r.parent(),r)}):(o&&(o.remove(),o=null),s&&(s.$destroy(),s=null),h&&(o=iu(h.clone),n.leave(o).then(function(){o=null}),h=null))})}}}],lw=["$templateRequest","$anchorScroll","$animate",function(n,t,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ut.noop,compile:function(r,f){var o=f.ngInclude||f.src,s=f.onload||"",e=f.autoscroll;return function(r,f,h,c,l){var a,v,y,p=0,w=function(){v&&(v.remove(),v=null);a&&(a.$destroy(),a=null);y&&(i.leave(y).then(function(){v=null}),v=y,y=null)};r.$watch(o,function(o){var v=function(){u(e)&&(!e||r.$eval(e))&&t()},h=++p;o?(n(o,!0).then(function(n){if(!r.$$destroyed&&h===p){var t=r.$new();c.template=n;n=l(t,function(n){w();i.enter(n,null,f).then(v)});a=t;y=n;a.$emit("$includeContentLoaded",o);r.$eval(s)}},function(){r.$$destroyed||h!==p||(w(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(w(),c.template=null)})}}}}],aw=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,r,u,f){rt.call(r[0]).match(/SVG/)?(r.empty(),t(io(f.template,n.document).childNodes)(i,function(n){r.append(n)},{futureParentElement:r})):(r.html(f.template),t(r.contents())(i))}}}],vw=hi({priority:450,compile:function(){return{pre:function(n,t,i){n.$eval(i.ngInit)}}}}),yw=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(n,i,u,f){var e=i.attr(u.$attr.ngList)||", ",o="false"!==u.ngTrim,s=o?p(e):e;f.$parsers.push(function(n){if(!r(n)){var i=[];return n&&t(n.split(s),function(n){n&&i.push(o?p(n):n)}),i}});f.$formatters.push(function(n){if(c(n))return n.join(e)});f.$isEmpty=function(n){return!n||!n.length}}}},dr="ng-valid",cc="ng-invalid",tr="ng-pristine",uf="ng-dirty",lc="ng-pending",gr=l("ngModel"),pw=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(n,i,e,s,h,c,l,a,v,y){var d;this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=void 0;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=void 0;this.$name=y(e.name||"",!1)(n);this.$$parentForm=kr;var b,k=h(e.ngModel),tt=k.assign,nt=k,it=tt,g=null,p=this;this.$$setOptions=function(n){if((p.$options=n)&&n.getterSetter){var t=h(e.ngModel+"()"),i=h(e.ngModel+"($$$p)");nt=function(n){var i=k(n);return f(i)&&(i=t(n)),i};it=function(n,t){f(k(n))?i(n,{$$$p:t}):tt(n,t)}}else if(!k.assign)throw gr("nonassign",e.ngModel,vt(s));};this.$render=o;this.$isEmpty=function(n){return r(n)||""===n||null===n||n!==n};this.$$updateEmptyClasses=function(n){p.$isEmpty(n)?(c.removeClass(s,"ng-not-empty"),c.addClass(s,"ng-empty")):(c.removeClass(s,"ng-empty"),c.addClass(s,"ng-not-empty"))};d=0;rh({ctrl:this,$element:s,set:function(n,t){n[t]=!0},unset:function(n,t){delete n[t]},$animate:c});this.$setPristine=function(){p.$dirty=!1;p.$pristine=!0;c.removeClass(s,uf);c.addClass(s,tr)};this.$setDirty=function(){p.$dirty=!0;p.$pristine=!1;c.removeClass(s,tr);c.addClass(s,uf);p.$$parentForm.$setDirty()};this.$setUntouched=function(){p.$touched=!1;p.$untouched=!0;c.setClass(s,"ng-untouched","ng-touched")};this.$setTouched=function(){p.$touched=!0;p.$untouched=!1;c.setClass(s,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){l.cancel(g);p.$viewValue=p.$$lastCommittedViewValue;p.$render()};this.$validate=function(){if(!w(p.$modelValue)||!isNaN(p.$modelValue)){var n=p.$$rawModelValue,t=p.$valid,i=p.$modelValue,r=p.$options&&p.$options.allowInvalid;p.$$runValidators(n,p.$$lastCommittedViewValue,function(u){r||t===u||(p.$modelValue=u?n:void 0,p.$modelValue!==i&&p.$$writeModelToScope())})}};this.$$runValidators=function(n,i,u){function c(){var r=!0;return t(p.$validators,function(t,u){var f=t(n,i);r=r&&f;e(u,f)}),r?!0:(t(p.$asyncValidators,function(n,t){e(t,null)}),!1)}function l(){var r=[],u=!0;t(p.$asyncValidators,function(t,o){var s=t(n,i);if(!s||!f(s.then))throw gr("nopromise",s);e(o,void 0);r.push(s.then(function(){e(o,!0)},function(){u=!1;e(o,!1)}))});r.length?v.all(r).then(function(){s(u)},o):s(!0)}function e(n,t){h===d&&p.$setValidity(n,t)}function s(n){h===d&&u(n)}d++;var h=d;(function(){var n=p.$$parserName||"parse";return r(b)?(e(n,null),!0):(b||(t(p.$validators,function(n,t){e(t,null)}),t(p.$asyncValidators,function(n,t){e(t,null)})),e(n,b),b)})()&&c()?l():s(!1)};this.$commitViewValue=function(){var n=p.$viewValue;l.cancel(g);(p.$$lastCommittedViewValue!==n||""===n&&p.$$hasNativeValidators)&&(p.$$updateEmptyClasses(n),p.$$lastCommittedViewValue=n,p.$pristine&&this.$setDirty(),this.$$parseAndValidate())};this.$$parseAndValidate=function(){var t=p.$$lastCommittedViewValue,i,u,f;if(b=r(t)?void 0:!0)for(i=0;i<p.$parsers.length;i++)if(t=p.$parsers[i](t),r(t)){b=!1;break}w(p.$modelValue)&&isNaN(p.$modelValue)&&(p.$modelValue=nt(n));u=p.$modelValue;f=p.$options&&p.$options.allowInvalid;p.$$rawModelValue=t;f&&(p.$modelValue=t,p.$modelValue!==u&&p.$$writeModelToScope());p.$$runValidators(t,p.$$lastCommittedViewValue,function(n){f||(p.$modelValue=n?t:void 0,p.$modelValue!==u&&p.$$writeModelToScope())})};this.$$writeModelToScope=function(){it(n,p.$modelValue);t(p.$viewChangeListeners,function(n){try{n()}catch(t){i(t)}})};this.$setViewValue=function(n,t){p.$viewValue=n;p.$options&&!p.$options.updateOnDefault||p.$$debounceViewValueCommit(t)};this.$$debounceViewValueCommit=function(t){var r=0,i=p.$options;i&&u(i.debounce)&&(i=i.debounce,w(i)?r=i:w(i[t])?r=i[t]:w(i["default"])&&(r=i["default"]));l.cancel(g);r?g=l(function(){p.$commitViewValue()},r):a.$$phase?p.$commitViewValue():n.$apply(function(){p.$commitViewValue()})};n.$watch(function(){var t=nt(n);if(t!==p.$modelValue&&(p.$modelValue===p.$modelValue||t===t)){p.$modelValue=p.$$rawModelValue=t;b=void 0;for(var r=p.$formatters,u=r.length,i=t;u--;)i=r[u](i);p.$viewValue!==i&&(p.$$updateEmptyClasses(i),p.$viewValue=p.$$lastCommittedViewValue=i,p.$render(),p.$$runValidators(t,i,o))}return t})}],ww=["$rootScope",function(n){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:pw,priority:1,compile:function(t){return t.addClass(tr).addClass("ng-untouched").addClass(dr),{pre:function(n,t,i,r){var u=r[0];t=r[1]||u.$$parentForm;u.$$setOptions(r[2]&&r[2].$options);t.$addControl(u);i.$observe("name",function(n){u.$name!==n&&u.$$parentForm.$$renameControl(u,n)});n.$on("$destroy",function(){u.$$parentForm.$removeControl(u)})},post:function(t,i,r,u){var f=u[0];f.$options&&f.$options.updateOn&&i.on(f.$options.updateOn,function(n){f.$$debounceViewValueCommit(n&&n.type)});i.on("blur",function(){f.$touched||(n.$$phase?t.$evalAsync(f.$setTouched):t.$apply(f.$setTouched))})}}}}}],bw=/(\s+|^)default(\s+|$)/,kw=function(){return{restrict:"A",controller:["$scope","$attrs",function(n,t){var i=this;this.$options=kt(n.$eval(t.ngModelOptions));u(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=p(this.$options.updateOn.replace(bw,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},dw=hi({terminal:!0,priority:1e3}),gw=l("ngOptions"),nb=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,tb=["$compile","$document","$parse",function(i,r,f){function h(n,t,i){function w(n,t,i,r,u){this.selectValue=n;this.viewValue=t;this.label=i;this.group=r;this.disabled=u}function l(n){var t,i;if(!s&&ri(n))t=n;else{t=[];for(i in n)n.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t.push(i)}return t}var r=n.match(nb),o,s,u;if(!r)throw gw("iexp",n,vt(t));o=r[5]||r[7];s=r[6];n=/ as /.test(r[0])&&r[1];u=r[9];t=f(r[2]?r[1]:o);var b=n&&f(n)||t,k=u&&f(u),h=u?function(n,t){return k(i,t)}:function(n){return fi(n)},a=function(n,t){return h(n,c(n,t))},v=f(r[2]||r[1]),d=f(r[3]||""),y=f(r[4]||""),p=f(r[8]),e={},c=s?function(n,t){return e[s]=t,e[o]=n,e}:function(n){return e[o]=n,e};return{trackBy:u,getTrackByValue:a,getWatchables:f(p,function(n){var f=[];n=n||[];for(var o=l(n),s=o.length,e=0;s>e;e++){var t=n===o?e:o[e],u=n[t],t=c(u,t),u=h(u,t);f.push(u);(r[2]||r[1])&&(u=v(i,t),f.push(u));r[4]&&(t=y(i,t),f.push(t))}return f}),getOptions:function(){for(var k=[],e={},o=p(i)||[],s=l(o),g=s.length,t=0;g>t;t++){var r=o===s?t:s[t],n=c(o[r],r),f=b(i,n),r=h(f,n),nt=v(i,n),tt=d(i,n),n=y(i,n),f=new w(r,f,nt,tt,n);k.push(f);e[r]=f}return{items:k,selectValueMap:e,getOptionFromViewValue:function(n){return e[a(n)]},getViewValueFromOption:function(n){return u?ut.copy(n.viewValue):n.viewValue}}}}}var s=n.document.createElement("option"),l=n.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(n,t,i,r){r[0].registerOption=o},post:function(n,f,o,a){function ut(n,t){n.element=t;t.disabled=n.disabled;n.label!==t.label&&(t.label=n.label,t.textContent=n.label);n.value!==t.value&&(t.value=n.selectValue)}function tt(){var i=y&&d.readValue(),n,t,r;if(y)for(n=y.items.length-1;n>=0;n--)t=y.items[n],af(t.group?t.element.parentNode:t.element);y=k.getOptions();r={};w&&f.prepend(v);y.items.forEach(function(n){var t,i;u(n.group)?(t=r[n.group],t||(t=l.cloneNode(!1),nt.appendChild(t),t.label=n.group,r[n.group]=t),i=s.cloneNode(!1)):(t=nt,i=s.cloneNode(!1));t.appendChild(i);ut(n,i)});f[0].appendChild(nt);p.$render();p.$isEmpty(i)||(n=d.readValue(),(k.trackBy||it?st(i,n):i===n)||(p.$setViewValue(n),p.$render()))}var v,d=a[0],p=a[1],it=o.multiple,g,rt,w,b,y,k,nt;for(a=0,g=f.children(),rt=g.length;rt>a;a++)if(""===g[a].value){v=g.eq(a);break}w=!!v;b=e(s.cloneNode(!1));b.val("?");k=h(o.ngOptions,f,n);nt=r[0].createDocumentFragment();it?(p.$isEmpty=function(n){return!n||0===n.length},d.writeValue=function(n){y.items.forEach(function(n){n.element.selected=!1});n&&n.forEach(function(n){(n=y.getOptionFromViewValue(n))&&(n.element.selected=!0)})},d.readValue=function(){var i=f.val()||[],n=[];return t(i,function(t){(t=y.selectValueMap[t])&&!t.disabled&&n.push(y.getViewValueFromOption(t))}),n},k.trackBy&&n.$watchCollection(function(){if(c(p.$viewValue))return p.$viewValue.map(function(n){return k.getTrackByValue(n)})},function(){p.$render()})):(d.writeValue=function(n){var t=y.getOptionFromViewValue(n);t?(f[0].value!==t.selectValue&&(b.remove(),w||v.remove(),f[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===n||w?(b.remove(),w||f.prepend(v),f.val(""),v.prop("selected",!0),v.attr("selected",!0)):(w||v.remove(),f.prepend(b),f.val("?"),b.prop("selected",!0),b.attr("selected",!0))},d.readValue=function(){var n=y.selectValueMap[f.val()];return n&&!n.disabled?(w||v.remove(),b.remove(),y.getViewValueFromOption(n)):null},k.trackBy&&n.$watch(function(){return k.getTrackByValue(p.$viewValue)},function(){p.$render()}));w?(v.remove(),i(v)(n),v.removeClass("ng-scope")):v=e(s.cloneNode(!1));f.empty();tt();n.$watchCollection(k.getWatchables,tt)}}}}],ib=["$locale","$interpolate","$log",function(n,i,u){var f=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(s,h,c){function p(n){h.text(n||"")}var l,b=c.count,k=c.$attr.when&&h.attr(c.$attr.when),d=c.offset||0,a=s.$eval(k)||{},g={},nt=i.startSymbol(),tt=i.endSymbol(),it=nt+b+"-"+d+tt,y=ut.noop;t(c,function(n,t){var i=e.exec(t);i&&(i=(i[1]?"-":"")+v(i[2]),a[i]=h.attr(c.$attr[t]))});t(a,function(n,t){g[t]=i(n.replace(f,it))});s.$watch(b,function(t){var i=parseFloat(t),f=isNaN(i);f||i in a||(i=n.pluralCat(i-d));i===l||f&&w(l)&&isNaN(l)||(y(),f=g[i],r(f)?(null!=t&&u.debug("ngPluralize: no rule defined for '"+i+"' in "+k),y=o,p()):y=s.$watch(f,p),l=i)})}}}],rb=["$parse","$animate","$compile",function(n,i,r){var u=l("ngRepeat"),f=function(n,t,i,r,u,f,e){n[i]=r;u&&(n[u]=f);n.$index=t;n.$first=0===t;n.$last=t===e-1;n.$middle=!(n.$first||n.$last);n.$odd=!(n.$even=0==(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,o){var a=o.ngRepeat,nt=r.$$createComment("end ngRepeat",a),s=a.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),v,c,p,w,d,g,l;if(!s)throw u("iexp",a);var b=s[1],tt=s[2],h=s[3],k=s[4],s=b.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!s)throw u("iidexp",b);if(v=s[3]||s[1],c=s[2],h&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(h)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(h)))throw u("badident",h);return l={$id:fi},k?p=n(k):(d=function(n,t){return fi(t)},g=function(n){return n}),function(n,r,e,o,s){p&&(w=function(t,i,r){return c&&(l[c]=t),l[v]=i,l.$index=r,p(n,l)});var b=y();n.$watchCollection(tt,function(e){var o,et,tt,ut,rt,ft,p,it,l,k,ot=r[0],st=y();if(h&&(n[h]=e),ri(e))it=e,et=w||d;else for(k in et=w||g,it=[],e)wt.call(e,k)&&"$"!==k.charAt(0)&&it.push(k);for(ut=it.length,k=Array(ut),o=0;ut>o;o++)if(rt=e===it?o:it[o],ft=e[rt],p=et(rt,ft,o),b[p])l=b[p],delete b[p],st[p]=l,k[o]=l;else{if(st[p])throw t(k,function(n){n&&n.scope&&(b[n.id]=n)}),u("dupes",a,p,ft);k[o]={id:p,scope:void 0,clone:void 0};st[p]=!0}for(tt in b){if(l=b[tt],p=iu(l.clone),i.leave(p),p[0].parentNode)for(o=0,et=p.length;et>o;o++)p[o].$$NG_REMOVED=!0;l.scope.$destroy()}for(o=0;ut>o;o++)if(rt=e===it?o:it[o],ft=e[rt],l=k[o],l.scope){tt=ot;do tt=tt.nextSibling;while(tt&&tt.$$NG_REMOVED);l.clone[0]!=tt&&i.move(iu(l.clone),null,ot);ot=l.clone[l.clone.length-1];f(l.scope,o,v,ft,c,rt,ut)}else s(function(n,t){l.scope=t;var r=nt.cloneNode(!1);n[n.length++]=r;i.enter(n,null,ot);ot=r;l.clone=n;st[l.id]=l;f(l.scope,o,v,ft,c,rt,ut)});b=st})}}}}],ub=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(t,i,r){t.$watch(r.ngShow,function(t){n[t?"removeClass":"addClass"](i,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],fb=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(t,i,r){t.$watch(r.ngHide,function(t){n[t?"addClass":"removeClass"](i,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],eb=hi(function(n,i,r){n.$watch(r.ngStyle,function(n,r){r&&n!==r&&t(r,function(n,t){i.css(t,"")});n&&i.css(n)},!0)}),ob=["$animate","$compile",function(n,i){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(r,u,f,e){var c=[],h=[],o=[],s=[],l=function(n,t){return function(){n.splice(t,1)}};r.$watch(f.ngSwitch||f.on,function(r){for(var a,u=0,f=o.length;f>u;++u)n.cancel(o[u]);for(u=o.length=0,f=s.length;f>u;++u)a=iu(h[u].clone),s[u].$destroy(),(o[u]=n.leave(a)).then(l(o,u));h.length=0;s.length=0;(c=e.cases["!"+r]||e.cases["?"])&&t(c,function(t){t.transclude(function(r,u){s.push(u);var f=t.element;r[r.length++]=i.$$createComment("end ngSwitchWhen");h.push({clone:r});n.enter(r,f.parent(),f)})})})}}}],sb=hi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(n,t,i,r,u){r.cases["!"+i.ngSwitchWhen]=r.cases["!"+i.ngSwitchWhen]||[];r.cases["!"+i.ngSwitchWhen].push({transclude:u,element:t})}}),hb=hi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(n,t,i,r,u){r.cases["?"]=r.cases["?"]||[];r.cases["?"].push({transclude:u,element:t})}}),cb=l("ngTransclude"),lb=hi({restrict:"EAC",link:function(n,t,i,r,u){if(i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude=""),!u)throw cb("orphan",vt(t));u(function(n){n.length&&(t.empty(),t.append(n))},null,i.ngTransclude||i.ngTranscludeSlot)}}),ab=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(t,i){"text/ng-template"==i.type&&n.put(i.id,t[0].text)}}}],vb={$setViewValue:o,$render:o},yb=["$element","$scope",function(t,i){var r=this,f=new wi;r.ngModelCtrl=vb;r.unknownOption=e(n.document.createElement("option"));r.renderUnknownOption=function(n){n="? "+fi(n)+" ?";r.unknownOption.val(n);t.prepend(r.unknownOption);t.val(n)};i.$on("$destroy",function(){r.renderUnknownOption=o});r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()};r.readValue=function(){return r.removeUnknownOption(),t.val()};r.writeValue=function(n){r.hasOption(n)?(r.removeUnknownOption(),t.val(n),""===n&&r.emptyOption.prop("selected",!0)):null==n&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(n)};r.addOption=function(n,t){if(8!==t[0].nodeType){pi(n,'"option value"');""===n&&(r.emptyOption=t);var i=f.get(n)||0;f.put(n,i+1);r.ngModelCtrl.$render();t[0].hasAttribute("selected")&&(t[0].selected=!0)}};r.removeOption=function(n){var t=f.get(n);t&&(1===t?(f.remove(n),""===n&&(r.emptyOption=void 0)):f.put(n,t-1))};r.hasOption=function(n){return!!f.get(n)};r.registerOption=function(n,t,i,f,e){if(f){var o;i.$observe("value",function(n){u(o)&&r.removeOption(o);o=n;r.addOption(n,t)})}else e?n.$watch(e,function(n,u){i.$set("value",n);u!==n&&r.removeOption(u);r.addOption(n,t)}):r.addOption(i.value,t);t.on("$destroy",function(){r.removeOption(i.value);r.ngModelCtrl.$render()})}}],pb=function(){return{restrict:"E",require:["select","?ngModel"],controller:yb,priority:1,link:{pre:function(n,i,r,f){var e=f[1],o,h,s;e&&(o=f[0],(o.ngModelCtrl=e,i.on("change",function(){n.$apply(function(){e.$setViewValue(o.readValue())})}),r.multiple)&&(o.readValue=function(){var n=[];return t(i.find("option"),function(t){t.selected&&n.push(t.value)}),n},o.writeValue=function(n){var r=new wi(n);t(i.find("option"),function(n){n.selected=u(r.get(n.value))})},s=NaN,n.$watch(function(){s!==e.$viewValue||st(h,e.$viewValue)||(h=ot(e.$viewValue),e.$render());s=e.$viewValue}),e.$isEmpty=function(n){return!n||0===n.length}))},post:function(n,t,i,r){var u=r[1],f;u&&(f=r[0],u.$render=function(){f.writeValue(u.$viewValue)})}}}},wb=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(t,i){var f,r;return u(i.value)?f=n(i.value,!0):(r=n(t.text(),!0),r||i.$set("value",t.text())),function(n,t,i){var u=t.parent();(u=u.data("$selectController")||u.parent().data("$selectController"))&&u.registerOption(n,t,i,f,r)}}}}],bb=ft({restrict:"E",terminal:!1}),ac=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){r&&(i.required=!0,r.$validators.required=function(n,t){return!i.required||!r.$isEmpty(t)},i.$observe("required",function(){r.$validate()}))}}},vc=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,u){if(u){var f,e=i.ngPattern||i.pattern;i.$observe("pattern",function(n){if(h(n)&&0<n.length&&(n=new RegExp("^"+n+"$")),n&&!n.test)throw l("ngPattern")("noregexp",e,n,vt(t));f=n||void 0;u.$validate()});u.$validators.pattern=function(n,t){return u.$isEmpty(t)||r(f)||f.test(t)}}}}},yc=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){if(r){var u=-1;i.$observe("maxlength",function(n){n=tt(n);u=isNaN(n)?-1:n;r.$validate()});r.$validators.maxlength=function(n,t){return 0>u||r.$isEmpty(t)||t.length<=u}}}}},pc=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){if(r){var u=0;i.$observe("minlength",function(n){u=tt(n)||0;r.$validate()});r.$validators.minlength=function(n,t){return r.$isEmpty(t)||t.length>=u}}}}};n.angular.bootstrap?n.console&&console.log("WARNING: Tried to load angular more than once."):(ul(),el(ut),ut.module("ngLocale",[],["$provide",function(n){function t(n){n+="";var t=n.indexOf(".");return-1==t?0:n.length-t-1}n.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(n,i){var u=0|n,r=i;return void 0===r&&(r=Math.min(t(n),3)),Math.pow(10,r),1==u&&0==r?"one":"other"}})}]),e(n.document).ready(function(){tl(n.document,de)}))}(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}<\/style>');!function(n,t){"use strict";var u=["ng","oc.lazyLoad"],r={},l=[],i=[],a=[],f=[],e=n.noop,o={},h=[],y=n.module("oc.lazyLoad",["ng"]),v,c,s;y.provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(v,y,p,w,b,k){function it(t,i,r){var l,f,c,v,y,p;if(i){for(v=[],l=i.length-1;l>=0;l--)if(f=i[l],n.isString(f)||(f=ot(f)),f&&-1===h.indexOf(f)&&(!d[f]||-1!==a.indexOf(f))){if(y=-1===u.indexOf(f),c=s(f),y&&(u.push(f),it(t,c.requires,r)),c._runBlocks.length>0)for(o[f]=[];c._runBlocks.length>0;)o[f].push(c._runBlocks.shift());n.isDefined(o[f])&&(y||r.rerun)&&(v=v.concat(o[f]));g(t,c._invokeQueue,f,r.reconfig);g(t,c._configBlocks,f,r.reconfig);e(y?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",f);i.pop();h.push(f)}p=t.getInstanceInjector();n.forEach(v,function(n){p.invoke(n)})}}function et(t,i){function c(t,i){var u,r=!0;return i.length&&(u=s(t),n.forEach(i,function(n){r=r&&s(n)!==u})),r}function s(t){return n.isArray(t)?tt(t.toString()):n.isObject(t)?tt(ft(t)):n.isDefined(t)&&null!==t?tt(t.toString()):t}var f=t[2][0],u=t[1],h=!1,o;if(n.isUndefined(r[i])&&(r[i]={}),n.isUndefined(r[i][u])&&(r[i][u]={}),o=function(n,t){r[i][u].hasOwnProperty(n)||(r[i][u][n]=[]);c(t,r[i][u][n])&&(h=!0,r[i][u][n].push(t),e("ocLazyLoad.componentLoaded",[i,u,n]))},n.isString(f))o(f,t[2][1]);else{if(!n.isObject(f))return!1;n.forEach(f,function(t,i){n.isString(t)?o(t,f[1]):o(i,t)})}return h}function g(t,i,r,u){var s,c,f,e,a,h,o,v;if(i)for(s=0,c=i.length;c>s;s++)if(f=i[s],n.isArray(f)){if(null!==t){if(!t.hasOwnProperty(f[0]))throw new Error("unsupported provider "+f[0]);e=t[f[0]]}if(a=et(f,r),"invoke"!==f[1])a&&n.isDefined(e)&&e[f[1]].apply(e,f[2]);else if(h=function(t){var i=l.indexOf(r+"-"+t);(-1===i||u)&&(-1===i&&l.push(r+"-"+t),n.isDefined(e)&&e[f[1]].apply(e,f[2]))},n.isFunction(f[2][0]))h(f[2][0]);else if(n.isArray(f[2][0]))for(o=0,v=f[2][0].length;v>o;o++)n.isFunction(f[2][0][o])&&h(f[2][0][o])}}function ot(t){var i=null;return n.isString(t)?i=t:n.isObject(t)&&t.hasOwnProperty("name")&&n.isString(t.name)&&(i=t.name),i}function st(t){if(!n.isString(t))return!1;try{return s(t)}catch(i){if(/No module/.test(i)||i.message.indexOf("$injector:nomod")>-1)return!1}}var d={},ht={$controllerProvider:v,$compileProvider:p,$filterProvider:w,$provide:y,$injector:b,$animateProvider:k},rt=!1,ct=!1,nt=[],ut={},ft,tt;nt.push=function(n){-1===this.indexOf(n)&&Array.prototype.push.apply(this,arguments)};this.config=function(t){n.isDefined(t.modules)&&(n.isArray(t.modules)?n.forEach(t.modules,function(n){d[n.name]=n}):d[t.modules.name]=t.modules);n.isDefined(t.debug)&&(rt=t.debug);n.isDefined(t.events)&&(ct=t.events)};this._init=function(r){var h;if(0===i.length){var s=[r],o=["ng:app","ng-app","x-ng-app","data-ng-app"],c=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,e=function(n){return n&&s.push(n)};n.forEach(o,function(t){o[t]=!0;e(document.getElementById(t));t=t.replace(":","\\:");"undefined"!=typeof r[0]&&r[0].querySelectorAll&&(n.forEach(r[0].querySelectorAll("."+t),e),n.forEach(r[0].querySelectorAll("."+t+"\\:"),e),n.forEach(r[0].querySelectorAll("["+t+"]"),e))});n.forEach(s,function(t){if(0===i.length){var f=" "+r.className+" ",u=c.exec(f);u?i.push((u[2]||"").replace(/\s+/g,",")):n.forEach(t.attributes,function(n){0===i.length&&o[n.name]&&i.push(n.value)})}})}0!==i.length||(t.jasmine||t.mocha)&&n.isDefined(n.mock)||console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.");h=function l(t){if(-1===u.indexOf(t)){u.push(t);var i=n.module(t);g(null,i._invokeQueue,t);g(null,i._configBlocks,t);n.forEach(i.requires,l)}};n.forEach(i,function(n){h(n)});i=[];f.pop()};ft=function(t){try{return JSON.stringify(t)}catch(r){var i=[];return JSON.stringify(t,function(t,r){if(n.isObject(r)&&null!==r){if(-1!==i.indexOf(r))return;i.push(r)}return r})}};tt=function(n){var i,r,u,t=0;if(0==n.length)return t;for(i=0,u=n.length;u>i;i++)r=n.charCodeAt(i),t=(t<<5)-t+r,t|=0;return t};this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function(t,o,l,a,v){function y(n){var i=v.defer();return t.error(n.message),i.reject(n),i.promise}var p,w=a("ocLazyLoad");return rt||(t={},t.error=n.noop,t.warn=n.noop,t.info=n.noop),ht.getInstanceInjector=function(){return p?p:p=o.data("$injector")||n.injector()},e=function(n,i){ct&&l.$broadcast(n,i);rt&&t.info(n,i)},{_broadcast:e,_$log:t,_getFilesCache:function(){return w},toggleWatch:function(n){n?f.push(!0):f.pop()},getModuleConfig:function(t){if(!n.isString(t))throw new Error("You need to give the name of the module to get");return d[t]?n.copy(d[t]):null},setModuleConfig:function(t){if(!n.isObject(t))throw new Error("You need to give the module config object to set");return d[t.name]=t,t},getModules:function(){return u},isLoaded:function(t){var f=function(n){var t=u.indexOf(n)>-1;return t||(t=!!st(n)),t},i,r;if(n.isString(t)&&(t=[t]),n.isArray(t)){for(i=0,r=t.length;r>i;i++)if(!f(t[i]))return!1;return!0}throw new Error("You need to define the module(s) name(s)");},_getModuleName:ot,_getModule:function(n){try{return s(n)}catch(t){throw(/No module/.test(t)||t.message.indexOf("$injector:nomod")>-1)&&(t.message='The module "'+ft(n)+'" that you are trying to load does not exist. '+t.message),t;}},moduleExists:st,_loadDependencies:function(t,i){var e,o,u,f=[],r=this;if(t=r._getModuleName(t),null===t)return v.when();try{e=r._getModule(t)}catch(s){return y(s)}return o=r.getRequires(e),n.forEach(o,function(e){var s,o;if(n.isString(e)){if(s=r.getModuleConfig(e),null===s)return void nt.push(e);e=s;s.name=void 0}if(r.moduleExists(e.name))return u=e.files.filter(function(n){return r.getModuleConfig(e.name).files.indexOf(n)<0}),0!==u.length&&r._$log.warn('Module "',t,'" attempted to redefine configuration for dependency. "',e.name,'"\n Additional Files Loaded:',u),n.isDefined(r.filesLoader)?void f.push(r.filesLoader(e,i).then(function(){return r._loadDependencies(e)})):y(new Error("Error: New dependencies need to be loaded from external files ("+e.files+"), but no loader has been defined."));if(n.isArray(e)?(o=[],n.forEach(e,function(n){var t=r.getModuleConfig(n);null===t?o.push(n):t.files&&(o=o.concat(t.files))}),o.length>0&&(e={files:o})):n.isObject(e)&&e.hasOwnProperty("name")&&e.name&&(r.setModuleConfig(e),nt.push(e.name)),n.isDefined(e.files)&&0!==e.files.length){if(!n.isDefined(r.filesLoader))return y(new Error('Error: the module "'+e.name+'" is defined in external files ('+e.files+"), but no loader has been defined."));f.push(r.filesLoader(e,i).then(function(){return r._loadDependencies(e)}))}}),v.all(f)},inject:function(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],f=this,u=v.defer(),e,s,c;if(n.isDefined(t)&&null!==t){if(n.isArray(t))return e=[],n.forEach(t,function(n){e.push(f.inject(n,r,o))}),v.all(e);f._addToLoadList(f._getModuleName(t),!0,o)}if(i.length>0)s=i.slice(),c=function l(n){nt.push(n);ut[n]=u.promise;f._loadDependencies(n,r).then(function(){try{h=[];it(ht,nt,r)}catch(n){return f._$log.error(n.message),void u.reject(n)}i.length>0?l(i.shift()):u.resolve(s)},function(n){u.reject(n)})},c(i.shift());else{if(r&&r.name&&ut[r.name])return ut[r.name];u.resolve()}return u.promise},getRequires:function(t){var i=[];return n.forEach(t.requires,function(n){-1===u.indexOf(n)&&i.push(n)}),i},_invokeQueue:g,_registerInvokeList:et,_register:it,_addToLoadList:c,_unregister:function(t){n.isDefined(t)&&n.isArray(t)&&n.forEach(t,function(n){r[n]=void 0})}}}];this._init(n.element(t.document))}]);v=n.bootstrap;n.bootstrap=function(t,s,y){return u=["ng","oc.lazyLoad"],r={},l=[],i=[],a=[],f=[],e=n.noop,o={},h=[],n.forEach(s.slice(),function(n){c(n,!0,!0)}),v(t,s,y)};c=function(t,r,u){(f.length>0||r)&&n.isString(t)&&-1===i.indexOf(t)&&(i.push(t),u&&a.push(t))};s=n.module;n.module=function(n,t,i){return c(n,!1,!0),s(n,t,i)};"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="oc.lazyLoad")}(angular,window),function(n){"use strict";n.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse","$timeout",function(t,i,r,u){return{restrict:"A",terminal:!0,priority:1e3,compile:function(f){var e=f[0].innerHTML;return f.html(""),function(f,o,s){var h=u(s.ocLazyLoad);f.$watch(function(){return h(f)||s.ocLazyLoad},function(u){n.isDefined(u)&&t.load(u).then(function(){r.enter(e,o);i(o.contents())(f)})},!0)}}}}])}(angular),function(n){"use strict";n.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval",function(t,i,r,u){var e=!1,f=!1,o=r.document.getElementsByTagName("head")[0]||r.document.getElementsByTagName("body")[0];return t.buildElement=function(s,h,c){var l,d,v=i.defer(),y=t._getFilesCache(),g=function(n){var t=(new Date).getTime();return n.indexOf("?")>=0?"&"===n.substring(0,n.length-1)?n+"_dc="+t:n+"&_dc="+t:n+"?_dc="+t},p,w,a,b,nt,tt,k,it,rt;switch(n.isUndefined(y.get(h))&&y.put(h,v.promise),s){case"css":l=r.document.createElement("link");l.type="text/css";l.rel="stylesheet";l.href=c.cache===!1?g(h):h;break;case"js":l=r.document.createElement("script");l.src=c.cache===!1?g(h):h;break;default:y.remove(h);v.reject(new Error('Requested type "'+s+'" is not known. Could not inject "'+h+'"'))}return l.onload=l.onreadystatechange=function(){l.readyState&&!/^c|loade/.test(l.readyState)||d||(l.onload=l.onreadystatechange=null,d=1,t._broadcast("ocLazyLoad.fileLoaded",h),v.resolve(l))},l.onerror=function(){y.remove(h);v.reject(new Error("Unable to load "+h))},l.async=c.serie?0:1,p=o.lastChild,c.insertBefore&&(w=n.element(n.isDefined(window.jQuery)?c.insertBefore:document.querySelector(c.insertBefore)),w&&w.length>0&&(p=w[0])),(p.parentNode.insertBefore(l,p),"css"==s)&&(e||(a=r.navigator.userAgent.toLowerCase(),a.indexOf("phantomjs/1.9")>-1?f=!0:/iP(hone|od|ad)/.test(r.navigator.platform)?(b=r.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),nt=parseFloat([parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3]||0,10)].join(".")),f=6>nt):a.indexOf("android")>-1?(tt=parseFloat(a.slice(a.indexOf("android")+8)),f=4.4>tt):a.indexOf("safari")>-1&&(k=a.match(/version\/([\.\d]+)/i),f=k&&k[1]&&parseFloat(k[1])<6)),f&&(it=1e3,rt=u(function(){try{l.sheet.cssRules;u.cancel(rt);l.onload()}catch(n){--it<=0&&l.onerror()}},20))),v.promise},t}])}])}(angular),function(n){"use strict";n.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,i){return t.filesLoader=function(r){var u=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],e=[],o=[],s=[],f=[],h=null,w=t._getFilesCache(),v,c,l,a,y,p;return(t.toggleWatch(!0),n.extend(u,r),v=function(i){var c,r=null;if(n.isObject(i)&&(r=i.type,i=i.path),h=w.get(i),n.isUndefined(h)||u.cache===!1){if(null!==(c=/^(css|less|html|htm|js)?(?=!)/.exec(i))&&(r=c[1],i=i.substr(c[1].length+1,i.length)),!r)if(null!==(c=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(i)))r=c[1];else{if(t.jsLoader.hasOwnProperty("ocLazyLoadLoader")||!t.jsLoader.hasOwnProperty("requirejs"))return void t._$log.error("File type could not be determined. "+i);r="js"}"css"!==r&&"less"!==r||-1!==e.indexOf(i)?"html"!==r&&"htm"!==r||-1!==o.indexOf(i)?"js"===r||-1===s.indexOf(i)?s.push(i):t._$log.error("File type is not valid. "+i):o.push(i):e.push(i)}else h&&f.push(h)},(u.serie?v(u.files.shift()):n.forEach(u.files,function(n){v(n)}),e.length>0)&&(c=i.defer(),t.cssLoader(e,function(i){n.isDefined(i)&&t.cssLoader.hasOwnProperty("ocLazyLoadLoader")?(t._$log.error(i),c.reject(i)):c.resolve()},u),f.push(c.promise)),o.length>0&&(l=i.defer(),t.templatesLoader(o,function(i){n.isDefined(i)&&t.templatesLoader.hasOwnProperty("ocLazyLoadLoader")?(t._$log.error(i),l.reject(i)):l.resolve()},u),f.push(l.promise)),s.length>0&&(a=i.defer(),t.jsLoader(s,function(i){n.isDefined(i)&&(t.jsLoader.hasOwnProperty("ocLazyLoadLoader")||t.jsLoader.hasOwnProperty("requirejs"))?(t._$log.error(i),a.reject(i)):a.resolve()},u),f.push(a.promise)),0===f.length)?(y=i.defer(),p="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.",t._$log.error(p),y.reject(p),y.promise):u.serie&&u.files.length>0?i.all(f).then(function(){return t.filesLoader(r,u)}):i.all(f)["finally"](function(n){return t.toggleWatch(!1),n})},t.load=function(r){var h,v=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=this,u=null,c=[],e=i.defer(),f=n.copy(r),l=n.copy(v),a,s;return n.isArray(f)?(n.forEach(f,function(n){c.push(o.load(n,l))}),i.all(c).then(function(n){e.resolve(n)},function(n){e.reject(n)}),e.promise):(n.isString(f)?(u=o.getModuleConfig(f),u||(u={files:[f]})):n.isObject(f)&&(u=n.isDefined(f.path)&&n.isDefined(f.type)?{files:[f]}:o.setModuleConfig(f)),null===u)?(a=o._getModuleName(f),h='Module "'+(a||"unknown")+'" is not configured, cannot load.',t._$log.error(h),e.reject(new Error(h)),e.promise):(n.isDefined(u.template)&&(n.isUndefined(u.files)&&(u.files=[]),n.isString(u.template)?u.files.push(u.template):n.isArray(u.template)&&u.files.concat(u.template)),s=n.extend({},l,u),n.isUndefined(u.files)&&n.isDefined(u.name)&&t.moduleExists(u.name)?t.inject(u.name,s,!0):(t.filesLoader(u,s).then(function(){t.inject(null,s).then(function(n){e.resolve(n)},function(n){e.reject(n)})},function(n){e.reject(n)}),e.promise))},t}])}])}(angular),function(n){"use strict";n.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,i){return t.cssLoader=function(r,u,f){var e=[];n.forEach(r,function(n){e.push(t.buildElement("css",n,f))});i.all(e).then(function(){u()},function(n){u(n)})},t.cssLoader.ocLazyLoadLoader=!0,t}])}])}(angular),function(n){"use strict";n.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,i){return t.jsLoader=function(r,u,f){var e=[];n.forEach(r,function(n){e.push(t.buildElement("js",n,f))});i.all(e).then(function(){u()},function(n){u(n)})},t.jsLoader.ocLazyLoadLoader=!0,t}])}])}(angular),function(n){"use strict";n.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$templateCache","$q","$http",function(t,i,r,u){return t.templatesLoader=function(f,e,o){var s=[],h=t._getFilesCache();return n.forEach(f,function(t){var f=r.defer();s.push(f.promise);u.get(t,o).then(function(r){var u=r.data;n.isString(u)&&u.length>0&&n.forEach(n.element(u),function(n){"SCRIPT"===n.nodeName&&"text/ng-template"===n.type&&i.put(n.id,n.innerHTML)});n.isUndefined(h.get(t))&&h.put(t,!0);f.resolve()})["catch"](function(n){f.reject(new Error('Unable to load template file "'+t+'": '+n.data))})}),r.all(s).then(function(){e()},function(n){e(n)})},t.templatesLoader.ocLazyLoadLoader=!0,t}])}])}(angular);Array.prototype.indexOf||(Array.prototype.indexOf=function(n,t){var r,f,u,i;if(null==this)throw new TypeError('"this" is null or not defined');if((f=Object(this),u=f.length>>>0,0===u)||(i=+t||0,Math.abs(i)===1/0&&(i=0),i>=u))return-1;for(r=Math.max(i>=0?i:u-Math.abs(i),0);u>r;){if(r in f&&f[r]===n)return r;r++}return-1}),function(n,t){"use strict";function at(n,t,i){if(!n)throw oi("areq",t||"?",i||"required");return n}function vt(n,t){return n||t?n?t?(c(n)&&(n=n.join(" ")),c(t)&&(t=t.join(" ")),n+" "+t):n:t:""}function ni(n){var t={};return n&&(n.to||n.from)&&(t.to=n.to,t.from=n.from),t}function s(n,t,r){var u="";return n=c(n)?n:n&&o(n)&&n.length?n.split(/\s+/):[],i(n,function(n,i){n&&0<n.length&&(u+=i>0?" ":"",u+=r?t+n:n+t)}),u}function ti(n){if(n instanceof u)switch(n.length){case 0:return n;case 1:if(1===n[0].nodeType)return n;break;default:return u(it(n))}if(1===n.nodeType)return u(n)}function it(n){var t,i;if(!n[0])return n;for(t=0;t<n.length;t++)if(i=n[t],1==i.nodeType)return i}function ii(n,t,r){i(t,function(t){n.addClass(t,r)})}function ri(n,t,r){i(t,function(t){n.removeClass(t,r)})}function v(n){return function(t,i){i.addClass&&(ii(n,t,i.addClass),i.addClass=null);i.removeClass&&(ri(n,t,i.removeClass),i.removeClass=null)}}function b(n){if(n=n||{},!n.$$prepared){var t=n.domOperation||f;n.domOperation=function(){n.$$domOperationFired=!0;t();t=f};n.$$prepared=!0}return n}function l(n,t){yt(n,t);pt(n,t)}function yt(n,t){t.from&&(n.css(t.from),t.from=null)}function pt(n,t){t.to&&(n.css(t.to),t.to=null)}function y(n,t,i){var r=t.options||{},u,e;return i=i.options||{},u=(r.addClass||"")+" "+(i.addClass||""),e=(r.removeClass||"")+" "+(i.removeClass||""),n=ui(n.attr("class"),u,e),i.preparationClasses&&(r.preparationClasses=d(i.preparationClasses,r.preparationClasses),delete i.preparationClasses),u=r.domOperation!==f?r.domOperation:null,st(r,i),u&&(r.domOperation=u),r.addClass=n.addClass?n.addClass:null,r.removeClass=n.removeClass?n.removeClass:null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function ui(n,t,r){function e(n){o(n)&&(n=n.split(" "));var t={};return i(n,function(n){n.length&&(t[n]=!0)}),t}var f={},u;return n=e(n),t=e(t),i(t,function(n,t){f[t]=1}),r=e(r),i(r,function(n,t){f[t]=1===f[t]?null:-1}),u={addClass:"",removeClass:""},i(f,function(t,i){var r,f;1===t?(r="addClass",f=!n[i]||n[i+"-remove"]):-1===t&&(r="removeClass",f=n[i]||n[i+"-add"]);f&&(u[r].length&&(u[r]+=" "),u[r]+=i)}),u}function r(n){return n instanceof u?n[0]:n}function fi(n,t,i){var r="";t&&(r=s(t,"ng-",!0));i.addClass&&(r=d(r,s(i.addClass,"-add")));i.removeClass&&(r=d(r,s(i.removeClass,"-remove")));r.length&&(i.preparationClasses=r,n.addClass(r))}function k(n,t){var i=t?"-"+t+"s":"";return p(n,[w,i]),[w,i]}function rt(n,t){var i=t?"paused":"",r=h+"PlayState";return p(n,[r,i]),[r,i]}function p(n,t){n.style[t[0]]=t[1]}function d(n,t){return n?t?n+" "+t:n:t}function wt(n,t,r){var u=Object.create(null),f=n.getComputedStyle(t)||{};return i(r,function(n,t){var i=f[n],r;i&&(r=i.charAt(0),("-"===r||"+"===r||r>=0)&&(i=ei(i)),0===i&&(i=null),u[t]=i)}),u}function ei(n){var t=0;return n=n.split(/\s*,\s*/),i(n,function(n){"s"==n.charAt(n.length-1)&&(n=n.substring(0,n.length-1));n=parseFloat(n)||0;t=t?Math.max(n,t):n}),t}function ut(n){return 0===n||null!=n}function bt(n,t){var i=e,r=n+"s";return t?i+="Duration":r+=" linear all",[i,r]}function kt(){var n=Object.create(null);return{flush:function(){n=Object.create(null)},count:function(t){return(t=n[t])?t.total:0},get:function(t){return(t=n[t])&&t.value},put:function(t,i){n[t]?n[t].total++:n[t]={total:1,value:i}}}}function dt(n,t,r){i(r,function(i){n[i]=ht(n[i])?n[i]:t.style.getPropertyValue(i)})}var e,ft,h,et;void 0===n.ontransitionend&&void 0!==n.onwebkittransitionend?(e="WebkitTransition",ft="webkitTransitionEnd transitionend"):(e="transition",ft="transitionend");void 0===n.onanimationend&&void 0!==n.onwebkitanimationend?(h="WebkitAnimation",et="webkitAnimationEnd animationend"):(h="animation",et="animationend");var ot,st,i,c,ht,g,ct,nt,o,a,u,f,tt=h+"Delay",lt=h+"Duration",w=e+"Delay",gt=e+"Duration",oi=t.$$minErr("ng"),si={transitionDuration:gt,transitionDelay:w,transitionProperty:e+"Property",animationDuration:lt,animationDelay:tt,animationIterationCount:h+"IterationCount"},hi={transitionDuration:gt,transitionDelay:w,animationDuration:lt,animationDelay:tt};t.module("ngAnimate",[],function(){f=t.noop;ot=t.copy;st=t.extend;u=t.element;i=t.forEach;c=t.isArray;o=t.isString;nt=t.isObject;a=t.isUndefined;ht=t.isDefined;ct=t.isFunction;g=t.isElement}).directive("ngAnimateSwap",["$animate","$rootScope",function(n){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,i,r,u,f){var o,e;t.$watchCollection(r.ngAnimateSwap||r["for"],function(r){o&&n.leave(o);e&&(e.$destroy(),e=null);(r||0===r)&&(e=t.$new(),f(e,function(t){o=t;n.enter(t,null,i)}))})}}}]).directive("ngAnimateChildren",["$interpolate",function(n){return{link:function(t,i,r){function f(n){i.data("$$ngAnimateChildren","on"===n||"true"===n)}var u=r.ngAnimateChildren;o(u)&&0===u.length?i.data("$$ngAnimateChildren",!0):(f(n(u)(t)),r.$observe("ngAnimateChildren",f))}}}]).factory("$$rAFScheduler",["$$rAF",function(n){function r(n){i=i.concat(n);u()}function u(){if(i.length){for(var f=i.shift(),r=0;r<f.length;r++)f[r]();t||n(function(){t||u()})}}var i,t;return i=r.queue=[],r.waitUntilQuiet=function(i){t&&t();t=n(function(){t=null;i();u()})},r}]).provider("$$animateQueue",["$animateProvider",function(t){function p(n){if(!n)return null;n=n.split(" ");var t=Object.create(null);return i(n,function(n){t[n]=!0}),t}function h(n,t){if(n&&t){var i=p(t);return n.split(" ").some(function(n){return i[n]})}}function s(n,t,i,r){return f[n].some(function(n){return n(t,i,r)})}function e(n,t){var i=0<(n.addClass||"").length,r=0<(n.removeClass||"").length;return t?i&&r:i||r}var f=this.rules={skip:[],cancel:[],join:[]};f.join.push(function(n,t){return!t.structural&&e(t)});f.skip.push(function(n,t){return!t.structural&&!e(t)});f.skip.push(function(n,t,i){return"leave"==i.event&&t.structural});f.skip.push(function(n,t,i){return i.structural&&2===i.state&&!t.structural});f.cancel.push(function(n,t,i){return i.structural&&t.structural});f.cancel.push(function(n,t,i){return 2===i.state&&t.structural});f.cancel.push(function(n,t,i){if(i.structural)return!1;n=t.addClass;t=t.removeClass;var r=i.addClass;return i=i.removeClass,a(n)&&a(t)||a(r)&&a(i)?!1:h(n,i)||h(t,r)});this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(f,h,p,w,k,d,tt,rt,ut){function ni(){var n=!1;return function(t){n?t():h.$$postDigest(function(){n=!0;t()})}}function ii(n,t,u){var e=r(t),o=r(n),f=[];return(n=et[u])&&i(n,function(n){gt.call(n.node,e)?f.push(n.callback):"leave"===u&&gt.call(n.node,o)&&f.push(n.callback)}),f}function wt(n,t,i){var r=it(t);return n.filter(function(n){return!(n.node===r&&(!i||n.callback===i))})}function ri(n,t,u){function rt(t,r,u,e){at(function(){var t=ii(ht,n,r);t.length?f(function(){i(t,function(t){t(n,u,e)});"close"!==u||n[0].parentNode||yt.off(n)}):"close"!==u||n[0].parentNode||yt.off(n)});t.progress(r,u,e)}function g(t){var r=n,i=a;i.preparationClasses&&(r.removeClass(i.preparationClasses),i.preparationClasses=null);i.activeClasses&&(r.removeClass(i.activeClasses),i.activeClasses=null);dt(n,a);l(n,a);a.domOperation();p.complete(!t)}var k,ht,a=ot(u),it,st;(n=ti(n))&&(k=r(n),ht=n.parent());var a=b(a),p=new tt,at=ni();if((c(a.addClass)&&(a.addClass=a.addClass.join(" ")),a.addClass&&!o(a.addClass)&&(a.addClass=null),c(a.removeClass)&&(a.removeClass=a.removeClass.join(" ")),a.removeClass&&!o(a.removeClass)&&(a.removeClass=null),a.from&&!nt(a.from)&&(a.from=null),a.to&&!nt(a.to)&&(a.to=null),!k)||(u=[k.className,a.addClass,a.removeClass].join(" "),!si(u)))return g(),p;var ut=0<=["enter","move","leave"].indexOf(t),v=w[0].hidden,et=!lt||v||ct.get(k);if(u=!et&&ft.get(k)||{},it=!!u.state,et||it&&1==u.state||(et=!ei(n,ht,t)),et)return v&&rt(p,t,"start"),g(),v&&rt(p,t,"close"),p;if(ut&&ui(n),v={structural:ut,element:n,event:t,addClass:a.addClass,removeClass:a.removeClass,close:g,options:a,runner:p},it){if(s("skip",n,v,u))return 2===u.state?(g(),p):(y(n,u,v),u.runner);if(s("cancel",n,v,u))if(2===u.state)u.runner.end();else{if(!u.structural)return y(n,u,v),u.runner;u.close()}else if(s("join",n,v,u)){if(2!==u.state)return fi(n,ut?t:null,a),t=v.event=u.event,a=y(n,u,v),u.runner;y(n,v,{})}}else y(n,v,{});return((it=v.structural)||(it="animate"===v.event&&0<Object.keys(v.options.to||{}).length||e(v)),!it)?(g(),pt(n),p):(st=(u.counter||0)+1,v.counter=st,bt(n,1,v),h.$$postDigest(function(){var i=ft.get(k),u=!i,i=i||{},f=0<(n.parent()||[]).length&&("animate"===i.event||i.structural||e(i));u||i.counter!==st||!f?(u&&(dt(n,a),l(n,a)),(u||ut&&i.event!==t)&&(a.domOperation(),p.end()),f||pt(n)):(t=!i.structural&&e(i,!0)?"setClass":i.event,bt(n,2),i=d(n,t,i.options),p.setHost(i),rt(p,t,"start",{}),i.done(function(i){g(!i);(i=ft.get(k))&&i.counter===st&&pt(r(n));rt(p,t,"close",{})}))}),p)}function ui(n){n=r(n).querySelectorAll("[data-ng-animate]");i(n,function(n){var i=parseInt(n.getAttribute("data-ng-animate")),t=ft.get(n);if(t)switch(i){case 2:t.runner.end();case 1:ft.remove(n)}})}function pt(n){n=r(n);n.removeAttribute("data-ng-animate");ft.remove(n)}function vt(n,t){return r(n)===r(t)}function ei(n,t,i){var c;i=u(w[0].body);var f,o=vt(n,i)||"HTML"===n[0].nodeName,e=vt(n,p),s=!1,h=ct.get(r(n));for((n=u.data(n[0],"$ngAnimatePin"))&&(t=n),t=r(t);t&&(e||(e=vt(t,p)),1===t.nodeType);){if(n=ft.get(t)||{},!s){if(c=ct.get(t),!0===c&&!1!==h){h=!0;break}!1===c&&(h=!1);s=n.structural}if((a(f)||!0===f)&&(n=u.data(t,"$$ngAnimateChildren"),ht(n)&&(f=n)),s&&!1===f)break;if(o||(o=vt(t,i)),o&&e)break;t=e||!(n=u.data(t,"$ngAnimatePin"))?t.parentNode:r(n)}return(!s||f)&&!0!==h&&e&&o}function bt(n,t,i){i=i||{};i.state=t;n=r(n);n.setAttribute("data-ng-animate",t);i=(t=ft.get(n))?st(t,i):i;ft.put(n,i)}var ft=new k,ct=new k,lt=null,oi=h.$watch(function(){return 0===rt.totalPendingRequests},function(n){n&&(oi(),h.$$postDigest(function(){h.$$postDigest(function(){null===lt&&(lt=!0)})}))}),et=Object.create(null),kt=t.classNameFilter(),si=kt?function(n){return kt.test(n)}:function(){return!0},dt=v(ut),gt=n.Node.prototype.contains||function(n){return this===n||!!(16&this.compareDocumentPosition(n))},yt={on:function(n,t,i){var r=it(t);et[n]=et[n]||[];et[n].push({node:r,callback:i});u(t).on("$destroy",function(){ft.get(r)||yt.off(n,t,i)})},off:function(n,t,i){if(1!==arguments.length||o(arguments[0])){var r=et[n];r&&(et[n]=1===arguments.length?null:wt(r,t,i))}else for(r in t=arguments[0],et)et[r]=wt(et[r],t)},pin:function(n,t){at(g(n),"element","not an element");at(g(t),"parentElement","not an element");n.data("$ngAnimatePin",t)},push:function(n,t,i,r){return i=i||{},i.domOperation=r,ri(n,t,i)},enabled:function(n,t){var u=arguments.length,i;return 0===u?t=!!lt:g(n)?(i=r(n),1===u?t=!ct.get(i):ct.put(i,!t)):t=lt=!!n,t}};return yt}]}]).provider("$$animation",["$animateProvider",function(){var n=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(t,f,e,o,s,h){function a(n){function u(n){var e,t,i;if(n.processed)return n;for(n.processed=!0,e=n.domNode,t=e.parentNode,r.put(e,n);t;){if(i=r.get(t)){i.processed||(i=u(i));break}t=t.parentNode}return(i||f).children.push(n),n}for(var f={children:[]},r=new s,i,t=0;t<n.length;t++)i=n[t],r.put(i.domNode,n[t]={domNode:i.domNode,fn:i.fn,children:[]});for(t=0;t<n.length;t++)u(n[t]);return function(n){for(var f=[],r=[],u,i,e,t=0;t<n.children.length;t++)r.push(n.children[t]);for(n=r.length,u=0,i=[],t=0;t<r.length;t++)e=r[t],0>=n&&(n=u,u=0,f.push(i),i=[]),i.push(e.fn),e.children.forEach(function(n){u++;r.push(n)}),n--;return i.length&&f.push(i),f}(f)}var c=[],y=v(t);return function(s,v,p){function rt(n){n=n.hasAttribute("ng-animate-ref")?[n]:n.querySelectorAll("[ng-animate-ref]");var t=[];return i(n,function(n){var i=n.getAttribute("ng-animate-ref");i&&i.length&&t.push(n)}),t}function ut(n){var t=[],f={},o,e;return i(n,function(n,e){var o=r(n.element),h=0<=["enter","move"].indexOf(n.event),o=n.structural?rt(o):[],s;o.length?(s=h?"to":"from",i(o,function(n){var t=n.getAttribute("ng-animate-ref");f[t]=f[t]||{};f[t][s]={animationID:e,element:u(n)}})):t.push(n)}),o={},e={},i(f,function(i){var r=i.from,u=i.to,c;if(r&&u){var f=n[r.animationID],s=n[u.animationID],h=r.animationID.toString();e[h]||(c=e[h]={structural:!0,beforeStart:function(){f.beforeStart();s.beforeStart()},close:function(){f.close();s.close()},classes:ft(f.classes,s.classes),from:f,to:s,anchors:[]},c.classes.length?t.push(c):(t.push(f),t.push(s)));e[h].anchors.push({out:r.element,"in":u.element})}else r=r?r.animationID:u.animationID,u=r.toString(),o[u]||(o[u]=!0,t.push(n[r]))}),t}function ft(n,t){var f,i,r,u;for(n=n.split(" "),t=t.split(" "),f=[],i=0;i<n.length;i++)if(r=n[i],"ng-"!==r.substring(0,3))for(u=0;u<t.length;u++)if(r===t[u]){f.push(r);break}return f.join(" ")}function et(t){for(var r,i=n.length-1;i>=0;i--)if(r=e.get(n[i])(t),r)return r}function ot(n,t){function i(n){(n=n.data("$$animationRunner"))&&n.setHost(t)}n.from&&n.to?(i(n.from.element),i(n.to.element)):i(n.element)}function it(){var n=s.data("$$animationRunner");!n||"leave"===v&&p.$$domOperationFired||n.end()}function g(n){s.off("$destroy",it);s.removeData("$$animationRunner");y(s,p);l(s,p);p.domOperation();w&&t.removeClass(s,w);s.removeClass("ng-animate");k.complete(!n)}var nt,k,tt,w,d;return(p=b(p),nt=0<=["enter","move","leave"].indexOf(v),k=new o({end:function(){g()},cancel:function(){g(!0)}}),!n.length)?(g(),k):(s.data("$$animationRunner",k),tt=vt(s.attr("class"),vt(p.addClass,p.removeClass)),w=p.tempClasses,w&&(tt+=" "+w,p.tempClasses=null),nt&&(d="ng-"+v+"-prepare",t.addClass(s,d)),c.push({element:s,classes:tt,event:v,structural:nt,options:p,beforeStart:function(){s.addClass("ng-animate");w&&t.addClass(s,w);d&&(t.removeClass(s,d),d=null)},close:g}),s.on("$destroy",it),1<c.length?k:(f.$$postDigest(function(){var t=[],u,n;i(c,function(n){n.element.data("$$animationRunner")?t.push(n):n.close()});c.length=0;u=ut(t);n=[];i(u,function(t){n.push({domNode:r(t.from?t.from.element:t.element),fn:function(){var n,i,r;t.beforeStart();i=t.close;(t.anchors?t.from.element||t.to.element:t.element).data("$$animationRunner")&&(r=et(t),r&&(n=r.start));n?(n=n(),n.done(function(n){i(!n)}),ot(t,n)):i()}})});h(a(n))}),k))}}]}]).provider("$animateCss",["$animateProvider",function(){var n=kt(),t=kt();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(u,o,a,y,d,g,nt,it){function ct(n,t){var i=n.parentNode;return(i.$$ngAnimateParentKey||(i.$$ngAnimateParentKey=++gt))+"-"+n.getAttribute("class")+"-"+t}function kt(i,r,f,e){var h;return 0<n.count(f)&&(h=t.get(f),h||(r=s(r,"-stagger"),o.addClass(i,r),h=wt(u,i,e),h.animationDuration=Math.max(h.animationDuration,0),h.transitionDuration=Math.max(h.transitionDuration,0),o.removeClass(i,r),t.put(f,h))),h||{}}function at(i){st.push(i);nt.waitUntilQuiet(function(){n.flush();t.flush();for(var r=d(),i=0;i<st.length;i++)st[i](r);st.length=0})}function vt(t,i,r){return i=n.get(r),i||(i=wt(u,t,si),"infinite"===i.animationIterationCount&&(i.animationIterationCount=1)),n.put(r,i),t=i,r=t.animationDelay,i=t.transitionDelay,t.maxDelay=r&&i?Math.max(r,i):r||i,t.maxDuration=Math.max(t.animationDuration*t.animationIterationCount,t.transitionDuration),t}var ht=v(o),gt=0,st=[];return function(t,u){function ki(){ii()}function or(){ii(!0)}function ii(n){if(!(wi||ir&&ei)){wi=!0;ei=!1;v.$$skipPreparationClasses||o.removeClass(t,ci);o.removeClass(t,cr);rt(nt,!1);k(nt,!1);i(ti,function(n){nt.style[n[0]]=""});ht(t,v);l(t,v);Object.keys(pi).length&&i(pi,function(n,t){n?nt.style.setProperty(t,n):nt.style.removeProperty(t)});v.onDone&&v.onDone();oi&&oi.length&&t.off(oi.join(" "),hr);var r=t.data("$$animateCss");r&&(y.cancel(r[0].timer),t.removeData("$$animateCss"));li&&li.complete(!n)}}function sr(n){d.blockTransition&&k(nt,n);d.blockKeyframeAnimation&&rt(nt,!!n)}function di(){return li=new a({end:ki,cancel:or}),at(f),ii(),{$$willAnimate:!1,start:function(){return li},end:ki}}function hr(n){n.stopPropagation();var t=n.originalEvent||n;n=t.$manualTimeStamp||Date.now();t=parseFloat(t.elapsedTime.toFixed(3));Math.max(n-ur,0)>=nr&&t>=gt&&(ir=!0,ii())}function lr(){function n(){var r,u,n,s,c;if(!wi){if(sr(!1),i(ti,function(n){nt.style[n[0]]=n[1]}),ht(t,v),o.addClass(t,cr),d.recalculateTimingStyles){if(bi=nt.className+" "+ci,yi=ct(nt,bi),st=vt(nt,bi,yi),ui=st.maxDelay,ai=Math.max(ui,0),gt=st.maxDuration,0===gt)return void ii();d.hasTransitions=0<st.transitionDuration;d.hasAnimations=0<st.animationDuration}(d.applyAnimationDelay&&(ui="boolean"!=typeof v.delay&&ut(v.delay)?parseFloat(v.delay):ui,ai=Math.max(ui,0),st.animationDelay=ui,fi=[tt,ui+"s"],ti.push(fi),nt.style[fi[0]]=fi[1]),nr=1e3*ai,rr=1e3*gt,v.easing)&&(n=v.easing,d.hasTransitions&&(r=e+"TimingFunction",ti.push([r,n]),nt.style[r]=n),d.hasAnimations&&(r=h+"TimingFunction",ti.push([r,n]),nt.style[r]=n));st.transitionDuration&&oi.push(ft);st.animationDuration&&oi.push(et);ur=Date.now();u=nr+1.5*rr;r=ur+u;n=t.data("$$animateCss")||[];s=!0;n.length&&(c=n[0],(s=r>c.expectedEndTime)?y.cancel(c.timer):n.push(ii));s&&(u=y(f,u,!1),n[0]={timer:u,expectedEndTime:r},n.push(ii),t.data("$$animateCss",n));oi.length&&t.on(oi.join(" "),hr);v.to&&(v.cleanupStyles&&dt(pi,nt,Object.keys(v.to)),pt(t,v))}}function f(){var i=t.data("$$animateCss"),n;if(i){for(n=1;n<i.length;n++)i[n]();t.removeData("$$animateCss")}}if(!wi)if(nt.parentNode){var r=function(n){if(ir)ei&&n&&(ei=!1,ii());else if(ei=!n,st.animationDuration)if(n=rt(nt,ei),ei)ti.push(n);else{var t=ti,i=t.indexOf(n);n>=0&&t.splice(i,1)}},u=tr>0&&(st.transitionDuration&&0===ri.transitionDuration||st.animationDuration&&0===ri.animationDuration)&&Math.max(ri.animationDelay,ri.transitionDelay);u?y(n,Math.floor(u*tr*1e3),!1):n();gi.resume=function(){r(!0)};gi.pause=function(){r(!1)}}else ii()}var v=u||{},pi,nt,yi,ri,tr,st,ui,d,fi;if(v.$$prepared||(v=b(ot(v))),pi={},nt=r(t),!nt||!nt.parentNode||!it.enabled())return di();var wi,ei,ir,li,gi,ai,nr,gt,rr,ur,ti=[],fr=t.attr("class"),wt=ni(v),oi=[];if(0===v.duration||!g.animations&&!g.transitions)return di();var vi=v.event&&c(v.event)?v.event.join(" "):v.event,er="",si="";vi&&v.structural?er=s(vi,"ng-",!0):vi&&(er=vi);v.addClass&&(si+=s(v.addClass,"-add"));v.removeClass&&(si.length&&(si+=" "),si+=s(v.removeClass,"-remove"));v.applyClassesEarly&&si.length&&ht(t,v);var ci=[er,si].join(" ").trim(),bi=fr+" "+ci,cr=s(ci,"-active"),fr=wt.to&&0<Object.keys(wt.to).length;return(0<(v.keyframeStyle||"").length||fr||ci)?(0<v.stagger?(wt=parseFloat(v.stagger),ri={transitionDelay:wt,animationDelay:wt,transitionDuration:0,animationDuration:0}):(yi=ct(nt,bi),ri=kt(nt,ci,yi,hi)),v.$$skipPreparationClasses||o.addClass(t,ci),v.transitionStyle&&(wt=[e,v.transitionStyle],p(nt,wt),ti.push(wt)),0<=v.duration&&(wt=0<nt.style[e].length,wt=bt(v.duration,wt),p(nt,wt),ti.push(wt)),v.keyframeStyle&&(wt=[h,v.keyframeStyle],p(nt,wt),ti.push(wt)),tr=ri?0<=v.staggerIndex?v.staggerIndex:n.count(yi):0,(vi=0===tr)&&!v.skipBlocking&&k(nt,9999),st=vt(nt,bi,yi),ui=st.maxDelay,ai=Math.max(ui,0),gt=st.maxDuration,d={},d.hasTransitions=0<st.transitionDuration,d.hasAnimations=0<st.animationDuration,d.hasTransitionAll=d.hasTransitions&&"all"==st.transitionProperty,d.applyTransitionDuration=fr&&(d.hasTransitions&&!d.hasTransitionAll||d.hasAnimations&&!d.hasTransitions),d.applyAnimationDuration=v.duration&&d.hasAnimations,d.applyTransitionDelay=ut(v.delay)&&(d.applyTransitionDuration||d.hasTransitions),d.applyAnimationDelay=ut(v.delay)&&d.hasAnimations,d.recalculateTimingStyles=0<si.length,(d.applyTransitionDuration||d.applyAnimationDuration)&&(gt=v.duration?parseFloat(v.duration):gt,d.applyTransitionDuration&&(d.hasTransitions=!0,st.transitionDuration=gt,wt=0<nt.style[e+"Property"].length,ti.push(bt(gt,wt))),d.applyAnimationDuration&&(d.hasAnimations=!0,st.animationDuration=gt,ti.push([lt,gt+"s"]))),0===gt&&!d.recalculateTimingStyles)?di():(null!=v.delay&&("boolean"!=typeof v.delay&&(fi=parseFloat(v.delay),ai=Math.max(fi,0)),d.applyTransitionDelay&&ti.push([w,fi+"s"]),d.applyAnimationDelay&&ti.push([tt,fi+"s"])),null==v.duration&&0<st.transitionDuration&&(d.recalculateTimingStyles=d.recalculateTimingStyles||vi),nr=1e3*ai,rr=1e3*gt,v.skipBlocking||(d.blockTransition=0<st.transitionDuration,d.blockKeyframeAnimation=0<st.animationDuration&&0<ri.animationDelay&&0===ri.animationDuration),v.from&&(v.cleanupStyles&&dt(pi,nt,Object.keys(v.from)),yt(t,v)),d.blockTransition||d.blockKeyframeAnimation?sr(gt):v.skipBlocking||k(nt,!1),{$$willAnimate:!0,end:ki,start:function(){if(!wi)return(gi={end:ki,cancel:or,resume:null,pause:null},li=new a(gi),at(lr),li)}}):di()}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(n){n.drivers.push("$$animateCssDriver");this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(n,t,e,s,h,c,l){function p(n){return n.replace(/\bng-\S+\b/g,"")}function w(n,t){return o(n)&&(n=n.split(" ")),o(t)&&(t=t.split(" ")),n.filter(function(n){return-1===t.indexOf(n)}).join(" ")}function k(t,f,o){function l(n){var t={},u=r(n).getBoundingClientRect();return i(["width","height","top","left"],function(n){var i=u[n];switch(n){case"top":i+=a.scrollTop;break;case"left":i+=a.scrollLeft}t[n]=Math.floor(i)+"px"}),t}function v(){var t=p(o.attr("class")||""),i=w(t,y),t=w(y,t),i=n(s,{to:l(o),addClass:"ng-anchor-in "+i,removeClass:"ng-anchor-out "+t,delay:!0});return i.$$willAnimate?i:null}function c(){s.remove();f.removeClass("ng-animate-shim");o.removeClass("ng-animate-shim")}var s=u(r(f).cloneNode(!0)),y=p(s.attr("class")||""),h,k;return(f.addClass("ng-animate-shim"),o.addClass("ng-animate-shim"),s.addClass("ng-anchor"),b.append(s),t=function(){var t=n(s,{addClass:"ng-anchor-out",delay:!0,from:l(f)});return t.$$willAnimate?t:null}(),!t&&(h=v(),!h))?c():(k=t||h,{start:function(){function i(){n&&n.end()}var t,n=k.start();return n.done(function(){return n=null,!h&&(h=v())?(n=h.start(),n.done(function(){n=null;c();t.complete()}),n):(c(),void t.complete())}),t=new e({end:i,cancel:i})}})}function g(n,t,r,u){var o=y(n,f),s=y(t,f),h=[];return i(u,function(n){(n=k(r,n.out,n["in"]))&&h.push(n)}),o||s||0!==h.length?{start:function(){function r(){i(n,function(n){n.end()})}var n=[],t;return o&&n.push(o.start()),s&&n.push(s.start()),i(h,function(t){n.push(t.start())}),t=new e({end:r,cancel:r}),e.all(n,function(n){t.complete(n)}),t}}:void 0}function y(t){var r=t.element,i=t.options||{};return t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=d(i.event,i.preparationClasses)),t=n(r,i),t.$$willAnimate?t:null}var a,b;return!h.animations&&!h.transitions?f:(a=l[0].body,t=r(s),b=u(t.parentNode&&11===t.parentNode.nodeType||a.contains(t)?t:a),v(c),function(n){return n.from&&n.to?g(n.from,n.to,n.classes,n.anchors):y(n)})}]}]).provider("$$animateJs",["$animateProvider",function(n){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,r,u){function e(i){var r,f;i=c(i)?i:i.split(" ");for(var e=[],o={},u=0;u<i.length;u++)r=i[u],f=n.$$registeredAnimations[r],f&&!o[r]&&(e.push(t.get(f)),o[r]=!0);return e}var o=v(u);return function(n,t,u,s){function a(){s.domOperation();o(n,s)}function rt(n,t,i,u,e){switch(i){case"animate":t=[t,u.from,u.to,e];break;case"setClass":t=[t,tt,it,e];break;case"addClass":t=[t,tt,e];break;case"removeClass":t=[t,it,e];break;default:t=[t,e]}if(t.push(u),n=n.apply(n,t))if(ct(n.start)&&(n=n.start()),n instanceof r)n.done(e);else if(ct(n))return n;return f}function c(n,t,u,e,o){var s=[];return i(e,function(i){var e=i[o];e&&s.push(function(){var i,s,h=!1,o=function(n){h||(h=!0,(s||f)(n),i.complete(!n))};return i=new r({end:function(){o()},cancel:function(){o(!0)}}),s=rt(e,n,t,u,function(n){o(!1===n)}),i})}),s}function g(n,t,u,f,e){var o=c(n,t,u,f,e),s,h;return 0===o.length&&("beforeSetClass"===e?(s=c(n,"removeClass",u,f,"beforeRemoveClass"),h=c(n,"addClass",u,f,"beforeAddClass")):"setClass"===e&&(s=c(n,"removeClass",u,f,"removeClass"),h=c(n,"addClass",u,f,"addClass")),s&&(o=o.concat(s)),h&&(o=o.concat(h))),0!==o.length?function(n){var t=[];return o.length&&i(o,function(n){t.push(n())}),t.length?r.all(t,n):n(),function(n){i(t,function(t){n?t.cancel():t.end()})}}:void 0}var v=!1,k,d,h;3===arguments.length&&nt(u)&&(s=u,u=null);s=b(s);u||(u=n.attr("class")||"",s.addClass&&(u+=" "+s.addClass),s.removeClass&&(u+=" "+s.removeClass));var y,p,tt=s.addClass,it=s.removeClass,w=e(u);return w.length&&("leave"==t?(d="leave",k="afterLeave"):(d="before"+t.charAt(0).toUpperCase()+t.substr(1),k=t),"enter"!==t&&"move"!==t&&(y=g(n,t,s,w,d)),p=g(n,t,s,w,k)),y||p?{$$willAnimate:!0,end:function(){return h?h.end():(v=!0,a(),l(n,s),h=new r,h.complete(!0)),h},start:function(){function u(t){v=!0;a();l(n,s);h.complete(t)}if(h)return h;h=new r;var i,t=[];return y&&t.push(function(n){i=y(n)}),t.length?t.push(function(n){a();n(!0)}):a(),p&&t.push(function(n){i=p(n)}),h.setHost({end:function(){v||((i||f)(void 0),u(void 0))},cancel:function(){v||((i||f)(!0),u(!0))}}),r.chain(t,u),h}}:void 0}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(n){n.drivers.push("$$animateJsDriver");this.$get=["$$animateJs","$$AnimateRunner",function(n,t){function r(t){return n(t.element,t.event,t.classes,t.options)}return function(n){if(!n.from||!n.to)return r(n);var u=r(n.from),f=r(n.to);if(u||f)return{start:function(){function r(){return function(){i(n,function(n){n.end()})}}var n=[],e;return u&&n.push(u.start()),f&&n.push(f.start()),t.all(n,function(n){e.complete(n)}),e=new t({end:r(),cancel:r()})}}}}]}])}(window,window.angular),function(n,t){"use strict";"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){t(n,i)}):"object"==typeof module&&module.exports?module.exports=t(n,require("jquery")):n.jQueryBridget=t(n,n.jQuery)}(window,function(n,t){"use strict";function i(i,u,o){function s(n,t,r){var u,e="$()."+i+'("'+t+'")';return n.each(function(n,s){var h=o.data(s,i),c,l;if(!h)return void f(i+" not initialized. Cannot call methods, i.e. "+e);if(c=h[t],!c||"_"==t.charAt(0))return void f(e+" is not a valid method");l=c.apply(h,r);u=void 0===u?l:u}),void 0!==u?u:n}function h(n,t){n.each(function(n,r){var f=o.data(r,i);f?(f.option(t),f._init()):(f=new u(r,t),o.data(r,i,f))})}o=o||t||n.jQuery;o&&(u.prototype.option||(u.prototype.option=function(n){o.isPlainObject(n)&&(this.options=o.extend(!0,this.options,n))}),o.fn[i]=function(n){if("string"==typeof n){var t=e.call(arguments,1);return s(this,n,t)}return h(this,n),this},r(o))}function r(n){!n||n&&n.bridget||(n.bridget=i)}var e=Array.prototype.slice,u=n.console,f="undefined"==typeof u?function(){}:function(n){u.error(n)};return r(t||n.jQuery),i}),function(n,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():n.EvEmitter=t()}(this,function(){function t(){}var n=t.prototype;return n.on=function(n,t){if(n&&t){var i=this._events=this._events||{},r=i[n]=i[n]||[];return-1==r.indexOf(t)&&r.push(t),this}},n.once=function(n,t){if(n&&t){this.on(n,t);var i=this._onceEvents=this._onceEvents||{},r=i[n]=i[n]||[];return r[t]=!0,this}},n.off=function(n,t){var i=this._events&&this._events[n],r;if(i&&i.length)return r=i.indexOf(t),-1!=r&&i.splice(r,1),this},n.emitEvent=function(n,t){var r=this._events&&this._events[n],u,i,f,e;if(r&&r.length){for(u=0,i=r[u],t=t||[],f=this._onceEvents&&this._onceEvents[n];i;)e=f&&f[i],e&&(this.off(n,i),delete f[i]),i.apply(this,t),u+=e?0:1,i=r[u];return this}},t}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return t()}):"object"==typeof module&&module.exports?module.exports=t():n.getSize=t()}(window,function(){"use strict";function n(n){var t=parseFloat(n),i=-1==n.indexOf("%")&&!isNaN(t);return i&&t}function o(){}function s(){for(var r,i={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},n=0;f>n;n++)r=t[n],i[r]=0;return i}function i(n){var t=getComputedStyle(n);return t||c("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t}function h(){var t,f,o;e||(e=!0,t=document.createElement("div"),t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box",f=document.body||document.documentElement,f.appendChild(t),o=i(t),r.isBoxSizeOuter=u=200==n(o.width),f.removeChild(t))}function r(r){var o,e,a,c,l;if(h(),"string"==typeof r&&(r=document.querySelector(r)),r&&"object"==typeof r&&r.nodeType){if(o=i(r),"none"==o.display)return s();for(e={},e.width=r.offsetWidth,e.height=r.offsetHeight,a=e.isBorderBox="border-box"==o.boxSizing,c=0;f>c;c++){var v=t[c],nt=o[v],y=parseFloat(nt);e[v]=isNaN(y)?0:y}var p=e.paddingLeft+e.paddingRight,w=e.paddingTop+e.paddingBottom,tt=e.marginLeft+e.marginRight,it=e.marginTop+e.marginBottom,b=e.borderLeftWidth+e.borderRightWidth,k=e.borderTopWidth+e.borderBottomWidth,d=a&&u,g=n(o.width);return g!==!1&&(e.width=g+(d?0:p+b)),l=n(o.height),l!==!1&&(e.height=l+(d?0:w+k)),e.innerWidth=e.width-(p+b),e.innerHeight=e.height-(w+k),e.outerWidth=e.width+tt,e.outerHeight=e.height+it,e}}var u,c="undefined"==typeof console?o:function(n){console.error(n)},t=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],f=t.length,e=!1;return r}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():n.matchesSelector=t()}(window,function(){"use strict";var n=function(){var t=Element.prototype,i,n,u,r;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(i=["webkit","moz","ms","o"],n=0;n<i.length;n++)if(u=i[n],r=u+"MatchesSelector",t[r])return r}();return function(t,i){return t[n](i)}}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["matches-selector/matches-selector"],function(i){return t(n,i)}):"object"==typeof module&&module.exports?module.exports=t(n,require("desandro-matches-selector")):n.fizzyUIUtils=t(n,n.matchesSelector)}(window,function(n,t){var i={},r;return i.extend=function(n,t){for(var i in t)n[i]=t[i];return n},i.modulo=function(n,t){return(n%t+t)%t},i.makeArray=function(n){var t=[],i;if(Array.isArray(n))t=n;else if(n&&"number"==typeof n.length)for(i=0;i<n.length;i++)t.push(n[i]);else t.push(n);return t},i.removeFrom=function(n,t){var i=n.indexOf(t);-1!=i&&n.splice(i,1)},i.getParent=function(n,i){for(;n!=document.body;)if(n=n.parentNode,t(n,i))return n},i.getQueryElement=function(n){return"string"==typeof n?document.querySelector(n):n},i.handleEvent=function(n){var t="on"+n.type;this[t]&&this[t](n)},i.filterFindElements=function(n,r){n=i.makeArray(n);var u=[];return n.forEach(function(n){if(n instanceof HTMLElement){if(!r)return void u.push(n);t(n,r)&&u.push(n);for(var f=n.querySelectorAll(r),i=0;i<f.length;i++)u.push(f[i])}}),u},i.debounceMethod=function(n,t,i){var u=n.prototype[t],r=t+"Timeout";n.prototype[t]=function(){var t=this[r],f,n;t&&clearTimeout(t);f=arguments;n=this;this[r]=setTimeout(function(){u.apply(n,f);delete n[r]},i||100)}},i.docReady=function(n){"complete"==document.readyState?n():document.addEventListener("DOMContentLoaded",n)},i.toDashed=function(n){return n.replace(/(.)([A-Z])/g,function(n,t,i){return t+"-"+i}).toLowerCase()},r=n.console,i.htmlInit=function(t,u){i.docReady(function(){var e=i.toDashed(u),f="data-"+e,s=document.querySelectorAll("["+f+"]"),h=document.querySelectorAll(".js-"+e),c=i.makeArray(s).concat(i.makeArray(h)),l=f+"-options",o=n.jQuery;c.forEach(function(n){var i,e=n.getAttribute(f)||n.getAttribute(l),s;try{i=e&&JSON.parse(e)}catch(h){return void(r&&r.error("Error parsing "+f+" on "+n.className+": "+h))}s=new t(n,i);o&&o.data(n,u,s)})})},i}),function(n,t){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],function(i,r){return t(n,i,r)}):"object"==typeof module&&module.exports?module.exports=t(n,require("ev-emitter"),require("get-size")):(n.Outlayer={},n.Outlayer.Item=t(n,n.EvEmitter,n.getSize))}(window,function(n,t,i){"use strict";function a(n){for(var t in n)return!1;return t=null,!0}function f(n,t){n&&(this.element=n,this.layout=t,this.position={x:0,y:0},this._create())}function v(n){return n.replace(/([A-Z])/g,function(n){return"-"+n.toLowerCase()})}var e=document.documentElement.style,u="string"==typeof e.transition?"transition":"WebkitTransition",y="string"==typeof e.transform?"transform":"WebkitTransform",o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[u],s=[y,u,u+"Duration",u+"Property"],r=f.prototype=Object.create(t.prototype),h,c,l;return r.constructor=f,r._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})},r.handleEvent=function(n){var t="on"+n.type;this[t]&&this[t](n)},r.getSize=function(){this.size=i(this.element)},r.css=function(n){var r=this.element.style,t,i;for(t in n)i=s[t]||t,r[i]=n[t]},r.getPosition=function(){var f=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),o=this.layout._getOption("originTop"),r=f[e?"left":"right"],u=f[o?"top":"bottom"],n=this.layout.size,t=-1!=r.indexOf("%")?parseFloat(r)/100*n.width:parseInt(r,10),i=-1!=u.indexOf("%")?parseFloat(u)/100*n.height:parseInt(u,10);t=isNaN(t)?0:t;i=isNaN(i)?0:i;t-=e?n.paddingLeft:n.paddingRight;i-=o?n.paddingTop:n.paddingBottom;this.position.x=t;this.position.y=i},r.layoutPosition=function(){var r=this.layout.size,n={},t=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),u=t?"paddingLeft":"paddingRight",f=t?"left":"right",e=t?"right":"left",o=this.position.x+r[u];n[f]=this.getXValue(o);n[e]="";var s=i?"paddingTop":"paddingBottom",h=i?"top":"bottom",c=i?"bottom":"top",l=this.position.y+r[s];n[h]=this.getYValue(l);n[c]="";this.css(n);this.emitEvent("layout",[this])},r.getXValue=function(n){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?n/this.layout.size.width*100+"%":n+"px"},r.getYValue=function(n){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?n/this.layout.size.height*100+"%":n+"px"},r._transitionTo=function(n,t){this.getPosition();var r=this.position.x,u=this.position.y,f=parseInt(n,10),e=parseInt(t,10),o=f===this.position.x&&e===this.position.y;if(this.setPosition(n,t),o&&!this.isTransitioning)return void this.layoutPosition();var s=n-r,h=t-u,i={};i.transform=this.getTranslate(s,h);this.transition({to:i,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},r.getTranslate=function(n,t){var i=this.layout._getOption("originLeft"),r=this.layout._getOption("originTop");return n=i?n:-n,t=r?t:-t,"translate3d("+n+"px, "+t+"px, 0)"},r.goTo=function(n,t){this.setPosition(n,t);this.layoutPosition()},r.moveTo=r._transitionTo,r.setPosition=function(n,t){this.position.x=parseInt(n,10);this.position.y=parseInt(t,10)},r._nonTransition=function(n){this.css(n.to);n.isCleaning&&this._removeStyles(n.to);for(var t in n.onTransitionEnd)n.onTransitionEnd[t].call(this)},r._transition=function(n){var i,t,r;if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(n);i=this._transn;for(t in n.onTransitionEnd)i.onEnd[t]=n.onTransitionEnd[t];for(t in n.to)i.ingProperties[t]=!0,n.isCleaning&&(i.clean[t]=!0);n.from&&(this.css(n.from),r=this.element.offsetHeight,r=null);this.enableTransition(n.to);this.css(n.to);this.isTransitioning=!0},h="opacity,"+v(s.transform||"transform"),r.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:h,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(o,this,!1))},r.transition=f.prototype[u?"_transition":"_nonTransition"],r.onwebkitTransitionEnd=function(n){this.ontransitionend(n)},r.onotransitionend=function(n){this.ontransitionend(n)},c={"-webkit-transform":"transform"},r.ontransitionend=function(n){var t,i,r;n.target===this.element&&(t=this._transn,i=c[n.propertyName]||n.propertyName,(delete t.ingProperties[i],a(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[n.propertyName]="",delete t.clean[i]),i in t.onEnd)&&(r=t.onEnd[i],r.call(this),delete t.onEnd[i]),this.emitEvent("transitionEnd",[this]))},r.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(o,this,!1);this.isTransitioning=!1},r._removeStyles=function(n){var t={};for(var i in n)t[i]="";this.css(t)},l={transitionProperty:"",transitionDuration:""},r.removeTransitionStyles=function(){this.css(l)},r.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:""});this.emitEvent("remove",[this])},r.remove=function(){return u&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},r.reveal=function(){delete this.isHidden;this.css({display:""});var n=this.layout.options,t={},i=this.getHideRevealTransitionEndProperty("visibleStyle");t[i]=this.onRevealTransitionEnd;this.transition({from:n.hiddenStyle,to:n.visibleStyle,isCleaning:!0,onTransitionEnd:t})},r.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},r.getHideRevealTransitionEndProperty=function(n){var t=this.layout.options[n],i;if(t.opacity)return"opacity";for(i in t)return i},r.hide=function(){this.isHidden=!0;this.css({display:""});var n=this.layout.options,t={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");t[i]=this.onHideTransitionEnd;this.transition({from:n.visibleStyle,to:n.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},r.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},r.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},f}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,r,u,f){return t(n,i,r,u,f)}):"object"==typeof module&&module.exports?module.exports=t(n,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):n.Outlayer=t(n,n.EvEmitter,n.getSize,n.fizzyUIUtils,n.Outlayer.Item)}(window,function(n,t,i,r,u){"use strict";function e(n,t){var i=r.getQueryElement(n),u,f;if(!i)return void(c&&c.error("Bad element for "+this.constructor.namespace+": "+(i||n)));this.element=i;o&&(this.$element=o(this.element));this.options=r.extend({},this.constructor.defaults);this.option(t);u=++a;this.element.outlayerGUID=u;s[u]=this;this._create();f=this._getOption("initLayout");f&&this.layout()}function h(n){function t(){n.apply(this,arguments)}return t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t}var c=n.console,o=n.jQuery,l=function(){},a=0,s={},f;return e.namespace="outlayer",e.Item=u,e.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},f=e.prototype,r.extend(f,t.prototype),f.option=function(n){r.extend(this.options,n)},f._getOption=function(n){var t=this.constructor.compatOptions[n];return t&&void 0!==this.options[t]?this.options[t]:this.options[n]},e.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},f._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);r.extend(this.element.style,this.options.containerStyle);var n=this._getOption("resize");n&&this.bindResize()},f.reloadItems=function(){this.items=this._itemize(this.element.children)},f._itemize=function(n){for(var u,f,i=this._filterFindItemElements(n),e=this.constructor.Item,r=[],t=0;t<i.length;t++)u=i[t],f=new e(u,this),r.push(f);return r},f._filterFindItemElements=function(n){return r.filterFindElements(n,this.options.itemSelector)},f.getItemElements=function(){return this.items.map(function(n){return n.element})},f.layout=function(){this._resetLayout();this._manageStamps();var n=this._getOption("layoutInstant"),t=void 0!==n?n:!this._isLayoutInited;this.layoutItems(this.items,t);this._isLayoutInited=!0},f._init=f.layout,f._resetLayout=function(){this.getSize()},f.getSize=function(){this.size=i(this.element)},f._getMeasurement=function(n,t){var u,r=this.options[n];r?("string"==typeof r?u=this.element.querySelector(r):r instanceof HTMLElement&&(u=r),this[n]=u?i(u)[t]:r):this[n]=0},f.layoutItems=function(n,t){n=this._getItemsForLayout(n);this._layoutItems(n,t);this._postLayout()},f._getItemsForLayout=function(n){return n.filter(function(n){return!n.isIgnored})},f._layoutItems=function(n,t){if(this._emitCompleteOnItems("layout",n),n&&n.length){var i=[];n.forEach(function(n){var r=this._getItemLayoutPosition(n);r.item=n;r.isInstant=t||n.isLayoutInstant;i.push(r)},this);this._processLayoutQueue(i)}},f._getItemLayoutPosition=function(){return{x:0,y:0}},f._processLayoutQueue=function(n){n.forEach(function(n){this._positionItem(n.item,n.x,n.y,n.isInstant)},this)},f._positionItem=function(n,t,i,r){r?n.goTo(t,i):n.moveTo(t,i)},f._postLayout=function(){this.resizeContainer()},f.resizeContainer=function(){var t=this._getOption("resizeContainer"),n;t&&(n=this._getContainerSize(),n&&(this._setContainerMeasure(n.width,!0),this._setContainerMeasure(n.height,!1)))},f._getContainerSize=l,f._setContainerMeasure=function(n,t){if(void 0!==n){var i=this.size;i.isBorderBox&&(n+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth);n=Math.max(n,0);this.element.style[t?"width":"height"]=n+"px"}},f._emitCompleteOnItems=function(n,t){function r(){e.dispatchEvent(n+"Complete",null,[t])}function f(){i++;i==u&&r()}var e=this,u=t.length,i;if(!t||!u)return void r();i=0;t.forEach(function(t){t.once(n,f)})},f.dispatchEvent=function(n,t,i){var u=t?[t].concat(i):i,r;(this.emitEvent(n,u),o)&&((this.$element=this.$element||o(this.element),t)?(r=o.Event(t),r.type=n,this.$element.trigger(r,i)):this.$element.trigger(n,i))},f.ignore=function(n){var t=this.getItem(n);t&&(t.isIgnored=!0)},f.unignore=function(n){var t=this.getItem(n);t&&delete t.isIgnored},f.stamp=function(n){n=this._find(n);n&&(this.stamps=this.stamps.concat(n),n.forEach(this.ignore,this))},f.unstamp=function(n){n=this._find(n);n&&n.forEach(function(n){r.removeFrom(this.stamps,n);this.unignore(n)},this)},f._find=function(n){if(n)return("string"==typeof n&&(n=this.element.querySelectorAll(n)),n=r.makeArray(n))},f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},f._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),n=this.size;this._boundingRect={left:t.left+n.paddingLeft+n.borderLeftWidth,top:t.top+n.paddingTop+n.borderTopWidth,right:t.right-(n.paddingRight+n.borderRightWidth),bottom:t.bottom-(n.paddingBottom+n.borderBottomWidth)}},f._manageStamp=l,f._getElementOffset=function(n){var t=n.getBoundingClientRect(),r=this._boundingRect,u=i(n);return{left:t.left-r.left-u.marginLeft,top:t.top-r.top-u.marginTop,right:r.right-t.right-u.marginRight,bottom:r.bottom-t.bottom-u.marginBottom}},f.handleEvent=r.handleEvent,f.bindResize=function(){n.addEventListener("resize",this);this.isResizeBound=!0},f.unbindResize=function(){n.removeEventListener("resize",this);this.isResizeBound=!1},f.onresize=function(){this.resize()},r.debounceMethod(e,"onresize",100),f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},f.needsResizeLayout=function(){var n=i(this.element),t=this.size&&n;return t&&n.innerWidth!==this.size.innerWidth},f.addItems=function(n){var t=this._itemize(n);return t.length&&(this.items=this.items.concat(t)),t},f.appended=function(n){var t=this.addItems(n);t.length&&(this.layoutItems(t,!0),this.reveal(t))},f.prepended=function(n){var t=this._itemize(n),i;t.length&&(i=this.items.slice(0),this.items=t.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(i))},f.reveal=function(n){this._emitCompleteOnItems("reveal",n);n&&n.length&&n.forEach(function(n){n.reveal()})},f.hide=function(n){this._emitCompleteOnItems("hide",n);n&&n.length&&n.forEach(function(n){n.hide()})},f.revealItemElements=function(n){var t=this.getItems(n);this.reveal(t)},f.hideItemElements=function(n){var t=this.getItems(n);this.hide(t)},f.getItem=function(n){for(var i,t=0;t<this.items.length;t++)if(i=this.items[t],i.element==n)return i},f.getItems=function(n){n=r.makeArray(n);var t=[];return n.forEach(function(n){var i=this.getItem(n);i&&t.push(i)},this),t},f.remove=function(n){var t=this.getItems(n);this._emitCompleteOnItems("remove",t);t&&t.length&&t.forEach(function(n){n.remove();r.removeFrom(this.items,n)},this)},f.destroy=function(){var n=this.element.style,t;n.height="";n.position="";n.width="";this.items.forEach(function(n){n.destroy()});this.unbindResize();t=this.element.outlayerGUID;delete s[t];delete this.element.outlayerGUID;o&&o.removeData(this.element,this.constructor.namespace)},e.data=function(n){n=r.getQueryElement(n);var t=n&&n.outlayerGUID;return t&&s[t]},e.create=function(n,t){var i=h(e);return i.defaults=r.extend({},e.defaults),r.extend(i.defaults,t),i.compatOptions=r.extend({},e.compatOptions),i.namespace=n,i.data=e.data,i.Item=h(u),r.htmlInit(i,n),o&&o.bridget&&o.bridget(n,i),i},e.Item=u,e}),function(n,t){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("outlayer"),require("get-size")):n.Masonry=t(n.Outlayer,n.getSize)}(window,function(n,t){var i=n.create("masonry");return i.compatOptions.fitWidth="isFitWidth",i.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();this.colYs=[];for(var n=0;n<this.cols;n++)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){var n,i;(this.getContainerWidth(),this.columnWidth)||(n=this.items[0],i=n&&n.element,this.columnWidth=i&&t(i).outerWidth||this.containerWidth);var r=this.columnWidth+=this.gutter,f=this.containerWidth+this.gutter,u=f/r,e=r-f%r,o=e&&1>e?"round":"floor";u=Math[o](u);this.cols=Math.max(u,1)},i.prototype.getContainerWidth=function(){var i=this._getOption("fitWidth"),r=i?this.element.parentNode:this.element,n=t(r);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(n){n.getSize();var f=n.size.outerWidth%this.columnWidth,o=f&&1>f?"round":"ceil",t=Math[o](n.size.outerWidth/this.columnWidth);t=Math.min(t,this.cols);for(var i=this._getColGroup(t),r=Math.min.apply(Math,i),e=i.indexOf(r),s={x:this.columnWidth*e,y:r},h=r+n.size.outerHeight,c=this.cols+1-i.length,u=0;c>u;u++)this.colYs[e+u]=h;return s},i.prototype._getColGroup=function(n){var r;if(2>n)return this.colYs;for(var i=[],u=this.cols+1-n,t=0;u>t;t++)r=this.colYs.slice(t,t+n),i[t]=Math.max.apply(Math,r);return i},i.prototype._manageStamp=function(n){var e=t(n),r=this._getElementOffset(n),h=this._getOption("originLeft"),o=h?r.left:r.right,s=o+e.outerWidth,f=Math.floor(o/this.columnWidth),i;f=Math.max(0,f);i=Math.floor(s/this.columnWidth);i-=s%this.columnWidth?0:1;i=Math.min(this.cols-1,i);for(var c=this._getOption("originTop"),l=(c?r.top:r.bottom)+e.outerHeight,u=f;i>=u;u++)this.colYs[u]=Math.max(l,this.colYs[u])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var n={height:this.maxY};return this._getOption("fitWidth")&&(n.width=this._getContainerFitWidth()),n},i.prototype._getContainerFitWidth=function(){for(var n=0,t=this.cols;--t&&0===this.colYs[t];)n++;return(this.cols-n)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var n=this.containerWidth;return this.getContainerWidth(),n!=this.containerWidth},i}),function(n,t){"use strict";var i="BUTTON A INPUT TEXTAREA SELECT DETAILS SUMMARY".split(" "),r=function(n,t){if(-1!==t.indexOf(n[0].nodeName))return!0};t.module("ngAria",["ng"]).provider("$aria",function(){function i(t,i,u,f){return function(e,o,s){var h=s.$normalize(i);!n[h]||r(o,u)||s[h]||e.$watch(s[t],function(n){n=f?!n:!!n;o.attr(i,n)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0,bindRoleForClick:!0};this.config=function(i){n=t.extend(n,i)};this.$get=function(){return{config:function(t){return n[t]},$$watchExpr:i}}}).directive("ngShow",["$aria",function(n){return n.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(n){return n.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(n){return n.$$watchExpr("ngValue","aria-checked",i,!1)}]).directive("ngChecked",["$aria",function(n){return n.$$watchExpr("ngChecked","aria-checked",i,!1)}]).directive("ngReadonly",["$aria",function(n){return n.$$watchExpr("ngReadonly","aria-readonly",i,!1)}]).directive("ngRequired",["$aria",function(n){return n.$$watchExpr("ngRequired","aria-required",i,!1)}]).directive("ngModel",["$aria",function(n){function t(t,u,f,e){return n.config(u)&&!f.attr(t)&&(e||!r(f,i))}function u(n,t){return!t.attr("role")&&t.attr("type")===n&&"INPUT"!==t[0].nodeName}function f(n){var i=n.type,t=n.role;return"checkbox"===(i||t)||"menuitemcheckbox"===t?"checkbox":"radio"===(i||t)||"menuitemradio"===t?"radio":"range"===i||"progressbar"===t||"slider"===t?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(i,r){var e=f(r,i);return{pre:function(n,t,i,r){"checkbox"===e&&(r.$isEmpty=function(n){return!1===n})},post:function(i,r,f,o){function s(){return o.$modelValue}function c(){r.attr("aria-checked",f.value==o.$viewValue)}function l(){r.attr("aria-checked",!o.$isEmpty(o.$viewValue))}var h=t("tabindex","tabindex",r,!1);switch(e){case"radio":case"checkbox":u(e,r)&&r.attr("role",e);t("aria-checked","ariaChecked",r,!1)&&i.$watch(s,"radio"===e?c:l);h&&r.attr("tabindex",0);break;case"range":if(u(e,r)&&r.attr("role","slider"),n.config("ariaValue")){var a=!r.attr("aria-valuemin")&&(f.hasOwnProperty("min")||f.hasOwnProperty("ngMin")),v=!r.attr("aria-valuemax")&&(f.hasOwnProperty("max")||f.hasOwnProperty("ngMax")),y=!r.attr("aria-valuenow");a&&f.$observe("min",function(n){r.attr("aria-valuemin",n)});v&&f.$observe("max",function(n){r.attr("aria-valuemax",n)});y&&i.$watch(s,function(n){r.attr("aria-valuenow",n)})}h&&r.attr("tabindex",0)}!f.hasOwnProperty("ngRequired")&&o.$validators.required&&t("aria-required","ariaRequired",r,!1)&&f.$observe("required",function(){r.attr("aria-required",!!f.required)});t("aria-invalid","ariaInvalid",r,!0)&&i.$watch(function(){return o.$invalid},function(n){r.attr("aria-invalid",!!n)})}}}}}]).directive("ngDisabled",["$aria",function(n){return n.$$watchExpr("ngDisabled","aria-disabled",i,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(n,t){t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(n,t){return{restrict:"A",compile:function(u,f){var e=t(f.ngClick,null,!0);return function(t,u,f){r(u,i)||(n.config("bindRoleForClick")&&!u.attr("role")&&u.attr("role","button"),n.config("tabindex")&&!u.attr("tabindex")&&u.attr("tabindex",0),!n.config("bindKeypress")||f.ngKeypress)||u.on("keypress",function(n){function r(){e(t,{$event:n})}var i=n.which||n.keyCode;32!==i&&13!==i||t.$apply(r)})}}}}]).directive("ngDblclick",["$aria",function(n){return function(t,u){!n.config("tabindex")||u.attr("tabindex")||r(u,i)||u.attr("tabindex",0)}}])}(window,window.angular);!function(n,t,i){"use strict";!function(){t.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.layout","material.core.meta","material.core.theming.palette","material.core.theming","material.core.animate","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.chips","material.components.checkbox","material.components.colors","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.navBar","material.components.panel","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.showHide","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.virtualRepeat","material.components.whiteframe"])}(),function(){function n(n,t){if(t.has("$swipe"))n.warn("You are using the ngTouch module. \nAngular Material already has mobile click, tap, and swipe support... \nngTouch is not supported with Angular Material!")}function i(n,t){n.decorator("$$rAF",["$delegate",r]);t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function r(n){return n.throttle=function(t){var r,i,u,f;return function(){r=arguments;f=this;u=t;i||(i=!0,n(function(){u.apply(f,Array.prototype.slice.call(r));i=!1}))}},n}n.$inject=["$log","$injector"];i.$inject=["$provide","$mdThemingProvider"];r.$inject=["$delegate"];t.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.gestures","material.core.theming"]).config(i).run(n)}(),function(){function n(){return{restrict:"A",link:i}}function i(n,t,i){var r=i.mdAutoFocus||i.mdAutofocus||i.mdSidenavFocus;n.$watch(r,function(n){t.toggleClass("md-autofocus",n)})}t.module("material.core").directive("mdAutofocus",n).directive("mdAutoFocus",n).directive("mdSidenavFocus",n)}(),function(){function n(){function n(n){var i="#"===n[0]?n.substr(1):n,t=i.length/3,r=i.substr(0,t),u=i.substr(t,t),f=i.substr(2*t);return 1===t&&(r+=r,u+=u,f+=f),"rgba("+parseInt(r,16)+","+parseInt(u,16)+","+parseInt(f,16)+",0.1)"}function t(n){n=n.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);var t=n&&4===n.length?"#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2):"";return t.toUpperCase()}function i(n){return n.replace(")",", 0.1)").replace("(","a(")}function r(n){return n?n.replace("rgba","rgb").replace(/,[^\),]+\)/,")"):"rgb(0,0,0)"}return{rgbaToHex:t,hexToRgba:n,rgbToRgba:i,rgbaToRgb:r}}t.module("material.core").factory("$mdColorUtil",n)}(),function(){function n(n){function i(n){var f=u+"-"+n,t=o(f),i=t.charAt(0).toLowerCase()+t.substring(1);return r(n)?n:r(t)?t:r(i)?i:n}function r(n){return t.isDefined(h.style[n])}function o(n){return n.replace(s,function(n,t,i,r){return r?i.toUpperCase():i})}var u=n.vendorPrefix,f=/webkit/i.test(u),s=/([:\-_]+(.))/g,h=document.createElement("div"),e={isInputKey:function(n){return n.keyCode>=31&&n.keyCode<=90},isNumPadKey:function(n){return 3===n.location&&n.keyCode>=97&&n.keyCode<=105},isNavigationKey:function(n){var t=e.KEY_CODE,i=[t.SPACE,t.ENTER,t.UP_ARROW,t.DOWN_ARROW];return-1!=i.indexOf(n.keyCode)},KEY_CODE:{COMMA:188,SEMICOLON:186,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(f?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(f?" webkitAnimationEnd":""),TRANSFORM:i("transform"),TRANSFORM_ORIGIN:i("transformOrigin"),TRANSITION:i("transition"),TRANSITION_DURATION:i("transitionDuration"),ANIMATION_PLAY_STATE:i("animationPlayState"),ANIMATION_DURATION:i("animationDuration"),ANIMATION_NAME:i("animationName"),ANIMATION_TIMING:i("animationTimingFunction"),ANIMATION_DIRECTION:i("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"]};return e}n.$inject=["$sniffer","$window","$document"];t.module("material.core").factory("$mdConstant",n)}(),function(){function n(n,i){function c(){return[].concat(r)}function l(){return r.length}function f(n){return r.length&&n>-1&&n<r.length}function a(n){return!!n&&f(u(n)+1)}function v(n){return!!n&&f(u(n)-1)}function y(n){return f(n)?r[n]:null}function p(n,t){return r.filter(function(i){return i[n]===t})}function w(n,i){return n?(t.isNumber(i)||(i=r.length),r.splice(i,0,n),u(n)):-1}function b(n){e(n)&&r.splice(u(n),1)}function u(n){return r.indexOf(n)}function e(n){return n&&u(n)>-1}function o(){return r.length?r[0]:null}function s(){return r.length?r[r.length-1]:null}function h(n,e,h,c){var v,l,a;for(h=h||k,v=u(e);;){if(!f(v)||(l=v+(n?-1:1),a=null,f(l)?a=r[l]:i&&(a=n?s():o(),l=u(a)),null===a||l===c))return null;if(h(a))return a;t.isUndefined(c)&&(c=l);v=l}}var k=function(){return!0},r;return n&&!t.isArray(n)&&(n=Array.prototype.slice.call(n)),i=!!i,r=n||[],{items:c,count:l,inRange:f,contains:e,indexOf:u,itemAt:y,findBy:p,add:w,remove:b,first:o,last:s,next:t.bind(null,h,!1),previous:t.bind(null,h,!0),hasPrevious:v,hasNext:a}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.iterator=n,t}])}])}(),function(){function n(n,i,r){function u(n){var i=o[n],r;return t.isUndefined(i)&&(i=o[n]=c(n)),r=s[i],t.isUndefined(r)&&(r=l(i)),r}function c(t){return n.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}function l(n){var t=e[n];return t||(t=e[n]=r.matchMedia(n)),t.addListener(a),s[t.media]=!!t.matches}function a(n){i.$evalAsync(function(){s[n.media]=!!n.matches})}function v(n){return e[n]}function y(t,i){for(var u,s,r=0;r<n.MEDIA_PRIORITY.length;r++)if(u=n.MEDIA_PRIORITY[r],e[o[u]].matches&&(s=f(t,i+"-"+u),t[s]))return t[s];return t[f(t,i)]}function p(i,r,u){var e=[];return i.forEach(function(i){var o=f(r,i),s;t.isDefined(r[o])&&e.push(r.$observe(o,t.bind(void 0,u,null)));for(s in n.MEDIA)o=f(r,i+"-"+s),t.isDefined(r[o])&&e.push(r.$observe(o,t.bind(void 0,u,s)))}),function(){e.forEach(function(n){n()})}}function f(n,t){return h[t]||(h[t]=n.$normalize(t))}var o={},e={},s={},h={};return u.getResponsiveAttribute=y,u.getQuery=v,u.watchResponsiveAttributes=p,u}n.$inject=["$mdConstant","$rootScope","$window"];t.module("material.core").factory("$mdMedia",n)}(),function(){function n(n,i){function r(n){return n=t.isArray(n)?n:[n],n.forEach(function(t){s.forEach(function(i){n.push(i+"-"+t)})}),n}function u(n){return n=t.isArray(n)?n:[n],r(n).map(function(n){return"["+n+"]"}).join(",")}function e(n,t){if(n=f(n),!n)return!1;for(var u=r(t),i=0;i<u.length;i++)if(n.hasAttribute(u[i]))return!0;return!1}function o(n,t){n=f(n);n&&r(t).forEach(function(t){n.removeAttribute(t)})}function f(n){return n=n[0]||n,n.nodeType?n:void 0}var s=["data","x"];return n?i?u(n):r(n):{buildList:r,buildSelector:u,hasAttribute:e,removeAttribute:o}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.prefixer=n,t}])}])}(),function(){function r(r,f,e,o,s,h,c,l,a,v){function p(n){return n?g(n)||nt(n)?n:n+"px":"0"}function g(n){return String(n).indexOf("px")>-1}function nt(n){return String(n).indexOf("%")>-1}function w(n){return n[0]||n}var b=h.startSymbol(),k=h.endSymbol(),tt="{{"===b&&"}}"===k,d=function(n,i,r){var f=!1,u;return n&&n.length&&(u=a.getComputedStyle(n[0]),f=t.isDefined(u[i])&&(!r||u[i]==r)),f},y={dom:{},now:n.performance?t.bind(n.performance,n.performance.now):Date.now||function(){return(new Date).getTime()},bidi:function(n,i,u,f){var e=!("rtl"==r[0].dir||"rtl"==r[0].body.dir),o;if(0==arguments.length)return e?"ltr":"rtl";o=t.element(n);e&&t.isDefined(u)?o.css(i,p(u)):!e&&t.isDefined(f)&&o.css(i,p(f))},bidiProperty:function(n,i,u,f){var o=!("rtl"==r[0].dir||"rtl"==r[0].body.dir),e=t.element(n);o&&t.isDefined(i)?(e.css(i,p(f)),e.css(u,"")):!o&&t.isDefined(u)&&(e.css(u,p(f)),e.css(i,""))},clientRect:function(n,t,i){var f=w(n),r,u;return t=w(t||f.offsetParent||document.body),r=f.getBoundingClientRect(),u=i?t.getBoundingClientRect():{left:0,top:0,width:0,height:0},{left:r.left-u.left,top:r.top-u.top,width:r.width,height:r.height}},offsetRect:function(n,t){return y.clientRect(n,t,!0)},nodesToArray:function(n){n=n||[];for(var i=[],t=0;t<n.length;++t)i.push(n.item(t));return i},scrollTop:function(n){n=t.element(n||r[0].body);var u=n[0]==r[0].body?r[0].body:i,f=u?u.scrollTop+u.parentElement.scrollTop:0;return f||Math.abs(n[0].getBoundingClientRect().top)},findFocusTarget:function(n,i){function u(n,i){var u,r=n[0].querySelectorAll(i);return r&&r.length&&r.length&&t.forEach(r,function(n){n=t.element(n);var i=n.hasClass("md-autofocus");i&&(u=n)}),u}var r,f=this.prefixer("md-autofocus",!0);return r=u(n,i||f),r||i==f||(r=u(n,this.prefixer("md-auto-focus",!0)),r||(r=u(n,f))),r},disableScrollAround:function(n,i,u){function o(n){function r(n){n.preventDefault()}n=t.element(n||f);var i;return u&&u.disableScrollMask?i=n:(n=n[0],i=t.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"><\/div><\/div>'),n.appendChild(i[0])),i.on("wheel",r),i.on("touchmove",r),function(){i.off("wheel");i.off("touchmove");i[0].parentNode.removeChild(i[0]);delete y.disableScrollAround._enableScrolling}}function s(){var n=f.parentNode,i=n.style.cssText||"",r=f.style.cssText||"",t=y.scrollTop(f),u=f.clientWidth;return f.scrollHeight>f.clientHeight+1&&(e(f,{position:"fixed",width:"100%",top:-t+"px"}),n.style.overflowY="scroll"),f.clientWidth<u&&e(f,{overflow:"hidden"}),function(){f.style.cssText=r;n.style.cssText=i;f.scrollTop=t;n.scrollTop=t}}function e(n,t){for(var i in t)n.style[i]=t[i]}if(y.disableScrollAround._count=y.disableScrollAround._count||0,++y.disableScrollAround._count,y.disableScrollAround._enableScrolling)return y.disableScrollAround._enableScrolling;var f=r[0].body,h=s(),c=o(i);return y.disableScrollAround._enableScrolling=function(){--y.disableScrollAround._count||(h(),c(),delete y.disableScrollAround._enableScrolling)}},enableScrolling:function(){var n=this.disableScrollAround._enableScrolling;n&&n()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===i){var n=t.element("<div><div><\/div><\/div>").css({width:"100%","z-index":-1,position:"absolute",height:"35px","overflow-y":"scroll"});n.children().css("height","60px");r[0].body.appendChild(n[0]);this.floatingScrollbars.cached=n[0].offsetWidth==n[0].childNodes[0].offsetWidth;n.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var r=t[0]||t,i;document.addEventListener("click",function u(n){n.target===r&&n.$focus&&(r.focus(),n.stopImmediatePropagation(),n.preventDefault(),r.removeEventListener("click",u))},!0);i=document.createEvent("MouseEvents");i.initMouseEvent("click",!1,!0,n,{},0,0,0,0,!1,!1,!1,!1,0,null);i.$material=!0;i.$focus=!0;r.dispatchEvent(i)},createBackdrop:function(n,t){return e(y.supplant('<md-backdrop class="{0}">',[t]))(n)},supplant:function(n,t,i){return i=i||/\{([^\{\}]*)\}/g,n.replace(i,function(n,i){var u=i.split("."),r=t,f;try{for(f in u)u.hasOwnProperty(f)&&(r=r[u[f]])}catch(e){r=n}return"string"==typeof r||"number"==typeof r?r:n})},fakeNgModel:function(){return{$fake:!0,$setTouched:t.noop,$setViewValue:function(n){this.$viewValue=n;this.$render(n);this.$viewChangeListeners.forEach(function(n){n()})},$isEmpty:function(n){return 0===(""+n).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(n,t,r,u){var e;return function(){var o=r,s=Array.prototype.slice.call(arguments);f.cancel(e);e=f(function(){e=i;n.apply(o,s)},t||10,u)}},throttle:function(n,t){var i;return function(){var u=this,f=arguments,r=y.now();(!i||r-i>t)&&(n.apply(u,f),i=r)}},time:function(n){var t=y.now();return n(),y.now()-t},valueOnUse:function(n,t,i){var r=null,u=Array.prototype.slice.call(arguments),f=u.length>3?u.slice(3):[];Object.defineProperty(n,t,{get:function(){return null===r&&(r=i.apply(n,f)),r}})},nextUid:function(){return""+u++},disconnectScope:function(n){if(n&&n.$root!==n&&!n.$$destroyed){var t=n.$parent;n.$$disconnected=!0;t.$$childHead===n&&(t.$$childHead=n.$$nextSibling);t.$$childTail===n&&(t.$$childTail=n.$$prevSibling);n.$$prevSibling&&(n.$$prevSibling.$$nextSibling=n.$$nextSibling);n.$$nextSibling&&(n.$$nextSibling.$$prevSibling=n.$$prevSibling);n.$$nextSibling=n.$$prevSibling=null}},reconnectScope:function(n){if(n&&n.$root!==n&&n.$$disconnected){var t=n,i=t.$parent;t.$$disconnected=!1;t.$$prevSibling=i.$$childTail;i.$$childHead?(i.$$childTail.$$nextSibling=t,i.$$childTail=t):i.$$childHead=i.$$childTail=t}},getClosest:function(n,i,r){if(t.isString(i)){var u=i.toUpperCase();i=function(n){return n.nodeName===u}}if(n instanceof t.element&&(n=n[0]),r&&(n=n.parentNode),!n)return null;do if(i(n))return n;while(n=n.parentNode);return null},elementContains:function(i,r){var u=n.Node&&n.Node.prototype&&Node.prototype.contains,f=u?t.bind(i,i.contains):t.bind(i,function(n){return i===r||!!(16&this.compareDocumentPosition(n))});return f(r)},extractElementByName:function(n,i,r,u){function f(n){return o(n)||(r?s(n):null)}function o(n){if(n)for(var t=0,r=n.length;r>t;t++)if(n[t].nodeName.toLowerCase()===i)return n[t];return null}function s(n){var t,i,e,u,r,o;if(n)for(i=0,e=n.length;e>i;i++)if(u=n[i],!t)for(r=0,o=u.childNodes.length;o>r;r++)t=t||f([u.childNodes[r]]);return t}var e=f(n);return!e&&u&&c.warn(y.supplant("Unable to find node '{0}' in element '{1}'.",[i,n[0].outerHTML])),t.element(e||n)},initOptionalProperties:function(n,i,r){r=r||{};t.forEach(n.$$isolateBindings,function(u,f){if(u.optional&&t.isUndefined(n[f])){var e=t.isDefined(i[u.attrName]);n[f]=t.isDefined(r[f])?r[f]:e}})},nextTick:function(n,t,i){function e(){var n=r.queue,t=r.digest;r.queue=[];r.timeout=null;r.digest=!1;n.forEach(function(n){var t=n.scope&&n.scope.$$destroyed;t||n.callback()});t&&o.$digest()}var r=y.nextTick,s=r.timeout,u=r.queue||[];return u.push({scope:i,callback:n}),null==t&&(t=!0),r.digest=r.digest||t,r.queue=u,s||(r.timeout=f(e,0,!1))},processTemplate:function(n){return tt?n:n&&t.isString(n)?n.replace(/\{\{/g,b).replace(/}}/g,k):n},getParentWithPointerEvents:function(n){for(var t=n.parent();d(t,"pointer-events","none");)t=t.parent();return t},getNearestContentElement:function(n){for(var t=n.parent()[0];t&&t!==l[0]&&t!==document.body&&"MD-CONTENT"!==t.nodeName.toUpperCase();)t=t.parentNode;return t},checkStickySupport:function(){var f,u=t.element("<div>"),i,n;for(r[0].body.appendChild(u[0]),i=["sticky","-webkit-sticky"],n=0;n<i.length;++n)if(u.css({position:i[n],top:0,"z-index":2}),u.css("position")==i[n]){f=i[n];break}return u.remove(),f},parseAttributeBoolean:function(n,t){return""===n||!!n&&(t===!1||"false"!==n&&"0"!==n)},hasComputedStyle:d,isParentFormSubmitted:function(n){var i=y.getClosest(n,"form"),r=i?t.element(i).controller("form"):null;return!!r&&r.$submitted},animateScrollTo:function(n,t){function r(){var i=u();n.scrollTop=i;(o?t>i:i>t)&&v(r)}function u(){var n=y.now()-s;return f(n,i,e,1e3)}function f(n,t,i,r){if(n>r)return t+i;var u=(n/=r)*n,f=u*n;return t+i*(-2*f+3*u)}var i=n.scrollTop,e=t-i,o=t>i,s=y.now();v(r)}};return y.dom.animator=s(y),y}r.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window","$$rAF"];var u=0;t.module("material.core").factory("$mdUtil",r);t.element.prototype.focus=t.element.prototype.focus||function(){return this.length&&this[0].focus(),this};t.element.prototype.blur=t.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function i(){function i(){t.showWarnings=!1}var t=this;return t.showWarnings=!0,{disableWarnings:i,$get:["$$rAF","$log","$window","$interpolate",function(){return n.apply(t,arguments)}]}}function n(n,i,r,u){function f(n,r,u){var f=t.element(n)[0]||n;!f||f.hasAttribute(r)&&0!==f.getAttribute(r).length||c(f,r)||(u=t.isString(u)?u.trim():"",u.length?n.attr(r,u):l&&i.warn('ARIA: Attribute "',r,'", required for accessibility, is missing on node:',f))}function o(t,i,r){n(function(){f(t,i,r())})}function s(n,t){var i=e(n)||"",r=i.indexOf(u.startSymbol())>-1;r?o(n,t,function(){return e(n)}):f(n,t,i)}function h(n,t){var i=e(n),r=i.indexOf(u.startSymbol())>-1;r||i||f(n,t,i)}function e(n){function r(t){for(;t.parentNode&&(t=t.parentNode)!==n;)if(t.getAttribute&&"true"===t.getAttribute("aria-hidden"))return!0}n=n[0]||n;for(var t,u=document.createTreeWalker(n,NodeFilter.SHOW_TEXT,null,!1),i="";t=u.nextNode();)r(t)||(i+=t.textContent);return i.trim()||""}function c(n,t){function o(n){var t=n.currentStyle?n.currentStyle:r.getComputedStyle(n);return"none"===t.display}var s=n.hasChildNodes(),e=!1,f,i,u;if(s)for(f=n.childNodes,i=0;i<f.length;i++)u=f[i],1===u.nodeType&&u.hasAttribute(t)&&(o(u)||(e=!0));return e}var l=this.showWarnings;return{expect:f,expectAsync:o,expectWithText:s,expectWithoutText:h}}n.$inject=["$$rAF","$log","$window","$interpolate"];t.module("material.core").provider("$mdAria",i)}(),function(){function n(n,i,r,u,f){this.compile=function(e){var s=e.templateUrl,c=e.template||"",h=e.controller,l=e.controllerAs,o=t.extend({},e.resolve||{}),a=t.extend({},e.locals||{}),v=e.transformTemplate||t.identity,y=e.bindToController;return t.forEach(o,function(n,i){o[i]=t.isString(n)?r.get(n):r.invoke(n)}),t.extend(o,a),o.$template=s?i(s).then(function(n){return n}):n.when(c),n.all(o).then(function(n){var r,o=v(n.$template,e),i=e.element||t.element("<div>").html(o.trim()).contents(),s=u(i);return r={locals:n,element:i,link:function(u){var o,e;return(n.$scope=u,h)&&(o=f(h,n,!0,l),y&&t.extend(o.instance,n),e=o(),i.data("$ngControllerController",e),i.children().data("$ngControllerController",e),r.controller=e),s(u)}}})}}n.$inject=["$q","$templateRequest","$injector","$compile","$controller"];t.module("material.core").service("$mdCompiler",n)}(),function(){function s(){}function h(i,r,f){function c(n){return function(t,i){i.distance<this.state.options.maxDistance&&this.dispatchEvent(t,n,i)}}function w(n,t,i){var r=e[t.replace(/^\$md./,"")];if(!r)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(e).join(", "));return r.registerElement(n,i)}function b(n,r){var u=new i(n);return t.extend(u,r),e[n]=u,o}function k(){for(var i,r,f=document.createElement("div"),u=["","webkit","Moz","MS","ms","o"],n=0;n<u.length;n++)if(i=u[n],r=i?i+"TouchAction":"touchAction",t.isDefined(f.style[r]))return r}var l=navigator.userAgent||navigator.vendor||n.opera,v=l.match(/ipad|iphone|ipod/i),y=l.match(/android/i),s=k(),d="undefined"!=typeof n.jQuery&&t.element===n.jQuery,o={handler:b,register:w,isIos:v,isAndroid:y,isHijackingClicks:(v||y)&&!d&&!p},h;return o.isHijackingClicks&&(h=6,o.handler("click",{options:{maxDistance:h},onEnd:c("click")}),o.handler("focus",{options:{maxDistance:h},onEnd:function(n,t){function i(n){return"-1"!=n.getAttribute("tabindex")&&!n.hasAttribute("DISABLED")&&(n.hasAttribute("tabindex")||n.hasAttribute("href")||n.isContentEditable||-1!=["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"].indexOf(n.nodeName))}t.distance<this.state.options.maxDistance&&i(n.target)&&(this.dispatchEvent(n,"focus",t),n.target.focus())}}),o.handler("mouseup",{options:{maxDistance:h},onEnd:c("mouseup")}),o.handler("mousedown",{onStart:function(n){this.dispatchEvent(n,"mousedown")}})),o.handler("press",{onStart:function(n){this.dispatchEvent(n,"$md.pressdown")},onEnd:function(n){this.dispatchEvent(n,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){f.cancel(this.state.timeout)},onStart:function(n,i){return this.state.registeredParent?(this.state.pos={x:i.x,y:i.y},void(this.state.timeout=f(t.bind(this,function(){this.dispatchEvent(n,"$md.hold");this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(n,t){s||"touchmove"!==n.type||n.preventDefault();var i=this.state.pos.x-t.x,r=this.state.pos.y-t.y;Math.sqrt(i*i+r*r)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onSetup:function(n,t){s&&(this.oldTouchAction=n[0].style[s],n[0].style[s]=t.horizontal===!1?"pan-y":"pan-x")},onCleanup:function(n){this.oldTouchAction&&(n[0].style[s]=this.oldTouchAction)},onStart:function(){this.state.registeredParent||this.cancel()},onMove:function(n,t){var i,r;s||"touchmove"!==n.type||n.preventDefault();this.state.dragPointer?this.dispatchDragMove(n):(this.state.options.horizontal?(i=Math.abs(t.distanceX)>this.state.options.minDistance,r=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(i=Math.abs(t.distanceY)>this.state.options.minDistance,r=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),i?(this.state.dragPointer=a(n),u(n,this.state.dragPointer),this.dispatchEvent(n,"$md.dragstart",this.state.dragPointer)):r&&this.cancel())},dispatchDragMove:r.throttle(function(n){this.state.isRunning&&(u(n,this.state.dragPointer),this.dispatchEvent(n,"$md.drag",this.state.dragPointer))}),onEnd:function(n){this.state.dragPointer&&(u(n,this.state.dragPointer),this.dispatchEvent(n,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(n,t){var i;Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance?(i="left"==t.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(n,i)):Math.abs(t.velocityY)>this.state.options.minVelocity&&Math.abs(t.distanceY)>this.state.options.minDistance&&(i="up"==t.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(n,i))}})}function c(n){this.name=n;this.state={}}function b(){function r(n,r,u){u=u||i;var f=new t.element.Event(r);f.$material=!0;f.pointer=u;f.srcEvent=n;t.extend(f,{clientX:u.x,clientY:u.y,screenX:u.x,screenY:u.y,pageX:u.x,pageY:u.y,ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey,metaKey:n.metaKey});t.element(u.target).trigger(f)}function u(t,r,u){u=u||i;var f;"click"===r||"mouseup"==r||"mousedown"==r?(f=document.createEvent("MouseEvents"),f.initMouseEvent(r,!0,!0,n,t.detail,u.x,u.y,u.x,u.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)):(f=document.createEvent("CustomEvent"),f.initCustomEvent(r,!0,!0,{}));f.$material=!0;f.pointer=u;f.srcEvent=t;u.target.dispatchEvent(f)}var f="undefined"!=typeof n.jQuery&&t.element===n.jQuery;return c.prototype={options:{},dispatchEvent:f?r:u,onSetup:t.noop,onCleanup:t.noop,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(n,i){if(!this.state.isRunning){var r=this.getNearestParent(n.target),u=r&&r.$mdGesture[this.name]||{};this.state={isRunning:!0,options:t.extend({},this.options,u),registeredParent:r};this.onStart(n,i)}},move:function(n,t){this.state.isRunning&&this.onMove(n,t)},end:function(n,t){this.state.isRunning&&(this.onEnd(n,t),this.state.isRunning=!1)},cancel:function(n,t){this.onCancel(n,t);this.state={}},getNearestParent:function(n){for(var t=n;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}return null},registerElement:function(n,t){function i(){delete n[0].$mdGesture[r.name];n.off("$destroy",i);r.onCleanup(n,t||{})}var r=this;return n[0].$mdGesture=n[0].$mdGesture||{},n[0].$mdGesture[this.name]=t||{},n.on("$destroy",i),r.onSetup(n,t||{}),i}},c}function l(n,s){function h(n){var t=!n.clientX&&!n.clientY;t||n.$material||n.isIonicTap||v(n)||(n.preventDefault(),n.stopPropagation())}function l(n){var t=0===n.clientX&&0===n.clientY;t||n.$material||n.isIonicTap||v(n)?(r=null,"label"==n.target.tagName.toLowerCase()&&(r={x:n.x,y:n.y})):(n.preventDefault(),n.stopPropagation(),r=null)}function c(n,t){var r;for(var u in e)r=e[u],r instanceof s&&("start"===n&&r.cancel(),r[n](t,i))}function y(n){if(!i){var t=+Date.now();f&&!o(n,f)&&t-f.endTime<1500||(i=a(n),c("start",n))}}function p(n){i&&o(n,i)&&(u(n,i),c("move",n))}function b(n){i&&o(n,i)&&(u(n,i),i.endTime=+Date.now(),c("end",n),f=i,i=null)}document.contains||(document.contains=function(n){return document.body.contains(n)});!w&&n.isHijackingClicks&&(document.addEventListener("click",l,!0),document.addEventListener("mouseup",h,!0),document.addEventListener("mousedown",h,!0),document.addEventListener("focus",h,!0),w=!0);t.element(document).on("mousedown touchstart pointerdown",y).on("mousemove touchmove pointermove",p).on("mouseup mouseleave touchend touchcancel pointerup pointercancel",b).on("$$mdGestureReset",function(){f=i=null})}function a(n){var i=y(n),t={startTime:+Date.now(),target:n.target,type:n.type.charAt(0)};return t.startX=t.x=i.pageX,t.startY=t.y=i.pageY,t}function o(n,t){return n&&t&&n.type.charAt(0)===t.type}function v(n){return r&&r.x==n.x&&r.y==n.y}function u(n,t){var i=y(n),r=t.x=i.pageX,u=t.y=i.pageY;t.distanceX=r-t.startX;t.distanceY=u-t.startY;t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY);t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"";t.directionY=t.distanceY>0?"down":t.distanceY<0?"up":"";t.duration=+Date.now()-t.startTime;t.velocityX=t.distanceX/t.duration;t.velocityY=t.distanceY/t.duration}function y(n){return n=n.originalEvent||n,n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0]||n}h.$inject=["$$MdGestureHandler","$$rAF","$timeout"];l.$inject=["$mdGesture","$$MdGestureHandler"];var i,f,e={},p=!1,r=null,w=!1;t.module("material.core.gestures",[]).provider("$mdGesture",s).factory("$$MdGestureHandler",b).run(l);s.prototype={skipClickHijack:function(){return p=!0},$get:["$$MdGestureHandler","$$rAF","$timeout",function(n,t,i){return new h(n,t,i)}]}}(),function(){function n(){function n(n){function o(n){return i.optionsFactory=n.options,i.methods=(n.methods||[]).concat(f),r}function s(n,t){return e[n]=t,r}function h(t,u){if(u=u||{},u.methods=u.methods||[],u.options=u.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+n+" is reserved!");if(u.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+n+" is reserved!");return i.presets[t]={methods:u.methods.concat(f),optionsFactory:u.options,argOption:u.argOption},r}function u(r,u){function l(n){return n=n||{},n._options&&(n=n._options),o.show(t.extend({},c,n))}function a(n){return o.destroy(n)}function s(t,i){var r={};return r[n]=f,u.invoke(t||function(){return i},{},r)}var h,c,o=r(),f={hide:o.hide,cancel:o.cancel,show:l,destroy:a};return h=i.methods||[],c=s(i.optionsFactory,{}),t.forEach(e,function(n,t){f[t]=n}),t.forEach(i.presets,function(n,i){function r(n){this._options=t.extend({},u,n)}var u=s(n.optionsFactory,{}),o=(n.methods||[]).concat(h),e;(t.extend(u,{$type:i}),t.forEach(o,function(n){r.prototype[n]=function(t){return this._options[n]=t,this}}),n.argOption)&&(e="show"+i.charAt(0).toUpperCase()+i.slice(1),f[e]=function(n){var t=f[i](n);return f.show(t)});f[i]=function(i){return arguments.length&&n.argOption&&!t.isObject(i)&&!t.isArray(i)?(new r)[n.argOption](i):new r(i)}}),f}u.$inject=["$$interimElement","$injector"];var f=["onHide","onShow","onRemove"],e={},i={presets:{}},r={setDefaults:o,addPreset:h,addMethod:s,$get:u};return r.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]}),r}function r(n,r,u,f,e,o,s,h,c,l,a){return function(){function w(n){n=n||{};var t=new g(n||{}),i=!n.skipHide&&v.length?y.cancel():r.when(!0);return i["finally"](function(){v.push(t);t.show()["catch"](function(n){return n})}),t.deferred.promise}function b(n,t){function u(i){return i.remove(n,!1,t||{})["catch"](function(n){return n}),i.deferred.promise}var f,e;return v.length?(t=t||{},t.closeAll)?(f=r.all(v.reverse().map(u)),v=[],f):t.closeTo!==i?r.all(v.splice(t.closeTo).map(u)):(e=v.pop(),u(e)):r.when(n)}function k(n,i){var u=v.pop();return u?(u.remove(n,!0,i||{})["catch"](function(n){return n}),u.deferred.promise["catch"](t.noop)):r.when(n)}function d(n){var i=n?null:v.shift(),f=t.element(n).length?t.element(n)[0].parentNode:null,u;return f&&(u=v.filter(function(n){var t=n.options.element[0];return t===f}),u.length>0&&(i=u[0],v.splice(v.indexOf(i),1))),i?i.remove(p,!1,{$destroy:!0}):r.when(p)}function g(a){function k(){return r(function(n,t){function i(n){v.deferred.reject(n);t(n)}a.onCompiling&&a.onCompiling(a);nt(a).then(function(t){p=tt(t,a);b=ut(p,a,t.controller).then(n,i)},i)})}function d(n,i,u){function e(n){v.deferred.resolve(n)}function f(n){v.deferred.reject(n)}return p?(a=t.extend(a||{},u||{}),a.cancelAutoHide&&a.cancelAutoHide(),a.element.triggerHandler("$mdInterimElementRemove"),a.$destroy===!0?w(a.element,a).then(function(){i&&f(n)||e(n)}):(r.when(b)["finally"](function(){w(a.element,a).then(function(){i&&f(n)||e(n)},f)}),v.deferred.promise)):r.when(!1)}function g(n){return n=n||{},n.template&&(n.template=h.processTemplate(n.template)),t.extend({preserveScope:!1,cancelAutoHide:t.noop,scope:n.scope||f.$new(n.isolateScope),onShow:function(n,t,i){return s.enter(t,i.parent)},onRemove:function(n,t){return t&&s.leave(t)||r.when()}},n)}function nt(n){var t=n.skipCompile?null:c.compile(n);return t||r(function(t){t({locals:{},link:function(){return n.element}})})}function tt(n,i){t.extend(n.locals,i);var r=n.link(i.scope);return i.element=r,i.parent=it(r,i),i.themable&&l(r),r}function it(i,r){var u=r.parent,f;return(u=t.isFunction(u)?u(r.scope,i,r):t.isString(u)?t.element(n[0].querySelector(u)):t.element(u),!(u||{}).length)?(o[0]&&o[0].querySelector&&(f=o[0].querySelector(":not(svg) > body")),f||(f=o[0]),"#comment"==f.nodeName&&(f=n[0].body),t.element(f)):u}function rt(){var n,r=t.noop;a.hideDelay&&(n=e(y.hide,a.hideDelay),r=function(){e.cancel(n)});a.cancelAutoHide=function(){r();a.cancelAutoHide=i}}function ut(n,i,u){var f=i.onShowing||t.noop,e=i.onComplete||t.noop;return f(i.scope,n,i,u),r(function(t,f){try{r.when(i.onShow(i.scope,n,i,u)).then(function(){e(i.scope,n,i);rt();t(n)},f)}catch(o){f(o.message)}})}function w(n,i){var r=i.onRemoving||t.noop;return u(function(t,f){try{var e=u.when(i.onRemove(i.scope,n,i)||!0);r(n,e);1==i.$destroy?t(n):e.then(function(){!i.preserveScope&&i.scope&&i.scope.$destroy();t(n)},f)}catch(o){f(o)}})}var v,p,b=r.when(!0);return a=g(a),v={options:a,deferred:r.defer(),show:k,remove:d}}var y,p=!1,v=[];return y={show:w,hide:b,cancel:k,destroy:d,$injector_:a}}}return r.$inject=["$document","$q","$$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector"],n.$get=r,n}t.module("material.core").provider("$$interimElement",n)}(),function(){!function(){function w(u){function e(n){return n.replace(o,"").replace(s,function(n,t,i,r){return r?i.toUpperCase():i})}var o=/^((?:x|data)[\:\-_])/i,s=/([\:\-\_]+(.))/g,h=["layout","flex","flex-order","flex-offset","layout-align"],l=["show","hide","layout-padding","layout-margin"];t.forEach(["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","print"],function(n){t.forEach(h,function(t){var i=n?t+"-"+n:t;u.directive(e(i),g(i))});t.forEach(l,function(t){var i=n?t+"-"+n:t;u.directive(e(i),r(i))})});u.provider("$$mdLayout",function(){return{$get:t.noop,validateAttributeValue:f,validateAttributeUsage:c,disableLayouts:function(n){i.enabled=n!==!0}}}).directive("mdLayoutCss",k).directive("ngCloak",d("ng-cloak")).directive("layoutWrap",r("layout-wrap")).directive("layoutNowrap",r("layout-nowrap")).directive("layoutNoWrap",r("layout-no-wrap")).directive("layoutFill",r("layout-fill")).directive("layoutLtMd",n("layout-lt-md",!0)).directive("layoutLtLg",n("layout-lt-lg",!0)).directive("flexLtMd",n("flex-lt-md",!0)).directive("flexLtLg",n("flex-lt-lg",!0)).directive("layoutAlignLtMd",n("layout-align-lt-md")).directive("layoutAlignLtLg",n("layout-align-lt-lg")).directive("flexOrderLtMd",n("flex-order-lt-md")).directive("flexOrderLtLg",n("flex-order-lt-lg")).directive("offsetLtMd",n("flex-offset-lt-md")).directive("offsetLtLg",n("flex-offset-lt-lg")).directive("hideLtMd",n("hide-lt-md")).directive("hideLtLg",n("hide-lt-lg")).directive("showLtMd",n("show-lt-md")).directive("showLtLg",n("show-lt-lg")).config(b)}function b(){var n=!!document.querySelector("[md-layouts-disabled]");i.enabled=!n}function k(){return i.enabled=!1,{restrict:"A",priority:"900"}}function d(n){return["$timeout",function(r){return{restrict:"A",priority:-10,compile:function(u){return i.enabled?(u.addClass(n),function(t,i){r(function(){i.removeClass(n)},10,!1)}):t.noop}}}]}function g(n){function r(t,i,r){var u=nt(i,n,r),f=r.$observe(r.$normalize(n),u);u(o(n,r,""));t.$on("$destroy",function(){f()})}return["$mdUtil","$interpolate","$log",function(u,a,v){return e=u,s=a,h=v,{restrict:"A",compile:function(u,e){var s;return i.enabled&&(c(n,e,u,h),f(n,o(n,e,""),l(u,n,e)),s=r),s||t.noop}}}]}function r(n){function r(t,i){i.addClass(n)}return["$mdUtil","$interpolate","$log",function(u,c,a){return e=u,s=c,h=a,{restrict:"A",compile:function(u,e){var s;return i.enabled&&(f(n,o(n,e,""),l(u,n,e)),r(null,u),s=r),s||t.noop}}}]}function nt(n,i){var r;return function(e){var o=f(i,e||"");t.isDefined(o)&&(r&&n.removeClass(r),r=o?i+"-"+o.replace(u,"-"):i,n.addClass(r))}}function n(n){var i=n.split("-");return["$log",function(r){return r.warn(n+"has been deprecated. Please use a `"+i[0]+"-gt-<xxx>` variant."),t.noop}]}function c(n,t,i,r){var f,o,s,u=i[0].nodeName.toLowerCase();switch(n.replace(y,"")){case"flex":"md-button"!=u&&"fieldset"!=u||(o="<"+u+" "+n+"><\/"+u+">",s="https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers",f="Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",r.warn(e.supplant(f,[o,s])))}}function f(n,i,r){var f=i,u;if(!a(i)){switch(n.replace(y,"")){case"layout":v(i,p)||(i=p[0]);break;case"flex":v(i,it)||isNaN(i)&&(i="");break;case"flex-offset":case"flex-order":i&&!isNaN(+i)||(i="0");break;case"layout-align":u=tt(i);i=e.supplant("{main}-{cross}",u);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-nowrap":case"layout-nowrap":i=""}i!=f&&(r||t.noop)(i)}return i}function l(n,t,i){return function(n){a(n)||(i[i.$normalize(t)]=n)}}function a(n){return(n||"").indexOf(s.startSymbol())>-1}function o(n,t,i){var r=t.$normalize(n);return t[r]?t[r].replace(u,"-"):i||null}function v(n,t,i){n=i&&n?n.replace(u,i):n;var r=!1;return n&&t.forEach(function(t){t=i?t.replace(u,i):t;r=r||t===n}),r}function tt(n){var t,i={main:"start",cross:"stretch"};return n=n||"",0!==n.indexOf("-")&&0!==n.indexOf(" ")||(n="none"+n),t=n.toLowerCase().trim().replace(u,"-").split("-"),t.length&&"space"===t[0]&&(t=[t[0]+"-"+t[1],t[2]]),t.length>0&&(i.main=t[0]||i.main),t.length>1&&(i.cross=t[1]||i.cross),rt.indexOf(i.main)<0&&(i.main="start"),ut.indexOf(i.cross)<0&&(i.cross="stretch"),i}var e,s,h,y=/(-gt)?-(sm|md|lg|print)/g,u=/\s+/g,it=["grow","initial","auto","none","noshrink","nogrow"],p=["row","column"],rt=["","start","center","end","stretch","space-around","space-between"],ut=["","start","center","end","stretch"],i={enabled:!0,breakpoints:[]};w(t.module("material.core.layout",["ng"]))}()}(),function(){t.module("material.core.meta",[]).provider("$$mdMeta",function(){function i(i){if(n[i])return!0;var r=document.getElementsByName(i)[0];return!!r&&(n[i]=t.element(r),!0)}function u(r,u){if(i(r),n[r])n[r].attr("content",u);else{var f=t.element('<meta name="'+r+'" content="'+u+'"/>');e.append(f);n[r]=f}return function(){n[r].attr("content","");n[r].remove();delete n[r]}}function f(t){if(!i(t))throw Error("$$mdMeta: could not find a meta tag with the name '"+t+"'");return n[t].attr("content")}var e=t.element(document.head),n={},r={setMeta:u,getMeta:f};return t.extend({},r,{$get:function(){return r}})})}(),function(){function n(n,r){function e(n){return n&&""!==n}var o,u=[],f={};return o={notFoundError:function(t,i){n.error((i||"")+"No instance found for handle",t)},getInstances:function(){return u},get:function(n){if(!e(n))return null;for(var i,t=0,r=u.length;r>t;t++)if(i=u[t],i.$$mdHandle===n)return i;return null},register:function(n,i){function r(){var t=u.indexOf(n);-1!==t&&u.splice(t,1)}function e(){var t=f[i];t&&(t.forEach(function(t){t.resolve(n)}),delete f[i])}return i?(n.$$mdHandle=i,u.push(n),e(),r):t.noop},when:function(n){if(e(n)){var t=r.defer(),u=o.get(n);return u?t.resolve(u):(f[n]===i&&(f[n]=[]),f[n].push(t)),t.promise}return r.reject("Invalid `md-component-id` value.")}}}n.$inject=["$log","$q"];t.module("material.core").factory("$mdComponentRegistry",n)}(),function(){!function(){function n(n){function i(n){return n.hasClass("md-icon-button")?{isMenuItem:n.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:n.hasClass("md-menu-item"),dimBackground:!0}}return{attach:function(r,u,f){return f=t.extend(i(u),f),n.attach(r,u,f)}}}n.$inject=["$mdInkRipple"];t.module("material.core").factory("$mdButtonInkRipple",n)}()}(),function(){!function(){function n(n){function i(i,r,u){return n.attach(i,r,t.extend({center:!0,dimBackground:!1,fitRipple:!0},u))}return{attach:i}}n.$inject=["$mdInkRipple"];t.module("material.core").factory("$mdCheckboxInkRipple",n)}()}(),function(){!function(){function n(n){function i(i,r,u){return n.attach(i,r,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},u))}return{attach:i}}n.$inject=["$mdInkRipple"];t.module("material.core").factory("$mdListInkRipple",n)}()}(),function(){function u(n,i){return{controller:t.noop,link:function(t,r,u){u.hasOwnProperty("mdInkRippleCheckbox")?i.attach(t,r):n.attach(t,r)}}}function e(){function r(){i=!0}var i=!1;return{disableInkRipple:r,$get:["$injector",function(r){function u(u,f,e){return i||f.controller("mdNoInk")?t.noop:r.instantiate(n,{$scope:u,$element:f,rippleOptions:e})}return{attach:u}}]}}function n(n,i,r,u,f,e,o){this.$window=u;this.$timeout=f;this.$mdUtil=e;this.$mdColorUtil=o;this.$scope=n;this.$element=i;this.options=r;this.mousedown=!1;this.ripples=[];this.timeout=null;this.lastRipple=null;e.valueOnUse(this,"container",this.createContainer);this.$element.addClass("md-ink-ripple");(i.controller("mdInkRipple")||{}).createRipple=t.bind(this,this.createRipple);(i.controller("mdInkRipple")||{}).setColor=t.bind(this,this.color);this.bindEvents()}function f(n,i){(n.mousedown||n.lastRipple)&&(n.mousedown=!1,n.$mdUtil.nextTick(t.bind(n,i),!1))}function i(){return{controller:t.noop}}n.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil","$mdColorUtil"];u.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"];t.module("material.core").provider("$mdInkRipple",e).directive("mdInkRipple",u).directive("mdNoInk",i).directive("mdNoBar",i).directive("mdNoStretch",i);var r=450;n.prototype.color=function(n){function r(){var n=i.options&&i.options.colorElement?i.options.colorElement:[],t=n.length?n[0]:i.$element[0];return t?i.$window.getComputedStyle(t).color:"rgb(0,0,0)"}var i=this;return t.isDefined(n)&&(i._color=i._parseColor(n)),i._color||i._parseColor(i.inkRipple())||i._parseColor(r())};n.prototype.calculateColor=function(){return this.color()};n.prototype._parseColor=function(n,t){t=t||1;var i=this.$mdColorUtil;if(n)return 0===n.indexOf("rgba")?n.replace(/\d?\.?\d*\s*\)\s*$/,(.1*t).toString()+")"):0===n.indexOf("rgb")?i.rgbToRgba(n):0===n.indexOf("#")?i.hexToRgba(n):void 0};n.prototype.bindEvents=function(){this.$element.on("mousedown",t.bind(this,this.handleMousedown));this.$element.on("mouseup touchend",t.bind(this,this.handleMouseup));this.$element.on("mouseleave",t.bind(this,this.handleMouseup));this.$element.on("touchmove",t.bind(this,this.handleTouchmove))};n.prototype.handleMousedown=function(n){if(!this.mousedown)if(n.hasOwnProperty("originalEvent")&&(n=n.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(n.srcElement!==this.$element[0]){var t=this.$element[0].getBoundingClientRect(),i=n.clientX-t.left,r=n.clientY-t.top;this.createRipple(i,r)}else this.createRipple(n.offsetX,n.offsetY)};n.prototype.handleMouseup=function(){f(this,this.clearRipples)};n.prototype.handleTouchmove=function(){f(this,this.deleteRipples)};n.prototype.deleteRipples=function(){for(var n=0;n<this.ripples.length;n++)this.ripples[n].remove()};n.prototype.clearRipples=function(){for(var n=0;n<this.ripples.length;n++)this.fadeInComplete(this.ripples[n])};n.prototype.createContainer=function(){var n=t.element('<div class="md-ripple-container"><\/div>');return this.$element.append(n),n};n.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)};n.prototype.isRippleAllowed=function(){var n=this.$element[0];do{if(!n.tagName||"BODY"===n.tagName)break;if(n&&t.isFunction(n.hasAttribute)&&(n.hasAttribute("disabled")||"false"===this.inkRipple()||"0"===this.inkRipple()))return!1}while(n=n.parentNode);return!0};n.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")};n.prototype.createRipple=function(n,i){function h(n,t,i){return n?Math.max(t,i):Math.sqrt(Math.pow(t,2)+Math.pow(i,2))}if(this.isRippleAllowed()){var f=this,o=f.$mdColorUtil,u=t.element('<div class="md-ripple"><\/div>'),c=this.$element.prop("clientWidth"),l=this.$element.prop("clientHeight"),a=2*Math.max(Math.abs(c-n),n),v=2*Math.max(Math.abs(l-i),i),s=h(this.options.fitRipple,a,v),e=this.calculateColor();u.css({left:n+"px",top:i+"px",background:"black",width:s+"px",height:s+"px",backgroundColor:o.rgbaToRgb(e),borderColor:o.rgbaToRgb(e)});this.lastRipple=u;this.clearTimeout();this.timeout=this.$timeout(function(){f.clearTimeout();f.mousedown||f.fadeInComplete(u)},.35*r,!1);this.options.dimBackground&&this.container.css({backgroundColor:e});this.container.append(u);this.ripples.push(u);u.addClass("md-ripple-placed");this.$mdUtil.nextTick(function(){u.addClass("md-ripple-scaled md-ripple-active");f.$timeout(function(){f.clearRipples()},r,!1)},!1)}};n.prototype.fadeInComplete=function(n){this.lastRipple===n?this.timeout||this.mousedown||this.removeRipple(n):this.removeRipple(n)};n.prototype.removeRipple=function(n){var t=this,i=this.ripples.indexOf(n);0>i||(this.ripples.splice(this.ripples.indexOf(n),1),n.removeClass("md-ripple-active"),n.addClass("md-ripple-remove"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){t.fadeOutComplete(n)},r,!1))};n.prototype.fadeOutComplete=function(n){n.remove();this.lastRipple=null}}(),function(){!function(){function n(n){function i(i,r,u){return n.attach(i,r,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},u))}return{attach:i}}n.$inject=["$mdInkRipple"];t.module("material.core").factory("$mdTabInkRipple",n)}()}(),function(){t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200",contrastStrongLightColors:"400 500 700"}})}(),function(){!function(n){function a(n){var t=!!document.querySelector("[md-themes-disabled]");n.disableTheming(t)}function v(o,s){function nt(n,i){return i=i||{},t[n]=p(n,i),d}function tt(i,r){return p(i,n.extend({},t[i]||{},r))}function p(n,t){var i=l.filter(function(n){return!t[n]});if(i.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",i.join(", ")).replace("%2",n));return t}function it(t,i){if(c[t])return c[t];i=i||"default";var u="string"==typeof i?c[i]:i,r=new ot(t);return u&&n.forEach(u.colors,function(t,i){r.colors[i]={name:t.name,hues:n.extend({},t.hues)}}),c[t]=r,r}function ot(t){function r(t){if(t=0===arguments.length||!!t,t!==i.isDark){i.isDark=t;i.foregroundPalette=i.isDark?ut:rt;i.foregroundShadow=i.isDark?ft:et;var r=i.isDark?e:f,u=i.isDark?f:e;return n.forEach(r,function(n,t){var f=i.colors[t],e=u[t],r;if(f)for(r in f.hues)f.hues[r]===e[r]&&(f.hues[r]=n[r])}),i}}var i=this;i.name=t;i.colors={};i.dark=r;r(!1);u.forEach(function(t){var r=(i.isDark?e:f)[t];i[t+"Palette"]=function(u,f){var e=i.colors[t]={name:u,hues:n.extend({},r,f)};return Object.keys(e.hues).forEach(function(n){if(!r[n])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",n).replace("%2",i.name).replace("%3",u).replace("%4",Object.keys(r).join(", ")));}),Object.keys(e.hues).map(function(n){return e.hues[n]}).forEach(function(n){if(-1==l.indexOf(n))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",n).replace("%2",i.name).replace("%3",t).replace("%4",u).replace("%5",l.join(", ")));}),i};i[t+"Color"]=function(){var n=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+t+"Color() has been deprecated. Use $mdThemingProviderTheme."+t+"Palette() instead."),i[t+"Palette"].apply(i,n)}})}function b(u,f){function o(n){return n===i||""===n||e.THEMES[n]!==i}function s(t,i){function e(){return r=i.controller("mdTheme")||t.data("$mdThemeController"),r&&r.$mdTheme||("default"==v?"":v)}function s(n){if(n){o(n)||f.warn("Attempted to use unregistered theme '"+n+"'. Register it with $mdThemingProvider.theme().");var i=t.data("$mdThemeName");i&&t.removeClass("md-"+i+"-theme");t.addClass("md-"+n+"-theme");t.data("$mdThemeName",n);r&&t.data("$mdThemeController",r)}}function c(){var n=i.controller("mdTheme");return!!n&&(t.on("$destroy",n.registerChanges(function(){s(e())})),!0)}var r=i.controller("mdTheme"),h=t.attr("md-theme-watch"),l=(a||n.isDefined(h))&&"false"!=h;s(e());(a&&!c()||!a&&l)&&t.on("$destroy",u.$watch(e,s))}var e=function(n,t){t===i&&(t=n,n=i);n===i&&(n=u);e.inherit(t,t)};return e.THEMES=n.extend({},c),e.PALETTES=n.extend({},t),e.inherit=s,e.registered=o,e.defaultTheme=function(){return v},e.generateTheme=function(n){k(c[n],n,r.nonce)},e.setBrowserColor=y,e}var g,y;b.$inject=["$rootScope","$log"];t={};var d,c={},a=!1,v="default";return n.extend(t,o),g=function(n){var t=s.setMeta("theme-color",n),i=s.setMeta("msapplication-navbutton-color",n);return function(){t();i()}},y=function(i){i=n.isObject(i)?i:{};var f=i.theme||"default",r=i.hue||"800",u=t[i.palette]||t[c[f].colors[i.palette||"primary"].name],e=n.isObject(u[r])?u[r].hex:u[r];return g(e)},d={definePalette:nt,extendPalette:tt,theme:it,configuration:function(){return n.extend({},r,{defaultTheme:v,alwaysWatchTheme:a,registeredStyles:[].concat(r.registeredStyles)})},disableTheming:function(t){r.disableTheming=n.isUndefined(t)||!!t},registerStyles:function(n){r.registeredStyles.push(n)},setNonce:function(n){r.nonce=n},generateThemesOnDemand:function(n){r.generateOnDemand=n},setDefaultTheme:function(n){v=n},alwaysWatchTheme:function(n){a=n},enableBrowserColor:y,$get:b,_LIGHT_DEFAULT_HUES:f,_DARK_DEFAULT_HUES:e,_PALETTES:t,_THEMES:c,_parseRules:w,_rgba:h}}function y(t,i,r){return{priority:100,link:{pre:function(u,f,e){var o=[],s={registerChanges:function(t,i){return i&&(t=n.bind(i,t)),o.push(t),function(){var n=o.indexOf(t);n>-1&&o.splice(n,1)}},$setTheme:function(n){t.registered(n)||r.warn("attempted to use unregistered theme '"+n+"'");s.$mdTheme=n;o.forEach(function(n){n()})}};f.data("$mdThemeController",s);s.$setTheme(i(e.mdTheme)(u));e.$observe("mdTheme",s.$setTheme)}}}}function tt(){return r.disableTheming=!0,{restrict:"A",priority:"900"}}function p(n){return n}function w(i,r,u){it(i,r);u=u.replace(/THEME_NAME/g,i.name);var f=[],e=i.colors[r],o=new RegExp("\\.md-"+i.name+"-theme","g"),s=new RegExp("('|\")?{{\\s*("+r+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),c=t[e.name];return u=u.replace(/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow|default)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,function(n,r,u,f,e){return"foreground"===r?"shadow"==u?i.foregroundShadow:i.foregroundPalette[u]||i.foregroundPalette[1]:(0!==u.indexOf("hue")&&"default"!==u||(u=i.colors[r].hues[u]),h((t[i.colors[r].name][u]||"")[e?"contrast":"value"],f))}),n.forEach(e.hues,function(n,t){var r=u.replace(s,function(t,i,r,u,f){return h(c[n]["color"===u?"value":"contrast"],f)}),e;("default"!==t&&(r=r.replace(o,".md-"+i.name+"-theme.md-"+t)),"default"==i.name)&&(e=/((?:(?:(?: |>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)+) )?)((?:(?:\w|\.|-)+)?)\.md-default-theme((?: |>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g,r=r.replace(e,function(n,t,i,r){return n+", "+t+i+r}));f.push(r)}),f}function b(i,f){function v(t){var f=t.contrastDefaultColor,r=t.contrastLightColors||[],i=t.contrastStrongLightColors||[],u=t.contrastDarkColors||[];"string"==typeof r&&(r=r.split(" "));"string"==typeof i&&(i=i.split(" "));"string"==typeof u&&(u=u.split(" "));delete t.contrastDefaultColor;delete t.contrastLightColors;delete t.contrastStrongLightColors;delete t.contrastDarkColors;n.forEach(t,function(e,o){function c(){return"light"===f?u.indexOf(o)>-1?d:i.indexOf(o)>-1?nt:g:r.indexOf(o)>-1?i.indexOf(o)>-1?nt:g:d}if(!n.isObject(e)){var h=s(e);if(!h)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",e).replace("%2",t.name).replace("%3",o));t[o]={hex:t[o],value:h,contrast:c()}}})}var h=document.head,y=h?h.firstElementChild:null,e=!r.disableTheming&&i.has("$MD_THEME_CSS")?i.get("$MD_THEME_CSS"):"",l,a;(e+=r.registeredStyles.join(""),y&&0!==e.length)&&(n.forEach(t,v),l=e.split(/\}(?!(\}|'|"|;))/).filter(function(n){return n&&n.trim().length}).map(function(n){return n.trim()+"}"}),a=new RegExp("md-("+u.join("|")+")","g"),u.forEach(function(n){o[n]=""}),l.forEach(function(n){for(var t,i=(n.match(a),0);t=u[i];i++)if(n.indexOf(".md-"+t)>-1)return o[t]+=n;for(i=0;t=u[i];i++)if(n.indexOf(t)>-1)return o[t]+=n;return o[ot]+=n}),r.generateOnDemand||n.forEach(f.THEMES,function(n){c[n.name]||"default"!==f.defaultTheme()&&"default"===n.name||k(n,n.name,r.nonce)}))}function k(n,t,i){var r=document.head,f=r?r.firstElementChild:null;c[t]||(u.forEach(function(t){for(var s,u,e=w(n,t,o[t]);e.length;)s=e.shift(),s&&(u=document.createElement("style"),u.setAttribute("md-theme-style",""),i&&u.setAttribute("nonce",i),u.appendChild(document.createTextNode(s)),r.insertBefore(u,f))}),c[n.name]=!0)}function it(n,i){if(!t[(n.colors[i]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",n.name).replace("%2",i).replace("%3",Object.keys(t).join(", ")));}function s(t){if(n.isArray(t)&&3==t.length)return t;if(/^rgb/.test(t))return t.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(n,t){return 3==t?parseFloat(n,10):parseInt(n,10)});if("#"==t.charAt(0)&&(t=t.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(t)){var i=t.length/3,r=t.substr(0,i),u=t.substr(i,i),f=t.substr(2*i);return 1===i&&(r+=r,u+=u,f+=f),[parseInt(r,16),parseInt(u,16),parseInt(f,16)]}}function h(t,i){return t?(4==t.length&&(t=n.copy(t),i?t.pop():i=t.pop()),i&&("number"==typeof i||"string"==typeof i&&i.length)?"rgba("+t.join(",")+","+i+")":"rgb("+t.join(",")+")"):"rgb('0,0,0')"}a.$inject=["$mdThemingProvider"];y.$inject=["$mdTheming","$interpolate","$log"];p.$inject=["$mdTheming"];v.$inject=["$mdColorPalette","$$mdMetaProvider"];b.$inject=["$injector","$mdTheming"];n.module("material.core.theming",["material.core.theming.palette","material.core.meta"]).directive("mdTheme",y).directive("mdThemable",p).directive("mdThemesDisabled",tt).provider("$mdTheming",v).config(a).run(b);var t,c={},rt={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.38)",4:"rgba(0,0,0,0.12)"},ut={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.5)",4:"rgba(255,255,255,0.12)"},ft="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",et="",d=s("rgba(0,0,0,0.87)"),g=s("rgba(255,255,255,0.87)"),nt=s("rgb(255,255,255)"),u=["primary","accent","warn","background"],ot="primary",f={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"50","hue-1":"A100","hue-2":"100","hue-3":"300"}},e={background:{"default":"A400","hue-1":"800","hue-2":"900","hue-3":"A200"}};u.forEach(function(n){var t={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};f[n]||(f[n]=t);e[n]||(e[n]=t)});var l=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],r={disableTheming:!1,generateOnDemand:!1,registeredStyles:[],nonce:null},o={}}(n.angular)}(),function(){function i(i,r,u,f,e){var o;return o={translate3d:function(n,t,i,r){function u(i){return e(n,{to:i||t,addClass:r.transitionOutClass,removeClass:r.transitionInClass}).start()}return e(n,{from:t,to:i,addClass:r.transitionInClass,removeClass:r.transitionOutClass}).start().then(function(){return u})},waitTransitionEnd:function(t,i){var e=3e3;return r(function(r){function o(n){n&&n.target!==t[0]||(n&&u.cancel(h),t.off(f.CSS.TRANSITIONEND,o),r())}function s(i){return i=i||n.getComputedStyle(t[0]),"0s"==i.transitionDuration||!i.transition&&!i.transitionProperty}i=i||{};s(i.cachedTransitionStyles)&&(e=0);var h=u(o,i.timeout||e);t.on(f.CSS.TRANSITIONEND,o)})},calculateTransformValues:function(n,t){function h(){var t=n?n.parent():null,i=t?t.parent():null;return i?o.clientRect(i):null}var i=t.element,f=t.bounds;if(i||f){var r=i?o.clientRect(i)||h():o.copyRect(f),u=o.copyRect(n[0].getBoundingClientRect()),e=o.centerPointFor(u),s=o.centerPointFor(r);return{centerX:s.x-e.x,centerY:s.y-e.y,scaleX:Math.round(100*Math.min(.5,r.width/u.width))/100,scaleY:Math.round(100*Math.min(.5,r.height/u.height))/100}}return{centerX:0,centerY:0,scaleX:.5,scaleY:.5}},calculateZoomToOrigin:function(n,r){var u=t.bind(null,i.supplant,"translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )");return u(o.calculateTransformValues(n,r))},calculateSlideToOrigin:function(n,r){var u=t.bind(null,i.supplant,"translate3d( {centerX}px, {centerY}px, 0 )");return u(o.calculateTransformValues(n,r))},toCss:function(n){function r(n,r,u){t.forEach(r.split(" "),function(n){i[n]=u})}var i={},u="left top right bottom width height x y min-width min-height max-width max-height";return t.forEach(n,function(n,e){if(!t.isUndefined(n))if(u.indexOf(e)>=0)i[e]=n+"px";else switch(e){case"transition":r(e,f.CSS.TRANSITION,n);break;case"transform":r(e,f.CSS.TRANSFORM,n);break;case"transformOrigin":r(e,f.CSS.TRANSFORM_ORIGIN,n);break;case"font-size":i["font-size"]=n}}),i},toTransformCss:function(n,i,r){var u={};return t.forEach(f.CSS.TRANSFORM.split(" "),function(t){u[t]=n}),i&&(r=r||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",u.transition=r),u},copyRect:function(n,i){return n?(i=i||{},t.forEach("left top right bottom width height".split(" "),function(t){i[t]=Math.round(n[t])}),i.width=i.width||i.right-i.left,i.height=i.height||i.bottom-i.top,i):null},clientRect:function(n){var i=t.element(n)[0].getBoundingClientRect(),r=function(n){return n&&n.width>0&&n.height>0};return r(i)?o.copyRect(i):null},centerPointFor:function(n){return n?{x:Math.round(n.left+n.width/2),y:Math.round(n.top+n.height/2)}:{x:0,y:0}}}}t.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(n,t,r,u){return function(f){return i(f,n,t,r,u)}}])}(),function(){t.version.minor>=4?t.module("material.core.animate",[]):!function(){function r(n){return n.replace(/-[a-z]/g,function(n){return n.charAt(1).toUpperCase()})}var i=t.forEach,u=t.isDefined(document.documentElement.style.WebkitAppearance),n=u?"-webkit-":"",f=(u?"webkitTransitionEnd ":"")+"transitionend",e=(u?"webkitAnimationEnd ":"")+"animationend",o=["$document",function(n){return function(){return n[0].body.clientWidth+1}}],s=["$$rAF",function(n){return function(){var t=!1;return n(function(){t=!0}),function(i){t?i():n(i)}}}],h=["$q","$$rAFMutex",function(n,r){function u(n){this.setHost(n);this._doneCallbacks=[];this._runInAnimationFrame=r();this._state=0}var e=0,o=1,f=2;return u.prototype={setHost:function(n){this.host=n||{}},done:function(n){this._state===f?n():this._doneCallbacks.push(n)},progress:t.noop,getPromise:function(){if(!this.promise){var t=this;this.promise=n(function(n,i){t.done(function(t){t===!1?i():n()})})}return this.promise},then:function(n,t){return this.getPromise().then(n,t)},"catch":function(n){return this.getPromise()["catch"](n)},"finally":function(n){return this.getPromise()["finally"](n)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(n){var t=this;t._state===e&&(t._state=o,t._runInAnimationFrame(function(){t._resolve(n)}))},_resolve:function(n){this._state!==f&&(i(this._doneCallbacks,function(t){t(n)}),this._doneCallbacks.length=0,this._state=f)}},u.all=function(n,t){function u(i){r=r&&i;++f===n.length&&t(r)}var f=0,r=!0;i(n,function(n){n.done(u)})},u}];t.module("material.core.animate",[]).factory("$$forceReflow",o).factory("$$AnimateRunner",h).factory("$$rAFMutex",s).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout","$animate",function(t,o,s,h,c,l,a){function nt(u,o){var c=[],v=w(u),nt=v&&a.enabled(),ut=!1,ft=!1,et,h,y,p;return nt&&(o.transitionStyle&&c.push([n+"transition",o.transitionStyle]),o.keyframeStyle&&c.push([n+"animation",o.keyframeStyle]),o.delay&&c.push([n+"transition-delay",o.delay+"s"]),o.duration&&c.push([n+"transition-duration",o.duration+"s"]),ut=o.keyframeStyle||o.to&&(o.duration>0||o.transitionStyle),ft=!!o.addClass||!!o.removeClass,g(u,!0)),et=nt&&(ut||ft),k(u,o),p=!1,{close:t.close,start:function(){function t(){if(!p)return(p=!0,h&&y&&u.off(h,y),b(u,o),rt(u,o),i(c,function(n){v.style[r(n[0])]=""}),a.complete(!0),a)}var a=new s;return it(function(){var s,a;if((g(u,!1),!et)||(i(c,function(n){var t=n[0],i=n[1];v.style[r(t)]=i}),b(u,o),s=tt(u),0===s.duration))return t();a=[];o.easing&&(s.transitionDuration&&a.push([n+"transition-timing-function",o.easing]),s.animationDuration&&a.push([n+"animation-timing-function",o.easing]));o.delay&&s.animationDelay&&a.push([n+"animation-delay",o.delay+"s"]);o.duration&&s.animationDuration&&a.push([n+"animation-duration",o.duration+"s"]);i(a,function(n){var t=n[0],i=n[1];v.style[r(t)]=i;c.push(n)});var k=s.delay,p=1e3*k,w=s.duration,nt=1e3*w,it=Date.now();h=[];s.transitionDuration&&h.push(f);s.animationDuration&&h.push(e);h=h.join(" ");y=function(n){n.stopPropagation();var i=n.originalEvent||n,r=i.timeStamp||Date.now(),u=parseFloat(i.elapsedTime.toFixed(3));Math.max(r-it,0)>=p&&u>=w&&t()};u.on(h,y);d(u,o);l(t,p+1.5*nt,!1)}),a}}}function b(n,t){t.addClass&&(c.addClass(n,t.addClass),t.addClass=null);t.removeClass&&(c.removeClass(n,t.removeClass),t.removeClass=null)}function tt(n){function i(n){return u?"Webkit"+n.charAt(0).toUpperCase()+n.substr(1):n}var l=w(n),r=t.getComputedStyle(l),e=v(r[i("transitionDuration")]),f=v(r[i("animationDuration")]),o=v(r[i("transitionDelay")]),s=v(r[i("animationDelay")]),h,c;return f*=parseInt(r[i("animationIterationCount")],10)||1,h=Math.max(f,e),c=Math.max(s,o),{duration:h,delay:c,animationDuration:f,transitionDuration:e,animationDelay:s,transitionDelay:o}}function v(n){var t=0,r=(n||"").split(/\s*,\s*/);return i(r,function(n){"s"==n.charAt(n.length-1)&&(n=n.substring(0,n.length-1));n=parseFloat(n)||0;t=t?Math.max(n,t):n}),t}function it(n){y&&y();p.push(n);y=o(function(){y=null;for(var t=h(),n=0;n<p.length;n++)p[n](t);p.length=0})}function rt(n,t){k(n,t);d(n,t)}function k(n,t){t.from&&(n.css(t.from),t.from=null)}function d(n,t){t.to&&(n.css(t.to),t.to=null)}function w(n){for(var t=0;t<n.length;t++)if(1===n[t].nodeType)return n[t]}function g(t,i){var u=w(t),f=r(n+"transition-delay");u.style[f]=i?"-9999s":""}var y,p=[];return nt}])}()}(),function(){t.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$mdUtil","$animate","$rootElement","$window","$log","$$rAF","$document",function(n,i,r,u,f,e,o,s){function h(h,l){function v(){var n=parseInt(a.height,10)+Math.abs(parseInt(a.top,10));l.css("height",n+"px")}r.pin&&r.pin(l,u);var a;o(function(){var u,r,o;(a=f.getComputedStyle(s[0].body),"fixed"===a.position)&&(u=i.debounce(function(){a=f.getComputedStyle(s[0].body);v()},60,null,!1),v(),t.element(f).on("resize",u),h.$on("$destroy",function(){t.element(f).off("resize",u)}));r=l.parent();r.length&&("BODY"===r[0].nodeName&&l.css("position","fixed"),o=f.getComputedStyle(r[0]),"static"===o.position&&e.warn(c),n.inherit(l,r))})}var c="<md-backdrop> may not work properly in a scrolled, static-positioned parent container.";return{restrict:"E",link:h}}])}(),function(){function n(n){return{restrict:"E",link:function(t,i){i.addClass("_md");t.$on("$destroy",function(){n.destroy()})}}}function i(n){function i(n,i,f,e,o,s,h,c){function a(r,u,h){var v,a;return(u=f.extractElementByName(u,"md-bottom-sheet"),u.attr("tabindex","-1"),u.hasClass("ng-cloak"))&&(v="$mdBottomSheet: using `<md-bottom-sheet ng-cloak >` will affect the bottom-sheet opening animations.",c.warn(v,u[0])),h.disableBackdrop||(l=f.createBackdrop(r,"md-bottom-sheet-backdrop md-opaque"),l[0].tabIndex=-1,h.clickOutsideToClose&&l.on("click",function(){f.nextTick(o.cancel,!0)}),e.inherit(l,h.parent),n.enter(l,h.parent,null)),a=new y(u,h.parent),h.bottomSheet=a,e.inherit(a.element,h.parent),h.disableParentScroll&&(h.restoreScroll=f.disableScrollAround(a.element,h.parent)),n.enter(a.element,h.parent,l).then(function(){var n=f.findFocusTarget(u)||t.element(u[0].querySelector("button")||u[0].querySelector("a")||u[0].querySelector(f.prefixer("ng-click",!0)))||l;h.escapeToClose&&(h.rootElementKeyupCallback=function(n){n.keyCode===i.KEY_CODE.ESCAPE&&f.nextTick(o.cancel,!0)},s.on("keyup",h.rootElementKeyupCallback),n&&n.focus())})}function v(t,i,r){var u=r.bottomSheet;return r.disableBackdrop||n.leave(l),n.leave(u.element).then(function(){r.disableParentScroll&&(r.restoreScroll(),delete r.restoreScroll);u.cleanup()})}function y(n,t){function e(){n.css(i.CSS.TRANSITION_DURATION,"0ms")}function s(t){var u=t.pointer.distanceY;5>u&&(u=Math.max(-r,u/2));n.css(i.CSS.TRANSFORM,"translate3d(0,"+(r+u)+"px,0)")}function c(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>u)){var r=n.prop("offsetHeight")-t.pointer.distanceY,e=Math.min(r/t.pointer.velocityY*.75,500);n.css(i.CSS.TRANSITION_DURATION,e+"ms");f.nextTick(o.cancel,!0)}else n.css(i.CSS.TRANSITION_DURATION,""),n.css(i.CSS.TRANSFORM,"")}var l=h.register(t,"drag",{horizontal:!1});return t.on("$md.dragstart",e).on("$md.drag",s).on("$md.dragend",c),{element:n,cleanup:function(){l();t.off("$md.dragstart",e);t.off("$md.drag",s);t.off("$md.dragend",c)}}}var l;return{themable:!0,onShow:a,onRemove:v,disableBackdrop:!1,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0}}i.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture","$log"];var u=.5,r=80;return n("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:i})}n.$inject=["$mdBottomSheet"];i.$inject=["$$interimElementProvider"];t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",n).provider("$mdBottomSheet",i)}(),function(){function n(n){return{restrict:"E",link:function(t,i){n(i)}}}function i(n,i,r,u){function f(n){return t.isDefined(n.href)||t.isDefined(n.ngHref)||t.isDefined(n.ngLink)||t.isDefined(n.uiSref)}function e(n,t){if(f(t))return'<a class="md-button" ng-transclude><\/a>';var i="undefined"==typeof t.type?"button":t.type;return'<button class="md-button" type="'+i+'" ng-transclude><\/button>'}function o(e,o,s){i(o);n.attach(e,o);r.expectWithoutText(o,"aria-label");f(s)&&t.isDefined(s.ngDisabled)&&e.$watch(s.ngDisabled,function(n){o.attr("tabindex",n?-1:0)});o.on("click",function(n){s.disabled===!0&&(n.preventDefault(),n.stopImmediatePropagation())});o.hasClass("md-no-focus")||(e.mouseActive=!1,o.on("mousedown",function(){e.mouseActive=!0;u(function(){e.mouseActive=!1},100)}).on("focus",function(){e.mouseActive===!1&&o.addClass("md-focused")}).on("blur",function(){o.removeClass("md-focused")}))}return{restrict:"EA",replace:!0,transclude:!0,template:e,link:o}}i.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$timeout"];n.$inject=["$mdTheming"];t.module("material.components.button",["material.core"]).directive("mdButton",i).directive("a",n)}(),function(){function n(n){return{restrict:"E",link:function(t,i){i.addClass("_md");n(i)}}}n.$inject=["$mdTheming"];t.module("material.components.card",["material.core"]).directive("mdCard",n)}(),function(){t.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){function n(n,i,r,u,f,e){function o(o,s){function h(o,s,h,c){function y(n,t,i){h[n]&&o.$watch(h[n],function(n){i[n]&&s.attr(t,i[n])})}function p(n){var t=n.which||n.keyCode;t!==r.KEY_CODE.SPACE&&t!==r.KEY_CODE.ENTER||(n.preventDefault(),s.addClass("md-focused"),a(n))}function a(n){s[0].hasAttribute("disabled")||o.skipToggle||o.$apply(function(){var t=h.ngChecked?h.checked:!c.$viewValue;c.$setViewValue(t,n&&n.type);c.$render()})}function w(){s.toggleClass("md-checked",!!c.$viewValue&&!l)}function v(n){l=n!==!1;l&&s.attr("aria-checked","mixed");s.toggleClass("md-indeterminate",l)}var l;c=c||f.fakeNgModel();u(s);s.children().on("focus",function(){s.focus()});f.parseAttributeBoolean(h.mdIndeterminate)&&(v(),o.$watch(h.mdIndeterminate,v));h.ngChecked&&o.$watch(o.$eval.bind(o,h.ngChecked),function(n){c.$setViewValue(n);c.$render()});y("ngDisabled","tabindex",{"true":"-1","false":h.tabindex});i.expectWithText(s,"aria-label");n.link.pre(o,{on:t.noop,0:{}},h,[c]);o.mouseActive=!1;s.on("click",a).on("keypress",p).on("mousedown",function(){o.mouseActive=!0;e(function(){o.mouseActive=!1},100)}).on("focus",function(){o.mouseActive===!1&&s.addClass("md-focused")}).on("blur",function(){s.removeClass("md-focused")});c.$render=w}return s.$set("tabindex",s.tabindex||"0"),s.$set("type","checkbox"),s.$set("role",s.type),{pre:function(n,t){t.on("click",function(n){this.hasAttribute("disabled")&&n.stopImmediatePropagation()})},post:h}}return n=n[0],{restrict:"E",transclude:!0,require:"?ngModel",priority:210,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"><\/div><\/div><div ng-transclude class="md-label"><\/div>',compile:o}}n.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$timeout"];t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",n)}(),function(){!function(){function i(i,r,u){function o(n,t){try{t&&n.css(h(t))}catch(i){u.error(i.message)}}function s(n){var t=e(n);return f(t)}function f(n,t){t=t||!1;var u=i.PALETTES[n.palette][n.hue];return u=t?u.contrast:u.value,r.supplant("rgba({0}, {1}, {2}, {3})",[u[0],u[1],u[2],u[3]||n.opacity])}function h(n){var i={},r=n.hasOwnProperty("color");return t.forEach(n,function(n,t){var u=e(n),o=t.indexOf("background")>-1;i[t]=f(u);o&&!r&&(i.color=f(u,!0))}),i}function c(n){return t.isDefined(i.THEMES[n.split("-")[0]])}function e(n){var r=n.split("-"),f=t.isDefined(i.THEMES[r[0]]),u=f?r.splice(0,1)[0]:i.defaultTheme();return{theme:u,palette:l(r,u),hue:a(r,u),opacity:r[2]||1}}function l(t,u){var o=t.length>1&&-1!==n.indexOf(t[1]),f=t[0].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e;if(o&&(f=t[0]+"-"+t.splice(1,1)),-1===n.indexOf(f)){if(e=i.THEMES[u].colors[f],!e)throw new Error(r.supplant("mdColors: couldn't find '{palette}' in the palettes.",{palette:f}));f=e.name}return f}function a(n,t){var u=i.THEMES[t].colors,f;if("hue"===n[1]){if(f=parseInt(n.splice(2,1)[0],10),1>f||f>3)throw new Error(r.supplant("mdColors: 'hue-{hueNumber}' is not a valid hue, can be only 'hue-1', 'hue-2' and 'hue-3'",{hueNumber:f}));if(n[1]="hue-"+f,!(n[0]in u))throw new Error(r.supplant("mdColors: 'hue-x' can only be used with [{availableThemes}], but was used with '{usedTheme}'",{availableThemes:Object.keys(u).join(", "),usedTheme:n[0]}));return u[n[0]].hues[n[1]]}return n[1]||u[n[0]in u?n[0]:"primary"].hues["default"]}return n=n||Object.keys(i.PALETTES),{applyThemeColors:o,getThemeColor:s,hasTheme:c}}function r(n,i,r,f){return{restrict:"A",require:["^?mdTheme"],compile:function(e,o){function s(){var n=o.mdColors,r=n.indexOf("::")>-1,e=!!r||u.test(o.mdColors),f;return o.mdColors=n.replace("::",""),f=t.isDefined(o.mdColorsWatch),!r&&!e&&(!f||i.parseAttributeBoolean(o.mdColorsWatch))}var h=s();return function(i,u,e,o){var s=o[0],c={},l=function(t){"string"!=typeof t&&(t="");e.mdColors||(e.mdColors="{}");var r=f(e.mdColors)(i);return s&&Object.keys(r).forEach(function(i){var u=r[i];n.hasTheme(u)||(r[i]=(t||s.$mdTheme)+"-"+u)}),v(r),r},v=function(n){if(!t.equals(n,c)){var i=Object.keys(c);c.background&&!i.color&&i.push("color");i.forEach(function(n){u.css(n,"")})}c=n},a=t.noop;s&&(a=s.registerChanges(function(t){n.applyThemeColors(u,l(t))}));i.$on("$destroy",function(){a()});try{h?i.$watch(l,t.bind(this,n.applyThemeColors,u),!0):n.applyThemeColors(u,l())}catch(y){r.error(y.message)}}}}}r.$inject=["$mdColors","$mdUtil","$log","$parse"];i.$inject=["$mdTheming","$mdUtil","$log"];var u=/^{((\s|,)*?["'a-zA-Z-]+?\s*?:\s*?('|")[a-zA-Z0-9-.]*('|"))+\s*}$/,n=null;t.module("material.components.colors",["material.core"]).directive("mdColors",r).service("$mdColors",i)}()}(),function(){function n(n){function t(n,t){this.$scope=n;this.$element=t}return{restrict:"E",controller:["$scope","$element",t],link:function(t,r){r.addClass("_md");n(r);t.$broadcast("$mdContentLoaded",r);i(r[0])}}}function i(n){t.element(n).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===n.scrollTop?n.scrollTop=1:n.scrollHeight===n.scrollTop+n.offsetHeight&&(n.scrollTop-=1)))})}n.$inject=["$mdTheming"];t.module("material.components.content",["material.core"]).directive("mdContent",n)}(),function(){t.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){function n(n,i,r){return{restrict:"E",link:function(u,f){f.addClass("_md");i(f);n(function(){function i(){f.toggleClass("md-content-overflow",n.scrollHeight>n.clientHeight)}var e,n=f[0].querySelector("md-dialog-content");n&&(e=n.getElementsByTagName("img"),i(),t.element(e).on("load",i));u.$on("$destroy",function(){r.destroy(f)})})}}}function r(n){function f(n,t){return{template:'<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">    <h2 class="md-title">{{ dialog.title }}<\/h2>    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body"         ng-bind-html="::dialog.mdHtmlContent"><\/div>    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">      <p>{{::dialog.mdTextContent}}<\/p>    <\/div>    <md-input-container md-no-float ng-if="::dialog.$type == \'prompt\'" class="md-prompt-input-container">      <input ng-keypress="dialog.keypress($event)" md-autofocus ng-model="dialog.result"              placeholder="{{::dialog.placeholder}}">    <\/md-input-container>  <\/md-dialog-content>  <md-dialog-actions>    <md-button ng-if="dialog.$type === \'confirm\' || dialog.$type === \'prompt\'"               ng-click="dialog.abort()" class="md-primary md-cancel-button">      {{ dialog.cancel }}    <\/md-button>    <md-button ng-click="dialog.hide()" class="md-primary md-confirm-button" md-autofocus="dialog.$type===\'alert\'">      {{ dialog.ok }}    <\/md-button>  <\/md-dialog-actions><\/md-dialog>'.replace(/\s\s+/g,""),controller:function(){var i="prompt"==this.$type;i&&this.initialValue&&(this.result=this.initialValue);this.hide=function(){n.hide(!i||this.result)};this.abort=function(){n.cancel()};this.keypress=function(i){i.keyCode===t.KEY_CODE.ENTER&&n.hide(this.result)}},controllerAs:"dialog",bindToController:!0}}function e(n,f,e,o,s,h,c,l,a,v,y){function w(n){g(n);n.contentElement&&(n.restoreContentElement=nt(n))}function b(n,t,i,r){if(r){if(r.mdHtmlContent=r.htmlContent||i.htmlContent||"",r.mdTextContent=r.textContent||i.textContent||r.content||i.content||"",r.mdHtmlContent&&!v.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(r.mdHtmlContent&&r.mdTextContent)throw Error("md-dialog cannot have both `htmlContent` and `textContent`");}}function k(n,i,r){function o(){i[0].querySelector(".md-actions")&&a.warn("Using a class of md-actions is deprecated, please use <md-dialog-actions>.")}function s(){function n(){var n=i[0].querySelector(".dialog-close"),t;return n||(t=i[0].querySelectorAll(".md-actions button, md-dialog-actions button"),n=t[t.length-1]),n}if(r.focusOnOpen){var t=e.findFocusTarget(i)||n()||u;t.focus()}}var u,f;return t.element(h[0].body).addClass("md-dialog-is-showing"),u=i.find("md-dialog"),u.hasClass("ng-cloak")&&(f="$mdDialog: using `<md-dialog ng-cloak >` will affect the dialog opening animations.",a.warn(f,i[0])),tt(r),ut(u,r),rt(n,i,r),it(i,r),et(i,r).then(function(){ft(i,r);o();s()})}function d(n,i,f){function o(){return ot(i,f)}function e(){t.element(h[0].body).removeClass("md-dialog-is-showing");f.contentElement?(f.reverseContainerStretch(),f.restoreContentElement()):i.remove();f.$destroy||f.origin.focus()}return f.deactivateListeners(),f.unlockScreenReader(),f.hideBackdrop(f.$destroy),r&&r.parentNode&&r.parentNode.removeChild(r),u&&u.parentNode&&u.parentNode.removeChild(u),f.$destroy?e():o().then(e)}function g(n){if(!n.theme&&(n.theme=y.defaultTheme(),n.targetEvent&&n.targetEvent.target)){var i=t.element(n.targetEvent.target);n.theme=(i.controller("mdTheme")||{}).$mdTheme||n.theme}}function nt(n){function u(n){var t=n.parentNode,i=n.nextElementSibling;return function(){i?t.insertBefore(n,i):t.appendChild(n)}}var i=n.contentElement,r=null;return t.isString(i)?(i=document.querySelector(i),r=u(i)):(i=i[0]||i,r=document.contains(i)?u(i):function(){i.parentNode.removeChild(i)}),n.element=t.element(i),n.skipCompile=!0,r}function tt(n){function r(n,r){var u=t.element(n||{}),e,f;if(u&&u.length)return e={top:0,left:0,height:0,width:0},f=t.isFunction(u[0].getBoundingClientRect),t.extend(r||{},{element:f?u:i,bounds:f?u[0].getBoundingClientRect():t.extend({},e,u[0]),focus:t.bind(u,u.focus)})}function u(n,i){return t.isString(n)&&(n=h[0].querySelector(n)),t.element(n||i)}n.origin=t.extend({element:null,bounds:null,focus:t.noop},n.origin||{});n.parent=u(n.parent,l);n.closeTo=r(u(n.closeTo));n.openFrom=r(u(n.openFrom));n.targetEvent&&(n.origin=r(n.targetEvent.target,n.origin))}function it(i,r){var l=t.element(c),a=e.debounce(function(){p(i,r)},60),s=[],v=function(){var t="alert"==r.$type?n.hide:n.cancel;e.nextTick(t,!0)},h,f;if(r.escapeToClose&&(h=r.parent,f=function(n){n.keyCode===o.KEY_CODE.ESCAPE&&(n.stopPropagation(),n.preventDefault(),v())},i.on("keydown",f),h.on("keydown",f),s.push(function(){i.off("keydown",f);h.off("keydown",f)})),l.on("resize",a),s.push(function(){l.off("resize",a)}),r.clickOutsideToClose){var y,u=i,w=function(n){y=n.target},b=function(n){y===u[0]&&n.target===u[0]&&(n.stopPropagation(),n.preventDefault(),v())};u.on("mousedown",w);u.on("mouseup",b);s.push(function(){u.off("mousedown",w);u.off("mouseup",b)})}r.deactivateListeners=function(){s.forEach(function(n){n()});r.deactivateListeners=null}}function rt(n,t,i){i.disableParentScroll&&(i.restoreScroll=e.disableScrollAround(t,i.parent));i.hasBackdrop&&(i.backdrop=e.createBackdrop(n,"md-dialog-backdrop md-opaque"),s.enter(i.backdrop,i.parent));i.hideBackdrop=function(n){i.backdrop&&(n?i.backdrop.remove():s.leave(i.backdrop));i.disableParentScroll&&(i.restoreScroll(),delete i.restoreScroll);i.hideBackdrop=null}}function ut(n,t){var c="alert"===t.$type?"alertdialog":"dialog",i=n.find("md-dialog-content"),o=n.attr("id"),s="dialogContent_"+(o||e.nextUid()),h;n.attr({role:c,tabIndex:"-1"});0===i.length&&(i=n,o&&(s=o));i.attr("id",s);n.attr("aria-describedby",s);t.ariaLabel?f.expect(n,"aria-label",t.ariaLabel):f.expectAsync(n,"aria-label",function(){var n=i.text().split(/\s+/);return n.length>3&&(n=n.slice(0,3).concat("...")),n.join(" ")});r=document.createElement("div");r.classList.add("md-dialog-focus-trap");r.tabIndex=0;u=r.cloneNode(!1);h=function(){n.focus()};r.addEventListener("focus",h);u.addEventListener("focus",h);n[0].parentNode.insertBefore(r,n[0]);n.after(u)}function ft(n,t){function i(n){for(;n.parentNode;){if(n===document.body)return;for(var u=n.parentNode.children,t=0;t<u.length;t++)n===u[t]||st(u[t],["SCRIPT","STYLE"])||u[t].setAttribute("aria-hidden",r);i(n=n.parentNode)}}var r=!0;i(n[0]);t.unlockScreenReader=function(){r=!1;i(n[0]);t.unlockScreenReader=null}}function p(n,t){var u="fixed"==c.getComputedStyle(h[0].body).position,i=t.backdrop?c.getComputedStyle(t.backdrop[0]):null,r=i?Math.min(h[0].body.clientHeight,Math.ceil(Math.abs(parseInt(i.height,10)))):0,f={top:n.css("top"),height:n.css("height")};return n.css({top:(u?e.scrollTop(t.parent):0)+"px",height:r?r+"px":"100%"}),function(){n.css(f)}}function et(n,t){t.parent.append(n);t.reverseContainerStretch=p(n,t);var r=n.find("md-dialog"),i=e.dom.animator,o=i.calculateZoomToOrigin,f={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},s=i.toTransformCss(o(r,t.openFrom||t.origin)),u=i.toTransformCss("");return r.toggleClass("md-dialog-fullscreen",!!t.fullscreen),i.translate3d(r,s,u,f).then(function(n){return t.reverseAnimate=function(){return delete t.reverseAnimate,t.closeTo?(f={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},s=u,u=i.toTransformCss(o(r,t.closeTo)),i.translate3d(r,s,u,f)):n(u=i.toTransformCss(o(r,t.origin)))},t.clearAnimate=function(){return delete t.clearAnimate,r.removeClass([f.transitionOutClass,f.transitionInClass].join(" ")),i.translate3d(r,u,i.toTransformCss(""),{})},!0})}function ot(n,t){return t.reverseAnimate().then(function(){t.contentElement&&t.clearAnimate()})}function st(n,t){if(-1!==t.indexOf(n.nodeName))return!0}return{hasBackdrop:!0,isolateScope:!0,onCompiling:w,onShow:k,onShowing:b,onRemove:d,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,contentElement:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(n,t){function i(n){return t.autoWrap&&!/<\/md-dialog>/g.test(n)?"<md-dialog>"+(n||"")+"<\/md-dialog>":n||""}return'<div class="md-dialog-container" tabindex="-1">'+i(n)+"<\/div>"}}}f.$inject=["$mdDialog","$mdConstant"];e.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector","$mdTheming"];var r,u;return n("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen","contentElement"],options:e}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:f}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:f}).addPreset("prompt",{methods:["title","htmlContent","textContent","initialValue","content","placeholder","ariaLabel","ok","cancel","theme","css"],options:f})}n.$inject=["$$rAF","$mdTheming","$mdDialog"];r.$inject=["$$interimElementProvider"];t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",n).provider("$mdDialog",r)}(),function(){function n(n){return{restrict:"E",link:n}}n.$inject=["$mdTheming"];t.module("material.components.divider",["material.core"]).directive("mdDivider",n)}(),function(){!function(){function n(n){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(t){var i=t.children(),r=n.prefixer().hasAttribute(i,"ng-repeat");r?i.addClass("md-fab-action-item"):i.wrap('<div class="md-fab-action-item">')}}}n.$inject=["$mdUtil"];t.module("material.components.fabActions",["material.core"]).directive("mdFabActions",n)}()}(),function(){!function(){function n(n,i,r,u,f,e){function g(){o.direction=o.direction||"down";o.isOpen=o.isOpen||!1;l();i.addClass("md-animations-waiting")}function nt(){var r=["click","focusin","focusout"];t.forEach(r,function(n){i.on(n,v)});n.$on("$destroy",function(){t.forEach(r,function(n){i.off(n,v)});p()})}function v(n){"click"==n.type&&ct(n);"focusout"!=n.type||s||(s=e(function(){o.close()},100,!1));"focusin"==n.type&&s&&(e.cancel(s),s=null)}function l(){o.currentActionIndex=-1}function tt(){n.$watch("vm.direction",function(n,t){r.removeClass(i,"md-"+t);r.addClass(i,"md-"+n);l()});var t,u;n.$watch("vm.isOpen",function(n){l();t&&u||(t=lt(),u=d());n?it():p();var f=n?"md-is-open":"",e=n?"":"md-is-open";t.attr("aria-haspopup",!0);t.attr("aria-expanded",n);u.attr("aria-hidden",!n);r.setClass(i,f,e)})}function y(){i[0].scrollHeight>0?r.addClass(i,"_md-animations-ready").then(function(){i.removeClass("md-animations-waiting")}):10>a&&(e(y,100),a+=1)}function it(){i.on("keydown",b);u.nextTick(function(){t.element(document).on("click touchend",w)})}function p(){i.off("keydown",b);t.element(document).off("click touchend",w)}function w(n){if(n.target){var t=u.getClosest(n.target,"md-fab-trigger"),i=u.getClosest(n.target,"md-fab-actions");t||i||o.close()}}function b(n){switch(n.which){case f.KEY_CODE.ESCAPE:return o.close(),n.preventDefault(),!1;case f.KEY_CODE.LEFT_ARROW:return ut(n),!1;case f.KEY_CODE.UP_ARROW:return ft(n),!1;case f.KEY_CODE.RIGHT_ARROW:return et(n),!1;case f.KEY_CODE.DOWN_ARROW:return ot(n),!1}}function h(n){k(n,-1)}function c(n){k(n,1)}function k(n,i){var u=rt(),r;o.currentActionIndex=o.currentActionIndex+i;o.currentActionIndex=Math.min(u.length-1,o.currentActionIndex);o.currentActionIndex=Math.max(0,o.currentActionIndex);r=t.element(u[o.currentActionIndex]).children()[0];t.element(r).attr("tabindex",0);r.focus();n.preventDefault();n.stopImmediatePropagation()}function rt(){var n=d()[0].querySelectorAll(".md-fab-action-item");return t.forEach(n,function(n){t.element(t.element(n).children()[0]).attr("tabindex",-1)}),n}function ut(n){"left"===o.direction?c(n):h(n)}function ft(n){"down"===o.direction?h(n):c(n)}function et(n){"left"===o.direction?h(n):c(n)}function ot(n){"up"===o.direction?h(n):c(n)}function st(n){return u.getClosest(n,"md-fab-trigger")}function ht(n){return u.getClosest(n,"md-fab-actions")}function ct(n){st(n.target)&&o.toggle();ht(n.target)&&o.close()}function lt(){return i.find("md-fab-trigger")}function d(){return i.find("md-fab-actions")}var o=this,a,s;o.open=function(){n.$evalAsync("vm.isOpen = true")};o.close=function(){n.$evalAsync("vm.isOpen = false");i.find("md-fab-trigger")[0].focus()};o.toggle=function(){n.$evalAsync("vm.isOpen = !vm.isOpen")};g();nt();tt();a=0;y()}n.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"];t.module("material.components.fabShared",["material.core"]).controller("MdFabController",n)}()}(),function(){!function(){function f(){function n(n,t){t.prepend('<div class="_md-css-variables"><\/div>')}return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:n}}function i(i){function r(n){i(n,u,!1)}function f(i){if(!i.hasClass("md-animations-waiting")||i.hasClass("_md-animations-ready")){var u=i[0],e=i.controller("mdFabSpeedDial"),r=u.querySelectorAll(".md-fab-action-item"),f=u.querySelector("md-fab-trigger"),s=u.querySelector("._md-css-variables"),o=parseInt(n.getComputedStyle(s).zIndex);t.forEach(r,function(n,t){var i=n.style;i.transform=i.webkitTransform="";i.transitionDelay="";i.opacity=1;i.zIndex=r.length-t+o});f.style.zIndex=o+r.length+1;e.isOpen||t.forEach(r,function(n,t){var i,r,u=n.style,o=(f.clientHeight-n.clientHeight)/2,s=(f.clientWidth-n.clientWidth)/2,h;switch(e.direction){case"up":i=n.scrollHeight*(t+1)+o;r="Y";break;case"down":i=-(n.scrollHeight*(t+1)+o);r="Y";break;case"left":i=n.scrollWidth*(t+1)+s;r="X";break;case"right":i=-(n.scrollWidth*(t+1)+s);r="X"}h="translate"+r+"("+i+"px)";u.transform=u.webkitTransform=h})}}return{addClass:function(n,t,i){n.hasClass("md-fling")?(f(n),r(i)):i()},removeClass:function(n,t,i){f(n);r(i)}}}function r(i){function r(n){i(n,u,!1)}function f(i){var f=i[0],r=i.controller("mdFabSpeedDial"),u=f.querySelectorAll(".md-fab-action-item"),o=f.querySelector("._md-css-variables"),s=parseInt(n.getComputedStyle(o).zIndex);t.forEach(u,function(n,t){var i=n.style,f=t*e;i.opacity=r.isOpen?1:0;i.transform=i.webkitTransform=r.isOpen?"scale(1)":"scale(0)";i.transitionDelay=(r.isOpen?f:u.length-f)+"ms";i.zIndex=u.length-t+s})}var e=65;return{addClass:function(n,t,i){f(n);r(i)},removeClass:function(n,t,i){f(n);r(i)}}}i.$inject=["$timeout"];r.$inject=["$timeout"];var u=300;t.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",f).animation(".md-fling",i).animation(".md-scale",r).service("mdFabSpeedDialFlingAnimation",i).service("mdFabSpeedDialScaleAnimation",r)}()}(),function(){!function(){function r(){function n(n,t){t.addClass("md-fab-toolbar");t.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"><\/div>')}return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude><\/div><\/div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:n}}function i(){function i(i,r){if(r){var f=i[0],l=i.controller("mdFabToolbar"),u=f.querySelector(".md-fab-toolbar-background"),e=f.querySelector("md-fab-trigger button"),h=f.querySelector("md-toolbar"),o=f.querySelector("md-fab-trigger button md-icon"),s=i.find("md-fab-actions").children();if(e&&u){var a=n.getComputedStyle(e).getPropertyValue("background-color"),c=f.offsetWidth,v=(f.offsetHeight,2*(c/e.offsetWidth));u.style.backgroundColor=a;u.style.borderRadius=c+"px";l.isOpen?(h.style.pointerEvents="inherit",u.style.width=e.offsetWidth+"px",u.style.height=e.offsetHeight+"px",u.style.transform="scale("+v+")",u.style.transitionDelay="0ms",o&&(o.style.transitionDelay=".3s"),t.forEach(s,function(n,t){n.style.transitionDelay=25*(s.length-t)+"ms"})):(h.style.pointerEvents="none",u.style.transform="scale(1)",u.style.top="0",i.hasClass("md-right")&&(u.style.left="0",u.style.right=null),i.hasClass("md-left")&&(u.style.right="0",u.style.left=null),u.style.transitionDelay="200ms",o&&(o.style.transitionDelay="0ms"),t.forEach(s,function(n,t){n.style.transitionDelay=200+25*t+"ms"}))}}}return{addClass:function(n,t,r){i(n,t,r);r()},removeClass:function(n,t,r){i(n,t,r);r()}}}t.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabToolbar",r).animation(".md-fab-toolbar",i).service("mdFabToolbarAnimation",i)}()}(),function(){function i(i,r,u,f){function e(n,e,o,s){function k(){for(var n in r.MEDIA)f(n),f.getQuery(r.MEDIA[n]).addListener(v);return f.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],o,g)}function d(){s.layoutDelegate=t.noop;w();for(var n in r.MEDIA)f.getQuery(r.MEDIA[n]).removeListener(v)}function g(n){null==n?s.invalidateLayout():f(n)&&s.invalidateLayout()}function nt(i){var f=rt(),r={tileSpans:ut(f),colCount:ft(),rowMode:y(),rowHeight:ot(),gutter:et()},o;(i||!t.equals(r,b))&&(o=u(r.colCount,r.tileSpans,f).map(function(n,i){return{grid:{element:e,style:it(r.colCount,i,r.gutter,r.rowMode,r.rowHeight)},tiles:n.map(function(n,u){return{element:t.element(f[u]),style:tt(n.position,n.spans,r.colCount,i,r.gutter,r.rowMode,r.rowHeight)}})}}).reflow().performance(),n.mdOnLayout({$event:{performance:o}}),b=r)}function h(n){return st+n+ht}function tt(n,t,i,r,u,f,e){var v=100/i,y=(i-1)/i,p=l({share:v,gutterShare:y,gutter:u}),o={left:a({unit:p,offset:n.col,gutter:u}),width:c({unit:p,span:t.col,gutter:u}),paddingTop:"",marginTop:"",top:"",height:""},h,s;switch(f){case"fixed":o.top=a({unit:e,offset:n.row,gutter:u});o.height=c({unit:e,span:t.row,gutter:u});break;case"ratio":h=v/e;s=l({share:h,gutterShare:y,gutter:u});o.paddingTop=c({unit:s,span:t.row,gutter:u});o.marginTop=a({unit:s,offset:n.row,gutter:u});break;case"fit":var w=(r-1)/r,h=100/r,s=l({share:h,gutterShare:w,gutter:u});o.top=a({unit:s,offset:n.row,gutter:u});o.height=c({unit:s,span:t.row,gutter:u})}return o}function it(n,t,i,r,u){var f={};switch(r){case"fixed":f.height=c({unit:u,span:t,gutter:i});f.paddingBottom="";break;case"ratio":var e=1===n?0:(n-1)/n,o=100/n,s=o*(1/u),h=l({share:s,gutterShare:e,gutter:i});f.height="";f.paddingBottom=c({unit:h,span:t,gutter:i})}return f}function rt(){return[].filter.call(e.children(),function(n){return"MD-GRID-TILE"==n.tagName&&!n.$$mdDestroyed})}function ut(n){return[].map.call(n,function(n){var i=t.element(n).controller("mdGridTile");return{row:parseInt(f.getResponsiveAttribute(i.$attrs,"md-rowspan"),10)||1,col:parseInt(f.getResponsiveAttribute(i.$attrs,"md-colspan"),10)||1}})}function ft(){var n=parseInt(f.getResponsiveAttribute(o,"md-cols"),10);if(isNaN(n))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return n}function et(){return p(f.getResponsiveAttribute(o,"md-gutter")||1)}function ot(){var n=f.getResponsiveAttribute(o,"md-row-height"),t;if(!n)throw"md-grid-list: md-row-height attribute was not found";switch(y()){case"fixed":return p(n);case"ratio":return t=n.split(":"),parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function y(){var n=f.getResponsiveAttribute(o,"md-row-height");if(!n)throw"md-grid-list: md-row-height attribute was not found";return"fit"==n?"fit":-1!==n.indexOf(":")?"ratio":"fixed"}function p(n){return/\D$/.test(n)?n:n+"px"}var v,w;e.addClass("_md");e.attr("role","list");s.layoutDelegate=nt;v=t.bind(s,s.invalidateLayout);w=k();n.$on("$destroy",d);var b,st=i.startSymbol(),ht=i.endSymbol(),l=i(h("share")+"% - ("+h("gutter")+" * "+h("gutterShare")+")"),a=i("calc(("+h("unit")+" + "+h("gutter")+") * "+h("offset")+")"),c=i("calc(("+h("unit")+") * "+h("span")+" + ("+h("span")+" - 1) * "+h("gutter")+")")}return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:e}}function n(n){this.layoutInvalidated=!1;this.tilesInvalidated=!1;this.$timeout_=n.nextTick;this.layoutDelegate=t.noop}function r(n){function i(t,i){var r,c,e,o,s,h;return o=n.time(function(){c=f(t,i)}),r={layoutInfo:function(){return c},map:function(t){return s=n.time(function(){var n=r.layoutInfo();e=t(n.positioning,n.rowCount)}),r},reflow:function(t){return h=n.time(function(){var n=t||u;n(e.grid,e.tiles)}),r},performance:function(){return{tileCount:i.length,layoutTime:o,mapTime:s,reflowTime:h,totalTime:o+s+h}}}}function r(n,t){n.element.css(n.style);t.forEach(function(n){n.element.css(n.style)})}function f(n,t){function o(t,o){if(t.col>n)throw"md-grid-list: Tile at position "+o+" has a colspan ("+t.col+") that exceeds the column count ("+n+")";for(var h=0,c=0;c-h<t.col;)r>=n?f():(h=i.indexOf(0,r),-1!==h&&-1!==(c=s(h+1))?r=c+1:(h=c=0,f()));return e(h,t.col,t.row),r=h+t.col,{col:h,row:u}}function f(){r=0;u++;e(0,n,-1)}function e(n,t,r){for(var u=n;n+t>u;u++)i[u]=Math.max(i[u]+r,0)}function s(n){for(var t=n;t<i.length;t++)if(0!==i[t])return t;if(t===i.length)return t}function h(){for(var t=[],i=0;n>i;i++)t.push(0);return t}var r=0,u=0,i=h();return{positioning:t.map(function(n,t){return{spans:n,position:o(n,t)}}),rowCount:u+Math.max.apply(Math,i)}}var u=r;return i.animateWith=function(n){u=t.isFunction(n)?n:r},i}function u(n){function i(i,r,u,f){r.attr("role","listitem");var e=n.watchResponsiveAttributes(["md-colspan","md-rowspan"],u,t.bind(f,f.invalidateLayout));f.invalidateTiles();i.$on("$destroy",function(){r[0].$$mdDestroyed=!0;e();f.invalidateLayout()});t.isDefined(i.$parent.$index)&&i.$watch(function(){return i.$parent.$index},function(n,t){n!==t&&f.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude><\/figure>",transclude:!0,scope:{},controller:["$attrs",function(n){this.$attrs=n}],link:i}}function f(){return{template:"<figcaption ng-transclude><\/figcaption>",transclude:!0}}n.$inject=["$mdUtil"];r.$inject=["$mdUtil"];i.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"];u.$inject=["$mdMedia"];t.module("material.components.gridList",["material.core"]).directive("mdGridList",i).directive("mdGridTile",u).directive("mdGridTileFooter",f).directive("mdGridTileHeader",f).factory("$mdGridLayout",r);n.prototype={invalidateTiles:function(){this.tilesInvalidated=!0;this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(t.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1;this.tilesInvalidated=!1}}}}(),function(){t.module("material.components.icon",["material.core"])}(),function(){function a(n,t){function u(t){var i=t[0].querySelector(f),r=t[0].querySelector(e);return i&&t.addClass("md-icon-left"),r&&t.addClass("md-icon-right"),function(t,i){n(i)}}function i(n,i,r,u){var f=this;f.isErrorGetter=r.mdIsError&&t(r.mdIsError);f.delegateClick=function(){f.input.focus()};f.element=i;f.setFocused=function(n){i.toggleClass("md-input-focused",!!n)};f.setHasValue=function(n){i.toggleClass("md-input-has-value",!!n)};f.setHasPlaceholder=function(n){i.toggleClass("md-input-has-placeholder",!!n)};f.setInvalid=function(n){n?u.addClass(i,"md-input-invalid"):u.removeClass(i,"md-input-invalid")};n.$watch(function(){return f.label&&f.input},function(n){n&&!f.label.attr("for")&&f.label.attr("for",f.input.attr("id"))})}i.$inject=["$scope","$element","$attrs","$animate"];var r=["INPUT","TEXTAREA","SELECT","MD-SELECT"],f=r.reduce(function(n,t){return n.concat(["md-icon ~ "+t,".md-icon ~ "+t])},[]).join(","),e=r.reduce(function(n,t){return n.concat([t+" ~ md-icon",t+" ~ .md-icon"])},[]).join(",");return{restrict:"E",compile:u,controller:i}}function g(){return{restrict:"E",require:"^?mdInputContainer",link:function(n,t,i,r){!r||i.mdNoFloat||t.hasClass("md-container-ignore")||(r.label=t,n.$on("$destroy",function(){r.label=null}))}}}function r(n,i,r,u,f){function e(e,o,s,h){function y(n){return c.setHasValue(!l.$isEmpty(n)),n}function d(){c.label&&s.$observe("required",function(n){c.label.toggleClass("md-required",n&&!tt)})}function a(){c.setHasValue(o.val().length>0||(o[0].validity||{}).badInput)}function g(){function r(){var n,i,t;o.attr("rows",1).css("height","auto").addClass("md-no-flex");n=nt();h||(i=o[0].style.padding||"",h=o.css("padding",0).prop("offsetHeight"),o[0].style.padding=i);(y&&h&&(n=Math.max(n,h*y)),k&&h)&&(t=h*k,n>t?(o.attr("md-no-autogrow",""),n=t):o.removeAttr("md-no-autogrow"));h&&o.attr("rows",Math.round(n/h));o.css("height",n+"px").removeClass("md-no-flex")}function nt(){var n=p.offsetHeight,t=p.scrollHeight-n;return n+Math.max(t,0)}function w(t){return n.nextTick(r),t}function b(){if(a&&(a=!1,t.element(i).off("resize",r),d&&d(),o.attr("md-no-autogrow","").off("input",r),v)){var n=l.$formatters.indexOf(w);n>-1&&l.$formatters.splice(n,1)}}function tt(){function h(n){n.preventDefault();r=!0;y=n.clientY;p=parseFloat(o.css("height"))||o.prop("offsetHeight")}function l(n){r&&(n.preventDefault(),b(),u.addClass("md-input-resized"))}function a(t){r&&o.css("height",p+(t.pointer.y-y)-n.scrollTop()+"px")}function v(){r&&(r=!1,u.removeClass("md-input-resized"))}if(!s.hasOwnProperty("mdNoResize")){var i=t.element('<div class="md-resize-handle"><\/div>'),r=!1,y=null,p=0,u=c.element,w=f.register(i,"drag",{horizontal:!1});o.wrap('<div class="md-resize-wrapper">').after(i);i.on("mousedown",h);u.on("$md.dragstart",l).on("$md.drag",a).on("$md.dragend",v);e.$on("$destroy",function(){i.off("mousedown",h).remove();u.off("$md.dragstart",l).off("$md.drag",a).off("$md.dragend",v);w();i=null;u=null;w=null})}}var a=!s.hasOwnProperty("mdNoAutogrow"),g;if(tt(),a){var y=s.hasOwnProperty("rows")?parseInt(s.rows):NaN,k=s.hasOwnProperty("maxRows")?parseInt(s.maxRows):NaN,d=e.$on("md-resize-textarea",r),h=null,p=o[0];(u(function(){n.nextTick(r)},10,!1),o.on("input",r),v&&l.$formatters.push(w),y||o.attr("rows",1),t.element(i).on("resize",r),e.$on("$destroy",b),s.hasOwnProperty("mdDetectHidden"))&&(g=function(){var n=!1;return function(){var t=0===p.offsetHeight;t===!1&&n===!0&&r();n=t}}(),e.$watch(function(){return n.nextTick(g,!1),!0}))}}var c=h[0],v=!!h[1],l=h[1]||n.fakeNgModel(),p=h[2],nt=t.isDefined(s.readonly),tt=n.parseAttributeBoolean(s.mdNoAsterisk),w=o[0].tagName.toLowerCase(),b,k;if(c){if("hidden"===s.type)return void o.attr("aria-hidden","true");if(c.input){if(c.input[0].contains(o[0]))return;throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!");}c.input=o;d();b=t.element('<div class="md-errors-spacer">');o.after(b);c.label||r.expect(o,"aria-label",s.placeholder);o.addClass("md-input");o.attr("id")||o.attr("id","input_"+n.nextUid());"input"===w&&"number"===s.type&&s.min&&s.max&&!s.step?o.attr("step","any"):"textarea"===w&&g();v||a();k=c.isErrorGetter||function(){return l.$invalid&&(l.$touched||p&&p.$submitted)};e.$watch(k,c.setInvalid);s.ngValue&&s.$observe("value",a);l.$parsers.push(y);l.$formatters.push(y);o.on("input",a);nt||o.on("focus",function(){n.nextTick(function(){c.setFocused(!0)})}).on("blur",function(){n.nextTick(function(){c.setFocused(!1);a()})});e.$on("$destroy",function(){c.setFocused(!1);c.setHasValue(!1);c.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:e}}function v(n,i){function r(r,u,f,e){function h(n){return o.parent?(o.text(String(u.val()||n||"").length+" / "+s),n):n}var s,o,c,l=e[0],a=e[1];i.nextTick(function(){c=t.element(a.element[0].querySelector(".md-errors-spacer"));o=t.element('<div class="md-char-counter">');c.append(o);f.$set("ngTrim","false");l.$formatters.push(h);l.$viewChangeListeners.push(h);u.on("input keydown keyup",function(){h()});r.$watch(f.mdMaxlength,function(i){s=i;t.isNumber(i)&&i>0?(o.parent().length||n.enter(o,c),h()):n.leave(o)});l.$validators["md-maxlength"]=function(n,i){return!t.isNumber(s)||0>s||(n||u.val()||i||"").length<=s}})}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:r}}function y(n){function i(i,r,u,f){var e,o,s;if(f){if(e=f.element.find("label"),o=f.element.attr("md-no-float"),e&&e.length||""===o||i.$eval(o))return void f.setHasPlaceholder(!0);"MD-SELECT"!=r[0].nodeName&&(s=t.element('<label ng-click="delegateClick()" tabindex="-1">'+u.placeholder+"<\/label>"),u.$set("placeholder",null),f.element.addClass("md-icon-float").prepend(s),n(s)(i))}}return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:i}}}function p(n){function t(t,i){function u(){r=!0;n(function(){i[0].select();r=!1},1,!1)}function f(n){r&&n.preventDefault()}if("INPUT"===i[0].nodeName||"TEXTAREA"===i[0].nodeName){var r=!1;i.on("focus",u).on("mouseup",f);t.$on("$destroy",function(){i.off("focus",u).off("mouseup",f)})}}return{restrict:"A",link:t}}function nt(){function n(n,i,r,u){u&&(i.toggleClass("md-input-messages-animation",!0),i.toggleClass("md-auto-hide",!0),("false"==r.mdAutoHide||t(r))&&i.toggleClass("md-auto-hide",!1))}function t(n){return it.some(function(t){return n[t]})}return{restrict:"EA",link:n,require:"^^?mdInputContainer"}}function u(n){function t(t){function u(){for(var n=t[0];n=n.parentNode;)if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return!0;return!1}function i(t){return!!n.getClosest(t,"md-input-container")}function r(n){n.toggleClass("md-input-message-animation",!0)}if(i(t))r(t);else if(u())return function(n,u){i(u)&&r(t)}}return{restrict:"EA",compile:t,priority:100}}function f(n,t,i){return c(n,t,i),{addClass:function(n,t,i){s(n,i)}}}function e(n,t,i){return c(n,t,i),{enter:function(n,t){s(n,t)},leave:function(n,t){w(n,t)},addClass:function(n,t,i){"ng-hide"==t?w(n,i):i()},removeClass:function(n,t,i){"ng-hide"==t?s(n,i):i()}}}function o(n,t,i){return c(n,t,i),{enter:function(n,t){var i=b(n);i.start().done(t)},leave:function(n,t){var i=k(n);i.start().done(t)}}}function s(n,i){var r,u=[],f=h(n);t.forEach(f.children(),function(n){r=b(t.element(n));u.push(r.start())});l.all(u,i)}function w(n,i){var r,u=[],f=h(n);t.forEach(f.children(),function(n){r=k(t.element(n));u.push(r.start())});l.all(u,i)}function b(t){var r=parseInt(n.getComputedStyle(t[0]).height),u=parseInt(n.getComputedStyle(t[0]).marginTop),f=h(t),e=tt(t),o=u>-r;return o||f.hasClass("md-auto-hide")&&!e.hasClass("md-input-invalid")?i(t,{}):i(t,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-r+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function k(t){var r=t[0].offsetHeight,u=n.getComputedStyle(t[0]);return 0==u.opacity?i(t,{}):i(t,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-r+"px"},duration:.3})}function tt(n){var t=n.controller("mdInputContainer");return t.element}function h(n){return n.hasClass("md-input-message-animation")?t.element(d.getClosest(n,function(n){return n.classList.contains("md-input-messages-animation")})):t.element(n[0].querySelector(".md-input-messages-animation"))}function c(n,t,r){l=n;i=t;d=r}a.$inject=["$mdTheming","$parse"];r.$inject=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"];v.$inject=["$animate","$mdUtil"];y.$inject=["$compile"];u.$inject=["$mdUtil"];p.$inject=["$timeout"];f.$inject=["$$AnimateRunner","$animateCss","$mdUtil"];e.$inject=["$$AnimateRunner","$animateCss","$mdUtil"];o.$inject=["$$AnimateRunner","$animateCss","$mdUtil"];t.module("material.components.input",["material.core"]).directive("mdInputContainer",a).directive("label",g).directive("input",r).directive("textarea",r).directive("mdMaxlength",v).directive("placeholder",y).directive("ngMessages",nt).directive("ngMessage",u).directive("ngMessageExp",u).directive("mdSelectOnFocus",p).animation(".md-input-invalid",f).animation(".md-input-messages-animation",e).animation(".md-input-message-animation",o).service("mdInputInvalidAnimation",f).service("mdInputMessagesAnimation",e).service("mdInputMessageAnimation",o);var l,i,d,it=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"]}(),function(){function n(n){return{restrict:"E",compile:function(t){return t[0].setAttribute("role","list"),n}}}function i(n,i,r,u){var f=["md-checkbox","md-switch","md-menu"];return{restrict:"E",controller:"MdListController",compile:function(e,o){function w(){for(var n,r,i,u=["md-switch","md-checkbox"],t=0;r=u[t];++t)if((n=e.find(r)[0])&&!n.hasAttribute("aria-label")){if(i=e.find("p")[0],!i)return;n.setAttribute("aria-label","Toggle "+i.textContent)}}function b(){var i=t.element(h),u=i.parent().hasClass("md-secondary-container")||h.parentNode.firstElementChild!==h,r="left",n;u&&(r="right");i.attr("md-position-mode")||i.attr("md-position-mode",r+" target");n=i.children().eq(0);c(n[0])||n.attr("ng-click","$mdOpenMenu($event)");n.attr("aria-label")||n.attr("aria-label","Open List Menu")}function v(n){if("div"==n)s=t.element('<div class="md-no-style md-list-item-inner">'),s.append(e.contents()),e.addClass("md-proxy-focus");else{s=t.element('<div class="md-button md-no-style">   <div class="md-list-item-inner"><\/div><\/div>');var i=t.element('<md-button class="md-no-style"><\/md-button>');i[0].setAttribute("aria-label",e[0].textContent);y(e[0],i[0]);e.hasClass("md-no-focus")&&i.addClass("md-no-focus");s.prepend(i);s.children().eq(1).append(e.contents());e.addClass("_md-button-wrap")}e[0].setAttribute("tabindex","-1");e.append(s)}function k(){var n=t.element('<div class="md-secondary-container">');t.forEach(it,function(t){d(t,n)});s.append(n)}function d(i,r){if(i&&!nt(i)&&i.hasAttribute("ng-click")){n.expect(i,"aria-label");var u=t.element('<md-button class="md-secondary md-icon-button">');y(i,u[0],["ng-if","ng-hide","ng-show"]);i.setAttribute("tabindex","-1");u.append(i);i=u[0]}i&&(!c(i)||!o.ngClick&&g(i))&&t.element(i).removeClass("md-secondary");e.addClass("md-with-secondary");r.append(i)}function y(n,i,u){var f=r.prefixer(["ng-if","ng-click","ng-dblclick","aria-label","ng-disabled","ui-sref","href","ng-href","target","ng-attr-ui-sref","ui-sref-opts"]);u&&(f=f.concat(r.prefixer(u)));t.forEach(f,function(t){n.hasAttribute(t)&&(i.setAttribute(t,n.getAttribute(t)),n.removeAttribute(t))})}function g(n){return-1!=f.indexOf(n.nodeName.toLowerCase())}function nt(n){var t=n.nodeName.toUpperCase();return"MD-BUTTON"==t||"BUTTON"==t}function c(n){for(var i=n.attributes,t=0;t<i.length;t++)if("ngClick"===o.$normalize(i[t].name))return!0;return!1}function tt(n,e,o,s){function p(){a&&a.children&&!v&&t.forEach(f,function(n){t.forEach(a.querySelectorAll(n+":not(.md-secondary)"),function(n){l.push(n)})})}function w(){(1==l.length||v)&&(e.addClass("md-clickable"),v||s.attachRipple(n,t.element(e[0].querySelector(".md-no-style"))))}function b(n){var i=["md-slider"],r,t;if(!n.path)return-1!==i.indexOf(n.target.tagName.toLowerCase());for(r=n.path.indexOf(e.children()[0]),t=0;r>t;t++)if(-1!==i.indexOf(n.path[t].tagName.toLowerCase()))return!0}var y;e.addClass("_md");var l=[],a=e[0].firstElementChild,k=e.hasClass("_md-button-wrap"),h=k?a.firstElementChild:a,v=h&&c(h);p();w();e.hasClass("md-proxy-focus")&&l.length&&t.forEach(l,function(i){i=t.element(i);n.mouseActive=!1;i.on("mousedown",function(){n.mouseActive=!0;u(function(){n.mouseActive=!1},100)}).on("focus",function(){n.mouseActive===!1&&e.addClass("md-focused");i.on("blur",function t(){e.removeClass("md-focused");i.off("blur",t)})})});y=function(n){if("INPUT"!=n.target.nodeName&&"TEXTAREA"!=n.target.nodeName&&!n.target.isContentEditable){var t=n.which||n.keyCode;t==i.KEY_CODE.SPACE&&h&&(h.click(),n.preventDefault(),n.stopPropagation())}};v||l.length||h&&h.addEventListener("keypress",y);e.off("click");e.off("keypress");1==l.length&&h&&e.children().eq(0).on("click",function(n){if(!b(n)){var i=r.getClosest(n.target,"BUTTON");!i&&h.contains(n.target)&&t.forEach(l,function(i){n.target===i||i.contains(n.target)||("MD-MENU"===i.nodeName&&(i=i.children[0]),t.element(i).triggerHandler("click"))})}});n.$on("$destroy",function(){h&&h.removeEventListener("keypress",y)})}var l,h,it=e[0].querySelectorAll(".md-secondary"),s=e,p,a;if(e[0].setAttribute("role","listitem"),o.ngClick||o.ngDblclick||o.ngHref||o.href||o.uiSref||o.ngAttrUiSref)v("button");else{for(a=0;p=f[a];++a)if(h=e[0].querySelector(p)){l=!0;break}l?v("div"):e[0].querySelector("md-button:not(.md-secondary):not(.md-exclude)")||e.addClass("md-no-proxy")}return k(),w(),l&&"MD-MENU"===h.nodeName&&b(),tt}}}function r(n,t,i){function r(n,t){i.attach(n,t,{})}var u=this;u.attachRipple=r}r.$inject=["$scope","$element","$mdListInkRipple"];n.$inject=["$mdTheming"];i.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"];t.module("material.components.list",["material.core"]).controller("MdListController",r).directive("mdList",n).directive("mdListItem",i)}(),function(){t.module("material.components.menu",["material.core","material.components.backdrop"])}(),function(){t.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"])}(),function(){function u(i,r){return{restrict:"E",transclude:!0,controller:n,controllerAs:"ctrl",bindToController:!0,scope:{mdSelectedNavItem:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="listbox"tabindex="0"ng-focus="ctrl.onFocus()"ng-blur="ctrl.onBlur()"ng-keydown="ctrl.onKeydown($event)"aria-label="{{ctrl.navBarAriaLabel}}"><\/ul><\/nav><md-nav-ink-bar><\/md-nav-ink-bar><\/div>',link:function(n,u,f,e){r(u);e.navBarAriaLabel||i.expectAsync(u,"aria-label",t.noop)}}}function n(n,t,i,r){this._$timeout=i;this._$scope=t;this._$mdConstant=r;this.mdSelectedNavItem;this.navBarAriaLabel;this._navBarEl=n[0];this._inkbar;var u=this,f=this._$scope.$watch(function(){return u._navBarEl.querySelectorAll("._md-nav-button").length},function(n){n>0&&(u._initTabs(),f())})}function f(n){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:r,bindToController:!0,controllerAs:"ctrl",replace:!0,transclude:!0,template:'<li class="md-nav-item" role="option" aria-selected="{{ctrl.isSelected()}}"><md-button ng-if="ctrl.mdNavSref" class="_md-nav-button md-accent"ng-class="ctrl.getNgClassMap()"tabindex="-1"ui-sref="{{ctrl.mdNavSref}}"><span ng-transclude class="_md-nav-button-text"><\/span><\/md-button><md-button ng-if="ctrl.mdNavHref" class="_md-nav-button md-accent"ng-class="ctrl.getNgClassMap()"tabindex="-1"ng-href="{{ctrl.mdNavHref}}"><span ng-transclude class="_md-nav-button-text"><\/span><\/md-button><md-button ng-if="ctrl.mdNavClick" class="_md-nav-button md-accent"ng-class="ctrl.getNgClassMap()"tabindex="-1"ng-click="ctrl.mdNavClick()"><span ng-transclude class="_md-nav-button-text"><\/span><\/md-button><\/li>',scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",name:"@"},link:function(i,r,u,f){var e=f[0],o=f[1];n(function(){e.name||(e.name=t.element(r[0].querySelector("._md-nav-button-text")).text().trim());var n=t.element(r[0].querySelector("._md-nav-button"));n.on("click",function(){o.mdSelectedNavItem=e.name;i.$apply()})})}}}function r(n){this._$element=n;this.mdNavClick;this.mdNavHref;this.name;this._selected=!1;this._focused=!1;var t=!!n.attr("md-nav-click"),i=!!n.attr("md-nav-href"),r=!!n.attr("md-nav-sref");if((t?1:0)+(i?1:0)+(r?1:0)>1)throw Error("Must specify exactly one of md-nav-click, md-nav-href, md-nav-sref for nav-item directive");}n.$inject=["$element","$scope","$timeout","$mdConstant"];f.$inject=["$$rAF"];r.$inject=["$element"];u.$inject=["$mdAria","$mdTheming"];t.module("material.components.navBar",["material.core"]).controller("MdNavBarController",n).directive("mdNavBar",u).controller("MdNavItemController",r).directive("mdNavItem",f);n.prototype._initTabs=function(){this._inkbar=t.element(this._navBarEl.getElementsByTagName("md-nav-ink-bar")[0]);var n=this;this._$timeout(function(){n._updateTabs(n.mdSelectedNavItem,i)});this._$scope.$watch("ctrl.mdSelectedNavItem",function(t,i){n._$timeout(function(){n._updateTabs(t,i)})})};n.prototype._updateTabs=function(n,t){var o=this,u=this._getTabs(),f=-1,e=-1,i=this._getTabByName(n),r=this._getTabByName(t);r&&(r.setSelected(!1),f=u.indexOf(r));i&&(i.setSelected(!0),e=u.indexOf(i));this._$timeout(function(){o._updateInkBarStyles(i,e,f)})};n.prototype._updateInkBarStyles=function(n,t,i){if(this._inkbar.toggleClass("_md-left",i>t).toggleClass("_md-right",t>i),this._inkbar.css({display:0>t?"none":""}),n){var r=n.getButtonEl(),u=r.offsetLeft;this._inkbar.css({left:u+"px",width:r.offsetWidth+"px"})}};n.prototype._getTabs=function(){var n=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item"));return n.map(function(n){return t.element(n).controller("mdNavItem")})};n.prototype._getTabByName=function(n){return this._findTab(function(t){return t.getName()==n})};n.prototype._getSelectedTab=function(){return this._findTab(function(n){return n.isSelected()})};n.prototype.getFocusedTab=function(){return this._findTab(function(n){return n.hasFocus()})};n.prototype._findTab=function(n){for(var i=this._getTabs(),t=0;t<i.length;t++)if(n(i[t]))return i[t];return null};n.prototype.onFocus=function(){var n=this._getSelectedTab();n&&n.setFocused(!0)};n.prototype.onBlur=function(){var n=this.getFocusedTab();n&&n.setFocused(!1)};n.prototype._moveFocus=function(n,t){n.setFocused(!1);t.setFocused(!0)};n.prototype.onKeydown=function(n){var t=this._$mdConstant.KEY_CODE,u=this._getTabs(),i=this.getFocusedTab(),r;if(i){r=u.indexOf(i);switch(n.keyCode){case t.UP_ARROW:case t.LEFT_ARROW:r>0&&this._moveFocus(i,u[r-1]);break;case t.DOWN_ARROW:case t.RIGHT_ARROW:r<u.length-1&&this._moveFocus(i,u[r+1]);break;case t.SPACE:case t.ENTER:this._$timeout(function(){i.getButtonEl().click()})}}};r.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}};r.prototype.getName=function(){return this.name};r.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")};r.prototype.setSelected=function(n){this._selected=n};r.prototype.isSelected=function(){return this._selected};r.prototype.setFocused=function(n){this._focused=n};r.prototype.hasFocus=function(){return this._focused}}(),function(){function f(i,r,f,e){this._defaultConfigOptions={bindToController:!0,clickOutsideToClose:!1,disableParentScroll:!1,escapeToClose:!1,focusOnOpen:!0,fullscreen:!1,hasBackdrop:!1,propagateContainerEvents:!1,transformTemplate:t.bind(this,this._wrapTemplate),trapFocus:!1,zIndex:h};this._config={};this._$rootElement=i;this._$rootScope=r;this._$injector=f;this._$window=e;this._trackedPanels={};this.animation=u.animation;this.xPosition=n.xPosition;this.yPosition=n.yPosition}function r(n,t){this._$q=t.get("$q");this._$mdCompiler=t.get("$mdCompiler");this._$mdConstant=t.get("$mdConstant");this._$mdUtil=t.get("$mdUtil");this._$rootScope=t.get("$rootScope");this._$animate=t.get("$animate");this._$mdPanel=t.get("$mdPanel");this._$log=t.get("$log");this._$window=t.get("$window");this._$$rAF=t.get("$$rAF");this.id=n.id;this.config=n;this.panelContainer;this.panelEl;this.isAttached=!1;this._removeListeners=[];this._topFocusTrap;this._bottomFocusTrap;this._backdropRef;this._restoreScroll=null}function n(n){this._$window=n.get("$window");this._isRTL="rtl"===n.get("$mdUtil").bidi();this._absolute=!1;this._relativeToEl;this._top="";this._bottom="";this._left="";this._right="";this._translateX=[];this._translateY=[];this._positions=[];this._actualPosition}function u(n){this._$mdUtil=n.get("$mdUtil");this._openFrom;this._closeTo;this._animationClass=""}function e(n){var i=t.isString(n)?document.querySelector(n):n;return t.element(i)}f.$inject=["$rootElement","$rootScope","$injector","$window"];t.module("material.components.panel",["material.core","material.components.backdrop"]).service("$mdPanel",f);var h=80,o="_md-panel-hidden",s=t.element('<div class="_md-panel-focus-trap" tabindex="0"><\/div>');f.prototype.create=function(n){if(n=n||{},t.isDefined(n.id)&&this._trackedPanels[n.id])return this._trackedPanels[n.id];this._config={id:n.id||"panel_"+this._$injector.get("$mdUtil").nextUid(),scope:this._$rootScope.$new(!0),attachTo:this._$rootElement};t.extend(this._config,this._defaultConfigOptions,n);var i=new r(this._config,this._$injector);return this._trackedPanels[n.id]=i,i};f.prototype.open=function(n){var t=this.create(n);return t.open().then(function(){return t})};f.prototype.newPanelPosition=function(){return new n(this._$injector)};f.prototype.newPanelAnimation=function(){return new u(this._$injector)};f.prototype._wrapTemplate=function(n){var t=n||"";return'<div class="md-panel-outer-wrapper">  <div class="md-panel" style="left: -9999px;">'+t+"<\/div><\/div>"};r.prototype.open=function(){var n=this;return this._$q(function(t,i){var r=n._done(t,n),u=n._simpleBind(n.show,n);n.attach().then(u).then(r)["catch"](i)})};r.prototype.close=function(){var n=this;return this._$q(function(t,i){var r=n._done(t,n),u=n._simpleBind(n.detach,n);n.hide().then(u).then(r)["catch"](i)})};r.prototype.attach=function(){if(this.isAttached&&this.panelEl)return this._$q.when(this);var n=this;return this._$q(function(i,r){var u=n._done(i,n),f=n.config.onDomAdded||t.noop,e=function(t){return n.isAttached=!0,n._addEventListeners(),t};n._$q.all([n._createBackdrop(),n._createPanel().then(e)["catch"](r)]).then(f).then(u)["catch"](r)})};r.prototype.detach=function(){if(!this.isAttached)return this._$q.when(this);var n=this,i=n.config.onDomRemoved||t.noop,r=function(){return n._removeEventListeners(),n._topFocusTrap&&n._topFocusTrap.parentNode&&n._topFocusTrap.parentNode.removeChild(n._topFocusTrap),n._bottomFocusTrap&&n._bottomFocusTrap.parentNode&&n._bottomFocusTrap.parentNode.removeChild(n._bottomFocusTrap),n.panelContainer.remove(),n.isAttached=!1,n._$q.when(n)};return this._restoreScroll&&(this._restoreScroll(),this._restoreScroll=null),this._$q(function(t,u){var f=n._done(t,n);n._$q.all([r(),!n._backdropRef||n._backdropRef.detach()]).then(i).then(f)["catch"](u)})};r.prototype.destroy=function(){this.config.scope.$destroy();this.config.locals=null};r.prototype.show=function(){if(!this.panelContainer)return this._$q(function(n,t){t("Panel does not exist yet. Call open() or attach().")});if(!this.panelContainer.hasClass(o))return this._$q.when(this);var n=this,i=function(){return n.panelContainer.removeClass(o),n._animateOpen()};return this._$q(function(r,u){var f=n._done(r,n),e=n.config.onOpenComplete||t.noop;n._$q.all([n._backdropRef?n._backdropRef.show():n,i().then(function(){n._focusOnOpen()},u)]).then(e).then(f)["catch"](u)})};r.prototype.hide=function(){if(!this.panelContainer)return this._$q(function(n,t){t("Panel does not exist yet. Call open() or attach().")});if(this.panelContainer.hasClass(o))return this._$q.when(this);var n=this;return this._$q(function(i,r){var u=n._done(i,n),f=n.config.onRemoving||t.noop,s=function(){var t=n.config.origin;t&&e(t).focus()},h=function(){n.panelContainer.addClass(o)};n._$q.all([n._backdropRef?n._backdropRef.hide():n,n._animateClose().then(f).then(h).then(s)["catch"](r)]).then(u,r)})};r.prototype.addClass=function(n,t){if(this._$log.warn("The addClass method is in the process of being deprecated. Full deprecation is scheduled for the Angular Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("Panel does not exist yet. Call open() or attach().");t||this.panelContainer.hasClass(n)?t&&!this.panelEl.hasClass(n)&&this.panelEl.addClass(n):this.panelContainer.addClass(n)};r.prototype.removeClass=function(n,t){if(this._$log.warn("The removeClass method is in the process of being deprecated. Full deprecation is scheduled for the Angular Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("Panel does not exist yet. Call open() or attach().");!t&&this.panelContainer.hasClass(n)?this.panelContainer.removeClass(n):t&&this.panelEl.hasClass(n)&&this.panelEl.removeClass(n)};r.prototype.toggleClass=function(n,t){if(this._$log.warn("The toggleClass method is in the process of being deprecated. Full deprecation is scheduled for the Angular Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("Panel does not exist yet. Call open() or attach().");t?this.panelEl.toggleClass(n):this.panelContainer.toggleClass(n)};r.prototype._createPanel=function(){var n=this;return this._$q(function(i,r){n.config.locals||(n.config.locals={});n.config.locals.mdPanelRef=n;n._$mdCompiler.compile(n.config).then(function(u){n.panelContainer=u.link(n.config.scope);e(n.config.attachTo).append(n.panelContainer);n.config.disableParentScroll&&(n._restoreScroll=n._$mdUtil.disableScrollAround(null,n.panelContainer,{disableScrollMask:!0}));n.panelEl=t.element(n.panelContainer[0].querySelector(".md-panel"));n.config.panelClass&&n.panelEl.addClass(n.config.panelClass);n.config.propagateContainerEvents&&n.panelContainer.css("pointer-events","none");n._$animate.pin&&n._$animate.pin(n.panelContainer,e(n.config.attachTo));n._configureTrapFocus();n._addStyles().then(function(){i(n)},r)},r)})};r.prototype._addStyles=function(){var n=this;return this._$q(function(t){var i,r;return(n.panelContainer.css("z-index",n.config.zIndex),n.panelEl.css("z-index",n.config.zIndex+1),i=function(){n.panelEl.css("left","");n.panelContainer.addClass(o);t(n)},n.config.fullscreen)?(n.panelEl.addClass("_md-panel-fullscreen"),void i()):(r=n.config.position,r?void n._$rootScope.$$postDigest(function(){n._updatePosition(!0);t(n)}):void i())})};r.prototype.updatePosition=function(n){if(!this.panelContainer)throw new Error("Panel does not exist yet. Call open() or attach().");this.config.position=n;this._updatePosition()};r.prototype._updatePosition=function(t){var i=this.config.position,r;i&&(i._setPanelPosition(this.panelEl),t&&this.panelContainer.addClass(o),this.panelEl.css(n.absPosition.TOP,i.getTop()),this.panelEl.css(n.absPosition.BOTTOM,i.getBottom()),this.panelEl.css(n.absPosition.LEFT,i.getLeft()),this.panelEl.css(n.absPosition.RIGHT,i.getRight()),r=this._$mdConstant.CSS.TRANSFORM,this.panelEl.css(r,i.getTransform()))};r.prototype._focusOnOpen=function(){if(this.config.focusOnOpen){var n=this;this._$rootScope.$$postDigest(function(){var t=n._$mdUtil.findFocusTarget(n.panelEl)||n.panelEl;t.focus()})}};r.prototype._createBackdrop=function(){if(this.config.hasBackdrop){if(!this._backdropRef){var n=this._$mdPanel.newPanelAnimation().openFrom(this.config.attachTo).withAnimation({open:"_md-opaque-enter",close:"_md-opaque-leave"}),t={animation:n,attachTo:this.config.attachTo,focusOnOpen:!1,panelClass:"_md-panel-backdrop",zIndex:this.config.zIndex-1};this._backdropRef=this._$mdPanel.create(t)}if(!this._backdropRef.isAttached)return this._backdropRef.attach()}};r.prototype._addEventListeners=function(){this._configureEscapeToClose();this._configureClickOutsideToClose();this._configureScrollListener()};r.prototype._removeEventListeners=function(){this._removeListeners&&this._removeListeners.forEach(function(n){n()});this._removeListeners=[]};r.prototype._configureEscapeToClose=function(){if(this.config.escapeToClose){var i=e(this.config.attachTo),t=this,n=function(n){n.keyCode===t._$mdConstant.KEY_CODE.ESCAPE&&(n.stopPropagation(),n.preventDefault(),t.close())};this.panelContainer.on("keydown",n);i.on("keydown",n);this._removeListeners.push(function(){t.panelContainer.off("keydown",n);i.off("keydown",n)})}};r.prototype._configureClickOutsideToClose=function(){if(this.config.clickOutsideToClose){var t,n=this.panelContainer,i=function(n){t=n.target},u=this,r=function(i){t===n[0]&&i.target===n[0]&&(i.stopPropagation(),i.preventDefault(),u.close())};n.on("mousedown",i);n.on("mouseup",r);this._removeListeners.push(function(){n.off("mousedown",i);n.off("mouseup",r)})}};r.prototype._configureScrollListener=function(){var r=t.bind(this,this._updatePosition),u=this._$$rAF.throttle(r),n=this,i=function(){n.config.disableParentScroll||u()};this._$window.addEventListener("scroll",i,!0);this._removeListeners.push(function(){n._$window.removeEventListener("scroll",i,!0)})};r.prototype._configureTrapFocus=function(){var n,t;(this.panelEl.attr("tabIndex","-1"),this.config.trapFocus)&&(n=this.panelEl,this._topFocusTrap=s.clone()[0],this._bottomFocusTrap=s.clone()[0],t=function(){n.focus()},this._topFocusTrap.addEventListener("focus",t),this._bottomFocusTrap.addEventListener("focus",t),this._removeListeners.push(this._simpleBind(function(){this._topFocusTrap.removeEventListener("focus",t);this._bottomFocusTrap.removeEventListener("focus",t)},this)),n[0].parentNode.insertBefore(this._topFocusTrap,n[0]),n.after(this._bottomFocusTrap))};r.prototype._animateOpen=function(){var t,n;return(this.panelContainer.addClass("md-panel-is-showing"),t=this.config.animation,!t)?(this.panelContainer.addClass("_md-panel-shown"),this._$q.when(this)):(n=this,this._$q(function(i){var r=n._done(i,n),u=function(){n._$log.warn("MdPanel Animations failed. Showing panel without animating.");r()};t.animateOpen(n.panelEl).then(r,u)}))};r.prototype._animateClose=function(){var t=this.config.animation,n;return t?(n=this,this._$q(function(i){var r=function(){n.panelContainer.removeClass("md-panel-is-showing");i(n)},u=function(){n._$log.warn("MdPanel Animations failed. Hiding panel without animating.");r()};t.animateClose(n.panelEl).then(r,u)})):(this.panelContainer.removeClass("md-panel-is-showing"),this.panelContainer.removeClass("_md-panel-shown"),this._$q.when(this))};r.prototype._simpleBind=function(n,t){return function(i){return n.apply(t,i)}};r.prototype._done=function(n,t){return function(){n(t)}};n.xPosition={CENTER:"center",ALIGN_START:"align-start",ALIGN_END:"align-end",OFFSET_START:"offset-start",OFFSET_END:"offset-end"};n.yPosition={CENTER:"center",ALIGN_TOPS:"align-tops",ALIGN_BOTTOMS:"align-bottoms",ABOVE:"above",BELOW:"below"};n.absPosition={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"};n.prototype.absolute=function(){return this._absolute=!0,this};n.prototype._setPosition=function(i,r){if(i===n.absPosition.RIGHT||i===n.absPosition.LEFT)this._left=this._right="";else{if(i!==n.absPosition.BOTTOM&&i!==n.absPosition.TOP){var u=Object.keys(n.absPosition).join().toLowerCase();throw new Error("Position must be one of "+u+".");}this._top=this._bottom=""}return this["_"+i]=t.isString(r)?r:"0",this};n.prototype.top=function(t){return this._setPosition(n.absPosition.TOP,t)};n.prototype.bottom=function(t){return this._setPosition(n.absPosition.BOTTOM,t)};n.prototype.start=function(t){var i=this._isRTL?n.absPosition.RIGHT:n.absPosition.LEFT;return this._setPosition(i,t)};n.prototype.end=function(t){var i=this._isRTL?n.absPosition.LEFT:n.absPosition.RIGHT;return this._setPosition(i,t)};n.prototype.left=function(t){return this._setPosition(n.absPosition.LEFT,t)};n.prototype.right=function(t){return this._setPosition(n.absPosition.RIGHT,t)};n.prototype.centerHorizontally=function(){return this._left="50%",this._right="",this._translateX=["-50%"],this};n.prototype.centerVertically=function(){return this._top="50%",this._bottom="",this._translateY=["-50%"],this};n.prototype.center=function(){return this.centerHorizontally().centerVertically()};n.prototype.relativeTo=function(n){return this._absolute=!1,this._relativeToEl=e(n),this};n.prototype.addPanelPosition=function(n,t){if(!this._relativeToEl)throw new Error("addPanelPosition can only be used with relative positioning. Set relativeTo first.");return this._validateXPosition(n),this._validateYPosition(t),this._positions.push({x:n,y:t}),this};n.prototype._validateYPosition=function(t){var i;if(null!=t){for(var r,e=Object.keys(n.yPosition),u=[],f=0;r=e[f];f++)if(i=n.yPosition[r],u.push(i),i===t)return;throw new Error("Panel y position only accepts the following values:\n"+u.join(" | "));}};n.prototype._validateXPosition=function(t){var i;if(null!=t){for(var r,e=Object.keys(n.xPosition),u=[],f=0;r=e[f];f++)if(i=n.xPosition[r],u.push(i),i===t)return;throw new Error("Panel x Position only accepts the following values:\n"+u.join(" | "));}};n.prototype.withOffsetX=function(n){return this._translateX.push(n),this};n.prototype.withOffsetY=function(n){return this._translateY.push(n),this};n.prototype.getTop=function(){return this._top};n.prototype.getBottom=function(){return this._bottom};n.prototype.getLeft=function(){return this._left};n.prototype.getRight=function(){return this._right};n.prototype.getTransform=function(){var n=this._reduceTranslateValues("translateX",this._translateX),t=this._reduceTranslateValues("translateY",this._translateY);return(n+" "+t).trim()};n.prototype._isOnscreen=function(n){var t=parseInt(this.getLeft()),i=parseInt(this.getTop()),r=t+n[0].offsetWidth,u=i+n[0].offsetHeight;return t>=0&&i>=0&&u<=this._$window.innerHeight&&r<=this._$window.innerWidth};n.prototype.getActualPosition=function(){return this._actualPosition};n.prototype._reduceTranslateValues=function(n,t){return t.map(function(t){return n+"("+t+")"}).join(" ")};n.prototype._setPanelPosition=function(n){if(!this._absolute){if(this._actualPosition)return void this._calculatePanelPosition(n,this._actualPosition);for(var t=0;t<this._positions.length&&(this._actualPosition=this._positions[t],this._calculatePanelPosition(n,this._actualPosition),!this._isOnscreen(n));t++);}};n.prototype._reverseXPosition=function(t){if(t!==n.xPosition.CENTER){var i="start",r="end";return t.indexOf(i)>-1?t.replace(i,r):t.replace(r,i)}};n.prototype._bidi=function(n){return this._isRTL?this._reverseXPosition(n):n};n.prototype._calculatePanelPosition=function(t,i){var s=t[0].getBoundingClientRect(),u=s.width,f=s.height,r=this._relativeToEl[0].getBoundingClientRect(),e=r.left,h=r.right,v=r.width,c,a;switch(this._bidi(i.x)){case n.xPosition.OFFSET_START:this._left=e-u+"px";break;case n.xPosition.ALIGN_END:this._left=h-u+"px";break;case n.xPosition.CENTER:c=e+.5*v-.5*u;this._left=c+"px";break;case n.xPosition.ALIGN_START:this._left=e+"px";break;case n.xPosition.OFFSET_END:this._left=h+"px"}var o=r.top,l=r.bottom,y=r.height;switch(i.y){case n.yPosition.ABOVE:this._top=o-f+"px";break;case n.yPosition.ALIGN_BOTTOMS:this._top=l-f+"px";break;case n.yPosition.CENTER:a=o+.5*y-.5*f;this._top=a+"px";break;case n.yPosition.ALIGN_TOPS:this._top=o+"px";break;case n.yPosition.BELOW:this._top=l+"px"}};u.animation={SLIDE:"md-panel-animate-slide",SCALE:"md-panel-animate-scale",FADE:"md-panel-animate-fade"};u.prototype.openFrom=function(n){return n=n.target?n.target:n,this._openFrom=this._getPanelAnimationTarget(n),this._closeTo||(this._closeTo=this._openFrom),this};u.prototype.closeTo=function(n){return this._closeTo=this._getPanelAnimationTarget(n),this};u.prototype._getPanelAnimationTarget=function(n){return t.isDefined(n.top)||t.isDefined(n.left)?{element:i,bounds:{top:n.top||0,left:n.left||0}}:this._getBoundingClientRect(e(n))};u.prototype.withAnimation=function(n){return this._animationClass=n,this};u.prototype.animateOpen=function(n){var i=this._$mdUtil.dom.animator,o,s;this._fixBounds(n);var r={},f=n[0].style.transform||"",e=i.toTransformCss(f),h=i.toTransformCss(f);switch(this._animationClass){case u.animation.SLIDE:n.css("opacity","1");r={transitionInClass:"_md-panel-animate-enter"};o=i.calculateSlideToOrigin(n,this._openFrom)||"";e=i.toTransformCss(o+" "+f);break;case u.animation.SCALE:r={transitionInClass:"_md-panel-animate-enter"};s=i.calculateZoomToOrigin(n,this._openFrom)||"";e=i.toTransformCss(s+" "+f);break;case u.animation.FADE:r={transitionInClass:"_md-panel-animate-enter"};break;default:r=t.isString(this._animationClass)?{transitionInClass:this._animationClass}:{transitionInClass:this._animationClass.open,transitionOutClass:this._animationClass.close}}return i.translate3d(n,e,h,r)};u.prototype.animateClose=function(n){var i=this._$mdUtil.dom.animator,r={},f=n[0].style.transform||"",h=i.toTransformCss(f),e=i.toTransformCss(f),o,s;switch(this._animationClass){case u.animation.SLIDE:n.css("opacity","1");r={transitionInClass:"_md-panel-animate-leave"};o=i.calculateSlideToOrigin(n,this._closeTo)||"";e=i.toTransformCss(o+" "+f);break;case u.animation.SCALE:r={transitionInClass:"_md-panel-animate-scale-out _md-panel-animate-leave"};s=i.calculateZoomToOrigin(n,this._closeTo)||"";e=i.toTransformCss(s+" "+f);break;case u.animation.FADE:r={transitionInClass:"_md-panel-animate-fade-out _md-panel-animate-leave"};break;default:r=t.isString(this._animationClass)?{transitionOutClass:this._animationClass}:{transitionInClass:this._animationClass.close,transitionOutClass:this._animationClass.open}}return i.translate3d(n,h,e,r)};u.prototype._fixBounds=function(n){var t=n[0].offsetWidth,i=n[0].offsetHeight;this._openFrom&&null==this._openFrom.bounds.height&&(this._openFrom.bounds.height=i);this._openFrom&&null==this._openFrom.bounds.width&&(this._openFrom.bounds.width=t);this._closeTo&&null==this._closeTo.bounds.height&&(this._closeTo.bounds.height=i);this._closeTo&&null==this._closeTo.bounds.width&&(this._closeTo.bounds.width=t)};u.prototype._getBoundingClientRect=function(n){if(n instanceof t.element)return{element:n,bounds:n[0].getBoundingClientRect()}}}(),function(){t.module("material.components.progressCircular",["material.core"])}(),function(){function n(n,i){function h(n){return n.attr("aria-valuemin",0),n.attr("aria-valuemax",100),n.attr("role","progressbar"),c}function c(h,c,l){function b(){l.$observe("value",function(n){var t=e(n);c.attr("aria-valuenow",t);p()!=f&&w(nt,t)});l.$observe("mdBufferValue",function(n){w(g,e(n))});l.$observe("disabled",function(n){v=n===!0||n===!1?!!n:t.isDefined(n);c.toggleClass(s,v);y.toggleClass(a,!v)});l.$observe("mdMode",function(n){switch(a&&y.removeClass(a),n){case f:case o:case u:case r:y.addClass(a="md-mode-"+n);break;default:y.addClass(a="md-mode-"+r)}})}function k(){if(t.isUndefined(l.mdMode)){var i=t.isDefined(l.value),n=i?u:r;c.attr("md-mode",n);l.mdMode=n}}function p(){var n=(l.mdMode||"").trim();if(n)switch(n){case u:case r:case o:case f:break;default:n=r}return n}function w(n,r){if(!v&&p()){var u=i.supplant("translateX({0}%) scale({1},1)",[(r-100)/2,r/100]),f=d({transform:u});t.element(n).css(f)}}n(c);var a,v=l.hasOwnProperty("disabled"),d=i.dom.animator.toCss,g=t.element(c[0].querySelector(".md-bar1")),nt=t.element(c[0].querySelector(".md-bar2")),y=t.element(c[0].querySelector(".md-container"));c.attr("md-mode",p()).toggleClass(s,v);k();b()}function e(n){return Math.max(0,Math.min(n||0,100))}var u="determinate",r="indeterminate",o="buffer",f="query",s="_md-progress-linear-disabled";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"><\/div><div class="md-bar md-bar1"><\/div><div class="md-bar md-bar2"><\/div><\/div>',compile:h}}n.$inject=["$mdTheming","$mdUtil","$log"];t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",n)}(),function(){function n(n,i,r,u){function o(f,e,o,s){function c(){e.hasClass("md-focused")||e.addClass("md-focused")}function l(r){var f=r.which||r.keyCode,u;if(f==i.KEY_CODE.ENTER||r.currentTarget==r.target)switch(f){case i.KEY_CODE.LEFT_ARROW:case i.KEY_CODE.UP_ARROW:r.preventDefault();h.selectPrevious();c();break;case i.KEY_CODE.RIGHT_ARROW:case i.KEY_CODE.DOWN_ARROW:r.preventDefault();h.selectNext();c();break;case i.KEY_CODE.ENTER:u=t.element(n.getClosest(e[0],"form"));u.length>0&&u.triggerHandler("submit")}}e.addClass("_md");r(e);var h=s[0],a=s[1]||n.fakeNgModel();h.init(a);f.mouseActive=!1;e.attr({role:"radiogroup",tabIndex:e.attr("tabindex")||"0"}).on("keydown",l).on("mousedown",function(){f.mouseActive=!0;u(function(){f.mouseActive=!1},100)}).on("focus",function(){f.mouseActive===!1&&h.$element.addClass("md-focused")}).on("blur",function(){h.$element.removeClass("md-focused")})}function f(n){this._radioButtonRenderFns=[];this.$element=n}function s(){return{init:function(n){this._ngModelCtrl=n;this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(n){this._radioButtonRenderFns.push(n)},remove:function(n){var t=this._radioButtonRenderFns.indexOf(n);-1!==t&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(n){n()})},setViewValue:function(n,t){this._ngModelCtrl.$setViewValue(n,t);this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return e(this.$element,1)},selectPrevious:function(){return e(this.$element,-1)},setActiveDescendant:function(n){this.$element.attr("aria-activedescendant",n)},isDisabled:function(){return this.$element[0].hasAttribute("disabled")}}}function e(i,r){var u=n.iterator(i[0].querySelectorAll("md-radio-button"),!0);if(u.count()){var f=function(n){return!t.element(n).attr("disabled")},e=i[0].querySelector("md-radio-button.md-checked"),o=u[0>r?"previous":"next"](e,f)||u.first();t.element(o).triggerHandler("click")}}return f.prototype=s(),{restrict:"E",controller:["$element",f],require:["mdRadioGroup","?ngModel"],link:{pre:o}}}function i(n,t,i){function u(u,f,e,o){function c(){if(!o)throw"RadioButton: No RadioGroupController could be found.";o.add(s);e.$observe("value",s);f.on("click",l).on("$destroy",function(){o.remove(s)})}function l(n){f[0].hasAttribute("disabled")||o.isDisabled()||u.$apply(function(){o.setViewValue(e.value,n&&n.type)})}function s(){function t(n){"MD-RADIO-GROUP"!=f.parent()[0].nodeName&&f.parent()[n?"addClass":"removeClass"](r)}var n=o.getViewValue()==e.value;n!==h&&(h=n,f.attr("aria-checked",n),n?(t(!0),f.addClass(r),o.setActiveDescendant(f.attr("id"))):(t(!1),f.removeClass(r)))}function a(i,r){function u(){return e.id||"radio_"+t.nextUid()}r.ariaId=u();i.attr({id:r.ariaId,role:"radio","aria-checked":"false"});n.expectWithText(i,"aria-label")}var h;i(f);a(f,u);c()}var r="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"><\/div><div class="md-on"><\/div><\/div><div ng-transclude class="md-label"><\/div>',link:u}}n.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"];i.$inject=["$mdAria","$mdUtil","$mdTheming"];t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",n).directive("mdRadioButton",i)}(),function(){function u(n,r,u,f,e,o,s){function c(o,h){var c=t.element("<md-select-value><span><\/span><\/md-select-value>"),l,v;(c.append('<span class="md-select-icon" aria-hidden="true"><\/span>'),c.addClass("md-select-value"),c[0].hasAttribute("id")||c.attr("id","select_value_label_"+r.nextUid()),o.find("md-content").length||o.append(t.element("<md-content>").append(o.contents())),h.mdOnOpen&&(o.find("md-content").prepend(t.element('<div> <md-progress-circular md-mode="indeterminate" ng-if="$$loadingAsyncDone === false" md-diameter="25px"><\/md-progress-circular><\/div>')),o.find("md-option").attr("ng-show","$$loadingAsyncDone")),h.name)&&(l=t.element('<select class="md-visually-hidden">'),l.attr({name:h.name,"aria-hidden":"true",tabindex:"-1"}),v=o.find("md-option"),t.forEach(v,function(n){var i=t.element("<option>"+n.innerHTML+"<\/option>");n.hasAttribute("ng-value")?i.attr("ng-value",n.getAttribute("ng-value")):n.hasAttribute("value")&&i.attr("value",n.getAttribute("value"));l.append(i)}),l.append('<option ng-value="'+h.ngModel+'" selected><\/option>'),o.parent().append(l));var y=r.parseAttributeBoolean(h.multiple),p=y?"multiple":"",a='<div class="md-select-menu-container" aria-hidden="true"><md-select-menu {0}>{1}<\/md-select-menu><\/div>';return a=r.supplant(a,[p,o.html()]),o.empty().append(c),o.append(a),h.tabindex||h.$set("tabindex",0),function(o,h,c,l){function yt(){var n=h.attr("aria-label")||h.attr("placeholder");!n&&a&&a.label&&(n=a.label.text());nt=n;e.expect(h,"aria-label",n)}function d(){w&&(v=v||w.find("md-select-menu").controller("mdSelectMenu"),b.setLabelText(v.selectedLabels()))}function ut(){if(nt){var n=v.selectedLabels({mode:"aria"});h.attr("aria-label",n.length?nt+": "+n:nt)}}function ft(){a&&a.setHasValue(v.selectedLabels().length>0||(h[0].validity||{}).badInput)}function pt(){if(w=t.element(h[0].querySelector(".md-select-menu-container")),k=o,c.mdContainerClass){var n=w[0].getAttribute("class")+" "+c.mdContainerClass;w[0].setAttribute("class",n)}v=w.find("md-select-menu").controller("mdSelectMenu");v.init(p,c.ngModel);h.on("$destroy",function(){w.remove()})}function et(n){var i,r;if(u.isNavigationKey(n))n.preventDefault(),g(n);else if(u.isInputKey(n)||u.isNumPadKey(n)){if(n.preventDefault(),i=v.optNodeForKeyboardSearch(n),!i||i.hasAttribute("disabled"))return;r=t.element(i).controller("mdOption");v.isMultiple||v.deselect(Object.keys(v.selected)[0]);v.select(r.hashKey,r.value);v.refreshViewValue()}}function g(){k._mdSelectIsOpen=!0;h.attr("aria-expanded","true");n.show({scope:k,preserveScope:!0,skipCompile:!0,element:w,target:h[0],selectCtrl:b,preserveElement:!0,hasBackdrop:!0,loadingAsync:!!c.mdOnOpen&&(o.$eval(c.mdOnOpen)||!0)})["finally"](function(){k._mdSelectIsOpen=!1;h.focus();h.attr("aria-expanded","false");p.$setTouched()})}var ot,nt,lt=!0,a=l[0],b=l[1],p=l[2],tt=l[3],st=h.find("md-select-value"),wt=t.isDefined(c.readonly),at=r.parseAttributeBoolean(c.mdNoAsterisk),vt,w,k,v,it,ht,rt,ct;if(at&&h.addClass("md-no-asterisk"),a){if(vt=a.isErrorGetter||function(){return p.$invalid&&(p.$touched||tt&&tt.$submitted)},a.input&&h.find("md-select-header").find("input")[0]!==a.input[0])throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");a.input=h;a.label||e.expect(h,"aria-label",h.attr("placeholder"));o.$watch(vt,a.setInvalid)}pt();f(h);tt&&t.isDefined(c.multiple)&&r.nextTick(function(){var n=p.$modelValue||p.$viewValue;n&&tt.$setPristine()});it=p.$render;p.$render=function(){it();d();ut();ft()};c.$observe("placeholder",p.$render);a&&a.label&&c.$observe("required",function(n){a.label.toggleClass("md-required",n&&!at)});b.setLabelText=function(n){var t,i;(b.setIsPlaceholder(!n),c.mdSelectedText)?n=s(c.mdSelectedText)(o):(t=c.placeholder||(a&&a.label?a.label.text():""),n=n||t||"");i=st.children().eq(0);i.html(n)};b.setIsPlaceholder=function(n){n?(st.addClass("md-select-placeholder"),a&&a.label&&a.label.addClass("md-placeholder")):(st.removeClass("md-select-placeholder"),a&&a.label&&a.label.removeClass("md-placeholder"))};wt||(h.on("focus",function(){a&&a.setFocused(!0)}),h.on("blur",function(n){lt&&(lt=!1,k._mdSelectIsOpen&&n.stopImmediatePropagation());k._mdSelectIsOpen||(a&&a.setFocused(!1),ft())}));b.triggerClose=function(){s(c.mdOnClose)(o)};o.$$postDigest(function(){yt();d();ut()});o.$watch(function(){return v.selectedLabels()},d);c.$observe("ngMultiple",function(n){ht&&ht();var t=s(n);ht=o.$watch(function(){return t(o)},function(n,t){n===i&&t===i||(n?h.attr("multiple","multiple"):h.removeAttr("multiple"),h.attr("aria-multiselectable",n?"true":"false"),w&&(v.setMultiple(n),it=p.$render,p.$render=function(){it();d();ut();ft()},p.$render()))})});c.$observe("disabled",function(n){t.isString(n)&&(n=!0);ot!==i&&ot===n||(ot=n,n?h.attr({"aria-disabled":"true"}).removeAttr("tabindex").off("click",g).off("keydown",et):h.attr({tabindex:c.tabindex,"aria-disabled":"false"}).on("click",g).on("keydown",et))});c.hasOwnProperty("disabled")||c.hasOwnProperty("ngDisabled")||(h.attr({"aria-disabled":"false"}),h.on("click",g),h.on("keydown",et));rt={role:"listbox","aria-expanded":"false","aria-multiselectable":y&&!c.ngMultiple?"true":"false"};h[0].hasAttribute("id")||(rt.id="select_"+r.nextUid());ct="select_container_"+r.nextUid();w.attr("id",ct);rt["aria-owns"]=ct;h.attr(rt);o.$on("$destroy",function(){n.destroy()["finally"](function(){a&&(a.setFocused(!1),a.setHasValue(!1),a.input=null);p.$setTouched()})})}}var h=u.KEY_CODE;return[h.SPACE,h.ENTER,h.UP_ARROW,h.DOWN_ARROW],{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:c,controller:function(){}}}function f(n,r,u,f){function o(n,i,u,e){function h(n){13!=n.keyCode&&32!=n.keyCode||s(n)}function s(i){var f=r.getClosest(i.target,"md-option"),e=f&&t.element(f).data("$mdOptionController"),u,s;if(f&&e){if(f.hasAttribute("disabled"))return i.stopImmediatePropagation(),!1;u=o.hashGetter(e.value);s=t.isDefined(o.selected[u]);n.$apply(function(){o.isMultiple?s?o.deselect(u):o.select(u,e.value):s||(o.deselect(Object.keys(o.selected)[0]),o.select(u,e.value));o.refreshViewValue()})}}var o=e[0];i.addClass("_md");f(i);i.on("click",s);i.on("keypress",h)}function e(f,e,o){function y(){var n=s.ngModel.$modelValue||s.ngModel.$viewValue||[];if(t.isArray(n)){var r=Object.keys(s.selected),i=n.map(s.hashGetter),u=r.filter(function(n){return-1===i.indexOf(n)});u.forEach(s.deselect);i.forEach(function(t,i){s.select(t,n[i])})}}function k(){var n=s.ngModel.$viewValue||s.ngModel.$modelValue;Object.keys(s.selected).forEach(s.deselect);s.select(s.hashGetter(n),n)}var s=this,p,w,a,h,l,v,b;s.isMultiple=t.isDefined(e.multiple);s.selected={};s.options={};f.$watchCollection(function(){return s.options},function(){s.ngModel.$render()});s.setMultiple=function(n){function r(n,i){return t.isArray(n||i||[])}var i=s.ngModel;w=w||i.$isEmpty;s.isMultiple=n;p&&p();s.isMultiple?(i.$validators["md-multiple"]=r,i.$render=y,f.$watchCollection(s.modelBinding,function(n){r(n)&&y(n);s.ngModel.$setPristine()}),i.$isEmpty=function(n){return!n||0===n.length}):(delete i.$validators["md-multiple"],i.$render=k)};v="";b=300;s.optNodeForKeyboardSearch=function(n){var f,e,r;for(a&&clearTimeout(a),a=setTimeout(function(){a=i;v="";l=i;h=i},b),f=n.keyCode-(u.isNumPadKey(n)?48:0),v+=String.fromCharCode(f),e=new RegExp("^"+v,"i"),h||(h=o.find("md-option"),l=new Array(h.length),t.forEach(h,function(n,t){l[t]=n.textContent.trim()})),r=0;r<l.length;++r)if(e.test(l[r]))return h[r]};s.init=function(i,r){if(s.ngModel=i,s.modelBinding=r,s.ngModel.$isEmpty=function(n){return!s.options[s.hashGetter(n)]},i.$options&&i.$options.trackBy){var u={},e=n(i.$options.trackBy);s.hashGetter=function(n,t){return u.$value=n,e(t||f,u)}}else s.hashGetter=function(n){return t.isObject(n)?"object_"+(n.$$mdSelectId||(n.$$mdSelectId=++c)):n};s.setMultiple(s.isMultiple)};s.selectedLabels=function(n){var t,i,u;return(n=n||{},t=n.mode||"html",i=r.nodesToArray(o[0].querySelectorAll("md-option[selected]")),i.length)?("html"==t?u=function(n){var t,i,r;return n.hasAttribute("md-option-empty")?"":(t=n.innerHTML,i=n.querySelector(".md-ripple-container"),i&&(t=t.replace(i.outerHTML,"")),r=n.querySelector(".md-container"),r&&(t=t.replace(r.outerHTML,"")),t)}:"aria"==t&&(u=function(n){return n.hasAttribute("aria-label")?n.getAttribute("aria-label"):n.textContent}),i.map(u).join(", ")):""};s.select=function(n,t){var i=s.options[n];i&&i.setSelected(!0);s.selected[n]=t};s.deselect=function(n){var t=s.options[n];t&&t.setSelected(!1);delete s.selected[n]};s.addOption=function(n,i){if(t.isDefined(s.options[n]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+i.value+'" found.');s.options[n]=i;t.isDefined(s.selected[n])&&(s.select(n,i.value),t.isDefined(s.ngModel.$modelValue)&&s.hashGetter(s.ngModel.$modelValue)===n&&s.ngModel.$validate(),s.refreshViewValue())};s.removeOption=function(n){delete s.options[n]};s.refreshViewValue=function(){var r,n=[];for(var u in s.selected)(r=s.options[u])?n.push(r.value):n.push(s.selected[u]);var e=s.ngModel.$options&&s.ngModel.$options.trackBy,i=s.isMultiple?n:n[0],f=s.ngModel.$modelValue;(e?t.equals(f,i):f==i)||(s.ngModel.$setViewValue(i),s.ngModel.$render())}}return e.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!1,controller:e,link:{pre:o}}}function e(n,i){function u(n,i){return n.append(t.element('<div class="md-text">').append(n.contents())),n.attr("tabindex",i.tabindex||"0"),f(i)||n.attr("md-option-empty",""),e}function f(n){var t=n.value,i=n.ngValue;return t||i}function e(r,u,f,e){function h(n,t,i){if(!o.hashGetter)return void(i||r.$$postDigest(function(){h(n,t,!0)}));var f=o.hashGetter(t,r),u=o.hashGetter(n,r);s.hashKey=u;s.value=n;o.removeOption(f,s);o.addOption(u,s)}function c(){var n={role:"option","aria-selected":"false"};u[0].hasAttribute("id")||(n.id="select_option_"+i.nextUid());u.attr(n)}var s=e[0],o=e[1];o.isMultiple&&(u.addClass("md-checkbox-enabled"),u.prepend(l.clone()));t.isDefined(f.ngValue)?r.$watch(f.ngValue,h):t.isDefined(f.value)?h(f.value):r.$watch(function(){return u.text().trim()},h);f.$observe("disabled",function(n){n?u.attr("tabindex","-1"):u.attr("tabindex","0")});r.$$postDigest(function(){f.$observe("selected",function(n){t.isDefined(n)&&("string"==typeof n&&(n=!0),n?(o.isMultiple||o.deselect(Object.keys(o.selected)[0]),o.select(s.hashKey,s.value)):o.deselect(s.hashKey),o.refreshViewValue())})});n.attach(r,u);c();r.$on("$destroy",function(){o.removeOption(s.hashKey,s)})}function r(n){this.selected=!1;this.setSelected=function(t){t&&!this.selected?n.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(n.removeAttr("selected"),n.attr("aria-selected","false"));this.selected=t}}return r.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:r,compile:u}}function s(){function n(n,i){function r(){return n.parent().find("md-select-header").length}function u(){var r=n.find("label");r.length||(r=t.element("<label>"),n.prepend(r));r.addClass("md-container-ignore");i.label&&r.text(i.label)}r()||u()}return{restrict:"E",compile:n}}function h(){return{restrict:"E"}}function o(u){function f(u,f,c,l,a,v,y,p,w){function g(n,t,i){function u(){return y(t,{addClass:"md-leave"}).start()}function r(){t.removeClass("md-active");t.attr("aria-hidden","true");t[0].style.display="none";tt(i);!i.$destroy&&i.restoreFocus&&i.target.focus()}return i=i||{},i.cleanupInteraction(),i.cleanupResizing(),i.hideBackdrop(),i.$destroy===!0?r():u().then(r)}function nt(n,r,e){function s(n,t,i){return i.parent.append(t),a(function(n,i){try{y(t,{removeClass:"md-leave",duration:0}).start().then(o).then(n)}catch(r){i(r)}})}function o(){return a(function(t){if(e.isRemoved)return a.reject(!1);var i=d(n,r,e);i.container.element.css(k.toCss(i.container.styles));i.dropDown.element.css(k.toCss(i.dropDown.styles));v(function(){r.addClass("md-active");i.dropDown.element.css(k.toCss({transform:""}));g(e.focusedNode);t()})})}function h(n,t,i){return i.disableParentScroll&&!c.getClosest(i.target,"MD-DIALOG")?i.restoreScroll=c.disableScrollAround(i.element,i.parent):i.disableParentScroll=!1,i.hasBackdrop&&(i.backdrop=c.createBackdrop(n,"md-select-backdrop md-click-catcher"),p.enter(i.backdrop,w[0].body,null,{duration:0})),function(){i.backdrop&&i.backdrop.remove();i.disableParentScroll&&i.restoreScroll();delete i.restoreScroll}}function g(n){n&&!n.hasAttribute("disabled")&&n.focus()}function nt(n,i){var u=r.find("md-select-menu");if(!i.target)throw new Error(c.supplant(it,[i.target]));t.extend(i,{isRemoved:!1,target:t.element(i.target),parent:t.element(i.parent),selectEl:u,contentEl:r.find("md-content"),optionNodes:u[0].getElementsByTagName("md-option")})}function tt(){var i=function(n,t,i){return function(){if(!i.isRemoved){var r=d(n,t,i),u=r.container,f=r.dropDown;u.element.css(k.toCss(u.styles));f.element.css(k.toCss(f.styles))}}}(n,r,e),u=t.element(l);return u.on("resize",i),u.on("orientationchange",i),function(){u.off("resize",i);u.off("orientationchange",i)}}function rt(){e.loadingAsync&&!e.isRemoved&&(n.$$loadingAsyncDone=!1,a.when(e.loadingAsync).then(function(){n.$$loadingAsyncDone=!0;delete e.loadingAsync}).then(function(){v(o)}))}function ut(){function o(n){n.preventDefault();n.stopPropagation();e.restoreFocus=!1;c.nextTick(u.hide,!0)}function s(i){var o,r;switch(i.preventDefault(),i.stopPropagation(),i.keyCode){case b.UP_ARROW:return v();case b.DOWN_ARROW:return a();case b.SPACE:case b.ENTER:o=c.getClosest(i.target,"md-option");o&&(n.triggerHandler({type:"click",target:o}),i.preventDefault());t(i);break;case b.TAB:case b.ESCAPE:i.stopPropagation();i.preventDefault();e.restoreFocus=!0;c.nextTick(u.hide,!0);break;default:(f.isInputKey(i)||f.isNumPadKey(i))&&(r=n.controller("mdSelectMenu").optNodeForKeyboardSearch(i),e.focusedNode=r||e.focusedNode,r&&r.focus())}}function h(n){var r,u=c.nodesToArray(e.optionNodes),t=u.indexOf(e.focusedNode);do-1===t?t=0:"next"===n&&t<u.length-1?t++:"prev"===n&&t>0&&t--,r=u[t],r.hasAttribute("disabled")&&(r=i);while(!r&&t<u.length-1&&t>0);r&&r.focus();e.focusedNode=r}function a(){h("next")}function v(){h("prev")}function t(t){function r(){var i=!1,n,r,u;return t&&t.currentTarget.children.length>0&&(n=t.currentTarget.children[0],r=n.scrollHeight>n.clientHeight,r&&n.children.length>0&&(u=t.pageX-t.currentTarget.getBoundingClientRect().left,u>n.querySelector("md-option").offsetWidth&&(i=!0))),i}if(!(t&&"click"==t.type&&t.currentTarget!=n[0]||r())){var i=c.getClosest(t.target,"md-option");i&&i.hasAttribute&&!i.hasAttribute("disabled")&&(t.preventDefault(),t.stopPropagation(),l.isMultiple||(e.restoreFocus=!0,c.nextTick(function(){u.hide(l.ngModel.$viewValue)},!0)))}}if(!e.isRemoved){var n=e.selectEl,l=n.controller("mdSelectMenu")||{};return r.addClass("md-clickable"),e.backdrop&&e.backdrop.on("click",o),n.on("keydown",s),n.on("click",t),function(){e.backdrop&&e.backdrop.off("click",o);n.off("keydown",s);n.off("click",t);r.removeClass("md-clickable");e.isRemoved=!0}}}return rt(),nt(n,e),e.hideBackdrop=h(n,r,e),s(n,r,e).then(function(n){return r.attr("aria-hidden","false"),e.alreadyOpen=!0,e.cleanupInteraction=ut(),e.cleanupResizing=tt(),n},e.hideBackdrop)}function tt(n){var t=n.selectCtrl,i;t&&(i=n.selectEl.controller("mdSelectMenu"),t.setLabelText(i?i.selectedLabels():""),t.triggerClose())}function d(i,u,f){var b,ft=u[0],ct=f.target[0].children[0],kt=w[0].body,k=f.selectEl[0],a=f.contentEl[0],it=kt.getBoundingClientRect(),v=ct.getBoundingClientRect(),lt=!1,p={left:it.left+r,top:r,bottom:it.height-r,right:it.width-r-(c.floatingScrollbars()?16:0)},rt={top:v.top-p.top,left:v.left-p.left,right:p.right-(v.left+v.width),bottom:p.bottom-(v.top+v.height)},et=it.width-2*r,at=k.querySelector("md-option[selected]"),ot=k.getElementsByTagName("md-option"),vt=k.getElementsByTagName("md-optgroup"),yt=h(u,a),dt=o(f.loadingAsync),nt,d,y,st,g,ht,tt,ut,pt,wt;b=dt?a.firstElementChild||a:at?at:vt.length?vt[0]:ot.length?ot[0]:a.firstElementChild||a;a.offsetWidth>et?a.style["max-width"]=et+"px":a.style.maxWidth=null;lt&&(a.style["min-width"]=v.width+"px");yt&&k.classList.add("md-overflow");nt=b;"MD-OPTGROUP"===(nt.tagName||"").toUpperCase()&&(nt=ot[0]||a.firstElementChild||a,b=nt);f.focusedNode=nt;ft.style.display="block";d=k.getBoundingClientRect();y=s(b);b&&(st=l.getComputedStyle(b),y.paddingLeft=parseInt(st.paddingLeft,10)||0,y.paddingRight=parseInt(st.paddingRight,10)||0);yt&&(g=a.offsetHeight/2,a.scrollTop=y.top+y.height/2-g,rt.top<g?a.scrollTop=Math.min(y.top,a.scrollTop+g-rt.top):rt.bottom<g&&(a.scrollTop=Math.max(y.top+y.height-d.height,a.scrollTop-g+rt.bottom)));lt?(ht=v.left,tt=v.top+v.height,ut="50% 0",tt+d.height>p.bottom&&(tt=v.top-d.height,ut="50% 100%")):(ht=v.left+y.left-y.paddingLeft+2,tt=Math.floor(v.top+v.height/2-y.height/2-y.top+a.scrollTop)+2,ut=y.left+v.width/2+"px "+(y.top+y.height/2-a.scrollTop)+"px 0px",pt=Math.min(v.width+y.paddingLeft+y.paddingRight,et),wt=n.getComputedStyle(ct)["font-size"]);var bt=ft.getBoundingClientRect(),gt=Math.round(100*Math.min(v.width/d.width,1))/100,ni=Math.round(100*Math.min(v.height/d.height,1))/100;return{container:{element:t.element(ft),styles:{left:Math.floor(e(p.left,ht,p.right-bt.width)),top:Math.floor(e(p.top,tt,p.bottom-bt.height)),"min-width":pt,"font-size":wt}},dropDown:{element:t.element(k),styles:{transformOrigin:ut,transform:f.alreadyOpen?"":c.supplant("scale({0},{1})",[gt,ni])}}}}var it="$mdSelect.show() expected a target element in options.target but got '{0}'!",k=c.dom.animator,b=f.KEY_CODE;return{parent:"body",themable:!0,onShow:nt,onRemove:g,hasBackdrop:!0,disableParentScroll:!0}}function o(n){return n&&t.isFunction(n.then)}function e(n,t,i){return Math.max(n,Math.min(t,i))}function s(n){return n?{left:n.offsetLeft,top:n.offsetTop,width:n.offsetWidth,height:n.offsetHeight}:{left:0,top:0,width:0,height:0}}function h(n,t){var i=!1,r;try{r=n[0].style.display;n[0].style.display="block";i=t.scrollHeight>t.offsetHeight;n[0].style.display=r}finally{}return i}return f.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],u("$mdSelect").setDefaults({methods:["target"],options:f})}u.$inject=["$mdSelect","$mdUtil","$mdConstant","$mdTheming","$mdAria","$compile","$parse"];f.$inject=["$parse","$mdUtil","$mdConstant","$mdTheming"];e.$inject=["$mdButtonInkRipple","$mdUtil"];o.$inject=["$$interimElementProvider"];var r=8,c=0,l=t.element('<div class="md-container"><div class="md-icon"><\/div><\/div>');t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",u).directive("mdSelectMenu",f).directive("mdOption",e).directive("mdOptgroup",s).directive("mdSelectHeader",h).provider("$mdSelect",o)}(),function(){function n(n,t){return["$mdUtil","$window",function(i,r){return{restrict:"A",multiElement:!0,link:function(u,f,e){var o=u.$on("$md-resize-enable",function(){o();var s=f[0],h=s.nodeType===r.Node.ELEMENT_NODE?r.getComputedStyle(s):{};u.$watch(e[n],function(n){if(!!n===t){i.nextTick(function(){u.$broadcast("$md-resize")});var r={cachedTransitionStyles:h};i.dom.animator.waitTransitionEnd(f,r).then(function(){u.$broadcast("$md-resize")})}})})}}}]}t.module("material.components.showHide",["material.core"]).directive("ngShow",n("ngShow",!0)).directive("ngHide",n("ngHide",!1))}(),function(){function n(n,r,u,f){function h(n,i){var e=function(){return!1},f=function(){return u.when(r.supplant(s,[i||""]))};return t.extend({isLockedOpen:e,isOpen:e,toggle:f,open:f,close:f,onClose:t.noop,then:function(n){return o(i).then(n||t.noop)}},n)}function c(t,u){var e=n.get(t);return e||u?e:(f.error(r.supplant(s,[t||""])),i)}function o(t){return n.when(t)["catch"](f.error)}var s="SideNav '{0}' is not available! Did you use md-component-id='{0}'?",e={find:c,waitFor:o};return function(n,i){if(t.isUndefined(n))return e;var u=i===!0,r=e.find(n,u);return!r&&u?e.waitFor(n):!r&&t.isUndefined(i)?h(e,n):r}}function f(){return{restrict:"A",require:"^mdSidenav",link:function(){}}}function r(n,r,u,f,e,o,s,h,c,l){function a(o,a,v,y){function tt(n,t){o.isLockedOpen=n;n===t?a.toggleClass("md-locked-open",!!n):e[n?"addClass":"removeClass"](a,"md-locked-open");p&&p.toggleClass("md-locked-open",!!n)}function it(n){var u=r.findFocusTarget(a)||r.findFocusTarget(a,"[md-sidenav-focus]")||a,t=a.parent(),i;return t[n?"on":"off"]("keydown",et),p&&p[n?"on":"off"]("click",g),i=rt(t,n),n&&(d=l[0].activeElement),ut(n),nt=c.all([n&&p?e.enter(p,t):p?e.leave(p):c.when(!0),e[n?"removeClass":"addClass"](a,"md-closed")]).then(function(){o.isOpen&&u&&u.focus();i&&i()})}function rt(n,t){var i=a[0],u=n[0].scrollTop,r;return t&&u&&(b={top:i.style.top,bottom:i.style.bottom,height:i.style.height},r={top:u+"px",bottom:"auto",height:n[0].clientHeight+"px"},a.css(r),p.css(r)),!t&&b?function(){i.style.top=b.top;i.style.bottom=b.bottom;i.style.height=b.height;p[0].style.top=null;p[0].style.bottom=null;p[0].style.height=null;b=null}:void 0}function ut(n){n&&!k?(k=w.css("overflow"),w.css("overflow","hidden")):t.isDefined(k)&&(w.css("overflow",k),k=i)}function ft(n){return o.isOpen==n?c.when(!0):(o.isOpen&&y.onCloseCb&&y.onCloseCb(),c(function(t){o.isOpen=n;r.nextTick(function(){nt.then(function(n){o.isOpen||(d&&d.focus(),d=null);t(n)})})}))}function et(n){var t=n.keyCode===u.KEY_CODE.ESCAPE;return t?g(n):c.when(!0)}function g(n){return n.preventDefault(),y.close()}var k,p,b,w=null,d=null,nt=c.when(!0),ot=s(v.mdIsLockedOpen),st=function(){return ot(o.$parent,{$media:function(t){return h.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),n(t)},$mdMedia:n})};v.mdDisableScrollTarget&&(w=l[0].querySelector(v.mdDisableScrollTarget),w?w=t.element(w):h.warn(r.supplant('mdSidenav: couldn\'t find element matching selector "{selector}". Falling back to parent.',{selector:v.mdDisableScrollTarget})));w||(w=a.parent());v.hasOwnProperty("mdDisableBackdrop")||(p=r.createBackdrop(o,"md-sidenav-backdrop md-opaque ng-enter"));a.addClass("_md");f(a);p&&f.inherit(p,a);a.on("$destroy",function(){p&&p.remove();y.destroy()});o.$on("$destroy",function(){p&&p.remove()});o.$watch(st,tt);o.$watch("isOpen",it);y.$toggleOpen=ft}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(n){return n.addClass("md-closed"),n.attr("tabIndex","-1"),a}}}function u(n,t,i,r,u){var f=this;f.isOpen=function(){return!!n.isOpen};f.isLockedOpen=function(){return!!n.isLockedOpen};f.onClose=function(n){return f.onCloseCb=n,f};f.open=function(){return f.$toggleOpen(!0)};f.close=function(){return f.$toggleOpen(!1)};f.toggle=function(){return f.$toggleOpen(!n.isOpen)};f.$toggleOpen=function(t){return u.when(n.isOpen=t)};f.destroy=r.register(f,i.mdComponentId)}n.$inject=["$mdComponentRegistry","$mdUtil","$q","$log"];r.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$animate","$compile","$parse","$log","$q","$document"];u.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"];t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",n).directive("mdSidenav",r).directive("mdSidenavFocus",f).controller("$mdSidenavController",u)}(),function(){function r(){return{controller:function(){},compile:function(n){var r=n.find("md-slider"),u;if(r)return u=r.attr("md-vertical"),u!==i&&n.attr("md-vertical",""),r.attr("flex")||r.attr("flex",""),function(n,i,r,u){function o(n){i.children().attr("disabled",n);i.find("input").attr("disabled",n)}var f,e;i.addClass("_md");f=t.noop;r.disabled?o(!0):r.ngDisabled&&(f=n.$watch(r.ngDisabled,function(n){o(n)}));n.$on("$destroy",function(){f()});u.fitInputWidthToTextLength=function(n){var t=i[0].querySelector("md-input-container"),f;if(t){var r=getComputedStyle(t),u=parseInt(r.minWidth),o=2*parseInt(r.padding);e=e||parseInt(r.maxWidth);f=Math.max(e,u+o+u/2*n);t.style.maxWidth=f+"px"}}}}}}function n(n,i,r,u,f,e,o,s,h,c){function l(n,i){var u=t.element(n[0].getElementsByClassName("md-slider-wrapper")),f=i.tabindex||0;return u.attr("tabindex",f),(i.disabled||i.ngDisabled)&&u.attr("tabindex",-1),u.attr("role","slider"),r.expect(n,"aria-label"),a}function a(r,l,a,v){function ht(){it();lt()}function bt(n){w=parseFloat(n);l.attr("aria-valuemin",n);ht()}function kt(n){et=parseFloat(n);l.attr("aria-valuemax",n);ht()}function dt(n){b=parseFloat(n)}function gt(n){wt=d(parseInt(n),0,6)}function si(){l.attr("aria-disabled",!!nt())}function hi(){var u,f,n,e,r,o;if(ei&&!nt()&&!t.isUndefined(b)){if(0>=b){u="Slider step value must be greater than zero when in discrete mode";throw h.error(u),new Error(u);}for(f=Math.floor((et-w)/b),g||(g=t.element("<canvas>").css("position","absolute"),fi.append(g),ot=g[0].getContext("2d")),n=ni(),!n||n.height||n.width||(it(),n=k),g[0].width=n.width,g[0].height=n.height,r=0;f>=r;r++)o=i.getComputedStyle(fi[0]),ot.fillStyle=o.color||"black",e=Math.floor((y?n.height:n.width)*(r/f)),ot.fillRect(y?0:e-1,y?e-1:0,y?n.width:2,y?2:n.height)}}function ci(){if(g&&ot){var n=ni();ot.clearRect(0,0,n.width,n.height)}}function it(){k=rr[0].getBoundingClientRect()}function ni(){return fr(),k}function li(n){if(!nt()){var t;(y?n.keyCode===f.KEY_CODE.DOWN_ARROW:n.keyCode===f.KEY_CODE.LEFT_ARROW)?t=-b:(y?n.keyCode===f.KEY_CODE.UP_ARROW:n.keyCode===f.KEY_CODE.RIGHT_ARROW)&&(t=b);t=tt?-t:t;t&&((n.metaKey||n.ctrlKey||n.altKey)&&(t*=4),n.preventDefault(),n.stopPropagation(),r.$evalAsync(function(){ct(p.$viewValue+t)}))}}function ai(){hi();r.mouseActive=!0;ft.removeClass("md-focused");c(function(){r.mouseActive=!1},100)}function vi(){r.mouseActive===!1&&ft.addClass("md-focused")}function yi(){ft.removeClass("md-focused");l.removeClass("md-active");ci()}function ct(n){p.$setViewValue(d(rt(n)))}function lt(){isNaN(p.$viewValue)&&(p.$viewValue=p.$modelValue);p.$viewValue=d(p.$viewValue);var n=ii(p.$viewValue);r.modelValue=p.$viewValue;l.attr("aria-valuenow",p.$viewValue);vt(n);ri.text(p.$viewValue)}function d(n,i,r){if(t.isNumber(n))return(i=t.isNumber(i)?i:w,r=t.isNumber(r)?r:et,Math.max(i,Math.min(r,n)))}function rt(n){if(t.isNumber(n)){var i=Math.round((n-w)/b)*b+w;return i=Math.round(i*Math.pow(10,wt))/Math.pow(10,wt),yt&&yt.fitInputWidthToTextLength&&u.debounce(function(){yt.fitInputWidthToTextLength(i.toString().length)},100)(),i}}function vt(n){n=tr(n);var t=100*n+"%",i=tt?100*(1-n)+"%":t;y?ui.css("bottom",t):u.bidiProperty(ui,"left","right",t);ur.css(y?"height":"width",i);l.toggleClass(tt?"md-max":"md-min",0===n);l.toggleClass(tt?"md-min":"md-max",1===n)}function pi(n){if(!nt()){l.addClass("md-active");l[0].focus();it();var i=at(ut(y?n.pointer.y:n.pointer.x)),t=d(rt(i));r.$apply(function(){ct(t);vt(ii(t))})}}function wi(n){if(!nt()){l.removeClass("md-dragging");var t=at(ut(y?n.pointer.y:n.pointer.x)),i=d(rt(t));r.$apply(function(){ct(i);lt()})}}function bi(n){nt()||(st=!0,n.stopPropagation(),l.addClass("md-dragging"),ti(n))}function ki(n){st&&(n.stopPropagation(),ti(n))}function di(n){st&&(n.stopPropagation(),st=!1)}function ti(n){ei?nr(y?n.pointer.y:n.pointer.x):gi(y?n.pointer.y:n.pointer.x)}function gi(n){r.$evalAsync(function(){ct(at(ut(n)))})}function nr(n){var t=at(ut(n)),i=d(rt(t));vt(ut(n));ri.text(i)}function tr(n){return Math.max(0,Math.min(n||0,1))}function ut(n){var i=y?k.top:k.left,r=y?k.height:k.width,t=(n-i)/r;return y||"rtl"!==u.bidi()||(t=1-t),Math.max(0,Math.min(1,y?1-t:t))}function at(n){var t=tt?1-n:n;return w+t*(et-w)}function ii(n){var t=(n-w)/(et-w);return tt?1-t:t}var oi,pt,w,et,b,wt,g,ot,k,st;e(l);var p=v[0]||{$setViewValue:function(n){this.$viewValue=n;this.$viewChangeListeners.forEach(function(n){n()})},$parsers:[],$formatters:[],$viewChangeListeners:[]},yt=v[1],nt=(t.element(u.getClosest(l,"_md-slider-container",!0)),a.ngDisabled?t.bind(null,s(a.ngDisabled),r.$parent):function(){return l[0].hasAttribute("disabled")}),ir=t.element(l[0].querySelector(".md-thumb")),ri=t.element(l[0].querySelector(".md-thumb-text")),ui=ir.parent(),rr=t.element(l[0].querySelector(".md-track-container")),ur=t.element(l[0].querySelector(".md-track-fill")),fi=t.element(l[0].querySelector(".md-track-ticks")),ft=t.element(l[0].getElementsByClassName("md-slider-wrapper")),fr=(t.element(l[0].getElementsByClassName("md-slider-content")),u.throttle(it,5e3)),y=t.isDefined(a.mdVertical),ei=t.isDefined(a.mdDiscrete),tt=t.isDefined(a.mdInvert);t.isDefined(a.min)?a.$observe("min",bt):bt(0);t.isDefined(a.max)?a.$observe("max",kt):kt(100);t.isDefined(a.step)?a.$observe("step",dt):dt(1);t.isDefined(a.round)?a.$observe("round",gt):gt(3);oi=t.noop;a.ngDisabled&&(oi=r.$parent.$watch(a.ngDisabled,si));o.register(ft,"drag",{horizontal:!y});r.mouseActive=!1;ft.on("keydown",li).on("mousedown",ai).on("focus",vi).on("blur",yi).on("$md.pressdown",pi).on("$md.pressup",wi).on("$md.dragstart",bi).on("$md.drag",ki).on("$md.dragend",di);setTimeout(ht,0);pt=n.throttle(ht);t.element(i).on("resize",pt);r.$on("$destroy",function(){t.element(i).off("resize",pt)});p.$render=lt;p.$viewChangeListeners.push(lt);p.$formatters.push(d);p.$formatters.push(rt);k={};it();st=!1}return{scope:{},require:["?ngModel","?^mdSliderContainer"],template:'<div class="md-slider-wrapper"><div class="md-slider-content"><div class="md-track-container"><div class="md-track"><\/div><div class="md-track md-track-fill"><\/div><div class="md-track-ticks"><\/div><\/div><div class="md-thumb-container"><div class="md-thumb"><\/div><div class="md-focus-thumb"><\/div><div class="md-focus-ring"><\/div><div class="md-sign"><span class="md-thumb-text"><\/span><\/div><div class="md-disabled-thumb"><\/div><\/div><\/div><\/div>',compile:l}}n.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log","$timeout"];t.module("material.components.slider",["material.core"]).directive("mdSlider",n).directive("mdSliderContainer",r)}(),function(){function n(n,t,r,u){function e(u){function y(n,t){t.addClass("md-sticky-clone");var i={element:n,clone:t};return f.items.push(i),r.nextTick(function(){e.prepend(i.clone)}),a(),function(){f.items.forEach(function(t,i){t.element[0]===n[0]&&(f.items.splice(i,1),t.clone.remove())});a()}}function v(){f.items.forEach(p);f.items=f.items.sort(function(n,t){return n.top<t.top?-1:1});for(var t,i=e.prop("scrollTop"),n=f.items.length-1;n>=0;n--)if(i>f.items[n].top){t=f.items[n];break}s(t)}function p(n){var t=n.element[0],u;for(n.top=0,n.left=0,n.right=0;t&&t!==e[0];)n.top+=t.offsetTop,n.left+=t.offsetLeft,t.offsetParent&&(n.right+=t.offsetParent.offsetWidth-t.offsetWidth-t.offsetLeft),t=t.offsetParent;n.height=n.element.prop("offsetHeight");u=r.floatingScrollbars()?"0":i;r.bidi(n.clone,"margin-left",n.left,u);r.bidi(n.clone,"margin-right",u,n.right)}function l(){var n=e.prop("scrollTop"),t=n>(l.prevScrollTop||0);if(l.prevScrollTop=n,0===n)return void s(null);if(t){if(f.next&&f.next.top<=n)return void s(f.next);if(f.current&&f.next&&f.next.top-n<=f.next.height)return void c(f.current,n+(f.next.top-f.next.height-n))}if(!t){if(f.current&&f.prev&&n<f.current.top)return void s(f.prev);if(f.next&&f.current&&n>=f.next.top-f.current.height)return void c(f.current,n+(f.next.top-n-f.current.height))}f.current&&c(f.current,n)}function s(n){if(f.current!==n){f.current&&(c(f.current,null),h(f.current,null));n&&h(n,"active");f.current=n;var t=f.items.indexOf(n);f.next=f.items[t+1];f.prev=f.items[t-1];h(f.next,"next");h(f.prev,"prev")}}function h(n,t){n&&n.state!==t&&(n.state&&(n.clone.attr("sticky-prev-state",n.state),n.element.attr("sticky-prev-state",n.state)),n.clone.attr("sticky-state",t),n.element.attr("sticky-state",t),n.state=t)}function c(t,u){t&&(null===u||u===i?t.translateY&&(t.translateY=null,t.clone.css(n.CSS.TRANSFORM,"")):(t.translateY=u,r.bidi(t.clone,n.CSS.TRANSFORM,"translate3d("+t.left+"px,"+u+"px,0)","translateY("+u+"px)")))}var e=u.$element,a=t.throttle(v),f;return o(e),e.on("$scrollstart",a),e.on("$scroll",l),f={prev:null,current:null,next:null,items:[],add:y,refreshElements:v}}function o(n){function u(){+r.now()-f>e?(i=!1,n.triggerHandler("$scrollend")):(n.triggerHandler("$scroll"),t.throttle(u))}var i,f,e=200;n.on("scroll touchmove",function(){i||(i=!0,t.throttle(u),n.triggerHandler("$scrollstart"));n.triggerHandler("$scroll");f=+r.now()})}var f=r.checkStickySupport();return function(n,t,i){var o=t.controller("mdContent"),r,s,h;o&&(f?t.css({position:f,top:0,"z-index":2}):(r=o.$element.data("$$sticky"),r||(r=e(o),o.$element.data("$$sticky",r)),s=i||u(t.clone())(n),h=r.add(t,s),n.$on("$destroy",h)))}}n.$inject=["$mdConstant","$$rAF","$mdUtil","$compile"];t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",n)}(),function(){function n(n,i,r,u){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader _md">  <div class="md-subheader-inner">    <div class="md-subheader-content"><\/div>  <\/div><\/div>',link:function(f,e,o,s,h){function c(n){return t.element(n[0].querySelector(".md-subheader-content"))}r(e);e.addClass("_md");u.prefixer().removeAttribute(e,"ng-repeat");var l=e[0].outerHTML;h(f,function(n){c(e).append(n)});e.hasClass("md-no-sticky")||h(f,function(t){var r=i('<div class="md-subheader-wrapper">'+l+"<\/div>")(f);u.nextTick(function(){c(r).append(t)});n(f,e,r)})}}}n.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil"];t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",n)}(),function(){function n(n){function t(n){function t(t,u,f){var e=n(f[i]);u.on(r,function(n){t.$applyAsync(function(){e(t,{$event:n})})})}return{restrict:"A",link:t}}t.$inject=["$parse"];var i="md"+n,r="$md."+n.toLowerCase();return t}t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",n("SwipeLeft")).directive("mdSwipeRight",n("SwipeRight")).directive("mdSwipeUp",n("SwipeUp")).directive("mdSwipeDown",n("SwipeDown"))}(),function(){function n(n,i,r,u,f,e,o){function s(n,s){var c=h.compile(n,s).post;return n.addClass("md-dragging"),function(n,s,h,l){function w(t){v&&v(n)||(t.stopPropagation(),s.addClass("md-dragging"),a={width:y.prop("offsetWidth")})}function b(n){if(a){n.stopPropagation();n.srcEvent&&n.srcEvent.preventDefault();var i=n.pointer.distanceX/a.width,t=l.$viewValue?1+i:i;t=Math.max(0,Math.min(1,t));y.css(r.CSS.TRANSFORM,"translate3d("+100*t+"%,0,0)");a.translate=t}}function k(t){if(a){t.stopPropagation();s.removeClass("md-dragging");y.css(r.CSS.TRANSFORM,"");var i=l.$viewValue?a.translate<.5:a.translate>.5;i&&d(!l.$viewValue);a=null;n.skipToggle=!0;o(function(){n.skipToggle=!1},1)}}function d(t){n.$apply(function(){l.$setViewValue(t);l.$render()})}var v,y,p,a;l=l||i.fakeNgModel();v=null;null!=h.disabled?v=function(){return!0}:h.ngDisabled&&(v=u(h.ngDisabled));y=t.element(s[0].querySelector(".md-thumb-container"));p=t.element(s[0].querySelector(".md-container"));f(function(){s.removeClass("md-dragging")});c(n,s,h,l);v&&n.$watch(v,function(n){s.attr("tabindex",n?-1:0)});e.register(p,"drag");p.on("$md.dragstart",w).on("$md.drag",b).on("$md.dragend",k)}}var h=n[0];return{restrict:"E",priority:210,transclude:!0,template:'<div class="md-container"><div class="md-bar"><\/div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox><\/div><\/div><\/div><div ng-transclude class="md-label"><\/div>',require:"?ngModel",compile:s}}n.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture","$timeout"];t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",n)}(),function(){t.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function n(n){return{restrict:"E",link:function(t,i){i.addClass("_md");t.$on("$destroy",function(){n.destroy()})}}}function i(n){function r(n){i=n}function u(n,r,u,f){function o(t,o,s){i=s.textContent||s.content;var c=!f("gt-sm");return o=u.extractElementByName(o,"md-toast",!0),s.element=o,s.onSwipe=function(n){var i=n.type.replace("$md.",""),t=i.replace("swipe","");"down"===t&&-1!=s.position.indexOf("top")&&!c||"up"===t&&(-1!=s.position.indexOf("bottom")||c)||("left"!==t&&"right"!==t||!c)&&(o.addClass("md-"+i),u.nextTick(r.cancel))},s.openClass=h(s.position),o.addClass(s.toastClass),s.parent.addClass(s.openClass),u.hasComputedStyle(s.parent,"position","static")&&s.parent.css("position","relative"),o.on(e,s.onSwipe),o.addClass(c?"md-bottom":s.position.split(" ").map(function(n){return"md-"+n}).join(" ")),s.parent&&s.parent.addClass("md-toast-animating"),n.enter(o,s.parent).then(function(){s.parent&&s.parent.removeClass("md-toast-animating")})}function s(t,i,r){return i.off(e,r.onSwipe),r.parent&&r.parent.addClass("md-toast-animating"),r.openClass&&r.parent.removeClass(r.openClass),(1==r.$destroy?i.remove():n.leave(i)).then(function(){r.parent&&r.parent.removeClass("md-toast-animating");u.hasComputedStyle(r.parent,"position","static")&&r.parent.css("position","")})}function h(n){return f("gt-xs")?"md-toast-open-"+(n.indexOf("top")>-1?"top":"bottom"):"md-toast-open-bottom"}var e="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:o,onRemove:s,toastClass:"",position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(n,i){var e=i.autoWrap&&n&&!/md-toast-content/g.test(n),r,u,f;if(e){for(r=document.createElement("md-template"),r.innerHTML=n,u=0;u<r.children.length;u++)"MD-TOAST"===r.children[u].nodeName&&(f=t.element('<div class="md-toast-content">'),f.append(t.element(r.children[u].childNodes)),r.children[u].appendChild(f[0]));return r.innerHTML}return n||""}}}u.$inject=["$animate","$mdToast","$mdUtil","$mdMedia"];var i,f="ok";return n("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent","position","toastClass"],options:u}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","highlightAction","highlightClass","theme","parent"],options:["$mdToast","$mdTheming",function(n,t){return{template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content">    <span class="md-toast-text" role="alert" aria-relevant="all" aria-atomic="true">      {{ toast.content }}    <\/span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()"         ng-class="highlightClasses">      {{ toast.action }}    <\/md-button>  <\/div><\/md-toast>',controller:["$scope",function(t){var r=this;r.highlightAction&&(t.highlightClasses=["md-highlight",r.highlightClass]);t.$watch(function(){return i},function(){r.content=i});this.resolve=function(){n.hide(f)}}],theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0}}]}).addMethod("updateTextContent",r).addMethod("updateContent",r)}n.$inject=["$mdToast"];i.$inject=["$$interimElementProvider"];t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",n).provider("$mdToast",i)}(),function(){function n(n,i,r,u,f){var e=t.bind(null,r.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(o,s,h){function c(){function g(n){var t=s.parent().find("md-content");!u&&t.length&&b(null,t);n=o.$eval(n);n===!1?v():v=d()}function b(n,t){t&&s.parent()[0]===t.parent()[0]&&(u&&u.off("scroll",w),u=t,v=d())}function k(n){var t=n?n.target.scrollTop:p;nt();c=Math.min(a/y,Math.max(0,c+t-p));s.css(i.CSS.TRANSFORM,e([-c*y]));u.css(i.CSS.TRANSFORM,e([(a-c)*y]));p=t;r.nextTick(function(){var n=s.hasClass("md-whiteframe-z1");n&&!c?f.removeClass(s,"md-whiteframe-z1"):!n&&c&&f.addClass(s,"md-whiteframe-z1")})}function d(){return u?(u.on("scroll",w),u.attr("scroll-shrink","true"),r.nextTick(l,!1),function(){u.off("scroll",w);u.attr("scroll-shrink","false");l()}):t.noop}function l(){a=s.prop("offsetHeight");var n=-a*y+"px";u.css({"margin-top":n,"margin-bottom":n});k()}var a,u,v=t.noop,c=0,p=0,y=h.mdShrinkSpeedFactor||.5,w=n.throttle(k),nt=r.debounce(l,5e3);o.$on("$mdContentLoaded",b);h.$observe("mdScrollShrink",g);h.ngShow&&o.$watch(h.ngShow,l);h.ngHide&&o.$watch(h.ngHide,l);o.$on("$destroy",v)}s.addClass("_md");u(s);r.nextTick(function(){s.addClass("_md-toolbar-transitions")},!1);t.isDefined(h.mdScrollShrink)&&c()}}}n.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"];t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",n)}(),function(){function n(n,i,r,u,f,e,o,s,h,c){function p(o,h,p){function et(){o.delay=o.delay||w}function rt(){var n="center top";switch(o.direction){case"left":n="right center";break;case"right":n="left center";break;case"top":n="center bottom";break;case"bottom":n="center top"}it.css("transform-origin",n)}function d(n){n?ct():lt()}function ot(){var n,t;h[0]&&"MutationObserver"in i?(n=new MutationObserver(function(n){n.forEach(function(n){"md-visible"===n.attributeName&&(o.visibleWatcher||(o.visibleWatcher=o.$watch("visible",d)));"md-direction"===n.attributeName&&tt(o.direction)})}),n.observe(h[0],{attributes:!0}),p.hasOwnProperty("mdVisible")&&(o.visibleWatcher=o.$watch("visible",d))):(o.visibleWatcher=o.$watch("visible",d),o.$watch("direction",tt));t=function(){o.$destroy()};h.one("$destroy",t);b.one("$destroy",t);o.$on("$destroy",function(){k(!1);h.remove();n&&n.disconnect()});h.text().indexOf(c.startSymbol())>-1&&o.$watch(function(){return h.text().trim()},ut)}function ut(n){if((n||!b.attr("aria-label"))&&!b.text().trim()){var t=n||h.text().trim(),i=c(t)(b.scope());b.attr("aria-label",i)}}function st(){h.detach();h.attr("role","tooltip")}function ht(){function l(){k(!1)}var h=!1,e,c,s;b[0]&&"MutationObserver"in i&&(e=new MutationObserver(function(n){n.some(function(n){return"disabled"===n.attributeName&&b[0].disabled})&&f.nextTick(function(){k(!1)})}),e.observe(b[0],{attributes:!0}));c=function(){s=document.activeElement===b[0]};s=!1;t.element(i).on("blur",c).on("resize",ft);document.addEventListener("scroll",l,!0);o.$on("$destroy",function(){t.element(i).off("blur",c).off("resize",ft);b.off(y,a).off(v,r).off("mousedown",w);r();document.removeEventListener("scroll",l,!0);e&&e.disconnect()});var a=function(n){"focus"===n.type&&s?s=!1:o.visible||(b.on(v,r),k(!0),"touchstart"===n.type&&b.one("touchend",function(){f.nextTick(function(){u.one("touchend",r)},!1)}))},r=function(){var t=o.hasOwnProperty("autohide")?o.autohide:p.hasOwnProperty("mdAutohide");(t||h||u[0].activeElement!==b[0])&&(nt&&(n.cancel(nt),k.queued=!1,nt=null),b.off(v,r),b.triggerHandler("blur"),k(!1));h=!1},w=function(){h=!0};b.on("mousedown",w);b.on(y,a)}function k(t){k.queued&&k.value===!!t||!k.queued&&o.visible===!!t||(k.value=!!t,k.queued||(t?(k.queued=!0,nt=n(function(){o.visible=k.value;k.queued=!1;nt=null;o.visibleWatcher||d(o.visible)},o.delay)):f.nextTick(function(){o.visible=!1;o.visibleWatcher||d(!1)})))}function ct(){if(h[0].textContent.trim()){if(h.css({top:0,left:0}),g.append(h),f.hasComputedStyle(h,"display","none"))return o.visible=!1,void h.detach();tt();s.addClass(it,a).then(function(){h.addClass(a)})}}function lt(){s.removeClass(it,a).then(function(){h.removeClass(a);o.visible||h.detach()})}function tt(){o.visible&&(rt(),at())}function at(){function r(n){var i={left:n.left,top:n.top};return i.left=Math.min(i.left,g.prop("scrollWidth")-t.width-l),i.left=Math.max(i.left,l),i.top=Math.min(i.top,g.prop("scrollHeight")-t.height-l),i.top=Math.max(i.top,l),i}function u(i){return"left"===i?{left:n.left-t.width-l,top:n.top+n.height/2-t.height/2}:"right"===i?{left:n.left+n.width+l,top:n.top+n.height/2-t.height/2}:"top"===i?{left:n.left+n.width/2-t.width/2,top:n.top-t.height-l}:{left:n.left+n.width/2-t.width/2,top:n.top+n.height+l}}var t=f.offsetRect(h,g),n=f.offsetRect(b,g),i=u(o.direction),e=h.prop("offsetParent");o.direction?i=r(i):e&&i.top>e.scrollHeight-t.height-l&&(i=r(u("top")));h.css({left:i.left+"px",top:i.top+"px"})}e(h);var b=f.getParentWithPointerEvents(h),it=t.element(h[0].getElementsByClassName("md-content")[0]),g=t.element(document.body),nt=null,ft=r.throttle(function(){tt()});s.pin&&s.pin(h,b);et();st();ht();rt();ot();ut()}var y="focus touchstart mouseenter",v="blur touchcancel mouseleave",a="md-show",w=0,l=8;return{restrict:"E",transclude:!0,priority:210,template:'<div class="md-content _md" ng-transclude><\/div>',scope:{delay:"=?mdDelay",visible:"=?mdVisible",autohide:"=?mdAutohide",direction:"@?mdDirection"},compile:function(n,t){return t.mdDirection||t.$set("mdDirection","bottom"),p}}}n.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q","$interpolate"];t.module("material.components.tooltip",["material.core"]).directive("mdTooltip",n)}(),function(){function o(){return{controller:n,template:s,compile:function(n,t){n.addClass("md-virtual-repeat-container").addClass(t.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}function s(n){return'<div class="md-virtual-repeat-scroller"><div class="md-virtual-repeat-sizer"><\/div><div class="md-virtual-repeat-offsetter">'+n[0].innerHTML+"<\/div><\/div>"}function n(n,i,r,u,f,e,o,s){this.$rootScope=u;this.$scope=e;this.$element=o;this.$attrs=s;this.size=0;this.scrollSize=0;this.scrollOffset=0;this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal");this.repeater=null;this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink");this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0;this.originalSize=null;this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0;this.oldElementSize=null;this.$attrs.mdTopIndex?(this.bindTopIndex=r(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),t.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,t.bind(this,function(n){n!==this.topIndex&&this.scrollToIndex(n)}))):this.topIndex=0;this.scroller=o[0].querySelector(".md-virtual-repeat-scroller");this.sizer=this.scroller.querySelector(".md-virtual-repeat-sizer");this.offsetter=this.scroller.querySelector(".md-virtual-repeat-offsetter");var h=t.bind(this,this.updateSize);n(t.bind(this,function(){h();var n=i.debounce(h,10,null,!1),r=t.element(f);this.size||n();r.on("resize",n);e.$on("$destroy",function(){r.off("resize",n)});e.$emit("$md-resize-enable");e.$on("$md-resize",h)}))}function e(n){return{controller:i,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(t,i){var u=i.mdVirtualRepeat,r=u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),f=r[1],e=n(r[2]),o=i.mdExtraName&&n(i.mdExtraName);return function(n,t,i,r,u){r[0].link_(r[1],u,f,e,o)}}}}function i(n,i,r,u,f,e,o,s){this.$scope=n;this.$element=i;this.$attrs=r;this.$browser=u;this.$document=f;this.$rootScope=e;this.$$rAF=o;this.onDemand=s.parseAttributeBoolean(r.mdOnDemand);this.browserCheckUrlChange=u.$$checkUrlChange;this.newStartIndex=0;this.newEndIndex=0;this.newVisibleEnd=0;this.startIndex=0;this.endIndex=0;this.itemSize=n.$eval(r.mdItemSize)||null;this.isFirstRender=!0;this.isVirtualRepeatUpdating_=!1;this.itemsLength=0;this.unwatchItemSize_=t.noop;this.blocks={};this.pooledBlocks=[];n.$on("$destroy",t.bind(this,this.cleanupBlocks_))}function r(n){if(!t.isFunction(n.getItemAtIndex)||!t.isFunction(n.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength() ");this.model=n}n.$inject=["$$rAF","$mdUtil","$parse","$rootScope","$window","$scope","$element","$attrs"];i.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF","$mdUtil"];e.$inject=["$parse"];t.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",o).directive("mdVirtualRepeat",e);var u=1533917,f=3;n.prototype.register=function(n){this.repeater=n;t.element(this.scroller).on("scroll wheel touchmove touchend",t.bind(this,this.handleScroll_))};n.prototype.isHorizontal=function(){return this.horizontal};n.prototype.getSize=function(){return this.size};n.prototype.setSize_=function(n){var t=this.getDimensionName_();this.size=n;this.$element[0].style[t]=n+"px"};n.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize;this.oldElementSize=null};n.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.handleScroll_(),this.repeater&&this.repeater.containerUpdated())};n.prototype.getScrollSize=function(){return this.scrollSize};n.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"};n.prototype.sizeScroller_=function(n){var i=this.getDimensionName_(),e=this.isHorizontal()?"height":"width",r,t,f;if(this.sizer.innerHTML="",u>n)this.sizer.style[i]=n+"px";else{for(this.sizer.style[i]="auto",this.sizer.style[e]="auto",r=Math.floor(n/u),t=document.createElement("div"),t.style[i]="1533917px",t.style[e]="1px",f=0;r>f;f++)this.sizer.appendChild(t.cloneNode(!1));t.style[i]=n-r*u+"px";this.sizer.appendChild(t)}};n.prototype.autoShrink_=function(n){var t=Math.max(n,this.autoShrinkMin*this.repeater.getItemSize()),i,r;this.autoShrink&&t!==this.size&&(null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]),i=this.originalSize||this.size,!i||i>t?(this.originalSize||(this.originalSize=this.size),this.setSize_(t)):null!==this.originalSize&&(this.unsetSize_(),r=this.originalSize,this.originalSize=null,r||this.updateSize(),this.setSize_(r||this.size)),this.repeater.containerUpdated())};n.prototype.setScrollSize=function(n){var t=n+this.offsetSize;this.scrollSize!==t&&(this.sizeScroller_(t),this.autoShrink_(t),this.scrollSize=t)};n.prototype.getScrollOffset=function(){return this.scrollOffset};n.prototype.scrollTo=function(n){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=n;this.handleScroll_()};n.prototype.scrollToIndex=function(n){var i=this.repeater.getItemSize(),t=this.repeater.itemsLength;n>t&&(n=t-1);this.scrollTo(i*n)};n.prototype.resetScroll=function(){this.scrollTo(0)};n.prototype.handleScroll_=function(){var s=t.element(document)[0],u="rtl"!=s.dir&&"rtl"!=s.body.dir,n,i,e,o,r;u||this.maxSize||(this.scroller.scrollLeft=this.scrollSize,this.maxSize=this.scroller.scrollLeft);n=this.isHorizontal()?u?this.scroller.scrollLeft:this.maxSize-this.scroller.scrollLeft:this.scroller.scrollTop;n===this.scrollOffset||n>this.scrollSize-this.size||(i=this.repeater.getItemSize(),i&&(e=Math.max(0,Math.floor(n/i)-f),o=(this.isHorizontal()?"translateX(":"translateY(")+(!this.isHorizontal()||u?e*i:-(e*i))+"px)",(this.scrollOffset=n,this.offsetter.style.webkitTransform=o,this.offsetter.style.transform=o,this.bindTopIndex)&&(r=Math.floor(n/i),r!==this.topIndex&&r<this.repeater.getItemCount()&&(this.topIndex=r,this.bindTopIndex.assign(this.$scope,r),this.$rootScope.$$phase||this.$scope.$digest())),this.repeater.containerUpdated()))};i.Block;i.prototype.link_=function(n,i,r,u,f){this.container=n;this.transclude=i;this.repeatName=r;this.rawRepeatListExpression=u;this.extraName=f;this.sized=!1;this.repeatListExpression=t.bind(this,this.repeatListExpression_);this.container.register(this)};i.prototype.cleanupBlocks_=function(){t.forEach(this.pooledBlocks,function(n){n.element.remove()})};i.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope);this.parentNode=this.$element[0].parentNode;var n=this.getBlock_(0);n.element[0].parentNode||this.parentNode.appendChild(n.element[0]);this.itemSize=n.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null;this.blocks[0]=n;this.poolBlock_(0);this.itemSize&&this.containerUpdated()}};i.prototype.repeatListExpression_=function(n){var t=this.rawRepeatListExpression(n),i;return this.onDemand&&t?(i=new r(t),i.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),i):t};i.prototype.containerUpdated=function(){return this.itemSize?(this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(n,t){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(n,t)}))),this.updateIndexes_(),void((this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof r&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items)))):(this.unwatchItemSize_&&this.unwatchItemSize_!==t.noop&&this.unwatchItemSize_(),this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(n){n&&n.length&&this.readItemSize_()})),void(this.$rootScope.$$phase||this.$scope.$digest()))};i.prototype.getItemSize=function(){return this.itemSize};i.prototype.getItemCount=function(){return this.itemsLength};i.prototype.virtualRepeatUpdate_=function(n,i){var f,e,c,l,r,u,o,s,h;for(this.isVirtualRepeatUpdating_=!0,f=n&&n.length||0,e=!1,this.items&&f<this.items.length&&0!==this.container.getScrollOffset()&&(this.items=n,c=this.container.getScrollOffset(),this.container.resetScroll(),this.container.scrollTo(c)),(f!==this.itemsLength&&(e=!0,this.itemsLength=f),this.items=n,(n!==i||e)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,e&&this.container.setScrollSize(f*this.itemSize),this.isFirstRender)&&(this.isFirstRender=!1,l=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex,this.container.scrollToIndex(l)),Object.keys(this.blocks).forEach(function(n){var t=parseInt(n,10);(t<this.newStartIndex||t>=this.newEndIndex)&&this.poolBlock_(t)},this),this.$browser.$$checkUrlChange=t.noop,o=[],s=[],r=this.newStartIndex;r<this.newEndIndex&&null==this.blocks[r];r++)u=this.getBlock_(r),this.updateBlock_(u,r),o.push(u);for(;null!=this.blocks[r];r++)this.updateBlock_(this.blocks[r],r);for(h=r-1;r<this.newEndIndex;r++)u=this.getBlock_(r),this.updateBlock_(u,r),s.push(u);o.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(o),this.$element[0].nextSibling);s.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(s),this.blocks[h]&&this.blocks[h].element[0].nextSibling);this.$browser.$$checkUrlChange=this.browserCheckUrlChange;this.startIndex=this.newStartIndex;this.endIndex=this.newEndIndex;this.isVirtualRepeatUpdating_=!1};i.prototype.getBlock_=function(n){if(this.pooledBlocks.length)return this.pooledBlocks.pop();var i;return this.transclude(t.bind(this,function(t,r){i={element:t,"new":!0,scope:r};this.updateScope_(r,n);this.parentNode.appendChild(t[0])})),i};i.prototype.updateBlock_=function(n,t){this.blocks[t]=n;(n["new"]||n.scope.$index!==t||n.scope[this.repeatName]!==this.items[t])&&(n["new"]=!1,this.updateScope_(n.scope,t),this.$rootScope.$$phase||n.scope.$digest())};i.prototype.updateScope_=function(n,t){n.$index=t;n[this.repeatName]=this.items&&this.items[t];this.extraName&&(n[this.extraName(this.$scope)]=this.items[t])};i.prototype.poolBlock_=function(n){this.pooledBlocks.push(this.blocks[n]);this.parentNode.removeChild(this.blocks[n].element[0]);delete this.blocks[n]};i.prototype.domFragmentFromBlocks_=function(n){var t=this.$document[0].createDocumentFragment();return n.forEach(function(n){t.appendChild(n.element[0])}),t};i.prototype.updateIndexes_=function(){var n=this.items?this.items.length:0,t=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(n-t,Math.floor(this.container.getScrollOffset()/this.itemSize)));this.newVisibleEnd=this.newStartIndex+t+f;this.newEndIndex=Math.min(n,this.newVisibleEnd);this.newStartIndex=Math.max(0,this.newStartIndex-f)};r.prototype.$$includeIndexes=function(n,t){for(var i=n;t>i;i++)this.hasOwnProperty(i)||(this[i]=this.model.getItemAtIndex(i));this.length=this.model.getLength()}}(),function(){function n(n){function f(f,e,o){var s="";o.$observe("mdWhiteframe",function(f){f=parseInt(f,10)||u;f!=t&&(f>r||i>f)&&(n.warn("md-whiteframe attribute value is invalid. It should be a number between "+i+" and "+r,e[0]),f=u);var h=f==t?"":"md-whiteframe-"+f+"dp";o.$updateClass(h,s);s=h})}var t=-1,i=1,r=24,u=4;return{link:f}}n.$inject=["$log"];t.module("material.components.whiteframe",["material.core"]).directive("mdWhiteframe",n)}(),function(){function u(u,e,o,s,h,c,l,a,v,y,p){function ci(){o.initOptionalProperties(u,v,{searchText:"",selectedItem:null});h(e);vi();o.nextTick(function(){pi();li();u.autofocus&&e.on("focus",ai)})}function yt(){u.requireMatch&&vt&&vt.$setValidity("md-require-match",!!u.selectedItem)}function k(){function p(){var n=0,t=e.find("md-input-container"),i;return t.length&&(i=t.find("input"),n=t.prop("offsetHeight"),n-=i.prop("offsetTop"),n-=i.prop("offsetHeight"),n+=t.prop("offsetTop")),n}function w(){var i=b.scrollContainer.getBoundingClientRect(),r={};i.right>t.right-n&&(r.left=s.right-i.width+"px");b.$.scrollContainer.css(r)}if(!b)return o.nextTick(k,!1,u);var i,s=b.wrap.getBoundingClientRect(),h=b.snap.getBoundingClientRect(),t=b.root.getBoundingClientRect(),c=h.bottom-t.top,l=t.bottom-h.top,a=s.left-t.left,y=s.width,d=p();v.mdFloatingLabel&&(a+=f,y-=2*f);i={left:a+"px",minWidth:y+"px",maxWidth:Math.max(s.right-t.left,t.right-s.left)-n+"px"};c>l&&t.height-s.bottom-n<r?(i.top="auto",i.bottom=l+"px",i.maxHeight=Math.min(r,s.top-t.top-n)+"px"):(i.top=c-d+"px",i.bottom="auto",i.maxHeight=Math.min(r,t.bottom+o.scrollTop()-s.bottom-n)+"px");b.$.scrollContainer.css(i);o.nextTick(w,!1)}function li(){b.$.root.length&&(h(b.$.scrollContainer),b.$.scrollContainer.detach(),b.$.root.append(b.$.scrollContainer),l.pin&&l.pin(b.$.scrollContainer,a))}function ai(){b.input.focus()}function vi(){var n=parseInt(u.delay,10)||0;v.$observe("disabled",function(n){w.isDisabled=o.parseAttributeBoolean(n,!1)});v.$observe("required",function(n){w.isRequired=o.parseAttributeBoolean(n,!1)});v.$observe("readonly",function(n){w.isReadonly=o.parseAttributeBoolean(n,!1)});u.$watch("searchText",n?o.debounce(wt,n):wt);u.$watch("selectedItem",tr);t.element(c).on("resize",k);u.$on("$destroy",yi)}function yi(){if(w.hidden||o.enableScrolling(),t.element(c).off("resize",k),b)t.forEach(["ul","scroller","scrollContainer","input"],function(n){b.$[n].remove()})}function pi(){b={main:e[0],scrollContainer:e[0].querySelector(".md-virtual-repeat-container"),scroller:e[0].querySelector(".md-virtual-repeat-scroller"),ul:e.find("ul")[0],input:e.find("input")[0],wrap:e.find("md-autocomplete-wrap")[0],root:document.body};b.li=b.ul.getElementsByTagName("li");b.snap=wi();b.$=bi(b);vt=b.$.input.controller("ngModel")}function wi(){for(var n=e;n.length;n=n.parent())if(t.isDefined(n.attr("md-autocomplete-snap")))return n[0];return b.wrap}function bi(n){var r={};for(var i in n)n.hasOwnProperty(i)&&(r[i]=t.element(n[i]));return r}function ki(n,i){!n&&i?(k(),b&&(o.disableScrollAround(b.ul),st=di(t.element(b.wrap)))):n&&!i&&(o.enableScrolling(),st&&(st(),st=null))}function di(n){function t(n){n.preventDefault()}return n.on("wheel",t),n.on("touchmove",t),function(){n.off("wheel",t);n.off("touchmove",t)}}function gi(){it=!0}function pt(){tt||w.hidden||b.input.focus();it=!1;w.hidden=nt()}function nr(){b.input.focus()}function tr(n,t){yt();n?d(n).then(function(i){u.searchText=i;ur(n,t)}):t&&u.searchText&&d(t).then(function(n){n.toString().toLowerCase()===u.searchText.toLowerCase()&&(u.searchText="")});n!==t&&ir()}function ir(){t.isFunction(u.itemChange)&&u.itemChange(kt(u.selectedItem))}function rr(){t.isFunction(u.textChange)&&u.textChange()}function ur(n,t){rt.forEach(function(i){i(n,t)})}function fr(n){-1==rt.indexOf(n)&&rt.push(n)}function er(n){var t=rt.indexOf(n);-1!=t&&rt.splice(t,1)}function wt(n,t){w.index=lr();n!==t&&(yt(),d(u.selectedItem).then(function(i){n!==i&&(u.selectedItem=null,n!==t&&rr(),ct()?fi():(w.matches=[],g(!1),ot()))}))}function or(n){tt=!1;it||(w.hidden=nt(),oi("ngBlur",{$event:n}))}function sr(n){n&&(it=!1,tt=!1);b.input.blur()}function hr(n){tt=!0;dt()&&ct()&&fi();w.hidden=nt();oi("ngFocus",{$event:n})}function cr(n){switch(n.keyCode){case s.KEY_CODE.DOWN_ARROW:if(w.loading)return;n.stopPropagation();n.preventDefault();w.index=Math.min(w.index+1,w.matches.length-1);ii();ot();break;case s.KEY_CODE.UP_ARROW:if(w.loading)return;n.stopPropagation();n.preventDefault();w.index=w.index<0?w.matches.length-1:Math.max(0,w.index-1);ii();ot();break;case s.KEY_CODE.TAB:if(pt(),w.hidden||w.loading||w.index<0||w.matches.length<1)return;et(w.index);break;case s.KEY_CODE.ENTER:if(w.hidden||w.loading||w.index<0||w.matches.length<1)return;if(ft())return;n.stopPropagation();n.preventDefault();et(w.index);break;case s.KEY_CODE.ESCAPE:if(n.preventDefault(),!ar())return;n.stopPropagation();ni();u.searchText&&ut("clear")&&ti();w.hidden=!0;ut("blur")&&sr(!0)}}function bt(){return t.isNumber(u.minLength)?u.minLength:1}function d(n){function i(n){return n&&u.itemText?u.itemText(kt(n)):null}return y.when(i(n)||n).then(function(n){return n&&!t.isString(n)&&p.warn("md-autocomplete: Could not resolve display value to a string. Please check the `md-item-text` attribute."),n})}function kt(n){if(!n)return i;var t={};return w.itemName&&(t[w.itemName]=n),t}function lr(){return u.autoselect?0:-1}function g(n){w.loading!=n&&(w.loading=n);w.hidden=nt()}function nt(){return!dt()||!vr()}function dt(){return!(w.loading&&!ht()||ft()||!tt)}function ar(){return ut("blur")||!w.hidden||w.loading||ut("clear")&&u.searchText}function ut(n){return!u.escapeOptions||-1!==u.escapeOptions.toLowerCase().indexOf(n)}function vr(){return ct()&&ht()||ui()}function ht(){return!!w.matches.length}function ft(){return!!w.scope.selectedItem}function yr(){return w.loading&&!ft()}function gt(){return d(w.matches[w.index])}function ct(){return(u.searchText||"").length>=bt()}function pr(n,t,i){Object.defineProperty(w,n,{get:function(){return i},set:function(n){var r=i;i=n;t(n,r)}})}function et(n){o.nextTick(function(){d(w.matches[n]).then(function(n){var t=b.$.input.controller("ngModel");t.$setViewValue(n);t.$render()})["finally"](function(){u.selectedItem=w.matches[n];g(!1)})},!1)}function wr(){ni();ti()}function ni(){w.index=0;w.matches=[]}function ti(){g(!0);u.searchText="";var n=document.createEvent("CustomEvent");n.initCustomEvent("change",!0,!0,{value:""});b.input.dispatchEvent(n);b.input.blur();u.searchText="";b.input.focus()}function br(n){function f(n){n&&(n=y.when(n),at++,g(!0),o.nextTick(function(){n.then(r)["finally"](function(){0==--at&&g(!1)})},!0,u))}function r(t){lt[e]=t;(n||"")===(u.searchText||"")&&ei(t)}var i=u.$parent.$eval(nu),e=n.toLowerCase(),s=t.isArray(i),h=!!i.then;s?r(i):h&&f(i)}function ot(){gt().then(function(n){w.messages=[kr(),n]})}function kr(){if(hi===w.matches.length)return"";switch(hi=w.matches.length,w.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+w.matches.length+" matches available."}}function ii(){if(b.li[0]){var t=b.li[0].offsetHeight,n=t*w.index,i=n+t,r=b.scroller.clientHeight,u=b.scroller.scrollTop;u>n?ri(n):i>u+r&&ri(i-r)}}function dr(){return 0!==at}function ri(n){b.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(n)}function ui(){var n=(w.scope.searchText||"").length;return w.hasNotFound&&!ht()&&(!w.loading||dr())&&n>=bt()&&(tt||it)&&!ft()}function fi(){var n=u.searchText||"",t=n.toLowerCase();!u.noCache&&lt[t]?ei(lt[t]):br(n);w.hidden=nt()}function ei(n){w.matches=n;w.hidden=nt();w.loading&&g(!1);u.selectOnMatch&&gr();ot();k()}function gr(){var n=u.searchText,t=w.matches,i=t[0];1===t.length&&d(i).then(function(t){var i=n==t;u.matchInsensitive&&!i&&(i=n.toLowerCase()==t.toLowerCase());i&&et(0)})}function oi(n,t){v[n]&&u.$parent.$eval(v[n],t||{})}var w=this,si=u.itemsExpr.split(/ in /i),nu=si[1],b=null,lt={},it=!1,rt=[],tt=!1,hi=0,at=0,st=null,vt=null;return pr("hidden",ki,!0),w.scope=u,w.parent=u.$parent,w.itemName=si[0],w.matches=[],w.loading=!1,w.hidden=!0,w.index=null,w.messages=[],w.id=o.nextUid(),w.isDisabled=null,w.isRequired=null,w.isReadonly=null,w.hasNotFound=!1,w.keydown=cr,w.blur=or,w.focus=hr,w.clear=wr,w.select=et,w.listEnter=gi,w.listLeave=pt,w.mouseUp=nr,w.getCurrentDisplayValue=gt,w.registerSelectedItemWatcher=fr,w.unregisterSelectedItemWatcher=er,w.notFoundVisible=ui,w.loadingIsVisible=yr,w.positionDropdown=k,ci()}u.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q","$log"];t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",u);var r=5.5*41,n=8,f=2}(),function(){function n(n){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",requireMatch:"=?mdRequireMatch",selectOnMatch:"=?mdSelectOnMatch",matchInsensitive:"=?mdMatchCaseInsensitive",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId",escapeOptions:"@?mdEscapeOptions"},link:function(n,t,i,r){r.hasNotFound=!!t.attr("md-has-not-found")},template:function(t,i){function f(){var n=t.find("md-item-template").detach(),i=n.length?n.html():t.html();return n.length||t.empty(),"<md-autocomplete-parent-scope md-autocomplete-replace>"+i+"<\/md-autocomplete-parent-scope>"}function e(){var n=t.find("md-not-found").detach(),i=n.length?n.html():"";return i?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+i+"<\/li>":""}function o(){return i.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}<\/label>              <input type="search"                  '+(null!=r?'tabindex="'+r+'"':"")+'                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-readonly="$mdAutocompleteCtrl.isReadonly"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-model-options="{ allowInvalid: true }"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur($event)"                  ng-focus="$mdAutocompleteCtrl.focus($event)"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  '+(null!=i.mdNoAsterisk?'md-no-asterisk="'+i.mdNoAsterisk+'"':"")+"                  "+(null!=i.mdSelectOnFocus?'md-select-on-focus=""':"")+'                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  role="combobox"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+h+"<\/div>            <\/md-input-container>":'            <input type="search"                '+(null!=r?'tabindex="'+r+'"':"")+'                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-readonly="$mdAutocompleteCtrl.isReadonly"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur($event)"                ng-focus="$mdAutocompleteCtrl.focus($event)"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                '+(null!=i.mdSelectOnFocus?'md-select-on-focus=""':"")+'                aria-label="{{placeholder}}"                aria-autocomplete="list"                role="combobox"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>            <button                type="button"                tabindex="-1"                ng-if="$mdAutocompleteCtrl.scope.searchText && !$mdAutocompleteCtrl.isDisabled"                ng-click="$mdAutocompleteCtrl.clear($event)">              <md-icon md-svg-src="'+n.mdClose+'"><\/md-icon>              <span class="md-visually-hidden">Clear<\/span>            <\/button>                '}var u=e(),s=f(),h=t.html(),r=i.tabindex;return u&&t.attr("md-has-not-found",!0),t.attr("tabindex","-1"),"        <md-autocomplete-wrap            ng-class=\"{ 'md-whiteframe-z1': !floatingLabel, 'md-menu-showing': !$mdAutocompleteCtrl.hidden }\">          "+o()+'          <md-progress-linear              class="'+(i.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"><\/md-progress-linear>          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-autocomplete-suggestions-container md-whiteframe-z1"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}">              <li md-virtual-repeat="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-click="$mdAutocompleteCtrl.select($index)"                  md-extra-name="$mdAutocompleteCtrl.itemName">                  '+s+"                  <\/li>"+u+'            <\/ul>          <\/md-virtual-repeat-container>        <\/md-autocomplete-wrap>        <aria-status            class="md-visually-hidden"            role="status"            aria-live="assertive">          <p ng-repeat="message in $mdAutocompleteCtrl.messages track by $index" ng-if="message">{{message}}<\/p>        <\/aria-status>'}}}n.$inject=["$$mdSvgRegistry"];t.module("material.components.autocomplete").directive("mdAutocomplete",n)}(),function(){function n(n,t){function i(n,i,r){return function(n,i){function f(i,r){u[r]=n[i];n.$watch(i,function(n){t.nextTick(function(){u[r]=n})})}function o(){var i=!1,t=!1;n.$watch(function(){t||i||(i=!0,n.$$postDigest(function(){t||u.$digest();i=t=!1}))});u.$watch(function(){t=!0})}var e=n.$mdAutocompleteCtrl,u=e.parent.$new(),s=e.itemName;f("$index","$index");f("item",s);o();r(u,function(n){i.after(n)})}}return{restrict:"AE",compile:i,terminal:!0,transclude:"element"}}n.$inject=["$compile","$mdUtil"];t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",n)}(),function(){function n(n,t,i){this.$scope=n;this.$element=t;this.$attrs=i;this.regex=null}n.$inject=["$scope","$element","$attrs"];t.module("material.components.autocomplete").controller("MdHighlightCtrl",n);n.prototype.init=function(n,t){this.flags=this.$attrs.mdHighlightFlags||"";this.unregisterFn=this.$scope.$watch(function(i){return{term:n(i),contentText:t(i)}}.bind(this),this.onRender.bind(this),!0);this.$element.on("$destroy",this.unregisterFn)};n.prototype.onRender=function(n,t){var i=n.contentText;null!==this.regex&&n.term===t.term||(this.regex=this.createRegex(n.term,this.flags));n.term?this.applyRegex(i):this.$element.text(i)};n.prototype.applyRegex=function(n){var i=this.resolveTokens(n);this.$element.empty();i.forEach(function(n){if(n.isMatch){var i=t.element('<span class="highlight">').text(n.text);this.$element.append(i)}else this.$element.append(document.createTextNode(n))}.bind(this))};n.prototype.resolveTokens=function(n){function r(i,r){var u=n.slice(i,r);u&&t.push(u)}var t=[],i=0;return n.replace(this.regex,function(n,u){r(i,u);t.push({text:n,isMatch:!0});i=u+n.length}),r(i),t};n.prototype.createRegex=function(n,t){var i="",r="",u=this.sanitizeRegex(n);return t.indexOf("^")>=0&&(i="^"),t.indexOf("$")>=0&&(r="$"),new RegExp(i+u+r,t.replace(/[$\^]/g,""))};n.prototype.sanitizeRegex=function(n){return n&&n.toString().replace(/[\\\^\$\*\+\?\.\(\)\|\{}\[\]]/g,"\\$&")}}(),function(){function n(n,t){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(i,r){var u=t(r.mdHighlightText),f=n(i.html());return function(n,t,i,r){r.init(u,f)}}}}n.$inject=["$interpolate","$parse"];t.module("material.components.autocomplete").directive("mdHighlightText",n)}(),function(){function r(n,t,r,u,f){this.$scope=n;this.$element=t;this.$mdConstant=r;this.$timeout=u;this.$mdUtil=f;this.isEditting=!1;this.parentController=i;this.enableChipEdit=!1}r.$inject=["$scope","$element","$mdConstant","$timeout","$mdUtil"];t.module("material.components.chips").controller("MdChipCtrl",r);r.prototype.init=function(n){this.parentController=n;this.enableChipEdit=this.parentController.enableChipEdit;this.enableChipEdit&&(this.$element.on("keydown",this.chipKeyDown.bind(this)),this.$element.on("mousedown",this.chipMouseDown.bind(this)),this.getChipContent().addClass("_md-chip-content-edit-is-enabled"))};r.prototype.getChipContent=function(){var n=this.$element[0].getElementsByClassName("md-chip-content");return t.element(n[0])};r.prototype.getContentElement=function(){return t.element(this.getChipContent().children()[0])};r.prototype.getChipIndex=function(){return parseInt(this.$element.attr("index"))};r.prototype.goOutOfEditMode=function(){if(this.isEditting){this.isEditting=!1;this.$element.removeClass("_md-chip-editing");this.getChipContent()[0].contentEditable="false";var n=this.getChipIndex(),t=this.getContentElement().text();t?(this.parentController.updateChipContents(n,this.getContentElement().text()),this.$mdUtil.nextTick(function(){this.parentController.selectedChip===n&&this.parentController.focusChip(n)}.bind(this))):this.parentController.removeChipAndFocusInput(n)}};r.prototype.selectNodeContents=function(t){var i,r;document.body.createTextRange?(i=document.body.createTextRange(),i.moveToElementText(t),i.select()):n.getSelection&&(r=n.getSelection(),i=document.createRange(),i.selectNodeContents(t),r.removeAllRanges(),r.addRange(i))};r.prototype.goInEditMode=function(){this.isEditting=!0;this.$element.addClass("_md-chip-editing");this.getChipContent()[0].contentEditable="true";this.getChipContent().on("blur",function(){this.goOutOfEditMode()}.bind(this));this.selectNodeContents(this.getChipContent()[0])};r.prototype.chipKeyDown=function(n){this.isEditting||n.keyCode!==this.$mdConstant.KEY_CODE.ENTER&&n.keyCode!==this.$mdConstant.KEY_CODE.SPACE?this.isEditting&&n.keyCode===this.$mdConstant.KEY_CODE.ENTER&&(n.preventDefault(),this.goOutOfEditMode()):(n.preventDefault(),this.goInEditMode())};r.prototype.chipMouseDown=function(){this.getChipIndex()==this.parentController.selectedChip&&this.enableChipEdit&&!this.isEditting&&this.goInEditMode()}}(),function(){function n(n,r){function u(i){return i.append(r.processTemplate(f)),function(i,r,u,f){var e=f.shift(),o=f.shift();n(r);e&&(o.init(e),t.element(r[0].querySelector(".md-chip-content")).on("blur",function(){e.resetSelectedChip();e.$scope.$applyAsync()}))}}var f=r.processTemplate(i);return{restrict:"E",require:["^?mdChips","mdChip"],compile:u,controller:"MdChipCtrl"}}n.$inject=["$mdTheming","$mdUtil"];t.module("material.components.chips").directive("mdChip",n);var i='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    <\/span>'}(),function(){function n(n){function t(t,i,r,u){i.on("click",function(){t.$apply(function(){u.removeChip(t.$$replacedScope.$index)})});n(function(){i.attr({tabindex:-1,"aria-hidden":!0});i.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:t}}n.$inject=["$timeout"];t.module("material.components.chips").directive("mdChipRemove",n)}(),function(){function n(n){function t(t,i,r){var f=t.$parent.$mdChipsCtrl,u=f.parent.$new(!1,f.parent),e;u.$$replacedScope=t;u.$chip=t.$chip;u.$index=t.$index;u.$mdChipsCtrl=f;e=f.$scope.$eval(r.mdChipTransclude);i.html(e);n(i.contents())(u)}return{restrict:"EA",terminal:!0,link:t,scope:!1}}n.$inject=["$compile"];t.module("material.components.chips").directive("mdChipTransclude",n)}(),function(){function n(n,t,i,r,u,f,e){this.$timeout=f;this.$mdConstant=i;this.$scope=n;this.parent=n.$parent;this.$log=r;this.$element=u;this.ngModelCtrl=null;this.userInputNgModelCtrl=null;this.autocompleteCtrl=null;this.userInputElement=null;this.items=[];this.selectedChip=-1;this.enableChipEdit=e.parseAttributeBoolean(t.mdEnableChipEdit);this.addOnBlur=e.parseAttributeBoolean(t.mdAddOnBlur);this.deleteHint="Press delete to remove this chip.";this.deleteButtonLabel="Remove";this.chipBuffer="";this.useTransformChip=!1;this.useOnAdd=!1;this.useOnRemove=!1}n.$inject=["$scope","$attrs","$mdConstant","$log","$element","$timeout","$mdUtil"];t.module("material.components.chips").controller("MdChipsCtrl",n);n.prototype.inputKeydown=function(n){var t=this.getChipBuffer();if(!(this.autocompleteCtrl&&n.isDefaultPrevented&&n.isDefaultPrevented())){if(n.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE)return 0!==this.getCursorPosition(n.target)?void 0:(n.preventDefault(),n.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1)));if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),-1!==this.separatorKeys.indexOf(n.keyCode)){if(this.autocompleteCtrl&&this.requireMatch||!t)return;if(n.preventDefault(),this.hasMaxChipsReached())return;this.appendChip(t.trim());this.resetChipBuffer()}}};n.prototype.getCursorPosition=function(n){try{if(n.selectionStart===n.selectionEnd)return n.selectionStart}catch(t){if(!n.value)return 0}};n.prototype.updateChipContents=function(n,t){n>=0&&n<this.items.length&&(this.items[n]=t,this.ngModelCtrl.$setDirty())};n.prototype.isEditingChip=function(){return!!this.$element[0].getElementsByClassName("_md-chip-editing").length};n.prototype.isRemovable=function(){return!!this.ngModelCtrl&&(this.readonly?this.removable:!t.isDefined(this.removable)||this.removable)};n.prototype.chipKeydown=function(n){if(!this.getChipBuffer()&&!this.isEditingChip())switch(n.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;if(n.preventDefault(),!this.isRemovable())return;this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:n.preventDefault();this.selectedChip<0&&(this.selectedChip=this.items.length);this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:n.preventDefault();this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;n.preventDefault();this.onFocus()}};n.prototype.getPlaceholder=function(){var n=this.items&&this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder);return n?this.secondaryPlaceholder:this.placeholder};n.prototype.removeAndSelectAdjacentChip=function(n){var i=this.getAdjacentChipIndex(n);this.removeChip(n);this.$timeout(t.bind(this,function(){this.selectAndFocusChipSafe(i)}))};n.prototype.resetSelectedChip=function(){this.selectedChip=-1};n.prototype.getAdjacentChipIndex=function(n){var t=this.items.length-1;return 0==t?-1:n==t?n-1:n};n.prototype.appendChip=function(n){var i,r,u;(this.useTransformChip&&this.transformChip&&(i=this.transformChip({$chip:n}),t.isDefined(i)&&(n=i)),t.isObject(n)&&(r=this.items.some(function(i){return t.equals(n,i)}),r))||null==n||this.items.indexOf(n)+1||(u=this.items.push(n),this.ngModelCtrl.$setDirty(),this.validateModel(),this.useOnAdd&&this.onAdd&&this.onAdd({$chip:n,$index:u}))};n.prototype.useTransformChipExpression=function(){this.useTransformChip=!0};n.prototype.useOnAddExpression=function(){this.useOnAdd=!0};n.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0};n.prototype.useOnSelectExpression=function(){this.useOnSelect=!0};n.prototype.getChipBuffer=function(){return this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer};n.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""};n.prototype.hasMaxChipsReached=function(){return t.isString(this.maxChips)&&(this.maxChips=parseInt(this.maxChips,10)||0),this.maxChips>0&&this.items.length>=this.maxChips};n.prototype.validateModel=function(){this.ngModelCtrl.$setValidity("md-max-chips",!this.hasMaxChipsReached())};n.prototype.removeChip=function(n){var t=this.items.splice(n,1);this.ngModelCtrl.$setDirty();this.validateModel();t&&t.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:t[0],$index:n})};n.prototype.removeChipAndFocusInput=function(n){this.removeChip(n);this.autocompleteCtrl?(this.autocompleteCtrl.hidden=!0,this.$mdUtil.nextTick(this.onFocus.bind(this))):this.onFocus()};n.prototype.selectAndFocusChipSafe=function(n){return this.items.length?n===this.items.length?this.onFocus():(n=Math.max(n,0),n=Math.min(n,this.items.length-1),this.selectChip(n),void this.focusChip(n)):(this.selectChip(-1),void this.onFocus())};n.prototype.selectChip=function(n){n>=-1&&n<=this.items.length?(this.selectedChip=n,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[this.selectedChip]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")};n.prototype.selectAndFocusChip=function(n){this.selectChip(n);-1!=n&&this.focusChip(n)};n.prototype.focusChip=function(n){this.$element[0].querySelector('md-chip[index="'+n+'"] .md-chip-content').focus()};n.prototype.configureNgModel=function(n){this.ngModelCtrl=n;var t=this;n.$render=function(){t.items=t.ngModelCtrl.$viewValue}};n.prototype.onFocus=function(){var n=this.$element[0].querySelector("input");n&&n.focus();this.resetSelectedChip()};n.prototype.onInputFocus=function(){this.inputHasFocus=!0;this.resetSelectedChip()};n.prototype.onInputBlur=function(){var n,t;this.inputHasFocus=!1;n=this.getChipBuffer().trim();this.validateModel();t=this.ngModelCtrl.$valid;this.userInputNgModelCtrl&&(t&=this.userInputNgModelCtrl.$valid);this.addOnBlur&&n&&t&&(this.appendChip(n),this.resetChipBuffer())};n.prototype.configureUserInput=function(n){var r;this.userInputElement=n;r=n.controller("ngModel");r!=this.ngModelCtrl&&(this.userInputNgModelCtrl=r);var f=this.$scope,i=this,u=function(n,r){f.$evalAsync(t.bind(i,r,n))};n.attr({tabindex:0}).on("keydown",function(n){u(n,i.inputKeydown)}).on("focus",function(n){u(n,i.onInputFocus)}).on("blur",function(n){u(n,i.onInputBlur)})};n.prototype.configureAutocomplete=function(n){n&&(this.autocompleteCtrl=n,n.registerSelectedItemWatcher(t.bind(this,function(n){if(n){if(this.hasMaxChipsReached())return;this.appendChip(n);this.resetChipBuffer()}})),this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur)))};n.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0}}(),function(){function n(n,t,e,o,s,h){function l(i,r){function u(n){if(r.ngModel){var t=f[0].querySelector(n);return t&&t.outerHTML}}var f=r.$mdUserTemplate;r.$mdUserTemplate=null;var a=u("md-chips>md-chip-template"),y=t.prefixer().buildList("md-chip-remove").map(function(n){return"md-chips>*["+n+"]"}).join(","),p=u(y)||c.remove,w=a||c["default"],l=u("md-chips>md-autocomplete")||u("md-chips>input")||c.input,v=f.find("md-chip");return f[0].querySelector("md-chip-template>*[md-chip-remove]")&&o.warn("invalid placement of md-chip-remove within md-chip-template."),function(i,u,f,o){var y,b;t.initOptionalProperties(i,r);n(u);y=o[0];(a&&(y.enableChipEdit=!1),y.chipContentsTemplate=w,y.chipRemoveTemplate=p,y.chipInputTemplate=l,y.mdCloseIcon=h.mdClose,u.attr({"aria-hidden":!0,tabindex:-1}).on("focus",function(){y.onFocus()}),r.ngModel&&(y.configureNgModel(u.controller("ngModel")),f.mdTransformChip&&y.useTransformChipExpression(),f.mdOnAppend&&y.useOnAppendExpression(),f.mdOnAdd&&y.useOnAddExpression(),f.mdOnRemove&&y.useOnRemoveExpression(),f.mdOnSelect&&y.useOnSelectExpression(),l!=c.input&&i.$watch("$mdChipsCtrl.readonly",function(n){n||t.nextTick(function(){if(0===l.indexOf("<md-autocomplete")){var n=u.find("md-autocomplete");y.configureAutocomplete(n.controller("mdAutocomplete"))}y.configureUserInput(u.find("input"))})}),t.nextTick(function(){var n=u.find("input");n&&n.toggleClass("md-input",!0)})),v.length>0)&&(b=e(v.clone())(i.$parent),s(function(){u.find("md-chips-wrap").prepend(b)}))}}function a(){return{chips:t.processTemplate(i),input:t.processTemplate(r),"default":t.processTemplate(u),remove:t.processTemplate(f)}}var c=a();return{template:function(n,t){return t.$mdUserTemplate=n.clone(),c.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:l,scope:{readonly:"=readonly",removable:"=mdRemovable",placeholder:"@",secondaryPlaceholder:"@",maxChips:"@mdMaxChips",transformChip:"&mdTransformChip",onAppend:"&mdOnAppend",onAdd:"&mdOnAdd",onRemove:"&mdOnRemove",onSelect:"&mdOnSelect",deleteHint:"@",deleteButtonLabel:"@",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch"}}}n.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout","$$mdSvgRegistry"];t.module("material.components.chips").directive("mdChips",n);var i='      <md-chips-wrap          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(),                       \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly,                      \'md-removable\': $mdChipsCtrl.isRemovable() }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="-1"              aria-hidden="true"              ng-click="!$mdChipsCtrl.readonly && $mdChipsCtrl.focusChip($index)"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"><\/div>          <div ng-if="$mdChipsCtrl.isRemovable()"               class="md-chip-remove-container"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"><\/div>        <\/md-chip>        <div class="md-chip-input-container" ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl">          <div md-chip-transclude="$mdChipsCtrl.chipInputTemplate"><\/div>        <\/div>      <\/md-chips-wrap>',r='        <input            class="md-input"            tabindex="0"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            aria-label="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',u="      <span>{{$chip}}<\/span>",f='      <button          class="md-chip-remove"          ng-if="$mdChipsCtrl.isRemovable()"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          aria-hidden="true"          tabindex="-1">        <md-icon md-svg-src="{{ $mdChipsCtrl.mdCloseIcon }}"><\/md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        <\/span>      <\/button>'}(),function(){function n(){this.selectedItem=null;this.searchText=""}t.module("material.components.chips").controller("MdContactChipsCtrl",n);n.prototype.queryContact=function(n){var i=this.contactQuery({$query:n});return this.filterSelected?i.filter(t.bind(this,this.filterSelectedContacts)):i};n.prototype.itemName=function(n){return n[this.contactName]};n.prototype.filterSelectedContacts=function(n){return-1==this.contacts.indexOf(n)}}(),function(){function n(n,t){function r(i,r){return function(i,u){t.initOptionalProperties(i,r);n(u);u.attr("tabindex","-1")}}return{template:function(){return i},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:r,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch",highlightFlags:"@?mdHighlightFlags"}}}n.$inject=["$mdTheming","$mdUtil"];t.module("material.components.chips").directive("mdContactChips",n);var i='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              <\/span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}<\/span>            <\/div>          <\/md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            <\/div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            <\/div>          <\/md-chip-template>      <\/md-chips>'}(),function(){!function(){function i(){return{template:function(n,t){var i=t.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"';return'<div ng-switch="calendarCtrl.currentView" '+i+'><md-calendar-year ng-switch-when="year"><\/md-calendar-year><md-calendar-month ng-switch-default><\/md-calendar-month><\/div>'},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:n,controllerAs:"calendarCtrl",bindToController:!0,link:function(n,t,i,r){var u=r[0],f=r[1];f.configureNgModel(u)}}}function n(n,i,r,f,e,o,s,h,c){o(n);this.$element=n;this.$scope=i;this.dateUtil=r;this.$mdUtil=f;this.keyCode=e.KEY_CODE;this.$$rAF=s;this.today=this.dateUtil.createDateAtMidnight();this.ngModelCtrl=null;this.currentView=this._currentView||"month";this.SELECTED_DATE_CLASS="md-calendar-selected-date";this.TODAY_CLASS="md-calendar-date-today";this.FOCUSED_DATE_CLASS="md-focus";this.id=u++;this.displayDate=null;this.selectedDate=null;this.firstRenderableDate=null;this.lastRenderableDate=null;this.isInitialized=!1;this.width=0;this.scrollbarWidth=0;h.tabindex||n.attr("tabindex","-1");var l=t.bind(this,this.handleKeyEvent);t.element(document.body).on("keydown",l);i.$on("$destroy",function(){t.element(document.body).off("keydown",l)});this.firstRenderableDate=this.minDate&&this.minDate>c.firstRenderableDate?this.minDate:c.firstRenderableDate;this.lastRenderableDate=this.maxDate&&this.maxDate<c.lastRenderableDate?this.maxDate:c.lastRenderableDate}n.$inject=["$element","$scope","$$mdDateUtil","$mdUtil","$mdConstant","$mdTheming","$$rAF","$attrs","$mdDateLocale"];t.module("material.components.datepicker").directive("mdCalendar",i);var r=340,u=0;n.prototype.configureNgModel=function(n){var t=this;t.ngModelCtrl=n;t.$mdUtil.nextTick(function(){t.isInitialized=!0});n.$render=function(){var n=this.$viewValue;t.$scope.$broadcast("md-calendar-parent-changed",n);t.selectedDate||(t.selectedDate=n);t.displayDate||(t.displayDate=t.selectedDate||t.today)}};n.prototype.setNgModelValue=function(n){var t=this.dateUtil.createDateAtMidnight(n);return this.focus(t),this.$scope.$emit("md-calendar-change",t),this.ngModelCtrl.$setViewValue(t),this.ngModelCtrl.$render(),t};n.prototype.setCurrentView=function(n,i){var r=this;r.$mdUtil.nextTick(function(){r.currentView=n;i&&(r.displayDate=t.isDate(i)?i:new Date(i))})};n.prototype.focus=function(n){var i,u,t,r;this.dateUtil.isValidDate(n)?(i=this.$element[0].querySelector(".md-focus"),i&&i.classList.remove(this.FOCUSED_DATE_CLASS),u=this.getDateId(n,this.currentView),t=document.getElementById(u),t&&(t.classList.add(this.FOCUSED_DATE_CLASS),t.focus(),this.displayDate=n)):(r=this.$element[0].querySelector("[ng-switch]"),r&&r.focus())};n.prototype.getActionFromKeyEvent=function(n){var t=this.keyCode;switch(n.which){case t.ENTER:return"select";case t.RIGHT_ARROW:return"move-right";case t.LEFT_ARROW:return"move-left";case t.DOWN_ARROW:return n.metaKey?"move-page-down":"move-row-down";case t.UP_ARROW:return n.metaKey?"move-page-up":"move-row-up";case t.PAGE_DOWN:return"move-page-down";case t.PAGE_UP:return"move-page-up";case t.HOME:return"start";case t.END:return"end";default:return null}};n.prototype.handleKeyEvent=function(n){var t=this;this.$scope.$apply(function(){if(n.which==t.keyCode.ESCAPE||n.which==t.keyCode.TAB)return t.$scope.$emit("md-calendar-close"),void(n.which==t.keyCode.TAB&&n.preventDefault());var i=t.getActionFromKeyEvent(n);i&&(n.preventDefault(),n.stopPropagation(),t.$scope.$broadcast("md-calendar-parent-action",i))})};n.prototype.hideVerticalScrollbar=function(n){function i(){var i=t.width||r,u=t.scrollbarWidth,e=n.calendarScroller;f.style.width=i+"px";e.style.width=i+u+"px";e.style.paddingRight=u+"px"}var t=this,u=n.$element[0],f=u.querySelector(".md-calendar-scroll-mask");t.width>0?i():t.$$rAF(function(){var r=n.calendarScroller;t.scrollbarWidth=r.offsetWidth-r.clientWidth;t.width=u.querySelector("table").offsetWidth;i()})};n.prototype.getDateId=function(n,t){if(!t)throw new Error("A namespace for the date id has to be specified.");return["md",this.id,t,n.getFullYear(),n.getMonth(),n.getDate()].join("-")};n.prototype.updateVirtualRepeat=function(){var n=this.$scope,t=n.$on("$md-resize-enable",function(){n.$$phase||n.$apply();t()})}}()}(),function(){!function(){function r(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead><\/thead><\/table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(u-i)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="'+i+'"><\/tbody><\/table><\/md-virtual-repeat-container><\/div>',require:["^^mdCalendar","mdCalendarMonth"],controller:n,controllerAs:"monthCtrl",bindToController:!0,link:function(n,t,i,r){var u=r[0],f=r[1];f.initialize(u)}}}function n(n,t,i,r,u,f){this.$element=n;this.$scope=t;this.$animate=i;this.$q=r;this.dateUtil=u;this.dateLocale=f;this.calendarScroller=n[0].querySelector(".md-virtual-repeat-scroller");this.isInitialized=!1;this.isMonthTransitionInProgress=!1;var e=this;this.cellClickHandler=function(){var n=u.getTimestampFromNode(this);e.$scope.$apply(function(){e.calendarCtrl.setNgModelValue(n)})};this.headerClickHandler=function(){e.calendarCtrl.setCurrentView("year",u.getTimestampFromNode(this))}}n.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdDateLocale"];t.module("material.components.datepicker").directive("mdCalendarMonth",r);var i=265,u=45;n.prototype.initialize=function(n){this.items={length:this.dateUtil.getMonthDistance(n.firstRenderableDate,n.lastRenderableDate)+2};this.calendarCtrl=n;this.attachScopeListeners();n.updateVirtualRepeat();n.ngModelCtrl&&n.ngModelCtrl.$render()};n.prototype.getSelectedMonthIndex=function(){var n=this.calendarCtrl;return this.dateUtil.getMonthDistance(n.firstRenderableDate,n.displayDate||n.selectedDate||n.today)};n.prototype.changeSelectedDate=function(n){var r=this,t=r.calendarCtrl,i=t.selectedDate;t.selectedDate=n;this.changeDisplayDate(n).then(function(){var f=t.SELECTED_DATE_CLASS,e="month",r,u;i&&(r=document.getElementById(t.getDateId(i,e)),r&&(r.classList.remove(f),r.setAttribute("aria-selected","false")));n&&(u=document.getElementById(t.getDateId(n,e)),u&&(u.classList.add(f),u.setAttribute("aria-selected","true")))})};n.prototype.changeDisplayDate=function(n){var t,i;return this.isInitialized?!this.dateUtil.isValidDate(n)||this.isMonthTransitionInProgress?this.$q.when():(this.isMonthTransitionInProgress=!0,t=this.animateDateChange(n),this.calendarCtrl.displayDate=n,i=this,t.then(function(){i.isMonthTransitionInProgress=!1}),t):(this.buildWeekHeader(),this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when())};n.prototype.animateDateChange=function(n){if(this.dateUtil.isValidDate(n)){var t=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,n);this.calendarScroller.scrollTop=t*i}return this.$q.when()};n.prototype.buildWeekHeader=function(){for(var t,r=this.dateLocale.firstDayOfWeek,u=this.dateLocale.shortDays,i=document.createElement("tr"),n=0;7>n;n++)t=document.createElement("th"),t.textContent=u[(n+r)%7],i.appendChild(t);this.$element.find("thead").append(i)};n.prototype.attachScopeListeners=function(){var n=this;n.$scope.$on("md-calendar-parent-changed",function(t,i){n.changeSelectedDate(i)});n.$scope.$on("md-calendar-parent-action",t.bind(this,this.handleKeyEvent))};n.prototype.handleKeyEvent=function(n,t){var f=this.calendarCtrl,r=f.displayDate,i,u;if("select"===t)f.setNgModelValue(r);else{i=null;u=this.dateUtil;switch(t){case"move-right":i=u.incrementDays(r,1);break;case"move-left":i=u.incrementDays(r,-1);break;case"move-page-down":i=u.incrementMonths(r,1);break;case"move-page-up":i=u.incrementMonths(r,-1);break;case"move-row-down":i=u.incrementDays(r,7);break;case"move-row-up":i=u.incrementDays(r,-7);break;case"start":i=u.getFirstDateOfMonth(r);break;case"end":i=u.getLastDateOfMonth(r)}i&&(i=this.dateUtil.clampDate(i,f.minDate,f.maxDate),this.changeDisplayDate(i).then(function(){f.focus(i)}))}}}()}(),function(){!function(){function i(t,i){var r=t('<md-icon md-svg-src="'+i.mdTabsArrow+'"><\/md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:n,controllerAs:"mdMonthBodyCtrl",bindToController:!0,link:function(n,t,i,u){var e=u[0],o=u[1],f=u[2];f.calendarCtrl=e;f.monthCtrl=o;f.arrowIcon=r.cloneNode(!0);n.$watch(function(){return f.offset},function(n,t){n!==t&&f.generateContent()})}}}function n(n,t,i){this.$element=n;this.dateUtil=t;this.dateLocale=i;this.monthCtrl=null;this.calendarCtrl=null;this.offset=null;this.focusAfterAppend=null}i.$inject=["$compile","$$mdSvgRegistry"];n.$inject=["$element","$$mdDateUtil","$mdDateLocale"];t.module("material.components.datepicker").directive("mdCalendarMonthBody",i);n.prototype.generateContent=function(){var n=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(n));this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)};n.prototype.buildDateCell=function(n){var f=this.monthCtrl,i=this.calendarCtrl,t=document.createElement("td"),u,r;return(t.tabIndex=-1,t.classList.add("md-calendar-date"),t.setAttribute("role","gridcell"),n)&&(t.setAttribute("tabindex","-1"),t.setAttribute("aria-label",this.dateLocale.longDateFormatter(n)),t.id=i.getDateId(n,"month"),t.setAttribute("data-timestamp",n.getTime()),this.dateUtil.isSameDay(n,i.today)&&t.classList.add(i.TODAY_CLASS),this.dateUtil.isValidDate(i.selectedDate)&&this.dateUtil.isSameDay(n,i.selectedDate)&&(t.classList.add(i.SELECTED_DATE_CLASS),t.setAttribute("aria-selected","true")),u=this.dateLocale.dates[n.getDate()],this.isDateEnabled(n)?(r=document.createElement("span"),r.classList.add("md-calendar-date-selection-indicator"),r.textContent=u,t.appendChild(r),t.addEventListener("click",f.cellClickHandler),i.displayDate&&this.dateUtil.isSameDay(n,i.displayDate)&&(this.focusAfterAppend=t)):(t.classList.add("md-calendar-date-disabled"),t.textContent=u)),t};n.prototype.isDateEnabled=function(n){return this.dateUtil.isDateWithinRange(n,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!t.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(n))};n.prototype.buildDateRow=function(n){var t=document.createElement("tr");return t.setAttribute("role","row"),t.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(n)),t};n.prototype.buildCalendarForMonth=function(n){var u=this.dateUtil.isValidDate(n)?n:new Date,f=this.dateUtil.getFirstDateOfMonth(u),e=this.getLocaleDay_(f),d=this.dateUtil.getNumberOfDaysInMonth(u),r=document.createDocumentFragment(),o=1,i=this.buildDateRow(o),s,h,k,a,v;r.appendChild(i);var y=this.offset===this.monthCtrl.items.length-1,p=0,t=document.createElement("td"),w=document.createElement("span");if(w.textContent=this.dateLocale.monthHeaderFormatter(u),t.appendChild(w),t.classList.add("md-calendar-month-label"),this.calendarCtrl.maxDate&&f>this.calendarCtrl.maxDate?t.classList.add("md-calendar-month-label-disabled"):(t.addEventListener("click",this.monthCtrl.headerClickHandler),t.setAttribute("data-timestamp",f.getTime()),t.setAttribute("aria-label",this.dateLocale.monthFormatter(u)),t.appendChild(this.arrowIcon.cloneNode(!0))),2>=e){if(t.setAttribute("colspan","7"),s=this.buildDateRow(),s.appendChild(t),r.insertBefore(s,i),y)return r}else p=3,t.setAttribute("colspan","3"),i.appendChild(t);for(h=p;e>h;h++)i.appendChild(this.buildDateCell());for(var c=e,b=f,l=1;d>=l;l++){if(7===c){if(y)return r;c=0;o++;i=this.buildDateRow(o);r.appendChild(i)}b.setDate(l);k=this.buildDateCell(b);i.appendChild(k);c++}for(;i.childNodes.length<7;)i.appendChild(this.buildDateCell());for(;r.childNodes.length<6;){for(a=this.buildDateRow(),v=0;7>v;v++)a.appendChild(this.buildDateCell());r.appendChild(a)}return r};n.prototype.getLocaleDay_=function(n){return(n.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}}()}(),function(){!function(){function r(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+i+'"><\/tbody><\/table><\/md-virtual-repeat-container><\/div>',require:["^^mdCalendar","mdCalendarYear"],controller:n,controllerAs:"yearCtrl",bindToController:!0,link:function(n,t,i,r){var u=r[0],f=r[1];f.initialize(u)}}}function n(n,t,i,r,u){this.$element=n;this.$scope=t;this.$animate=i;this.$q=r;this.dateUtil=u;this.calendarScroller=n[0].querySelector(".md-virtual-repeat-scroller");this.isInitialized=!1;this.isMonthTransitionInProgress=!1;var f=this;this.cellClickHandler=function(){f.calendarCtrl.setCurrentView("month",u.getTimestampFromNode(this))}}n.$inject=["$element","$scope","$animate","$q","$$mdDateUtil"];t.module("material.components.datepicker").directive("mdCalendarYear",r);var i=88;n.prototype.initialize=function(n){this.items={length:this.dateUtil.getYearDistance(n.firstRenderableDate,n.lastRenderableDate)+1};this.calendarCtrl=n;this.attachScopeListeners();n.updateVirtualRepeat();n.ngModelCtrl&&n.ngModelCtrl.$render()};n.prototype.getFocusedYearIndex=function(){var n=this.calendarCtrl;return this.dateUtil.getYearDistance(n.firstRenderableDate,n.displayDate||n.selectedDate||n.today)};n.prototype.changeDate=function(n){if(!this.isInitialized)return this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(this.dateUtil.isValidDate(n)&&!this.isMonthTransitionInProgress){var t=this,i=this.animateDateChange(n);return t.isMonthTransitionInProgress=!0,t.calendarCtrl.displayDate=n,i.then(function(){t.isMonthTransitionInProgress=!1})}};n.prototype.animateDateChange=function(n){if(this.dateUtil.isValidDate(n)){var t=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,n);this.calendarScroller.scrollTop=t*i}return this.$q.when()};n.prototype.handleKeyEvent=function(n,t){var r=this.calendarCtrl,f=r.displayDate,i,u,e,o;if("select"===t)this.changeDate(f).then(function(){r.setCurrentView("month",f);r.focus(f)});else{i=null;u=this.dateUtil;switch(t){case"move-right":i=u.incrementMonths(f,1);break;case"move-left":i=u.incrementMonths(f,-1);break;case"move-row-down":i=u.incrementMonths(f,6);break;case"move-row-up":i=u.incrementMonths(f,-6)}i&&(e=r.minDate?u.getFirstDateOfMonth(r.minDate):null,o=r.maxDate?u.getFirstDateOfMonth(r.maxDate):null,i=u.getFirstDateOfMonth(this.dateUtil.clampDate(i,e,o)),this.changeDate(i).then(function(){r.focus(i)}))}};n.prototype.attachScopeListeners=function(){var n=this;n.$scope.$on("md-calendar-parent-changed",function(t,i){n.changeDate(i)});n.$scope.$on("md-calendar-parent-action",t.bind(n,n.handleKeyEvent))}}()}(),function(){!function(){function i(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:n,controllerAs:"mdYearBodyCtrl",bindToController:!0,link:function(n,t,i,r){var f=r[0],e=r[1],u=r[2];u.calendarCtrl=f;u.yearCtrl=e;n.$watch(function(){return u.offset},function(n,t){n!==t&&u.generateContent()})}}}function n(n,t,i){this.$element=n;this.dateUtil=t;this.dateLocale=i;this.calendarCtrl=null;this.yearCtrl=null;this.offset=null;this.focusAfterAppend=null}n.$inject=["$element","$$mdDateUtil","$mdDateLocale"];t.module("material.components.datepicker").directive("mdCalendarYearBody",i);n.prototype.generateContent=function(){var n=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(n));this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)};n.prototype.buildMonthCell=function(n,t){var r=this.calendarCtrl,o=this.yearCtrl,i=this.buildBlankCell(),u=new Date(n,t,1),e,f;return i.setAttribute("aria-label",this.dateLocale.monthFormatter(u)),i.id=r.getDateId(u,"year"),i.setAttribute("data-timestamp",u.getTime()),this.dateUtil.isSameMonthAndYear(u,r.today)&&i.classList.add(r.TODAY_CLASS),this.dateUtil.isValidDate(r.selectedDate)&&this.dateUtil.isSameMonthAndYear(u,r.selectedDate)&&(i.classList.add(r.SELECTED_DATE_CLASS),i.setAttribute("aria-selected","true")),e=this.dateLocale.shortMonths[t],this.dateUtil.isMonthWithinRange(u,r.minDate,r.maxDate)?(f=document.createElement("span"),f.classList.add("md-calendar-date-selection-indicator"),f.textContent=e,i.appendChild(f),i.addEventListener("click",o.cellClickHandler),r.displayDate&&this.dateUtil.isSameMonthAndYear(u,r.displayDate)&&(this.focusAfterAppend=i)):(i.classList.add("md-calendar-date-disabled"),i.textContent=e),i};n.prototype.buildBlankCell=function(){var n=document.createElement("td");return n.tabIndex=-1,n.classList.add("md-calendar-date"),n.setAttribute("role","gridcell"),n.setAttribute("tabindex","-1"),n};n.prototype.buildCalendarForYear=function(n){var t,r=n.getFullYear(),u=document.createDocumentFragment(),f=document.createElement("tr"),e=document.createElement("td"),i;for(e.className="md-calendar-month-label",e.textContent=r,f.appendChild(e),t=0;6>t;t++)f.appendChild(this.buildMonthCell(r,t));for(u.appendChild(f),i=document.createElement("tr"),i.appendChild(this.buildBlankCell()),t=6;12>t;t++)i.appendChild(this.buildMonthCell(r,t));return u.appendChild(i),u}}()}(),function(){!function(){t.module("material.components.datepicker").config(["$provide",function(n){function t(){this.months=null;this.shortMonths=null;this.days=null;this.shortDays=null;this.dates=null;this.firstDayOfWeek=0;this.formatDate=null;this.parseDate=null;this.monthHeaderFormatter=null;this.weekNumberFormatter=null;this.longDateFormatter=null;this.msgCalendar="";this.msgOpenCalendar=""}t.prototype.$get=function(n,t){function e(n){if(!n)return"";var i=n.toLocaleTimeString(),r=n;return 0!=n.getHours()||-1===i.indexOf("11:")&&-1===i.indexOf("23:")||(r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),1,0,0)),t("date")(r,"M/d/yyyy")}function o(n){return new Date(n)}function s(n){n=n.trim();return/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/.test(n)}function h(n){return i.shortMonths[n.getMonth()]+" "+n.getFullYear()}function c(n){return i.months[n.getMonth()]+" "+n.getFullYear()}function l(n){return"Week "+n}function a(n){return[i.days[n.getDay()],i.months[n.getMonth()],i.dates[n.getDate()],n.getFullYear()].join(" ")}for(var v=n.DATETIME_FORMATS.SHORTDAY.map(function(n){return n.substring(0,1)}),u=Array(32),r=1;31>=r;r++)u[r]=r;var f=new Date(1880,0,1),y=new Date(f.getFullYear()+250,0,1),i={months:this.months||n.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||n.DATETIME_FORMATS.SHORTMONTH,days:this.days||n.DATETIME_FORMATS.DAY,shortDays:this.shortDays||v,dates:this.dates||u,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||e,parseDate:this.parseDate||o,isDateComplete:this.isDateComplete||s,monthHeaderFormatter:this.monthHeaderFormatter||h,monthFormatter:this.monthFormatter||c,weekNumberFormatter:this.weekNumberFormatter||l,longDateFormatter:this.longDateFormatter||a,msgCalendar:this.msgCalendar||"Calendar",msgOpenCalendar:this.msgOpenCalendar||"Open calendar",firstRenderableDate:this.firstRenderableDate||f,lastRenderableDate:this.lastRenderableDate||y};return i};t.prototype.$get.$inject=["$locale","$filter"];n.provider("$mdDateLocale",new t)}])}()}(),function(){!function(){t.module("material.components.datepicker").factory("$$mdDateUtil",function(){function f(n){return new Date(n.getFullYear(),n.getMonth(),1)}function u(n){return new Date(n.getFullYear(),n.getMonth()+1,0).getDate()}function e(n){return new Date(n.getFullYear(),n.getMonth()+1,1)}function o(n){return new Date(n.getFullYear(),n.getMonth()-1,1)}function i(n,t){return n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()}function c(n,t){return n.getDate()==t.getDate()&&i(n,t)}function l(n,t){var r=e(n);return i(r,t)}function a(n,t){var r=o(n);return i(t,r)}function v(t,i){return n((t.getTime()+i.getTime())/2)}function y(n){var t=f(n);return Math.floor((t.getDay()+n.getDate()-1)/7)}function p(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate()+t)}function s(n,t){var i=new Date(n.getFullYear(),n.getMonth()+t,1),r=u(i);return r<n.getDate()?i.setDate(r):i.setDate(n.getDate()),i}function w(n,t){return 12*(t.getFullYear()-n.getFullYear())+(t.getMonth()-n.getMonth())}function b(n){return new Date(n.getFullYear(),n.getMonth(),u(n))}function r(n){return null!=n&&n.getTime&&!isNaN(n.getTime())}function h(n){r(n)&&n.setHours(0,0,0,0)}function n(n){var i;return i=t.isUndefined(n)?new Date:new Date(n),h(i),i}function k(t,i,u){var f=n(t),e=r(i)?n(i):null,o=r(u)?n(u):null;return(!e||f>=e)&&(!o||o>=f)}function d(n,t){return s(n,12*t)}function g(n,t){return t.getFullYear()-n.getFullYear()}function nt(n,t,i){var r=n;return t&&t>n&&(r=new Date(t.getTime())),i&&n>i&&(r=new Date(i.getTime())),r}function tt(n){if(n&&n.hasAttribute("data-timestamp"))return Number(n.getAttribute("data-timestamp"))}function it(n,t,i){var r=n.getMonth(),u=n.getFullYear();return(!t||t.getFullYear()<u||t.getMonth()<=r)&&(!i||i.getFullYear()>u||i.getMonth()>=r)}return{getFirstDateOfMonth:f,getNumberOfDaysInMonth:u,getDateInNextMonth:e,getDateInPreviousMonth:o,isInNextMonth:l,isInPreviousMonth:a,getDateMidpoint:v,isSameMonthAndYear:i,getWeekOfMonth:y,incrementDays:p,incrementMonths:s,getLastDateOfMonth:b,isSameDay:c,getMonthDistance:w,isValidDate:r,setDateTimeToMidnight:h,createDateAtMidnight:n,isDateWithinRange:k,incrementYears:d,getYearDistance:g,clampDate:nt,getTimestampFromNode:tt,isMonthWithinRange:it}})}()}(),function(){!function(){function e(n,r,u,f){return{template:function(t,i){var r=i.mdHideIcons,u=i.ariaLabel||i.mdPlaceholder,f="all"===r||"calendar"===r?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+n.mdCalendar+'"><\/md-icon><\/md-button>',e="all"===r||"triangle"===r?"":'<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.dateLocale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"><\/div><\/md-button>';return f+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(u?'aria-label="'+u+'" ':"")+'class="md-datepicker-input" aria-haspopup="true" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+e+'<\/div><div class="md-datepicker-calendar-pane md-whiteframe-z1"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"><\/div><\/div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.dateLocale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}"md-min-date="ctrl.minDate"md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"><\/md-calendar><\/div><\/div>'},require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval"},controller:i,controllerAs:"ctrl",bindToController:!0,link:function(n,i,e,o){var a=o[0],y=o[1],s=o[2],l=o[3],w=r.parseAttributeBoolean(e.mdNoAsterisk),v,p;(y.configureNgModel(a,s,f),s)?(v=i[0].querySelector(".md-errors-spacer"),v&&i.after(t.element("<div>").append(v)),s.setHasPlaceholder(e.mdPlaceholder),s.input=i,s.element.addClass(h).toggleClass(c,"calendar"!==e.mdHideIcons&&"all"!==e.mdHideIcons),s.label?w||e.$observe("required",function(n){s.label.toggleClass("md-required",!!n)}):u.expect(i,"aria-label",e.mdPlaceholder),n.$watch(s.isErrorGetter||function(){return a.$invalid&&(a.$touched||l&&l.$submitted)},s.setInvalid)):l&&(p=n.$watch(function(){return l.$submitted},function(n){n&&(y.updateErrorState(),p())}))}}}function i(n,i,r,u,f,e,o,s,h,c,l,a){this.$window=u;this.dateLocale=s;this.dateUtil=h;this.$mdConstant=f;this.$mdUtil=o;this.$$rAF=c;this.documentElement=t.element(document.documentElement);this.ngModelCtrl=null;this.inputElement=i[0].querySelector("input");this.ngInputElement=t.element(this.inputElement);this.inputContainer=i[0].querySelector(".md-datepicker-input-container");this.calendarPane=i[0].querySelector(".md-datepicker-calendar-pane");this.calendarButton=i[0].querySelector(".md-datepicker-button");this.inputMask=t.element(i[0].querySelector(".md-datepicker-input-mask-opaque"));this.$element=i;this.$attrs=r;this.$scope=n;this.date=null;this.isFocused=!1;this.isDisabled;this.setDisabled(i[0].disabled||t.isString(r.disabled));this.isCalendarOpen=!1;this.openOnFocus=r.hasOwnProperty("mdOpenOnFocus");this.mdInputContainer=null;this.calendarPaneOpenedFrom=null;this.calendarPane.id="md-date-pane"+o.nextUid();this.bodyClickHandler=t.bind(this,this.handleBodyClick);this.windowEventName=l.isIos||l.isAndroid?"orientationchange":"resize";this.windowEventHandler=o.debounce(t.bind(this,this.closeCalendarPane),100);this.windowBlurHandler=t.bind(this,this.handleWindowBlur);this.ngDateFilter=a("date");this.leftMargin=20;this.topMargin=null;r.tabindex?(this.ngInputElement.attr("tabindex",r.tabindex),r.$set("tabindex",null)):r.$set("tabindex","-1");e(i);e(t.element(this.calendarPane));this.installPropertyInterceptors();this.attachChangeListeners();this.attachInteractionListeners();var v=this;n.$on("$destroy",function(){v.detachCalendarPane()});r.mdIsOpen&&n.$watch("ctrl.isOpen",function(n){n?v.openCalendarPane({target:v.inputElement}):v.closeCalendarPane()})}i.$inject=["$scope","$element","$attrs","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF","$mdGesture","$filter"];e.$inject=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"];t.module("material.components.datepicker").directive("mdDatepicker",e);var s=3,o="md-datepicker-invalid",r="md-datepicker-open",h="_md-datepicker-floating-label",c="_md-datepicker-has-calendar-icon",l=500,f=368,u=360;i.prototype.configureNgModel=function(n,i,r){this.ngModelCtrl=n;this.mdInputContainer=i;this.$attrs.$set("type","date");r[0].link.pre(this.$scope,{on:t.noop,val:t.noop,0:{}},this.$attrs,[n]);var u=this;u.ngModelCtrl.$formatters.push(function(n){if(n&&!(n instanceof Date))throw Error("The ng-model for md-datepicker must be a Date instance. Currently the model is a: "+typeof n);return u.date=n,u.inputElement.value=u.dateLocale.formatDate(n),u.mdInputContainer&&u.mdInputContainer.setHasValue(!!n),u.resizeInputElement(),u.updateErrorState(),n});n.$viewChangeListeners.unshift(t.bind(this,this.updateErrorState))};i.prototype.attachChangeListeners=function(){var n=this,i;n.$scope.$on("md-calendar-change",function(t,i){n.setModelValue(i);n.date=i;n.inputElement.value=n.dateLocale.formatDate(i);n.mdInputContainer&&n.mdInputContainer.setHasValue(!!i);n.closeCalendarPane();n.resizeInputElement();n.updateErrorState()});n.ngInputElement.on("input",t.bind(n,n.resizeInputElement));i=t.isDefined(this.debounceInterval)?this.debounceInterval:l;n.ngInputElement.on("input",n.$mdUtil.debounce(n.handleInputEvent,i,n))};i.prototype.attachInteractionListeners=function(){var n=this,i=this.$scope,r=this.$mdConstant.KEY_CODE;n.ngInputElement.on("keydown",function(t){t.altKey&&t.keyCode==r.DOWN_ARROW&&(n.openCalendarPane(t),i.$digest())});n.openOnFocus&&(n.ngInputElement.on("focus",t.bind(n,n.openCalendarPane)),t.element(n.$window).on("blur",n.windowBlurHandler),i.$on("$destroy",function(){t.element(n.$window).off("blur",n.windowBlurHandler)}));i.$on("md-calendar-close",function(){n.closeCalendarPane()})};i.prototype.installPropertyInterceptors=function(){var n=this,t;this.$attrs.ngDisabled&&(t=this.$scope.$parent,t&&t.$watch(this.$attrs.ngDisabled,function(t){n.setDisabled(t)}));Object.defineProperty(this,"placeholder",{get:function(){return n.inputElement.placeholder},set:function(t){n.inputElement.placeholder=t||""}})};i.prototype.setDisabled=function(n){this.isDisabled=n;this.inputElement.disabled=n;this.calendarButton&&(this.calendarButton.disabled=n)};i.prototype.updateErrorState=function(n){var i=n||this.date,r,u;(this.clearErrorState(),this.dateUtil.isValidDate(i))?((i=this.dateUtil.createDateAtMidnight(i),this.dateUtil.isValidDate(this.minDate))&&(r=this.dateUtil.createDateAtMidnight(this.minDate),this.ngModelCtrl.$setValidity("mindate",i>=r)),this.dateUtil.isValidDate(this.maxDate)&&(u=this.dateUtil.createDateAtMidnight(this.maxDate),this.ngModelCtrl.$setValidity("maxdate",u>=i)),t.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(i))):this.ngModelCtrl.$setValidity("valid",null==i);this.ngModelCtrl.$valid||this.inputContainer.classList.add(o)};i.prototype.clearErrorState=function(){this.inputContainer.classList.remove(o);["mindate","maxdate","filtered","valid"].forEach(function(n){this.ngModelCtrl.$setValidity(n,!0)},this)};i.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+s};i.prototype.handleInputEvent=function(){var t=this.inputElement.value,n=t?this.dateLocale.parseDate(t):null,i;this.dateUtil.setDateTimeToMidnight(n);i=""==t||this.dateUtil.isValidDate(n)&&this.dateLocale.isDateComplete(t)&&this.isDateEnabled(n);i&&(this.setModelValue(n),this.date=n);this.updateErrorState(n)};i.prototype.isDateEnabled=function(n){return this.dateUtil.isDateWithinRange(n,this.minDate,this.maxDate)&&(!t.isFunction(this.dateFilter)||this.dateFilter(n))};i.prototype.attachCalendarPane=function(){var n=this.calendarPane,l=document.body,e,i,y;n.style.transform="";this.$element.addClass(r);this.mdInputContainer&&this.mdInputContainer.element.addClass(r);t.element(l).addClass("md-datepicker-is-showing");e=this.inputContainer.getBoundingClientRect();i=l.getBoundingClientRect();(!this.topMargin||this.topMargin<0)&&(this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2);var s=e.top-i.top-this.topMargin,o=e.left-i.left-this.leftMargin,a=i.top<0&&0==document.body.scrollTop?-i.top:document.body.scrollTop,v=i.left<0&&0==document.body.scrollLeft?-i.left:document.body.scrollLeft,h=a+this.$window.innerHeight,c=v+this.$window.innerWidth;(this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:e.width-1+"px",height:e.height-2+"px"}),o+u>c)&&(c-u>0?o=c-u:(o=v,y=this.$window.innerWidth/u,n.style.transform="scale("+y+")"),n.classList.add("md-datepicker-pos-adjusted"));s+f>h&&h-f>a&&(s=h-f,n.classList.add("md-datepicker-pos-adjusted"));n.style.left=o+"px";n.style.top=s+"px";document.body.appendChild(n);this.$$rAF(function(){n.classList.add("md-pane-open")})};i.prototype.detachCalendarPane=function(){this.$element.removeClass(r);this.mdInputContainer&&this.mdInputContainer.element.removeClass(r);t.element(document.body).removeClass("md-datepicker-is-showing");this.calendarPane.classList.remove("md-pane-open");this.calendarPane.classList.remove("md-datepicker-pos-adjusted");this.isCalendarOpen&&this.$mdUtil.enableScrolling();this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)};i.prototype.openCalendarPane=function(t){if(!this.isCalendarOpen&&!this.isDisabled&&!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=!0;this.calendarPaneOpenedFrom=t.target;this.$mdUtil.disableScrollAround(this.calendarPane);this.attachCalendarPane();this.focusCalendar();this.evalAttr("ngFocus");var i=this;this.$mdUtil.nextTick(function(){i.documentElement.on("click touchstart",i.bodyClickHandler)},!1);n.addEventListener(this.windowEventName,this.windowEventHandler)}};i.prototype.closeCalendarPane=function(){function i(){t.isCalendarOpen=t.isOpen=!1}if(this.isCalendarOpen){var t=this;t.detachCalendarPane();t.ngModelCtrl.$setTouched();t.evalAttr("ngBlur");t.documentElement.off("click touchstart",t.bodyClickHandler);n.removeEventListener(t.windowEventName,t.windowEventHandler);t.calendarPaneOpenedFrom.focus();t.calendarPaneOpenedFrom=null;t.openOnFocus?t.$mdUtil.nextTick(i):i()}};i.prototype.getCalendarCtrl=function(){return t.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")};i.prototype.focusCalendar=function(){var n=this;this.$mdUtil.nextTick(function(){n.getCalendarCtrl().focus()},!1)};i.prototype.setFocused=function(n){n||this.ngModelCtrl.$setTouched();this.openOnFocus||this.evalAttr(n?"ngFocus":"ngBlur");this.isFocused=n};i.prototype.handleBodyClick=function(n){if(this.isCalendarOpen){var t=this.$mdUtil.getClosest(n.target,"md-calendar");t||this.closeCalendarPane();this.$scope.$digest()}};i.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement};i.prototype.evalAttr=function(n){this.$attrs[n]&&this.$scope.$parent.$eval(this.$attrs[n])};i.prototype.setModelValue=function(n){this.ngModelCtrl.$setViewValue(this.ngDateFilter(n,"yyyy-MM-dd"))}}()}(),function(){function n(n,t,i){function r(r,u,f){function l(){var n=u.parent();return!!(n.attr("aria-label")||n.text()||n.parent().attr("aria-label")||n.parent().text())}function a(){f.mdSvgIcon||f.mdSvgSrc||(f.mdFontIcon&&u.addClass("md-font "+f.mdFontIcon),u.addClass(e))}function c(){if(!f.mdSvgIcon&&!f.mdSvgSrc){f.mdFontIcon&&(u.removeClass(o),u.addClass(f.mdFontIcon),o=f.mdFontIcon);var t=n.fontSet(f.mdFontSet);e!==t&&(u.removeClass(e),u.addClass(t),e=t)}}var o,e,s,h;t(u);o=f.mdFontIcon;e=n.fontSet(f.mdFontSet);a();f.$observe("mdFontIcon",c);f.$observe("mdFontSet",c);s=(u[0].getAttribute(f.$attr.mdSvgSrc),f.alt||f.mdFontIcon||f.mdSvgIcon||u.text());h=f.$normalize(f.$attr.mdSvgIcon||f.$attr.mdSvgSrc||"");f["aria-label"]||(""===s||l()?u.text()||i.expect(u,"aria-hidden","true"):(i.expect(u,"aria-label",s),i.expect(u,"role","img")));h&&f.$observe(h,function(t){u.empty();t&&n(t).then(function(n){u.empty();u.append(n)})})}return{restrict:"E",link:r}}t.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria","$sce",n])}(),function(){function u(){}function r(n,t){this.url=n;this.viewBoxSize=t||i.defaultViewBoxSize}function f(i,r,u,f,e,o){function v(n){if(n=n||"",t.isString(n)||(n=o.getTrustedUrl(n)),h[n])return u.when(w(h[n]));if(tt.test(n)||a.test(n))return c(n).then(y(n));-1==n.indexOf(":")&&(n="$default:"+n);var r=i[n]?b:k;return r(n).then(y(n))}function p(n){var u=t.isUndefined(n)||!(n&&n.length),r;return u?i.defaultFontSet:(r=n,t.forEach(i.fontSets,function(t){t.alias==n&&(r=t.fontSet||r)}),r)}function w(n){var i=n.clone(),r="_cache"+e.nextUid();return i.id&&(i.id+=r),t.forEach(i.querySelectorAll("[id]"),function(n){n.id+=r}),i}function y(n){return function(t){return h[n]=d(t)?t:new s(t,i[n]),h[n].clone()}}function b(n){var t=i[n];return c(t.url).then(function(n){return new s(n,t)})}function k(n){function e(i){var f=n.slice(n.lastIndexOf(":")+1),u=i.querySelector("#"+f);return u?new s(u,t):r(n)}function r(n){var t="icon "+n+" not found";return f.warn(t),u.reject(t||n)}var o=n.substring(0,n.lastIndexOf(":"))||"$default",t=i[o];return t?c(t.url).then(e):r(n)}function c(i){function e(i){var r=a.exec(i),f=/base64/i.test(i),e=f?n.atob(r[2]):r[2];return u.when(t.element(e)[0])}function o(n){return u(function(i,u){var e=function(n){var i=t.isString(n)?n:n.message||n.data||n.statusText;f.warn(i);u(n)},o=function(r){l[n]||(l[n]=t.element("<div>").append(r)[0].querySelector("svg"));i(l[n])};r(n,!0).then(o,e)})}return a.test(i)?e(i):o(i)}function d(n){return t.isDefined(n.element)&&t.isDefined(n.config)}function s(n,i){n&&"svg"!=n.tagName&&(n=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(n.cloneNode(!0))[0]);n.getAttribute("xmlns")||n.setAttribute("xmlns","http://www.w3.org/2000/svg");this.element=n;this.config=i;this.prepare()}function g(){var n=this.config?this.config.viewBoxSize:i.defaultViewBoxSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+n+" "+n,focusable:!1},function(n,t){this.element.setAttribute(t,n)},this)}function nt(){return this.element.cloneNode(!0)}var h={},l={},tt=/[-\w@:%\+.~#?&\/\/=]{2,}\.[a-z]{2,4}\b(\/[-\w@:%\+.~#?&\/\/=]*)?/i,a=/^data:image\/svg\+xml[\s*;\w\-\=]*?(base64)?,(.*)$/i;return s.prototype={clone:nt,prepare:g},v.fontSet=p,v}f.$inject=["config","$templateRequest","$q","$log","$mdUtil","$sce"];t.module("material.components.icon").constant("$$mdSvgRegistry",{mdTabsArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4=",mdClose:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5eiIvPjwvZz48L3N2Zz4=",mdCancel:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6Ii8+PC9nPjwvc3ZnPg==",mdMenu:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0zLDZIMjFWOEgzVjZNMywxMUgyMVYxM0gzVjExTTMsMTZIMjFWMThIM1YxNloiIC8+PC9zdmc+",mdToggleArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiPjxwYXRoIGQ9Ik0yNCAxNmwtMTIgMTIgMi44MyAyLjgzIDkuMTctOS4xNyA5LjE3IDkuMTcgMi44My0yLjgzeiIvPjxwYXRoIGQ9Ik0wIDBoNDh2NDhoLTQ4eiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",mdCalendar:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eiIvPjwvc3ZnPg==",mdChecked:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz48L2c+PC9zdmc+"}).provider("$mdIcon",u);var i={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};u.prototype={icon:function(n,t,u){return-1==n.indexOf(":")&&(n="$default:"+n),i[n]=new r(t,u),this},iconSet:function(n,t,u){return i[n]=new r(t,u),this},defaultIconSet:function(n,t){var u="$default";return i[u]||(i[u]=new r(n,t)),i[u].viewBoxSize=t||i.defaultViewBoxSize,this},defaultViewBoxSize:function(n){return i.defaultViewBoxSize=n,this},fontSet:function(n,t){return i.fontSets.push({alias:n,fontSet:t||n}),this},defaultFontSet:function(n){return i.defaultFontSet=n?n:"",this},defaultIconSize:function(n){return i.defaultIconSize=n,this},$get:["$templateRequest","$q","$log","$mdUtil","$sce",function(n,t,r,u,e){return f(i,n,t,r,u,e)}]}}(),function(){function n(n,r,u,f,e,o,s,h){var l,a,w=e.prefixer(),c=this,p,v,y;this.nestLevel=parseInt(r.mdNestLevel,10)||0;this.init=function(i,r){r=r||{};l=i;a=u[0].querySelector(w.buildSelector(["ng-click","ng-mouseenter"]));a.setAttribute("aria-expanded","false");this.isInMenuBar=r.isInMenuBar;this.nestedMenus=e.nodesToArray(l[0].querySelectorAll(".md-nested-menu"));l.on("$mdInterimElementRemove",function(){c.isOpen=!1;e.nextTick(function(){c.onIsOpenChanged(c.isOpen)})});e.nextTick(function(){c.onIsOpenChanged(c.isOpen)});var o="menu_container_"+e.nextUid();l.attr("id",o);t.element(a).attr({"aria-owns":o,"aria-haspopup":"true"});f.$on("$destroy",t.bind(this,function(){this.disableHoverListener();n.destroy()}));l.on("$destroy",function(){n.destroy()})};y=[];this.enableHoverListener=function(){y.push(s.$on("$mdMenuOpen",function(n,t){l[0].contains(t[0])&&(c.currentlyOpenMenu=t.controller("mdMenu"),c.isAlreadyOpening=!1,c.currentlyOpenMenu.registerContainerProxy(c.triggerContainerProxy.bind(c)))}));y.push(s.$on("$mdMenuClose",function(n,t){l[0].contains(t[0])&&(c.currentlyOpenMenu=i)}));v=t.element(e.nodesToArray(l[0].children[0].children));v.on("mouseenter",c.handleMenuItemHover);v.on("mouseleave",c.handleMenuItemMouseLeave)};this.disableHoverListener=function(){for(;y.length;)y.shift()();v&&v.off("mouseenter",c.handleMenuItemHover);v&&v.off("mouseleave",c.handleMenuItemMouseLeave)};this.handleMenuItemHover=function(n){var i,r;c.isAlreadyOpening||(i=n.target.querySelector("md-menu")||e.getClosest(n.target,"MD-MENU"),p=o(function(){if(i&&(i=t.element(i).controller("mdMenu")),c.currentlyOpenMenu&&c.currentlyOpenMenu!=i){var n=c.nestLevel+1;c.currentlyOpenMenu.close(!0,{closeTo:n});c.isAlreadyOpening=!!i;i&&i.open()}else i&&!i.isOpen&&i.open&&(c.isAlreadyOpening=!!i,i&&i.open())},i?100:250),r=n.currentTarget.querySelector(".md-button:not([disabled])"),r&&r.focus())};this.handleMenuItemMouseLeave=function(){p&&(o.cancel(p),p=i)};this.open=function(t){t&&t.stopPropagation();t&&t.preventDefault();c.isOpen||(c.enableHoverListener(),c.isOpen=!0,e.nextTick(function(){c.onIsOpenChanged(c.isOpen)}),a=a||(t?t.target:u[0]),a.setAttribute("aria-expanded","true"),f.$emit("$mdMenuOpen",u),n.show({scope:f,mdMenuCtrl:c,nestLevel:c.nestLevel,element:l,target:a,preserveElement:!0,parent:"body"})["finally"](function(){a.setAttribute("aria-expanded","false");c.disableHoverListener()}))};f.$mdOpenMenu=this.open;this.onIsOpenChanged=function(n){n?(l.attr("aria-hidden","false"),u[0].classList.add("md-open"),t.forEach(c.nestedMenus,function(n){n.classList.remove("md-open")})):(l.attr("aria-hidden","true"),u[0].classList.remove("md-open"));f.$mdMenuIsOpen=c.isOpen};this.focusMenuContainer=function(){var n=l[0].querySelector(w.buildSelector(["md-menu-focus-target","md-autofocus"]));n||(n=l[0].querySelector(".md-button"));n.focus()};this.registerContainerProxy=function(n){this.containerProxy=n};this.triggerContainerProxy=function(n){this.containerProxy&&this.containerProxy(n)};this.destroy=function(){return c.isOpen?n.destroy():h.when(!1)};this.close=function(i,r){var s,o;c.isOpen&&(c.isOpen=!1,e.nextTick(function(){c.onIsOpenChanged(c.isOpen)}),s=t.extend({},r,{skipFocus:i}),(f.$emit("$mdMenuClose",u,s),n.hide(null,r),i)||(o=c.restoreFocusTo||u.find("button")[0],o instanceof t.element&&(o=o[0]),o&&o.focus()))};this.positionMode=function(){var n=(r.mdPositionMode||"target").split(" ");return 1==n.length&&n.push(n[0]),{left:n[0],top:n[1]}};this.offsets=function(){var n=(r.mdOffset||"0 0").split(" ").map(parseFloat);if(2==n.length)return{left:n[0],top:n[1]};if(1==n.length)return{top:n[0],left:n[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>");}}n.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q"];t.module("material.components.menu").controller("mdMenuCtrl",n)}(),function(){function n(n){function r(i){var r,e,o,s;if(i.addClass("md-menu"),r=i.children()[0],e=n.prefixer(),e.hasAttribute(r,"ng-click")||(r=r.querySelector(e.buildSelector(["ng-click","ng-mouseenter"]))||r),!r||"MD-BUTTON"!=r.nodeName&&"BUTTON"!=r.nodeName||r.hasAttribute("type")||r.setAttribute("type","button"),2!=i.children().length)throw Error(f+"Expected two children elements.");return r&&r.setAttribute("aria-haspopup","true"),o=i[0].querySelectorAll("md-menu"),s=parseInt(i[0].getAttribute("md-nest-level"),10)||0,o&&t.forEach(n.nodesToArray(o),function(n){n.hasAttribute("md-position-mode")||n.setAttribute("md-position-mode","cascade");n.classList.add("_md-nested-menu");n.setAttribute("md-nest-level",s+1)}),u}function u(n,r,u,f){var s=f[0],h=f[1]!=i,e=t.element('<div class="_md md-open-menu-container md-whiteframe-z2"><\/div>'),o=r.children()[1];r.addClass("_md");o.hasAttribute("role")||o.setAttribute("role","menu");e.append(o);r.on("$destroy",function(){e.remove()});r.append(e);e[0].style.display="none";s.init(e,{isInMenuBar:h})}var f="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:r}}n.$inject=["$mdUtil"];t.module("material.components.menu").directive("mdMenu",n)}(),function(){function n(n){function f(n,f,e,o,s,h,c,l,a){function b(i,r,u){return u.nestLevel?t.noop:(u.disableParentScroll&&!n.getClosest(u.target,"MD-DIALOG")?u.restoreScroll=n.disableScrollAround(u.element,u.parent):u.disableParentScroll=!1,u.hasBackdrop&&(u.backdrop=n.createBackdrop(i,"md-menu-backdrop md-click-catcher"),a.enter(u.backdrop,o[0].body)),function(){u.backdrop&&u.backdrop.remove();u.disableParentScroll&&u.restoreScroll()})}function k(n,t,i){function u(){return l(t,{addClass:"md-leave"}).start()}function r(){t.removeClass("md-active");nt(t,i);i.alreadyOpen=!1}return i.cleanupInteraction&&i.cleanupInteraction(),i.cleanupResizing(),i.hideBackdrop(),i.$destroy===!0?r():u().then(r)}function d(i,r,u){function o(){return u.parent.append(r),r[0].style.display="",h(function(n){var t=w(r,u);r.removeClass("md-leave");l(r,{addClass:"md-active",from:y.toCss(t),to:y.toCss({transform:""})}).start().then(n)})}function a(){if(!u.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");t.extend(u,{alreadyOpen:!1,isRemoved:!1,target:t.element(u.target),parent:t.element(u.parent),menuContentEl:t.element(r[0].querySelector("md-menu-content"))})}function k(){var n=function(n,t){return c.throttle(function(){if(!u.isRemoved){var i=w(n,t);n.css(y.toCss(i))}})}(r,u);return s.addEventListener("resize",n),s.addEventListener("orientationchange",n),function(){s.removeEventListener("resize",n);s.removeEventListener("orientationchange",n)}}function d(){function o(t){var i,r;switch(t.keyCode){case e.KEY_CODE.ESCAPE:u.mdMenuCtrl.close(!1,{closeAll:!0});i=!0;break;case e.KEY_CODE.UP_ARROW:p(t,u.menuContentEl,u,-1)||u.nestLevel||u.mdMenuCtrl.triggerContainerProxy(t);i=!0;break;case e.KEY_CODE.DOWN_ARROW:p(t,u.menuContentEl,u,1)||u.nestLevel||u.mdMenuCtrl.triggerContainerProxy(t);i=!0;break;case e.KEY_CODE.LEFT_ARROW:u.nestLevel?u.mdMenuCtrl.close():u.mdMenuCtrl.triggerContainerProxy(t);i=!0;break;case e.KEY_CODE.RIGHT_ARROW:r=n.getClosest(t.target,"MD-MENU");r&&r!=u.parent[0]?t.target.click():u.mdMenuCtrl.triggerContainerProxy(t);i=!0}i&&(t.preventDefault(),t.stopImmediatePropagation())}function s(n){n.preventDefault();n.stopPropagation();i.$apply(function(){u.mdMenuCtrl.close(!0,{closeAll:!0})})}function h(t){function o(){i.$apply(function(){u.mdMenuCtrl.close(!0,{closeAll:!0})})}function e(n,t){if(!n)return!1;for(var i,r=0;i=t[r];++r)if(v.hasAttribute(n,i))return!0;return!1}var r=t.target,f;do{if(r==u.menuContentEl[0])return;if((e(r,["ng-click","ng-href","ui-sref"])||"BUTTON"==r.nodeName||"MD-BUTTON"==r.nodeName)&&!e(r,["md-prevent-menu-close"])){f=n.getClosest(r,"MD-MENU");r.hasAttribute("disabled")||f&&f!=u.parent[0]||o();break}}while(r=r.parentNode)}var t,f;return r.addClass("md-clickable"),u.backdrop&&u.backdrop.on("click",s),u.menuContentEl.on("keydown",o),u.menuContentEl[0].addEventListener("click",h,!0),t=u.menuContentEl[0].querySelector(v.buildSelector(["md-menu-focus-target","md-autofocus"])),t||(f=u.menuContentEl[0].firstElementChild,t=f&&(f.querySelector(".md-button:not([disabled])")||f.firstElementChild)),t&&t.focus(),function(){r.removeClass("md-clickable");u.backdrop&&u.backdrop.off("click",s);u.menuContentEl.off("keydown",o);u.menuContentEl[0].removeEventListener("click",h,!0)}}return a(u),f.inherit(u.menuContentEl,u.target),u.cleanupResizing=k(),u.hideBackdrop=b(i,r,u),o().then(function(n){return u.alreadyOpen=!0,u.cleanupInteraction=d(),n})}function p(t,i,r,u){for(var s,o,h=n.getClosest(t.target,"MD-MENU-ITEM"),e=n.nodesToArray(i[0].children),c=e.indexOf(h),f=c+u;f>=0&&f<e.length;f+=u)if(s=e[f].querySelector(".md-button"),o=g(s))break;return o}function g(n){if(n&&-1!=n.getAttribute("tabindex"))return(n.focus(),o[0].activeElement==n)}function nt(n,t){t.preserveElement?r(n).style.display="none":r(n).parentNode===r(t.parent)&&r(t.parent).removeChild(r(n))}function w(t,r){function ft(n){n.top=Math.max(Math.min(n.top,w.bottom-y.offsetHeight),w.top);n.left=Math.max(Math.min(n.left,w.right-y.offsetWidth),w.left)}function et(){for(var n=0;n<b.children.length;++n)if("none"!=s.getComputedStyle(b.children[n]).display)return b.children[n]}var c,y=t[0],b=t[0].firstElementChild,l=b.getBoundingClientRect(),ot=o[0].body,p=ot.getBoundingClientRect(),st=s.getComputedStyle(b),d=r.target[0].querySelector(v.buildSelector("md-menu-origin"))||r.target[0],f=d.getBoundingClientRect(),w={left:p.left+u,top:Math.max(p.top,0)+u,bottom:Math.max(p.bottom,Math.max(p.top,0)+p.height)-u,right:p.right-u},g={top:0,left:0,right:0,bottom:0},nt={top:0,left:0,right:0,bottom:0},a=r.mdMenuCtrl.positionMode(),e,h,k,tt,it,rt,ut;"target"!=a.top&&"target"!=a.left&&"target-right"!=a.left||(c=et(),c&&(c=c.firstElementChild||c,c=c.querySelector(v.buildSelector("md-menu-align-target"))||c,g=c.getBoundingClientRect(),nt={top:parseFloat(y.style.top||0),left:parseFloat(y.style.left||0)}));e={};h="top ";switch(a.top){case"target":e.top=nt.top+f.top-g.top;break;case"cascade":e.top=f.top-parseFloat(st.paddingTop)-d.style.top;break;case"bottom":e.top=f.top+f.height;break;default:throw new Error('Invalid target mode "'+a.top+'" specified for md-menu on Y axis.');}k="rtl"==n.bidi();switch(a.left){case"target":e.left=nt.left+f.left-g.left;h+=k?"right":"left";break;case"target-left":e.left=f.left;h+="left";break;case"target-right":e.left=f.right-l.width+(l.right-g.right);h+="right";break;case"cascade":tt=k?f.left-l.width<w.left:f.right+l.width<w.right;e.left=tt?f.right-d.style.left:f.left-d.style.left-l.width;h+=tt?"left":"right";break;case"right":k?(e.left=f.right-f.width,h+="left"):(e.left=f.right-l.width,h+="right");break;case"left":k?(e.left=f.right-l.width,h+="right"):(e.left=f.left,h+="left");break;default:throw new Error('Invalid target mode "'+a.left+'" specified for md-menu on X axis.');}return it=r.mdMenuCtrl.offsets(),e.top+=it.top,e.left+=it.left,ft(e),rt=Math.round(100*Math.min(f.width/y.offsetWidth,1))/100,ut=Math.round(100*Math.min(f.height/y.offsetHeight,1))/100,{top:Math.round(e.top),left:Math.round(e.left),transform:r.alreadyOpen?i:n.supplant("scale({0},{1})",[rt,ut]),transformOrigin:h}}var v=n.prefixer(),y=n.dom.animator;return{parent:"body",onShow:d,onRemove:k,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,skipHide:!0,themable:!0}}function r(n){return n instanceof t.element&&(n=n[0]),n}f.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate"];var u=8;return n("$mdMenu").setDefaults({methods:["target"],options:f})}n.$inject=["$$interimElementProvider"];t.module("material.components.menu").provider("$mdMenu",n)}(),function(){function n(n,i,u,f,e,o,s,h){this.$element=u;this.$attrs=f;this.$mdConstant=e;this.$mdUtil=s;this.$document=o;this.$scope=n;this.$rootScope=i;this.$timeout=h;var c=this;t.forEach(r,function(n){c[n]=t.bind(c,c[n])})}n.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"];t.module("material.components.menuBar").controller("MenuBarController",n);var r=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];n.prototype.init=function(){var t=this.$element,u=this.$mdUtil,f=this.$scope,n=this,r=[];t.on("keydown",this.handleKeyDown);this.parentToolbar=u.getClosest(t,"MD-TOOLBAR");r.push(this.$rootScope.$on("$mdMenuOpen",function(i,r){-1!=n.getMenus().indexOf(r[0])&&(t[0].classList.add("md-open"),r[0].classList.add("md-open"),n.currentlyOpenMenu=r.controller("mdMenu"),n.currentlyOpenMenu.registerContainerProxy(n.handleKeyDown),n.enableOpenOnHover())}));r.push(this.$rootScope.$on("$mdMenuClose",function(r,f,e){var s=n.getMenus(),o;if(-1!=s.indexOf(f[0])&&(t[0].classList.remove("md-open"),f[0].classList.remove("md-open")),t[0].contains(f[0])){for(o=f[0];o&&-1==s.indexOf(o);)o=u.getClosest(o,"MD-MENU",!0);o&&(e.skipFocus||o.querySelector("button:not([disabled])").focus(),n.currentlyOpenMenu=i,n.disableOpenOnHover(),n.setKeyboardMode(!0))}}));f.$on("$destroy",function(){for(n.disableOpenOnHover();r.length;)r.shift()()});this.setKeyboardMode(!0)};n.prototype.setKeyboardMode=function(n){n?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")};n.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){var n=this;n.openOnHoverEnabled=!0;n.parentToolbar&&(n.parentToolbar.classList.add("md-has-open-menu"),n.$mdUtil.nextTick(function(){t.element(n.parentToolbar).on("click",n.handleParentClick)},!1));t.element(n.getMenus()).on("mouseenter",n.handleMenuHover)}};n.prototype.handleMenuHover=function(n){this.setKeyboardMode(!1);this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(n)};n.prototype.disableOpenOnHover=function(){this.openOnHoverEnabled&&(this.openOnHoverEnabled=!1,this.parentToolbar&&(this.parentToolbar.classList.remove("md-has-open-menu"),t.element(this.parentToolbar).off("click",this.handleParentClick)),t.element(this.getMenus()).off("mouseenter",this.handleMenuHover))};n.prototype.scheduleOpenHoveredMenu=function(n){var i=t.element(n.currentTarget),r=i.controller("mdMenu");this.setKeyboardMode(!1);this.scheduleOpenMenu(r)};n.prototype.scheduleOpenMenu=function(n){var t=this,r=this.$timeout;n!=t.currentlyOpenMenu&&(r.cancel(t.pendingMenuOpen),t.pendingMenuOpen=r(function(){t.pendingMenuOpen=i;t.currentlyOpenMenu&&t.currentlyOpenMenu.close(!0,{closeAll:!0});n.open()},200,!1))};n.prototype.handleKeyDown=function(n){var u=this.$mdConstant.KEY_CODE,i=this.currentlyOpenMenu,o=i&&i.isOpen,r,f,e;this.setKeyboardMode(!0);switch(n.keyCode){case u.DOWN_ARROW:i?i.focusMenuContainer():this.openFocusedMenu();r=!0;break;case u.UP_ARROW:i&&i.close();r=!0;break;case u.LEFT_ARROW:f=this.focusMenu(-1);o&&(e=t.element(f).controller("mdMenu"),this.scheduleOpenMenu(e));r=!0;break;case u.RIGHT_ARROW:f=this.focusMenu(1);o&&(e=t.element(f).controller("mdMenu"),this.scheduleOpenMenu(e));r=!0}r&&(n&&n.preventDefault&&n.preventDefault(),n&&n.stopImmediatePropagation&&n.stopImmediatePropagation())};n.prototype.focusMenu=function(n){var r=this.getMenus(),t=this.getFocusedMenuIndex(),i;return-1==t&&(t=this.getOpenMenuIndex()),i=!1,-1==t?(t=0,i=!0):(0>n&&t>0||n>0&&t<r.length-n)&&(t+=n,i=!0),i?(r[t].querySelector("button").focus(),r[t]):void 0};n.prototype.openFocusedMenu=function(){var n=this.getFocusedMenu();n&&t.element(n).controller("mdMenu").open()};n.prototype.getMenus=function(){var n=this.$element;return this.$mdUtil.nodesToArray(n[0].children).filter(function(n){return"MD-MENU"==n.nodeName})};n.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]};n.prototype.getFocusedMenuIndex=function(){var t=this.$mdUtil,n=t.getClosest(this.$document[0].activeElement,"MD-MENU");return n?this.getMenus().indexOf(n):-1};n.prototype.getOpenMenuIndex=function(){for(var t=this.getMenus(),n=0;n<t.length;++n)if(t[n].classList.contains("md-open"))return n;return-1};n.prototype.handleParentClick=function(n){var i=this.querySelector("md-menu.md-open");i&&!i.contains(n.target)&&t.element(i).controller("mdMenu").close()}}(),function(){function n(n,i){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(r,u){return u.ariaRole||r[0].setAttribute("role","menubar"),t.forEach(r[0].children,function(i){if("MD-MENU"==i.nodeName){i.hasAttribute("md-position-mode")||(i.setAttribute("md-position-mode","left bottom"),i.querySelector("button, a, md-button").setAttribute("role","menuitem"));var r=n.nodesToArray(i.querySelectorAll("md-menu-content"));t.forEach(r,function(n){n.classList.add("md-menu-bar-menu");n.classList.add("md-dense");n.hasAttribute("width")||n.setAttribute("width",5)})}}),r.find("md-menu-item").addClass("md-in-menu-bar"),function(n,t,r,u){t.addClass("_md");i(n,t);u.init()}}}}n.$inject=["$mdUtil","$mdTheming"];t.module("material.components.menuBar").directive("mdMenuBar",n)}(),function(){function n(){return{restrict:"E",compile:function(n,t){t.role||n[0].setAttribute("role","separator")}}}t.module("material.components.menuBar").directive("mdMenuDivider",n)}(),function(){function n(n,t,i){this.$element=t;this.$attrs=i;this.$scope=n}n.$inject=["$scope","$element","$attrs"];t.module("material.components.menuBar").controller("MenuItemController",n);n.prototype.init=function(n){var i=this.$element,t=this.$attrs;this.ngModel=n;"checkbox"!=t.type&&"radio"!=t.type||(this.mode=t.type,this.iconEl=i[0].children[0],this.buttonEl=i[0].children[1],n&&this.initClickListeners())};n.prototype.clearNgAria=function(){var n=this.$element[0];t.forEach(["role","tabindex","aria-invalid","aria-checked"],function(t){n.removeAttribute(t)})};n.prototype.initClickListeners=function(){function s(){if("radio"==c){var t=n.ngValue?f.$eval(n.ngValue):n.value;return i.$modelValue==t}return i.$modelValue}function u(n){n?r.off("click",o):r.on("click",o)}var h=this,i=this.ngModel,f=this.$scope,n=this.$attrs,c=(this.$element,this.mode);this.handleClick=t.bind(this,this.handleClick);var e=this.iconEl,r=t.element(this.buttonEl),o=this.handleClick;n.$observe("disabled",u);u(n.disabled);i.$render=function(){h.clearNgAria();s()?(e.style.display="",r.attr("aria-checked","true")):(e.style.display="none",r.attr("aria-checked","false"))};f.$$postDigest(i.$render)};n.prototype.handleClick=function(){var n,r=this.mode,t=this.ngModel,i=this.$attrs;"checkbox"==r?n=!t.$modelValue:"radio"==r&&(n=i.ngValue?this.$scope.$eval(i.ngValue):i.value);t.$setViewValue(n);t.$render()}}(),function(){function n(n,i){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:210,compile:function(r,u){function o(n,i,u){u=u||r;u instanceof t.element&&(u=u[0]);u.hasAttribute(n)||u.setAttribute(n,i)}function h(i){var u=n.prefixer(i);t.forEach(u,function(n){if(r[0].hasAttribute(n)){var t=r[0].getAttribute(n);f[0].setAttribute(n,t);r[0].removeAttribute(n)}})}var e=u.type,s="md-in-menu-bar";if(("checkbox"==e||"radio"==e)&&r.hasClass(s)){var c=r[0].textContent,f=t.element('<md-button type="button"><\/md-button>'),l='<md-icon md-svg-src="'+i.mdChecked+'"><\/md-icon>';f.html(c);f.attr("tabindex","0");r.html("");r.append(t.element(l));r.append(f);r.addClass("md-indent").removeClass(s);o("role","checkbox"==e?"menuitemcheckbox":"menuitemradio",f);h("ng-disabled")}else o("role","menuitem",r[0].querySelector("md-button, button, a"));return function(n,t,i,r){var u=r[0],f=r[1];u.init(f)}}}}n.$inject=["$mdUtil","$$mdSvgRegistry"];t.module("material.components.menuBar").directive("mdMenuItem",n)}(),function(){function n(n,i,r,u,f){function w(s,w,k){function et(t,r,f,e,h){var w=++ct,b=u.now(),k=r-t,v=c(s.mdDiameter),p=v-l(v),d=f||i.easeFn,y=e||i.duration;r===t?rt.attr("d",o(r,v,p,h)):g=a(function nt(){var i=n.Math.max(0,n.Math.min(u.now()-b,y));rt.attr("d",o(d(i,t,k,y),v,p,h));w===ct&&y>i&&(g=a(nt))})}function ot(){et(ut,nt,i.easeFnIndeterminate,i.durationIndeterminate,ft);ft=(ft+nt)%100;var n=ut;ut=-nt;nt=-n}function st(){d||(d=f(ot,i.durationIndeterminate+50,0,!1),ot(),w.addClass(p).removeAttr("aria-valuenow"))}function tt(){d&&(f.cancel(d),d=null,w.removeClass(p))}var g,d,it=w[0],ht=t.element(it.querySelector("svg")),rt=t.element(it.querySelector("path")),ut=i.startIndeterminate,nt=i.endIndeterminate,ft=0,ct=0;r(w);w.toggleClass(y,k.hasOwnProperty("disabled"));s.mdMode===e&&st();s.$on("$destroy",function(){tt();g&&b(g)});s.$watchGroup(["value","mdMode",function(){var n=it.disabled;return n===!0||n===!1?n:t.isDefined(w.attr("disabled"))}],function(n,t){var i=n[1],r=n[2],f=t[2],u;(r!==f&&w.toggleClass(y,!!r),r)?tt():(i!==v&&i!==e&&(i=e,k.$set("mdMode",i)),i===e)?st():(u=h(n[0]),tt(),w.attr("aria-valuenow",u),et(h(t[0]),u))});s.$watch("mdDiameter",function(n){var t=c(n),u=l(t),i=t/2+"px",r={width:t+"px",height:t+"px"};ht[0].setAttribute("viewBox","0 0 "+t+" "+t);ht.css(r).css("transform-origin",i+" "+i+" "+i);w.css(r);rt.css("stroke-width",u+"px")})}function o(n,t,i,r){var e,o=3.5999,l=r||0,h=t/2,f=i/2,c=l*o,u=n*o,a=s(h,f,c),v=s(h,f,u+c),y=0>u?0:1;return e=0>u?u>=-180?0:1:180>=u?0:1,"M"+a+"A"+f+","+f+" 0 "+e+","+y+" "+v}function s(t,i,r){var u=(r-90)*k;return t+i*n.Math.cos(u)+","+(t+i*n.Math.sin(u))}function h(t){return n.Math.max(0,n.Math.min(t||0,100))}function c(n){var r=i.progressSize,t;return n?(t=parseFloat(n),n.lastIndexOf("%")===n.length-1&&(t=t/100*r),t):r}function l(n){return i.strokeWidth/100*n}var a=n.requestAnimationFrame||n.webkitRequestAnimationFrame||t.noop,b=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.webkitCancelRequestAnimationFrame||t.noop,k=n.Math.PI/180,v="determinate",e="indeterminate",y="_md-progress-circular-disabled",p="md-mode-indeterminate";return{restrict:"E",scope:{value:"@",mdDiameter:"@",mdMode:"@"},template:'<svg xmlns="http://www.w3.org/2000/svg"><path fill="none"/><\/svg>',compile:function(n,i){if(n.attr({"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"}),t.isUndefined(i.mdMode)){var r=t.isDefined(i.value),u=r?v:e;i.$set("mdMode",u)}else i.$set("mdMode",i.mdMode.trim());return w}}}n.$inject=["$window","$mdProgressCircular","$mdTheming","$mdUtil","$interval","$log"];t.module("material.components.progressCircular").directive("mdProgressCircular",n)}(),function(){function n(){function i(n,t,i,r){return i*n/r+t}function r(n,t,i,r){var u=(n/=r)*n,f=u*n;return t+i*(6*f*u+-15*u*u+10*f)}var n={progressSize:50,strokeWidth:10,duration:100,easeFn:i,durationIndeterminate:500,startIndeterminate:3,endIndeterminate:80,easeFnIndeterminate:r,easingPresets:{linearEase:i,materialEase:r}};return{configure:function(i){return n=t.extend(n,i||{})},$get:function(){return n}}}t.module("material.components.progressCircular").provider("$mdProgressCircular",n)}(),function(){function n(){function i(i,r,u,f){if(f){var o=f.getTabElementIndex(r),s=n(r,"md-tab-body").remove(),h=n(r,"md-tab-label").remove(),e=f.insertTab({scope:i,parent:i.$parent,index:o,element:r,template:s.html(),label:h.html()},o);i.select=i.select||t.noop;i.deselect=i.deselect||t.noop;i.$watch("active",function(n){n&&f.select(e.getIndex(),!0)});i.$watch("disabled",function(){f.refreshIndex()});i.$watch(function(){return f.getTabElementIndex(r)},function(n){e.index=n;f.updateTabOrder()});i.$on("$destroy",function(){f.removeTab(e)})}}function n(n,i){for(var u,f=n[0].children,r=0,e=f.length;e>r;r++)if(u=f[r],u.tagName===i.toUpperCase())return t.element(u);return t.element()}return{require:"^?mdTabs",terminal:!0,compile:function(r,u){var f=n(r,"md-tab-label"),e=n(r,"md-tab-body"),o;return 0==f.length&&(f=t.element("<md-tab-label><\/md-tab-label>"),u.label?f.text(u.label):f.append(r.contents()),0==e.length)&&(o=r.contents().detach(),e=t.element("<md-tab-body><\/md-tab-body>"),e.append(o)),r.append(f),e.html()&&r.append(e),i},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}}}t.module("material.components.tabs").directive("mdTab",n)}(),function(){function n(){return{require:"^?mdTabs",link:function(n,t,i,r){r&&r.attachRipple(n,t)}}}t.module("material.components.tabs").directive("mdTabItem",n)}(),function(){function n(){return{terminal:!0}}t.module("material.components.tabs").directive("mdTabLabel",n)}(),function(){function n(n){return{restrict:"A",compile:function(t,i){var r=n(i.mdTabScroll,null,!0);return function(n,t){t.on("mousewheel",function(t){n.$apply(function(){r(n,{$event:t})})})}}}}n.$inject=["$parse"];t.module("material.components.tabs").directive("mdTabScroll",n)}(),function(){function n(n,r,u,f,e,o,s,h,c,l){function pt(){a.selectedIndex=a.selectedIndex||0;wt();kt();bt();l(r);o.nextTick(function(){er=v();st();g();nt();a.tabs[a.selectedIndex]&&a.tabs[a.selectedIndex].scope.select();ht=!0;k()})}function wt(){var i=h.$mdTabsTemplate,n=t.element(r[0].querySelector("md-tab-data"));n.html(i);c(n.contents())(a.parent);delete h.$mdTabsTemplate}function bt(){t.element(u).on("resize",ut);n.$on("$destroy",gt)}function kt(){n.$watch("$mdTabsCtrl.selectedIndex",oi)}function dt(n,t){var i=h.$normalize("md-"+n);t&&w(n,t);h.$observe(i,function(t){a[n]=t})}function y(n,t){function r(t){a[n]="false"!==t}var i=h.$normalize("md-"+n);t&&w(n,t);h.hasOwnProperty(i)&&r(h[i]);h.$observe(i,r)}function gt(){yt=!0;t.element(u).off("resize",ut)}function ni(){var n=v();t.element(n.wrapper).toggleClass("md-stretch-tabs",ct());nt()}function ti(){a.shouldCenterTabs=ft()}function ii(n,i){if(n!==i){var r=v();t.forEach(r.tabs,function(t){t.style.maxWidth=n+"px"});o.nextTick(a.updateInkBarStyles)}}function ri(n,t){n!==t&&(a.maxTabWidth=d(),a.shouldCenterTabs=ft(),o.nextTick(function(){a.maxTabWidth=d();g(a.selectedIndex)}))}function ui(n){r[n?"removeClass":"addClass"]("md-no-tab-content")}function fi(i){var r=v(),u=a.shouldCenterTabs?"":"-"+i+"px";t.element(r.paging).css(f.CSS.TRANSFORM,"translate3d("+u+", 0, 0)");n.$broadcast("$mdTabsPaginationChanged")}function ei(n,t){n!==t&&v().tabs[n]&&(g(),at())}function oi(t,i){t!==i&&(a.selectedIndex=et(t),a.lastSelectedIndex=i,a.updateInkBarStyles(),st(),g(t),n.$broadcast("$mdTabsChanged"),a.tabs[i]&&a.tabs[i].scope.deselect(),a.tabs[t]&&a.tabs[t].scope.select())}function si(n){var t=r[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(t,n[0])}function b(){b.watcher||(b.watcher=n.$watch(function(){o.nextTick(function(){b.watcher&&r.prop("offsetParent")&&(b.watcher(),b.watcher=null,ut())},!1)}))}function hi(n){switch(n.keyCode){case f.KEY_CODE.LEFT_ARROW:n.preventDefault();ot(-1,!0);break;case f.KEY_CODE.RIGHT_ARROW:n.preventDefault();ot(1,!0);break;case f.KEY_CODE.SPACE:case f.KEY_CODE.ENTER:n.preventDefault();tt||rt(a.focusIndex)}a.lastClick=!1}function rt(n,t){tt||(a.focusIndex=a.selectedIndex=n);a.lastClick=!0;t&&a.noSelectClick||o.nextTick(function(){a.tabs[n].element.triggerHandler("click")},!1)}function ci(n){a.shouldPaginate&&(n.preventDefault(),a.offsetLeft=p(a.offsetLeft-n.wheelDelta))}function li(){for(var n,i=v(),r=i.canvas.clientWidth,u=r+a.offsetLeft,t=0;t<i.tabs.length&&(n=i.tabs[t],!(n.offsetLeft+n.offsetWidth>u));t++);a.offsetLeft=r>n.offsetWidth?p(n.offsetLeft):p(n.offsetLeft+(n.offsetWidth-r+1))}function ai(){for(var n,i=v(),t=0;t<i.tabs.length&&(n=i.tabs[t],!(n.offsetLeft+n.offsetWidth>=a.offsetLeft));t++);a.offsetLeft=i.canvas.clientWidth>n.offsetWidth?p(n.offsetLeft+n.offsetWidth-i.canvas.clientWidth):p(n.offsetLeft)}function ut(){a.lastSelectedIndex=a.selectedIndex;a.offsetLeft=p(a.offsetLeft);o.nextTick(function(){a.updateInkBarStyles();k()})}function vi(n){t.element(v().inkBar).toggleClass("ng-hide",n)}function yi(n){r.toggleClass("md-dynamic-height",n)}function pi(n){if(!yt){var t=a.selectedIndex,i=a.tabs.splice(n.getIndex(),1)[0];vt();a.selectedIndex===t&&(i.scope.deselect(),a.tabs[a.selectedIndex]&&a.tabs[a.selectedIndex].scope.select());o.nextTick(function(){k();a.offsetLeft=p(a.offsetLeft)})}}function wi(n,i){var u=ht,f={getIndex:function(){return a.tabs.indexOf(r)},isActive:function(){return this.getIndex()===a.selectedIndex},isLeft:function(){return this.getIndex()<a.selectedIndex},isRight:function(){return this.getIndex()>a.selectedIndex},shouldRender:function(){return!a.noDisconnect||this.isActive()},hasFocus:function(){return!a.lastClick&&a.hasFocus&&this.getIndex()===a.focusIndex},id:o.nextUid()},r=t.extend(f,n);return t.isDefined(i)?a.tabs.splice(i,0,r):a.tabs.push(r),ir(),rr(),o.nextTick(function(){k();u&&a.autoselect&&o.nextTick(function(){o.nextTick(function(){rt(a.tabs.indexOf(r))})})}),r}function v(){var n={},t=r[0];return n.wrapper=t.querySelector("md-tabs-wrapper"),n.canvas=n.wrapper.querySelector("md-tabs-canvas"),n.paging=n.canvas.querySelector("md-pagination-wrapper"),n.inkBar=n.paging.querySelector("md-ink-bar"),n.contents=t.querySelectorAll("md-tabs-content-wrapper > md-tab-content"),n.tabs=n.paging.querySelectorAll("md-tab-item"),n.dummies=n.canvas.querySelectorAll("md-dummy-tab"),n}function bi(){return a.offsetLeft>0}function ki(){var n=v(),t=n.tabs[n.tabs.length-1];return t&&t.offsetLeft+t.offsetWidth>n.canvas.clientWidth+a.offsetLeft}function ct(){switch(a.stretchTabs){case"always":return!0;case"never":return!1;default:return!a.shouldPaginate&&u.matchMedia("(max-width: 600px)").matches}}function ft(){return a.centerTabs&&!a.shouldPaginate}function di(){if(a.noPagination||!ht)return!1;var n=r.prop("clientWidth");return t.forEach(v().dummies,function(t){n-=t.offsetWidth}),0>n}function et(n){if(-1===n)return-1;for(var t,r=Math.max(a.tabs.length-n,n),i=0;r>=i;i++)if((t=a.tabs[n+i],t&&t.scope.disabled!==!0)||(t=a.tabs[n-i],t&&t.scope.disabled!==!0))return t.getIndex();return n}function w(n,t,i){Object.defineProperty(a,n,{get:function(){return i},set:function(n){var r=i;i=n;t&&t(n,r)}})}function k(){gi();a.maxTabWidth=d();a.shouldPaginate=di()}function gi(){var n=v();ct()?t.element(n.paging).css("width",""):t.element(n.paging).css("width",nr()+"px")}function nr(){return lt(v().dummies)}function lt(n){var i=0;return t.forEach(n,function(n){i+=Math.max(n.offsetWidth,n.getBoundingClientRect().width)}),Math.ceil(i)}function d(){return r.prop("clientWidth")}function tr(){var n=a.tabs[a.selectedIndex],t=a.tabs[a.focusIndex];a.tabs=a.tabs.sort(function(n,t){return n.index-t.index});a.selectedIndex=a.tabs.indexOf(n);a.focusIndex=a.tabs.indexOf(t)}function ot(n,t){for(var r=t?"focusIndex":"selectedIndex",u=a[r],i=u+n;a.tabs[i]&&a.tabs[i].scope.disabled;i+=n);a.tabs[i]&&(a[r]=i)}function at(){v().dummies[a.focusIndex].focus()}function g(n){var t=v();if(null==n&&(n=a.focusIndex),t.tabs[n]&&!a.shouldCenterTabs){var i=t.tabs[n],r=i.offsetLeft,u=i.offsetWidth+r;a.offsetLeft=Math.max(a.offsetLeft,p(u-t.canvas.clientWidth+64));a.offsetLeft=Math.min(a.offsetLeft,p(r))}}function ir(){it.forEach(function(n){o.nextTick(n)});it=[]}function rr(){var n=!1;t.forEach(a.tabs,function(t){t.template&&(n=!0)});a.hasContent=n}function vt(){a.selectedIndex=et(a.selectedIndex);a.focusIndex=et(a.focusIndex)}function st(){var f,c;if(!a.dynamicHeight)return r.css("height","");if(!a.tabs.length)return it.push(st);var e=v(),h=e.contents[a.selectedIndex],l=h?h.offsetHeight:0,t=e.wrapper.offsetHeight,u=l+t,n=r.prop("clientHeight");n!==u&&("bottom"===r.attr("md-align-tabs")&&(n-=t,u-=t,r.attr("md-border-bottom")!==i&&++n),tt=!0,f={height:n+"px"},c={height:u+"px"},r.css(f),s(r,{from:f,to:c,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){r.css({transition:"none",height:""});o.nextTick(function(){r.css("transition","")});tt=!1}))}function nt(){var n=v(),e;if(!n.tabs[a.selectedIndex])return void t.element(n.inkBar).css({left:"auto",right:"auto"});if(!a.tabs.length)return it.push(a.updateInkBarStyles);if(!r.prop("offsetParent"))return b();var s=a.selectedIndex,i=n.paging.offsetWidth,u=n.tabs[s],f=u.offsetLeft,h=i-f-u.offsetWidth;a.shouldCenterTabs&&(e=lt(n.tabs),i>e&&o.nextTick(nt,!1));ur();t.element(n.inkBar).css({left:f+"px",right:h+"px"})}function ur(){var r=v(),i=a.selectedIndex,n=a.lastSelectedIndex,u=t.element(r.inkBar);t.isNumber(n)&&u.toggleClass("md-left",n>i).toggleClass("md-right",i>n)}function p(n){var t=v(),i,r;return!t.tabs.length||!a.shouldPaginate?0:(i=t.tabs[t.tabs.length-1],r=i.offsetLeft+i.offsetWidth,n=Math.max(0,n),n=Math.min(r-t.canvas.clientWidth,n))}function fr(n,i){var r=v(),u={colorElement:t.element(r.inkBar)};e.attach(n,i,u)}var a=this,tt=!1,er=v(),it=[],yt=!1,ht=!1;dt("stretchTabs",ni);w("focusIndex",ei,a.selectedIndex||0);w("offsetLeft",fi,0);w("hasContent",ui,!1);w("maxTabWidth",ii,d());w("shouldPaginate",ri,!1);y("noInkBar",vi);y("dynamicHeight",yi);y("noPagination");y("swipeContent");y("noDisconnect");y("autoselect");y("noSelectClick");y("centerTabs",ti,!1);y("enableDisconnect");a.scope=n;a.parent=n.$parent;a.tabs=[];a.lastSelectedIndex=null;a.hasFocus=!1;a.lastClick=!0;a.shouldCenterTabs=ft();a.updatePagination=o.debounce(k,100);a.redirectFocus=at;a.attachRipple=fr;a.insertTab=wi;a.removeTab=pi;a.select=rt;a.scroll=ci;a.nextPage=li;a.previousPage=ai;a.keydown=hi;a.canPageForward=ki;a.canPageBack=bi;a.refreshIndex=vt;a.incrementIndex=ot;a.getTabElementIndex=si;a.updateInkBarStyles=o.debounce(nt,100);a.updateTabOrder=o.debounce(tr,100);pt()}n.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming"];t.module("material.components.tabs").controller("MdTabsController",n)}(),function(){function n(n){return{scope:{selectedIndex:"=?mdSelected"},template:function(t,i){return i.$mdTabsTemplate=t.html(),'<md-tabs-wrapper> <md-tab-data><\/md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-src="'+n.mdTabsArrow+'"><\/md-icon> <\/md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-src="'+n.mdTabsArrow+'"><\/md-icon> <\/md-next-button> <md-tabs-canvas tabindex="{{ $mdTabsCtrl.hasFocus ? -1 : 0 }}" aria-activedescendant="tab-item-{{$mdTabsCtrl.tabs[$mdTabsCtrl.focusIndex].id}}" ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)" role="tablist"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)"> <md-tab-item tabindex="-1" class="md-tab" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" aria-controls="tab-content-{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"><\/md-tab-item> <md-ink-bar><\/md-ink-bar> <\/md-pagination-wrapper> <md-tabs-dummy-wrapper class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" id="tab-item-{{::tab.id}}" role="tab" aria-controls="tab-content-{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"><\/md-dummy-tab> <\/md-tabs-dummy-wrapper> <\/md-tabs-canvas> <\/md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0" class="_md"> <md-tab-content id="tab-content-{{::tab.id}}" class="_md" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="$mdTabsCtrl.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"><\/div> <\/md-tab-content> <\/md-tabs-content-wrapper>'},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}n.$inject=["$$mdSvgRegistry"];t.module("material.components.tabs").directive("mdTabs",n)}(),function(){function n(n,t){return{require:"^?mdTabs",link:function(i,r,u,f){var e,o,s,c,h;f&&(s=function(){f.updatePagination();f.updateInkBarStyles()},"MutationObserver"in t?(c={childList:!0,subtree:!0,characterData:!0},e=new MutationObserver(s),e.observe(r[0],c),o=e.disconnect.bind(e)):(h=n.debounce(s,15,null,!1),r.on("DOMSubtreeModified",h),o=r.off.bind(r,"DOMSubtreeModified",h)),i.$on("$destroy",function(){o()}))}}}n.$inject=["$mdUtil","$window"];t.module("material.components.tabs").directive("mdTabsDummyWrapper",n)}(),function(){function n(n,t){function i(i,r,u,f){function s(){i.$watch("connected",function(n){n===!1?h():o()});i.$on("$destroy",o)}function h(){f.enableDisconnect&&t.disconnectScope(e)}function o(){f.enableDisconnect&&t.reconnectScope(e)}if(f){var e=f.enableDisconnect?i.compileScope.$new():i.compileScope;return r.html(i.template),n(r.contents())(e),t.nextTick(s)}}return{restrict:"A",link:i,scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}n.$inject=["$compile","$mdUtil"];t.module("material.components.tabs").directive("mdTabsTemplate",n)}(),function(){t.module("material.core").constant("$MD_THEME_CSS","md-autocomplete.md-THEME_NAME-theme {  background: '{{background-A100}}'; }  md-autocomplete.md-THEME_NAME-theme[disabled]:not([md-floating-label]) {    background: '{{background-100}}'; }  md-autocomplete.md-THEME_NAME-theme button md-icon path {    fill: '{{background-600}}'; }  md-autocomplete.md-THEME_NAME-theme button:after {    background: '{{background-600-0.3}}'; }.md-autocomplete-suggestions-container.md-THEME_NAME-theme {  background: '{{background-A100}}'; }  .md-autocomplete-suggestions-container.md-THEME_NAME-theme li {    color: '{{background-900}}'; }    .md-autocomplete-suggestions-container.md-THEME_NAME-theme li .highlight {      color: '{{background-600}}'; }    .md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover, .md-autocomplete-suggestions-container.md-THEME_NAME-theme li.selected {      background: '{{background-200}}'; }md-backdrop {  background-color: '{{background-900-0.0}}'; }  md-backdrop.md-opaque.md-THEME_NAME-theme {    background-color: '{{background-900-1.0}}'; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }.md-button.md-THEME_NAME-theme:not([disabled]):hover {  background-color: '{{background-500-0.2}}'; }.md-button.md-THEME_NAME-theme:not([disabled]).md-focused {  background-color: '{{background-500-0.2}}'; }.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover {  background-color: transparent; }.md-button.md-THEME_NAME-theme.md-fab {  background-color: '{{accent-color}}';  color: '{{accent-contrast}}'; }  .md-button.md-THEME_NAME-theme.md-fab md-icon {    color: '{{accent-contrast}}'; }  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {    background-color: '{{accent-A700}}'; }  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {    background-color: '{{accent-A700}}'; }.md-button.md-THEME_NAME-theme.md-primary {  color: '{{primary-color}}'; }  .md-button.md-THEME_NAME-theme.md-primary.md-raised, .md-button.md-THEME_NAME-theme.md-primary.md-fab {    color: '{{primary-contrast}}';    background-color: '{{primary-color}}'; }    .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon {      color: '{{primary-contrast}}'; }    .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover {      background-color: '{{primary-600}}'; }    .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused {      background-color: '{{primary-600}}'; }  .md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon {    color: '{{primary-color}}'; }.md-button.md-THEME_NAME-theme.md-fab {  background-color: '{{accent-color}}';  color: '{{accent-contrast}}'; }  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon {    color: '{{accent-contrast}}'; }  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {    background-color: '{{accent-A700}}'; }  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {    background-color: '{{accent-A700}}'; }.md-button.md-THEME_NAME-theme.md-raised {  color: '{{background-900}}';  background-color: '{{background-50}}'; }  .md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon {    color: '{{background-900}}'; }  .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover {    background-color: '{{background-50}}'; }  .md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused {    background-color: '{{background-200}}'; }.md-button.md-THEME_NAME-theme.md-warn {  color: '{{warn-color}}'; }  .md-button.md-THEME_NAME-theme.md-warn.md-raised, .md-button.md-THEME_NAME-theme.md-warn.md-fab {    color: '{{warn-contrast}}';    background-color: '{{warn-color}}'; }    .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon {      color: '{{warn-contrast}}'; }    .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover {      background-color: '{{warn-600}}'; }    .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused {      background-color: '{{warn-600}}'; }  .md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon {    color: '{{warn-color}}'; }.md-button.md-THEME_NAME-theme.md-accent {  color: '{{accent-color}}'; }  .md-button.md-THEME_NAME-theme.md-accent.md-raised, .md-button.md-THEME_NAME-theme.md-accent.md-fab {    color: '{{accent-contrast}}';    background-color: '{{accent-color}}'; }    .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon {      color: '{{accent-contrast}}'; }    .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover {      background-color: '{{accent-A700}}'; }    .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  .md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon {    color: '{{accent-color}}'; }.md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-accent[disabled], .md-button.md-THEME_NAME-theme.md-warn[disabled] {  color: '{{foreground-3}}';  cursor: default; }  .md-button.md-THEME_NAME-theme[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon {    color: '{{foreground-3}}'; }.md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled] {  background-color: '{{foreground-4}}'; }.md-button.md-THEME_NAME-theme[disabled] {  background-color: transparent; }._md a.md-THEME_NAME-theme:not(.md-button).md-primary {  color: '{{primary-color}}'; }  ._md a.md-THEME_NAME-theme:not(.md-button).md-primary:hover {    color: '{{primary-700}}'; }._md a.md-THEME_NAME-theme:not(.md-button).md-accent {  color: '{{accent-color}}'; }  ._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover {    color: '{{accent-700}}'; }._md a.md-THEME_NAME-theme:not(.md-button).md-accent {  color: '{{accent-color}}'; }  ._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover {    color: '{{accent-A700}}'; }._md a.md-THEME_NAME-theme:not(.md-button).md-warn {  color: '{{warn-color}}'; }  ._md a.md-THEME_NAME-theme:not(.md-button).md-warn:hover {    color: '{{warn-700}}'; }md-card.md-THEME_NAME-theme {  color: '{{foreground-1}}';  background-color: '{{background-hue-1}}';  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }  md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon {    color: '{{background-color}}';    background-color: '{{foreground-3}}'; }  md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead {    color: '{{foreground-2}}'; }  md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead {    color: '{{foreground-2}}'; }md-chips.md-THEME_NAME-theme .md-chips {  box-shadow: 0 1px '{{foreground-4}}'; }  md-chips.md-THEME_NAME-theme .md-chips.md-focused {    box-shadow: 0 2px '{{primary-color}}'; }  md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input {    color: '{{foreground-1}}'; }    md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-webkit-input-placeholder {      color: '{{foreground-3}}'; }    md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-moz-placeholder {      color: '{{foreground-3}}'; }    md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-moz-placeholder {      color: '{{foreground-3}}'; }    md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-ms-input-placeholder {      color: '{{foreground-3}}'; }    md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-webkit-input-placeholder {      color: '{{foreground-3}}'; }md-chips.md-THEME_NAME-theme md-chip {  background: '{{background-300}}';  color: '{{background-800}}'; }  md-chips.md-THEME_NAME-theme md-chip md-icon {    color: '{{background-700}}'; }  md-chips.md-THEME_NAME-theme md-chip.md-focused {    background: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-chips.md-THEME_NAME-theme md-chip.md-focused md-icon {      color: '{{primary-contrast}}'; }  md-chips.md-THEME_NAME-theme md-chip._md-chip-editing {    background: transparent;    color: '{{background-800}}'; }md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path {  fill: '{{background-500}}'; }.md-contact-suggestion span.md-contact-email {  color: '{{background-400}}'; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-A700}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme .md-ink-ripple {  color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not(.md-checked) .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{accent-contrast-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple {  color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary:not(.md-checked) .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{primary-contrast-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-indeterminate[disabled] .md-container {  color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple {  color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn:not(.md-checked) .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled]:not(.md-checked) .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon:after {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-label {  color: '{{foreground-3}}'; }md-content.md-THEME_NAME-theme {  color: '{{foreground-1}}';  background-color: '{{background-default}}'; }/** Theme styles for mdCalendar. */.md-calendar.md-THEME_NAME-theme {  background: '{{background-A100}}';  color: '{{background-A200-0.87}}'; }  .md-calendar.md-THEME_NAME-theme tr:last-child td {    border-bottom-color: '{{background-200}}'; }.md-THEME_NAME-theme .md-calendar-day-header {  background: '{{background-300}}';  color: '{{background-A200-0.87}}'; }.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator {  border: 1px solid '{{primary-500}}'; }.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled {  color: '{{primary-500-0.6}}'; }.md-calendar-date.md-focus .md-THEME_NAME-theme .md-calendar-date-selection-indicator, .md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover {  background: '{{background-300}}'; }.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator {  background: '{{primary-500}}';  color: '{{primary-500-contrast}}';  border-color: transparent; }.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled {  color: '{{background-A200-0.435}}'; }/** Theme styles for mdDatepicker. */.md-THEME_NAME-theme .md-datepicker-input {  color: '{{foreground-1}}'; }  .md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder {    color: '{{foreground-3}}'; }  .md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder {    color: '{{foreground-3}}'; }  .md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder {    color: '{{foreground-3}}'; }  .md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder {    color: '{{foreground-3}}'; }  .md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder {    color: '{{foreground-3}}'; }.md-THEME_NAME-theme .md-datepicker-input-container {  border-bottom-color: '{{foreground-4}}'; }  .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused {    border-bottom-color: '{{primary-color}}'; }    .md-accent .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused {      border-bottom-color: '{{accent-color}}'; }    .md-warn .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused {      border-bottom-color: '{{warn-A700}}'; }  .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid {    border-bottom-color: '{{warn-A700}}'; }.md-THEME_NAME-theme .md-datepicker-calendar-pane {  border-color: '{{background-hue-1}}'; }.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle {  border-top-color: '{{foreground-3}}'; }.md-THEME_NAME-theme .md-datepicker-triangle-button:hover .md-datepicker-expand-triangle {  border-top-color: '{{foreground-2}}'; }.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon {  color: '{{primary-color}}'; }.md-THEME_NAME-theme .md-datepicker-open.md-accent .md-datepicker-calendar-icon, .md-accent .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon {  color: '{{accent-color}}'; }.md-THEME_NAME-theme .md-datepicker-open.md-warn .md-datepicker-calendar-icon, .md-warn .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon {  color: '{{warn-A700}}'; }.md-THEME_NAME-theme .md-datepicker-calendar {  background: '{{background-A100}}'; }.md-THEME_NAME-theme .md-datepicker-input-mask-opaque {  box-shadow: 0 0 0 9999px \"{{background-hue-1}}\"; }.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-input-container {  background: \"{{background-hue-1}}\"; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-hue-1}}';  color: '{{foreground-1}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions, md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions {    border-top-color: '{{foreground-4}}'; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }.layout-row > md-divider.md-THEME_NAME-theme,.layout-xs-row > md-divider.md-THEME_NAME-theme, .layout-gt-xs-row > md-divider.md-THEME_NAME-theme,.layout-sm-row > md-divider.md-THEME_NAME-theme, .layout-gt-sm-row > md-divider.md-THEME_NAME-theme,.layout-md-row > md-divider.md-THEME_NAME-theme, .layout-gt-md-row > md-divider.md-THEME_NAME-theme,.layout-lg-row > md-divider.md-THEME_NAME-theme, .layout-gt-lg-row > md-divider.md-THEME_NAME-theme,.layout-xl-row > md-divider.md-THEME_NAME-theme {  border-right-color: '{{foreground-4}}'; }md-icon.md-THEME_NAME-theme {  color: '{{foreground-2}}'; }  md-icon.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  md-icon.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  md-icon.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder {    color: '{{foreground-3}}'; }  md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder {    color: '{{foreground-3}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder {    color: '{{foreground-3}}'; }  md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: '{{foreground-3}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder {    color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme > md-icon {  color: '{{foreground-1}}'; }md-input-container.md-THEME_NAME-theme label,md-input-container.md-THEME_NAME-theme .md-placeholder {  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme label.md-required:after {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-focused):not(.md-input-invalid) label.md-required:after {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme .md-input-messages-animation, md-input-container.md-THEME_NAME-theme .md-input-message-animation {  color: '{{warn-A700}}'; }  md-input-container.md-THEME_NAME-theme .md-input-messages-animation .md-char-counter, md-input-container.md-THEME_NAME-theme .md-input-message-animation .md-char-counter {    color: '{{foreground-1}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input, md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-resized .md-input {  border-color: '{{primary-color}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon {  color: '{{primary-color}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-color}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent md-icon {  color: '{{accent-color}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn md-icon {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid label,md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input-message-animation,md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled],[disabled] md-input-container.md-THEME_NAME-theme .md-input {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, \"{{foreground-3}}\" 0%, \"{{foreground-3}}\" 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, \"{{foreground-3}}\" 100%); }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4 {  color: '{{foreground-1}}'; }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p {  color: '{{foreground-2}}'; }md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style {  background-color: '{{background-100}}'; }md-list.md-THEME_NAME-theme md-list-item .md-avatar-icon {  background-color: '{{foreground-3}}';  color: '{{background-color}}'; }md-list.md-THEME_NAME-theme md-list-item > md-icon {  color: '{{foreground-2}}'; }  md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight {    color: '{{primary-color}}'; }    md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight.md-accent {      color: '{{accent-color}}'; }md-menu-content.md-THEME_NAME-theme {  background-color: '{{background-A100}}'; }  md-menu-content.md-THEME_NAME-theme md-menu-item {    color: '{{background-A200-0.87}}'; }    md-menu-content.md-THEME_NAME-theme md-menu-item md-icon {      color: '{{background-A200-0.54}}'; }    md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled] {      color: '{{background-A200-0.25}}'; }      md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled] md-icon {        color: '{{background-A200-0.25}}'; }  md-menu-content.md-THEME_NAME-theme md-menu-divider {    background-color: '{{background-A200-0.11}}'; }md-menu-bar.md-THEME_NAME-theme > button.md-button {  color: '{{foreground-2}}';  border-radius: 2px; }md-menu-bar.md-THEME_NAME-theme md-menu.md-open > button, md-menu-bar.md-THEME_NAME-theme md-menu > button:focus {  outline: none;  background: '{{background-200}}'; }md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover > button {  background-color: '{{ background-500-0.2}}'; }md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus {  background: transparent; }md-menu-content.md-THEME_NAME-theme .md-menu > .md-button:after {  color: '{{background-A200-0.54}}'; }md-menu-content.md-THEME_NAME-theme .md-menu.md-open > .md-button {  background-color: '{{ background-500-0.2}}'; }md-toolbar.md-THEME_NAME-theme.md-menu-toolbar {  background-color: '{{background-A100}}';  color: '{{background-A200}}'; }  md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler {    background-color: '{{primary-color}}';    color: '{{background-A100-0.87}}'; }    md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon {      color: '{{background-A100-0.87}}'; }md-nav-bar.md-THEME_NAME-theme .md-nav-bar {  background-color: transparent;  border-color: '{{foreground-4}}'; }md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button.md-unselected {  color: '{{foreground-2}}'; }md-nav-bar.md-THEME_NAME-theme md-nav-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }.md-panel {  background-color: '{{background-900-0.0}}'; }  .md-panel._md-panel-backdrop.md-THEME_NAME-theme {    background-color: '{{background-900-1.0}}'; }md-progress-circular.md-THEME_NAME-theme path {  stroke: '{{primary-color}}'; }md-progress-circular.md-THEME_NAME-theme.md-warn path {  stroke: '{{warn-color}}'; }md-progress-circular.md-THEME_NAME-theme.md-accent path {  stroke: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient(\"{{warn-100}}\" 0%, \"{{warn-100}}\" 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient(\"{{accent-100}}\" 0%, \"{{accent-100}}\" 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-A700}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-group.md-THEME_NAME-theme[disabled],md-radio-button.md-THEME_NAME-theme[disabled] {  color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,  md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {    border-color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on,  md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {    border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple {  color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple, md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple {  color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme .md-checked.md-primary .md-ink-ripple {  color: '{{warn-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-input-container md-select.md-THEME_NAME-theme .md-select-value span:first-child:after {  color: '{{warn-A700}}'; }md-input-container:not(.md-input-focused):not(.md-input-invalid) md-select.md-THEME_NAME-theme .md-select-value span:first-child:after {  color: '{{foreground-3}}'; }md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value {  color: '{{primary-color}}'; }  md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder {    color: '{{primary-color}}'; }md-input-container.md-input-invalid md-select.md-THEME_NAME-theme .md-select-value {  color: '{{warn-A700}}' !important;  border-bottom-color: '{{warn-A700}}' !important; }md-input-container.md-input-invalid md-select.md-THEME_NAME-theme.md-no-underline .md-select-value {  border-bottom-color: transparent !important; }md-select.md-THEME_NAME-theme[disabled] .md-select-value {  border-bottom-color: transparent;  background-image: linear-gradient(to right, \"{{foreground-3}}\" 0%, \"{{foreground-3}}\" 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, \"{{foreground-3}}\" 100%); }md-select.md-THEME_NAME-theme .md-select-value {  border-bottom-color: '{{foreground-4}}'; }  md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder {    color: '{{foreground-3}}'; }  md-select.md-THEME_NAME-theme .md-select-value span:first-child:after {    color: '{{warn-A700}}'; }md-select.md-THEME_NAME-theme.md-no-underline .md-select-value {  border-bottom-color: transparent !important; }md-select.md-THEME_NAME-theme.ng-invalid.ng-touched .md-select-value {  color: '{{warn-A700}}' !important;  border-bottom-color: '{{warn-A700}}' !important; }md-select.md-THEME_NAME-theme.ng-invalid.ng-touched.md-no-underline .md-select-value {  border-bottom-color: transparent !important; }md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value {  border-bottom-color: '{{primary-color}}';  color: '{{ foreground-1 }}'; }  md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder {    color: '{{ foreground-1 }}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-no-underline .md-select-value {  border-bottom-color: transparent !important; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value {  border-bottom-color: '{{accent-color}}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value {  border-bottom-color: '{{warn-color}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-value {  color: '{{foreground-3}}'; }  md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder {    color: '{{foreground-3}}'; }md-select-menu.md-THEME_NAME-theme md-content {  background: '{{background-A100}}'; }  md-select-menu.md-THEME_NAME-theme md-content md-optgroup {    color: '{{background-600-0.87}}'; }  md-select-menu.md-THEME_NAME-theme md-content md-option {    color: '{{background-900-0.87}}'; }    md-select-menu.md-THEME_NAME-theme md-content md-option[disabled] .md-text {      color: '{{background-400-0.87}}'; }    md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):focus, md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):hover {      background: '{{background-200}}'; }    md-select-menu.md-THEME_NAME-theme md-content md-option[selected] {      color: '{{primary-500}}'; }      md-select-menu.md-THEME_NAME-theme md-content md-option[selected]:focus {        color: '{{primary-600}}'; }      md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent {        color: '{{accent-color}}'; }        md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent:focus {          color: '{{accent-A700}}'; }.md-checkbox-enabled.md-THEME_NAME-theme .md-ripple {  color: '{{primary-600}}'; }.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ripple {  color: '{{background-600}}'; }.md-checkbox-enabled.md-THEME_NAME-theme .md-ink-ripple {  color: '{{foreground-2}}'; }.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ink-ripple {  color: '{{primary-color-0.87}}'; }.md-checkbox-enabled.md-THEME_NAME-theme:not(.md-checked) .md-icon {  border-color: '{{foreground-2}}'; }.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon {  background-color: '{{primary-color-0.87}}'; }.md-checkbox-enabled.md-THEME_NAME-theme[selected].md-focused .md-container:before {  background-color: '{{primary-color-0.26}}'; }.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon:after {  border-color: '{{primary-contrast-0.87}}'; }.md-checkbox-enabled.md-THEME_NAME-theme .md-indeterminate[disabled] .md-container {  color: '{{foreground-3}}'; }.md-checkbox-enabled.md-THEME_NAME-theme md-option .md-text {  color: '{{background-900-0.87}}'; }md-sidenav.md-THEME_NAME-theme, md-sidenav.md-THEME_NAME-theme md-content {  background-color: '{{background-hue-1}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  color: '{{background-contrast}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  background-color: '{{accent-A200-0.2}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-color}}';  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-color}}';  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme.md-min .md-focus-ring {  background-color: '{{foreground-3-0.38}}'; }md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-thumb:after {  background-color: '{{background-contrast}}';  border-color: transparent; }md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign {  background-color: '{{background-400}}'; }  md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign:after {    border-top-color: '{{background-400}}'; }md-slider.md-THEME_NAME-theme.md-min[md-discrete][md-vertical] .md-sign:after {  border-top-color: transparent;  border-left-color: '{{background-400}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme[md-vertical] .md-sign:after {  border-top-color: transparent;  border-left-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring {  background-color: '{{warn-200-0.38}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn[md-vertical] .md-sign:after {  border-top-color: transparent;  border-left-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring {  background-color: '{{primary-200-0.38}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary[md-vertical] .md-sign:after {  border-top-color: transparent;  border-left-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: transparent; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after, md-slider.md-THEME_NAME-theme[disabled][md-discrete] .md-thumb:after {  background-color: '{{foreground-3}}';  border-color: transparent; }md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign {  background-color: '{{background-400}}'; }  md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign:after {    border-top-color: '{{background-400}}'; }md-slider.md-THEME_NAME-theme[disabled][readonly][md-vertical] .md-sign:after {  border-top-color: transparent;  border-left-color: '{{background-400}}'; }md-slider.md-THEME_NAME-theme[disabled][readonly] .md-disabled-thumb {  border-color: transparent;  background-color: transparent; }md-slider-container[disabled] > *:first-child:not(md-slider),md-slider-container[disabled] > *:last-child:not(md-slider) {  color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-default}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-ink-ripple {  color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before {  background-color: '{{accent-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-ink-ripple {  color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before {  background-color: '{{primary-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-ink-ripple {  color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before {  background-color: '{{warn-color-0.26}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: transparent;  border-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme .md-paginator md-icon {  color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme .md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme .md-tab[disabled], md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-active, md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon, md-tabs.md-THEME_NAME-theme .md-tab.md-focused, md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    background: '{{primary-color-0.1}}'; }  md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container {    color: '{{accent-A100}}'; }md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper {  background-color: '{{accent-color}}'; }  md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{accent-A100}}'; }    md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{accent-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{accent-contrast-0.1}}'; }  md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-ink-bar {    color: '{{primary-600-1}}';    background: '{{primary-600-1}}'; }md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper {  background-color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{primary-100}}'; }    md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{primary-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{primary-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper {  background-color: '{{warn-color}}'; }  md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{warn-100}}'; }    md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{warn-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{warn-contrast-0.1}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{primary-color}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{primary-100}}'; }    md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{primary-contrast}}'; }    md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{primary-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{accent-color}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{accent-A100}}'; }    md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{accent-contrast}}'; }    md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{accent-contrast-0.1}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-ink-bar {    color: '{{primary-600-1}}';    background: '{{primary-600-1}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{warn-color}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{warn-100}}'; }    md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{warn-contrast}}'; }    md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{warn-contrast-0.1}}'; }md-toast.md-THEME_NAME-theme .md-toast-content {  background-color: #323232;  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-toast-content .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight {      color: '{{accent-color}}'; }      md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-primary {        color: '{{primary-color}}'; }      md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn {        color: '{{warn-color}}'; }md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon {    color: '{{primary-contrast}}';    fill: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button[disabled] md-icon {    color: '{{primary-contrast-0.26}}';    fill: '{{primary-contrast-0.26}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-ink-ripple {      color: '{{accent-contrast}}'; }    md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent md-icon {      color: '{{accent-contrast}}';      fill: '{{accent-contrast}}'; }    md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-button[disabled] md-icon {      color: '{{accent-contrast-0.26}}';      fill: '{{accent-contrast-0.26}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-700-contrast}}'; }  md-tooltip.md-THEME_NAME-theme .md-content {    background-color: '{{background-700}}'; }/*  Only used with Theme processes */html.md-THEME_NAME-theme, body.md-THEME_NAME-theme {  color: '{{foreground-1}}';  background-color: '{{background-color}}'; }")}()}(window,window.angular);window.ngMaterial={version:{full:"1.1.1"}},function(n,t){"use strict";function i(n,i,r){var u=r.baseHref(),f=n[0];return function(n,r,e){var s,o;e=e||{};o=e.expires;s=t.isDefined(e.path)?e.path:u;t.isUndefined(r)&&(o="Thu, 01 Jan 1970 00:00:00 GMT",r="");t.isString(o)&&(o=new Date(o));r=encodeURIComponent(n)+"="+encodeURIComponent(r);r=r+(s?";path="+s:"")+(e.domain?";domain="+e.domain:"");r+=o?";expires="+o.toUTCString():"";r+=e.secure?";secure":"";e=r.length+1;e>4096&&i.warn("Cookie '"+n+"' possibly not set or overflowed because it was too large ("+e+" > 4096 bytes)!");f.cookie=r}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(i,r){return{get:function(n){return i()[n]},getObject:function(n){return(n=this.get(n))?t.fromJson(n):n},getAll:function(){return i()},put:function(i,u,f){r(i,u,f?t.extend({},n,f):n)},putObject:function(n,i,r){this.put(n,t.toJson(i),r)},remove:function(i,u){r(i,void 0,u?t.extend({},n,u):n)}}}]}]);t.module("ngCookies").factory("$cookieStore",["$cookies",function(n){return{get:function(t){return n.getObject(t)},put:function(t,i){n.putObject(t,i)},remove:function(t){n.remove(t)}}}]);i.$inject=["$document","$log","$browser"];t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=i})}(window,window.angular),function(n,t){"use strict";function r(){return["$animate",function(n){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(t,i,r,f,e){var h,c=i[0],a=r.ngMessage||r.when,s,o,l;r=r.ngMessageExp||r.whenExp;s=function(n){h=n?u(n)?n:n.split(/[\s,]+/):null;f.reRender()};r?(s(t.$eval(r)),t.$watchCollection(r,s)):s(a);f.register(c,l={test:function(n){var t=h;if(t)return u(t)?0<=t.indexOf(n):t.hasOwnProperty(n)},attach:function(){o||e(t,function(t){n.enter(t,null,i);o=t;var r=o.$$attachId=f.getAttachId();o.on("$destroy",function(){o&&o.$$attachId===r&&(f.deregister(c),l.detach())})})},detach:function(){if(o){var t=o;o=null;n.leave(t)}}})}}}]}var u=t.isArray,i=t.forEach,f=t.isString,e=t.element;t.module("ngMessages",[]).directive("ngMessages",["$animate",function(n){function t(n,t){return f(t)&&0===t.length||r(n.$eval(t))}function r(n){return f(n)?n.length:!!n}return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(u,f,e){function l(n,t){for(var u,i=t,r=[];i&&i!==n;){if(u=i.$$ngMessageNode,u&&u.length)return s[u];i.childNodes.length&&-1==r.indexOf(i)?(r.push(i),i=i.childNodes[i.childNodes.length-1]):i.previousSibling?i=i.previousSibling:(i=i.parentNode,r.push(i))}}var o=this,a=0,v=0,h,c,s;this.getAttachId=function(){return v++};s=this.messages={};this.render=function(s){var a,v;s=s||{};h=!1;c=s;for(var k=t(f,e.ngMessagesMultiple)||t(f,e.multiple),y=[],p={},l=o.head,w=!1,b=0;null!=l;)b++,a=l.message,v=!1,w||i(s,function(n,t){!v&&r(n)&&a.test(t)&&!p[t]&&(v=p[t]=!0,a.attach())}),v?w=!k:y.push(a),l=l.next;i(y,function(n){n.detach()});y.length!==b?n.setClass(u,"ng-active","ng-inactive"):n.setClass(u,"ng-inactive","ng-active")};f.$watchCollection(e.ngMessages||e["for"],o.render);u.on("$destroy",function(){i(s,function(n){n.message.detach()})});this.reRender=function(){h||(h=!0,f.$evalAsync(function(){h&&c&&o.render(c)}))};this.register=function(n,t){var f=a.toString(),r,i;s[f]={message:t};r=u[0];i=s[f];o.head?(r=l(r,n))?(i.next=r.next,r.next=i):(i.next=o.head,o.head=i):o.head=i;n.$$ngMessageNode=f;a++;o.reRender()};this.deregister=function(n){var i=n.$$ngMessageNode,t;delete n.$$ngMessageNode;t=s[i];(n=l(u[0],n))?n.next=t.next:o.head=t.next;delete s[i];o.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(n,t,i){return{restrict:"AE",require:"^^ngMessages",link:function(r,u,f){var o=f.ngMessagesInclude||f.src;n(o).then(function(n){i(n)(r,function(n){u.after(n);n=i.$$createComment?i.$$createComment("ngMessagesInclude",o):t[0].createComment(" ngMessagesInclude: "+o+" ");n=e(n);u.after(n);u.remove()})})}}}]).directive("ngMessage",r()).directive("ngMessageExp",r())}(window,window.angular),function(n,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function t(n){"use strict";var i=n.storageKey(),t=n.storage(),r=function(){var r=n.preferredLanguage();angular.isString(r)?n.use(r):t.put(i,n.use())};r.displayName="fallbackFromIncorrectStorageValue";t?t.get(i)?n.use(t.get(i))["catch"](r):r():angular.isString(n.preferredLanguage())&&n.use(n.preferredLanguage())}function c(){"use strict";var t,n,i=null,u=!1,f=!1;n={sanitize:function(n,t){return"text"===t&&(n=o(n)),n},escape:function(n,t){return"text"===t&&(n=e(n)),n},sanitizeParameters:function(n,t){return"params"===t&&(n=r(n,o)),n},escapeParameters:function(n,t){return"params"===t&&(n=r(n,e)),n}};n.escaped=n.escapeParameters;this.addStrategy=function(t,i){return n[t]=i,this};this.removeStrategy=function(t){return delete n[t],this};this.useStrategy=function(n){return u=!0,i=n,this};this.$get=["$injector","$log",function(r,e){var o={},s=function(t,i,u){return angular.forEach(u,function(u){if(angular.isFunction(u))t=u(t,i);else if(angular.isFunction(n[u]))t=n[u](t,i);else{if(!angular.isString(n[u]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+u+"'");if(!o[n[u]])try{o[n[u]]=r.get(n[u])}catch(f){throw o[n[u]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+u+"'");}t=o[n[u]](t,i)}}),t},h=function(){u||f||(e.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),f=!0)};return r.has("$sanitize")&&(t=r.get("$sanitize")),{useStrategy:function(n){return function(t){n.useStrategy(t)}}(this),sanitize:function(n,t,r){if(i||h(),arguments.length<3&&(r=i),!r)return n;var u=angular.isArray(r)?r:[r];return s(n,t,u)}}}];var e=function(n){var t=angular.element("<div><\/div>");return t.text(n),t.html()},o=function(n){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(n)},r=function(n,t,i){if(angular.isObject(n)){var u=angular.isArray(n)?[]:{};if(i){if(i.indexOf(n)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object");}else i=[];return i.push(n),angular.forEach(n,function(n,f){angular.isFunction(n)||(u[f]=r(n,t,i))}),i.splice(-1,1),u}return angular.isNumber(n)?n:t(n)}}function i(n,t,i,r){"use strict";var o,v,u,it,f,y,p,ft,s,wt,h,et,d,g,w,bt,e={},c=[],rt=n,ot=[],st="translate-cloak",kt=!1,ut=!1,b=".",ht=!1,dt=!1,ct=0,lt=!0,at="default",gt={"default":function(n){return(n||"").split("-").join("_")},java:function(n){var i=(n||"").split("-").join("_"),t=i.split("_");return t.length>1?t[0].toLowerCase()+"_"+t[1].toUpperCase():i},bcp47:function(n){var i=(n||"").split("_").join("-"),t=i.split("-");return t.length>1?t[0].toLowerCase()+"-"+t[1].toUpperCase():i},"iso639-1":function(n){var t=(n||"").split("_").join("-"),i=t.split("-");return i[0].toLowerCase()}},ii="2.11.1",ni=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var n,i,u=t.$get().navigator,f=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(u.languages))for(n=0;n<u.languages.length;n++)if(i=u.languages[n],i&&i.length)return i;for(n=0;n<f.length;n++)if(i=u[f[n]],i&&i.length)return i;return null},nt,k,vt,yt,pt;ni.displayName="angular-translate/service: getFirstBrowserLanguage";nt=function(){var n=ni()||"";return gt[at]&&(n=gt[at](n)),n};nt.displayName="angular-translate/service: getLocale";var l=function(n,t){for(var i=0,r=n.length;r>i;i++)if(n[i]===t)return i;return-1},ti=function(){return this.toString().replace(/^\s+|\s+$/g,"")},tt=function(n){var f,t,e,o,r;if(n){for(var i=[],s=angular.lowercase(n),u=0,h=c.length;h>u;u++)i.push(angular.lowercase(c[u]));if(l(i,s)>-1)return n;if(v)for(t in v)if(v.hasOwnProperty(t)&&(e=!1,o=Object.prototype.hasOwnProperty.call(v,t)&&angular.lowercase(t)===angular.lowercase(n),"*"===t.slice(-1)&&(e=t.slice(0,-1)===n.slice(0,t.length-1)),(o||e)&&(f=v[t],l(i,angular.lowercase(f))>-1)))return f;return r=n.split("_"),r.length>1&&l(i,angular.lowercase(r[0]))>-1?r[0]:void 0}},a=function(n,t){if(!n&&!t)return e;if(n&&!t){if(angular.isString(n))return e[n]}else angular.isObject(e[n])||(e[n]={}),angular.extend(e[n],k(t));return this};this.translations=a;this.cloakClassName=function(n){return n?(st=n,this):st};this.nestedObjectDelimeter=function(n){return n?(b=n,this):b};k=function(n,t,i,r){var u,e,o,f;t||(t=[]);i||(i={});for(u in n)Object.prototype.hasOwnProperty.call(n,u)&&(f=n[u],angular.isObject(f)?k(f,t.concat(u),i,u):(e=t.length?""+t.join(b)+b+u:u,t.length&&u===r&&(o=""+t.join(b),i[o]="@:"+e),i[e]=f));return i};k.displayName="flatObject";this.addInterpolation=function(n){return ot.push(n),this};this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")};this.useInterpolation=function(n){return wt=n,this};this.useSanitizeValueStrategy=function(n){return i.useStrategy(n),this};this.preferredLanguage=function(n){return n?(vt(n),this):o};vt=function(n){return n&&(o=n),o};this.translationNotFoundIndicator=function(n){return this.translationNotFoundIndicatorLeft(n),this.translationNotFoundIndicatorRight(n),this};this.translationNotFoundIndicatorLeft=function(n){return n?(d=n,this):d};this.translationNotFoundIndicatorRight=function(n){return n?(g=n,this):g};this.fallbackLanguage=function(n){return yt(n),this};yt=function(n){return n?(angular.isString(n)?(it=!0,u=[n]):angular.isArray(n)&&(it=!1,u=n),angular.isString(o)&&l(u,o)<0&&u.push(o),this):it?u[0]:u};this.use=function(n){if(n){if(!e[n]&&!h)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+n+"'");return f=n,this}return f};this.resolveClientLocale=function(){return nt()};pt=function(n){return n?(rt=n,this):ft?ft+rt:rt};this.storageKey=pt;this.useUrlLoader=function(n,t){return this.useLoader("$translateUrlLoader",angular.extend({url:n},t))};this.useStaticFilesLoader=function(n){return this.useLoader("$translateStaticFilesLoader",n)};this.useLoader=function(n,t){return h=n,et=t||{},this};this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")};this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")};this.useStorage=function(n){return p=n,this};this.storagePrefix=function(n){return n?(ft=n,this):n};this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")};this.useMissingTranslationHandler=function(n){return s=n,this};this.usePostCompiling=function(n){return kt=!!n,this};this.forceAsyncReload=function(n){return ut=!!n,this};this.uniformLanguageTag=function(n){return n?angular.isString(n)&&(n={standard:n}):n={},at=n.standard,this};this.determinePreferredLanguage=function(n){var t=n&&angular.isFunction(n)?n():nt();return o=c.length?tt(t)||t:t,this};this.registerAvailableLanguageKeys=function(n,t){return n?(c=n,t&&(v=t),this):c};this.useLoaderCache=function(n){return n===!1?w=void 0:n===!0?w=!0:"undefined"==typeof n?w="$translationCache":n&&(w=n),this};this.directivePriority=function(n){return void 0===n?ct:(ct=n,this)};this.statefulFilter=function(n){return void 0===n?lt:(lt=n,this)};this.postProcess=function(n){return bt=n?n:void 0,this};this.keepContent=function(n){return dt=!!n,this};this.$get=["$log","$injector","$rootScope","$q",function(n,t,i,r){var ri,fi,ui,hi=t.get(wt||"$translateDefaultInterpolation"),at=!1,gt={},ft={},v=function(n,t,i,e,s){var c,w,h,a,y;return(!f&&o&&(f=o),c=s&&s!==f?tt(s)||s:f,s&&ir(s),angular.isArray(n))?(w=function(n){for(var f={},o=[],h=function(n){var u=r.defer(),o=function(t){f[n]=t;u.resolve([n,t])};return v(n,t,i,e,s).then(o,o),u.promise},u=0,c=n.length;c>u;u++)o.push(h(n[u]));return r.all(o).then(function(){return f})},w(n)):(h=r.defer(),n&&(n=ti.apply(n)),a=function(){var n=o?ft[o]:ft[c],t,i;return(fi=0,p&&!n)&&(t=ri.get(rt),(n=ft[t],u&&u.length)&&(i=l(u,t),fi=0===i?1:0,l(u,o)<0&&u.push(o))),n}(),a?(y=function(){s||(c=f);nr(n,t,i,e,c).then(h.resolve,h.reject)},y.displayName="promiseResolved",a["finally"](y)):nr(n,t,i,e,c).then(h.resolve,h.reject),h.promise)},ci=function(n){return d&&(n=[d,n].join(" ")),g&&(n=[n,g].join(" ")),n},ei=function(n){f=n;p&&ri.put(v.storageKey(),f);i.$emit("$translateChangeSuccess",{language:n});hi.setLocale(f);var t=function(n,t){gt[t].setLocale(f)};t.displayName="eachInterpolatorLocaleSetter";angular.forEach(gt,t);i.$emit("$translateChangeEnd",{language:n})},ni=function(n){var f,u,s,e,o;if(!n)throw"No language key specified for loading.";return f=r.defer(),i.$emit("$translateLoadingStart",{language:n}),at=!0,u=w,"string"==typeof u&&(u=t.get(u)),s=angular.extend({},et,{key:n,$http:angular.extend({},{cache:u},et.$http)}),e=function(t){var r={};i.$emit("$translateLoadingSuccess",{language:n});angular.isArray(t)?angular.forEach(t,function(n){angular.extend(r,k(n))}):angular.extend(r,k(t));at=!1;f.resolve({key:n,table:r});i.$emit("$translateLoadingEnd",{language:n})},e.displayName="onLoaderSuccess",o=function(n){i.$emit("$translateLoadingError",{language:n});f.reject(n);i.$emit("$translateLoadingEnd",{language:n})},o.displayName="onLoaderError",t.get(h)(s).then(e,o),f.promise},vi,si,yi,pi,ai;if(p&&(ri=t.get(p),!ri.get||!ri.put))throw new Error("Couldn't use storage '"+p+"', missing get() or put() method!");ot.length&&(vi=function(n){var i=t.get(n);i.setLocale(o||f);gt[i.getInterpolationIdentifier()]=i},vi.displayName="interpolationFactoryAdder",angular.forEach(ot,vi));var rr=function(n){var t=r.defer(),i;return Object.prototype.hasOwnProperty.call(e,n)?t.resolve(e[n]):ft[n]?(i=function(n){a(n.key,n.table);t.resolve(n.table)},i.displayName="translationTableResolver",ft[n].then(i,t.reject)):t.reject(),t.promise},bi=function(n,t,i,u){var e=r.defer(),o=function(r){var s,o;Object.prototype.hasOwnProperty.call(r,t)?(u.setLocale(n),s=r[t],"@:"===s.substr(0,2)?bi(n,s.substr(2),i,u).then(e.resolve,e.reject):(o=u.interpolate(r[t],i),o=li(t,r[t],o,i,n),e.resolve(o)),u.setLocale(f)):e.reject()};return o.displayName="fallbackTranslationResolver",rr(n).then(o,e.reject),e.promise},ki=function(n,t,i,r){var u,o=e[n];if(o&&Object.prototype.hasOwnProperty.call(o,t)){if(r.setLocale(n),u=r.interpolate(o[t],i),u=li(t,o[t],u,i,n),"@:"===u.substr(0,2))return ki(n,u.substr(2),i,r);r.setLocale(f)}return u},oi=function(n,i,r){if(s){var u=t.get(s)(n,f,i,r);return void 0!==u?u:n}return n},di=function(n,t,i,f,e){var o=r.defer(),h;return n<u.length?(h=u[n],bi(h,t,i,f).then(function(n){o.resolve(n)},function(){return di(n+1,t,i,f,e).then(o.resolve,o.reject)})):e?o.resolve(e):s?o.resolve(oi(t,i)):o.reject(oi(t,i)),o.promise},gi=function(n,t,i,r){var f,e;return n<u.length&&(e=u[n],f=ki(e,t,i,r),f||(f=gi(n+1,t,i,r))),f},ur=function(n,t,i,r){return di(ui>0?ui:fi,n,t,i,r)},fr=function(n,t,i){return gi(ui>0?ui:fi,n,t,i)},nr=function(n,t,i,f,o){var h=r.defer(),a=o?e[o]:e,p=i?gt[i]:hi,c,l,y;return a&&Object.prototype.hasOwnProperty.call(a,n)?(c=a[n],"@:"===c.substr(0,2)?v(c.substr(2),t,i,f,o).then(h.resolve,h.reject):(l=p.interpolate(c,t),l=li(n,c,l,t,o),h.resolve(l))):(s&&!at&&(y=oi(n,t,f)),o&&u&&u.length?ur(n,t,p,f).then(function(n){h.resolve(n)},function(n){h.reject(ci(n))}):s&&!at&&y?f?h.resolve(f):h.resolve(y):f?h.resolve(f):h.reject(ci(n))),h.promise},tr=function(n,t,i,r){var f,h=r?e[r]:e,c=hi,o,l;return(gt&&Object.prototype.hasOwnProperty.call(gt,i)&&(c=gt[i]),h&&Object.prototype.hasOwnProperty.call(h,n))?(o=h[n],"@:"===o.substr(0,2)?f=tr(o.substr(2),t,i,r):(f=c.interpolate(o,t),f=li(n,o,f,t,r))):(s&&!at&&(l=oi(n,t)),r&&u&&u.length?(fi=0,f=fr(n,t,c)):f=s&&!at&&l?l:ci(n)),f},er=function(n){y===n&&(y=void 0);ft[n]=void 0},li=function(n,i,r,u,f){var e=bt;return e&&("string"==typeof e&&(e=t.get(e)),e)?e(n,i,r,u,f):r},ir=function(n){e[n]||!h||ft[n]||(ft[n]=ni(n).then(function(n){return a(n.key,n.table),n}))};if(v.preferredLanguage=function(n){return n&&vt(n),o},v.cloakClassName=function(){return st},v.nestedObjectDelimeter=function(){return b},v.fallbackLanguage=function(n){if(void 0!==n&&null!==n){if(yt(n),h&&u&&u.length)for(var t=0,i=u.length;i>t;t++)ft[u[t]]||(ft[u[t]]=ni(u[t]));v.use(v.use())}return it?u[0]:u},v.useFallbackLanguage=function(n){if(void 0!==n&&null!==n)if(n){var t=l(u,n);t>-1&&(ui=t)}else ui=0},v.proposedLanguage=function(){return y},v.storage=function(){return ri},v.negotiateLocale=tt,v.use=function(n){var t,o;return n?(t=r.defer(),i.$emit("$translateChangeStart",{language:n}),o=tt(n),c.length>0&&!o?r.reject(n):(o&&(n=o),y=n,!ut&&e[n]||!h||ft[n]?ft[n]?ft[n].then(function(n){return y===n.key&&ei(n.key),t.resolve(n.key),n},function(n){return!f&&u&&u.length>0?v.use(u[0]).then(t.resolve,t.reject):t.reject(n)}):(t.resolve(n),ei(n)):(ft[n]=ni(n).then(function(i){return a(i.key,i.table),t.resolve(i.key),y===n&&ei(i.key),i},function(n){return i.$emit("$translateChangeError",{language:n}),t.reject(n),i.$emit("$translateChangeEnd",{language:n}),r.reject(n)}),ft[n]["finally"](function(){er(n)})),t.promise)):f},v.resolveClientLocale=function(){return nt()},v.storageKey=function(){return pt()},v.isPostCompilingEnabled=function(){return kt},v.isForceAsyncReloadEnabled=function(){return ut},v.isKeepContent=function(){return dt},v.refresh=function(n){function p(){o.resolve();i.$emit("$translateRefreshEnd",{language:n})}function c(){o.reject();i.$emit("$translateRefreshEnd",{language:n})}var o,l,s,v,t,w,y;if(!h)throw new Error("Couldn't refresh translation table, no loader registered!");if(o=r.defer(),i.$emit("$translateRefreshStart",{language:n}),n)e[n]?(l=function(t){return a(t.key,t.table),n===f&&ei(f),p(),t},l.displayName="refreshPostProcessor",ni(n).then(l,c)):c();else{if(s=[],v={},u&&u.length)for(t=0,w=u.length;w>t;t++)s.push(ni(u[t])),v[u[t]]=!0;f&&!v[f]&&s.push(ni(f));y=function(n){e={};angular.forEach(n,function(n){a(n.key,n.table)});f&&ei(f);p()};y.displayName="refreshPostProcessor";r.all(s).then(y,c)}return o.promise},v.instant=function(n,t,i,r){var y=r&&r!==f?tt(r)||r:f,h,c,a,b,p;if(null===n||angular.isUndefined(n))return n;if(r&&ir(r),angular.isArray(n)){for(var w={},l=0,k=n.length;k>l;l++)w[n[l]]=v.instant(n[l],t,i,r);return w}if(angular.isString(n)&&n.length<1)return n;for(n&&(n=ti.apply(n)),c=[],o&&c.push(o),y&&c.push(y),u&&u.length&&(c=c.concat(u)),a=0,b=c.length;b>a;a++)if(p=c[a],e[p]&&"undefined"!=typeof e[p][n]&&(h=tr(n,t,i,y)),"undefined"!=typeof h)break;return h||""===h||(d||g?h=ci(n):(h=hi.interpolate(n,t),s&&!at&&(h=oi(n,t)))),h},v.versionInfo=function(){return ii},v.loaderCache=function(){return w},v.directivePriority=function(){return ct},v.statefulFilter=function(){return lt},v.isReady=function(){return ht},si=r.defer(),si.promise.then(function(){ht=!0}),v.onReady=function(n){var t=r.defer();return angular.isFunction(n)&&t.promise.then(n),ht?t.resolve():si.promise.then(t.resolve),t.promise},v.getAvailableLanguageKeys=function(){return c.length>0?c:null},yi=i.$on("$translateReady",function(){si.resolve();yi();yi=null}),pi=i.$on("$translateChangeEnd",function(){si.resolve();pi();pi=null}),h){if(angular.equals(e,{})&&v.use()&&v.use(v.use()),u&&u.length)for(var or=function(n){return a(n.key,n.table),i.$emit("$translateChangeEnd",{language:n.key}),n},wi=0,sr=u.length;sr>wi;wi++)ai=u[wi],!ut&&e[ai]||(ft[ai]=ni(ai).then(or))}else i.$emit("$translateReady",{language:v.use()});return v}]}function r(n,t){"use strict";var r,i={},u="default";return i.setLocale=function(n){r=n},i.getInterpolationIdentifier=function(){return u},i.useSanitizeValueStrategy=function(n){return t.useStrategy(n),this},i.interpolate=function(i,r){r=r||{};r=t.sanitize(r,"params");var u;return angular.isNumber(i)?u=""+i:angular.isString(i)?(u=n(i)(r),u=t.sanitize(u,"text")):u="",u},i}function u(t,i,r,u,f,e){"use strict";var o=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(i,s){var c=s.translateValues?s.translateValues:void 0,l=s.translateInterpolation?s.translateInterpolation:void 0,h=i[0].outerHTML.match(/translate-value-+/i),a="^(.*)("+r.startSymbol()+".*"+r.endSymbol()+")(.*)",v="^(.*)"+r.startSymbol()+"(.*)"+r.endSymbol()+"(.*)";return function(i,y,p){var nt,g,it,d,rt,ut;i.interpolateParams={};i.preText="";i.postText="";i.translateNamespace=n(i);var w={},ft=function(n,t,r){var u,e;if(t.translateValues&&angular.extend(n,f(t.translateValues)(i.$parent)),h)for(u in r)Object.prototype.hasOwnProperty.call(t,u)&&"translateValue"===u.substr(0,14)&&"translateValues"!==u&&(e=angular.lowercase(u.substr(14,1))+u.substr(15),n[e]=r[u])},k=function(n){var t,u,f;(angular.isFunction(k._unwatchOld)&&(k._unwatchOld(),k._unwatchOld=void 0),angular.equals(n,"")||!angular.isDefined(n))?(t=o.apply(y.text()),u=t.match(a),angular.isArray(u)?(i.preText=u[1],i.postText=u[3],w.translate=r(u[2])(i.$parent),f=t.match(v),angular.isArray(f)&&f[2]&&f[2].length&&(k._unwatchOld=i.$watch(f[2],function(n){w.translate=n;b()}))):w.translate=t?t:void 0):w.translate=n;b()},et=function(n){p.$observe(n,function(t){w[n]=t;b()})};ft(i.interpolateParams,p,s);nt=!0;p.$observe("translate",function(n){"undefined"==typeof n?k(""):""===n&&nt||(w.translate=n,b());nt=!1});for(g in p)p.hasOwnProperty(g)&&"translateAttr"===g.substr(0,13)&&et(g);if(p.$observe("translateDefault",function(n){i.defaultText=n;b()}),c&&p.$observe("translateValues",function(n){n&&i.$parent.$watch(function(){angular.extend(i.interpolateParams,f(n)(i.$parent))})}),h){it=function(n){p.$observe(n,function(t){var r=angular.lowercase(n.substr(14,1))+n.substr(15);i.interpolateParams[r]=t})};for(d in p)Object.prototype.hasOwnProperty.call(p,d)&&"translateValue"===d.substr(0,14)&&"translateValues"!==d&&it(d)}var b=function(){for(var n in w)w.hasOwnProperty(n)&&void 0!==w[n]&&ot(n,w[n],i,i.interpolateParams,i.defaultText,i.translateNamespace)},ot=function(n,i,r,u,f,e){i?(e&&"."===i.charAt(0)&&(i=e+i),t(i,u,l,f,r.translateLanguage).then(function(t){tt(t,r,!0,n)},function(t){tt(t,r,!1,n)})):tt(i,r,!1,n)},tt=function(n,i,r,f){var e;if(r||"undefined"!=typeof i.defaultText&&(n=i.defaultText),"translate"===f){!r&&(r||t.isKeepContent()||"undefined"!=typeof p.translateKeepContent)||y.empty().append(i.preText+n+i.postText);var h=t.isPostCompilingEnabled(),o="undefined"!=typeof s.translateCompile,c=o&&"false"!==s.translateCompile;(h&&!o||c)&&u(y.contents())(i)}else e=p.$attr[f],"data-"===e.substr(0,5)&&(e=e.substr(5)),e=e.substr(15),y.attr(e,n)};(c||h||p.translateDefault)&&i.$watch("interpolateParams",b,!0);rt=i.$on("translateLanguageChanged",b);ut=e.$on("$translateChangeSuccess",b);y.text().length?k(p.translate?p.translate:""):p.translate&&k(p.translate);b();i.$on("$destroy",function(){rt();ut()})}}}}function n(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?n(t.$parent):void 0}function f(n,t){"use strict";return{compile:function(i){var r=function(){i.addClass(n.cloakClassName())},u=function(){i.removeClass(n.cloakClassName())};return n.onReady(function(){u()}),r(),function(i,f,e){e.translateCloak&&e.translateCloak.length&&(e.$observe("translateCloak",function(t){n(t).then(u,r)}),t.$on("$translateChangeSuccess",function(){n(e.translateCloak).then(u,r)}))}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,i,r){t.translateNamespace=n(t);t.translateNamespace&&"."===r.translateNamespace.charAt(0)?t.translateNamespace+=r.translateNamespace:t.translateNamespace=r.translateNamespace}}}}}function n(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?n(t.$parent):void 0}function h(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(n,t,i){i.$observe("translateLanguage",function(t){n.translateLanguage=t});n.$watch("translateLanguage",function(){n.$broadcast("translateLanguageChanged")})}}}}function e(n,t){"use strict";var i=function(i,r,u,f){return angular.isObject(r)||(r=n(r)(this)),t.instant(i,r,u,f)};return t.statefulFilter()&&(i.$stateful=!0),i}function o(n){"use strict";return n("translations")}return t.$inject=["$translate"],i.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],r.$inject=["$interpolate","$translateSanitization"],u.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],f.$inject=["$translate","$rootScope"],e.$inject=["$parse","$translate"],o.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",c),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",i),i.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",r),r.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",u),u.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",f),f.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",s),s.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",h),h.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",e),e.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",o),o.displayName="$translationCache","pascalprecht.translate"}),function(n,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function n(n,t){"use strict";return function(i){if(!(i&&(angular.isArray(i.files)||angular.isString(i.prefix)&&angular.isString(i.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");i.files||(i.files=[{prefix:i.prefix,suffix:i.suffix}]);for(var f=function(r){if(!r||!angular.isString(r.prefix)||!angular.isString(r.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var u=[r.prefix,i.key,r.suffix].join("");return angular.isObject(i.fileMap)&&i.fileMap[u]&&(u=i.fileMap[u]),t(angular.extend({url:u,method:"GET",params:""},i.$http)).then(function(n){return n.data},function(){return n.reject(i.key)})},u=[],e=i.files.length,r=0;e>r;r++)u.push(f({prefix:i.files[r].prefix,key:i.key,suffix:i.files[r].suffix}));return n.all(u).then(function(n){for(var i,u=n.length,r={},t=0;u>t;t++)for(i in n[t])r[i]=n[t][i];return r})}}return n.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",n),n.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),function(n,t){"use strict";function v(){var n=!1;this.$get=["$$sanitizeUri",function(i){return n&&t.extend(f,tt),function(n){var t=[];return p(n,o(t,function(n,t){return!/^unsafe:/.test(i(n,t))})),t.join("")}}];this.enableSvg=function(i){return t.isDefined(i)?(n=i,this):n}}function y(n){var i=[],r=o(i,t.noop);return r.chars(n),i.join("")}function r(n,i){for(var f={},u=n.split(","),r=0;r<u.length;r++)f[i?t.lowercase(u[r]):u[r]]=!0;return f}function p(t,r){var o,f,e;null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t);i.innerHTML=t;o=5;do{if(0===o)throw s("uinput","Failed to sanitize html because the input is unstable");o--;n.document.documentMode&&u(i);t=i.innerHTML;i.innerHTML=t}while(t!==i.innerHTML);for(f=i.firstChild;f;){switch(f.nodeType){case 1:r.start(f.nodeName.toLowerCase(),w(f.attributes));break;case 3:r.chars(f.textContent)}if(!(e=f.firstChild)&&(1==f.nodeType&&r.end(f.nodeName.toLowerCase()),e=f.nextSibling,!e))for(;null==e&&(f=f.parentNode,f!==i);)e=f.nextSibling,1==f.nodeType&&r.end(f.nodeName.toLowerCase());f=e}for(;f=i.firstChild;)i.removeChild(f)}function w(n){for(var i,r={},t=0,u=n.length;u>t;t++)i=n[t],r[i.name]=i.value;return r}function e(n){return n.replace(/&/g,"&amp;").replace(b,function(n){var t=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+(1024*(t-55296)+(i-56320)+65536)+";"}).replace(k,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(n,i){var u=!1,r=t.bind(n,n.push);return{start:function(n,o){n=t.lowercase(n);!u&&it[n]&&(u=n);u||f[n]!==!0||(r("<"),r(n),t.forEach(o,function(u,f){var o=t.lowercase(f),s="img"===n&&"src"===o||"background"===o;ft[o]===!0&&(a[o]!==!0||i(u,s))&&(r(" "),r(f),r('="'),r(e(u)),r('"'))}),r(">"))},end:function(n){n=t.lowercase(n);u||f[n]!==!0||h[n]===!0||(r("<\/"),r(n),r(">"));n==u&&(u=!1)},chars:function(n){u||r(e(n))}}}function u(t){var f,e,i;if(t.nodeType===n.Node.ELEMENT_NODE)for(var o=t.attributes,r=0,s=o.length;s>r;r++)f=o[r],e=f.name.toLowerCase(),"xmlns:ns1"!==e&&0!==e.indexOf("ns1:")||(t.removeAttributeNode(f),r--,s--);i=t.firstChild;i&&u(i);i=t.nextSibling;i&&u(i)}var i,s=t.$$minErr("$sanitize"),b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,k=/([^\#-~ |!])/g,h=r("area,br,col,hr,img,wbr"),c=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),l=r("rp,rt"),d=t.extend({},l,c),g=t.extend({},c,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),nt=t.extend({},l,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),tt=r("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),it=r("script,style"),f=t.extend({},h,g,nt,d),a=r("background,cite,href,longdesc,src,xlink:href"),rt=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),ut=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),ft=t.extend({},a,ut,rt);!function(n){var t,f,r,u;if(!n.document||!n.document.implementation)throw s("noinert","Can't create an inert html document");t=n.document.implementation.createHTMLDocument("inert");f=t.documentElement||t.getDocumentElement();r=f.getElementsByTagName("body");1===r.length?i=r[0]:(u=t.createElement("html"),i=t.createElement("body"),u.appendChild(i),t.appendChild(u))}(n);t.module("ngSanitize",[]).provider("$sanitize",v);t.module("ngSanitize").filter("linky",["$sanitize",function(n){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,u=t.$$minErr("linky"),f=t.isString;return function(e,o,s){function v(n){n&&c.push(y(n))}function w(n,i){var r;if(c.push("<a "),t.isFunction(s)&&(s=s(n)),t.isObject(s))for(r in s)c.push(r+'="'+s[r]+'" ');else s={};!t.isDefined(o)||"target"in s||c.push('target="',o,'" ');c.push('href="',n.replace(/"/g,"&quot;"),'">');v(i);c.push("<\/a>")}if(null==e||""===e)return e;if(!f(e))throw u("notstring","Expected string but received: {0}",e);for(var h,a,p,l=e,c=[];h=l.match(i);)a=h[0],h[2]||h[4]||(a=(h[3]?"http://":"mailto:")+a),p=h.index,v(l.substr(0,p)),w(a,h[0].replace(r,"")),l=l.substring(p+h[0].length);return v(l),n(c.join(""))}}])}(window,window.angular);angular.module("isteven-multi-select",["ng"]).directive("istevenMultiSelect",["$sce","$timeout","$templateCache",function(n,t){return{restrict:"AE",scope:{inputModel:"=",outputModel:"=",isDisabled:"=",onClear:"&",onClose:"&",onSearchChange:"&",onItemClick:"&",onOpen:"&",onReset:"&",onSelectAll:"&",onSelectNone:"&",translation:"="},templateUrl:"isteven-multi-select.htm",link:function(i,r,u){function b(n){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",i="",r=0;n>r;r++)i+=t.charAt(Math.floor(Math.random()*t.length));return i}var v,w,l,y,p;i.backUp=[];i.varButtonLabel="";i.spacingProperty="";i.indexProperty="";i.orientationH=!1;i.orientationV=!0;i.filteredModel=[];i.inputLabel={labelFilter:""};i.tabIndex=0;i.lang={};i.helperStatus={all:!0,none:!0,reset:!0,filter:!0};var e=0,c=[],o=0,s="",f=[],a=0,h=null;i.clearClicked=function(n){i.inputLabel.labelFilter="";i.updateFilter();i.select("clear",n)};i.numberToArray=function(n){return new Array(n)};i.searchChanged=function(){return i.inputLabel.labelFilter.length<a&&i.inputLabel.labelFilter.length>0?!1:void i.updateFilter()};i.updateFilter=function(){var n,f,r;if(i.filteredModel=[],n=0,"undefined"==typeof i.inputModel)return!1;for(n=i.inputModel.length-1;n>=0;n--){if("undefined"!=typeof i.inputModel[n][u.groupProperty]&&i.inputModel[n][u.groupProperty]===!1&&i.filteredModel.push(i.inputModel[n]),f=!1,"undefined"==typeof i.inputModel[n][u.groupProperty]){if("undefined"!=typeof u.searchProperty&&""!==u.searchProperty){for(r in i.inputModel[n])if("boolean"!=typeof i.inputModel[n][r]&&String(i.inputModel[n][r]).toUpperCase().indexOf(i.inputLabel.labelFilter.toUpperCase())>=0&&u.searchProperty.indexOf(r)>-1){f=!0;break}}else for(r in i.inputModel[n])if("boolean"!=typeof i.inputModel[n][r]&&String(i.inputModel[n][r]).toUpperCase().indexOf(i.inputLabel.labelFilter.toUpperCase())>=0){f=!0;break}f===!0&&i.filteredModel.push(i.inputModel[n])}"undefined"!=typeof i.inputModel[n][u.groupProperty]&&i.inputModel[n][u.groupProperty]===!0&&("undefined"!=typeof i.filteredModel[i.filteredModel.length-1][u.groupProperty]&&i.filteredModel[i.filteredModel.length-1][u.groupProperty]===!1?i.filteredModel.pop():i.filteredModel.push(i.inputModel[n]))}i.filteredModel.reverse();t(function(){if(i.getFormElements(),i.inputLabel.labelFilter.length>a){var n=[];angular.forEach(i.filteredModel,function(t){if("undefined"!=typeof t&&"undefined"==typeof t[u.groupProperty]){var f=angular.copy(t),r=n.push(f);delete n[r-1][i.indexProperty];delete n[r-1][i.spacingProperty]}});i.onSearchChange({data:{keyword:i.inputLabel.labelFilter,result:n}})}},0)};i.getFormElements=function(){var n;f=[];var e=[],t=[],o=[],u=[];for(i.helperStatus.all||i.helperStatus.none||i.helperStatus.reset?(e=r.children().children().next().children().children()[0].getElementsByTagName("button"),i.helperStatus.filter&&(t=r.children().children().next().children().children().next()[0].getElementsByTagName("input"),u=r.children().children().next().children().children().next()[0].getElementsByTagName("button"))):i.helperStatus.filter&&(t=r.children().children().next().children().children()[0].getElementsByTagName("input"),u=r.children().children().next().children().children()[0].getElementsByTagName("button")),o=i.helperStatus.all||i.helperStatus.none||i.helperStatus.reset||i.helperStatus.filter?r.children().children().next().children().next()[0].getElementsByTagName("input"):r.children().children().next()[0].getElementsByTagName("input"),n=0;n<e.length;n++)f.push(e[n]);for(n=0;n<t.length;n++)f.push(t[n]);for(n=0;n<u.length;n++)f.push(u[n]);for(n=0;n<o.length;n++)f.push(o[n])};i.isGroupMarker=function(n,t){return"undefined"!=typeof n[u.groupProperty]&&n[u.groupProperty]===t};i.removeGroupEndMarker=function(n){return"undefined"==typeof n[u.groupProperty]||n[u.groupProperty]!==!1};i.syncItems=function(n,r,f){var a,b,l;if((r.preventDefault(),r.stopPropagation(),"undefined"!=typeof u.disableProperty&&n[u.disableProperty]===!0)||"undefined"!=typeof u.isDisabled&&i.isDisabled===!0||"undefined"!=typeof n[u.groupProperty]&&n[u.groupProperty]===!1)return!1;if(a=i.filteredModel.indexOf(n),"undefined"!=typeof n[u.groupProperty]&&n[u.groupProperty]===!0){if("undefined"!=typeof u.selectionMode&&"SINGLE"===u.selectionMode.toUpperCase())return!1;for(var s,p=0,w=i.filteredModel.length-1,v=[],y=0,c=a;c<i.filteredModel.length&&!(0===y&&c>a);c++)if("undefined"!=typeof i.filteredModel[c][u.groupProperty]&&i.filteredModel[c][u.groupProperty]===!0)0===v.length&&(p=c+1),y+=1;else if("undefined"!=typeof i.filteredModel[c][u.groupProperty]&&i.filteredModel[c][u.groupProperty]===!1){if(y-=1,v.length>0&&0===y){for(b=!0,w=c,s=0;s<v.length;s++)if("undefined"!=typeof v[s][i.tickProperty]&&v[s][i.tickProperty]===!1){b=!1;break}if(b===!0)for(s=p;w>=s;s++)"undefined"==typeof i.filteredModel[s][u.groupProperty]&&("undefined"==typeof u.disableProperty?(i.filteredModel[s][i.tickProperty]=!1,l=i.filteredModel[s][i.indexProperty],i.inputModel[l][i.tickProperty]=!1):i.filteredModel[s][u.disableProperty]!==!0&&(i.filteredModel[s][i.tickProperty]=!1,l=i.filteredModel[s][i.indexProperty],i.inputModel[l][i.tickProperty]=!1));else for(s=p;w>=s;s++)"undefined"==typeof i.filteredModel[s][u.groupProperty]&&("undefined"==typeof u.disableProperty?(i.filteredModel[s][i.tickProperty]=!0,l=i.filteredModel[s][i.indexProperty],i.inputModel[l][i.tickProperty]=!0):i.filteredModel[s][u.disableProperty]!==!0&&(i.filteredModel[s][i.tickProperty]=!0,l=i.filteredModel[s][i.indexProperty],i.inputModel[l][i.tickProperty]=!0))}}else v.push(i.filteredModel[c])}else{if("undefined"!=typeof u.selectionMode&&"SINGLE"===u.selectionMode.toUpperCase()){for(c=0;c<i.filteredModel.length;c++)i.filteredModel[c][i.tickProperty]=!1;for(c=0;c<i.inputModel.length;c++)i.inputModel[c][i.tickProperty]=!1;i.filteredModel[a][i.tickProperty]=!0}else i.filteredModel[a][i.tickProperty]=!i.filteredModel[a][i.tickProperty];l=i.filteredModel[a][i.indexProperty];i.inputModel[l][i.tickProperty]=i.filteredModel[a][i.tickProperty]}h=angular.copy(n);null!==h&&t(function(){delete h[i.indexProperty];delete h[i.spacingProperty];i.onItemClick({data:h});h=null},0);i.refreshOutputModel();i.refreshButton();e=i.tabIndex;i.tabIndex=f+o;r.target.focus();i.removeFocusStyle(e);i.setFocusStyle(i.tabIndex);"undefined"!=typeof u.selectionMode&&"SINGLE"===u.selectionMode.toUpperCase()&&i.toggleCheckboxes(r)};i.refreshOutputModel=function(){i.outputModel=[];var t=[],n={};"undefined"!=typeof u.outputProperties?(t=u.outputProperties.split(" "),angular.forEach(i.inputModel,function(r){if("undefined"!=typeof r&&"undefined"==typeof r[u.groupProperty]&&r[i.tickProperty]===!0){n={};angular.forEach(r,function(i,r){t.indexOf(r)>-1&&(n[r]=i)});var f=i.outputModel.push(n);delete i.outputModel[f-1][i.indexProperty];delete i.outputModel[f-1][i.spacingProperty]}})):angular.forEach(i.inputModel,function(n){if("undefined"!=typeof n&&"undefined"==typeof n[u.groupProperty]&&n[i.tickProperty]===!0){var r=angular.copy(n),t=i.outputModel.push(r);delete i.outputModel[t-1][i.indexProperty];delete i.outputModel[t-1][i.spacingProperty]}})};i.refreshButton=function(){var r,t;i.varButtonLabel="";r=0;0===i.outputModel.length?i.varButtonLabel=i.lang.nothingSelected:(t=i.outputModel.length,"undefined"!=typeof u.maxLabels&&""!==u.maxLabels&&(t=u.maxLabels),i.more=i.outputModel.length>t?!0:!1,angular.forEach(i.inputModel,function(n){"undefined"!=typeof n&&n[u.tickProperty]===!0&&(t>r&&(i.varButtonLabel+=(i.varButtonLabel.length>0?'<\/div>, <div class="buttonLabel">':'<div class="buttonLabel">')+i.writeLabel(n,"buttonLabel")),r++)}),i.more===!0&&(t>0&&(i.varButtonLabel+=", ... "),i.varButtonLabel+="("+i.outputModel.length+")"));i.varButtonLabel=n.trustAsHtml(i.varButtonLabel+'<span class="caret"><\/span>')};i.itemIsDisabled=function(n){return"undefined"!=typeof u.disableProperty&&n[u.disableProperty]===!0?!0:i.isDisabled===!0};i.writeLabel=function(t,i){var f=u[i].split(" "),r="";return angular.forEach(f,function(n){t[n]&&(r+="&nbsp;"+n.split(".").reduce(function(n,t){return n[t]},t))}),"BUTTONLABEL"===i.toUpperCase()?r:n.trustAsHtml(r)};i.toggleCheckboxes=function(){var e=r.children()[0],n,u;if(angular.element(document).off("click",i.externalClickListener),angular.element(document).off("keydown",i.keyboardListener),angular.element(s).hasClass("show"))angular.element(s).removeClass("show"),angular.element(e).removeClass("buttonClicked"),angular.element(document).off("click",i.externalClickListener),angular.element(document).off("keydown",i.keyboardListener),i.removeFocusStyle(i.tabIndex),"undefined"!=typeof f[i.tabIndex]&&f[i.tabIndex].blur(),t(function(){i.onClose()},0),r.children().children()[0].focus();else{if(i.inputLabel.labelFilter="",i.updateFilter(),c=[],o=0,angular.element(s).addClass("show"),angular.element(e).addClass("buttonClicked"),angular.element(document).on("click",i.externalClickListener),angular.element(document).on("keydown",i.keyboardListener),i.getFormElements(),i.tabIndex=0,n=angular.element(r[0].querySelector(".helperContainer"))[0],"undefined"!=typeof n){for(u=0;u<n.getElementsByTagName("BUTTON").length;u++)c[u]=n.getElementsByTagName("BUTTON")[u];o=c.length+n.getElementsByTagName("INPUT").length}r[0].querySelector(".inputFilter")?(r[0].querySelector(".inputFilter").focus(),i.tabIndex=i.tabIndex+o-2,angular.element(r).children()[0].blur()):i.isDisabled||(i.tabIndex=i.tabIndex+o,i.inputModel.length>0&&(f[i.tabIndex].focus(),i.setFocusStyle(i.tabIndex),angular.element(r).children()[0].blur()));i.onOpen()}};i.externalClickListener=function(n){for(var f=r.find(n.target.tagName),u=0;u<f.length;u++)if(n.target==f[u])return;angular.element(s.previousSibling).removeClass("buttonClicked");angular.element(s).removeClass("show");angular.element(document).off("click",i.externalClickListener);angular.element(document).off("keydown",i.keyboardListener);t(function(){i.onClose()},0);r.children().children()[0].focus()};i.select=function(n,t){var r=c.indexOf(t.target);switch(i.tabIndex=r,n.toUpperCase()){case"ALL":angular.forEach(i.filteredModel,function(n){"undefined"!=typeof n&&n[u.disableProperty]!==!0&&"undefined"==typeof n[u.groupProperty]&&(n[i.tickProperty]=!0)});i.refreshOutputModel();i.refreshButton();i.onSelectAll();break;case"NONE":angular.forEach(i.filteredModel,function(n){"undefined"!=typeof n&&n[u.disableProperty]!==!0&&"undefined"==typeof n[u.groupProperty]&&(n[i.tickProperty]=!1)});i.refreshOutputModel();i.refreshButton();i.onSelectNone();break;case"RESET":angular.forEach(i.filteredModel,function(n){if("undefined"==typeof n[u.groupProperty]&&"undefined"!=typeof n&&n[u.disableProperty]!==!0){var t=n[i.indexProperty];n[i.tickProperty]=i.backUp[t][i.tickProperty]}});i.refreshOutputModel();i.refreshButton();i.onReset();break;case"CLEAR":i.tabIndex=i.tabIndex+1;i.onClear();break;case"FILTER":i.tabIndex=c.length-1}};i.prepareGrouping=function(){var n=0;angular.forEach(i.filteredModel,function(t){t[i.spacingProperty]=n;t[u.groupProperty]===!0?n+=2:t[u.groupProperty]===!1&&(n-=2)})};i.prepareIndex=function(){var n=0;angular.forEach(i.filteredModel,function(t){t[i.indexProperty]=n;n++})};i.keyboardListener=function(n){var t=n.keyCode?n.keyCode:n.which,r=!1,u;if(27===t)n.preventDefault(),n.stopPropagation(),i.toggleCheckboxes(n);else if(40!==t&&39!==t&&(n.shiftKey||9!=t)){if(38===t||37===t||n.shiftKey&&9==t)for(r=!0,e=i.tabIndex,i.tabIndex--,i.tabIndex<0&&(i.tabIndex=f.length-1,e=0);f[i.tabIndex].disabled===!0&&(i.tabIndex--,i.tabIndex!==e);)i.tabIndex<0&&(i.tabIndex=f.length-1)}else for(r=!0,e=i.tabIndex,i.tabIndex++,i.tabIndex>f.length-1&&(i.tabIndex=0,e=f.length-1);f[i.tabIndex].disabled===!0&&(i.tabIndex++,i.tabIndex>f.length-1&&(i.tabIndex=0),i.tabIndex!==e););r===!0&&(n.preventDefault(),f[i.tabIndex].focus(),u=document.activeElement,"CHECKBOX"===u.type.toUpperCase()?(i.setFocusStyle(i.tabIndex),i.removeFocusStyle(e)):(i.removeFocusStyle(e),i.removeFocusStyle(o),i.removeFocusStyle(f.length-1)));r=!1};i.setFocusStyle=function(n){angular.element(f[n]).parent().parent().parent().addClass("multiSelectFocus")};i.removeFocusStyle=function(n){angular.element(f[n]).parent().parent().parent().removeClass("multiSelectFocus")};i.groupProperty=u.groupProperty;i.tickProperty=u.tickProperty;i.directiveId=u.directiveId;v=b(5);(i.indexProperty="idx_"+v,i.spacingProperty="spc_"+v,"undefined"!=typeof u.orientation&&("HORIZONTAL"===u.orientation.toUpperCase()?(i.orientationH=!0,i.orientationV=!1):(i.orientationH=!1,i.orientationV=!0)),s=r.children().children().next()[0],"undefined"!=typeof u.maxHeight)&&(w=r.children().children().children()[0],angular.element(w).attr("style","height:"+u.maxHeight+"; overflow-y:scroll;"));for(l in i.helperStatus)i.helperStatus.hasOwnProperty(l)&&"undefined"!=typeof u.helperElements&&-1===u.helperElements.toUpperCase().indexOf(l.toUpperCase())&&(i.helperStatus[l]=!1);"undefined"!=typeof u.selectionMode&&"SINGLE"===u.selectionMode.toUpperCase()&&(i.helperStatus.all=!1,i.helperStatus.none=!1);i.icon={};i.icon.selectAll="&#10003;";i.icon.selectNone="&times;";i.icon.reset="&#8630;";i.icon.tickMark="&#10003;";"undefined"!=typeof u.translation?(i.lang.selectAll=n.trustAsHtml(i.icon.selectAll+"&nbsp;&nbsp;"+i.translation.selectAll),i.lang.selectNone=n.trustAsHtml(i.icon.selectNone+"&nbsp;&nbsp;"+i.translation.selectNone),i.lang.reset=n.trustAsHtml(i.icon.reset+"&nbsp;&nbsp;"+i.translation.reset),i.lang.search=i.translation.search,i.lang.nothingSelected=n.trustAsHtml(i.translation.nothingSelected)):(i.lang.selectAll=n.trustAsHtml(i.icon.selectAll+"&nbsp;&nbsp;Select All"),i.lang.selectNone=n.trustAsHtml(i.icon.selectNone+"&nbsp;&nbsp;Select None"),i.lang.reset=n.trustAsHtml(i.icon.reset+"&nbsp;&nbsp;Reset"),i.lang.search="Search...",i.lang.nothingSelected="None Selected");i.icon.tickMark=n.trustAsHtml(i.icon.tickMark);"undefined"!=typeof u.MinSearchLength&&parseInt(u.MinSearchLength)>0&&(a=Math.floor(parseInt(u.MinSearchLength)));i.$watch("inputModel",function(n){n&&(i.refreshOutputModel(),i.refreshButton())},!0);i.$watch("inputModel",function(n){n&&(i.backUp=angular.copy(i.inputModel),i.updateFilter(),i.prepareGrouping(),i.prepareIndex(),i.refreshOutputModel(),i.refreshButton())});i.$watch("isDisabled",function(n){i.isDisabled=n});y=function(){i.$apply(function(){i.scrolled=!1})};angular.element(document).bind("touchstart",y);p=function(){i.$apply(function(){i.scrolled=!0})};angular.element(document).bind("touchmove",p);i.$on("$destroy",function(){angular.element(document).unbind("touchstart",y);angular.element(document).unbind("touchmove",p)})}}}]).run(["$templateCache",function(n){n.put("isteven-multi-select.htm",'<span class="multiSelect inlineBlock"><button id="{{directiveId}}" type="button"ng-click="toggleCheckboxes( $event ); refreshSelectedItems(); refreshButton(); prepareGrouping; prepareIndex();"ng-bind-html="varButtonLabel"ng-disabled="disable-button"><\/button><div class="checkboxLayer"><div class="helperContainer" ng-if="helperStatus.filter || helperStatus.all || helperStatus.none || helperStatus.reset "><div class="line" ng-if="helperStatus.all || helperStatus.none || helperStatus.reset "><button type="button" class="helperButton"ng-disabled="isDisabled"ng-if="helperStatus.all"ng-click="select( \'all\', $event );"ng-bind-html="lang.selectAll"><\/button><button type="button" class="helperButton"ng-disabled="isDisabled"ng-if="helperStatus.none"ng-click="select( \'none\', $event );"ng-bind-html="lang.selectNone"><\/button><button type="button" class="helperButton reset"ng-disabled="isDisabled"ng-if="helperStatus.reset"ng-click="select( \'reset\', $event );"ng-bind-html="lang.reset"><\/button><\/div><div class="line" style="position:relative" ng-if="helperStatus.filter"><input placeholder="{{lang.search}}" type="text"ng-click="select( \'filter\', $event )" ng-model="inputLabel.labelFilter" ng-change="searchChanged()" class="inputFilter"/><button type="button" class="clearButton" ng-click="clearClicked( $event )" >×<\/button> <\/div> <\/div> <div class="checkBoxContainer"><div ng-repeat="item in filteredModel | filter:removeGroupEndMarker" class="multiSelectItem"ng-class="{selected: item[ tickProperty ], horizontal: orientationH, vertical: orientationV, multiSelectGroup:item[ groupProperty ], disabled:itemIsDisabled( item )}"ng-click="syncItems( item, $event, $index );" ng-mouseleave="removeFocusStyle( tabIndex );"> <div class="acol" ng-if="item[ spacingProperty ] > 0" ng-repeat="i in numberToArray( item[ spacingProperty ] ) track by $index"><\/div>  <div class="acol"><label><input class="checkbox focusable" type="checkbox" ng-disabled="itemIsDisabled( item )" ng-checked="item[ tickProperty ]" ng-click="syncItems( item, $event, $index )" /><span ng-class="{disabled:itemIsDisabled( item )}" ng-bind-html="writeLabel( item, \'itemLabel\' )"><\/span><\/label><\/div><span class="tickMark" ng-if="item[ groupProperty ] !== true && item[ tickProperty ] === true" ng-bind-html="icon.tickMark"><\/span><\/div><\/div><\/div><\/span>')}]),function(n,t,i){"use strict";t.module("ui.sortable",[]).value("uiSortableConfig",{items:"> [ng-repeat],> [data-ng-repeat],> [x-ng-repeat]"}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(n,r,u){return{require:"?ngModel",scope:{ngModel:"=",uiSortable:"="},link:function(f,e,o,s){function y(n,t){var r=n&&"function"==typeof n,i=t&&"function"==typeof t;return r&&i?function(){n.apply(this,arguments);t.apply(this,arguments)}:i?t:n}function p(n){var t=n.data("ui-sortable");return t&&"object"==typeof t&&"ui-sortable"===t.widgetFullName?t:null}function v(t,i){return l[t]?("stop"===t&&(i=y(i,function(){f.$apply()}),i=y(i,ft)),i=y(l[t],i)):b[t]&&(i=b[t](i)),i||("items"===t?i=n.items:"ui-model-items"===t&&(i=n.items)),i}function k(n,r,u){function o(n,t){t in c||(c[t]=null)}var f,e;return t.forEach(l,o),f=null,r&&t.forEach(r,function(r,u){if(!(n&&u in n)){if(u in w)return void(c[u]="ui-floating"===u?"auto":v(u,i));e||(e=t.element.ui.sortable().options);var o=e[u];o=v(u,o);f||(f={});f[u]=o;c[u]=o}}),t.forEach(n,function(n,t){return t in w?("ui-floating"!==t||n!==!1&&n!==!0||!u||(u.floating=n),void(c[t]=v(t,n))):(n=v(t,n),f||(f={}),f[t]=n,void(c[t]=n))}),f}function nt(n){var i=n.sortable("option","placeholder"),r;return i&&i.element&&"function"==typeof i.element?(r=i.element(),t.element(r)):null}function tt(n,t){var i=c["ui-model-items"].replace(/[^,]*>/g,"");return n.find('[class="'+t.attr("class")+'"]:not('+i+")")}function it(n,t){var i=n.sortable("option","helper");return"clone"===i||"function"==typeof i&&t.item.sortable.isCustomHelperUsed()}function d(n,t,i){var r=null;return it(n,t)&&"parent"===n.sortable("option","appendTo")&&(r=i.last()),r}function rt(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))}function ut(n,t){for(var u,r=null,i=0;i<n.length;i++)if(u=n[i],u.element[0]===t[0]){r=u.scope;break}return r}function ft(n,t){t.item.sortable._destroy()}function g(n){return n.item.parent().find(c["ui-model-items"]).index(n.item)}function et(){f.$watchCollection("ngModel",function(){r(function(){p(e)&&e.sortable("refresh")},0,!1)});l.start=function(n,r){var f,e,u;"auto"===c["ui-floating"]&&(f=r.item.siblings(),e=p(t.element(n.target)),e.floating=rt(f));u=g(r);r.item.sortable={model:s.$modelValue[u],index:u,source:r.item.parent(),sourceModel:s.$modelValue,cancel:function(){r.item.sortable._isCanceled=!0},isCanceled:function(){return r.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!r.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:r.item.sortable._isCustomHelperUsed,_destroy:function(){t.forEach(r.item.sortable,function(n,t){r.item.sortable[t]=i})}}};l.activate=function(n,t){var i,u,r;h=e.contents();i=nt(e);i&&i.length&&(u=tt(e,i),h=h.not(u));r=t.item.sortable._connectedSortables||[];r.push({element:e,scope:f});t.item.sortable._connectedSortables=r};l.update=function(n,t){var r,u,i;t.item.sortable.received||(t.item.sortable.dropindex=g(t),r=t.item.parent(),t.item.sortable.droptarget=r,u=ut(t.item.sortable._connectedSortables,r),t.item.sortable.droptargetModel=u.ngModel,e.sortable("cancel"));i=!t.item.sortable.received&&d(e,t,h);i&&i.length&&(h=h.not(i));h.appendTo(e);t.item.sortable.received&&(h=null);t.item.sortable.received&&!t.item.sortable.isCanceled()&&f.$apply(function(){s.$modelValue.splice(t.item.sortable.dropindex,0,t.item.sortable.moved)})};l.stop=function(n,i){if(!i.item.sortable.received&&"dropindex"in i.item.sortable&&!i.item.sortable.isCanceled())f.$apply(function(){s.$modelValue.splice(i.item.sortable.dropindex,0,s.$modelValue.splice(i.item.sortable.index,1)[0])});else if((!("dropindex"in i.item.sortable)||i.item.sortable.isCanceled())&&!t.equals(e.contents(),h)){var r=d(e,i,h);r&&r.length&&(h=h.not(r));h.appendTo(e)}h=null};l.receive=function(n,t){t.item.sortable.received=!0};l.remove=function(n,t){"dropindex"in t.item.sortable||(e.sortable("cancel"),t.item.sortable.cancel());t.item.sortable.isCanceled()||f.$apply(function(){t.item.sortable.moved=s.$modelValue.splice(t.item.sortable.index,1)[0]})};b.helper=function(n){return n&&"function"==typeof n?function(t,i){var r=n.apply(this,arguments);return i.sortable._isCustomHelperUsed=i!==r,r}:n};f.$watchCollection("uiSortable",function(n,t){var r=p(e),i;r&&(i=k(n,t,r),i&&e.sortable("option",i))},!0);k(c)}function ot(){s?et():u.info("ui.sortable: ngModel not provided!",e);e.sortable(c)}function a(){return f.uiSortable&&f.uiSortable.disabled?!1:(ot(),a.cancelWatcher(),a.cancelWatcher=t.noop,!0)}var h,c={},w={"ui-floating":i,"ui-model-items":n.items},l={receive:null,remove:null,start:null,stop:null,update:null},b={helper:null};return t.extend(c,w,n,f.uiSortable),t.element.fn&&t.element.fn.jquery?(a.cancelWatcher=t.noop,void(a()||(a.cancelWatcher=f.$watch("uiSortable.disabled",a)))):void u.error("ui.sortable: jQuery should be included before AngularJS!")}}}])}(window,window.angular);!function(n,t,i){"use strict";function f(n){return u(n)?n:Object.keys(n).map(function(t){return n[t]})}function y(n){return null===n}function c(n,t){var r=Object.keys(n);return-1==r.map(function(r){return t[r]!==i&&t[r]==n[r]}).indexOf(!1)}function l(n,t){if(""===t)return n;var i=n.indexOf(t.charAt(0));return-1===i?!1:l(n.substr(i+1),t.substr(1))}function p(n,t,i){var r=0;return n.filter(function(n){var u=st(i)?t>r&&i(n):t>r;return r=u?r+1:r,u})}function h(n,t,i){return i.round(n*i.pow(10,t))/i.pow(10,t)}function w(n,t,i){t=t||[];var f=Object.keys(n);return f.forEach(function(f){var e,o;r(n[f])&&!u(n[f])?(e=i?i+"."+f:i,w(n[f],t,e||f)):(o=i?i+"."+f:f,t.push(o))}),t}function b(n){return n&&n.$evalAsync&&n.$watch}function k(){return function(n,t){return n>t}}function d(){return function(n,t){return n>=t}}function g(){return function(n,t){return t>n}}function nt(){return function(n,t){return t>=n}}function tt(){return function(n,t){return n==t}}function it(){return function(n,t){return n!=t}}function rt(){return function(n,t){return n===t}}function ut(){return function(n,t){return n!==t}}function ft(n){return function(t,i){return t=r(t)?f(t):t,!u(t)||e(i)?!1:t.some(function(t){return r(t)||ht(i)?n(i)(t):t===i})}}function v(n,t){return t=t||0,t>=n.length?n:u(n[t])?v(n.slice(0,t).concat(n[t],n.slice(t+1)),t):v(n,t+1)}function et(n){return function(t,i){function s(n,t){return e(t)?!1:n.some(function(n){return a(n,t)})}if(t=r(t)?f(t):t,!u(t))return t;var o=[],h=n(i);return e(i)?t.filter(function(n,t,i){return i.indexOf(n)===t}):t.filter(function(n){var t=h(n);return s(o,t)?!1:(o.push(t),!0)})}}function ot(n,t,i){return t?n+i+ot(n,--t,i):n}var st=t.isDefined,e=t.isUndefined,ht=t.isFunction,o=t.isString,s=t.isNumber,r=t.isObject,u=t.isArray,ct=t.forEach,lt=t.extend,at=t.copy,a=t.equals;String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)});t.module("a8m.angular",[]).filter("isUndefined",function(){return function(n){return t.isUndefined(n)}}).filter("isDefined",function(){return function(n){return t.isDefined(n)}}).filter("isFunction",function(){return function(n){return t.isFunction(n)}}).filter("isString",function(){return function(n){return t.isString(n)}}).filter("isNumber",function(){return function(n){return t.isNumber(n)}}).filter("isArray",function(){return function(n){return t.isArray(n)}}).filter("isObject",function(){return function(n){return t.isObject(n)}}).filter("isEqual",function(){return function(n,i){return t.equals(n,i)}});t.module("a8m.conditions",[]).filter({isGreaterThan:k,">":k,isGreaterThanOrEqualTo:d,">=":d,isLessThan:g,"<":g,isLessThanOrEqualTo:nt,"<=":nt,isEqualTo:tt,"==":tt,isNotEqualTo:it,"!=":it,isIdenticalTo:rt,"===":rt,isNotIdenticalTo:ut,"!==":ut});t.module("a8m.is-null",[]).filter("isNull",function(){return function(n){return y(n)}});t.module("a8m.after-where",[]).filter("afterWhere",function(){return function(n,t){if(n=r(n)?f(n):n,!u(n)||e(t))return n;var i=n.map(function(n){return c(t,n)}).indexOf(!0);return n.slice(-1===i?0:i)}});t.module("a8m.after",[]).filter("after",function(){return function(n,t){return n=r(n)?f(n):n,u(n)?n.slice(t):n}});t.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(n,t){if(n=r(n)?f(n):n,!u(n)||e(t))return n;var i=n.map(function(n){return c(t,n)}).indexOf(!0);return n.slice(0,-1===i?n.length:++i)}});t.module("a8m.before",[]).filter("before",function(){return function(n,t){return n=r(n)?f(n):n,u(n)?n.slice(0,t?--t:t):n}});t.module("a8m.chunk-by",["a8m.filter-watcher"]).filter("chunkBy",["filterWatcher",function(n){return function(t,i,r){function f(n,t){for(var i=[];n--;)i[n]=t;return i}function o(n,t,i){return u(n)?n.map(function(n,r,u){return r*=t,n=u.slice(r,r+t),!e(i)&&n.length<t?n.concat(f(t-n.length,i)):n}).slice(0,Math.ceil(n.length/t)):n}return n.isMemoized("chunkBy",arguments)||n.memoize("chunkBy",arguments,this,o(t,i,r))}}]);t.module("a8m.concat",[]).filter("concat",[function(){return function(n,t){if(e(t))return n;if(u(n))return r(t)?n.concat(f(t)):n.concat(t);if(r(n)){var i=f(n);return r(t)?i.concat(f(t)):i.concat(t)}return n}}]);t.module("a8m.contains",[]).filter({contains:["$parse",ft],some:["$parse",ft]});t.module("a8m.count-by",[]).filter("countBy",["$parse",function(n){return function(t,i){var o,s={},h=n(i);return t=r(t)?f(t):t,!u(t)||e(i)?t:(t.forEach(function(n){o=h(n);s[o]||(s[o]=0);s[o]++}),s)}}]);t.module("a8m.defaults",[]).filter("defaults",["$parse",function(n){return function(t,i){if(t=r(t)?f(t):t,!u(t)||!r(i))return t;var o=w(i);return t.forEach(function(t){o.forEach(function(r){var u=n(r),f=u.assign;e(u(t))&&f(t,u(i))})}),t}}]);t.module("a8m.every",[]).filter("every",["$parse",function(n){return function(t,i){return t=r(t)?f(t):t,!u(t)||e(i)?!0:t.every(function(t){return r(t)||ht(i)?n(i)(t):t===i})}}]);t.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(n){return function(t,h,c){var l;return c=o(c)||s(c)?String(c).toLowerCase():i,t=r(t)?f(t):t,!u(t)||e(c)?t:t.filter(function(t){return h.some(function(i){if(~i.indexOf("+")){var r=i.replace(new RegExp("\\s","g"),"").split("+");l=r.reduce(function(i,r,u){return 1===u?n(i)(t)+" "+n(r)(t):i+" "+n(r)(t)})}else l=n(i)(t);return o(l)||s(l)?String(l).toLowerCase().contains(c):!1})})}}]);t.module("a8m.first",[]).filter("first",["$parse",function(n){return function(t){var h,o,e;return t=r(t)?f(t):t,u(t)?(e=Array.prototype.slice.call(arguments,1),h=s(e[0])?e[0]:1,o=s(e[0])?s(e[1])?i:e[1]:e[0],e.length?p(t,h,o?n(o):o):t[0]):t}}]);t.module("a8m.flatten",[]).filter("flatten",function(){return function(n,t){return t=t||!1,n=r(n)?f(n):n,u(n)?t?[].concat.apply([],n):v(n,0):n}});t.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(n){return function(t,i,s,h){var c,a,v=h||!1;return t=r(t)?f(t):t,!u(t)||e(i)||e(s)?t:(a=n(i),t.filter(function(n){return c=a(n),o(c)?(c=v?c:c.toLowerCase(),s=v?s:s.toLowerCase(),l(c,s)!==!1):!1}))}}]);t.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(n,t,i){function h(n,t){var i,r,u=Object.keys(n);return 0<u.filter(function(u){return i=n[u],r?!0:o(i)?(i=s?i:i.toLowerCase(),r=l(i,t)!==!1):!1}).length}var s=i||!1;return n=r(n)?f(n):n,!u(n)||e(t)?n:(t=s?t:t.toLowerCase(),n.filter(function(n){return o(n)?(n=s?n:n.toLowerCase(),l(n,t)!==!1):r(n)?h(n,t):!1}))}});t.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(n,t){return function(i,u){function f(n,t){var i,r={};return ct(n,function(n){i=t(n);r[i]||(r[i]=[]);r[i].push(n)}),r}return!r(i)||e(u)?i:t.isMemoized("groupBy",arguments)||t.memoize("groupBy",arguments,this,f(i,n(u)))}}]);t.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(n){return r(n)?!f(n).length:!n.length}});t.module("a8m.join",[]).filter("join",function(){return function(n,t){return e(n)||!u(n)?n:(e(t)&&(t=" "),n.join(t))}});t.module("a8m.last",[]).filter("last",["$parse",function(n){return function(t){var c,h,o,e=at(t);return e=r(e)?f(e):e,u(e)?(o=Array.prototype.slice.call(arguments,1),c=s(o[0])?o[0]:1,h=s(o[0])?s(o[1])?i:o[1]:o[0],o.length?p(e.reverse(),c,h?n(h):h).reverse():e[e.length-1]):e}}]);t.module("a8m.map",[]).filter("map",["$parse",function(n){return function(t,i){return t=r(t)?f(t):t,!u(t)||e(i)?t:t.map(function(t){return n(i)(t)})}}]);t.module("a8m.omit",[]).filter("omit",["$parse",function(n){return function(t,i){return t=r(t)?f(t):t,!u(t)||e(i)?t:t.filter(function(t){return!n(i)(t)})}}]);t.module("a8m.pick",[]).filter("pick",["$parse",function(n){return function(t,i){return t=r(t)?f(t):t,!u(t)||e(i)?t:t.filter(function(t){return n(i)(t)})}}]);t.module("a8m.range",[]).filter("range",function(){return function(n,t){for(var i=0;i<parseInt(t);i++)n.push(i);return n}});t.module("a8m.remove-with",[]).filter("removeWith",function(){return function(n,t){return e(t)?n:(n=r(n)?f(n):n,n.filter(function(n){return!c(t,n)}))}});t.module("a8m.remove",[]).filter("remove",function(){return function(n){n=r(n)?f(n):n;var t=Array.prototype.slice.call(arguments,1);return u(n)?n.filter(function(n){return!t.some(function(t){return a(t,n)})}):n}});t.module("a8m.reverse",[]).filter("reverse",[function(){return function(n){return n=r(n)?f(n):n,o(n)?n.split("").reverse().join(""):u(n)?n.slice().reverse():n}}]);t.module("a8m.search-field",[]).filter("searchField",["$parse",function(n){return function(t){var o,e,i;return t=r(t)?f(t):t,i=Array.prototype.slice.call(arguments,1),u(t)&&i.length?t.map(function(t){return e=i.map(function(i){return(o=n(i))(t)}).join(" "),lt(t,{searchField:e})}):t}}]);t.module("a8m.to-array",[]).filter("toArray",function(){return function(n,t){return r(n)?t?Object.keys(n).map(function(t){return lt(n[t],{$key:t})}):f(n):n}});t.module("a8m.unique",[]).filter({unique:["$parse",et],uniq:["$parse",et]});t.module("a8m.where",[]).filter("where",function(){return function(n,t){return e(t)?n:(n=r(n)?f(n):n,n.filter(function(n){return c(t,n)}))}});t.module("a8m.xor",[]).filter("xor",["$parse",function(n){return function(t,i,e){function o(t,i){var r=n(e);return i.some(function(n){return e?a(r(n),r(t)):a(n,t)})}return e=e||!1,t=r(t)?f(t):t,i=r(i)?f(i):i,u(t)&&u(i)?t.concat(i).filter(function(n){return!(o(n,t)&&o(n,i))}):t}}]);t.module("a8m.math.byteFmt",["a8m.math"]).filter("byteFmt",["$math",function(n){return function(t,i){return s(i)&&isFinite(i)&&i%1==0&&i>=0&&s(t)&&isFinite(t)?1024>t?h(t,i,n)+" B":1048576>t?h(t/1024,i,n)+" KB":1073741824>t?h(t/1048576,i,n)+" MB":h(t/1073741824,i,n)+" GB":"NaN"}}]);t.module("a8m.math.degrees",["a8m.math"]).filter("degrees",["$math",function(n){return function(t,i){if(s(i)&&isFinite(i)&&i%1==0&&i>=0&&s(t)&&isFinite(t)){var r=180*t/n.PI;return n.round(r*n.pow(10,i))/n.pow(10,i)}return"NaN"}}]);t.module("a8m.math.kbFmt",["a8m.math"]).filter("kbFmt",["$math",function(n){return function(t,i){return s(i)&&isFinite(i)&&i%1==0&&i>=0&&s(t)&&isFinite(t)?1024>t?h(t,i,n)+" KB":1048576>t?h(t/1024,i,n)+" MB":h(t/1048576,i,n)+" GB":"NaN"}}]);t.module("a8m.math",[]).factory("$math",["$window",function(n){return n.Math}]);t.module("a8m.math.max",["a8m.math"]).filter("max",["$math","$parse",function(n,t){function i(i,r){var u=i.map(function(n){return t(r)(n)});return u.indexOf(n.max.apply(n,u))}return function(t,r){return u(t)?e(r)?n.max.apply(n,t):t[i(t,r)]:t}}]);t.module("a8m.math.min",["a8m.math"]).filter("min",["$math","$parse",function(n,t){function i(i,r){var u=i.map(function(n){return t(r)(n)});return u.indexOf(n.min.apply(n,u))}return function(t,r){return u(t)?e(r)?n.min.apply(n,t):t[i(t,r)]:t}}]);t.module("a8m.math.percent",["a8m.math"]).filter("percent",["$math","$window",function(n,t){return function(i,r,u){var f=o(i)?t.Number(i):i;return r=r||100,u=u||!1,!s(f)||t.isNaN(f)?i:u?n.round(f/r*100):f/r*100}}]);t.module("a8m.math.radians",["a8m.math"]).filter("radians",["$math",function(n){return function(t,i){if(s(i)&&isFinite(i)&&i%1==0&&i>=0&&s(t)&&isFinite(t)){var r=3.14159265359*t/180;return n.round(r*n.pow(10,i))/n.pow(10,i)}return"NaN"}}]);t.module("a8m.math.radix",[]).filter("radix",function(){return function(n,t){return s(n)&&/^[2-9]$|^[1-2]\d$|^3[0-6]$/.test(t)?n.toString(t).toUpperCase():n}});t.module("a8m.math.shortFmt",["a8m.math"]).filter("shortFmt",["$math",function(n){return function(t,i){return s(i)&&isFinite(i)&&i%1==0&&i>=0&&s(t)&&isFinite(t)?1e3>t?t:1e6>t?h(t/1e3,i,n)+" K":1e9>t?h(t/1e6,i,n)+" M":h(t/1e9,i,n)+" B":"NaN"}}]);t.module("a8m.math.sum",[]).filter("sum",function(){return function(n,t){return u(n)?n.reduce(function(n,t){return n+t},t||0):n}});t.module("a8m.ends-with",[]).filter("endsWith",function(){return function(n,t,i){var r,u=i||!1;return!o(n)||e(t)?n:(n=u?n:n.toLowerCase(),r=n.length-t.length,-1!==n.indexOf(u?t:t.toLowerCase(),r))}});t.module("a8m.latinize",[]).filter("latinize",[function(){function f(n){return n.replace(/[^\u0000-\u007E]/g,function(n){return u[n]||n})}for(var r,t,i=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],u={},n=0;n<i.length;n++)for(r=i[n].letters.split(""),t=0;t<r.length;t++)u[r[t]]=i[n].base;return function(n){return o(n)?f(n):n}}]);t.module("a8m.ltrim",[]).filter("ltrim",function(){return function(n,t){var i=t||"\\s";return o(n)?n.replace(new RegExp("^"+i+"+"),""):n}});t.module("a8m.match",[]).filter("match",function(){return function(n,t,i){var r=new RegExp(t,i);return o(n)?n.match(r):null}});t.module("a8m.repeat",[]).filter("repeat",[function(){return function(n,t,i){var r=~~t;return o(n)&&r?ot(n,--t,i||""):n}}]);t.module("a8m.rtrim",[]).filter("rtrim",function(){return function(n,t){var i=t||"\\s";return o(n)?n.replace(new RegExp(i+"+$"),""):n}});t.module("a8m.slugify",[]).filter("slugify",[function(){return function(n,t){var i=e(t)?"-":t;return o(n)?n.toLowerCase().replace(/\s+/g,i):n}}]);t.module("a8m.starts-with",[]).filter("startsWith",function(){return function(n,t,i){var r=i||!1;return!o(n)||e(t)?n:(n=r?n:n.toLowerCase(),!n.indexOf(r?t:t.toLowerCase()))}});t.module("a8m.stringular",[]).filter("stringular",function(){return function(n){var t=Array.prototype.slice.call(arguments,1);return n.replace(/{(\d+)}/g,function(n,i){return e(t[i])?n:t[i]})}});t.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(n){return o(n)?n.replace(/<\S[^><]*>/g,""):n}});t.module("a8m.test",[]).filter("test",function(){return function(n,t,i){var r=new RegExp(t,i);return o(n)?r.test(n):n}});t.module("a8m.trim",[]).filter("trim",function(){return function(n,t){var i=t||"\\s";return o(n)?n.replace(new RegExp("^"+i+"+|"+i+"+$","g"),""):n}});t.module("a8m.truncate",[]).filter("truncate",function(){return function(n,t,i,r){return t=e(t)?n.length:t,r=r||!1,i=i||"",!o(n)||n.length<=t?n:n.substring(0,r?-1===n.indexOf(" ",t)?n.length:n.indexOf(" ",t):t)+i}});t.module("a8m.ucfirst",[]).filter("ucfirst",[function(){return function(n){return o(n)?n.split(" ").map(function(n){return n.charAt(0).toUpperCase()+n.substring(1)}).join(" "):n}}]);t.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(n){return function(t){return o(t)?n.encodeURIComponent(t):t}}]);t.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(n){return function(t){return o(t)?n.encodeURI(t):t}}]);t.module("a8m.wrap",[]).filter("wrap",function(){return function(n,t,i){return o(n)&&st(t)?[t,n,i||t].join(""):n}});t.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(n,t){function f(t,i){function u(){var t=[];return function(i,u){if(r(u)&&!y(u)){if(~t.indexOf(u))return"[Circular]";t.push(u)}return n==u?"$WINDOW":n.document==u?"$DOCUMENT":b(u)?"$SCOPE":u}}return[t,JSON.stringify(i,u())].join("#").replace(/"/g,"")}function o(n){var t=n.targetScope.$id;ct(i[t],function(n){delete u[n]});delete i[t]}function s(){a(function(){t.$$phase||(u={})},2e3)}function h(n,t){var r=n.$id;return e(i[r])&&(n.$on("$destroy",o),i[r]=[]),i[r].push(t)}function c(n,t){var i=f(n,t);return u[i]}function l(n,t,i,r){var e=f(n,t);return u[e]=r,b(i)?h(i,e):s(),r}var u={},i={},a=n.setTimeout;return{isMemoized:c,memoize:l}}]});t.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math","a8m.math.max","a8m.math.min","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular);angular.module("xeditable",[]).value("editableOptions",{theme:"default",icon_set:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus",isDisabled:!1,activationEvent:"click"});angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory",function(n){return n({directiveName:"editableBsdate",inputTpl:"<div><\/div>",render:function(){var n,r,t,i;this.parent.render.call(this);n=angular.element('<input type="text" class="form-control" data-ng-model="$parent.$data"/>');n.attr("uib-datepicker-popup",this.attrs.eDatepickerPopupXEditable||"yyyy/MM/dd");n.attr("is-open",this.attrs.eIsOpen);n.attr("date-disabled",this.attrs.eDateDisabled);n.attr("uib-datepicker-popup",this.attrs.eDatepickerPopup);n.attr("year-range",this.attrs.eYearRange||20);n.attr("show-button-bar",this.attrs.eShowButtonBar||!0);n.attr("current-text",this.attrs.eCurrentText||"Today");n.attr("clear-text",this.attrs.eClearText||"Clear");n.attr("close-text",this.attrs.eCloseText||"Done");n.attr("close-on-date-selection",this.attrs.eCloseOnDateSelection||!0);n.attr("datepicker-append-to-body",this.attrs.eDatePickerAppendToBody||!1);n.attr("date-disabled",this.attrs.eDateDisabled);n.attr("name",this.attrs.eName);n.attr("on-open-focus",this.attrs.eOnOpenFocus||!0);n.attr("ng-readonly",this.attrs.eReadonly||!1);this.attrs.eNgChange&&(n.attr("ng-change",this.attrs.eNgChange),this.inputEl.removeAttr("ng-change"));this.scope.dateOptions={formatDay:this.attrs.eFormatDay||"dd",formatMonth:this.attrs.eFormatMonth||"MMMM",formatYear:this.attrs.eFormatYear||"yyyy",formatDayHeader:this.attrs.eFormatDayHeader||"EEE",formatDayTitle:this.attrs.eFormatDayTitle||"MMMM yyyy",formatMonthTitle:this.attrs.eFormatMonthTitle||"yyyy",showWeeks:this.attrs.eShowWeeks?"true"===this.attrs.eShowWeeks.toLowerCase():!0,startingDay:this.attrs.eStartingDay||0,minMode:this.attrs.eMinMode||"day",maxMode:this.attrs.eMaxMode||"year",initDate:this.scope.$eval(this.attrs.eInitDate)||new Date,datepickerMode:this.attrs.eDatepickerMode||"day",maxDate:this.scope.$eval(this.attrs.eMaxDate)||null,minDate:this.scope.$eval(this.attrs.eMinDate)||null};r=angular.isDefined(this.attrs.eShowCalendarButton)?this.attrs.eShowCalendarButton:"true";"true"===r?(t=angular.element('<button type="button" class="btn btn-default"><i class="glyphicon glyphicon-calendar"><\/i><\/button>'),i=angular.element('<span class="input-group-btn"><\/span>'),t.attr("ng-click",this.attrs.eNgClick),i.append(t),this.inputEl.append(i)):n.attr("ng-click",this.attrs.eNgClick);n.attr("datepicker-options","dateOptions");this.inputEl.prepend(n);this.inputEl.removeAttr("class");this.inputEl.removeAttr("ng-click");this.inputEl.removeAttr("is-open");this.inputEl.removeAttr("init-date");this.inputEl.removeAttr("datepicker-popup");this.inputEl.removeAttr("required");this.inputEl.removeAttr("ng-model");this.inputEl.removeAttr("date-picker-append-to-body");this.inputEl.removeAttr("name");this.inputEl.attr("class","input-group")}})}]);angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(n){return n({directiveName:"editableBstime",inputTpl:"<uib-timepicker><\/uib-timepicker>",render:function(){this.parent.render.call(this);var n=angular.element('<div class="well well-small" style="display:inline-block;"><\/div>');n.attr("ng-model",this.inputEl.attr("ng-model"));this.inputEl.removeAttr("ng-model");this.attrs.eNgChange&&(n.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change"));this.inputEl.wrap(n)}})}]);angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(n){return n({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this);this.attrs.eTitle&&(this.inputEl.wrap("<label><\/label>"),this.inputEl.parent().append(this.attrs.eTitle))},autosubmit:function(){var n=this;n.inputEl.bind("change",function(){setTimeout(function(){n.scope.$apply(function(){n.scope.$form.$submit()})},500)})}})}]);angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(n,t){return n({directiveName:"editableChecklist",inputTpl:"<span><\/span>",useCopy:!0,render:function(){this.parent.render.call(this);var n=t(this.attrs.eNgOptions),i='<label ng-repeat="'+n.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$parent.$data" checklist-value="'+n.locals.valueFn+'"><span ng-bind="'+n.locals.displayFn+'"><\/span><\/label>';this.inputEl.removeAttr("ng-model");this.inputEl.removeAttr("ng-options");this.inputEl.html(i)}})}]);angular.module("xeditable").directive("editableCombodate",["editableDirectiveFactory","editableCombodate",function(n,t){return n({directiveName:"editableCombodate",inputTpl:'<input type="text">',render:function(){var i,n,r;this.parent.render.call(this);i={value:new Date(this.scope.$data)};n=this;angular.forEach(["format","template","minYear","maxYear","yearDescending","minuteStep","secondStep","firstItem","errorClass","customClass","roundTime","smartDays"],function(t){var r="e"+t.charAt(0).toUpperCase()+t.slice(1);r in n.attrs&&(i[t]=n.attrs[r])});r=t.getInstance(this.inputEl,i);r.$widget.find("select").bind("change",function(){n.scope.$data=new Date(r.getValue()).toISOString()})}})}]),function(){var n=function(n){return n.toLowerCase().replace(/-(.)/g,function(n,t){return t.toUpperCase()})},t="text|password|email|tel|number|url|search|color|date|datetime|datetime-local|time|month|week|file".split("|");angular.forEach(t,function(t){var i=n("editable-"+t);angular.module("xeditable").directive(i,["editableDirectiveFactory",function(n){return n({directiveName:i,inputTpl:'<input type="'+t+'">',render:function(){if(this.parent.render.call(this),this.attrs.eLabel){var n=angular.element("<label>"+this.attrs.eLabel+"<\/label>");this.inputEl.parent().prepend(n)}this.attrs.eFormclass&&this.editorEl.addClass(this.attrs.eFormclass)}})}])});angular.module("xeditable").directive("editableRange",["editableDirectiveFactory",function(n){return n({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this);this.inputEl.after("<output>{{$data}}<\/output>")}})}])}();angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser",function(n,t){return n({directiveName:"editableRadiolist",inputTpl:"<span><\/span>",render:function(){this.parent.render.call(this);var n=t(this.attrs.eNgOptions),i='<label data-ng-repeat="'+n.ngRepeat+'"><input type="radio" data-ng-disabled="::'+this.attrs.eNgDisabled+'" data-ng-model="$parent.$parent.$data" value="{{::'+n.locals.valueFn+'}}"><span data-ng-bind="::'+n.locals.displayFn+'"><\/span><\/label>';this.inputEl.removeAttr("ng-model");this.inputEl.removeAttr("ng-options");this.inputEl.html(i)},autosubmit:function(){var n=this;n.inputEl.bind("change",function(){setTimeout(function(){n.scope.$apply(function(){n.scope.$form.$submit()})},500)})}})}]);angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(n){return n({directiveName:"editableSelect",inputTpl:"<select><\/select>",render:function(){if(this.parent.render.call(this),this.attrs.ePlaceholder){var n=angular.element('<option value="">'+this.attrs.ePlaceholder+"<\/option>");this.inputEl.append(n)}},autosubmit:function(){var n=this;n.inputEl.bind("change",function(){n.scope.$apply(function(){n.scope.$form.$submit()})})}})}]);angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(n){return n({directiveName:"editableTextarea",inputTpl:"<textarea><\/textarea>",addListeners:function(){var n=this;n.parent.addListeners.call(n);n.single&&"no"!==n.buttons&&n.autosubmit()},autosubmit:function(){var n=this;n.inputEl.bind("keydown",function(t){(t.ctrlKey||t.metaKey)&&13===t.keyCode&&n.scope.$apply(function(){n.scope.$form.$submit()})})}})}]);angular.module("xeditable").directive("editableUiSelect",["editableDirectiveFactory",function(n){var r=function(n,t){var u=angular.element("<"+n+"/>"),r,i;for(u.html(t.html()),r=t[0].attributes,i=0;i<r.length;++i)u.attr(r.item(i).nodeName,r.item(i).value);return u},f=function(n){for(var i=0,r=t.length;r>i;i++)if(t[i].name===n)return i},t=[],u=[],i=n({directiveName:"editableUiSelect",inputTpl:"<ui-select><\/ui-select>",render:function(){var n=f(this.name);this.parent.render.call(this);this.inputEl.append(r("ui-select-match",t[n].element));this.inputEl.append(r("ui-select-choices",u[n].element));this.inputEl.removeAttr("ng-model");this.inputEl.attr("ng-model","$parent.$parent.$data")}}),e=i.link;return i.link=function(n,i,r,f){var o=i.find("editable-ui-select-match"),s=i.find("editable-ui-select-choices");return t.push({name:r.name||r.editableUiSelect,element:o.clone()}),u.push({name:r.name||r.editableUiSelect,element:s.clone()}),o.remove(),s.remove(),e(n,i,r,f)},i}]);angular.module("xeditable").factory("editableController",["$q","editableUtils",function(n,t){function i(n,i,r,u,f,e,o,s,h,c){var a,y,l=this,v;l.scope=n;l.elem=r;l.attrs=i;l.inputEl=null;l.editorEl=null;l.single=!0;l.error="";l.theme=f[o.theme]||f["default"];l.parent={};l.icon_set="default"===o.icon_set?e["default"][o.theme]:e.external[o.icon_set];l.inputTpl="";l.directiveName="";l.useCopy=!1;l.single=null;l.buttons="right";l.init=function(t){if(l.single=t,l.name=i.eName||i[l.directiveName],!i[l.directiveName])throw"You should provide value for `"+l.directiveName+"` in editable element!";a=u(i[l.directiveName]);l.buttons=l.single?l.attrs.buttons||o.buttons:"no";i.eName&&l.scope.$watch("$data",function(n){l.scope.$form.$data[i.eName]=n});i.onshow&&(l.onshow=function(){return l.catchError(u(i.onshow)(n))});i.onhide&&(l.onhide=function(){return u(i.onhide)(n)});i.oncancel&&(l.oncancel=function(){return u(i.oncancel)(n)});i.onbeforesave&&(l.onbeforesave=function(){return l.catchError(u(i.onbeforesave)(n))});i.onaftersave&&(l.onaftersave=function(){return l.catchError(u(i.onaftersave)(n))});n.$parent.$watch(i[l.directiveName],function(){l.setLocalValue();l.handleEmpty()})};l.render=function(){var r=l.theme,u,n,f,e;l.inputEl=angular.element(l.inputTpl);l.controlsEl=angular.element(r.controlsTpl);l.controlsEl.append(l.inputEl);"no"!==l.buttons&&(l.buttonsEl=angular.element(r.buttonsTpl),l.submitEl=angular.element(r.submitTpl),l.cancelEl=angular.element(r.cancelTpl),l.icon_set&&(l.submitEl.find("span").addClass(l.icon_set.ok),l.cancelEl.find("span").addClass(l.icon_set.cancel)),l.buttonsEl.append(l.submitEl).append(l.cancelEl),l.controlsEl.append(l.buttonsEl),l.inputEl.addClass("editable-has-buttons"));l.errorEl=angular.element(r.errorTpl);l.controlsEl.append(l.errorEl);l.editorEl=angular.element(l.single?r.formTpl:r.noformTpl);l.editorEl.append(l.controlsEl);for(u in i.$attr)u.length<=1||(n=!1,f=u.substring(1,2),"e"===u.substring(0,1)&&f===f.toUpperCase()&&(n=u.substring(1),"Form"!==n&&"NgSubmit"!==n)&&(n=n.substring(0,1).toLowerCase()+t.camelToDash(n.substring(1)),e="value"!==n&&""===i[u]?n:i[u],l.inputEl.attr(n,e)));l.inputEl.addClass("editable-input");l.inputEl.attr("ng-model","$parent.$data");l.editorEl.addClass(t.camelToDash(l.directiveName));l.single&&(l.editorEl.attr("editable-form","$form"),l.editorEl.attr("blur",l.attrs.blur||("no"===l.buttons?"cancel":o.blurElem)));angular.isFunction(r.postrender)&&r.postrender.call(l)};l.setLocalValue=function(){l.scope.$data=l.useCopy?angular.copy(a(n.$parent)):a(n.$parent)};v=null;l.show=function(){return l.setLocalValue(),l.render(),r.after(l.editorEl),v=n.$new(),h(l.editorEl)(v),l.addListeners(),r.addClass("editable-hide"),l.onshow()};l.hide=function(){v.$destroy();l.controlsEl.remove();l.editorEl.remove();r.removeClass("editable-hide");for(var t=0,i=n.$$watchers.length;i>t;t++)if(void 0!==n.$$watchers[t]&&n.$$watchers[t].last&&void 0!==n.$$watchers[t].last&&"object"==typeof n.$$watchers[t].last&&"has-error"in n.$$watchers[t].last){n.$$watchers.splice(t,1);break}return l.onhide()};l.cancel=function(){l.oncancel()};l.addListeners=function(){l.inputEl.bind("keyup",function(n){if(l.single)switch(n.keyCode){case 27:l.scope.$apply(function(){l.scope.$form.$cancel()})}});l.single&&"no"===l.buttons&&l.autosubmit();l.editorEl.bind("click",function(n){n.which&&1!==n.which||l.scope.$form.$visible&&(l.scope.$form._clicked=!0)})};l.setWaiting=function(n){n?(y=!l.inputEl.attr("disabled")&&!l.inputEl.attr("ng-disabled")&&!l.inputEl.attr("ng-enabled"),y&&(l.inputEl.attr("disabled","disabled"),l.buttonsEl&&l.buttonsEl.find("button").attr("disabled","disabled"))):y&&(l.inputEl.removeAttr("disabled"),l.buttonsEl&&l.buttonsEl.find("button").removeAttr("disabled"))};l.activate=function(n,t){setTimeout(function(){var i=l.inputEl[0];"focus"===o.activate&&i.focus&&(n&&(t=t||n,i.onfocus=function(){var i=this;setTimeout(function(){i.setSelectionRange(n,t)})}),i.focus());"select"===o.activate&&i.select&&i.select()},0)};l.setError=function(t){angular.isObject(t)||(n.$error=t,l.error=t)};l.catchError=function(n,t){return angular.isObject(n)&&t!==!0?c.when(n).then(angular.bind(this,function(n){this.catchError(n,!0)}),angular.bind(this,function(n){this.catchError(n,!0)})):t&&angular.isObject(n)&&n.status&&200!==n.status&&n.data&&angular.isString(n.data)?(this.setError(n.data),n=n.data):angular.isString(n)&&this.setError(n),n};l.save=function(){a.assign(n.$parent,l.useCopy?angular.copy(l.scope.$data):l.scope.$data)};l.handleEmpty=function(){var t=a(n.$parent),i=null===t||void 0===t||""===t||angular.isArray(t)&&0===t.length;r.toggleClass("editable-empty",i)};l.autosubmit=angular.noop;l.onshow=angular.noop;l.onhide=angular.noop;l.oncancel=angular.noop;l.onbeforesave=angular.noop;l.onaftersave=angular.noop}return i.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableIcons","editableOptions","$rootScope","$compile","$q"],i}]);angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController","editableOptions",function(n,t,i,r,u,f,e,o){return function(t){return{restrict:"A",scope:!0,require:[t.directiveName,"?^form"],controller:f,link:function(i,f,s,h){var l,c=h[0],a=!1,y,v,p;if(h[1])l=h[1],a=void 0===s.eSingle;else if(s.eForm)if(y=n(s.eForm)(i),y)l=y,a=!0;else if(f&&"function"==typeof f.parents&&f.parents().last().find("form[name="+s.eForm+"]").length)l=null,a=!0;else for(v=0;v<u[0].forms.length;v++)if(u[0].forms[v].name===s.eForm){l=null;a=!0;break}if(angular.forEach(t,function(n,t){void 0!==c[t]&&(c.parent[t]=c[t])}),angular.extend(c,t),p=angular.isDefined(s.editDisabled)?i.$eval(s.editDisabled):o.isDisabled,!p)if(c.init(!a),i.$editable=c,f.addClass("editable"),a)if(l){if(i.$form=l,!i.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";i.$form.$addEditable(c)}else r.$$editableBuffer=r.$$editableBuffer||{},r.$$editableBuffer[s.eForm]=r.$$editableBuffer[s.eForm]||[],r.$$editableBuffer[s.eForm].push(c),i.$form=null;else i.$form=e(),i.$form.$addEditable(c),s.eForm&&(n(s.eForm).assign||angular.noop)(i.$parent,i.$form),s.eForm&&!s.eClickable||(f.addClass("editable-click"),f.bind(o.activationEvent,function(n){n.preventDefault();n.editable=c;i.$apply(function(){i.$form.$show()})}))}}}}]);angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils",function(n,t,i,r,u){var f=[],s=function(n,t){if(t==n)return!0;for(var i=t.parentNode;null!==i;){if(i==n)return!0;i=i.parentNode}return!1},e=function(n,t){var i=!0,r=n.$editables;return angular.forEach(r,function(n){var r=n.editorEl[0];s(r,t.target)&&(i=!1)}),i},o;return t.bind("click",function(n){if(!n.which||1===n.which){for(var r=[],u=[],t=0;t<f.length;t++)f[t]._clicked?f[t]._clicked=!1:f[t].$waiting||("cancel"===f[t]._blur&&e(f[t],n)&&r.push(f[t]),"submit"===f[t]._blur&&e(f[t],n)&&u.push(f[t]));(r.length||u.length)&&i.$apply(function(){angular.forEach(r,function(n){n.$cancel()});angular.forEach(u,function(n){n.$submit()})})}}),i.$on("closeEdit",function(){for(var n=0;n<f.length;n++)f[n].$hide()}),o={$addEditable:function(n){this.$editables.push(n);n.elem.bind("$destroy",angular.bind(this,this.$removeEditable,n));n.scope.$form||(n.scope.$form=this);this.$visible&&n.catchError(n.show());n.catchError(n.setWaiting(this.$waiting))},$removeEditable:function(n){for(var t=0;t<this.$editables.length;t++)if(this.$editables[t]===n)return void this.$editables.splice(t,1)},$show:function(){if(!this.$visible){this.$visible=!0;var n=r();n.when(this.$onshow());this.$setError(null,"");angular.forEach(this.$editables,function(t){n.when(t.show())});n.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)});setTimeout(angular.bind(this,function(){this._clicked=!1;-1===u.indexOf(f,this)&&f.push(this)}),0)}},$activate:function(n){var t;if(this.$editables.length){if(angular.isString(n))for(t=0;t<this.$editables.length;t++)if(this.$editables[t].name===n)return void this.$editables[t].activate();for(t=0;t<this.$editables.length;t++)if(this.$editables[t].error)return void this.$editables[t].activate();this.$editables[0].activate(this.$editables[0].elem[0].selectionStart,this.$editables[0].elem[0].selectionEnd)}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(n){n.hide()}),u.arrayRemove(f,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(n){n.cancel()}),this.$hide())},$setWaiting:function(n){this.$waiting=!!n;angular.forEach(this.$editables,function(t){t.setWaiting(!!n)})},$setError:function(n,t){angular.forEach(this.$editables,function(i){n&&i.name!==n||i.setError(t)})},$submit:function(){function n(n){var t=r();t.when(this.$onbeforesave());t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:n?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}if(!this.$waiting){this.$setError(null,"");var t=r();angular.forEach(this.$editables,function(n){t.when(n.onbeforesave())});t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,n,!0),onFalse:angular.bind(this,n,!1),onString:angular.bind(this,this.$activate)})}},$save:function(){angular.forEach(this.$editables,function(n){n.save()});var n=r();n.when(this.$onaftersave());angular.forEach(this.$editables,function(t){n.when(t.onaftersave())});n.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop},function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},o)}}]);angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(n,t,i,r){return{restrict:"A",require:["form"],compile:function(){return{pre:function(t,r,u,f){var e,h=f[0],o,s;u.editableForm?t[u.editableForm]&&t[u.editableForm].$show?(e=t[u.editableForm],angular.extend(h,e)):(e=i(),t[u.editableForm]=e,angular.extend(e,h)):(e=i(),angular.extend(h,e));o=n.$$editableBuffer;s=h.$name;s&&o&&o[s]&&(angular.forEach(o[s],function(n){e.$addEditable(n)}),delete o[s])},post:function(n,i,u,f){var e;e=u.editableForm&&n[u.editableForm]&&n[u.editableForm].$show?n[u.editableForm]:f[0];u.onshow&&(e.$onshow=angular.bind(e,t(u.onshow),n));u.onhide&&(e.$onhide=angular.bind(e,t(u.onhide),n));u.oncancel&&(e.$oncancel=angular.bind(e,t(u.oncancel),n));u.shown&&t(u.shown)(n)&&e.$show();e._blur=u.blur||r.blurForm;u.ngSubmit||u.submit||(u.onbeforesave&&(e.$onbeforesave=function(){return t(u.onbeforesave)(n,{$data:e.$data})}),u.onaftersave&&(e.$onaftersave=function(){return t(u.onaftersave)(n,{$data:e.$data})}),i.bind("submit",function(t){t.preventDefault();n.$apply(function(){e.$submit()})}));i.bind("click",function(n){n.which&&1!==n.which||e.$visible&&(e._clicked=!0)})}}}}}]);angular.module("xeditable").factory("editablePromiseCollection",["$q",function(n){function t(){return{promises:[],hasFalse:!1,hasString:!1,when:function(t,i){if(t===!1)this.hasFalse=!0;else if(!i&&angular.isObject(t))this.promises.push(n.when(t));else{if(!angular.isString(t))return;this.hasString=!0}},then:function(t){function u(){i.hasString||i.hasFalse?!i.hasString&&i.hasFalse?o():f():e()}t=t||{};var e=t.onTrue||angular.noop,o=t.onFalse||angular.noop,f=t.onString||angular.noop,r=t.onWait||angular.noop,i=this;this.promises.length?(r(!0),n.all(this.promises).then(function(n){r(!1);angular.forEach(n,function(n){i.when(n,!0)});u()},function(){r(!1);f()})):u()}}}return t}]);angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(n,t){if(n.indexOf)return n.indexOf(t);for(var i=0;i<n.length;i++)if(t===n[i])return i;return-1},arrayRemove:function(n,t){var i=this.indexOf(n,t);return i>=0&&n.splice(i,1),t},camelToDash:function(n){return n.replace(/[A-Z]/g,function(n,t){return(t?"-":"")+n.toLowerCase()})},dashToCamel:function(n){return n.replace(/([\:\-\_]+(.))/g,function(n,t,i,r){return r?i.toUpperCase():i}).replace(/^moz([A-Z])/,"Moz$1")}}}]);angular.module("xeditable").factory("editableNgOptionsParser",[function(){function n(n){var i;if(!(i=n.match(t)))throw"ng-options parse error";var r,s=i[2]||i[1],u=i[4]||i[6],f=i[5],h=(i[3]||"",i[2]?i[1]:u),e=i[7],o=i[8],c=o?i[8]:null;return void 0===f?(r=u+" in "+e,void 0!==o&&(r+=" track by "+c)):r="("+f+", "+u+") in "+e,{ngRepeat:r,locals:{valueName:u,keyName:f,valueFn:h,displayFn:s}}}var t=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return n}]);angular.module("xeditable").factory("editableCombodate",[function(){function n(n,t){if(this.$element=angular.element(n),"INPUT"!=this.$element[0].nodeName)throw"Combodate should be applied to INPUT element";var i=(new Date).getFullYear();this.defaults={format:"YYYY-MM-DD HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:i,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,customClass:"",roundTime:!0,smartDays:!0};this.options=angular.extend({},this.defaults,t);this.init()}return n.prototype={constructor:n,init:function(){if(this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=angular.element('<span class="combodate"><\/span>').html(this.getTemplate()),this.initCombos(),this.options.smartDays){var n=this;this.$widget.find("select").bind("change",function(t){(angular.element(t.target).hasClass("month")||angular.element(t.target).hasClass("year"))&&n.fillCombo("day")})}this.$widget.find("select").css("width","auto");this.$element.css("display","none").after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var n=this.options.template,t=this.options.customClass;return angular.forEach(this.map,function(t){t=t[0];var i=new RegExp(t+"+"),r=t.length>1?t.substring(1,2):t;n=n.replace(i,"{"+r+"}")}),n=n.replace(/ /g,"&nbsp;"),angular.forEach(this.map,function(i,r){i=i[0];var u=i.length>1?i.substring(1,2):i;n=n.replace("{"+u+"}",'<select class="'+r+" "+t+'"><\/select>')}),n},initCombos:function(){var n,t;for(n in this.map)t=this.$widget[0].querySelectorAll("."+n),this["$"+n]=t.length?angular.element(t):null,this.fillCombo(n)},fillCombo:function(n){var t=this["$"+n],i;if(t){var u="fill"+n.charAt(0).toUpperCase()+n.slice(1),r=this[u](),f=t.val();for(t.html(""),i=0;i<r.length;i++)t.append('<option value="'+r[i][0]+'">'+r[i][1]+"<\/option>");t.val(f)}},fillCommon:function(n){var t,r=[],i;return"name"===this.options.firstItem?(t=moment.relativeTime||moment.langData()._relativeTime,i="function"==typeof t[n]?t[n](1,!0,n,!1):t[n],i=i.split(" ").reverse()[0],r.push(["",i])):"empty"===this.options.firstItem&&r.push(["",""]),r},fillDay:function(){var r,n,u=this.fillCommon("d"),e=-1!==this.options.template.indexOf("DD"),f=31,t,i;for(this.options.smartDays&&this.$month&&this.$year&&(t=parseInt(this.$month.val(),10),i=parseInt(this.$year.val(),10),isNaN(t)||isNaN(i)||(f=moment([i,t]).daysInMonth())),n=1;f>=n;n++)r=e?this.leadZero(n):n,u.push([n,r]);return u},fillMonth:function(){for(var t,i=this.fillCommon("M"),r=-1!==this.options.template.indexOf("MMMM"),u=-1!==this.options.template.indexOf("MMM"),f=-1!==this.options.template.indexOf("MM"),n=0;11>=n;n++)t=r?moment().date(1).month(n).format("MMMM"):u?moment().date(1).month(n).format("MMM"):f?this.leadZero(n+1):n+1,i.push([n,t]);return i},fillYear:function(){for(var t,i=[],r=-1!==this.options.template.indexOf("YYYY"),n=this.options.maxYear;n>=this.options.minYear;n--)t=r?n:(n+"").substring(2),i[this.options.yearDescending?"push":"unshift"]([n,t]);return this.fillCommon("y").concat(i)},fillHour:function(){for(var t,i=this.fillCommon("h"),r=-1!==this.options.template.indexOf("h"),u=(-1!==this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),f=r?1:0,e=r?12:23,n=f;e>=n;n++)t=u?this.leadZero(n):n,i.push([n,t]);return i},fillMinute:function(){for(var t,i=this.fillCommon("m"),r=-1!==this.options.template.indexOf("mm"),n=0;59>=n;n+=this.options.minuteStep)t=r?this.leadZero(n):n,i.push([n,t]);return i},fillSecond:function(){for(var t,i=this.fillCommon("s"),r=-1!==this.options.template.indexOf("ss"),n=0;59>=n;n+=this.options.secondStep)t=r?this.leadZero(n):n,i.push([n,t]);return i},fillAmpm:function(){var n=-1!==this.options.template.indexOf("a");return-1!==this.options.template.indexOf("A"),[["am",n?"am":"AM"],["pm",n?"pm":"PM"]]},getValue:function(n){var i,t={},r=this,u=!1;return angular.forEach(this.map,function(n,i){if("ampm"!==i){var f="day"===i?1:0;return t[i]=r["$"+i]?parseInt(r["$"+i].val(),10):f,isNaN(t[i])?(u=!0,!1):void 0}}),u?"":(this.$ampm&&(t.hour=12===t.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?t.hour:t.hour+12),i=moment([t.year,t.month,t.day,t.hour,t.minute,t.second]),this.highlight(i),n=void 0===n?this.options.format:n,null===n?i.isValid()?i:null:i.isValid()?i.format(n):"")},setValue:function(n){function u(n,t){var i={};return angular.forEach(n.children("option"),function(n){var r=angular.element(n).attr("value"),u;""!==r&&(u=Math.abs(r-t),("undefined"==typeof i.distance||u<i.distance)&&(i={value:r,distance:u}))}),i.value}if(n){var r="string"==typeof n?moment(n,this.options.format,!0):moment(n),i=this,t={};r.isValid()&&(angular.forEach(this.map,function(n,i){"ampm"!==i&&(t[i]=r[n[1]]())}),this.$ampm&&(t.hour>=12?(t.ampm="pm",t.hour>12&&(t.hour-=12)):(t.ampm="am",0===t.hour&&(t.hour=12))),angular.forEach(t,function(n,t){i["$"+t]&&("minute"===t&&i.options.minuteStep>1&&i.options.roundTime&&(n=u(i["$"+t],n)),"second"===t&&i.options.secondStep>1&&i.options.roundTime&&(n=u(i["$"+t],n)),i["$"+t].val(n))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(r.format(this.options.format)).triggerHandler("change"))}},highlight:function(n){n.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(n){return 9>=n?"0"+n:n},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}},{getInstance:function(t,i){return new n(t,i)}}}]);angular.module("xeditable").factory("editableIcons",function(){return{"default":{bs2:{ok:"icon-ok icon-white",cancel:"icon-remove"},bs3:{ok:"glyphicon glyphicon-ok",cancel:"glyphicon glyphicon-remove"}},external:{"font-awesome":{ok:"fa fa-check",cancel:"fa fa-times"},mdi:{ok:"mdi mdi-check",cancel:"mdi mdi-close"}}}});angular.module("xeditable").factory("editableThemes",function(){return{"default":{formTpl:'<form class="editable-wrap"><\/form>',noformTpl:'<span class="editable-wrap"><\/span>',controlsTpl:'<span class="editable-controls"><\/span>',inputTpl:"",errorTpl:'<div class="editable-error" data-ng-if="$error" data-ng-bind="$error"><\/div>',buttonsTpl:'<span class="editable-buttons"><\/span>',submitTpl:'<button type="submit">save<\/button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel<\/button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"><\/form>',noformTpl:'<span class="editable-wrap"><\/span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"><\/div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind="$error"><\/div>',buttonsTpl:'<span class="editable-buttons"><\/span>',submitTpl:'<button type="submit" class="btn btn-primary"><span><\/span><\/button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span><\/span><\/button>'},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"><\/form>',noformTpl:'<span class="editable-wrap"><\/span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"><\/div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind="$error"><\/div>',buttonsTpl:'<span class="editable-buttons"><\/span>',submitTpl:'<button type="submit" class="btn btn-primary"><span><\/span><\/button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span><\/span><\/button>',buttonsClass:"",inputClass:"",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableBsdate":case"editableTime":case"editableMonth":case"editableWeek":case"editablePassword":case"editableDatetimeLocal":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}break;case"editableCheckbox":this.editorEl.addClass("checkbox")}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}},semantic:{formTpl:'<form class="editable-wrap ui form" ng-class="{\'error\': $error}" role="form"><\/form>',noformTpl:'<span class="editable-wrap"><\/span>',controlsTpl:'<div class="editable-controls ui fluid input" ng-class="{\'error\': $error}"><\/div>',inputTpl:"",errorTpl:'<div class="editable-error ui error message" data-ng-if="$error" data-ng-bind="$error"><\/div>',buttonsTpl:'<span class="mini ui buttons"><\/span>',submitTpl:'<button type="submit" class="ui primary button"><i class="ui check icon"><\/i><\/button>',cancelTpl:'<button type="button" class="ui button" ng-click="$form.$cancel()"><i class="ui cancel icon"><\/i><\/button>'}}});angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.dateparser","ui.bootstrap.dropdown","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.isClass","ui.bootstrap.timepicker","ui.bootstrap.modal","ui.bootstrap.stackedMap"]);angular.module("ui.bootstrap.tpls",["uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/timepicker/timepicker.html","uib/template/modal/window.html"]);angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(n,t,i,r){function l(n){var e=[],i=n.split(""),o=n.indexOf("'"),f,t;if(o>-1){for(f=!1,n=n.split(""),t=o;t<n.length;t++)f?("'"===n[t]&&(t+1<n.length&&"'"===n[t+1]?(n[t+1]="$",i[t+1]=""):(i[t]="",f=!1)),n[t]="$"):"'"===n[t]&&(n[t]="$",i[t]="",f=!0);n=n.join("")}return angular.forEach(u,function(t){var r=n.indexOf(t.key),u,f;if(r>-1){for(n=n.split(""),i[r]="("+t.regex+")",n[r]="$",u=r+1,f=r+t.key.length;f>u;u++)i[u]="",n[u]="$";n=n.join("");e.push({index:r,key:t.key,apply:t.apply,matcher:t.regex})}}),{regex:new RegExp("^"+i.join("")+"$"),map:r(e,"index")}}function a(n){for(var r,i,u=[],t=0;t<n.length;)if(angular.isNumber(i)){if("'"===n.charAt(t))(t+1>=n.length||"'"!==n.charAt(t+1))&&(u.push(v(n,i,t)),i=null);else if(t===n.length)for(;i<n.length;)r=o(n,i),u.push(r),i=r.endIdx;t++}else"'"!==n.charAt(t)?(r=o(n,t),u.push(r.parser),t=r.endIdx):(i=t,t++);return u}function v(n,t,i){return function(){return n.substr(t+1,i-t-1)}}function o(n,t){for(var f,r=n.substr(t),i=0;i<u.length;i++)if(new RegExp("^"+u[i].key).test(r))return f=u[i],{endIdx:t+f.key.length,parser:f.formatter};return{endIdx:t+1,parser:function(){return r.charAt(0)}}}function y(n,t,i){return 1>i?!1:1===t&&i>28?29===i&&(n%4==0&&n%100!=0||n%400==0):3===t||5===t||8===t||10===t?31>i:!0}function s(n){return parseInt(n,10)}function p(n,t){return n&&t?f(n,t):n}function w(n,t){return n&&t?f(n,t,!0):n}function h(n,t){n=n.replace(/:/g,"");var i=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(i)?t:i}function c(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function f(n,t,i){i=i?-1:1;var r=n.getTimezoneOffset(),u=h(t,r);return c(n,i*(u-r))}var e,u,b=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){e=t.id;this.parsers={};this.formatters={};u=[{key:"yyyy",regex:"\\d{4}",apply:function(n){this.year=+n},formatter:function(n){var t=new Date;return t.setFullYear(Math.abs(n.getFullYear())),i(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(n){n=+n;this.year=69>n?n+2e3:n+1900},formatter:function(n){var t=new Date;return t.setFullYear(Math.abs(n.getFullYear())),i(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(n){this.year=+n},formatter:function(n){var t=new Date;return t.setFullYear(Math.abs(n.getFullYear())),i(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(n){this.month=n-1},formatter:function(n){var t=n.getMonth();return/^[0-9]$/.test(t)?i(n,"MM"):i(n,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(n){this.month=t.DATETIME_FORMATS.MONTH.indexOf(n)},formatter:function(n){return i(n,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(n){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(n)},formatter:function(n){return i(n,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(n){this.month=n-1},formatter:function(n){return i(n,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(n){this.month=n-1},formatter:function(n){return i(n,"M")}},{key:"LLLL",regex:t.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(n){this.month=t.DATETIME_FORMATS.STANDALONEMONTH.indexOf(n)},formatter:function(n){return i(n,"LLLL")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(n){this.date=+n},formatter:function(n){var t=n.getDate();return/^[1-9]$/.test(t)?i(n,"dd"):i(n,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(n){this.date=+n},formatter:function(n){return i(n,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(n){this.date=+n},formatter:function(n){return i(n,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(n){return i(n,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(n){return i(n,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(n){this.hours=+n},formatter:function(n){return i(n,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(n){this.hours=+n},formatter:function(n){return i(n,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(n){this.hours=+n},formatter:function(n){return i(n,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(n){this.hours=+n},formatter:function(n){return i(n,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(n){this.minutes=+n},formatter:function(n){return i(n,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(n){this.minutes=+n},formatter:function(n){return i(n,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(n){this.milliseconds=+n},formatter:function(n){return i(n,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(n){this.seconds=+n},formatter:function(n){return i(n,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(n){this.seconds=+n},formatter:function(n){return i(n,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(n){12===this.hours&&(this.hours=0);"PM"===n&&(this.hours+=12)},formatter:function(n){return i(n,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(n){var t=n.match(/([+-])(\d{2})(\d{2})/),i=t[1],r=t[2],u=t[3];this.hours+=s(i+r);this.minutes+=s(i+u)},formatter:function(n){return i(n,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(n){return i(n,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(n){return i(n,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(n){return i(n,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(n){return i(n,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(n){return i(n,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(n){return i(n,"G")}}]};this.init();this.filter=function(n,i){if(!angular.isDate(n)||isNaN(n)||!i)return"";i=t.DATETIME_FORMATS[i]||i;t.id!==e&&this.init();this.formatters[i]||(this.formatters[i]=a(i));var r=this.formatters[i];return r.reduce(function(t,i){return t+i(n)},"")};this.parse=function(i,r,u){var f,o,s,k,a,v,p;if(!angular.isString(i)||!r)return i;r=t.DATETIME_FORMATS[r]||r;r=r.replace(b,"\\$&");t.id!==e&&this.init();this.parsers[r]||(this.parsers[r]=l(r,"apply"));var w=this.parsers[r],d=w.regex,g=w.map,h=i.match(d),c=!1;if(h&&h.length){for(angular.isDate(u)&&!isNaN(u.getTime())?f={year:u.getFullYear(),month:u.getMonth(),date:u.getDate(),hours:u.getHours(),minutes:u.getMinutes(),seconds:u.getSeconds(),milliseconds:u.getMilliseconds()}:(u&&n.warn("dateparser:","baseDate is not a valid date"),f={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0}),s=1,k=h.length;k>s;s++)a=g[s-1],"Z"===a.matcher&&(c=!0),a.apply&&a.apply.call(f,h[s]);return v=c?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,p=c?Date.prototype.setUTCHours:Date.prototype.setHours,y(f.year,f.month,f.date)&&(!angular.isDate(u)||isNaN(u.getTime())||c?(o=new Date(0),v.call(o,f.year,f.month,f.date),p.call(o,f.hours||0,f.minutes||0,f.seconds||0,f.milliseconds||0)):(o=new Date(u),v.call(o,f.year,f.month,f.date),p.call(o,f.hours,f.minutes,f.seconds,f.milliseconds))),o}};this.toTimezone=p;this.fromTimezone=w;this.timezoneToOffset=h;this.addDateMinutes=c;this.convertTimezoneToLocal=f}]);angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(n,t){var i=null,r;this.open=function(t){i||n.on("click",r);i&&i!==t&&(i.isOpen=!1);i=t};this.close=function(t){i===t&&(n.off("click",r),n.off("keydown",this.keybindFilter),i=null)};r=function(n){var r,u;!i||n&&"disabled"===i.getAutoClose()||n&&3===n.which||(r=i.getToggleElement(),n&&r&&r[0].contains(n.target)||(u=i.getDropdownElement(),n&&"outsideClick"===i.getAutoClose()&&u&&u[0].contains(n.target)||(i.focusToggleElement(),i.isOpen=!1,t.$$phase||i.$apply())))};this.keybindFilter=function(n){if(i){var t=i.getDropdownElement(),u=i.getToggleElement(),f=t&&t[0].contains(n.target),e=u&&u[0].contains(n.target);27===n.which?(n.stopPropagation(),i.focusToggleElement(),r()):i.isKeynavEnabled()&&-1!==[38,40].indexOf(n.which)&&i.isOpen&&(f||e)&&(n.preventDefault(),n.stopPropagation(),i.focusDropdownEntry(n.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(n,t,i,r,u,f,e,o,s,h,c){var p,w,l=this,a=n.$new(),k=u.appendToOpenClass,d=u.openClass,y=angular.noop,nt=i.onToggle?r(i.onToggle):angular.noop,b=!1,v=null,g=!1,tt=s.find("body");t.addClass("dropdown");this.init=function(){if(i.isOpen&&(w=r(i.isOpen),y=w.assign,n.$watch(w,function(n){a.isOpen=!!n})),angular.isDefined(i.dropdownAppendTo)){var u=r(i.dropdownAppendTo)(a);u&&(v=angular.element(u))}b=angular.isDefined(i.dropdownAppendToBody);g=angular.isDefined(i.keyboardNav);b&&!v&&(v=tt);v&&l.dropdownMenu&&(v.append(l.dropdownMenu),t.on("$destroy",function(){l.dropdownMenu.remove()}))};this.toggle=function(n){return a.isOpen=arguments.length?!!n:!a.isOpen,angular.isFunction(y)&&y(a,a.isOpen),a.isOpen};this.isOpen=function(){return a.isOpen};a.getToggleElement=function(){return l.toggleElement};a.getAutoClose=function(){return i.autoClose||"always"};a.getElement=function(){return t};a.isKeynavEnabled=function(){return g};a.focusDropdownEntry=function(n){var i=l.dropdownMenu?angular.element(l.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(n){case 40:l.selectedOption=angular.isNumber(l.selectedOption)?l.selectedOption===i.length-1?l.selectedOption:l.selectedOption+1:0;break;case 38:l.selectedOption=angular.isNumber(l.selectedOption)?0===l.selectedOption?0:l.selectedOption-1:i.length-1}i[l.selectedOption].focus()};a.getDropdownElement=function(){return l.dropdownMenu};a.focusToggleElement=function(){l.toggleElement&&l.toggleElement[0].focus()};a.$watch("isOpen",function(i,r){var u,it,g,w,rt,tt,ut,et,ft;v&&l.dropdownMenu&&(w=o.positionElements(t,l.dropdownMenu,"bottom-left",!0),rt=0,(u={top:w.top+"px",display:i?"block":"none"},it=l.dropdownMenu.hasClass("dropdown-menu-right"),it?(u.left="auto",g=o.scrollbarPadding(v),g.heightOverflow&&g.scrollbarWidth&&(rt=g.scrollbarWidth),u.right=window.innerWidth-rt-(w.left+t.prop("offsetWidth"))+"px"):(u.left=w.left+"px",u.right="auto"),b)||(tt=o.offset(v),u.top=w.top-tt.top+"px",it?u.right=window.innerWidth-(w.left-tt.left+t.prop("offsetWidth"))+"px":u.left=w.left-tt.left+"px"),l.dropdownMenu.css(u));ut=v?v:t;et=ut.hasClass(v?k:d);(et===!i&&e[i?"addClass":"removeClass"](ut,v?k:d).then(function(){angular.isDefined(i)&&i!==r&&nt(n,{open:!!i})}),i)?(l.dropdownMenuTemplateUrl?c(l.dropdownMenuTemplateUrl).then(function(n){p=a.$new();h(n.trim())(p,function(n){var t=n;l.dropdownMenu.replaceWith(t);l.dropdownMenu=t;s.on("keydown",f.keybindFilter)})}):s.on("keydown",f.keybindFilter),a.focusToggleElement(),f.open(a,t)):((f.close(a,t),l.dropdownMenuTemplateUrl)&&(p&&p.$destroy(),ft=angular.element('<ul class="dropdown-menu"><\/ul>'),l.dropdownMenu.replaceWith(ft),l.dropdownMenu=ft),l.selectedOption=null);angular.isFunction(y)&&y(n,i)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(n,t,i,r){r.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(n,t,i,r){if(r&&!angular.isDefined(i.dropdownNested)){t.addClass("dropdown-menu");var u=i.templateUrl;u&&(r.dropdownMenuTemplateUrl=u);r.dropdownMenu||(r.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(n,t,i,r){if(r){t.addClass("dropdown-toggle");r.toggleElement=t;var u=function(u){u.preventDefault();t.hasClass("disabled")||i.disabled||n.$apply(function(){r.toggle()})};t.bind("click",u);t.attr({"aria-haspopup":!0,"aria-expanded":!1});n.$watch(r.isOpen,function(n){t.attr("aria-expanded",!!n)});n.$on("$destroy",function(){t.unbind("click",u)})}}}});angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(n,t){var r,u,f={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},i={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},e=/(HTML|BODY)/;return{getRawNode:function(n){return n.nodeName?n:n[0]||n},parseStyle:function(n){return n=parseFloat(n),isFinite(n)?n:0},offsetParent:function(i){function u(n){return"static"===(t.getComputedStyle(n).position||"static")}i=this.getRawNode(i);for(var r=i.offsetParent||n[0].documentElement;r&&r!==n[0].documentElement&&u(r);)r=r.offsetParent;return r||n[0].documentElement},scrollbarWidth:function(i){var e,f;return i?(angular.isUndefined(u)&&(e=n.find("body"),e.addClass("uib-position-body-scrollbar-measure"),u=t.innerWidth-e[0].clientWidth,u=isFinite(u)?u:0,e.removeClass("uib-position-body-scrollbar-measure")),u):(angular.isUndefined(r)&&(f=angular.element('<div class="uib-position-scrollbar-measure"><\/div>'),n.find("body").append(f),r=f[0].offsetWidth-f[0].clientWidth,r=isFinite(r)?r:0,f.remove()),r)},scrollbarPadding:function(n){n=this.getRawNode(n);var u=t.getComputedStyle(n),f=this.parseStyle(u.paddingRight),o=this.parseStyle(u.paddingBottom),i=this.scrollParent(n,!1,!0),r=this.scrollbarWidth(e.test(i.tagName));return{scrollbarWidth:r,widthOverflow:i.scrollWidth>i.clientWidth,right:f+r,originalRight:f,heightOverflow:i.scrollHeight>i.clientHeight,bottom:o+r,originalBottom:o}},isScrollable:function(n,i){n=this.getRawNode(n);var u=i?f.hidden:f.normal,r=t.getComputedStyle(n);return u.test(r.overflow+r.overflowY+r.overflowX)},scrollParent:function(i,r,u){var c,e,s;i=this.getRawNode(i);var l=r?f.hidden:f.normal,h=n[0].documentElement,o=t.getComputedStyle(i);if(u&&l.test(o.overflow+o.overflowY+o.overflowX))return i;if(c="absolute"===o.position,e=i.parentElement||h,e===h||"fixed"===o.position)return h;for(;e.parentElement&&e!==h;){if(s=t.getComputedStyle(e),c&&"static"!==s.position&&(c=!1),!c&&l.test(s.overflow+s.overflowY+s.overflowX))break;e=e.parentElement}return e},position:function(i,r){var u,o,f,e;return i=this.getRawNode(i),u=this.offset(i),r&&(o=t.getComputedStyle(i),u.top-=this.parseStyle(o.marginTop),u.left-=this.parseStyle(o.marginLeft)),f=this.offsetParent(i),e={top:0,left:0},f!==n[0].documentElement&&(e=this.offset(f),e.top+=f.clientTop-f.scrollTop,e.left+=f.clientLeft-f.scrollLeft),{width:Math.round(angular.isNumber(u.width)?u.width:i.offsetWidth),height:Math.round(angular.isNumber(u.height)?u.height:i.offsetHeight),top:Math.round(u.top-e.top),left:Math.round(u.left-e.left)}},offset:function(i){i=this.getRawNode(i);var r=i.getBoundingClientRect();return{width:Math.round(angular.isNumber(r.width)?r.width:i.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:i.offsetHeight),top:Math.round(r.top+(t.pageYOffset||n[0].documentElement.scrollTop)),left:Math.round(r.left+(t.pageXOffset||n[0].documentElement.scrollLeft))}},viewportOffset:function(i,r,u){var o;i=this.getRawNode(i);u=u!==!1;var s=i.getBoundingClientRect(),f={top:0,left:0,bottom:0,right:0},e=r?n[0].documentElement:this.scrollParent(i),h=e.getBoundingClientRect();return(f.top=h.top+e.clientTop,f.left=h.left+e.clientLeft,e===n[0].documentElement&&(f.top+=t.pageYOffset,f.left+=t.pageXOffset),f.bottom=f.top+e.clientHeight,f.right=f.left+e.clientWidth,u)&&(o=t.getComputedStyle(e),f.top+=this.parseStyle(o.paddingTop),f.bottom-=this.parseStyle(o.paddingBottom),f.left+=this.parseStyle(o.paddingLeft),f.right-=this.parseStyle(o.paddingRight)),{top:Math.round(s.top-f.top),bottom:Math.round(f.bottom-s.bottom),left:Math.round(s.left-f.left),right:Math.round(f.right-s.right)}},parsePlacement:function(n){var t=i.auto.test(n);return t&&(n=n.replace(i.auto,"")),n=n.split("-"),n[0]=n[0]||"top",i.primary.test(n[0])||(n[0]="top"),n[1]=n[1]||"center",i.secondary.test(n[1])||(n[1]="center"),n[2]=!!t,n},positionElements:function(n,r,u,f){var c,l,e,h,v,y;if(n=this.getRawNode(n),r=this.getRawNode(r),c=angular.isDefined(r.offsetWidth)?r.offsetWidth:r.prop("offsetWidth"),l=angular.isDefined(r.offsetHeight)?r.offsetHeight:r.prop("offsetHeight"),u=this.parsePlacement(u),e=f?this.offset(n):this.position(n),h={top:0,left:0,placement:""},u[2]){var o=this.viewportOffset(n,f),a=t.getComputedStyle(r),s={width:c+Math.round(Math.abs(this.parseStyle(a.marginLeft)+this.parseStyle(a.marginRight))),height:l+Math.round(Math.abs(this.parseStyle(a.marginTop)+this.parseStyle(a.marginBottom)))};(u[0]="top"===u[0]&&s.height>o.top&&s.height<=o.bottom?"bottom":"bottom"===u[0]&&s.height>o.bottom&&s.height<=o.top?"top":"left"===u[0]&&s.width>o.left&&s.width<=o.right?"right":"right"===u[0]&&s.width>o.right&&s.width<=o.left?"left":u[0],u[1]="top"===u[1]&&s.height-e.height>o.bottom&&s.height-e.height<=o.top?"bottom":"bottom"===u[1]&&s.height-e.height>o.top&&s.height-e.height<=o.bottom?"top":"left"===u[1]&&s.width-e.width>o.right&&s.width-e.width<=o.left?"right":"right"===u[1]&&s.width-e.width>o.left&&s.width-e.width<=o.right?"left":u[1],"center"===u[1])&&(i.vertical.test(u[0])?(v=e.width/2-c/2,o.left+v<0&&s.width-e.width<=o.right?u[1]="left":o.right+v<0&&s.width-e.width<=o.left&&(u[1]="right")):(y=e.height/2-s.height/2,o.top+y<0&&s.height-e.height<=o.bottom?u[1]="top":o.bottom+y<0&&s.height-e.height<=o.top&&(u[1]="bottom")))}switch(u[0]){case"top":h.top=e.top-l;break;case"bottom":h.top=e.top+e.height;break;case"left":h.left=e.left-c;break;case"right":h.left=e.left+e.width}switch(u[1]){case"top":h.top=e.top;break;case"bottom":h.top=e.top+e.height-l;break;case"left":h.left=e.left;break;case"right":h.left=e.left+e.width-c;break;case"center":i.vertical.test(u[0])?h.left=e.left+e.width/2-c/2:h.top=e.top+e.height/2-l/2}return h.top=Math.round(h.top),h.left=Math.round(h.left),h.placement="center"===u[1]?u[0]:u[0]+"-"+u[1],h},adjustTop:function(n,t,i,r){if(-1!==n.indexOf("top")&&i!==r)return{top:t.top-r+"px"}},positionArrow:function(n,r){var o,f,e,u,c;if(n=this.getRawNode(n),o=n.querySelector(".tooltip-inner, .popover-inner"),o&&(f=angular.element(o).hasClass("tooltip-inner"),e=n.querySelector(f?".tooltip-arrow":".arrow"),e)){if(u={top:"",bottom:"",left:"",right:""},r=this.parsePlacement(r),"center"===r[1])return void angular.element(e).css(u);var l="border-"+r[0]+"-width",s=t.getComputedStyle(e)[l],h="border-";h+=i.vertical.test(r[0])?r[0]+"-"+r[1]:r[1]+"-"+r[0];h+="-radius";c=t.getComputedStyle(f?o:n)[h];switch(r[0]){case"top":u.bottom=f?"0":"-"+s;break;case"bottom":u.top=f?"0":"-"+s;break;case"left":u.right=f?"0":"-"+s;break;case"right":u.left=f?"0":"-"+s}u[r[1]]=c;angular.element(e).css(u)}}}}]);angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(n,t,i,r,u,f,e,o,s,h,c,l){function w(t){n.datepickerMode=t;n.datepickerOptions.datepickerMode=t}var a=this,v={$setViewValue:angular.noop},y={},p=[],b;t.addClass("uib-datepicker");i.$set("role","application");n.datepickerOptions||(n.datepickerOptions={});this.modes=["day","month","year"];["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":n[t]=n.datepickerOptions[t]||angular.noop;break;case"datepickerMode":n.datepickerMode=angular.isDefined(n.datepickerOptions.datepickerMode)?n.datepickerOptions.datepickerMode:s.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":a[t]=angular.isDefined(n.datepickerOptions[t])?u(n.datepickerOptions[t])(n.$parent):s[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":a[t]=angular.isDefined(n.datepickerOptions[t])?n.datepickerOptions[t]:s[t];break;case"startingDay":a.startingDay=angular.isDefined(n.datepickerOptions.startingDay)?n.datepickerOptions.startingDay:angular.isNumber(s.startingDay)?s.startingDay:(f.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":n.$watch("datepickerOptions."+t,function(n){n?angular.isDate(n)?a[t]=l.fromTimezone(new Date(n),y.timezone):(h&&e.warn("Literal date support has been deprecated, please switch to date object usage"),a[t]=new Date(o(n,"medium"))):a[t]=s[t]?l.fromTimezone(new Date(s[t]),y.timezone):null;a.refreshView()});break;case"maxMode":case"minMode":n.datepickerOptions[t]?n.$watch(function(){return n.datepickerOptions[t]},function(i){a[t]=n[t]=angular.isDefined(i)?i:n.datepickerOptions[t];("minMode"===t&&a.modes.indexOf(n.datepickerOptions.datepickerMode)<a.modes.indexOf(a[t])||"maxMode"===t&&a.modes.indexOf(n.datepickerOptions.datepickerMode)>a.modes.indexOf(a[t]))&&(n.datepickerMode=a[t],n.datepickerOptions.datepickerMode=a[t])}):a[t]=n[t]=s[t]||null}});n.uniqueId="datepicker-"+n.$id+"-"+Math.floor(1e4*Math.random());n.disabled=angular.isDefined(i.disabled)||!1;angular.isDefined(i.ngDisabled)&&p.push(n.$parent.$watch(i.ngDisabled,function(t){n.disabled=t;a.refreshView()}));n.isActive=function(t){return 0===a.compare(t.date,a.activeDate)?(n.activeDateId=t.uid,!0):!1};this.init=function(t){v=t;y=t.$options||n.datepickerOptions.ngModelOptions||s.ngModelOptions;n.datepickerOptions.initDate?(a.activeDate=l.fromTimezone(n.datepickerOptions.initDate,y.timezone)||new Date,n.$watch("datepickerOptions.initDate",function(n){n&&(v.$isEmpty(v.$modelValue)||v.$invalid)&&(a.activeDate=l.fromTimezone(n,y.timezone),a.refreshView())})):a.activeDate=new Date;var i=v.$modelValue?new Date(v.$modelValue):new Date;this.activeDate=isNaN(i)?l.fromTimezone(new Date,y.timezone):l.fromTimezone(i,y.timezone);v.$render=function(){a.render()}};this.render=function(){if(v.$viewValue){var n=new Date(v.$viewValue),t=!isNaN(n);t?this.activeDate=l.fromTimezone(n,y.timezone):c||e.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()};this.refreshView=function(){if(this.element){n.selectedDt=null;this._refreshView();n.activeDt&&(n.activeDateId=n.activeDt.uid);var t=v.$viewValue?new Date(v.$viewValue):null;t=l.fromTimezone(t,y.timezone);v.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}};this.createDateObject=function(t,i){var r=v.$viewValue?new Date(v.$viewValue):null,f,e,u;return r=l.fromTimezone(r,y.timezone),f=new Date,f=l.fromTimezone(f,y.timezone),e=this.compare(t,f),u={date:t,label:l.filter(t,i),selected:r&&0===this.compare(t,r),disabled:this.isDisabled(t),past:0>e,current:0===e,future:e>0,customClass:this.customClass(t)||null},r&&0===this.compare(t,r)&&(n.selectedDt=u),a.activeDate&&0===this.compare(u.date,a.activeDate)&&(n.activeDt=u),u};this.isDisabled=function(t){return n.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||n.dateDisabled&&n.dateDisabled({date:t,mode:n.datepickerMode})};this.customClass=function(t){return n.customClass({date:t,mode:n.datepickerMode})};this.split=function(n,t){for(var i=[];n.length>0;)i.push(n.splice(0,t));return i};n.select=function(t){if(n.datepickerMode===a.minMode){var i=v.$viewValue?l.fromTimezone(new Date(v.$viewValue),y.timezone):new Date(0,0,0,0,0,0,0);i.setFullYear(t.getFullYear(),t.getMonth(),t.getDate());i=l.toTimezone(i,y.timezone);v.$setViewValue(i);v.$render()}else a.activeDate=t,w(a.modes[a.modes.indexOf(n.datepickerMode)-1]),n.$emit("uib:datepicker.mode");n.$broadcast("uib:datepicker.focus")};n.move=function(n){var t=a.activeDate.getFullYear()+n*(a.step.years||0),i=a.activeDate.getMonth()+n*(a.step.months||0);a.activeDate.setFullYear(t,i,1);a.refreshView()};n.toggleMode=function(t){t=t||1;n.datepickerMode===a.maxMode&&1===t||n.datepickerMode===a.minMode&&-1===t||(w(a.modes[a.modes.indexOf(n.datepickerMode)+t]),n.$emit("uib:datepicker.mode"))};n.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};b=function(){a.element[0].focus()};n.$on("uib:datepicker.focus",b);n.keydown=function(t){var i=n.keys[t.which];if(i&&!t.shiftKey&&!t.altKey&&!n.disabled)if(t.preventDefault(),a.shortcutPropagation||t.stopPropagation(),"enter"===i||"space"===i){if(a.isDisabled(a.activeDate))return;n.select(a.activeDate)}else!t.ctrlKey||"up"!==i&&"down"!==i?(a.handleKeyDown(i,t),a.refreshView()):n.toggleMode("up"===i?1:-1)};t.on("keydown",function(t){n.$apply(function(){n.keydown(t)})});n.$on("$destroy",function(){for(;p.length;)p.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(n,t,i){function r(n,t){return 1!==t||n%4!=0||n%100==0&&n%400!=0?f[t]:29}function u(n){var t=new Date(n),i;return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1}var f=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1};this.element=t;this.init=function(t){angular.extend(t,this);n.showWeeks=t.showWeeks;t.refreshView()};this.getDates=function(n,t){for(var r,u=new Array(t),i=new Date(n),f=0;t>f;)r=new Date(i),u[f++]=r,i.setDate(i.getDate()+1);return u};this._refreshView=function(){var a=this.activeDate.getFullYear(),h=this.activeDate.getMonth(),e=new Date(this.activeDate),t,r,f;e.setFullYear(a,h,1);var o=this.startingDay-e.getDay(),c=o>0?7-o:-o,l=new Date(e);for(c>0&&l.setDate(-c+1),t=this.getDates(l,42),r=0;42>r;r++)t[r]=angular.extend(this.createDateObject(t[r],this.formatDay),{secondary:t[r].getMonth()!==h,uid:n.uniqueId+"-"+r});for(n.labels=new Array(7),f=0;7>f;f++)n.labels[f]={abbr:i(t[f].date,this.formatDayHeader),full:i(t[f].date,"EEEE")};if(n.title=i(this.activeDate,this.formatDayTitle),n.rows=this.split(t,7),n.showWeeks){n.weekNumbers=[];for(var v=(11-this.startingDay)%7,y=n.rows.length,s=0;y>s;s++)n.weekNumbers.push(u(n.rows[s][v].date))}};this.compare=function(n,t){var i=new Date(n.getFullYear(),n.getMonth(),n.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate());return i.setFullYear(n.getFullYear()),r.setFullYear(t.getFullYear()),i-r};this.handleKeyDown=function(n){var t=this.activeDate.getDate(),i;"left"===n?t-=1:"up"===n?t-=7:"right"===n?t+=1:"down"===n?t+=7:"pageup"===n||"pagedown"===n?(i=this.activeDate.getMonth()+("pageup"===n?-1:1),this.activeDate.setMonth(i,1),t=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),t)):"home"===n?t=1:"end"===n&&(t=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(t)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(n,t,i){this.step={years:1};this.element=t;this.init=function(n){angular.extend(n,this);n.refreshView()};this._refreshView=function(){for(var r,u=new Array(12),f=this.activeDate.getFullYear(),t=0;12>t;t++)r=new Date(this.activeDate),r.setFullYear(f,t,1),u[t]=angular.extend(this.createDateObject(r,this.formatMonth),{uid:n.uniqueId+"-"+t});n.title=i(this.activeDate,this.formatMonthTitle);n.rows=this.split(u,this.monthColumns);n.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1};this.compare=function(n,t){var i=new Date(n.getFullYear(),n.getMonth()),r=new Date(t.getFullYear(),t.getMonth());return i.setFullYear(n.getFullYear()),r.setFullYear(t.getFullYear()),i-r};this.handleKeyDown=function(n){var t=this.activeDate.getMonth(),i;"left"===n?t-=1:"up"===n?t-=this.monthColumns:"right"===n?t+=1:"down"===n?t+=this.monthColumns:"pageup"===n||"pagedown"===n?(i=this.activeDate.getFullYear()+("pageup"===n?-1:1),this.activeDate.setFullYear(i)):"home"===n?t=0:"end"===n&&(t=11);this.activeDate.setMonth(t)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(n,t){function u(n){return parseInt((n-1)/i,10)*i+1}var r,i;this.element=t;this.yearpickerInit=function(){r=this.yearColumns;i=this.yearRows*r;this.step={years:i}};this._refreshView=function(){for(var e,f=new Array(i),t=0,o=u(this.activeDate.getFullYear());i>t;t++)e=new Date(this.activeDate),e.setFullYear(o+t,0,1),f[t]=angular.extend(this.createDateObject(e,this.formatYear),{uid:n.uniqueId+"-"+t});n.title=[f[0].label,f[i-1].label].join(" - ");n.rows=this.split(f,r);n.columns=r};this.compare=function(n,t){return n.getFullYear()-t.getFullYear()};this.handleKeyDown=function(n){var t=this.activeDate.getFullYear();"left"===n?t-=1:"up"===n?t-=r:"right"===n?t+=1:"down"===n?t+=r:"pageup"===n||"pagedown"===n?t+=("pageup"===n?-1:1)*i:"home"===n?t=u(this.activeDate.getFullYear()):"end"===n&&(t=u(this.activeDate.getFullYear())+i-1);this.activeDate.setFullYear(t)}}]).directive("uibDatepicker",function(){return{templateUrl:function(n,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(n,t,i,r){var u=r[0],f=r[1];u.init(f)}}}).directive("uibDaypicker",function(){return{templateUrl:function(n,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(n,t,i,r){var u=r[0],f=r[1];f.init(u)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(n,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(n,t,i,r){var u=r[0],f=r[1];f.init(u)}}}).directive("uibYearpicker",function(){return{templateUrl:function(n,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(n,t,i,r){var u=r[0];angular.extend(u,r[1]);u.yearpickerInit();u.refreshView()}}});angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(n){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,i=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(r,u){function h(n,t){f.push(n);o.push({scope:n,element:t});y.forEach(function(t){c(t,n)});n.$on("$destroy",l)}function c(t,r){var h=t.match(i),c=r.$eval(h[1]),f=h[2],u=e[t],s;u||(s=function(t){var i=null;o.some(function(n){var r=n.scope.$eval(a);if(r===t)return(i=n,!0)});u.lastActivated!==i&&(u.lastActivated&&n.removeClass(u.lastActivated.element,c),i&&n.addClass(i.element,c),u.lastActivated=i)},e[t]=u={lastActivated:null,scope:r,watchFn:s,compareWithExp:f,watcher:r.$watch(f,s)});u.watchFn(r.$eval(f))}function l(n){var i=n.targetScope,r=f.indexOf(i),t;(f.splice(r,1),o.splice(r,1),f.length)?(t=f[0],angular.forEach(e,function(n){n.scope===i&&(n.watcher=t.$watch(n.compareWithExp,n.watchFn),n.scope=t)})):e={}}var f=[],o=[],e={},s=u.uibIsClass.match(t),a=s[2],v=s[1],y=v.split(",");return h}}}]);angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(n,t,i,r,u,f,e){function ut(){var t=+n.hours,i=n.showMeridian?t>0&&13>t:t>=0&&24>t;if(i&&""!==n.hours)return(n.showMeridian&&(12===t&&(t=0),n.meridian===v[1]&&(t+=12)),t)}function ft(){var t=+n.minutes,i=t>=0&&60>t;if(i&&""!==n.minutes)return t}function ct(){var t=+n.seconds;if(t>=0&&60>t)return t}function p(n,t){return null===n?"":angular.isDefined(n)&&n.toString().length<2&&!t?"0"+n:n.toString()}function g(n){nt();s.$setViewValue(new Date(o));ot(n)}function nt(){tt&&tt.$setValidity("hours",!0);it&&it.$setValidity("minutes",!0);rt&&rt.$setValidity("seconds",!0);s.$setValidity("time",!0);n.invalidHours=!1;n.invalidMinutes=!1;n.invalidSeconds=!1}function ot(t){if(s.$modelValue){var i=o.getHours(),r=o.getMinutes(),u=o.getSeconds();n.showMeridian&&(i=0===i||12===i?12:i%12);n.hours="h"===t?i:p(i,!ht);"m"!==t&&(n.minutes=p(r));n.meridian=o.getHours()<12?v[0]:v[1];"s"!==t&&(n.seconds=p(u));n.meridian=o.getHours()<12?v[0]:v[1]}else n.hours=null,n.minutes=null,n.seconds=null,n.meridian=v[0]}function y(n){o=et(o,n);g()}function w(n,t){return et(n,60*t)}function et(n,t){var i=new Date(n.getTime()+1e3*t),r=new Date(n);return r.setHours(i.getHours(),i.getMinutes(),i.getSeconds()),r}function st(){return!(null!==n.hours&&""!==n.hours||null!==n.minutes&&""!==n.minutes||n.showSeconds&&(!n.showSeconds||null!==n.seconds&&""!==n.seconds))}var tt,it,rt,o=new Date,a=[],s={$setViewValue:angular.noop},v=angular.isDefined(i.meridians)?n.$parent.$eval(i.meridians):e.meridians||f.DATETIME_FORMATS.AMPMS,ht=angular.isDefined(i.padHours)?n.$parent.$eval(i.padHours):!0,b,k,c,l,h,d;n.tabindex=angular.isDefined(i.tabindex)?i.tabindex:0;t.removeAttr("tabindex");this.init=function(t,r){var h,c;s=t;s.$render=this.render;s.$formatters.unshift(function(n){return n?new Date(n):null});var u=r.eq(0),f=r.eq(1),o=r.eq(2);tt=u.controller("ngModel");it=f.controller("ngModel");rt=o.controller("ngModel");h=angular.isDefined(i.mousewheel)?n.$parent.$eval(i.mousewheel):e.mousewheel;h&&this.setupMousewheelEvents(u,f,o);c=angular.isDefined(i.arrowkeys)?n.$parent.$eval(i.arrowkeys):e.arrowkeys;c&&this.setupArrowkeyEvents(u,f,o);n.readonlyInput=angular.isDefined(i.readonlyInput)?n.$parent.$eval(i.readonlyInput):e.readonlyInput;this.setupInputEvents(u,f,o)};b=e.hourStep;i.hourStep&&a.push(n.$parent.$watch(r(i.hourStep),function(n){b=+n}));k=e.minuteStep;i.minuteStep&&a.push(n.$parent.$watch(r(i.minuteStep),function(n){k=+n}));a.push(n.$parent.$watch(r(i.min),function(n){var t=new Date(n);c=isNaN(t)?void 0:t}));a.push(n.$parent.$watch(r(i.max),function(n){var t=new Date(n);l=isNaN(t)?void 0:t}));h=!1;i.ngDisabled&&a.push(n.$parent.$watch(r(i.ngDisabled),function(n){h=n}));n.noIncrementHours=function(){var n=w(o,60*b);return h||n>l||o>n&&c>n};n.noDecrementHours=function(){var n=w(o,60*-b);return h||c>n||n>o&&n>l};n.noIncrementMinutes=function(){var n=w(o,k);return h||n>l||o>n&&c>n};n.noDecrementMinutes=function(){var n=w(o,-k);return h||c>n||n>o&&n>l};n.noIncrementSeconds=function(){var n=et(o,d);return h||n>l||o>n&&c>n};n.noDecrementSeconds=function(){var n=et(o,-d);return h||c>n||n>o&&n>l};n.noToggleMeridian=function(){return o.getHours()<12?h||w(o,720)>l:h||w(o,-720)<c};d=e.secondStep;i.secondStep&&a.push(n.$parent.$watch(r(i.secondStep),function(n){d=+n}));n.showSeconds=e.showSeconds;i.showSeconds&&a.push(n.$parent.$watch(r(i.showSeconds),function(t){n.showSeconds=!!t}));n.showMeridian=e.showMeridian;i.showMeridian&&a.push(n.$parent.$watch(r(i.showMeridian),function(t){if(n.showMeridian=!!t,s.$error.time){var i=ut(),r=ft();angular.isDefined(i)&&angular.isDefined(r)&&(o.setHours(i),g())}else ot()}));this.setupMousewheelEvents=function(t,i,r){var u=function(n){n.originalEvent&&(n=n.originalEvent);var t=n.wheelDelta?n.wheelDelta:-n.deltaY;return n.detail||t>0};t.bind("mousewheel wheel",function(t){h||n.$apply(u(t)?n.incrementHours():n.decrementHours());t.preventDefault()});i.bind("mousewheel wheel",function(t){h||n.$apply(u(t)?n.incrementMinutes():n.decrementMinutes());t.preventDefault()});r.bind("mousewheel wheel",function(t){h||n.$apply(u(t)?n.incrementSeconds():n.decrementSeconds());t.preventDefault()})};this.setupArrowkeyEvents=function(t,i,r){t.bind("keydown",function(t){h||(38===t.which?(t.preventDefault(),n.incrementHours(),n.$apply()):40===t.which&&(t.preventDefault(),n.decrementHours(),n.$apply()))});i.bind("keydown",function(t){h||(38===t.which?(t.preventDefault(),n.incrementMinutes(),n.$apply()):40===t.which&&(t.preventDefault(),n.decrementMinutes(),n.$apply()))});r.bind("keydown",function(t){h||(38===t.which?(t.preventDefault(),n.incrementSeconds(),n.$apply()):40===t.which&&(t.preventDefault(),n.decrementSeconds(),n.$apply()))})};this.setupInputEvents=function(t,i,r){if(n.readonlyInput)return n.updateHours=angular.noop,n.updateMinutes=angular.noop,void(n.updateSeconds=angular.noop);var u=function(t,i,r){s.$setViewValue(null);s.$setValidity("time",!1);angular.isDefined(t)&&(n.invalidHours=t,tt&&tt.$setValidity("hours",!1));angular.isDefined(i)&&(n.invalidMinutes=i,it&&it.$setValidity("minutes",!1));angular.isDefined(r)&&(n.invalidSeconds=r,rt&&rt.$setValidity("seconds",!1))};n.updateHours=function(){var n=ut(),t=ft();s.$setDirty();angular.isDefined(n)&&angular.isDefined(t)?(o.setHours(n),o.setMinutes(t),c>o||o>l?u(!0):g("h")):u(!0)};t.bind("blur",function(){s.$setTouched();st()?nt():null===n.hours||""===n.hours?u(!0):!n.invalidHours&&n.hours<10&&n.$apply(function(){n.hours=p(n.hours,!ht)})});n.updateMinutes=function(){var n=ft(),t=ut();s.$setDirty();angular.isDefined(n)&&angular.isDefined(t)?(o.setHours(t),o.setMinutes(n),c>o||o>l?u(void 0,!0):g("m")):u(void 0,!0)};i.bind("blur",function(){s.$setTouched();st()?nt():null===n.minutes?u(void 0,!0):!n.invalidMinutes&&n.minutes<10&&n.$apply(function(){n.minutes=p(n.minutes)})});n.updateSeconds=function(){var n=ct();s.$setDirty();angular.isDefined(n)?(o.setSeconds(n),g("s")):u(void 0,void 0,!0)};r.bind("blur",function(){st()?nt():!n.invalidSeconds&&n.seconds<10&&n.$apply(function(){n.seconds=p(n.seconds)})})};this.render=function(){var t=s.$viewValue;isNaN(t)?(s.$setValidity("time",!1),u.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(o=t),c>o||o>l?(s.$setValidity("time",!1),n.invalidHours=!0,n.invalidMinutes=!0):nt(),ot())};n.showSpinners=angular.isDefined(i.showSpinners)?n.$parent.$eval(i.showSpinners):e.showSpinners;n.incrementHours=function(){n.noIncrementHours()||y(3600*b)};n.decrementHours=function(){n.noDecrementHours()||y(3600*-b)};n.incrementMinutes=function(){n.noIncrementMinutes()||y(60*k)};n.decrementMinutes=function(){n.noDecrementMinutes()||y(60*-k)};n.incrementSeconds=function(){n.noIncrementSeconds()||y(d)};n.decrementSeconds=function(){n.noDecrementSeconds()||y(-d)};n.toggleMeridian=function(){var t=ft(),i=ut();n.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(i)?y(720*(o.getHours()<12?60:-60)):n.meridian=n.meridian===v[0]?v[1]:v[0])};n.blur=function(){s.$setTouched()};n.$on("$destroy",function(){for(;a.length;)a.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(n){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,i){return i.templateUrl||n.templateUrl},link:function(n,t,i,r){var f=r[0],u=r[1];u&&f.init(u,t.find("input"))}}}]);angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var n={};return{entries:function(){return Object.keys(n).map(function(t){return{key:t,value:n[t]}})},get:function(t){return n[t]},hasKey:function(t){return!!n[t]},keys:function(){return Object.keys(n)},put:function(t,i){n[t]||(n[t]=[]);n[t].push(i)},remove:function(t,i){var r=n[t],u;r&&(u=r.indexOf(i),-1!==u&&r.splice(u,1),r.length||delete n[t])}}}}}).provider("$uibResolve",function(){var n=this;this.resolver=null;this.setResolver=function(n){this.resolver=n};this.$get=["$injector","$q",function(t,i){var r=n.resolver?t.get(n.resolver):null;return{resolve:function(n,u,f,e){if(r)return r.resolve(n,u,f,e);var o=[];return angular.forEach(n,function(n){o.push(angular.isFunction(n)||angular.isArray(n)?i.resolve(t.invoke(n)):angular.isString(n)?i.resolve(t.get(n)):i.resolve(n))}),i.all(o).then(function(t){var i={},r=0;return angular.forEach(n,function(n,u){i[u]=t[r++]}),i})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(n,t,i){function r(t,r,u){u.modalInClass&&(n.addClass(r,u.modalInClass),t.$on(i.NOW_CLOSING_EVENT,function(i,f){var e=f();t.modalOptions.animation?n.removeClass(r,u.modalInClass).then(e):e()}))}return{restrict:"A",compile:function(n,t){return n.addClass(t.backdropClass),r}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(n,t,i,r){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(n,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(u,f,e){f.addClass(e.windowTopClass||"");u.size=e.size;u.close=function(t){var i=n.getTop();i&&i.value.backdrop&&"static"!==i.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),n.dismiss(i.key,"backdrop click"))};f.on("click",u.close);u.$isRendered=!0;var o=t.defer();u.$$postDigest(function(){o.resolve()});o.promise.then(function(){var o=null;e.modalInClass&&(o=i(f,{addClass:e.modalInClass}).start(),u.$on(n.NOW_CLOSING_EVENT,function(n,t){var r=t();i(f,{removeClass:e.modalInClass}).start().then(r)}));t.when(o).then(function(){var i=n.getTop(),t;(i&&n.modalRendered(i.key),r[0].activeElement&&f[0].contains(r[0].activeElement))||(t=f[0].querySelector("[autofocus]"),t?t.focus():f[0].focus())})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(n,t){t.modalAnimation&&n.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(n){return{link:function(t,i,r,u,f){f(t.$parent,function(t){i.empty();n.enter(t,i)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(n,t,i,r,u,f,e,o,s){function ft(n){var t="-";return n.replace(ht,function(n,i){return(i?t:"")+n.toLowerCase()})}function et(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)}function b(){for(var n=-1,i=c.keys(),t=0;t<i.length;t++)c.get(i[t]).value.backdrop&&(n=t);return n>-1&&y>n&&(n=y),n}function d(n,t){var i=c.get(n).value,r=i.appendTo;c.remove(n);p=c.top();p&&(y=parseInt(p.value.modalDomEl.attr("index"),10));nt(i.modalDomEl,i.modalScope,function(){var t=i.openedClass||ut,u;k.remove(t,n);u=k.hasKey(t);r.toggleClass(t,u);!u&&a&&a.heightOverflow&&a.scrollbarWidth&&(r.css(a.originalRight?{paddingRight:a.originalRight+"px"}:{paddingRight:""}),a=null);g(!0)},i.closedDeferred);ot();t&&t.focus?t.focus():r.focus&&r.focus()}function g(n){var t;c.length()>0&&(t=c.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",n))}function ot(){if(l&&-1===b()){var n=v;nt(l,v,function(){n=null});l=void 0;v=void 0}}function nt(t,i,r,u){function o(){o.done||(o.done=!0,n.leave(t).then(function(){r&&r();t.remove();u&&u.resolve()}),i.$destroy())}var e,s=null,c=function(){return e||(e=f.defer(),s=e.promise),function(){e.resolve()}};return i.$broadcast(h.NOW_CLOSING_EVENT,c),f.when(s).then(o)}function tt(n){var t,i,r;if(n.isDefaultPrevented())return n;if(t=c.top(),t)switch(n.which){case 27:t.value.keyboard&&(n.preventDefault(),u.$apply(function(){h.dismiss(t.key,"escape key press")}));break;case 9:i=h.loadFocusElementList(t);r=!1;n.shiftKey?(h.isFocusInFirstItem(n,i)||h.isModalFocused(n,t))&&(r=h.focusLastFocusableElement(i)):h.isFocusInLastItem(n,i)&&(r=h.focusFirstFocusableElement(i));r&&(n.preventDefault(),n.stopPropagation())}}function it(n,t,i){return!n.value.modalScope.$broadcast("modal.closing",t,i).defaultPrevented}function rt(){Array.prototype.forEach.call(document.querySelectorAll("["+w+"]"),function(n){var i=parseInt(n.getAttribute(w),10),t=i-1;n.setAttribute(w,t);t||(n.removeAttribute(w),n.removeAttribute("aria-hidden"))})}var l,v,a,ut="modal-open",c=o.createNew(),k=e.createNew(),h={NOW_CLOSING_EVENT:"modal.stack.now-closing"},y=0,p=null,w="data-bootstrap-modal-aria-hidden-count",st="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]",ht=/[A-Z]/g;return u.$watch(b,function(n){v&&(v.index=n)}),i.on("keydown",tt),u.$on("$destroy",function(){i.off("keydown",tt)}),h.open=function(t,f){function nt(n){function t(n){var t=n.parent()?n.parent().children():[];return Array.prototype.filter.call(t,function(t){return t!==n[0]})}if(n&&"BODY"!==n[0].tagName)return(t(n).forEach(function(n){var i="true"===n.getAttribute("aria-hidden"),t=parseInt(n.getAttribute(w),10);t||(t=i?1:0);n.setAttribute(w,t+1);n.setAttribute("aria-hidden","true")}),nt(n.parent()))}var it=i[0].activeElement,tt=f.openedClass||ut,e,d,h,o;if(g(!1),p=c.top(),c.add(t,{deferred:f.deferred,renderDeferred:f.renderDeferred,closedDeferred:f.closedDeferred,modalScope:f.scope,backdrop:f.backdrop,keyboard:f.keyboard,openedClass:f.openedClass,windowTopClass:f.windowTopClass,animation:f.animation,appendTo:f.appendTo}),k.put(tt,t),e=f.appendTo,d=b(),!e.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");d>=0&&!l&&(v=u.$new(!0),v.modalOptions=f,v.index=d,l=angular.element('<div uib-modal-backdrop="modal-backdrop"><\/div>'),l.attr({"class":"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),f.backdropClass&&l.addClass(f.backdropClass),f.animation&&l.attr("modal-animation","true"),r(l)(v),n.enter(l,e),s.isScrollable(e)&&(a=s.scrollbarPadding(e),a.heightOverflow&&a.scrollbarWidth&&e.css({paddingRight:a.right+"px"})));f.component?(h=document.createElement(ft(f.component.name)),h=angular.element(h),h.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):h=f.content;y=p?parseInt(p.value.modalDomEl.attr("index"),10)+1:0;o=angular.element('<div uib-modal-window="modal-window"><\/div>');o.attr({"class":"modal","template-url":f.windowTemplateUrl,"window-top-class":f.windowTopClass,role:"dialog","aria-labelledby":f.ariaLabelledBy,"aria-describedby":f.ariaDescribedBy,size:f.size,index:y,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(h);f.windowClass&&o.addClass(f.windowClass);f.animation&&o.attr("modal-animation","true");e.addClass(tt);f.scope&&(f.scope.$$topModalIndex=y);n.enter(r(o)(f.scope),e);c.top().value.modalDomEl=o;c.top().value.modalOpener=it;nt(o)},h.close=function(n,t){var i=c.get(n);return rt(),i&&it(i,t,!0)?(i.value.modalScope.$$uibDestructionScheduled=!0,i.value.deferred.resolve(t),d(n,i.value.modalOpener),!0):!i},h.dismiss=function(n,t){var i=c.get(n);return rt(),i&&it(i,t,!1)?(i.value.modalScope.$$uibDestructionScheduled=!0,i.value.deferred.reject(t),d(n,i.value.modalOpener),!0):!i},h.dismissAll=function(n){for(var t=this.getTop();t&&this.dismiss(t.key,n);)t=this.getTop()},h.getTop=function(){return c.top()},h.modalRendered=function(n){var t=c.get(n);h.focusFirstFocusableElement(h.loadFocusElementList(t));t&&t.value.renderDeferred.resolve()},h.focusFirstFocusableElement=function(n){return n.length>0?(n[0].focus(),!0):!1},h.focusLastFocusableElement=function(n){return n.length>0?(n[n.length-1].focus(),!0):!1},h.isModalFocused=function(n,t){if(n&&t){var i=t.value.modalDomEl;if(i&&i.length)return(n.target||n.srcElement)===i[0]}return!1},h.isFocusInFirstItem=function(n,t){return t.length>0?(n.target||n.srcElement)===t[0]:!1},h.isFocusInLastItem=function(n,t){return t.length>0?(n.target||n.srcElement)===t[t.length-1]:!1},h.loadFocusElementList=function(n){var t,i;if(n&&(t=n.value.modalDomEl,t&&t.length))return i=t[0].querySelectorAll(st),i?Array.prototype.filter.call(i,function(n){return et(n)}):i},h}]).provider("$uibModal",function(){var n={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,i,r,u,f,e,o){function c(n){return n.template?i.when(n.template):u(angular.isFunction(n.templateUrl)?n.templateUrl():n.templateUrl)}var h={},s=null;return h.getPromiseChain=function(){return s},h.open=function(u){function v(){return w}var l=i.defer(),a=i.defer(),y=i.defer(),p=i.defer(),h={result:l.promise,opened:a.promise,closed:y.promise,rendered:p.promise,close:function(n){return o.close(h,n)},dismiss:function(n){return o.dismiss(h,n)}},w,b;if(u=angular.extend({},n.options,u),u.resolve=u.resolve||{},u.appendTo=u.appendTo||r.find("body").eq(0),!u.component&&!u.template&&!u.templateUrl)throw new Error("One of component or template or templateUrl options is required.");return w=u.component?i.when(e.resolve(u.resolve,{},null,null)):i.all([c(u),e.resolve(u.resolve,{},null,null)]),b=s=i.all([s]).then(v,v).then(function(n){function w(t,r,u,f){t.$scope=i;t.$scope.$resolve={};u?t.$scope.$uibModalInstance=h:t.$uibModalInstance=h;var e=r?n[1]:n;angular.forEach(e,function(n,i){f&&(t[i]=n);t.$scope.$resolve[i]=n})}var b=u.scope||t,i=b.$new();i.$close=h.close;i.$dismiss=h.dismiss;i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")});var r,e,s={scope:i,deferred:l,renderDeferred:p,closedDeferred:y,animation:u.animation,backdrop:u.backdrop,keyboard:u.keyboard,backdropClass:u.backdropClass,windowTopClass:u.windowTopClass,windowClass:u.windowClass,windowTemplateUrl:u.windowTemplateUrl,ariaLabelledBy:u.ariaLabelledBy,ariaDescribedBy:u.ariaDescribedBy,size:u.size,openedClass:u.openedClass,appendTo:u.appendTo},c={},v={};u.component?(w(c,!1,!0,!1),c.name=u.component,s.component=c):u.controller&&(w(v,!0,!1,!0),e=f(u.controller,v,!0,u.controllerAs),u.controllerAs&&u.bindToController&&(r=e.instance,r.$close=i.$close,r.$dismiss=i.$dismiss,angular.extend(r,{$resolve:v.$scope.$resolve},b)),r=e(),angular.isFunction(r.$onInit)&&r.$onInit());u.component||(s.content=n[0]);o.open(h,s);a.resolve(!0)},function(n){a.reject(n);l.reject(n)})["finally"](function(){s===b&&(s=null)}),h},h}]};return n});angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var n=[];return{add:function(t,i){n.push({key:t,value:i})},get:function(t){for(var i=0;i<n.length;i++)if(t===n[i].key)return n[i]},keys:function(){for(var i=[],t=0;t<n.length;t++)i.push(n[t].key);return i},top:function(){return n[n.length-1]},remove:function(t){for(var r=-1,i=0;i<n.length;i++)if(t===n[i].key){r=i;break}return n.splice(r,1)[0]},removeTop:function(){return n.pop()},length:function(){return n.length}}}}});angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(n){n.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"><\/div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"><\/div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"><\/div>\n<\/div>\n')}]);angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(n){n.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"><\/i><span class="sr-only">previous<\/span><\/button><\/th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}<\/strong><\/button><\/th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"><\/i><span class="sr-only">next<\/span><\/button><\/th>\n    <\/tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"><\/th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}<\/small><\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}<\/em><\/td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}<\/span><\/button>\n      <\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]);angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(n){n.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"><\/i><span class="sr-only">previous<\/span><\/button><\/th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}<\/strong><\/button><\/th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"><\/i><span class="sr-only">next<\/span><\/i><\/button><\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}<\/span><\/button>\n      <\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]);angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(n){n.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"><\/i><span class="sr-only">previous<\/span><\/button><\/th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}<\/strong><\/button><\/th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"><\/i><span class="sr-only">next<\/span><\/button><\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}<\/span><\/button>\n      <\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]);angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(n){n.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"><\/span><\/a><\/td>\n      <td>&nbsp;<\/td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"><\/span><\/a><\/td>\n      <td ng-show="showSeconds">&nbsp;<\/td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"><\/span><\/a><\/td>\n      <td ng-show="showMeridian"><\/td>\n    <\/tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      <\/td>\n      <td class="uib-separator">:<\/td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      <\/td>\n      <td ng-show="showSeconds" class="uib-separator">:<\/td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      <\/td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}<\/button><\/td>\n    <\/tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"><\/span><\/a><\/td>\n      <td>&nbsp;<\/td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"><\/span><\/a><\/td>\n      <td ng-show="showSeconds">&nbsp;<\/td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"><\/span><\/a><\/td>\n      <td ng-show="showMeridian"><\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]);angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(n){n.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude><\/div><\/div>\n")}]);angular.module("ui.bootstrap.position").run(function(){angular.$$csp().noInlineStyle||angular.$$uibPositionCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}<\/style>');angular.$$uibPositionCss=!0});angular.module("ui.bootstrap.datepicker").run(function(){angular.$$csp().noInlineStyle||angular.$$uibDatepickerCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}<\/style>');angular.$$uibDatepickerCss=!0});angular.module("ui.bootstrap.timepicker").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTimepickerCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}<\/style>');angular.$$uibTimepickerCss=!0});angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function i(n){var t="-";return n.replace(/[A-Z]/g,function(n,i){return(i?t:"")+n.toLowerCase()})}var r={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},t={};this.options=function(n){angular.extend(t,n)};this.setTriggers=function(t){angular.extend(n,t)};this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(u,f,e,o,s,h,c,l,a){function y(n){if(27===n.which){var t=v.top();t&&(t.value.close(),v.removeTop(),t=null)}}var v=a.createNew();return o.on("keypress",y),c.$on("$destroy",function(){o.off("keypress",y)}),function(u,c,a,y){function p(t){var i=(t||y.trigger||a).split(" "),r=i.map(function(t){return n[t]||t});return{show:i,hide:r}}y=angular.extend({},r,t,y);var k=i(u),w=h.startSymbol(),b=h.endSymbol(),d="<div "+k+'-popup uib-title="'+w+"title"+b+'" '+(y.useContentExp?'content-exp="contentExp()" ':'content="'+w+"content"+b+'" ')+'origin-scope="origScope" class="uib-position-measure '+c+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ><\/div>';return{compile:function(){var n=f(d);return function(t,i,r){function g(){f.isOpen?nt():lt()}function lt(){fi&&!t.$eval(r[c+"Enable"])||(at(),ti(),f.popupDelay?it||(it=e(kt,f.popupDelay,!1)):kt())}function nt(){st();f.popupCloseDelay?rt||(rt=e(k,f.popupCloseDelay,!1)):k()}function kt(){return st(),at(),f.content?(ni(),void f.$evalAsync(function(){f.isOpen=!0;dt(!0);ot()})):angular.noop}function st(){it&&(e.cancel(it),it=null);d&&(e.cancel(d),d=null)}function k(){f&&f.$evalAsync(function(){f&&(f.isOpen=!1,dt(!1),f.animation?tt||(tt=e(vt,150,!1)):vt())})}function at(){rt&&(e.cancel(rt),rt=null);tt&&(e.cancel(tt),tt=null)}function ni(){h||(b=f.$new(),h=n(b,function(n){ft?o.find("body").append(n):i.after(n)}),ii())}function vt(){st();at();ri();h&&(h.remove(),h=null);b&&(b.$destroy(),b=null)}function ti(){var n,i,e;f.title=r[c+"Title"];f.content=ht?ht(t):r[u];f.popupClass=r[c+"Class"];f.placement=angular.isDefined(r[c+"Placement"])?r[c+"Placement"]:y.placement;n=s.parsePlacement(f.placement);ut=n[1]?n[0]+"-"+n[1]:n[0];i=parseInt(r[c+"PopupDelay"],10);e=parseInt(r[c+"PopupCloseDelay"],10);f.popupDelay=isNaN(i)?y.popupDelay:i;f.popupCloseDelay=isNaN(e)?y.popupCloseDelay:e}function dt(n){et&&angular.isFunction(et.assign)&&et.assign(t,n)}function ii(){a.length=0;ht?(a.push(t.$watch(ht,function(n){f.content=n;!n&&f.isOpen&&k()})),a.push(b.$watch(function(){yt||(yt=!0,b.$$postDigest(function(){yt=!1;f&&f.isOpen&&ot()}))}))):a.push(r.$observe(u,function(n){f.content=n;!n&&f.isOpen?k():ot()}));a.push(r.$observe(c+"Title",function(n){f.title=n;f.isOpen&&ot()}));a.push(r.$observe(c+"Placement",function(n){f.placement=n?n:y.placement;f.isOpen&&ot()}))}function ri(){a.length&&(angular.forEach(a,function(n){n()}),a.length=0)}function gt(n){f&&f.isOpen&&h&&(i[0].contains(n.target)||h[0].contains(n.target)||nt())}function ui(){var u=[],f=[],n=t.$eval(r[c+"Trigger"]);pt();angular.isObject(n)?(Object.keys(n).forEach(function(t){u.push(t);f.push(n[t])}),w={show:u,hide:f}):w=p(n);"none"!==w.show&&w.show.forEach(function(n,t){"outsideClick"===n?(i.on("click",g),o.on("click",gt)):n===w.hide[t]?i.on(n,g):n&&(i.on(n,lt),i.on(w.hide[t],nt));i.on("keypress",function(n){27===n.which&&nt()})})}var h,b,tt,it,rt,d,ut,ft=angular.isDefined(y.appendToBody)?y.appendToBody:!1,w=p(void 0),fi=angular.isDefined(r[c+"Enable"]),f=t.$new(!0),yt=!1,et=angular.isDefined(r[c+"IsOpen"])?l(r[c+"IsOpen"]):!1,ht=y.useContentExp?l(r[u]):!1,a=[],ot=function(){h&&h.html()&&(d||(d=e(function(){var n=s.positionElements(i,h,f.placement,ft),r=angular.isDefined(h.offsetHeight)?h.offsetHeight:h.prop("offsetHeight"),u=ft?s.offset(i):s.position(i),t;h.css({top:n.top+"px",left:n.left+"px"});t=n.placement.split("-");h.hasClass(t[0])||(h.removeClass(ut.split("-")[0]),h.addClass(t[0]));h.hasClass(y.placementClassPrefix+n.placement)||(h.removeClass(y.placementClassPrefix+ut),h.addClass(y.placementClassPrefix+n.placement));e(function(){var i=angular.isDefined(h.offsetHeight)?h.offsetHeight:h.prop("offsetHeight"),n=s.adjustTop(t,u,r,i);n&&h.css(n)},0,!1);h.hasClass("uib-position-measure")?(s.positionArrow(h,n.placement),h.removeClass("uib-position-measure")):ut!==n.placement&&s.positionArrow(h,n.placement);ut=n.placement;d=null},0,!1)))},pt,wt,bt,ct;f.origScope=t;f.isOpen=!1;v.add(f,{close:k});f.contentExp=function(){return f.content};r.$observe("disabled",function(n){n&&st();n&&f.isOpen&&k()});et&&t.$watch(et,function(n){f&&!n===f.isOpen&&g()});pt=function(){w.show.forEach(function(n){"outsideClick"===n?i.off("click",g):(i.off(n,lt),i.off(n,g))});w.hide.forEach(function(n){"outsideClick"===n?o.off("click",gt):i.off(n,nt)})};ui();wt=t.$eval(r[c+"Animation"]);f.animation=angular.isDefined(wt)?!!wt:y.animation;ct=c+"AppendToBody";bt=ct in r&&void 0===r[ct]?!0:t.$eval(r[ct]);ft=angular.isDefined(bt)?bt:ft;t.$on("$destroy",function(){pt();vt();v.remove(f);f=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(n,t,i,r){return{link:function(u,f,e){var o,s,h,a=u.$eval(e.tooltipTemplateTranscludeScope),l=0,c=function(){s&&(s.remove(),s=null);o&&(o.$destroy(),o=null);h&&(n.leave(h).then(function(){s=null}),s=h,h=null)};u.$watch(t.parseAsResourceUrl(e.uibTooltipTemplateTransclude),function(t){var e=++l;t?(r(t,!0).then(function(r){if(e===l){var u=a.$new(),s=r,v=i(s)(u,function(t){c();n.enter(t,f)});o=u;h=v;o.$emit("$includeContentLoaded",t)}},function(){e===l&&(c(),u.$emit("$includeContentError",t))}),u.$emit("$includeContentRequested",t)):c()});u.$on("$destroy",c)}}}]).directive("uibTooltipClasses",["$uibPosition",function(n){return{restrict:"A",link:function(t,i,r){if(t.placement){var u=n.parsePlacement(t.placement);i.addClass(u[0])}t.popupClass&&i.addClass(t.popupClass);t.animation&&i.addClass(r.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"/lib/ui-bootstrap/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(n){return n("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"/lib/ui-bootstrap/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(n){return n("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"/lib/ui-bootstrap/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(n){return n("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]);angular.module("ui.layout",[]).controller("uiLayoutCtrl",["$scope","$attrs","$element","$timeout","$window","LayoutContainer","Layout",function(n,t,i,r,u,f,e){function y(){var e=o.sizeProperties.flowProperty,h=parseInt(s.dividerSize),p=i[0][o.sizeProperties.offsetSize],a,w,k,u,y;if(null!==o.movingSplitbar&&(a=o.containers.indexOf(o.movingSplitbar),w=a+2<o.containers.length?a+2:null,a>-1)){var b=o.processSplitbar(o.containers[a]),f=b.beforeContainer,t=b.afterContainer;f.collapsed||t.collapsed||(k=o.movingSplitbar[e]-v,u=o.movingSplitbar[e]-k,u=Math.min(p-h,u),angular.isNumber(f.beforeMinValue)&&u<f.beforeMinValue&&(u=f.beforeMinValue),angular.isNumber(f.beforeMaxValue)&&u>f.beforeMaxValue&&(u=f.beforeMaxValue),null!==t&&angular.isNumber(t.afterMinValue)&&u>t.afterMinValue-h&&(u=t.afterMinValue-h),null!==t&&angular.isNumber(t.afterMaxValue)&&u<t.afterMaxValue&&(u=t.afterMaxValue),f.size=u-f[e],f.uncollapsedSize=f.size,y=t[e],t[e]=u+h,t[e]!=y&&(t.size=null!==w?y+t.size-(u+h):p-(u+h),t.uncollapsedSize=t.size),o.movingSplitbar[e]=u,l&&r.cancel(l),l=r(function(){n.$broadcast("ui.layout.resize",f,t);l=null},50))}c=null}function p(n){var r=n[0],t=document.documentElement||document.body,u=window.pageXOffset||t.scrollLeft,f=window.pageYOffset||t.scrollTop,i=r.getBoundingClientRect(),e=i.left+u,o=i.top+f;return{left:e,top:o}}function h(n){return"number"==typeof n||"string"==typeof n&&n.match(w)?n:null}var c,v,o=this,s=angular.extend({},n.$eval(t.uiLayout),n.$eval(t.options)),a=0,w=/\d+\s*(px|%)\s*$/i,l;return e.addLayout(o),o.containers=[],o.movingSplitbar=null,o.bounds=i[0].getBoundingClientRect(),o.isUsingColumnFlow="column"===s.flow,o.sizeProperties=o.isUsingColumnFlow?{sizeProperty:"width",offsetSize:"offsetWidth",offsetPos:"left",flowProperty:"left",oppositeFlowProperty:"right",mouseProperty:"clientX",flowPropertyPosition:"x"}:{sizeProperty:"height",offsetSize:"offsetHeight",offsetPos:"top",flowProperty:"top",oppositeFlowProperty:"bottom",mouseProperty:"clientY",flowPropertyPosition:"y"},i.addClass("stretch").addClass("ui-layout-"+(s.flow||"row")),s.disableToggle&&i.addClass("no-toggle"),s.disableMobileToggle&&i.addClass("no-mobile-toggle"),s.sizes=s.sizes||[],s.maxSizes=s.maxSizes||[],s.minSizes=s.minSizes||[],s.dividerSize=void 0===s.dividerSize?10:s.dividerSize,s.collapsed=s.collapsed||[],o.opts=s,n.updateDisplay=function(){o.calculate()},o.mouseUpHandler=function(n){return null!==o.movingSplitbar&&(o.movingSplitbar=null),n},o.mouseMoveHandler=function(n){var t=n[o.sizeProperties.mouseProperty]||n.originalEvent&&n.originalEvent[o.sizeProperties.mouseProperty]||(u.jQuery?n.originalEvent?n.originalEvent.targetTouches[0][o.sizeProperties.mouseProperty]:0:n.targetTouches?n.targetTouches[0][o.sizeProperties.mouseProperty]:0);v=t-p(i)[o.sizeProperties.offsetPos];c&&window.cancelAnimationFrame(c);c=window.requestAnimationFrame(y)},o.processSplitbar=function(n){var t=o.containers.indexOf(n),u=function(n){var t=n[o.sizeProperties.flowProperty],i=n[o.sizeProperties.flowProperty]+n.size;n.beforeMinValue=angular.isNumber(n.minSize)?t+n.minSize:t;n.beforeMaxValue=angular.isNumber(n.maxSize)?t+n.maxSize:null;n.afterMinValue=angular.isNumber(n.minSize)?i-n.minSize:i;n.afterMaxValue=angular.isNumber(n.maxSize)?i-n.maxSize:null},i,r;return t>-1?(i=t>0?o.containers[t-1]:null,r=t+1<=o.containers.length?o.containers[t+1]:null,null!==i&&u(i),null!==r&&u(r),{beforeContainer:i,afterContainer:r}):null},o.isPercent=function(n){return!!(n&&angular.isString(n)&&n.indexOf("%")>-1)},o.convertToPixels=function(n,t){return Math.floor(t*(parseInt(n)/100))},o.calculate=function(){var t,n,y=parseInt(s.dividerSize),w=i[0].getBoundingClientRect()[o.sizeProperties.sizeProperty],u=w-y*a,c=u,p=0,l=0,e,v,r;if(o.containers.length>0&&i.children().length>0){for(n=0;n<o.containers.length;n++)f.isSplitbar(o.containers[n])||(t=o.containers[n],s.sizes[n]=t.isCentral?"auto":t.collapsed?h(t.minSize)||"0px":h(t.uncollapsedSize)||"auto",s.minSizes[n]=h(t.minSize),s.maxSizes[n]=h(t.maxSize),"auto"!==s.sizes[n]&&(s.sizes[n]=o.isPercent(s.sizes[n])?o.convertToPixels(s.sizes[n],c):parseInt(s.sizes[n])),null!==s.minSizes[n]&&(s.minSizes[n]=o.isPercent(s.minSizes[n])?o.convertToPixels(s.minSizes[n],c):parseInt(s.minSizes[n]),!t.collapsed&&s.sizes[n]<s.minSizes[n]&&(s.sizes[n]=s.minSizes[n])),null!==s.maxSizes[n]&&(s.maxSizes[n]=o.isPercent(s.maxSizes[n])?o.convertToPixels(s.maxSizes[n],c):parseInt(s.maxSizes[n]),s.sizes[n]>s.maxSizes[n]&&(s.sizes[n]=s.maxSizes[n])),"auto"===s.sizes[n]?l++:u-=s.sizes[n]);for(e=Math.floor(u/l),v=u-e*l,n=0;n<o.containers.length;n++)(t=o.containers[n],t[o.sizeProperties.flowProperty]=p,t.maxSize=s.maxSizes[n],t.minSize=s.minSizes[n],f.isSplitbar(t))?t.size=y:("auto"===s.sizes[n]?(r=e,v>0&&n===o.containers.length-1&&(r+=v)):r=s.sizes[n],t.size=null!==r?r:e),p+=t.size}},o.addContainer=function(n){var t=o.indexOfElement(n.element);return!angular.isDefined(t)||0>t||o.containers.length<t?void console.error("Invalid index to add container; i="+t+", len=",o.containers.length):(f.isSplitbar(n)&&a++,n.index=t,o.containers.splice(t,0,n),void o.calculate())},o.removeContainer=function(n){var i=o.containers.indexOf(n),t;i>=0?(f.isSplitbar(n)?(o.containers[i-1].collapsed=!1,a--):o.containers.length>2&&(i==o.containers.length-1?o.containers[i-1].element.remove():o.containers[i+1].element.remove()),t=o.containers.indexOf(n),t>=0&&(o.containers.splice(t,1),o.opts.maxSizes.splice(t,1),o.opts.minSizes.splice(t,1),o.opts.sizes.splice(t,1)),o.calculate()):console.error("removeContainer for container that did not exist!")},o.getContainers=function(){return o.containers},o.toggleContainer=function(n){var i,t=o.containers[n+1];t?i=t.element[0].children[0]:(t=o.containers[n-1],i=t.element[0].children[1]);r(function(){angular.element(i).triggerHandler("click")})},o.toggleBefore=function(t){var f=o.containers.indexOf(t)-1,i=o.containers[f],u,r;return i.collapsed=!o.containers[f].collapsed,u=o.containers[f+1],r=o.containers[f+2],i.uncollapsedSize=void 0===i.uncollapsedSize?i.size:parseInt(i.uncollapsedSize),n.$apply(function(){i.collapsed?(i.size=0,u&&(u[o.sizeProperties.flowProperty]-=i.uncollapsedSize),r&&(r[o.sizeProperties.flowProperty]-=i.uncollapsedSize,r.uncollapsedSize+=i.uncollapsedSize)):(i.size=i.uncollapsedSize,u&&(u[o.sizeProperties.flowProperty]+=i.uncollapsedSize),r&&(r[o.sizeProperties.flowProperty]+=i.uncollapsedSize,r.uncollapsedSize-=i.uncollapsedSize))}),n.$broadcast("ui.layout.toggle",i),e.toggled(),i.collapsed},o.toggleAfter=function(t){var u,f=o.containers.indexOf(t)+1,r=o.containers[f],s=o.containers[f-1],h=o.containers[f-2],l=f===o.containers.length-1,c=o.sizeProperties.flowProperty,a=o.sizeProperties.sizeProperty;return o.bounds=i[0].getBoundingClientRect(),r.collapsed=!o.containers[f].collapsed,r.uncollapsedSize=void 0===r.uncollapsedSize?r.size:parseInt(r.uncollapsedSize),n.$apply(function(){r.collapsed?(r.size=0,u=l?o.bounds[a]-r[c]-r.uncollapsedSize:0,s&&(s[c]+=r.uncollapsedSize+u),h&&(h.size+=r.uncollapsedSize+u)):(r.size=r.uncollapsedSize,u=l?o.bounds[a]-r[c]-r.uncollapsedSize:0,s&&(s[c]-=r.uncollapsedSize+u),h&&(h.size-=r.uncollapsedSize+u))}),n.$broadcast("ui.layout.toggle",r),e.toggled(),r.collapsed},o.getPreviousSplitbarContainer=function(n){if(f.isSplitbar(n)){var i=o.containers.indexOf(n),t=i-2;return t>=0?o.containers[t]:null}return null},o.getNextSplitbarContainer=function(n){if(f.isSplitbar(n)){var t=o.containers.indexOf(n),i=t+2;return t>0&&i<o.containers.length?o.containers[i]:null}return null},o.hasSplitbarBefore=function(n){var t=o.containers.indexOf(n);return t>=1?f.isSplitbar(o.containers[t-1]):!1},o.hasSplitbarAfter=function(n){var t=o.containers.indexOf(n);return t<o.containers.length-1?f.isSplitbar(o.containers[t+1]):!1},o.isLayoutElement=function(n){return n.hasAttribute("ui-layout-container")||n.hasAttribute("ui-splitbar")||"UI-LAYOUT-CONTAINER"===n.nodeName},o.indexOfElement=function(n){for(var u,f=n.parent(),i=f.children(),r=0,t=0;t<i.length;t++)if(u=i[t],o.isLayoutElement(u)){if(n[0]==i[t])return r;r++}return-1},o}]).directive("uiLayout",["$window",function(n){return{restrict:"AE",controller:"uiLayoutCtrl",link:function(t,i,r,u){function f(){t.$evalAsync(function(){u.calculate()})}t.$watch(function(){return i[0][u.sizeProperties.offsetSize]},function(){u.calculate()});angular.element(n).bind("resize",f);t.$on("$destroy",function(){angular.element(n).unbind("resize",f)})}}}]).directive("uiSplitbar",["LayoutContainer",function(n){var t=angular.element(document.body.parentElement);return{restrict:"EAC",require:"^uiLayout",scope:{},link:function(i,r,u,f){var y;r.hasClass("stretch")||r.addClass("stretch");r.hasClass("ui-splitbar")||r.addClass("ui-splitbar");y=f.isUsingColumnFlow?"animate-column":"animate-row";r.addClass(y);i.splitbar=n.Splitbar();i.splitbar.element=r;var s=angular.element(r.children()[0]),h=angular.element(r.children()[1]),e=angular.element(s.children()[0]),o=angular.element(h.children()[0]),c="ui-splitbar-icon-left",l="ui-splitbar-icon-right",a="ui-splitbar-icon-up",v="ui-splitbar-icon-down",p=f.isUsingColumnFlow?c:a,w=f.isUsingColumnFlow?l:v;e.addClass(p);o.addClass(w);s.on("click",function(){var t,r,u=f.toggleBefore(i.splitbar),n=f.getPreviousSplitbarContainer(i.splitbar);null!==n&&(t=angular.element(n.element.children()[0]),r=angular.element(n.element.children()[1]));f.isUsingColumnFlow?u?(h.css("display","none"),e.removeClass(c),e.addClass(l),null!==n&&(t.css("display","none"),r.css("display","none"))):(h.css("display","inline"),e.removeClass(l),e.addClass(c),null!==n&&(t.css("display","inline"),r.css("display","inline"))):u?(h.css("display","none"),e.removeClass(a),e.addClass(v),null!==n&&(t.css("display","none"),r.css("display","none"))):(h.css("display","inline"),e.removeClass(v),e.addClass(a),null!==n&&(t.css("display","inline"),r.css("display","inline")));i.$evalAsync(function(){f.calculate()})});h.on("click",function(){var t,r,u=f.toggleAfter(i.splitbar),n=f.getNextSplitbarContainer(i.splitbar);null!==n&&(t=angular.element(n.element.children()[0]),r=angular.element(n.element.children()[1]));f.isUsingColumnFlow?u?(s.css("display","none"),o.removeClass(l),o.addClass(c),null!==n&&(t.css("display","none"),r.css("display","none"))):(s.css("display","inline"),o.removeClass(c),o.addClass(l),null!==n&&(t.css("display","inline"),r.css("display","inline"))):u?(s.css("display","none"),o.removeClass(v),o.addClass(a),null!==n&&(t.css("display","none"),r.css("display","none"))):(s.css("display","inline"),o.removeClass(a),o.addClass(v),null!==n&&(t.css("display","inline"),r.css("display","inline")));i.$evalAsync(function(){f.calculate()})});r.on("mousedown touchstart",function(n){return f.movingSplitbar=i.splitbar,f.processSplitbar(i.splitbar),n.preventDefault(),n.stopPropagation(),t.on("mousemove touchmove",function(n){i.$apply(angular.bind(f,f.mouseMoveHandler,n))}),!1});t.on("mouseup touchend",function(n){i.$apply(angular.bind(f,f.mouseUpHandler,n));t.off("mousemove touchmove")});i.$watch("splitbar.size",function(n){r.css(f.sizeProperties.sizeProperty,n+"px")});i.$watch("splitbar."+f.sizeProperties.flowProperty,function(n){r.css(f.sizeProperties.flowProperty,n+"px")});i.$on("$destroy",function(){t.off("mouseup touchend mousemove touchmove")});f.addContainer(i.splitbar);r.on("$destroy",function(){f.removeContainer(i.splitbar);i.$evalAsync()})}}}]).directive("uiLayoutContainer",["LayoutContainer","$compile","$timeout","Layout",function(n,t,i,r){return{restrict:"AE",require:"^uiLayout",scope:{collapsed:"=",resizable:"=",size:"@",minSize:"@",maxSize:"@"},compile:function(){return{pre:function(t,i,u,f){t.container=n.Container();t.container.element=i;t.container.id=i.attr("id")||null;t.container.layoutId=f.id;t.container.isCentral="central"===u.uiLayoutContainer;t.collapsed===!0&&(t.collapsed=!1,r.addCollapsed(t.container));angular.isDefined(t.resizable)&&(t.container.resizable=t.resizable);t.container.size=t.size;t.container.uncollapsedSize=t.size;t.container.minSize=t.minSize;t.container.maxSize=t.maxSize;f.addContainer(t.container);i.on("$destroy",function(){f.removeContainer(t.container);t.$evalAsync()})},post:function(n,i,r,u){var o;i.hasClass("stretch")||i.addClass("stretch");i.hasClass("ui-layout-container")||i.addClass("ui-layout-container");o=u.isUsingColumnFlow?"animate-column":"animate-row";i.addClass(o);n.$watch("collapsed",function(t,i){angular.isDefined(i)&&t!==i&&u.toggleContainer(n.container.index)});n.$watch("container.size",function(n){i.css(u.sizeProperties.sizeProperty,n+"px");0===n?i.addClass("ui-layout-hidden"):i.removeClass("ui-layout-hidden")});n.$watch("container."+u.sizeProperties.flowProperty,function(n){i.css(u.sizeProperties.flowProperty,n+"px")});var h=i.parent(),s=h.children(),e=u.indexOfElement(i),f=angular.element('<div ui-splitbar><a><span class="ui-splitbar-icon"><\/span><\/a><a><span class="ui-splitbar-icon"><\/span><\/a><\/div>');e>0&&!u.hasSplitbarBefore(n.container)?(angular.element(s[e-1]).after(f),t(f)(n)):e<s.length-1&&(i.after(f),t(f)(n))}}}}}]).directive("uiLayoutLoaded",["$timeout","Layout",function(n,t){return{require:"^uiLayout",restrict:"A",priority:-100,link:function(n,i,r){r.uiLayoutLoaded?n.$broadcast("ui.layout.loaded",r.uiLayoutLoaded):t.toggle().then(function(){n.$broadcast("ui.layout.loaded",null)})}}}]).factory("Layout",["$q","$timeout",function(n,t){function e(n){try{f[n.layoutId].toggleContainer(n.index)}catch(t){throw t.message="Could not toggle container ["+n.layoutId+"/"+n.index+"]: "+t.message,t;}}var f=[],r=[],u=0,i=null;return{addLayout:function(n){n.id=f.length;f.push(n)},addCollapsed:function(n){r.push(n)},hasCollapsed:function(){return r.length>0},toggled:function(){if(0===u){if(!i)return!1;i.reject()}u--;0===u&&i.resolve()},toggle:function(){i=n.defer();u=r.length;0===u&&t(function(){i.resolve()});r.reverse();for(var f;f=r.pop();)e(f);return i.promise}}}]).factory("LayoutContainer",function(){function t(){this.id=null;this.layoutId=null;this.isCentral=!1;this.size="auto";this.uncollapsedSize=null;this.maxSize=null;this.minSize=null;this.resizable=!0;this.element=null;this.collapsed=!1}function n(){this.size=10;this.left=0;this.top=0;this.element=null}return{Container:function(n){return new t(n)},Splitbar:function(){return new n},isSplitbar:function(t){return t instanceof n}}});!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(n){return function(t,i){if("__setXHR_"===t){var r=i(this);r instanceof Function&&r(this)}else n.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.0.4";ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(n,t,i){function f(f){function h(n){o.notify&&o.notify(n);e.progressFunc&&i(function(){e.progressFunc(n)})}function c(n){return null!=f._start&&u?{loaded:n.loaded+f._start,total:f._file&&f._file.size||n.total,type:n.type,config:f,lengthComputable:!0,target:n.target}:n}function s(){n(f).then(function(n){u&&f._chunkSize&&!f._finished&&f._file?(h({loaded:f._end,total:f._file&&f._file.size,config:f,type:"progress"}),r.upload(f,!0)):(f._finished&&delete f._finished,o.resolve(n))},function(n){o.reject(n)},function(n){o.notify(n)})}f.method=f.method||"POST";f.headers=f.headers||{};var o=f._deferred=f._deferred||t.defer(),e=o.promise;return f.disableProgress||(f.headers.__setXHR_=function(){return function(n){n&&n.upload&&n.upload.addEventListener&&(f.__XHR=n,f.xhrFn&&f.xhrFn(n),n.upload.addEventListener("progress",function(n){n.config=f;h(c(n))},!1),n.upload.addEventListener("load",function(n){n.lengthComputable&&(n.config=f,h(c(n)))},!1))}}),u?f._chunkSize&&f._end&&!f._finished?(f._start=f._end,f._end+=f._chunkSize,s()):f.resumeSizeUrl?n.get(f.resumeSizeUrl).then(function(n){f._start=f.resumeSizeResponseReader?f.resumeSizeResponseReader(n.data):parseInt((null==n.data.size?n.data:n.data.size).toString());f._chunkSize&&(f._end=f._start+f._chunkSize);s()},function(n){throw n;}):f.resumeSize?f.resumeSize().then(function(n){f._start=n;s()},function(n){throw n;}):(f._chunkSize&&(f._start=0,f._end=f._start+f._chunkSize),s()):s(),e.success=function(n){return e.then(function(t){n(t.data,t.status,t.headers,f)}),e},e.error=function(n){return e.then(null,function(t){n(t.data,t.status,t.headers,f)}),e},e.progress=function(n){return e.progressFunc=n,e.then(null,null,function(t){n(t)}),e},e.abort=e.pause=function(){return f.__XHR&&i(function(){f.__XHR.abort()}),e},e.xhr=function(n){return f.xhrFn=function(t){return function(){t&&t.apply(e,arguments);n.apply(e,arguments)}}(f.xhrFn),e},r.promisesCount++,e["finally"](function(){r.promisesCount--}),e}function e(n){var i={};for(var t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i}var r=this,u;r.promisesCount=0;this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};u=this.isResumeSupported();this.isUploadInProgress=function(){return r.promisesCount>0};this.rename=function(n,t){return n.ngfName=t,n};this.jsonBlob=function(n){null==n||angular.isString(n)||(n=JSON.stringify(n));var t=new window.Blob([n],{type:"application/json"});return t._ngfBlob=!0,t};this.json=function(n){return angular.toJson(n)};this.isFile=function(n){return null!=n&&(n instanceof window.Blob||n.flashId&&n.name&&n.size)};this.upload=function(n,t){function o(t,i){if(t._ngfBlob)return t;if(n._file=n._file||t,null!=n._start&&u){n._end&&n._end>=t.size&&(n._finished=!0,n._end=t.size);var r=t.slice(n._start,n._end||t.size);return r.name=t.name,r.ngfName=t.ngfName,n._chunkSize&&(i.append("_chunkSize",n._chunkSize),i.append("_currentChunkSize",n._end-n._start),i.append("_chunkNumber",Math.floor(n._start/n._chunkSize)),i.append("_totalSize",n._file.size)),r}return t}function i(t,u,f){var s,h,e,c;if(void 0!==u)if(angular.isDate(u)&&(u=u.toISOString()),angular.isString(u))t.append(f,u);else if(r.isFile(u))s=o(u,t),h=f.split(","),h[1]&&(s.ngfName=h[1].replace(/^\s+|\s+$/g,""),f=h[0]),n._fileKey=n._fileKey||f,t.append(f,s,s.ngfName||s.name);else if(angular.isObject(u)){if(u.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+f;u.$$ngfCircularDetection=!0;try{for(e in u)u.hasOwnProperty(e)&&"$$ngfCircularDetection"!==e&&(c=null==n.objectKey?"[i]":n.objectKey,u.length&&parseInt(e)>-1&&(c=null==n.arrayKey?c:n.arrayKey),i(t,u[e],f+c.replace(/[ik]/g,e)))}finally{delete u.$$ngfCircularDetection}}else t.append(f,u)}function s(){n._chunkSize=r.translateScalars(n.resumeChunkSize);n._chunkSize=n._chunkSize?parseInt(n._chunkSize.toString()):null;n.headers=n.headers||{};n.headers["Content-Type"]=void 0;n.transformRequest=n.transformRequest?angular.isArray(n.transformRequest)?n.transformRequest:[n.transformRequest]:[];n.transformRequest.push(function(t){var r,u=new window.FormData,f;t=t||n.fields||{};n.file&&(t.file=n.file);for(r in t)t.hasOwnProperty(r)&&(f=t[r],n.formDataAppender?n.formDataAppender(u,r,f):i(u,f,r));return u})}return t||(n=e(n)),n._isDigested||(n._isDigested=!0,s()),f(n)};this.http=function(t){return t=e(t),t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof window.Blob?t:n.defaults.transformRequest[0].apply(this,arguments)},t._chunkSize=r.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,f(t)};this.translateScalars=function(n){if(angular.isString(n)){if(n.search(/kb/i)===n.length-2)return parseFloat(1024*n.substring(0,n.length-2));if(n.search(/mb/i)===n.length-2)return parseFloat(1048576*n.substring(0,n.length-2));if(n.search(/gb/i)===n.length-2)return parseFloat(1073741824*n.substring(0,n.length-2));if(n.search(/b/i)===n.length-1||n.search(/s/i)===n.length-1)return parseFloat(n.substring(0,n.length-1));if(n.search(/m/i)===n.length-1)return parseFloat(60*n.substring(0,n.length-1));if(n.search(/h/i)===n.length-1)return parseFloat(3600*n.substring(0,n.length-1))}return n};this.urlToBlob=function(i){var r=t.defer();return n({url:i,method:"get",responseType:"arraybuffer"}).then(function(n){var t=new Uint8Array(n.data),i=n.headers("content-type")||"image/WebP",u=new window.Blob([t],{type:i});r.resolve(u)},function(n){r.reject(n)}),r.promise};this.setDefaults=function(n){this.defaults=n||{}};this.defaults={};this.version=ngFileUpload.version}]);ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(n,t,i,r,u){function o(n,t,i){var u=[f.emptyPromise()];return angular.forEach(n,function(r,e){0===r.type.indexOf("image/jpeg")&&f.attrGetter("ngfFixOrientation",t,i,{$file:r})&&u.push(f.happyPromise(f.applyExifRotation(r),r).then(function(t){n.splice(e,1,t)}))}),r.all(u)}function s(n,t,i){var u=f.attrGetter("ngfResize",t,i),o;if(!u||!f.isResizeSupported()||!n.length)return f.emptyPromise();if(!(u instanceof Function))return e(u,n,t,i);o=r.defer();u(n).then(function(r){e(r,n,t,i).then(function(n){o.resolve(n)},function(n){o.reject(n)})},function(n){o.reject(n)})}function e(n,t,i,u){function s(r,e){if(0===r.type.indexOf("image")){if(n.pattern&&!f.validatePattern(r,n.pattern))return;var s=f.resize(r,n.width,n.height,n.quality,n.type,n.ratio,n.centerCrop,function(n,t){return f.attrGetter("ngfResizeIf",i,u,{$width:n,$height:t,$file:r})},n.restoreExif!==!1);o.push(s);s.then(function(n){t.splice(e,1,n)},function(n){r.$error="resize";r.$errorParam=(n?(n.message?n.message:n)+": ":"")+(r&&r.name)})}}for(var o=[f.emptyPromise()],e=0;e<t.length;e++)s(t[e],e);return r.all(o)}var f=u;return f.getAttrWithDefaults=function(n,t){if(null!=n[t])return n[t];var i=f.defaults[t];return null==i?i:angular.isString(i)?i:JSON.stringify(i)},f.attrGetter=function(t,i,r,u){var f=this.getAttrWithDefaults(i,t);if(!r)return f;try{return u?n(f)(r,u):n(f)(r)}catch(e){if(t.search(/min|max|pattern/i))return f;throw e;}},f.shouldUpdateOn=function(n,t,i){var r=f.attrGetter("ngModelOptions",t,i);return r&&r.updateOn?r.updateOn.split(" ").indexOf(n)>-1:!0},f.emptyPromise=function(){var n=r.defer(),i=arguments;return t(function(){n.resolve.apply(n,i)}),n.promise},f.rejectPromise=function(){var n=r.defer(),i=arguments;return t(function(){n.reject.apply(n,i)}),n.promise},f.happyPromise=function(n,i){var u=r.defer();return n.then(function(n){u.resolve(n)},function(n){t(function(){throw n;});u.resolve(i)}),u.promise},f.updateModel=function(i,r,u,e,h,c,l){function tt(o,s,h,l,a){var v,y,p;r.$$ngfPrevValidFiles=o;r.$$ngfPrevInvalidFiles=s;v=o&&o.length?o[0]:null;y=s&&s.length?s[0]:null;i&&(f.applyModelValidation(i,o),i.$setViewValue(a?v:o));e&&n(e)(u,{$files:o,$file:v,$newFiles:h,$duplicateFiles:l,$invalidFiles:s,$invalidFile:y,$event:c});p=f.attrGetter("ngfModelInvalid",r);p&&t(function(){n(p).assign(u,a?y:s)});t(function(){})}function ut(){function t(n,t){return n.name===t.name&&(n.$ngfOrigSize||n.size)===(t.$ngfOrigSize||t.size)&&n.type===t.type}function i(n){for(var i=0;i<v.length;i++)if(t(n,v[i]))return!0;for(i=0;i<k.length;i++)if(t(n,k[i]))return!0;return!1}if(h){a=[];b=[];for(var n=0;n<h.length;n++)i(h[n])?b.push(h[n]):a.push(h[n])}}function ft(n){return angular.isArray(n)?n:[n]}function it(){y=[];d=[];angular.forEach(a,function(n){n.$error?d.push(n):y.push(n)})}function rt(){function n(){t(function(){tt(w?v.concat(y):y,w?k.concat(d):d,h,b,nt)},p&&p.debounce?p.debounce.change||p.debounce:0)}s(g?a:y,r,u).then(function(){g?f.validate(a,v.length,i,r,u).then(function(){it();n()}):n()},function(n){throw"Could not resize files "+n;})}var a,v,k,b=[],d=[],y=[],w,nt,g,p;v=r.$$ngfPrevValidFiles||[];k=r.$$ngfPrevInvalidFiles||[];i&&i.$modelValue&&(v=ft(i.$modelValue));w=f.attrGetter("ngfKeep",r,u);a=(h||[]).slice(0);"distinct"!==w&&f.attrGetter("ngfKeepDistinct",r,u)!==!0||ut(r,u);nt=!w&&!f.attrGetter("ngfMultiple",r,u)&&!f.attrGetter("multiple",r);(!w||a.length)&&(f.attrGetter("ngfBeforeModelChange",r,u,{$files:h,$file:h&&h.length?h[0]:null,$newFiles:a,$duplicateFiles:b,$event:c}),g=f.attrGetter("ngfValidateAfterResize",r,u),p=f.attrGetter("ngModelOptions",r,u),f.validate(a,v.length,i,r,u).then(function(){l?tt(a,[],h,b,nt):(p&&p.allowInvalid||g?y=a:it(),f.attrGetter("ngfFixOrientation",r,u)&&f.isExifSupported()?o(y,r,u).then(function(){rt()}):rt())}))},f}]);ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(n,t,i,r){function f(n){var t=n.match(/Android[^\d]*(\d+)\.(\d+)/),i;return t&&t.length>2?(i=r.defaults.androidFixMinorVersion||4,parseInt(t[1])<4||parseInt(t[1])===i&&parseInt(t[2])<i):-1===n.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(n)}function e(n,t,i,r,e,o,s,h){function v(){return"input"===t[0].tagName.toLowerCase()&&i.type&&"file"===i.type.toLowerCase()}function w(){return l("ngfChange")||l("ngfSelect")}function y(t){if(h.shouldUpdateOn("change",i,n)){for(var e=t.__files_||t.target&&t.target.files,u=[],f=0;f<e.length;f++)u.push(e[f]);h.updateModel(r,i,n,w(),u.length?u:null,t)}}function d(n){var r,i;if(t!==n)for(r=0;r<t[0].attributes.length;r++)i=t[0].attributes[r],"type"!==i.name&&"class"!==i.name&&"style"!==i.name&&(null!=i.value&&""!==i.value||("required"===i.name&&(i.value="required"),"multiple"===i.name&&(i.value="multiple")),n.attr(i.name,"id"===i.name?"ngf-"+i.value:i.value))}function g(){var n,i;return v()?t:(n=angular.element('<input type="file">'),d(n),i=angular.element("<label>upload<\/label>"),i.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),u.push({el:t,ref:i}),document.body.appendChild(i.append(n)[0]),n)}function nt(i){if(t.attr("disabled"))return!1;if(!l("ngfSelectDisabled",n)){var r=tt(i);if(null!=r)return r;b(i);try{v()||document.body.contains(c[0])||(u.push({el:t,ref:c.parent()}),document.body.appendChild(c.parent()[0]),c.bind("change",y))}catch(e){}return f(navigator.userAgent)?setTimeout(function(){c[0].click()},0):c[0].click(),!1}}function tt(n){var t=n.changedTouches||n.originalEvent&&n.originalEvent.changedTouches,i;return"touchstart"===n.type?(p=t?t[0].clientY:0,!0):(n.stopPropagation(),n.preventDefault(),"touchend"===n.type)&&(i=t?t[0].clientY:0,Math.abs(i-p)>20)?!1:void 0}function b(t){h.shouldUpdateOn("click",i,n)&&c.val()&&(c.val(null),h.updateModel(r,i,n,w(),null,t,!0))}function k(n){if(c&&!c.attr("__ngf_ie10_Fix_")){if(!c[0].parentNode)return void(c=null);n.preventDefault();n.stopPropagation();c.unbind("click");var t=c.clone();return c.replaceWith(t),c=t,c.attr("__ngf_ie10_Fix_","true"),c.bind("change",y),c.bind("click",k),c[0].click(),!1}c.removeAttr("__ngf_ie10_Fix_")}var l=function(n,t){return h.attrGetter(n,i,t)},a,p,c;h.registerModelChangeValidator(r,i,n);a=[];a.push(n.$watch(l("ngfMultiple"),function(){c.attr("multiple",l("ngfMultiple",n))}));a.push(n.$watch(l("ngfCapture"),function(){c.attr("capture",l("ngfCapture",n))}));a.push(n.$watch(l("ngfAccept"),function(){c.attr("accept",l("ngfAccept",n))}));i.$observe("accept",function(){c.attr("accept",l("accept"))});a.push(function(){i.$$observers&&delete i.$$observers.accept});p=0;c=t;v()||(c=g());c.bind("change",y);v()?t.bind("click",b):t.bind("click touchstart touchend",nt);-1!==navigator.appVersion.indexOf("MSIE 10")&&c.bind("click",k);r&&r.$formatters.push(function(n){return null!=n&&0!==n.length||c.val()&&c.val(null),n});n.$on("$destroy",function(){v()||c.parent().remove();angular.forEach(a,function(n){n()})});o(function(){for(var t,n=0;n<u.length;n++)t=u[n],document.body.contains(t.el[0])||(u.splice(n,1),t.ref.remove())});window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,c,y)}var u=[];return{restrict:"AEC",require:"?ngModel",link:function(u,f,o,s){e(u,f,o,s,n,t,i,r)}}}]),function(){function t(n){return"img"===n.tagName.toLowerCase()?"image":"audio"===n.tagName.toLowerCase()?"audio":"video"===n.tagName.toLowerCase()?"video":/./}function n(n,i,r,u,f,e,o,s){function h(t){var e=n.attrGetter("ngfNoObjectUrl",f,r);n.dataUrl(t,e)["finally"](function(){i(function(){var n=(e?t.$ngfDataUrl:t.$ngfBlobUrl)||t.$ngfDataUrl;s?u.css("background-image","url('"+(n||"")+"')"):u.attr("src",n);n?u.removeClass("ng-hide"):u.addClass("ng-hide")})})}i(function(){var i=r.$watch(f[e],function(i){var r=o,f;return"ngfThumbnail"===e&&(r||(r={width:u[0].clientWidth,height:u[0].clientHeight}),0===r.width&&window.getComputedStyle)&&(f=getComputedStyle(u[0]),r={width:parseInt(f.width.slice(0,-2)),height:parseInt(f.height.slice(0,-2))}),angular.isString(i)?(u.removeClass("ng-hide"),s?u.css("background-image","url('"+i+"')"):u.attr("src",i)):void(!i||!i.type||0!==i.type.search(t(u[0]))||s&&0!==i.type.indexOf("image")?u.addClass("ng-hide"):r&&n.isResizeSupported()?n.resize(i,r.width,r.height,r.quality).then(function(n){h(n)},function(n){throw n;}):h(i))});r.$on("$destroy",function(){i()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(n,t,i){var r=n;return r.base64DataUrl=function(n){if(angular.isArray(n)){var t=i.defer(),u=0;return angular.forEach(n,function(i){r.dataUrl(i,!0)["finally"](function(){if(u++,u===n.length){var i=[];angular.forEach(n,function(n){i.push(n.$ngfDataUrl)});t.resolve(i,n)}})}),t.promise}return r.dataUrl(n,!0)},r.dataUrl=function(n,u){var e,f;return n?u&&null!=n.$ngfDataUrl||!u&&null!=n.$ngfBlobUrl?r.emptyPromise(u?n.$ngfDataUrl:n.$ngfBlobUrl,n):(e=u?n.$$ngfDataUrlPromise:n.$$ngfBlobUrlPromise,e)?e:(f=i.defer(),t(function(){var i,e,o;if(window.FileReader&&n&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||n.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||n.size<4e6))if(i=window.URL||window.webkitURL,i&&i.createObjectURL&&!u){try{e=i.createObjectURL(n)}catch(s){return void t(function(){n.$ngfBlobUrl="";f.reject()})}t(function(){var u,o,t;if(n.$ngfBlobUrl=e,e)for(f.resolve(e,n),r.blobUrls=r.blobUrls||[],r.blobUrlsTotalSize=r.blobUrlsTotalSize||0,r.blobUrls.push({url:e,size:n.size}),r.blobUrlsTotalSize+=n.size||0,u=r.defaults.blobUrlsMaxMemory||268435456,o=r.defaults.blobUrlsMaxQueueSize||200;(r.blobUrlsTotalSize>u||r.blobUrls.length>o)&&r.blobUrls.length>1;)t=r.blobUrls.splice(0,1)[0],i.revokeObjectURL(t.url),r.blobUrlsTotalSize-=t.size})}else o=new FileReader,o.onload=function(i){t(function(){n.$ngfDataUrl=i.target.result;f.resolve(i.target.result,n);t(function(){delete n.$ngfDataUrl},1e3)})},o.onerror=function(){t(function(){n.$ngfDataUrl="";f.reject()})},o.readAsDataURL(n);else t(function(){n[u?"$ngfDataUrl":"$ngfBlobUrl"]="";f.reject()})}),e=u?n.$$ngfDataUrlPromise=f.promise:n.$$ngfBlobUrlPromise=f.promise,e["finally"](function(){delete n[u?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),e):r.emptyPromise(n,n)},r}]);ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(t,i){return{restrict:"AE",link:function(r,u,f){n(t,i,r,u,f,"ngfSrc",t.attrGetter("ngfResize",f,r),!1)}}}]);ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(t,i){return{restrict:"AE",link:function(r,u,f){n(t,i,r,u,f,"ngfBackground",t.attrGetter("ngfResize",f,r),!0)}}}]);ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(t,i){return{restrict:"AE",link:function(r,u,f){var e=t.attrGetter("ngfSize",f,r);n(t,i,r,u,f,"ngfThumbnail",e,t.attrGetter("ngfAsBackground",f,r))}}}]);ngFileUpload.config(["$compileProvider",function(n){n.imgSrcSanitizationWhitelist&&n.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/);n.aHrefSanitizationWhitelist&&n.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/)}]);ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(n,t){return function(i,r,u){if(angular.isString(i))return t.trustAsResourceUrl(i);var f=i&&((r?i.$ngfDataUrl:i.$ngfBlobUrl)||i.$ngfDataUrl);return i&&!f?(!i.$ngfDataUrlFilterInProgress&&angular.isObject(i)&&(i.$ngfDataUrlFilterInProgress=!0,n.dataUrl(i,r)),""):(i&&delete i.$ngfDataUrlFilterInProgress,(i&&f?u?t.trustAsResourceUrl(f):f:i)||"")}}])}();ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(n,t,i){function u(n){var t="",f=[],i,r,e;if(n.length>2&&"/"===n[0]&&"/"===n[n.length-1])t=n.substring(1,n.length-1);else if(i=n.split(","),i.length>1)for(r=0;r<i.length;r++)e=u(i[r]),e.regexp?(t+="("+e.regexp+")",r<i.length-1&&(t+="|")):f=f.concat(e.excludes);else 0===n.indexOf("!")?f.push("^((?!"+u(n.substring(1)).regexp+").)*$"):(0===n.indexOf(".")&&(n="*"+n),t="^"+n.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",t=t.replace(/\\\*/g,".*").replace(/\\\?/g,"."));return{regexp:t,excludes:f}}function f(n,t){null==t||n.$dirty||(n.$setDirty?n.$setDirty():n.$dirty=!0)}var r=n;return r.validatePattern=function(n,t){var i,r,f,e,o;if(!t)return!0;for(i=u(t),r=!0,i.regexp&&i.regexp.length&&(f=new RegExp(i.regexp,"i"),r=null!=n.type&&f.test(n.type)||null!=n.name&&f.test(n.name)),e=i.excludes.length;e--;)o=new RegExp(i.excludes[e],"i"),r=r&&(null==n.type||o.test(n.type))&&(null==n.name||o.test(n.name));return r},r.ratioToFloat=function(n){var t=n.toString(),i=t.search(/[x:]/i);return i>-1?parseFloat(t.substring(0,i))/parseFloat(t.substring(i+1)):parseFloat(t)},r.registerModelChangeValidator=function(n,t,i){n&&n.$formatters.push(function(u){n.$dirty&&(u&&!angular.isArray(u)&&(u=[u]),r.validate(u,0,n,t,i).then(function(){r.applyModelValidation(n,u)}))})},r.applyModelValidation=function(n,t){f(n,t);angular.forEach(n.$ngfValidations,function(t){n.$setValidity(t.name,t.valid)})},r.getValidationAttr=function(n,t,i,u,f){var s="ngf"+i[0].toUpperCase()+i.substr(1),e=r.attrGetter(s,n,t,{$file:f}),o;return null==e&&(e=r.attrGetter("ngfValidate",n,t,{$file:f}))&&(o=(u||i).split("."),e=e[o[0]],o.length>1&&(e=e&&e[o[1]])),e},r.validate=function(n,i,u,f,e){function h(t,i,o){var h,c,s,l;if(n){for(h=n.length,c=null;h--;)s=n[h],s&&(l=r.getValidationAttr(f,e,t,i,s),null!=l&&(o(s,l,h)||(s.$error=t,(s.$errorMessages=s.$errorMessages||{})[t]=!0,s.$errorParam=l,n.splice(h,1),c=!1)));null!==c&&u.$ngfValidations.push({name:t,valid:c})}}function s(i,o,s,h,l){function a(n,t,r){null!=r?h(t,r).then(function(u){l(u,r)?n.resolve():(t.$error=i,(t.$errorMessages=t.$errorMessages||{})[i]=!0,t.$errorParam=r,n.reject())},function(){c("ngfValidateForce",{$file:t})?(t.$error=i,(t.$errorMessages=t.$errorMessages||{})[i]=!0,t.$errorParam=r,n.reject()):n.resolve()}):n.resolve()}var v=[r.emptyPromise()];if(n)return(n=void 0===n.length?[n]:n,angular.forEach(n,function(n){var u=t.defer();return v.push(u.promise),!s||null!=n.type&&0===n.type.search(s)?void("dimensions"===i&&null!=r.attrGetter("ngfDimensions",f)?r.imageDimensions(n).then(function(t){a(u,n,c("ngfDimensions",{$file:n,$width:t.width,$height:t.height}))},function(){u.reject()}):"duration"===i&&null!=r.attrGetter("ngfDuration",f)?r.mediaDuration(n).then(function(t){a(u,n,c("ngfDuration",{$file:n,$duration:t}))},function(){u.reject()}):a(u,n,r.getValidationAttr(f,e,i,o,n))):void u.resolve()}),t.all(v).then(function(){u.$ngfValidations.push({name:i,valid:!0})},function(){u.$ngfValidations.push({name:i,valid:!1})}))}var c,l,a,o;return(u=u||{},u.$ngfValidations=u.$ngfValidations||[],angular.forEach(u.$ngfValidations,function(n){n.valid=!0}),c=function(n,t){return r.attrGetter(n,f,e,t)},null==n||0===n.length)?r.emptyPromise(u):(n=void 0===n.length?[n]:n.slice(0),h("maxFiles",null,function(n,t,r){return t>i+r}),h("pattern",null,r.validatePattern),h("minSize","size.min",function(n,t){return n.size+.1>=r.translateScalars(t)}),h("maxSize","size.max",function(n,t){return n.size-.1<=r.translateScalars(t)}),l=0,h("maxTotalSize",null,function(t,i){return l+=t.size,l>r.translateScalars(i)?(n.splice(0,n.length),!1):!0}),h("validateFn",null,function(n,t){return t===!0||null===t||""===t}),!n.length)?r.emptyPromise(u,u.$ngfValidations):(a=t.defer(),o=[],o.push(r.happyPromise(s("maxHeight","height.max",/image/,this.imageDimensions,function(n,t){return n.height<=t}))),o.push(r.happyPromise(s("minHeight","height.min",/image/,this.imageDimensions,function(n,t){return n.height>=t}))),o.push(r.happyPromise(s("maxWidth","width.max",/image/,this.imageDimensions,function(n,t){return n.width<=t}))),o.push(r.happyPromise(s("minWidth","width.min",/image/,this.imageDimensions,function(n,t){return n.width>=t}))),o.push(r.happyPromise(s("dimensions",null,/image/,function(n,t){return r.emptyPromise(t)},function(n){return n}))),o.push(r.happyPromise(s("ratio",null,/image/,this.imageDimensions,function(n,t){for(var u=t.toString().split(","),f=!1,i=0;i<u.length;i++)Math.abs(n.width/n.height-r.ratioToFloat(u[i]))<.0001&&(f=!0);return f}))),o.push(r.happyPromise(s("maxRatio","ratio.max",/image/,this.imageDimensions,function(n,t){return n.width/n.height-r.ratioToFloat(t)<.0001}))),o.push(r.happyPromise(s("minRatio","ratio.min",/image/,this.imageDimensions,function(n,t){return n.width/n.height-r.ratioToFloat(t)>-.0001}))),o.push(r.happyPromise(s("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(n,t){return n<=r.translateScalars(t)}))),o.push(r.happyPromise(s("minDuration","duration.min",/audio|video/,this.mediaDuration,function(n,t){return n>=r.translateScalars(t)}))),o.push(r.happyPromise(s("duration",null,/audio|video/,function(n,t){return r.emptyPromise(t)},function(n){return n}))),o.push(r.happyPromise(s("validateAsyncFn",null,null,function(n,t){return t},function(n){return n===!0||null===n||""===n}))),t.all(o).then(function(){a.resolve(u,u.$ngfValidations)}))},r.imageDimensions=function(n){var f,u;return n.$ngfWidth&&n.$ngfHeight?(f=t.defer(),i(function(){f.resolve({width:n.$ngfWidth,height:n.$ngfHeight})}),f.promise):n.$ngfDimensionPromise?n.$ngfDimensionPromise:(u=t.defer(),i(function(){return 0!==n.type.indexOf("image")?void u.reject("not image"):void r.dataUrl(n).then(function(t){function f(){var t=r[0].clientWidth,i=r[0].clientHeight;r.remove();n.$ngfWidth=t;n.$ngfHeight=i;u.resolve({width:t,height:i})}function e(){r.remove();u.reject("load error")}function o(){i(function(){r[0].parentNode&&(r[0].clientWidth?f():s>10?e():o())},1e3)}var r=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important"),s;r.on("load",f);r.on("error",e);s=0;o();angular.element(document.getElementsByTagName("body")[0]).append(r)},function(){u.reject("load error")})}),n.$ngfDimensionPromise=u.promise,n.$ngfDimensionPromise["finally"](function(){delete n.$ngfDimensionPromise}),n.$ngfDimensionPromise)},r.mediaDuration=function(n){var f,u;return n.$ngfDuration?(f=t.defer(),i(function(){f.resolve(n.$ngfDuration)}),f.promise):n.$ngfDurationPromise?n.$ngfDurationPromise:(u=t.defer(),i(function(){return 0!==n.type.indexOf("audio")&&0!==n.type.indexOf("video")?void u.reject("not media"):void r.dataUrl(n).then(function(t){function f(){var t=r[0].duration;n.$ngfDuration=t;r.remove();u.resolve(t)}function e(){r.remove();u.reject("load error")}function o(){i(function(){r[0].parentNode&&(r[0].duration?f():s>10?e():o())},1e3)}var r=angular.element(0===n.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed"),s;r.on("loadedmetadata",f);r.on("error",e);s=0;o();angular.element(document.body).append(r)},function(){u.reject("load error")})}),n.$ngfDurationPromise=u.promise,n.$ngfDurationPromise["finally"](function(){delete n.$ngfDurationPromise}),n.$ngfDurationPromise)},r}]);ngFileUpload.service("UploadResize",["UploadValidate","$q",function(n,t){var i=n,r=function(n,t,i,r,u){var f=u?Math.max(i/n,r/t):Math.min(i/n,r/t);return{width:n*f,height:t*f,marginX:n*f-i,marginY:t*f-r}},u=function(n,u,f,e,o,s,h,c){var a=t.defer(),v=document.createElement("canvas"),l=document.createElement("img");return l.onload=function(){var t,y,n,p;if(null!=c&&c(l.width,l.height)===!1)return void a.reject("resizeIf");try{s&&(t=i.ratioToFloat(s),y=l.width/l.height,t>y?(u=l.width,f=u/t):(f=l.height,u=f*t));u||(u=l.width);f||(f=l.height);n=r(l.width,l.height,u,f,h);v.width=Math.min(n.width,u);v.height=Math.min(n.height,f);p=v.getContext("2d");p.drawImage(l,Math.min(0,-n.marginX/2),Math.min(0,-n.marginY/2),n.width,n.height);a.resolve(v.toDataURL(o||"image/WebP",e||.934))}catch(w){a.reject(w)}},l.onerror=function(){a.reject()},l.src=n,a.promise};return i.dataUrltoBlob=function(n,t,i){for(var u,f=n.split(","),s=f[0].match(/:(.*?);/)[1],e=atob(f[1]),r=e.length,o=new Uint8Array(r);r--;)o[r]=e.charCodeAt(r);return u=new window.Blob([o],{type:s}),u.name=t,u.$ngfOrigSize=i,u},i.isResizeSupported=function(){var n=document.createElement("canvas");return window.atob&&n.getContext&&n.getContext("2d")&&window.Blob},i.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(n){this.$ngfName=n},configurable:!0}),i.resize=function(n,r,f,e,o,s,h,c,l){if(0!==n.type.indexOf("image"))return i.emptyPromise(n);var a=t.defer();return i.dataUrl(n,!0).then(function(t){u(t,r,f,e,o||n.type,s,h,c).then(function(r){if("image/jpeg"===n.type&&l)try{r=i.restoreExif(t,r)}catch(u){setTimeout(function(){throw u;},1)}try{var f=i.dataUrltoBlob(r,n.name,n.size);a.resolve(f)}catch(u){a.reject(u)}},function(t){"resizeIf"===t&&a.resolve(n);a.reject(t)})},function(n){a.reject(n)}),a.promise},i}]),function(){function t(t,i,r,u,f,e,o,s,h,c){function v(){return i.attr("disabled")||l("ngfDropDisabled",t)}function y(n,i){s.updateModel(u,r,t,l("ngfChange")||l("ngfDrop"),n,i)}function b(n,i){var u,e,o,f;return!s.shouldUpdateOn(n,r,t)||!i?s.rejectPromise([]):(u=[],i.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(n,t,i){u.push(i)}),e=[],o=[],u.length)?(angular.forEach(u,function(n){e.push(s.urlToBlob(n).then(function(n){o.push(n)}))}),f=c.defer(),c.all(e).then(function(){f.resolve(o)},function(n){f.reject(n)}),f.promise):s.emptyPromise()}function g(n,t,i,r){var u=l("ngfDragOverClass",n,{$event:i}),f="dragover",e,h,o;if(angular.isString(u))f=u;else if(u&&(u.delay&&(d=u.delay),u.accept||u.reject))if(e=i.dataTransfer.items,null!=e&&e.length)for(h=u.pattern||l("ngfPattern",n,{$event:i}),o=e.length;o--;){if(!s.validatePattern(e[o],h)){f=u.reject;break}f=u.accept}else f=u.accept;r(f)}function nt(n,i,u,f){function nt(n,t){var i=c.defer(),u,r;if(null!=n)if(n.isDirectory){u=[s.emptyPromise()];g&&(r={type:"directory"},r.name=r.path=(t||"")+n.name+n.name,e.push(r));var h=n.createReader(),f=[],o=function(){h.readEntries(function(r){try{r.length?(f=f.concat(Array.prototype.slice.call(r||[],0)),o()):(angular.forEach(f.slice(0),function(i){e.length<=k&&d>=a&&u.push(nt(i,(t?t:"")+n.name+"/"))}),c.all(u).then(function(){i.resolve()},function(n){i.reject(n)}))}catch(s){i.reject(s)}},function(n){i.reject(n)})};o()}else n.file(function(n){try{n.path=(t?t:"")+n.name;g&&(n=s.rename(n,n.path));e.push(n);a+=n.size;i.resolve()}catch(r){i.reject(r)}},function(n){i.reject(n)});return i.promise}var k=s.getValidationAttr(r,t,"maxFiles")||Number.MAX_VALUE,d=s.getValidationAttr(r,t,"maxTotalSize")||Number.MAX_VALUE,g=l("ngfIncludeDir",t),e=[],a=0,tt=[s.emptyPromise()],h,p,w,b,v,y;if(n&&n.length>0&&"file"!==o.protocol())for(h=0;h<n.length;h++){if(n[h].webkitGetAsEntry&&n[h].webkitGetAsEntry()&&n[h].webkitGetAsEntry().isDirectory){if(p=n[h].webkitGetAsEntry(),p.isDirectory&&!u)continue;null!=p&&tt.push(nt(p))}else w=n[h].getAsFile(),null!=w&&(e.push(w),a+=w.size);if(e.length>k||a>d||!f&&e.length>0)break}else if(null!=i)for(b=0;b<i.length;b++)if(v=i.item(b),(v.type||v.size>0)&&(e.push(v),a+=v.size),e.length>k||a>d||!f&&e.length>0)break;return y=c.defer(),c.all(tt).then(function(){if(f||g||!e.length)y.resolve(e);else{for(var n=0;e[n]&&"directory"===e[n].type;)n++;y.resolve([e[n]])}},function(n){y.reject(n)}),y.promise}var w=n(),l=function(n,t,i){return s.attrGetter(n,r,t,i)};if(l("dropAvailable")&&e(function(){t[l("dropAvailable")]?t[l("dropAvailable")].value=w:t[l("dropAvailable")]=w}),!w)return void(l("ngfHideOnDropNotAvailable",t)===!0&&i.css("display","none"));null==l("ngfSelect")&&s.registerModelChangeValidator(u,r,t);var a,k=null,p=f(l("ngfStopPropagation")),d=1;i[0].addEventListener("dragover",function(n){if(!v()&&s.shouldUpdateOn("drop",r,t)){if(n.preventDefault(),p(t)&&n.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var u=n.dataTransfer.effectAllowed;n.dataTransfer.dropEffect="move"===u||"linkMove"===u?"move":"copy"}e.cancel(k);a||(a="C",g(t,r,n,function(r){a=r;i.addClass(a);l("ngfDrag",t,{$isDragging:!0,$class:a,$event:n})}))}},!1);i[0].addEventListener("dragenter",function(n){!v()&&s.shouldUpdateOn("drop",r,t)&&(n.preventDefault(),p(t)&&n.stopPropagation())},!1);i[0].addEventListener("dragleave",function(n){!v()&&s.shouldUpdateOn("drop",r,t)&&(n.preventDefault(),p(t)&&n.stopPropagation(),k=e(function(){a&&i.removeClass(a);a=null;l("ngfDrag",t,{$isDragging:!1,$event:n})},d||100))},!1);i[0].addEventListener("drop",function(n){if(!v()&&s.shouldUpdateOn("drop",r,t)){n.preventDefault();p(t)&&n.stopPropagation();a&&i.removeClass(a);a=null;var u,f=n.dataTransfer.items;try{u=n.dataTransfer&&n.dataTransfer.getData&&n.dataTransfer.getData("text/html")}catch(e){}nt(f,n.dataTransfer.files,l("ngfAllowDir",t)!==!1,l("multiple")||l("ngfMultiple",t)).then(function(t){t.length?y(t,n):b("dropUrl",u).then(function(t){y(t,n)})})}},!1);i[0].addEventListener("paste",function(n){var f,i,u;if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&l("ngfEnableFirefoxPaste",t)&&n.preventDefault(),!v()&&s.shouldUpdateOn("paste",r,t)){if(f=[],i=n.clipboardData||n.originalEvent.clipboardData,i&&i.items)for(u=0;u<i.items.length;u++)-1!==i.items[u].type.indexOf("image")&&f.push(i.items[u].getAsFile());f.length?y(f,n):b("pasteUrl",i).then(function(t){y(t,n)})}},!1);navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&l("ngfEnableFirefoxPaste",t)&&(i.attr("contenteditable",!0),i.on("keypress",function(n){n.metaKey||n.ctrlKey||n.preventDefault()}))}function n(){var n=document.createElement("div");return"draggable"in n&&"ondrop"in n&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$location","Upload","$http","$q",function(n,i,r,u,f,e){return{restrict:"AEC",require:"?ngModel",link:function(o,s,h,c){t(o,s,h,c,n,i,r,u,f,e)}}}]);ngFileUpload.directive("ngfNoFileDrop",function(){return function(t,i){n()&&i.css("display","none")}});ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(t,i,r){return function(u,f,e){if(n()){var o=t(r.attrGetter("ngfDropAvailable",e));i(function(){o(u);o.assign&&o.assign(u,!0)})}}}])}();ngFileUpload.service("UploadExif",["UploadResize","$q",function(n,t){function r(n,t,i,r){switch(t){case 2:return n.transform(-1,0,0,1,i,0);case 3:return n.transform(-1,0,0,-1,i,r);case 4:return n.transform(1,0,0,-1,0,r);case 5:return n.transform(0,1,1,0,0,0);case 6:return n.transform(0,1,-1,0,r,0);case 7:return n.transform(0,-1,-1,0,r,i);case 8:return n.transform(0,-1,1,0,0,i)}}function u(n){for(var i="",r=new Uint8Array(n),u=r.byteLength,t=0;u>t;t++)i+=String.fromCharCode(r[t]);return window.btoa(i)}var i=n;return i.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&i.isResizeSupported()},i.readOrientation=function(n){var i=t.defer(),r=new FileReader,u=n.slice?n.slice(0,65536):n;return r.readAsArrayBuffer(u),r.onerror=function(n){return i.reject(n)},r.onload=function(n){var u={orientation:1},r=new DataView(this.result),h,t,s,f,c,e,o;if(65496!==r.getUint16(0,!1))return i.resolve(u);for(h=r.byteLength,t=2;h>t;)if(s=r.getUint16(t,!1),t+=2,65505===s){if(1165519206!==r.getUint32(t+=2,!1))return i.resolve(u);for(f=18761===r.getUint16(t+=6,!1),t+=r.getUint32(t+4,f),c=r.getUint16(t,f),t+=2,e=0;c>e;e++)if(274===r.getUint16(t+12*e,f))return o=r.getUint16(t+12*e+8,f),o>=2&&8>=o&&(r.setUint16(t+12*e+8,1,f),u.fixedArrayBuffer=n.target.result),u.orientation=o,i.resolve(u)}else{if(65280!=(65280&s))break;t+=r.getUint16(t,!1)}return i.resolve(u)},i.promise},i.applyExifRotation=function(n){if(0!==n.type.indexOf("image/jpeg"))return i.emptyPromise(n);var f=t.defer();return i.readOrientation(n).then(function(t){return t.orientation<2||t.orientation>8?f.resolve(n):void i.dataUrl(n,!0).then(function(e){var s=document.createElement("canvas"),o=document.createElement("img");o.onload=function(){var h,e,c;try{s.width=t.orientation>4?o.height:o.width;s.height=t.orientation>4?o.width:o.height;h=s.getContext("2d");r(h,t.orientation,o.width,o.height);h.drawImage(o,0,0);e=s.toDataURL(n.type||"image/WebP",.934);e=i.restoreExif(u(t.fixedArrayBuffer),e);c=i.dataUrltoBlob(e,n.name);f.resolve(c)}catch(l){return f.reject(l)}};o.onerror=function(){f.reject()};o.src=e},function(n){f.reject(n)})},function(n){f.reject(n)}),f.promise},i.restoreExif=function(n,t){var i={};return i.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i.encode64=function(n){var u,t,o,s,f,h="",i="",r="",e=0;do u=n[e++],t=n[e++],i=n[e++],o=u>>2,s=(3&u)<<4|t>>4,f=(15&t)<<2|i>>6,r=63&i,isNaN(t)?f=r=64:isNaN(i)&&(r=64),h=h+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(f)+this.KEY_STR.charAt(r),u=t=i="",o=s=f=r="";while(e<n.length);return h},i.restore=function(n,t){n.match("data:image/jpeg;base64,")&&(n=n.replace("data:image/jpeg;base64,",""));var i=this.decode64(n),r=this.slice2Segments(i),u=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(u)},i.exifManipulation=function(n,t){var i=this.getExifArray(t),r=this.insertExif(n,i);return new Uint8Array(r)},i.getExifArray=function(n){for(var t,i=0;i<n.length;i++)if(t=n[i],255===t[0]&225===t[1])return t;return[]},i.insertExif=function(n,t){var f=n.replace("data:image/jpeg;base64,",""),r=this.decode64(f),u=r.indexOf(255,3),e=r.slice(0,u),o=r.slice(u),i=e;return i=i.concat(t),i=i.concat(o)},i.slice2Segments=function(n){for(var t=0,i=[];;){if(255===n[t]&218===n[t+1])break;if(255===n[t]&216===n[t+1])t+=2;else{var u=256*n[t+2]+n[t+3],r=t+u+2,f=n.slice(t,r);i.push(f);t=r}if(t>n.length)break}return i},i.decode64=function(n){var e,o,s,r,t,h="",u="",i=0,f=[];/[^A-Za-z0-9\+\/\=]/g.exec(n)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding.");n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");do s=this.KEY_STR.indexOf(n.charAt(i++)),r=this.KEY_STR.indexOf(n.charAt(i++)),t=this.KEY_STR.indexOf(n.charAt(i++)),u=this.KEY_STR.indexOf(n.charAt(i++)),e=s<<2|r>>4,o=(15&r)<<4|t>>2,h=(3&t)<<6|u,f.push(e),64!==t&&f.push(o),64!==u&&f.push(h),e=o=h="",s=r=t=u="";while(i<n.length);return f},i.restore(n,t)},i}]);!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.moment=t()}(this,function(){"use strict";function i(){return kf.apply(null,arguments)}function pe(n){kf=n}function ui(n){return"[object Array]"===Object.prototype.toString.call(n)}function fi(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function we(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function ft(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function ei(n,t){for(var i in t)ft(t,i)&&(n[i]=t[i]);return ft(t,"toString")&&(n.toString=t.toString),ft(t,"valueOf")&&(n.valueOf=t.valueOf),n}function kt(n,t,i,r){return gu(n,t,i,r,!0).utc()}function be(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(n){return null==n._pf&&(n._pf=be()),n._pf}function iu(n){if(null==n._isValid){var t=e(n);n._isValid=!(isNaN(n._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated);n._strict&&(n._isValid=n._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return n._isValid}function ru(n){var t=kt(NaN);return null!=n?ei(e(t),n):e(t).userInvalidated=!0,t}function ki(n,t){var u,i,r;if("undefined"!=typeof t._isAMomentObject&&(n._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(n._i=t._i),"undefined"!=typeof t._f&&(n._f=t._f),"undefined"!=typeof t._l&&(n._l=t._l),"undefined"!=typeof t._strict&&(n._strict=t._strict),"undefined"!=typeof t._tzm&&(n._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(n._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(n._offset=t._offset),"undefined"!=typeof t._pf&&(n._pf=e(t)),"undefined"!=typeof t._locale&&(n._locale=t._locale),cr.length>0)for(u in cr)i=cr[u],r=t[i],"undefined"!=typeof r&&(n[i]=r);return n}function dt(n){ki(this,n);this._d=new Date(null!=n._d?n._d.getTime():NaN);lr===!1&&(lr=!0,i.updateOffset(this),lr=!1)}function nt(n){return n instanceof dt||null!=n&&null!=n._isAMomentObject}function v(n){return 0>n?Math.ceil(n):Math.floor(n)}function s(n){var t=+n,i=0;return 0!==t&&isFinite(t)&&(i=v(t)),i}function uu(n,t,i){for(var f=Math.min(n.length,t.length),e=Math.abs(n.length-t.length),u=0,r=0;f>r;r++)(i&&n[r]!==t[r]||!i&&s(n[r])!==s(t[r]))&&u++;return u+e}function fu(){}function eu(n){return n?n.toLowerCase().replace("_","-"):n}function ke(n){for(var i,t,f,r,u=0;u<n.length;){for(r=eu(n[u]).split("-"),i=r.length,t=eu(n[u+1]),t=t?t.split("-"):null;i>0;){if(f=ou(r.slice(0,i).join("-")))return f;if(t&&t.length>=i&&uu(r,t,!0)>=i-1)break;i--}u++}return null}function ou(n){var t=null;if(!ct[n]&&"undefined"!=typeof module&&module&&module.exports)try{t=li._abbr;require("./locale/"+n);gt(t)}catch(i){}return ct[n]}function gt(n,t){var i;return n&&(i="undefined"==typeof t?et(n):su(n,t),i&&(li=i)),li._abbr}function su(n,t){return null!==t?(t.abbr=n,ct[n]=ct[n]||new fu,ct[n].set(t),gt(n),ct[n]):(delete ct[n],null)}function et(n){var t;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return li;if(!ui(n)){if(t=ou(n))return t;n=[n]}return ke(n)}function l(n,t){var i=n.toLowerCase();ii[i]=ii[i+"s"]=ii[t]=n}function p(n){if("string"==typeof n)return ii[n]||ii[n.toLowerCase()]}function hu(n){var i,t,r={};for(t in n)ft(n,t)&&(i=p(t),i&&(r[i]=n[t]));return r}function yt(n,t){return function(r){return null!=r?(cu(this,n,r),i.updateOffset(this,t),this):oi(this,n)}}function oi(n,t){return n._d["get"+(n._isUTC?"UTC":"")+t]()}function cu(n,t,i){return n._d["set"+(n._isUTC?"UTC":"")+t](i)}function lu(n,t){var i;if("object"==typeof n)for(i in n)this.set(i,n[i]);else if(n=p(n),"function"==typeof this[n])return this[n](t);return this}function di(n,t,i){var r=""+Math.abs(n),u=t-r.length,f=n>=0;return(f?i?"+":"":"-")+Math.pow(10,Math.max(0,u)).toString().substr(1)+r}function r(n,t,i,r){var u=r;"string"==typeof r&&(u=function(){return this[r]()});n&&(wt[n]=u);t&&(wt[t[0]]=function(){return di(u.apply(this,arguments),t[1],t[2])});i&&(wt[i]=function(){return this.localeData().ordinal(u.apply(this,arguments),n)})}function de(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function ge(n){for(var i=n.match(df),t=0,r=i.length;r>t;t++)i[t]=wt[i[t]]?wt[i[t]]:de(i[t]);return function(u){var f="";for(t=0;r>t;t++)f+=i[t]instanceof Function?i[t].call(u,n):i[t];return f}}function gi(n,t){return n.isValid()?(t=au(t,n.localeData()),ar[t]=ar[t]||ge(t),ar[t](n)):n.localeData().invalidDate()}function au(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(ai.lastIndex=0;i>=0&&ai.test(n);)n=n.replace(ai,r),ai.lastIndex=0,i-=1;return n}function no(n){return"function"==typeof n&&"[object Function]"===Object.prototype.toString.call(n)}function t(n,t,i){pr[n]=no(t)?t:function(n){return n&&i?i:t}}function to(n,t){return ft(pr,n)?pr[n](t._strict,t._locale):new RegExp(io(n))}function io(n){return n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function c(n,t){var i,r=t;for("string"==typeof n&&(n=[n]),"number"==typeof t&&(r=function(n,i){i[t]=s(n)}),i=0;i<n.length;i++)wr[n[i]]=r}function ni(n,t){c(n,function(n,i,r,u){r._w=r._w||{};t(n,r._w,r,u)})}function ro(n,t,i){null!=t&&ft(wr,n)&&wr[n](t,i._a,i,n)}function nr(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function uo(n){return this._months[n.month()]}function fo(n){return this._monthsShort[n.month()]}function eo(n,t,i){var r,u,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++)if((u=kt([2e3,r]),i&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),i||this._monthsParse[r]||(f="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[r]=new RegExp(f.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[r].test(n))||i&&"MMM"===t&&this._shortMonthsParse[r].test(n)||!i&&this._monthsParse[r].test(n))return r}function vu(n,t){var i;return"string"==typeof t&&(t=n.localeData().monthsParse(t),"number"!=typeof t)?n:(i=Math.min(n.date(),nr(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n)}function yu(n){return null!=n?(vu(this,n),i.updateOffset(this,!0),this):oi(this,"Month")}function oo(){return nr(this.year(),this.month())}function tr(n){var i,t=n._a;return t&&-2===e(n).overflow&&(i=t[d]<0||t[d]>11?d:t[k]<1||t[k]>nr(t[b],t[d])?k:t[a]<0||t[a]>24||24===t[a]&&(0!==t[lt]||0!==t[at]||0!==t[vt])?a:t[lt]<0||t[lt]>59?lt:t[at]<0||t[at]>59?at:t[vt]<0||t[vt]>999?vt:-1,e(n)._overflowDayOfYear&&(b>i||i>k)&&(i=k),e(n).overflow=i),n}function pu(n){i.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+n)}function w(n,t){var i=!0;return ei(function(){return i&&(pu(n+"\n"+(new Error).stack),i=!1),t.apply(this,arguments)},t)}function so(n,t){te[n]||(pu(t),te[n]=!0)}function wu(n){var t,i,r=n._i,u=fa.exec(r);if(u){for(e(n).iso=!0,t=0,i=br.length;i>t;t++)if(br[t][1].exec(r)){n._f=br[t][0];break}for(t=0,i=kr.length;i>t;t++)if(kr[t][1].exec(r)){n._f+=(u[6]||" ")+kr[t][0];break}r.match(bi)&&(n._f+="Z");ur(n)}else n._isValid=!1}function ho(n){var t=ea.exec(n._i);return null!==t?void(n._d=new Date(+t[1])):(wu(n),void(n._isValid===!1&&(delete n._isValid,i.createFromInputFallback(n))))}function co(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return 1970>n&&o.setFullYear(n),o}function ir(n){var t=new Date(Date.UTC.apply(null,arguments));return 1970>n&&t.setUTCFullYear(n),t}function bu(n){return ku(n)?366:365}function ku(n){return n%4==0&&n%100!=0||n%400==0}function lo(){return ku(this.year())}function ot(n,t,i){var u,f=i-t,r=i-n.day();return r>f&&(r-=7),f-7>r&&(r+=7),u=o(n).add(r,"d"),{week:Math.ceil(u.dayOfYear()/7),year:u.year()}}function ao(n){return ot(n,this._week.dow,this._week.doy).week}function vo(){return this._week.dow}function yo(){return this._week.doy}function po(n){var t=this.localeData().week(this);return null==n?t:this.add(7*(n-t),"d")}function wo(n){var t=ot(this,1,4).week;return null==n?t:this.add(7*(n-t),"d")}function bo(n,t,i,r,u){var f,o=6+u-r,s=ir(n,0,1+o),e=s.getUTCDay();return u>e&&(e+=7),i=null!=i?1*i:u,f=1+o+7*(t-1)-e+i,{year:f>0?n:n-1,dayOfYear:f>0?f:bu(n-1)+f}}function ko(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==n?t:this.add(n-t,"d")}function pt(n,t,i){return null!=n?n:null!=t?t:i}function go(n){var t=new Date;return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function rr(n){var t,i,r,u,f=[];if(!n._d){for(r=go(n),n._w&&null==n._a[k]&&null==n._a[d]&&ns(n),n._dayOfYear&&(u=pt(n._a[b],r[b]),n._dayOfYear>bu(u)&&(e(n)._overflowDayOfYear=!0),i=ir(u,0,n._dayOfYear),n._a[d]=i.getUTCMonth(),n._a[k]=i.getUTCDate()),t=0;3>t&&null==n._a[t];++t)n._a[t]=f[t]=r[t];for(;7>t;t++)n._a[t]=f[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[a]&&0===n._a[lt]&&0===n._a[at]&&0===n._a[vt]&&(n._nextDay=!0,n._a[a]=0);n._d=(n._useUTC?ir:co).apply(null,f);null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);n._nextDay&&(n._a[a]=24)}}function ns(n){var t,e,u,r,i,f,s;t=n._w;null!=t.GG||null!=t.W||null!=t.E?(i=1,f=4,e=pt(t.GG,n._a[b],ot(o(),1,4).year),u=pt(t.W,1),r=pt(t.E,1)):(i=n._locale._week.dow,f=n._locale._week.doy,e=pt(t.gg,n._a[b],ot(o(),i,f).year),u=pt(t.w,1),null!=t.d?(r=t.d,i>r&&++u):r=null!=t.e?t.e+i:i);s=bo(e,u,r,f,i);n._a[b]=s.year;n._dayOfYear=s.dayOfYear}function ur(n){if(n._f===i.ISO_8601)return void wu(n);n._a=[];e(n).empty=!0;for(var t,u,s,r=""+n._i,c=r.length,h=0,o=au(n._f,n._locale).match(df)||[],f=0;f<o.length;f++)u=o[f],t=(r.match(to(u,n))||[])[0],t&&(s=r.substr(0,r.indexOf(t)),s.length>0&&e(n).unusedInput.push(s),r=r.slice(r.indexOf(t)+t.length),h+=t.length),wt[u]?(t?e(n).empty=!1:e(n).unusedTokens.push(u),ro(u,t,n)):n._strict&&!t&&e(n).unusedTokens.push(u);e(n).charsLeftOver=c-h;r.length>0&&e(n).unusedInput.push(r);e(n).bigHour===!0&&n._a[a]<=12&&n._a[a]>0&&(e(n).bigHour=void 0);n._a[a]=ts(n._locale,n._a[a],n._meridiem);rr(n);tr(n)}function ts(n,t,i){var r;return null==i?t:null!=n.meridiemHour?n.meridiemHour(t,i):null!=n.isPM?(r=n.isPM(i),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function is(n){var t,f,u,r,i;if(0===n._f.length)return e(n).invalidFormat=!0,void(n._d=new Date(NaN));for(r=0;r<n._f.length;r++)i=0,t=ki({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._f=n._f[r],ur(t),iu(t)&&(i+=e(t).charsLeftOver,i+=10*e(t).unusedTokens.length,e(t).score=i,(null==u||u>i)&&(u=i,f=t));ei(n,f||t)}function rs(n){if(!n._d){var t=hu(n._i);n._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond];rr(n)}}function us(n){var t=new dt(tr(du(n)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function du(n){var t=n._i,i=n._f;return n._locale=n._locale||et(n._l),null===t||void 0===i&&""===t?ru({nullInput:!0}):("string"==typeof t&&(n._i=t=n._locale.preparse(t)),nt(t)?new dt(tr(t)):(ui(i)?is(n):i?ur(n):fi(t)?n._d=t:fs(n),n))}function fs(n){var t=n._i;void 0===t?n._d=new Date:fi(t)?n._d=new Date(+t):"string"==typeof t?ho(n):ui(t)?(n._a=we(t.slice(0),function(n){return parseInt(n,10)}),rr(n)):"object"==typeof t?rs(n):"number"==typeof t?n._d=new Date(t):i.createFromInputFallback(n)}function gu(n,t,i,r,u){var f={};return"boolean"==typeof i&&(r=i,i=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=u,f._l=i,f._i=n,f._f=t,f._strict=r,us(f)}function o(n,t,i,r){return gu(n,t,i,r,!1)}function nf(n,t){var r,i;if(1===t.length&&ui(t[0])&&(t=t[0]),!t.length)return o();for(r=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][n](r))&&(r=t[i]);return r}function es(){var n=[].slice.call(arguments,0);return nf("isBefore",n)}function os(){var n=[].slice.call(arguments,0);return nf("isAfter",n)}function si(n){var t=hu(n),i=t.year||0,r=t.quarter||0,u=t.month||0,f=t.week||0,e=t.day||0,o=t.hour||0,s=t.minute||0,h=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*h+6e4*s+36e5*o;this._days=+e+7*f;this._months=+u+3*r+12*i;this._data={};this._locale=et();this._bubble()}function fr(n){return n instanceof si}function tf(n,t){r(n,0,0,function(){var n=this.utcOffset(),i="+";return 0>n&&(n=-n,i="-"),i+di(~~(n/60),2)+t+di(~~n%60,2)})}function er(n){var i=(n||"").match(bi)||[],u=i[i.length-1]||[],t=(u+"").match(fe)||["-",0,0],r=+(60*t[1])+s(t[2]);return"+"===t[0]?r:-r}function or(n,t){var r,u;return t._isUTC?(r=t.clone(),u=(nt(n)||fi(n)?+n:+o(n))-+r,r._d.setTime(+r._d+u),i.updateOffset(r,!1),r):o(n).local()}function sr(n){return 15*-Math.round(n._d.getTimezoneOffset()/15)}function ss(n,t){var r,u=this._offset||0;return null!=n?("string"==typeof n&&(n=er(n)),Math.abs(n)<16&&(n=60*n),!this._isUTC&&t&&(r=sr(this)),this._offset=n,this._isUTC=!0,null!=r&&this.add(r,"m"),u!==n&&(!t||this._changeInProgress?ef(this,tt(n-u,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?u:sr(this)}function hs(n,t){return null!=n?("string"!=typeof n&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}function cs(n){return this.utcOffset(0,n)}function ls(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(sr(this),"m")),this}function as(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(er(this._i)),this}function vs(n){return n=n?o(n).utcOffset():0,(this.utcOffset()-n)%60==0}function ys(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ps(){var n,t;return"undefined"!=typeof this._isDSTShifted?this._isDSTShifted:(n={},(ki(n,this),n=du(n),n._a)?(t=n._isUTC?kt(n._a):o(n._a),this._isDSTShifted=this.isValid()&&uu(n._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted)}function ws(){return!this._isUTC}function bs(){return this._isUTC}function rf(){return this._isUTC&&0===this._offset}function tt(n,t){var u,f,e,i=n,r=null;return fr(n)?i={ms:n._milliseconds,d:n._days,M:n._months}:"number"==typeof n?(i={},t?i[t]=n:i.milliseconds=n):(r=ee.exec(n))?(u="-"===r[1]?-1:1,i={y:0,d:s(r[k])*u,h:s(r[a])*u,m:s(r[lt])*u,s:s(r[at])*u,ms:s(r[vt])*u}):(r=oe.exec(n))?(u="-"===r[1]?-1:1,i={y:st(r[2],u),M:st(r[3],u),d:st(r[4],u),h:st(r[5],u),m:st(r[6],u),s:st(r[7],u),w:st(r[8],u)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(e=ks(o(i.from),o(i.to)),i={},i.ms=e.milliseconds,i.M=e.months),f=new si(i),fr(n)&&ft(n,"_locale")&&(f._locale=n._locale),f}function st(n,t){var i=n&&parseFloat(n.replace(",","."));return(isNaN(i)?0:i)*t}function uf(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+12*(t.year()-n.year()),n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function ks(n,t){var i;return t=or(t,n),n.isBefore(t)?i=uf(n,t):(i=uf(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function ff(n,t){return function(i,r){var u,f;return null===r||isNaN(+r)||(so(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),f=i,i=r,r=f),i="string"==typeof i?+i:i,u=tt(i,r),ef(this,u,n),this}}function ef(n,t,r,u){var o=t._milliseconds,f=t._days,e=t._months;u=null==u?!0:u;o&&n._d.setTime(+n._d+o*r);f&&cu(n,"Date",oi(n,"Date")+f*r);e&&vu(n,oi(n,"Month")+e*r);u&&i.updateOffset(n,f||e)}function ds(n,t){var r=n||o(),f=or(r,this).startOf("day"),i=this.diff(f,"days",!0),u=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(t&&t[u]||this.localeData().calendar(u,this,o(r)))}function gs(){return new dt(this)}function nh(n,t){var i;return t=p("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(n=nt(n)?n:o(n),+this>+n):(i=nt(n)?+n:+o(n),i<+this.clone().startOf(t))}function th(n,t){var i;return t=p("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(n=nt(n)?n:o(n),+n>+this):(i=nt(n)?+n:+o(n),+this.clone().endOf(t)<i)}function ih(n,t,i){return this.isAfter(n,i)&&this.isBefore(t,i)}function rh(n,t){var i;return t=p(t||"millisecond"),"millisecond"===t?(n=nt(n)?n:o(n),+this==+n):(i=+o(n),+this.clone().startOf(t)<=i&&i<=+this.clone().endOf(t))}function uh(n,t,i){var r,u,f=or(n,this),e=6e4*(f.utcOffset()-this.utcOffset());return t=p(t),"year"===t||"month"===t||"quarter"===t?(u=fh(this,f),"quarter"===t?u/=3:"year"===t&&(u/=12)):(r=this-f,u="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-e)/864e5:"week"===t?(r-e)/6048e5:r),i?u:v(u)}function fh(n,t){var r,f,u=12*(t.year()-n.year())+(t.month()-n.month()),i=n.clone().add(u,"months");return 0>t-i?(r=n.clone().add(u-1,"months"),f=(t-i)/(i-r)):(r=n.clone().add(u+1,"months"),f=(t-i)/(r-i)),-(u+f)}function eh(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function of(){var n=this.clone().utc();return 0<n.year()&&n.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():gi(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):gi(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function oh(n){var t=gi(this,n||i.defaultFormat);return this.localeData().postformat(t)}function sh(n,t){return this.isValid()?tt({to:this,from:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function hh(n){return this.from(o(),n)}function ch(n,t){return this.isValid()?tt({from:this,to:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function lh(n){return this.to(o(),n)}function sf(n){var t;return void 0===n?this._locale._abbr:(t=et(n),null!=t&&(this._locale=t),this)}function hf(){return this._locale}function ah(n){switch(n=p(n)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===n&&this.weekday(0),"isoWeek"===n&&this.isoWeekday(1),"quarter"===n&&this.month(3*Math.floor(this.month()/3)),this}function vh(n){return n=p(n),void 0===n||"millisecond"===n?this:this.startOf(n).add(1,"isoWeek"===n?"week":n).subtract(1,"ms")}function yh(){return+this._d-6e4*(this._offset||0)}function ph(){return Math.floor(+this/1e3)}function wh(){return this._offset?new Date(+this):this._d}function bh(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function kh(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function dh(){return iu(this)}function gh(){return ei({},e(this))}function nc(){return e(this).overflow}function hi(n,t){r(0,[n,n.length],0,t)}function cf(n,t,i){return ot(o([n,11,31+t-i]),t,i).week}function tc(n){var t=ot(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==n?t:this.add(n-t,"y")}function ic(n){var t=ot(this,1,4).year;return null==n?t:this.add(n-t,"y")}function rc(){return cf(this.year(),1,4)}function uc(){var n=this.localeData()._week;return cf(this.year(),n.dow,n.doy)}function fc(n){return null==n?Math.ceil((this.month()+1)/3):this.month(3*(n-1)+this.month()%3)}function ec(n,t){return"string"!=typeof n?n:isNaN(n)?(n=t.weekdaysParse(n),"number"==typeof n?n:null):parseInt(n,10)}function oc(n){return this._weekdays[n.day()]}function sc(n){return this._weekdaysShort[n.day()]}function hc(n){return this._weekdaysMin[n.day()]}function cc(n){var t,i,r;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(i=o([2e3,1]).day(t),r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(n))return t}function lc(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=n?(n=ec(n,this.localeData()),this.add(n-t,"d")):t}function ac(n){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==n?t:this.add(n-t,"d")}function vc(n){return null==n?this.day()||7:this.day(this.day()%7?n:n-7)}function lf(n,t){r(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function af(n,t){return t._meridiemParse}function yc(n){return"p"===(n+"").toLowerCase().charAt(0)}function pc(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"}function wc(n,t){t[vt]=s(1e3*("0."+n))}function bc(){return this._isUTC?"UTC":""}function kc(){return this._isUTC?"Coordinated Universal Time":""}function dc(n){return o(1e3*n)}function gc(){return o.apply(null,arguments).parseZone()}function nl(n,t,i){var r=this._calendar[n];return"function"==typeof r?r.call(t,i):r}function tl(n){var t=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return t||!i?t:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n])}function il(){return this._invalidDate}function rl(n){return this._ordinal.replace("%d",n)}function vf(n){return n}function ul(n,t,i,r){var u=this._relativeTime[i];return"function"==typeof u?u(n,t,i,r):u.replace(/%d/i,n)}function fl(n,t){var i=this._relativeTime[n>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)}function el(n){var t;for(var i in n)t=n[i],"function"==typeof t?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function yf(n,t,i,r){var u=et(),f=kt().set(r,t);return u[i](f,n)}function ti(n,t,i,r,u){if("number"==typeof n&&(t=n,n=void 0),n=n||"",null!=t)return yf(n,t,i,u);for(var e=[],f=0;r>f;f++)e[f]=yf(n,f,i,u);return e}function ol(n,t){return ti(n,t,"months",12,"month")}function sl(n,t){return ti(n,t,"monthsShort",12,"month")}function hl(n,t){return ti(n,t,"weekdays",7,"day")}function cl(n,t){return ti(n,t,"weekdaysShort",7,"day")}function ll(n,t){return ti(n,t,"weekdaysMin",7,"day")}function al(){var n=this._data;return this._milliseconds=g(this._milliseconds),this._days=g(this._days),this._months=g(this._months),n.milliseconds=g(n.milliseconds),n.seconds=g(n.seconds),n.minutes=g(n.minutes),n.hours=g(n.hours),n.months=g(n.months),n.years=g(n.years),this}function pf(n,t,i,r){var u=tt(t,i);return n._milliseconds+=r*u._milliseconds,n._days+=r*u._days,n._months+=r*u._months,n._bubble()}function vl(n,t){return pf(this,n,t,1)}function yl(n,t){return pf(this,n,t,-1)}function wf(n){return 0>n?Math.floor(n):Math.ceil(n)}function pl(){var u,f,e,s,o,r=this._milliseconds,n=this._days,t=this._months,i=this._data;return r>=0&&n>=0&&t>=0||0>=r&&0>=n&&0>=t||(r+=864e5*wf(hr(t)+n),n=0,t=0),i.milliseconds=r%1e3,u=v(r/1e3),i.seconds=u%60,f=v(u/60),i.minutes=f%60,e=v(f/60),i.hours=e%24,n+=v(e/24),o=v(bf(n)),t+=o,n-=wf(hr(o)),s=v(t/12),t%=12,i.days=n,i.months=t,i.years=s,this}function bf(n){return 4800*n/146097}function hr(n){return 146097*n/4800}function wl(n){var t,r,i=this._milliseconds;if(n=p(n),"month"===n||"year"===n)return t=this._days+i/864e5,r=this._months+bf(t),"month"===n?r:r/12;switch(t=this._days+Math.round(hr(this._months)),n){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+n);}}function bl(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*s(this._months/12)}function it(n){return function(){return this.as(n)}}function kl(n){return n=p(n),this[n+"s"]()}function ht(n){return function(){return this._data[n]}}function dl(){return v(this.days()/7)}function gl(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function na(n,t,i){var r=tt(n).abs(),h=bt(r.as("s")),f=bt(r.as("m")),e=bt(r.as("h")),o=bt(r.as("d")),s=bt(r.as("M")),c=bt(r.as("y")),u=h<ut.s&&["s",h]||1===f&&["m"]||f<ut.m&&["mm",f]||1===e&&["h"]||e<ut.h&&["hh",e]||1===o&&["d"]||o<ut.d&&["dd",o]||1===s&&["M"]||s<ut.M&&["MM",s]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+n>0,u[4]=i,gl.apply(null,u)}function ta(n,t){return void 0===ut[n]?!1:void 0===t?ut[n]:(ut[n]=t,!0)}function ia(n){var t=this.localeData(),i=na(this,!n,t);return n&&(i=t.pastFuture(+this,i)),t.postformat(i)}function ci(){var n,e,o,t=tu(this._milliseconds)/1e3,a=tu(this._days),i=tu(this._months);n=v(t/60);e=v(n/60);t%=60;n%=60;o=v(i/12);i%=12;var s=o,h=i,c=a,r=e,u=n,f=t,l=this.asSeconds();return l?(0>l?"-":"")+"P"+(s?s+"Y":"")+(h?h+"M":"")+(c?c+"D":"")+(r||u||f?"T":"")+(r?r+"H":"")+(u?u+"M":"")+(f?f+"S":""):"P0D"}var kf,li,cr=i.momentProperties=[],lr=!1,ct={},ii={},df=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ai=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ar={},wt={},gf=/\d/,y=/\d\d/,ne=/\d{3}/,vr=/\d{4}/,vi=/[+-]?\d{6}/,h=/\d\d?/,yi=/\d{1,3}/,yr=/\d{1,4}/,pi=/[+-]?\d{1,6}/,wi=/[+-]?\d+/,bi=/Z|[+-]\d\d:?\d\d/gi,ri=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,pr={},wr={},b=0,d=1,k=2,a=3,lt=4,at=5,vt=6,dr,ie,re,ue,fe,ee,oe,se,he,gr,nu,ce,le,ae,ve,rt,ye,n;r("M",["MM",2],"Mo",function(){return this.month()+1});r("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});r("MMMM",0,0,function(n){return this.localeData().months(this,n)});l("month","M");t("M",h);t("MM",h,y);t("MMM",ri);t("MMMM",ri);c(["M","MM"],function(n,t){t[d]=s(n)-1});c(["MMM","MMMM"],function(n,t,i,r){var u=i._locale.monthsParse(n,r,i._strict);null!=u?t[d]=u:e(i).invalidMonth=n});var ra="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ua="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),te={};i.suppressDeprecationWarnings=!1;var fa=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,br=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],kr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ea=/^\/?Date\((\-?\d+)/i;i.createFromInputFallback=w("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});r(0,["YY",2],0,function(){return this.year()%100});r(0,["YYYY",4],0,"year");r(0,["YYYYY",5],0,"year");r(0,["YYYYYY",6,!0],0,"year");l("year","y");t("Y",wi);t("YY",h,y);t("YYYY",yr,vr);t("YYYYY",pi,vi);t("YYYYYY",pi,vi);c(["YYYYY","YYYYYY"],b);c("YYYY",function(n,t){t[b]=2===n.length?i.parseTwoDigitYear(n):s(n)});c("YY",function(n,t){t[b]=i.parseTwoDigitYear(n)});i.parseTwoDigitYear=function(n){return s(n)+(s(n)>68?1900:2e3)};dr=yt("FullYear",!1);r("w",["ww",2],"wo","week");r("W",["WW",2],"Wo","isoWeek");l("week","w");l("isoWeek","W");t("w",h);t("ww",h,y);t("W",h);t("WW",h,y);ni(["w","ww","W","WW"],function(n,t,i,r){t[r.substr(0,1)]=s(n)});ie={dow:0,doy:6};r("DDD",["DDDD",3],"DDDo","dayOfYear");l("dayOfYear","DDD");t("DDD",yi);t("DDDD",ne);c(["DDD","DDDD"],function(n,t,i){i._dayOfYear=s(n)});i.ISO_8601=function(){};re=w("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var n=o.apply(null,arguments);return this>n?this:n});ue=w("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var n=o.apply(null,arguments);return n>this?this:n});tf("Z",":");tf("ZZ","");t("Z",bi);t("ZZ",bi);c(["Z","ZZ"],function(n,t,i){i._useUTC=!0;i._tzm=er(n)});fe=/([\+\-]|\d\d)/gi;i.updateOffset=function(){};ee=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/;oe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;tt.fn=si.prototype;se=ff(1,"add");he=ff(-1,"subtract");i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";gr=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return void 0===n?this.localeData():this.locale(n)});r(0,["gg",2],0,function(){return this.weekYear()%100});r(0,["GG",2],0,function(){return this.isoWeekYear()%100});hi("gggg","weekYear");hi("ggggg","weekYear");hi("GGGG","isoWeekYear");hi("GGGGG","isoWeekYear");l("weekYear","gg");l("isoWeekYear","GG");t("G",wi);t("g",wi);t("GG",h,y);t("gg",h,y);t("GGGG",yr,vr);t("gggg",yr,vr);t("GGGGG",pi,vi);t("ggggg",pi,vi);ni(["gggg","ggggg","GGGG","GGGGG"],function(n,t,i,r){t[r.substr(0,2)]=s(n)});ni(["gg","GG"],function(n,t,r,u){t[u]=i.parseTwoDigitYear(n)});r("Q",0,0,"quarter");l("quarter","Q");t("Q",gf);c("Q",function(n,t){t[d]=3*(s(n)-1)});r("D",["DD",2],"Do","date");l("date","D");t("D",h);t("DD",h,y);t("Do",function(n,t){return n?t._ordinalParse:t._ordinalParseLenient});c(["D","DD"],k);c("Do",function(n,t){t[k]=s(n.match(h)[0],10)});nu=yt("Date",!0);r("d",0,"do","day");r("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});r("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});r("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});r("e",0,0,"weekday");r("E",0,0,"isoWeekday");l("day","d");l("weekday","e");l("isoWeekday","E");t("d",h);t("e",h);t("E",h);t("dd",ri);t("ddd",ri);t("dddd",ri);ni(["dd","ddd","dddd"],function(n,t,i){var r=i._locale.weekdaysParse(n);null!=r?t.d=r:e(i).invalidWeekday=n});ni(["d","e","E"],function(n,t,i,r){t[r]=s(n)});var oa="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),sa="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ha="Su_Mo_Tu_We_Th_Fr_Sa".split("_");for(r("H",["HH",2],0,"hour"),r("h",["hh",2],0,function(){return this.hours()%12||12}),lf("a",!0),lf("A",!1),l("hour","h"),t("a",af),t("A",af),t("H",h),t("h",h),t("HH",h,y),t("hh",h,y),c(["H","HH"],a),c(["a","A"],function(n,t,i){i._isPm=i._locale.isPM(n);i._meridiem=n}),c(["h","hh"],function(n,t,i){t[a]=s(n);e(i).bigHour=!0}),ce=/[ap]\.?m?\.?/i,le=yt("Hours",!0),r("m",["mm",2],0,"minute"),l("minute","m"),t("m",h),t("mm",h,y),c(["m","mm"],lt),ae=yt("Minutes",!1),r("s",["ss",2],0,"second"),l("second","s"),t("s",h),t("ss",h,y),c(["s","ss"],at),ve=yt("Seconds",!1),r("S",0,0,function(){return~~(this.millisecond()/100)}),r(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),r(0,["SSS",3],0,"millisecond"),r(0,["SSSS",4],0,function(){return 10*this.millisecond()}),r(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),r(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),r(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),r(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),r(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),l("millisecond","ms"),t("S",yi,gf),t("SS",yi,y),t("SSS",yi,ne),rt="SSSS";rt.length<=9;rt+="S")t(rt,/\d+/);for(rt="S";rt.length<=9;rt+="S")c(rt,wc);ye=yt("Milliseconds",!1);r("z",0,0,"zoneAbbr");r("zz",0,0,"zoneName");n=dt.prototype;n.add=se;n.calendar=ds;n.clone=gs;n.diff=uh;n.endOf=vh;n.format=oh;n.from=sh;n.fromNow=hh;n.to=ch;n.toNow=lh;n.get=lu;n.invalidAt=nc;n.isAfter=nh;n.isBefore=th;n.isBetween=ih;n.isSame=rh;n.isValid=dh;n.lang=gr;n.locale=sf;n.localeData=hf;n.max=ue;n.min=re;n.parsingFlags=gh;n.set=lu;n.startOf=ah;n.subtract=he;n.toArray=bh;n.toObject=kh;n.toDate=wh;n.toISOString=of;n.toJSON=of;n.toString=eh;n.unix=ph;n.valueOf=yh;n.year=dr;n.isLeapYear=lo;n.weekYear=tc;n.isoWeekYear=ic;n.quarter=n.quarters=fc;n.month=yu;n.daysInMonth=oo;n.week=n.weeks=po;n.isoWeek=n.isoWeeks=wo;n.weeksInYear=uc;n.isoWeeksInYear=rc;n.date=nu;n.day=n.days=lc;n.weekday=ac;n.isoWeekday=vc;n.dayOfYear=ko;n.hour=n.hours=le;n.minute=n.minutes=ae;n.second=n.seconds=ve;n.millisecond=n.milliseconds=ye;n.utcOffset=ss;n.utc=cs;n.local=ls;n.parseZone=as;n.hasAlignedHourOffset=vs;n.isDST=ys;n.isDSTShifted=ps;n.isLocal=ws;n.isUtcOffset=bs;n.isUtc=rf;n.isUTC=rf;n.zoneAbbr=bc;n.zoneName=kc;n.dates=w("dates accessor is deprecated. Use date instead.",nu);n.months=w("months accessor is deprecated. Use month instead",yu);n.years=w("years accessor is deprecated. Use year instead",dr);n.zone=w("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",hs);var ca=n,u=fu.prototype;u._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};u.calendar=nl;u._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};u.longDateFormat=tl;u._invalidDate="Invalid date";u.invalidDate=il;u._ordinal="%d";u.ordinal=rl;u._ordinalParse=/\d{1,2}/;u.preparse=vf;u.postformat=vf;u._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};u.relativeTime=ul;u.pastFuture=fl;u.set=el;u.months=uo;u._months=ra;u.monthsShort=fo;u._monthsShort=ua;u.monthsParse=eo;u.week=ao;u._week=ie;u.firstDayOfYear=yo;u.firstDayOfWeek=vo;u.weekdays=oc;u._weekdays=oa;u.weekdaysMin=hc;u._weekdaysMin=ha;u.weekdaysShort=sc;u._weekdaysShort=sa;u.weekdaysParse=cc;u.isPM=yc;u._meridiemParse=ce;u.meridiem=pc;gt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,i=1===s(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+i}});i.lang=w("moment.lang is deprecated. Use moment.locale instead.",gt);i.langData=w("moment.langData is deprecated. Use moment.localeData instead.",et);var g=Math.abs,la=it("ms"),aa=it("s"),va=it("m"),ya=it("h"),pa=it("d"),wa=it("w"),ba=it("M"),ka=it("y"),da=ht("milliseconds"),ga=ht("seconds"),nv=ht("minutes"),tv=ht("hours"),iv=ht("days"),rv=ht("months"),uv=ht("years"),bt=Math.round,ut={s:45,m:45,h:22,d:26,M:11},tu=Math.abs,f=si.prototype;return f.abs=al,f.add=vl,f.subtract=yl,f.as=wl,f.asMilliseconds=la,f.asSeconds=aa,f.asMinutes=va,f.asHours=ya,f.asDays=pa,f.asWeeks=wa,f.asMonths=ba,f.asYears=ka,f.valueOf=bl,f._bubble=pl,f.get=kl,f.milliseconds=da,f.seconds=ga,f.minutes=nv,f.hours=tv,f.days=iv,f.weeks=dl,f.months=rv,f.years=uv,f.humanize=ia,f.toISOString=ci,f.toString=ci,f.toJSON=ci,f.locale=sf,f.localeData=hf,f.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ci),f.lang=gr,r("X",0,0,"unix"),r("x",0,0,"valueOf"),t("x",wi),t("X",/[+-]?\d+(\.\d{1,3})?/),c("X",function(n,t,i){i._d=new Date(1e3*parseFloat(n,10))}),c("x",function(n,t,i){i._d=new Date(s(n))}),i.version="2.10.6",pe(o),i.fn=ca,i.min=es,i.max=os,i.utc=kt,i.unix=dc,i.months=ol,i.isDate=fi,i.locale=gt,i.invalid=ru,i.duration=tt,i.isMoment=nt,i.weekdays=hl,i.parseZone=gc,i.localeData=et,i.isDuration=fr,i.monthsShort=sl,i.weekdaysMin=ll,i.defineLocale=su,i.weekdaysShort=cl,i.normalizeUnits=p,i.relativeTimeThreshold=ta,i}),function(n){var t=n.module("datePicker",[]);t.constant("datePickerConfig",{template:"templates/datepicker.html",view:"month",views:["year","month","date","hours","minutes"],momentNames:{year:"year",month:"month",date:"day",hours:"hours",minutes:"minutes"},viewConfig:{year:["years","isSameYear"],month:["months","isSameMonth"],hours:["hours","isSameHour"],minutes:["minutes","isSameMinutes"]},step:5});t.filter("mFormat",function(){return function(n,t,i){return moment.isMoment(n)?i?moment.tz(n,i).format(t):n.format(t):moment(n).format(t)}});t.directive("datePicker",["datePickerConfig","datePickerUtils",function(t,i){return{require:"?ngModel",template:'<div ng-include="template"><\/div>',scope:{model:"=datePicker",after:"=?",before:"=?"},link:function(r,u,f,e){function p(){r.views=t.views.concat();r.view=f.view||t.view;r.views=r.views.slice(r.views.indexOf(f.maxView||"year"),r.views.indexOf(f.minView||"minutes")+1);1!==r.views.length&&-1!==r.views.indexOf(r.view)||(r.view=r.views[0])}function w(n){return i.getDate(r,f,n)}function b(n){n&&(r.model=n,e&&e.$setViewValue(n));r.$emit("setDate",r.model,r.view);r.callbackOnSetDate&&r.callbackOnSetDate(f.datePicker,r.date)}function l(){var t=r.view,n;i.setParams(tt);r.model&&!a&&(r.date=y(r.model),a=!1);n=r.date;switch(t){case"year":r.years=i.getVisibleYears(n);break;case"month":r.months=i.getVisibleMonths(n);break;case"date":r.weekdays=r.weekdays||i.getDaysOfWeek();r.weeks=i.getVisibleWeeks(n);break;case"hours":r.hours=i.getVisibleHours(n);break;case"minutes":r.minutes=i.getVisibleMinutes(n,c)}k()}function ut(){return"date"!==r.view?r.view:r.date?r.date.month():null}function k(){var n,f,o=r.view,c=r.date,s=[],u="",e,l;if(i.setParams(tt),"date"===o)for(l=r.weeks,n=0;n<l.length;n++)for(e=l[n],s.push([]),f=0;f<e.length;f++)u="",i.isSameDay(c,e[f])&&(u+="active"),nt(e[f],o)&&(u+=" now"),e[f].month()===c.month()&&d(e[f])||(u+=" disabled"),s[n].push(u);else{var a=t.viewConfig[o],h=r[a[0]],v=a[1];for(n=0;n<h.length;n++)u="",i[v](c,h[n])&&(u+="active"),nt(h[n],o)&&(u+=" now"),d(h[n])||(u+=" disabled"),s.push(u)}r.classes=s}function d(n){var t=!0;return o&&o.isAfter(n)&&(t=v(o,n)),s&&s.isBefore(n)&&(t&=v(s,n)),t}function v(n,i){return!!n.isSame(i,t.momentNames[r.view])}function g(n){return o&&o.isAfter(n)?o:s&&s.isBefore(n)?s:n}function nt(n,t){var i=!0;switch(t){case"minutes":i&=~~(h.minutes()/c)==~~(n.minutes()/c);case"hours":i&=h.hours()===n.hours();case"date":i&=h.date()===n.date();case"month":i&=h.month()===n.month();case"year":i&=h.year()===n.year()}return i}i.setParams(f.timezone);var a=!1,tt=r.tz=f.timezone,y=i.createMoment,ft=i.eventIsForPicker,c=parseInt(f.step||t.step,10),et=!!f.partial,o=w("minDate"),s=w("maxDate"),it=u[0].id,h=r.now=y(),rt=r.date=y(r.model||h),ot="true"===f.autoClose;r.model||rt.minute(Math.ceil(rt.minute()/c)*c).second(0);r.template=f.template||t.template;r.watchDirectChanges=void 0!==f.watchDirectChanges;r.callbackOnSetDate=f.dateChange?i.findFunction(r,f.dateChange):void 0;p();r.setView=function(n){-1!==r.views.indexOf(n)&&(r.view=n)};r.selectDate=function(n){if(f.disabled||(v(r.date,n)&&(n=r.date),n=g(n),!n))return!1;r.date=n;var t=r.views[r.views.indexOf(r.view)+1];(!t||et||r.model)&&b(n);t?r.setView(t):ot?(u.addClass("hidden"),r.$emit("hidePicker")):k()};r.$watch(ut,l);r.watchDirectChanges&&r.$watch("model",function(){a=!1;l()});r.next=function(n){var t=moment(r.date);switch(n=n||1,r.view){case"year":case"month":t.year(t.year()+n);break;case"date":t.month(t.month()+n);break;case"hours":case"minutes":t.hours(t.hours()+n)}t=g(t);t&&(r.date=t,b(t),a=!0,l())};r.prev=function(n){return r.next(-n||-1)};it&&r.$on("pickerUpdate",function(t,i,r){if(ft(i,it)){var u=!1,e=!1;n.isDefined(r.minDate)&&(o=r.minDate?r.minDate:!1,e=!0);n.isDefined(r.maxDate)&&(s=r.maxDate?r.maxDate:!1,e=!0);n.isDefined(r.minView)&&(f.minView=r.minView,u=!0);n.isDefined(r.maxView)&&(f.maxView=r.maxView,u=!0);f.view=r.view||f.view;u&&p();e&&l()}})}}}]);n.module("datePicker").factory("datePickerUtils",function(){var i,t=function(n,t,r,u,f){var e=Date.UTC(0|n,0|t,0|r,0|u,0|f);return i?moment.tz(e,i):moment(e)};return{getVisibleMinutes:function(n,i){for(var u,e=n.year(),o=n.month(),s=n.date(),h=n.hours(),c=n.utcOffset()/60,f=[],r=0;60>r;r+=i)u=t(e,o,s,h-c,r),f.push(u);return f},getVisibleWeeks:function(n){var r,u,i,t;for(n=moment(n),r=n.year(),u=n.month(),n.date(1),i=n.day(),0===i?n.date(-6):n.date(1-i),t=[];t.length<6&&!(n.year()===r&&n.month()>u);)t.push(this.getDaysOfWeek(n)),n.add(7,"d");return t},getVisibleYears:function(n){var r=moment(n),i=r.year();r.year(i-i%10);i=r.year();for(var u,f,e=r.utcOffset()/60,o=[],s=0;12>s;s++)u=t(i,0,1,0-e),f=u.utcOffset()/60,f!==e&&(u=t(i,0,1,0-f),e=f),o.push(u),i++;return o},getDaysOfWeek:function(n){n=n?n:i?moment.tz(i).day(0):moment().day(0);for(var r,u,e=n.year(),o=n.month(),f=n.date(),s=[],h=n.utcOffset()/60,c=0;7>c;c++)r=t(e,o,f,0-h,0,!1),u=r.utcOffset()/60,u!==h&&(r=t(e,o,f,0-u,0,!1)),s.push(r),f++;return s},getVisibleMonths:function(n){for(var i,u,f=n.year(),e=n.utcOffset()/60,o=[],r=0;12>r;r++)i=t(f,r,1,0-e,0,!1),u=i.utcOffset()/60,u!==e&&(i=t(f,r,1,0-u,0,!1)),o.push(i);return o},getVisibleHours:function(n){for(var r,u,f=n.year(),e=n.month(),o=n.date(),s=[],h=n.utcOffset()/60,i=0;24>i;i++)r=t(f,e,o,i-h,0,!1),u=r.utcOffset()/60,u!==h&&(r=t(f,e,o,i-u,0,!1)),s.push(r);return s},isAfter:function(n,t){return n&&n.unix()>=t.unix()},isBefore:function(n,t){return n.unix()<=t.unix()},isSameYear:function(n,t){return n&&n.year()===t.year()},isSameMonth:function(n,t){return this.isSameYear(n,t)&&n.month()===t.month()},isSameDay:function(n,t){return this.isSameMonth(n,t)&&n.date()===t.date()},isSameHour:function(n,t){return this.isSameDay(n,t)&&n.hours()===t.hours()},isSameMinutes:function(n,t){return this.isSameHour(n,t)&&n.minutes()===t.minutes()},setParams:function(n){i=n},findFunction:function(t,i){var r=t;do if(r=r.$parent,n.isFunction(r[i]))return r[i];while(r.$parent);return!1},findParam:function(n,t){var i=n;do if(i=i.$parent,i[t])return i[t];while(i.$parent);return!1},createMoment:function(n){return i?moment.tz(n,i):moment.isMoment(n)?moment.unix(n.unix()):moment(n)},getDate:function(n,t,i){var r=!1;return t[i]&&(r=this.createMoment(t[i]),r.isValid()||(r=this.findParam(n,t[i]),r&&(r=this.createMoment(r)))),r},eventIsForPicker:function(t,i){return n.isArray(t)&&t.indexOf(i)>-1||t===i}}});t=n.module("datePicker");t.directive("dateRange",["$compile","datePickerUtils","dateTimeConfig",function(t,i,r){function u(t,i,u,f,e){return r.template(n.extend(t,{ngModel:u,minDate:f&&moment.isMoment(f)?f.format():!1,maxDate:e&&moment.isMoment(e)?e.format():!1}),i)}function f(){return"picker"+Math.random().toString().substr(2)}return{scope:{start:"=",end:"="},link:function(r,e,o){function y(n){r.$broadcast("pickerUpdate",s[0],{maxDate:n})}function p(n){r.$broadcast("pickerUpdate",s[1],{minDate:n})}var h=null,c=e[0].id,s=[f(),f()],l=i.createMoment,w=i.eventIsForPicker,a,v;r.dateChange=function(n,t){h&&h(n,t)};c&&r.$on("pickerUpdate",function(n,t,i){w(t,c)&&r.$broadcast("pickerUpdate",s,i)});i.setParams(o.timezone);r.start=l(r.start);r.end=l(r.end);r.$watchGroup(["start","end"],function(n){p(n[0]);y(n[1])});n.isDefined(o.dateChange)&&(h=i.findFunction(r,o.dateChange));o.onSetDate="dateChange";a='<div><table class="date-range"><tr><td valign="top">'+u(o,s[0],"start",!1,r.end)+'<\/td><td valign="top">'+u(o,s[1],"end",r.start,!1)+"<\/td><\/tr><\/table><\/div>";v=t(a)(r);e.append(v)}}}]);var i="ng-pristine",r="ng-dirty",t=n.module("datePicker");t.constant("dateTimeConfig",{template:function(n,t){return"<div "+(t?'id="'+t+'" ':"")+'date-picker="'+n.ngModel+'" '+(n.view?'view="'+n.view+'" ':"")+(n.maxView?'max-view="'+n.maxView+'" ':"")+(n.maxDate?'max-date="'+n.maxDate+'" ':"")+(n.autoClose?'auto-close="'+n.autoClose+'" ':"")+(n.template?'template="'+n.template+'" ':"")+(n.minView?'min-view="'+n.minView+'" ':"")+(n.minDate?'min-date="'+n.minDate+'" ':"")+(n.partial?'partial="'+n.partial+'" ':"")+(n.step?'step="'+n.step+'" ':"")+(n.onSetDate?'date-change="'+n.onSetDate+'" ':"")+(n.ngModel?'ng-model="'+n.ngModel+'" ':"")+(n.timezone?'timezone="'+n.timezone+'" ':"")+'class="date-picker-date-time"><\/div>'},format:"YYYY-MM-DD HH:mm",views:["date","year","month","hours","minutes"],autoClose:!1,position:"relative"});t.directive("dateTimeAppend",function(){return{link:function(n,t){t.bind("click",function(){t.find("input")[0].focus()})}}});t.directive("dateTime",["$compile","$document","$filter","dateTimeConfig","$parse","datePickerUtils",function(t,u,f,e,o,s){var h=u.find("body"),c=f("mFormat");return{require:"ngModel",scope:!0,link:function(u,f,l,a){function at(n){return c(n,b,bt)}function vt(n){if(n.length===b.length)return n}function nt(n){k=n;l.minDate=n?n.format():n;ht=moment.isMoment(n)}function tt(n){d=n;l.maxDate=n?n.format():n;ct=moment.isMoment(n)}function it(){rt=e.template(l)}function yt(n){n.stopPropagation();a.$pristine&&(a.$dirty=!0,a.$pristine=!1,f.removeClass(i).addClass(r),ut&&ut.$setDirty(),a.$render())}function w(){v&&(v.remove(),v=null);p&&(p.remove(),p=null)}function pt(){if(!v){if(v=t(rt)(u),u.$digest(),lt||(u.$on("setDate",function(n,t,i){yt(n);g&&g(l.ngModel,t);wt&&y[y.length-1]===i&&w()}),u.$on("hidePicker",function(){f.triggerHandler("blur")}),u.$on("$destroy",w),lt=!0),"absolute"===st){var i=n.extend(f.offset(),{height:f[0].offsetHeight});v.css({top:i.top+i.height,left:i.left,display:"block",position:st});h.append(v)}else p=n.element("<div date-picker-wrapper><\/div>"),f[0].parentElement.insertBefore(p[0],f[0]),p.append(v),v.css({top:f[0].offsetHeight+"px",display:"block"});v.bind("mousedown",function(n){n.preventDefault()})}}var rt,b=l.format||e.format,ut=f.inheritedData("$formController"),y=o(l.views)(u)||e.views.concat(),ft=l.view||y[0],et=y.indexOf(ft),wt=l.autoClose?o(l.autoClose)(u):e.autoClose,v=null,ot=f[0].id,st=l.position||e.position,p=null,k=null,ht=null,d=null,ct=null,bt=l.timezone||!1,kt=s.eventIsForPicker,g=null,lt=!1;-1===et&&y.splice(et,1);y.unshift(ft);a.$formatters.push(at);a.$parsers.unshift(vt);n.isDefined(l.minDate)&&(nt(s.findParam(u,l.minDate)),a.$validators.min=function(n){return ht?moment.isMoment(n)&&(k.isSame(n)||k.isBefore(n)):!0});n.isDefined(l.maxDate)&&(tt(s.findParam(u,l.maxDate)),a.$validators.max=function(n){return ct?moment.isMoment(n)&&(d.isSame(n)||d.isAfter(n)):!0});n.isDefined(l.dateChange)&&(g=s.findFunction(u,l.dateChange));ot&&u.$on("pickerUpdate",function(t,i,r){if(kt(i,ot)&&!v){var u=!1;n.isDefined(r.minDate)&&(nt(r.minDate),u=!0);n.isDefined(r.maxDate)&&(tt(r.maxDate),u=!0);n.isDefined(r.minView)&&(l.minView=r.minView);n.isDefined(r.maxView)&&(l.maxView=r.maxView);l.view=r.view||l.view;u&&a.$validate();n.isDefined(r.format)&&(b=l.format=r.format||e.format,a.$modelValue=-1);it()}});f.bind("focus",pt);f.bind("blur",w);it()}}}]);n.module("datePicker").run(["$templateCache",function(n){n.put("templates/datepicker.html",'<div ng-switch="view">\r\n  <div ng-switch-when="date">\r\n    <table>\r\n      <thead>\r\n      <tr>\r\n        <th ng-click="prev()">&lsaquo;<\/th>\r\n        <th colspan="5" class="switch" ng-click="setView(\'month\')" ng-bind="date|mFormat:\'YYYY MMMM\':tz"><\/th>\r\n        <th ng-click="next()">&rsaquo;<\/i><\/th>\r\n      <\/tr>\r\n      <tr>\r\n        <th ng-repeat="day in weekdays" style="overflow: hidden" ng-bind="day|mFormat:\'ddd\':tz"><\/th>\r\n      <\/tr>\r\n      <\/thead>\r\n      <tbody>\r\n      <tr ng-repeat="week in weeks" ng-init="$index2 = $index">\r\n        <td ng-repeat="day in week">\r\n          <span\r\n            ng-class="classes[$index2][$index]"\r\n            ng-click="selectDate(day)" ng-bind="day|mFormat:\'DD\':tz"><\/span>\r\n        <\/td>\r\n      <\/tr>\r\n      <\/tbody>\r\n    <\/table>\r\n  <\/div>\r\n  <div ng-switch-when="year">\r\n    <table>\r\n      <thead>\r\n      <tr>\r\n        <th ng-click="prev(10)">&lsaquo;<\/th>\r\n        <th colspan="5" class="switch"ng-bind="years[0].year()+\' - \'+years[years.length-1].year()"><\/th>\r\n        <th ng-click="next(10)">&rsaquo;<\/i><\/th>\r\n      <\/tr>\r\n      <\/thead>\r\n      <tbody>\r\n      <tr>\r\n        <td colspan="7">\r\n          <span ng-class="classes[$index]"\r\n                ng-repeat="year in years"\r\n                ng-click="selectDate(year)" ng-bind="year.year()"><\/span>\r\n        <\/td>\r\n      <\/tr>\r\n      <\/tbody>\r\n    <\/table>\r\n  <\/div>\r\n  <div ng-switch-when="month">\r\n    <table>\r\n      <thead>\r\n      <tr>\r\n        <th ng-click="prev()">&lsaquo;<\/th>\r\n        <th colspan="5" class="switch" ng-click="setView(\'year\')" ng-bind="date|mFormat:\'YYYY\':tz"><\/th>\r\n        <th ng-click="next()">&rsaquo;<\/i><\/th>\r\n      <\/tr>\r\n      <\/thead>\r\n      <tbody>\r\n      <tr>\r\n        <td colspan="7">\r\n          <span ng-repeat="month in months"\r\n                ng-class="classes[$index]"\r\n                ng-click="selectDate(month)"\r\n                ng-bind="month|mFormat:\'MMM\':tz"><\/span>\r\n        <\/td>\r\n      <\/tr>\r\n      <\/tbody>\r\n    <\/table>\r\n  <\/div>\r\n  <div ng-switch-when="hours">\r\n    <table>\r\n      <thead>\r\n      <tr>\r\n        <th ng-click="prev(24)">&lsaquo;<\/th>\r\n        <th colspan="5" class="switch" ng-click="setView(\'date\')" ng-bind="date|mFormat:\'DD MMMM YYYY\':tz"><\/th>\r\n        <th ng-click="next(24)">&rsaquo;<\/i><\/th>\r\n      <\/tr>\r\n      <\/thead>\r\n      <tbody>\r\n      <tr>\r\n        <td colspan="7">\r\n          <span ng-repeat="hour in hours"\r\n                ng-class="classes[$index]"\r\n                ng-click="selectDate(hour)" ng-bind="hour|mFormat:\'HH:mm\':tz"><\/span>\r\n        <\/td>\r\n      <\/tr>\r\n      <\/tbody>\r\n    <\/table>\r\n  <\/div>\r\n  <div ng-switch-when="minutes">\r\n    <table>\r\n      <thead>\r\n      <tr>\r\n        <th ng-click="prev()">&lsaquo;<\/th>\r\n        <th colspan="5" class="switch" ng-click="setView(\'hours\')" ng-bind="date|mFormat:\'DD MMMM YYYY\':tz"><\/th>\r\n        <th ng-click="next()">&rsaquo;<\/i><\/th>\r\n      <\/tr>\r\n      <\/thead>\r\n      <tbody>\r\n      <tr>\r\n        <td colspan="7">\r\n          <span ng-repeat="minute in minutes"\r\n                ng-class="classes[$index]"\r\n                ng-click="selectDate(minute)"\r\n                ng-bind="minute|mFormat:\'HH:mm\':tz"><\/span>\r\n        <\/td>\r\n      <\/tr>\r\n      <\/tbody>\r\n    <\/table>\r\n  <\/div>\r\n<\/div>')}])}(angular);!function(){"use strict";function t(){var n={previous:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 190.625 190.625" class="su-prev-arrow"><path d="M91.85 8.398l8.615 8.616L28.38 89.1h156.874v12.184H28.38l72.085 72.086-8.616 8.614L5.055 95.19"><\/svg>',next:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 190.625 190.625" class="su-next-arrow"><path d="M185.255 95.19l-86.793 86.795-8.617-8.615 72.086-72.086H5.057V89.1H161.93L89.846 17.014l8.617-8.616"/><\/svg>'},t={previous:"su-datepicker-change-button-previous",next:"su-datepicker-change-button-next"};return{restrict:"E",scope:{clickCallback:"&",isDisabled:"&"},templateUrl:"su.datepicker.templates.suDatepickerChangeButtonTemplate",compile:function(i,r){var u=r.type;if("next"!==u&&"previous"!==u)throw"su.datepicker.directives.suDatepickerChangeButtonDirective: must specify type of next or previous";i.children().addClass(t[u]);i.find("button").html(n[u])}}}function i(n){return{compile:function(t,i){var u="su-datepicker-cheap-event",f=i[i.$normalize(u)].split(","),r={};return f.forEach(function(t){t=t.trim();var f=u+"-"+t;r[t]=n(i[i.$normalize(f)])}),function(n,t){function u(t){return function(i){var u=r[t];u(n,{$event:i})}}for(var i in r)t.on(i,u(i))}}}}function r(n){return{restrict:"A",require:"ngModel",link:function(t,i,r,u){var f=r.suDatepickerDateParser;u.$formatters.push(function(t){return n(t,f)})}}}function u(){return{restrict:"E",require:"^^suDatepickerMonthDefault",templateUrl:"su.datepicker.templates.suDatepickerDayTemplate"}}function f(t){var i=t("suTimeNeutralDateCompare"),r=t("suDatepickerMonthText");return{restrict:"E",templateUrl:function(n,t){return t.templateUrl||"su.datepicker.templates.suDatepickerDefaultTemplate"},scope:{date:"=",isDateDisabled:"&",selectDate:"&",cheapMouseenterCallback:"&",cheapMouseoutCallback:"&",customClass:"&",previousMonthDisabled:"&",nextMonthDisabled:"&",header:"&"},link:function(t,u,f){var e,o,s,h;if(!f.hasOwnProperty("date"))throw"su.datepicker.directives.suDatepickerDefault: date attribute is required";e=new Date;o=f.hasOwnProperty(f.$normalize("disable-past"));f.hasOwnProperty("isDateDisabled")?(s=t.isDateDisabled,t.isDateDisabled=function(n){return s({date:n})}):t.isDateDisabled=function(n){return o?-1===i(n,e):!1};(o&&!f.hasOwnProperty("previousMonthDisabled")&&(t.previousMonthDisabled=function(n){var t=n&&n.currentDate;return angular.isDate(t)&&(e.getFullYear()>t.getFullYear()||e.getFullYear()===t.getFullYear()&&e.getMonth()>=t.getMonth())?!0:!1}),t.moveMonth=function(i){t.date=n.changeMonth(t.date,i)},f.hasOwnProperty("header"))?(h=t.header,t.header=function(n){return h({date:n})}):t.header=function(n){if(angular.isDate(n)){var t=r(n.getMonth());return t+" "+n.getFullYear()}};t.$watch("date",function(i){angular.isDate(i)||(t.date=n.copyDateOnly(e))})}}}function e(){return{restrict:"E",scope:{header:"@"},templateUrl:"su.datepicker.templates.suDatepickerHeaderTemplate"}}function o(){return{restrict:"E",scope:{date:"=",clickCallback:"&",dateDisabled:"&",customClass:"&",cheapMouseenterCallback:"&",cheapMouseoutCallback:"&"},templateUrl:function(n,t){return t.templateUrl||"su.datepicker.templates.suDatepickerMonthDefaultTemplate"},link:function(n,t,i){if(!i.hasOwnProperty("date"))throw"su.datepicker.directives.suDatepickerMonthDefault: date attribute is required";}}}function s(){return{restrict:"E",transclude:!0,scope:{date:"="},link:function(t,i,r,u,f){function e(n){t.weeks.length=0;var i=t.weeks,u=!0,r=0;return n.forEach(function(n){var t=n.getDay();(u||0===t)&&(i[r]=new Array(7),r++,u=!1);i[r-1][t]=n}),i}t.weeks=[];f(function(n,r){r.weeks=t.weeks;i.append(n)});t.$watch("date",function(t){if(angular.isDate(t)){var i=n.getMonthDates(t.getFullYear(),t.getMonth());e(i)}})}}}function h(t){var i=t("suTimeNeutralDateCompare"),r=t("suDatepickerMonthText");return{restrict:"E",templateUrl:function(n,t){return t.templateUrl||"su.datepicker.templates.suDatepickerRangeDefaultTemplate"},scope:{startDate:"=",isDateDisabled:"&",onDateSelect:"&",cheapMouseenterCallback:"&",cheapMouseoutCallback:"&",customClass:"&",previousMonthDisabled:"&",nextMonthDisabled:"&",header:"&"},link:function(t,u,f){var e,o,s,h;if(!f.hasOwnProperty("startDate"))throw"su.datepicker.directives.suDatepickerRangeDefault: start-date attribute is required";e=new Date;o=f.hasOwnProperty(f.$normalize("disable-past"));(t.nextDate=void 0,f.hasOwnProperty("isDateDisabled"))?(s=t.isDateDisabled,t.isDateDisabled=function(n){return s({date:n})}):t.isDateDisabled=function(n){return o?-1===i(n,e):!1};(t.moveMonth=function(i){t.startDate=n.changeMonth(t.startDate,i)},f.hasOwnProperty("header"))?(h=t.header,t.header=function(n){return h({date:n})}):t.header=function(n){if(angular.isDate(n)){var t=r(n.getMonth());return t+" "+n.getFullYear()}};o&&!f.hasOwnProperty("previousMonthDisabled")&&(t.previousMonthDisabled=function(n){var t=n&&n.currentDate;return angular.isDate(t)&&(e.getFullYear()>t.getFullYear()||e.getFullYear()===t.getFullYear()&&e.getMonth()>=t.getMonth())?!0:!1});t.$watch("startDate",function(i){angular.isDate(i)?t.nextDate=n.changeMonth(t.startDate,1):t.startDate=e})}}}function v(){var n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return function(t){if("number"==typeof t&&t>=0&&12>t)return n[t]}}function c(){return function(n,t){if(angular.isDate(n)&&angular.isDate(t))return n.getFullYear()===t.getFullYear()?n.getMonth()===t.getMonth()?n.getDate()===t.getDate()?0:n.getDate()<t.getDate()?-1:1:n.getMonth()<t.getMonth()?-1:1:n.getFullYear()<t.getFullYear()?-1:1}}function l(){function i(n){angular.isString(n)&&(t=n)}function n(n){return function(i,r){return n(i,r||t)}}var t="yyyy-MM-dd";return n.$inject=["dateFilter"],{$get:n,setDefaultDateFormat:i}}function y(n,t){var r=[],u,i;if("number"==typeof n&&"number"==typeof t)for(u=w(n,t+1),i=1;u>=i;i++)r.push(new Date(n,t,i));return r}function a(n){var t=new Date(n);return t.setHours(0,0,0,0),t}function p(n,t){var i=a(n);return i.setDate(1),i.setMonth(i.getMonth()+t),i}function w(n,t){return new Date(n,t,0).getDate()}angular.module("su.datepicker.directives.suDatepickerChangeButtonDirective",[]).directive("suDatepickerChangeButton",t);t.$inject=[];angular.module("su.datepicker.directives.suDatepickerCheapEventDirective",[]).directive("suDatepickerCheapEvent",i);i.$inject=["$parse"];angular.module("su.datepicker.directives.suDatepickerDateParserDirective",["su.datepicker.providers.suDatepickerDateParserProvider"]).directive("suDatepickerDateParser",r);r.$inject=["suDatepickerDateParser"];angular.module("su.datepicker.directives.suDatepickerDayDirective",["su.datepicker.directives.suDatepickerCheapEventDirective"]).directive("suDatepickerDay",u);u.$inject=[];angular.module("su.datepicker.directives.suDatepickerDefaultDirective",["su.datepicker.filters.suDatepickerMonthTextFilter","su.datepicker.filters.suTimeNeutralDateCompareFilter"]).directive("suDatepickerDefault",f);f.$inject=["$filter"];angular.module("su.datepicker.directives.suDatepickerDirectivesModule",["su.datepicker.directives.suDatepickerChangeButtonDirective","su.datepicker.directives.suDatepickerCheapEventDirective","su.datepicker.directives.suDatepickerDateParserDirective","su.datepicker.directives.suDatepickerDayDirective","su.datepicker.directives.suDatepickerDefaultDirective","su.datepicker.directives.suDatepickerHeaderDirective","su.datepicker.directives.suDatepickerMonthDefaultDirective","su.datepicker.directives.suDatepickerMonthDirective","su.datepicker.directives.suDatepickerRangeDefaultDirective"]);angular.module("su.datepicker.directives.suDatepickerHeaderDirective",[]).directive("suDatepickerHeader",e);e.$inject=[];angular.module("su.datepicker.directives.suDatepickerMonthDefaultDirective",[]).directive("suDatepickerMonthDefault",o);o.$inject=[];angular.module("su.datepicker.directives.suDatepickerMonthDirective",[]).directive("suDatepickerMonth",s);s.$inject=[];angular.module("su.datepicker.directives.suDatepickerRangeDefaultDirective",["su.datepicker.filters.suTimeNeutralDateCompareFilter","su.datepicker.filters.suDatepickerMonthTextFilter"]).directive("suDatepickerRangeDefault",h);h.$inject=["$filter"];angular.module("su.datepicker.filters.suDatepickerFiltersModule",["su.datepicker.filters.suDatepickerMonthTextFilter","su.datepicker.filters.suTimeNeutralDateCompareFilter"]);angular.module("su.datepicker.filters.suDatepickerMonthTextFilter",[]).filter("suDatepickerMonthText",v);angular.module("su.datepicker.filters.suTimeNeutralDateCompareFilter",[]).filter("suTimeNeutralDateCompare",c);c.$inject=[];angular.module("su.datepicker.providers.suDatepickerDateParserProvider",[]).provider("suDatepickerDateParser",l);l.$inject=[];angular.module("su.datepicker.providers.suDatepickerProvidersModule",["su.datepicker.providers.suDatepickerDateParserProvider"]);angular.module("su.datepicker",["su.datepicker.directives.suDatepickerDirectivesModule","su.datepicker.filters.suDatepickerFiltersModule","su.datepicker.providers.suDatepickerProvidersModule","su.datepicker.templates.suDatepickerTemplatesModule"]);var n={getMonthDates:y,copyDateOnly:a,changeMonth:p};angular.module("su.datepicker.templates.suDatepickerTemplatesModule",["su.datepicker.templates.suDatepickerChangeButtonTemplate","su.datepicker.templates.suDatepickerDayTemplate","su.datepicker.templates.suDatepickerDefaultTemplate","su.datepicker.templates.suDatepickerHeaderTemplate","su.datepicker.templates.suDatepickerMonthDefaultTemplate","su.datepicker.templates.suDatepickerRangeDefaultTemplate"]);angular.module("su.datepicker.templates.suDatepickerChangeButtonTemplate",[]).run(["$templateCache",function(n){n.put("su.datepicker.templates.suDatepickerChangeButtonTemplate","<div class=su-datepicker-change-button><button type=button tabindex=-1 ng-click=clickCallback() ng-disabled=isDisabled()><\/button><\/div>")}]);angular.module("su.datepicker.templates.suDatepickerDayTemplate",[]).run(["$templateCache",function(n){n.put("su.datepicker.templates.suDatepickerDayTemplate",'<button class=su-datepicker-day type=button tabindex=-1 ng-if=day style="width: 100%" ng-click="clickCallback({date: day})" ng-class="customClass({date: day})" su-datepicker-cheap-event=mouseenter su-datepicker-cheap-event-mouseenter="cheapMouseenterCallback({date: day})" ng-disabled="dateDisabled({date: day})" ng-bind=day.getDate()><\/button>')}]);angular.module("su.datepicker.templates.suDatepickerDefaultTemplate",[]).run(["$templateCache",function(n){n.put("su.datepicker.templates.suDatepickerDefaultTemplate",'<div class="su-datepicker su-datepicker-default"><su-datepicker-change-button type=previous click-callback=moveMonth(-1) is-disabled="previousMonthDisabled({currentDate: date})"><\/su-datepicker-change-button><su-datepicker-header header={{header(date)}}><\/su-datepicker-header><su-datepicker-change-button type=next click-callback=moveMonth(1) is-disabled="nextMonthDisabled({currentDate: date})"><\/su-datepicker-change-button><div><su-datepicker-month-default date=date click-callback="selectDate({date: date})" date-disabled=isDateDisabled(date) custom-class="customClass({date: date})" cheap-mouseenter-callback=setPotentialDate(date) cheap-mouseout-callback=cheapMouseoutCallback()><\/su-datepicker-month-default><\/div><\/div>')}]);angular.module("su.datepicker.templates.suDatepickerHeaderTemplate",[]).run(["$templateCache",function(n){n.put("su.datepicker.templates.suDatepickerHeaderTemplate","<div class=su-datepicker-header><strong ng-bind=header><\/strong><\/div>")}]);angular.module("su.datepicker.templates.suDatepickerMonthDefaultTemplate",[]).run(["$templateCache",function(n){n.put("su.datepicker.templates.suDatepickerMonthDefaultTemplate",'<su-datepicker-month date=date><table><thead><tr><th class=text-center>Sun<\/th><th class=text-center>Mon<\/th><th class=text-center>Tue<\/th><th class=text-center>Wed<\/th><th class=text-center>Thu<\/th><th class=text-center>Fri<\/th><th class=text-center>Sat<\/th><\/tr><\/thead><tbody su-datepicker-cheap-event=mouseleave su-datepicker-cheap-event-mouseleave="cheapMouseoutCallback({date: day})"><tr ng-repeat="week in weeks track by $index" class=su-datepicker-week-row><td ng-repeat="day in week track by $index" class=su-datepicker-day-of-week><su-datepicker-day><\/su-datepicker-day><\/td><\/tr><\/tbody><\/table><\/su-datepicker-month>')}]);angular.module("su.datepicker.templates.suDatepickerRangeDefaultTemplate",[]).run(["$templateCache",function(n){n.put("su.datepicker.templates.suDatepickerRangeDefaultTemplate",'<div class="su-datepicker su-datepicker-range"><div><su-datepicker-change-button type=previous click-callback=moveMonth(-1) is-disabled="previousMonthDisabled({currentDate: startDate})"><\/su-datepicker-change-button><su-datepicker-header header={{header(startDate)}}><\/su-datepicker-header><div><su-datepicker-month-default date=startDate click-callback="onDateSelect({date: date})" date-disabled=isDateDisabled(date) custom-class="customClass({date: date})" cheap-mouseenter-callback="cheapMouseenterCallback({date: date})" cheap-mouseout-callback=cheapMouseoutCallback()><\/su-datepicker-month-default><\/div><\/div><div><su-datepicker-header header={{header(nextDate)}}><\/su-datepicker-header><su-datepicker-change-button type=next click-callback=moveMonth(1) is-disabled="nextMonthDisabled({currentDate: nextDate})"><\/su-datepicker-change-button><div><su-datepicker-month-default date=nextDate click-callback="onDateSelect({date: date})" date-disabled=isDateDisabled(date) custom-class="customClass({date: date})" cheap-mouseenter-callback="cheapMouseenterCallback({date: date})" cheap-mouseout-callback=cheapMouseoutCallback()><\/su-datepicker-month-default><\/div><\/div><\/div>')}])}(),function(n){"use strict";n.module("vcRecaptcha",[])}(angular),function(n){"use strict";var t=n.module("vcRecaptcha");t.service("vcRecaptchaService",["$window","$q",function(t,i){function e(){return r?i.when(r):o}function u(){if(!r)throw new Error("reCaptcha has not been loaded yet.");}var r,f=i.defer(),o=f.promise;return t.vcRecaptchaApiLoaded=function(){r=t.grecaptcha;f.resolve(r)},n.isDefined(t.grecaptcha)&&t.vcRecaptchaApiLoaded(),{create:function(n,t,i,r){return r.callback=i,r.sitekey=t,e().then(function(t){return t.render(n,r)})},reload:function(n){u();r.reset(n)},getResponse:function(n){return u(),r.getResponse(n)}}}])}(angular),function(n){"use strict";function t(){throw new Error('You need to set the "key" attribute to your public reCaptcha key. If you don\'t have a key, please get one from https://www.google.com/recaptcha/admin/create');}var i=n.module("vcRecaptcha");i.directive("vcRecaptcha",["$document","$timeout","vcRecaptchaService",function(n,i,r){return{restrict:"A",require:"?^^form",scope:{response:"=?ngModel",key:"=",theme:"=?",tabindex:"=?",onCreate:"&",onSuccess:"&",onExpire:"&"},link:function(u,f,e,o){function s(){angular.element(n[0].querySelectorAll(".pls-container")).parent().remove()}e.hasOwnProperty("key")||t();u.widgetId=null;var h=u.$watch("key",function(n){if(n){40!==n.length&&t();var c=function(n){i(function(){o&&o.$setValidity("recaptcha",!0);u.response=n;u.onSuccess({response:n,widgetId:u.widgetId});s()});i(function(){o&&o.$setValidity("recaptcha",!1);u.response="";u.onExpire({widgetId:u.widgetId})},12e4)};r.create(f[0],n,c,{theme:u.theme||e.theme||null,tabindex:u.tabindex||e.tabindex||null}).then(function(n){o&&o.$setValidity("recaptcha",!1);u.widgetId=n;u.onCreate({widgetId:n});u.$on("$destroy",s)});h()}})}}}])}(angular);"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(n,t,i){"use strict";function w(n,t){return r(new(r(function(){},{prototype:n})),t)}function k(n){return f(arguments,function(t){t!==n&&f(t,function(t,i){n.hasOwnProperty(i)||(n[i]=t)})}),n}function wt(n,t){var r=[];for(var i in n.path){if(n.path[i]!==t.path[i])break;r.push(n.path[i])}return r}function p(n){if(Object.keys)return Object.keys(n);var i=[];return t.forEach(n,function(n,t){i.push(t)}),i}function s(n,t){if(Array.prototype.indexOf)return n.indexOf(t,Number(arguments[2])||0);var r=n.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=r);r>i;i++)if(i in n&&n[i]===t)return i;return-1}function it(n,t,i,u){var f,o=wt(i,u),c={},l=[],h,e;for(h in o)if(o[h].params&&(f=p(o[h].params),f.length))for(e in f)s(l,f[e])>=0||(l.push(f[e]),c[f[e]]=n[f[e]]);return r({},c,t)}function d(n,t,i){var f,r,u;if(!i){i=[];for(f in n)i.push(f)}for(r=0;r<i.length;r++)if(u=i[r],n[u]!=t[u])return!1;return!0}function g(n,t){var i={};return f(n,function(n){i[n]=t[n]}),i}function b(n){var i={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var t in n)-1==s(r,t)&&(i[t]=n[t]);return i}function nt(n,t){var r=a(n),i=r?[]:{};return f(n,function(n,u){t(n,u)&&(i[r?i.length:u]=n)}),i}function v(n,t){var i=a(n)?[]:{};return f(n,function(n,r){i[r]=t(n,r)}),i}function rt(n,t){var h=1,c=2,o={},l=[],a=o,v=r(n.when(o),{$$promises:o,$$values:o});this.study=function(o){function tt(n,i){if(g[i]!==c){if(d.push(i),g[i]===h)throw d.splice(0,s(d,i)),new Error("Cyclic dependency: "+d.join(" -> "));if(g[i]=h,e(n))w.push(i,[function(){return t.get(n)}],l);else{var r=t.annotate(n);f(r,function(n){n!==i&&o.hasOwnProperty(n)&&tt(o[n],n)});w.push(i,n,r)}d.pop();g[i]=c}}function it(n){return y(n)&&n.then&&n.$$promises}if(!y(o))throw new Error("'invocables' must be an object");var nt=p(o||{}),w=[],d=[],g={};return f(o,tt),o=d=g=null,function(e,o,s){function p(){--et||(rt||k(c,o.$$values),h.$$values=c,h.$$promises=h.$$promises||!0,delete h.$$inheritedValues,tt.resolve(c))}function g(n){h.$$failure=n;tt.reject(n)}function ft(i,r,o){function a(n){l.reject(n);g(n)}function y(){if(!u(h.$$failure))try{l.resolve(t.invoke(r,s,c));l.promise.then(function(n){c[i]=n;p()},a)}catch(n){a(n)}}var l=n.defer(),v=0;f(o,function(n){d.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(v++,d[n].then(function(t){c[n]=t;--v||y()},a))});v||y();d[i]=l.promise}var l,ut;if(it(e)&&s===i&&(s=o,o=e,e=null),e){if(!y(e))throw new Error("'locals' must be an object");}else e=a;if(o){if(!it(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()");}else o=v;var tt=n.defer(),h=tt.promise,d=h.$$promises={},c=r({},e),et=1+w.length/3,rt=!1;if(u(o.$$failure))return g(o.$$failure),h;for(o.$$inheritedValues&&k(c,b(o.$$inheritedValues,nt)),r(d,o.$$promises),o.$$values?(rt=k(c,b(o.$$values,nt)),h.$$inheritedValues=b(o.$$values,nt),p()):(o.$$inheritedValues&&(h.$$inheritedValues=b(o.$$inheritedValues,nt)),o.then(p,g)),l=0,ut=w.length;ut>l;l+=3)e.hasOwnProperty(w[l])?p():ft(w[l],w[l+1],w[l+2]);return h}};this.resolve=function(n,t,i,r){return this.study(n)(t,i,r)}}function ut(n,t,i){this.fromConfig=function(n,t,i){return u(n.template)?this.fromString(n.template,t):u(n.templateUrl)?this.fromUrl(n.templateUrl,t):u(n.templateProvider)?this.fromProvider(n.templateProvider,t,i):null};this.fromString=function(n,t){return h(n)?n(t):n};this.fromUrl=function(i,r){return h(i)&&(i=i(r)),null==i?null:n.get(i,{cache:t,headers:{Accept:"text/html"}}).then(function(n){return n.data})};this.fromProvider=function(n,t,r){return i.invoke(n,null,r||{params:t})}}function l(n,t,u){function d(t,i,r,u){if(it.push(t),tt[t])return tt[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+n+"'");if(b[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+n+"'");return b[t]=new c.Param(t,i,r,u),b[t]}function g(n,t,i){var r=["",""],u=n.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return u;switch(i){case!1:r=["(",")"];break;case!0:r=["?(",")?"];break;default:r=["("+i+"|",")?"]}return u+r[0]+t+r[1]}function nt(i,r){var f,u,e,s,h;return f=i[2]||i[3],h=t.params[f],e=n.substring(o,i.index),u=r?i[4]:i[4]||("*"==i[1]?".*":null),s=c.type(u||"string")||w(c.type("string"),{pattern:new RegExp(u)}),{id:f,regexp:u,segment:e,type:s,cfg:h}}var f,l,e,s,k;t=r({params:{}},y(t)?t:{});var h,a=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,rt=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,v="^",o=0,p=this.segments=[],tt=u?u.params:{},b=this.params=u?u.params.$$new():new c.ParamSet,it=[];for(this.source=n;(h=a.exec(n))&&(f=nt(h,!1),!(f.segment.indexOf("?")>=0));)l=d(f.id,f.type,f.cfg,"path"),v+=g(f.segment,l.type.pattern.source,l.squash),p.push(f.segment),o=a.lastIndex;if(e=n.substring(o),s=e.indexOf("?"),s>=0){if(k=this.sourceSearch=e.substring(s),e=e.substring(0,s),this.sourcePath=n.substring(0,o+s),k.length>0)for(o=0;h=rt.exec(k);)f=nt(h,!0),l=d(f.id,f.type,f.cfg,"search"),o=a.lastIndex}else this.sourcePath=n,this.sourceSearch="";v+=g(e)+(t.strict===!1?"/?":"")+"$";p.push(e);this.regexp=new RegExp(v,t.caseInsensitive?"i":i);this.prefix=p[0];this.$$paramNames=it}function o(n){r(this,n)}function ft(){function rt(n){return null!=n?n.toString().replace(/\//g,"%2F"):n}function ht(n){return null!=n?n.toString().replace(/%2F/g,"/"):n}function ct(n){return this.pattern.test(n)}function lt(){return{strict:g,caseInsensitive:d}}function ut(n){return h(n)||a(n)&&h(n[n.length-1])}function et(){for(;it.length;){var i=it.shift();if(i.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(n[i.name],b.invoke(i.def))}}function k(n){r(this,n||{})}c=this;var b,d=!1,g=!0,tt=!1,n={},ot=!0,it=[],st={string:{encode:rt,decode:ht,is:ct,pattern:/[^\/]*/},int:{encode:rt,decode:function(n){return parseInt(n,10)},is:function(n){return u(n)&&this.decode(n.toString())===n},pattern:/\d+/},bool:{encode:function(n){return n?1:0},decode:function(n){return 0!==parseInt(n,10)},is:function(n){return n===!0||n===!1},pattern:/0|1/},date:{encode:function(n){return this.is(n)?[n.getFullYear(),("0"+(n.getMonth()+1)).slice(-2),("0"+n.getDate()).slice(-2)].join("-"):i},decode:function(n){if(this.is(n))return n;var t=this.capture.exec(n);return t?new Date(t[1],t[2]-1,t[3]):i},is:function(n){return n instanceof Date&&!isNaN(n.valueOf())},equals:function(n,t){return this.is(n)&&this.is(t)&&n.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,is:t.identity,equals:t.equals,pattern:/.*/}};ft.$$getDefaultValue=function(n){if(!ut(n.value))return n.value;if(!b)throw new Error("Injectable functions cannot be called at configuration time");return b.invoke(n.value)};this.caseInsensitive=function(n){return u(n)&&(d=n),d};this.strictMode=function(n){return u(n)&&(g=n),g};this.defaultSquashPolicy=function(n){if(!u(n))return tt;if(n!==!0&&n!==!1&&!e(n))throw new Error("Invalid squash policy: "+n+". Valid policies: false, true, arbitrary-string");return tt=n,n};this.compile=function(n,t){return new l(n,r(lt(),t))};this.isMatcher=function(n){if(!y(n))return!1;var t=!0;return f(l.prototype,function(i,r){h(i)&&(t=t&&u(n[r])&&h(n[r]))}),t};this.type=function(t,i,f){if(!u(i))return n[t];if(n.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return n[t]=new o(r({name:t},i)),f&&(it.push({name:t,def:f}),ot||et()),this};f(st,function(t,i){n[i]=new o(r({name:i},t))});n=w(n,{});this.$get=["$injector",function(t){return b=t,ot=!1,et(),f(st,function(t,i){n[i]||(n[i]=new o(t))}),this}];this.Param=function(t,f,h,c){function g(n){var t=y(n)?p(n):[],i=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return i&&(n={value:n}),n.$$fn=ut(n.value)?n.value:function(){return n.value},n}function it(i,r,u){if(i.type&&r)throw new Error("Param '"+t+"' has two type configurations.");return r?r:i.type?i.type instanceof o?i.type:new o(i.type):"config"===u?n.any:n.string}function rt(){var n={array:"search"===c?"auto":!1},i=t.match(/\[\]$/)?{array:!0}:{};return r(n,i,h).array}function ft(n,t){var i=n.squash;if(!t||i===!1)return!1;if(!u(i)||null==i)return tt;if(i===!0||e(i))return i;throw new Error("Invalid squash policy: '"+i+"'. Valid policies: false, true, or arbitrary string");}function et(n,t,r,u){var f,o,h=[{from:"",to:r||t?i:""},{from:null,to:r||t?i:""}];return f=a(n.replace)?n.replace:[],e(u)&&f.push({from:u,to:i}),o=v(f,function(n){return n.from}),nt(h,function(n){return-1===s(o,n.from)}).concat(f)}function ot(){if(!b)throw new Error("Injectable functions cannot be called at configuration time");return b.invoke(h.$$fn)}function st(n){function t(n){return function(t){return t.from===n}}function i(n){var i=v(nt(d.replace,t(n)),function(n){return n.to});return i.length?i[0]:n}return n=i(n),u(n)?d.type.decode(n):ot()}function ht(){return"{Param:"+t+" "+f+" squash: '"+k+"' optional: "+w+"}"}var d=this,l;h=g(h);f=it(h,f,c);l=rt();f=l?f.$asArray(l,"search"===c):f;"string"!==f.name||l||"path"!==c||h.value!==i||(h.value="");var w=h.value!==i,k=ft(h,w),ct=et(h,l,w,k);r(this,{id:t,type:f,location:c,array:l,squash:k,replace:ct,isOptional:w,value:st,dynamic:i,config:h,toString:ht})};k.prototype={$$new:function(){return w(this,r(new k,{$$parent:this}))},$$keys:function(){for(var t=[],i=[],n=this,r=p(k.prototype);n;)i.push(n),n=n.$$parent;return i.reverse(),f(i,function(n){f(p(n),function(n){-1===s(t,n)&&-1===s(r,n)&&t.push(n)})}),t},$$values:function(n){var t={},i=this;return f(i.$$keys(),function(r){t[r]=i[r].value(n&&n[r])}),t},$$equals:function(n,t){var i=!0,r=this;return f(r.$$keys(),function(u){var f=n&&n[u],e=t&&t[u];r[u].type.equals(f,e)||(i=!1)}),i},$$validates:function(n){var u,t,i,r=!0,e=this;return f(this.$$keys(),function(f){i=e[f];t=n[f];u=!t&&i.isOptional;r=r&&(u||!!i.type.is(t))}),r},$$parent:i};this.ParamSet=k}function et(n,f){function p(n){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(n.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function w(n,t){return n.replace(/\$(\$|\d{1,2})/,function(n,i){return t["$"===i?0:Number(i)]})}function c(n,t,i){if(!i)return!1;var r=n.invoke(t,t,{$match:i});return u(r)?r:!0}function l(r,u,f,h){function b(n,t,i){return"/"===l?n:t?l.slice(0,-1)+n:i?l.slice(1)+n:n}function p(n){function u(n){var t=n(f,r);return t?(e(t)&&r.replace().url(t),!0):!1}var h,t,l;if(!n||!n.defaultPrevented){if(h=c&&r.url()===c,c=i,h)return!0;for(l=o.length,t=0;l>t;t++)if(u(o[t]))return;s&&u(s)}}function w(){return v=v||u.$on("$locationChangeSuccess",p)}var c,l=h.baseHref(),a=r.url();return y||w(),{sync:function(){p()},listen:function(){return w()},update:function(n){return n?void(a=r.url()):void(r.url()!==a&&(r.url(a),r.replace()))},push:function(n,t,u){r.url(n.format(t||{}));c=u&&u.$$avoidResync?r.url():i;u&&u.replace&&r.replace()},href:function(i,u,f){var o,e,h,s;return i.validates(u)?(o=n.html5Mode(),t.isObject(o)&&(o=o.enabled),e=i.format(u),f=f||{},o||null===e||(e="#"+n.hashPrefix()+e),e=b(e,o,f.absolute),!f.absolute||!e)?e:(h=!o&&e?"/":"",s=r.port(),s=80===s||443===s?"":":"+s,[r.protocol(),"://",r.host(),s,h,e].join("")):null}}}var v,o=[],s=null,y=!1;this.rule=function(n){if(!h(n))throw new Error("'rule' must be a function");return o.push(n),this};this.otherwise=function(n){if(e(n)){var t=n;n=function(){return t}}else if(!h(n))throw new Error("'rule' must be a function");return s=n,this};this.when=function(n,t){var i,u=e(t),l,o,s;if(e(n)&&(n=f.compile(n)),!u&&!h(t)&&!a(t))throw new Error("invalid 'handler' in when()");l={matcher:function(n,t){return u&&(i=f.compile(t),t=["$match",function(n){return i.format(n)}]),r(function(i,r){return c(i,t,n.exec(r.path(),r.search()))},{prefix:e(n.prefix)?n.prefix:""})},regex:function(n,t){if(n.global||n.sticky)throw new Error("when() RegExp must not be global or sticky");return u&&(i=t,t=["$match",function(n){return w(i,n)}]),r(function(i,r){return c(i,t,n.exec(r.path()))},{prefix:p(n)})}};o={matcher:f.isMatcher(n),regex:n instanceof RegExp};for(s in o)if(o[s])return this.rule(l[s](n,t));throw new Error("invalid 'what' in when()");};this.deferIntercept=function(n){n===i&&(n=!0);y=n};this.$get=l;l.$inject=["$location","$rootScope","$injector","$browser"]}function ot(n,o){function ot(n){return 0===n.indexOf(".")||0===n.indexOf("^")}function k(n,t){var s;if(!n)return i;var h=e(n),u=h?n:n.name,c=ot(u);if(c){if(!t)throw new Error("No reference point given for path '"+u+"'");t=k(t);for(var r=u.split("."),f=0,l=r.length,o=t;l>f;f++)if(""!==r[f]||0!==f){if("^"!==r[f])break;if(!o.parent)throw new Error("Path '"+u+"' not valid for state '"+t.name+"'");o=o.parent}else o=t;r=r.slice(f).join(".");u=o.name+(o.name&&r?".":"")+r}return s=tt[u],!s||!h&&(h||s!==n&&s.self!==n)?i:s}function st(n,t){rt[n]||(rt[n]=[]);rt[n].push(t)}function ht(n){for(var t=rt[n]||[];t.length;)ut(t.shift())}function ut(t){var i,u,r;if(t=w(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}}),i=t.name,!e(i)||i.indexOf("@")>=0)throw new Error("State must have a valid name");if(tt.hasOwnProperty(i))throw new Error("State '"+i+"'' is already defined");if(u=-1!==i.indexOf(".")?i.substring(0,i.lastIndexOf(".")):e(t.parent)?t.parent:y(t.parent)&&e(t.parent.name)?t.parent.name:"",u&&!tt[u])return st(u,t.self);for(r in b)h(b[r])&&(t[r]=b[r](t,b.$delegates[r]));return tt[i]=t,!t[et]&&t.url&&n.when(t.url,["$match","$stateParams",function(n,i){l.$current.navigable==t&&d(n,i)||l.transitionTo(t,n,{inherit:!0,location:!1})}]),ht(i),t}function ct(n){return n.indexOf("*")>-1}function lt(n){var t=n.split("."),i=l.$current.name.split("."),r,u;if("**"===t[0]&&(i=i.slice(s(i,t[1])),i.unshift("**")),"**"===t[t.length-1]&&(i.splice(s(i,t[t.length-2])+1,Number.MAX_VALUE),i.push("**")),t.length!=i.length)return!1;for(r=0,u=t.length;u>r;r++)"*"===t[r]&&(i[r]="*");return i.join("")===t.join("")}function at(n,t){return e(n)&&!u(t)?b[n]:h(t)&&e(n)?(b[n]&&!b.$delegates[n]&&(b.$delegates[n]=b[n]),b[n]=t,this):this}function vt(n,t){return y(n)?t=n:t.name=n,ut(t),this}function ft(n,o,s,c,y,b,rt){function st(t,i,r,u){var e=n.$broadcast("$stateNotFound",t,i,r),f;return e.defaultPrevented?(rt.update(),ft):e.retry?u.$retry?(rt.update(),ot):(f=l.transition=o.when(e.retry),f.then(function(){return f!==l.transition?ut:(t.options.$retry=!0,l.transitionTo(t.to,t.toParams,t.options))},function(){return ft}),rt.update(),f):null}function ht(n,i,r,u,e,l){var w=r?i:g(n.params.$$keys(),i),v={$stateParams:w},p;return e.resolve=y.resolve(n.resolve,v,e.resolve,n),p=[e.resolve.then(function(n){e.globals=n})],u&&p.push(u),f(n.views,function(i,r){var u=i.resolve&&i.resolve!==n.resolve?i.resolve:{};u.$template=[function(){return s.load(r,{view:i,locals:v,params:w,notify:l.notify})||""}];p.push(y.resolve(u,v,e.resolve,n).then(function(f){if(h(i.controllerProvider)||a(i.controllerProvider)){var o=t.extend({},u,v);f.$$controller=c.invoke(i.controllerProvider,null,o)}else f.$$controller=i.controller;f.$$state=n;f.$$controllerAs=i.controllerAs;e[r]=f}))}),o.all(p).then(function(){return e})}var ut=o.reject(new Error("transition superseded")),at=o.reject(new Error("transition prevented")),ft=o.reject(new Error("transition aborted")),ot=o.reject(new Error("transition failed"));return nt.locals={resolve:null,globals:{$stateParams:{}}},l={params:{},current:nt.self,$current:nt,transition:null},l.reload=function(){return l.transitionTo(l.current,b,{reload:!0,inherit:!1,notify:!0})},l.go=function(n,t,i){return l.transitionTo(n,t,r({inherit:!0,relative:l.$current},i))},l.transitionTo=function(t,i,f){var d,vt,ft,tt,ct;i=i||{};f=r({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var wt,a=l.$current,p=l.params,lt=a.path,e=k(t,f.relative);if(!u(e)){if(d={to:t,toParams:i,options:f},vt=st(d,a.self,p,f),vt)return vt;if(t=d.to,i=d.toParams,f=d.options,e=k(t,f.relative),!u(e)){if(!f.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+f.relative+"'");}}if(e[et])throw new Error("Cannot transition to abstract state '"+t+"'");if(f.inherit&&(i=it(b,i||{},l.$current,e)),!e.params.$$validates(i))return ot;i=e.params.$$values(i);t=e;var v=t.path,s=0,h=v[s],y=nt.locals,pt=[];if(!f.reload)for(;h&&h===lt[s]&&h.ownParams.$$equals(i,p);)y=pt[s]=h.locals,s++,h=v[s];if(yt(t,a,y,f))return t.self.reloadOnSearch!==!1&&rt.update(),l.transition=null,o.when(l.current);if(i=g(t.params.$$keys(),i||{}),f.notify&&n.$broadcast("$stateChangeStart",t.self,i,a.self,p).defaultPrevented)return rt.update(),at;for(ft=o.when(y),tt=s;tt<v.length;tt++,h=v[tt])y=pt[tt]=w(y),ft=ht(h,i,h===t,ft,y,f);return ct=l.transition=ft.then(function(){var r,u,e;if(l.transition!==ct)return ut;for(r=lt.length-1;r>=s;r--)e=lt[r],e.self.onExit&&c.invoke(e.self.onExit,e.self,e.locals.globals),e.locals=null;for(r=s;r<v.length;r++)u=v[r],u.locals=pt[r],u.self.onEnter&&c.invoke(u.self.onEnter,u.self,u.locals.globals);return l.transition!==ct?ut:(l.$current=t,l.current=t.self,l.params=i,dt(l.params,b),l.transition=null,f.location&&t.navigable&&rt.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&n.$broadcast("$stateChangeSuccess",t.self,i,a.self,p),rt.update(!0),l.current)},function(r){return l.transition!==ct?ut:(l.transition=null,wt=n.$broadcast("$stateChangeError",t.self,i,a.self,p,r),wt.defaultPrevented||rt.update(),o.reject(r))})},l.is=function(n,t,f){f=r({relative:l.$current},f||{});var e=k(n,f.relative);return u(e)?l.$current!==e?!1:t?d(e.params.$$values(t),b):!0:i},l.includes=function(n,t,f){if(f=r({relative:l.$current},f||{}),e(n)&&ct(n)){if(!lt(n))return!1;n=l.$current.name}var o=k(n,f.relative);return u(o)?u(l.$current.includes[o.name])?t?d(o.params.$$values(t),b,p(t)):!0:!1:i},l.href=function(n,t,f){var e,o;return(f=r({lossy:!0,inherit:!0,absolute:!1,relative:l.$current},f||{}),e=k(n,f.relative),!u(e))?null:(f.inherit&&(t=it(b,t||{},l.$current,e)),o=e&&f.lossy?e.navigable:e,o&&o.url!==i&&null!==o.url?rt.href(o.url,g(e.params.$$keys(),t||{}),{absolute:f.absolute}):null)},l.get=function(n,t){if(0===arguments.length)return v(p(tt),function(n){return tt[n].self});var i=k(n,t||l.$current);return i&&i.self?i.self:null},l}function yt(n,t,i,r){if(n===t&&(i===t.locals&&!r.reload||n.self.reloadOnSearch===!1))return!0}var nt,l,tt={},rt={},et="abstract",b={parent:function(n){if(u(n.parent)&&n.parent)return k(n.parent);var t=/^(.+)\.[^.]+$/.exec(n.name);return t?k(t[1]):nt},data:function(n){return n.parent&&n.parent.data&&(n.data=n.self.data=r({},n.parent.data,n.data)),n.data},url:function(n){var t=n.url,i={params:n.params||{}};if(e(t))return"^"==t.charAt(0)?o.compile(t.substring(1),i):(n.parent.navigable||nt).url.concat(t,i);if(!t||o.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+n+"'");},navigable:function(n){return n.url?n:n.parent?n.parent.navigable:null},ownParams:function(n){var t=n.url&&n.url.params||new c.ParamSet;return f(n.params||{},function(n,i){t[i]||(t[i]=new c.Param(i,null,n,"config"))}),t},params:function(n){return n.parent&&n.parent.params?r(n.parent.params.$$new(),n.ownParams):new c.ParamSet},views:function(n){var t={};return f(u(n.views)?n.views:{"":n},function(i,r){r.indexOf("@")<0&&(r+="@"+n.parent.name);t[r]=i}),t},path:function(n){return n.parent?n.parent.path.concat(n):[]},includes:function(n){var t=n.parent?r({},n.parent.includes):{};return t[n.name]=!0,t},$delegates:{}};nt=ut({name:"",url:"^",views:null,abstract:!0});nt.navigable=null;this.decorator=at;this.state=vt;this.$get=ft;ft.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function st(){function n(n,t){return{load:function(i,u){var f;return u=r({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},u),u.view&&(f=t.fromConfig(u.view,u.params,u.locals)),f&&u.notify&&n.$broadcast("$viewContentLoading",u),f}}}this.$get=n;n.$inject=["$rootScope","$templateFactory"]}function bt(){var n=!1;this.useAnchorScroll=function(){n=!0};this.$get=["$anchorScroll","$timeout",function(t,i){return n?t:function(n){i(function(){n[0].scrollIntoView()},0,!1)}}]}function ht(n,i,r,u){function s(){return i.has?function(n){return i.has(n)?i.get(n):null}:function(n){try{return i.get(n)}catch(t){return null}}}function h(n,t){var r=function(){return{enter:function(n,t,i){t.after(n);i()},leave:function(n,t){n.remove();t()}}},i;return e?{enter:function(n,t,i){var r=e.enter(n,null,t,i);r&&r.then&&r.then(i)},leave:function(n,t){var i=e.leave(n,t);i&&i.then&&i.then(t)}}:f?(i=f&&f(t,n),{enter:function(n,t,r){i.enter(n,null,t);r()},leave:function(n,t){i.leave(n);t()}}):r()}var o=s(),f=o("$animator"),e=o("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(i,f,e){return function(i,f,o){function w(){c&&(c.remove(),c=null);s&&(s.$destroy(),s=null);l&&(p.leave(l,function(){c=null}),c=l,l=null)}function a(h){var c,a=lt(i,o,f,u),d=a&&n.$current&&n.$current.locals[a],k;(h||d!==y)&&(c=i.$new(),y=n.$current.locals[a],k=e(c,function(n){p.enter(n,f,function(){s&&s.$emit("$viewContentAnimationEnded");(t.isDefined(v)&&!v||i.$eval(v))&&r(n)});w()}),l=k,s=c,s.$emit("$viewContentLoaded"),s.$eval(b))}var c,l,s,y,b=o.onload||"",v=o.autoscroll,p=h(o,i);i.$on("$stateChangeSuccess",function(){a(!1)});i.$on("$viewContentLoading",function(){a(!1)});a(!0)}}}}function ct(n,t,i,r){return{restrict:"ECA",priority:-400,compile:function(u){var f=u.html();return function(u,e,o){var c=i.$current,l=lt(u,o,e,r),s=c&&c.locals[l],a,h;s&&(e.data("$uiView",{name:l,state:s.$$state}),e.html(s.$template?s.$template:f),a=n(e.contents()),s.$$controller&&(s.$scope=u,h=t(s.$$controller,s),s.$$controllerAs&&(u[s.$$controllerAs]=h),e.data("$ngControllerController",h),e.children().data("$ngControllerController",h)),a(u))}}}}function lt(n,t,i,r){var u=r(t.uiView||t.name||"")(n),f=i.inheritedData("$uiView");return u.indexOf("@")>=0?u:u+"@"+(f?f.state.name:"")}function kt(n,t){var i,r=n.match(/^\s*({[^}]*})\s*$/);if(r&&(n=t+"("+r[1]+")"),i=n.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!i||4!==i.length)throw new Error("Invalid state ref '"+n+"'");return{state:i[1],paramExpr:i[3]||null}}function at(n){var t=n.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function vt(n,i){var r=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(u,f,e,o){var s=kt(e.uiSref,n.current.name),h=null,w=at(f)||n.$current,c=null,b="A"===f.prop("tagName"),v="FORM"===f[0].nodeName,k=v?"action":"href",y=!0,l={relative:w,inherit:!0},p=u.$eval(e.uiSrefOpts)||{},a;t.forEach(r,function(n){n in p&&(l[n]=p[n])});a=function(i){if(i&&(h=t.copy(i)),y){c=n.href(s.state,h,l);var r=o[1]||o[0];return r&&r.$$setStateInfo(s.state,h),null===c?(y=!1,!1):void e.$set(k,c)}};s.paramExpr&&(u.$watch(s.paramExpr,function(n){n!==h&&a(n)},!0),h=t.copy(u.$eval(s.paramExpr)));a();v||f.bind("click",function(t){var e=t.which||t.button,r,u;e>1||t.ctrlKey||t.metaKey||t.shiftKey||f.attr("target")||(r=i(function(){n.go(s.state,h,l)}),t.preventDefault(),u=b&&!c?1:0,t.preventDefault=function(){u--<=0&&i.cancel(r)})})}}}function tt(n,t,i){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,u){function s(){h()?r.addClass(o):r.removeClass(o)}function h(){return"undefined"!=typeof u.uiSrefActiveEq?f&&n.is(f.name,e):f&&n.includes(f.name,e)}var f,e,o;o=i(u.uiSrefActiveEq||u.uiSrefActive||"",!1)(t);this.$$setStateInfo=function(t,i){f=n.get(t,at(r));e=i;s()};t.$on("$stateChangeSuccess",s)}]}}function yt(n){var t=function(t){return n.is(t)};return t.$stateful=!0,t}function pt(n){var t=function(t){return n.includes(t)};return t.$stateful=!0,t}var u=t.isDefined,h=t.isFunction,e=t.isString,y=t.isObject,a=t.isArray,f=t.forEach,r=t.extend,dt=t.copy,c;t.module("ui.router.util",["ng"]);t.module("ui.router.router",["ui.router.util"]);t.module("ui.router.state",["ui.router.router","ui.router.util"]);t.module("ui.router",["ui.router.state"]);t.module("ui.router.compat",["ui.router"]);rt.$inject=["$q","$injector"];t.module("ui.router.util").service("$resolve",rt);ut.$inject=["$http","$templateCache","$injector"];t.module("ui.router.util").service("$templateFactory",ut);l.prototype.concat=function(n,t){var i={caseInsensitive:c.caseInsensitive(),strict:c.strictMode(),squash:c.defaultSquashPolicy()};return new l(this.sourcePath+n+this.sourceSearch,r(i,t),this)};l.prototype.toString=function(){return this.source};l.prototype.exec=function(n,t){function l(n){function t(n){return n.split("").reverse().join("")}function i(n){return n.replace(/\\-/,"-")}var r=t(n).split(/-(?!\\)/),u=v(r,t);return v(u,i).reverse()}var o=this.regexp.exec(n),f,u;if(!o)return null;t=t||{};var i,e,r,s=this.parameters(),a=s.length,c=this.segments.length-1,h={};if(c!==o.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;c>i;i++){for(r=s[i],f=this.params[r],u=o[i+1],e=0;e<f.replace;e++)f.replace[e].from===u&&(u=f.replace[e].to);u&&f.array===!0&&(u=l(u));h[r]=f.value(u)}for(;a>i;i++)r=s[i],h[r]=this.params[r].value(t[r]);return h};l.prototype.parameters=function(n){return u(n)?this.params[n]||null:this.$$paramNames};l.prototype.validates=function(n){return this.params.$$validates(n)};l.prototype.format=function(n){function b(n){return encodeURIComponent(n).replace(/-/g,function(n){return"%5C%"+n.charCodeAt(0).toString(16).toUpperCase()})}var s,w;n=n||{};var h=this.segments,c=this.parameters(),k=this.params;if(!this.validates(n))return null;for(var l=!1,d=h.length-1,g=c.length,i=h[0],r=0;g>r;r++){var nt=d>r,o=c[r],u=k[o],y=u.value(n[o]),p=u.isOptional&&u.type.equals(u.value(),y),f=p?u.squash:!1,t=u.type.encode(y);if(nt)s=h[r+1],f===!1?(null!=t&&(i+=a(t)?v(t,b).join("-"):encodeURIComponent(t)),i+=s):f===!0?(w=i.match(/\/$/)?/\/?(.*)/:/(.*)/,i+=s.match(w)[1]):e(f)&&(i+=f+s);else{if(null==t||p&&f!==!1)continue;a(t)||(t=[t]);t=v(t,encodeURIComponent).join("&"+o+"=");i+=(l?"&":"?")+(o+"="+t);l=!0}}return i};o.prototype.is=function(){return!0};o.prototype.encode=function(n){return n};o.prototype.decode=function(n){return n};o.prototype.equals=function(n,t){return n==t};o.prototype.$subPattern=function(){var n=this.pattern.toString();return n.substr(1,n.length-2)};o.prototype.pattern=/.*/;o.prototype.toString=function(){return"{Type:"+this.name+"}"};o.prototype.$asArray=function(n,t){function r(n,t){function r(n,t){return function(){return n[t].apply(n,arguments)}}function f(n){return a(n)?n:u(n)?[n]:[]}function o(n){switch(n.length){case 0:return i;case 1:return"auto"===t?n[0]:n;default:return n}}function s(n){return!n}function e(n,t){return function(i){i=f(i);var r=v(i,n);return t===!0?0===nt(r,s).length:o(r)}}function h(n){return function(t,i){var u=f(t),e=f(i),r;if(u.length!==e.length)return!1;for(r=0;r<u.length;r++)if(!n(u[r],e[r]))return!1;return!0}}this.encode=e(r(n,"encode"));this.decode=e(r(n,"decode"));this.is=e(r(n,"is"),!0);this.equals=h(r(n,"equals"));this.pattern=n.pattern;this.$arrayMode=t}if(!n)return this;if("auto"===n&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,n)};t.module("ui.router.util").provider("$urlMatcherFactory",ft);t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]);et.$inject=["$locationProvider","$urlMatcherFactoryProvider"];t.module("ui.router.router").provider("$urlRouter",et);ot.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"];t.module("ui.router.state").value("$stateParams",{}).provider("$state",ot);st.$inject=[];t.module("ui.router.state").provider("$view",st);t.module("ui.router.state").provider("$uiViewScroll",bt);ht.$inject=["$state","$injector","$uiViewScroll","$interpolate"];ct.$inject=["$compile","$controller","$state","$interpolate"];t.module("ui.router.state").directive("uiView",ht);t.module("ui.router.state").directive("uiView",ct);vt.$inject=["$state","$timeout"];tt.$inject=["$state","$stateParams","$interpolate"];t.module("ui.router.state").directive("uiSref",vt).directive("uiSrefActive",tt).directive("uiSrefActiveEq",tt);yt.$inject=["$state"];pt.$inject=["$state"];t.module("ui.router.state").filter("isState",yt).filter("includedByState",pt)}(window,window.angular),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){function h(t,i){var r,u,f,e=t.nodeName.toLowerCase();return"area"===e?(r=t.parentNode,u=r.name,t.href&&u&&"map"===r.nodeName.toLowerCase()?(f=n("img[usemap='#"+u+"']")[0],!!f&&c(f)):!1):(/^(input|select|textarea|button|object)$/.test(e)?!t.disabled:"a"===e?t.href||i:i)&&c(t)}function c(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return"hidden"===n.css(this,"visibility")}).length}function k(n){for(var t,i;n.length&&n[0]!==document;){if(t=n.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0}function l(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._datepickerShowing=!1;this._inDialog=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};n.extend(this._defaults,this.regional[""]);this.regional.en=n.extend(!0,{},this.regional[""]);this.regional["en-US"]=n.extend(!0,{},this.regional.en);this.dpDiv=a(n("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){n(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&n(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",v)}function v(){n.datepicker._isDisabledDatepicker(i.inline?i.dpDiv.parent()[0]:i.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&n(this).addClass("ui-datepicker-next-hover"))}function u(t,i){n.extend(t,i);for(var r in i)null==i[r]&&(t[r]=i[r]);return t}function t(n){return function(){var t=this.element.val();n.apply(this,arguments);this._refresh();t!==this.element.val()&&this._trigger("change")}}var y,f,r,i,o,s;n.ui=n.ui||{};n.extend(n.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});n.fn.extend({scrollParent:function(t){var i=this.css("position"),u="absolute"===i,f=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=n(this);return u&&"static"===t.css("position")?!1:f.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:n(this[0].ownerDocument||document)},uniqueId:function(){var n=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&n(this).removeAttr("id")})}});n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return h(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var i=n.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&h(t,!r)}});n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(t,i){function r(t,i,r,u){return n.each(e,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var e="Width"===i?["Left","Right"]:["Top","Bottom"],u=i.toLowerCase(),f={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+i]=function(t){return void 0===t?f["inner"+i].call(this):this.each(function(){n(this).css(u,r(this,t)+"px")})};n.fn["outer"+i]=function(t,e){return"number"!=typeof t?f["outer"+i].call(this,t):this.each(function(){n(this).css(u,r(this,t,!0,e)+"px")})}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData));n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());n.fn.extend({focus:function(t){return function(i,r){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){n(t).focus();r&&r.call(t)},i)}):t.apply(this,arguments)}}(n.fn.focus),disableSelection:function(){var n="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(n+".ui-disableSelection",function(n){n.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var r,u,i=n(this[0]);i.length&&i[0]!==document;){if(r=i.css("position"),("absolute"===r||"relative"===r||"fixed"===r)&&(u=parseInt(i.css("zIndex"),10),!isNaN(u)&&0!==u))return u;i=i.parent()}return 0}});n.ui.plugin={add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i,r){var u,f=n.plugins[t];if(f&&(r||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(u=0;u<f.length;u++)n.options[f[u][0]]&&f[u][1].apply(n.element,i)}};y=0;f=Array.prototype.slice;n.cleanData=function(t){return function(i){for(var r,u,f=0;null!=(u=i[f]);f++)try{r=n._data(u,"events");r&&r.remove&&n(u).triggerHandler("remove")}catch(e){}t(i)}}(n.cleanData);n.widget=function(t,i,r){var s,f,u,o,h={},e=t.split(".")[0];return t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){return this._createWidget?void(arguments.length&&this._createWidget(n,t)):new u(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){return n.isFunction(r)?void(h[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},u=function(n){return i.prototype[t].apply(this,n)};return function(){var t,i=this._super,f=this._superApply;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}()):void(h[t]=r)}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix||t:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u),u};n.widget.extend=function(t){for(var i,r,e=f.call(arguments,1),u=0,o=e.length;o>u;u++)for(i in e[u])r=e[u][i],e[u].hasOwnProperty(i)&&void 0!==r&&(t[i]=n.isPlainObject(r)?n.isPlainObject(t[i])?n.widget.extend({},t[i],r):n.widget.extend({},r):r);return t};n.widget.bridge=function(t,i){var r=i.prototype.widgetFullName||t;n.fn[t]=function(u){var s="string"==typeof u,o=f.call(arguments,1),e=this;return s?this.each(function(){var i,f=n.data(this,r);return"instance"===u?(e=f,!1):f?n.isFunction(f[u])&&"_"!==u.charAt(0)?(i=f[u].apply(f,o),i!==f&&void 0!==i?(e=i&&i.jquery?e.pushStack(i.get()):i,!1):void 0):n.error("no such method '"+u+"' for "+t+" widget instance"):n.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+u+"'")}):(o.length&&(u=n.widget.extend.apply(null,[u].concat(o))),this.each(function(){var t=n.data(this,r);t?(t.option(u||{}),t._init&&t._init()):n.data(this,r,new i(u,this))})),e}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=y++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=n();this.hoverable=n();this.focusable=n();i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(t,i){var r,u,f,e=t;if(0===arguments.length)return n.widget.extend({},this.options);if("string"==typeof t)if(e={},r=t.split("."),t=r.shift(),r.length){for(u=e[t]=n.widget.extend({},this.options[t]),f=0;f<r.length-1;f++)u[r[f]]=u[r[f]]||{},u=u[r[f]];if(t=r.pop(),1===arguments.length)return void 0===u[t]?null:u[t];u[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];e[t]=i}return this._setOptions(e),this},_setOptions:function(n){for(var t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,"disabled"===n&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,r){var f,u=this;"boolean"!=typeof t&&(r=i,i=t,t=!1);r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget());n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return("string"==typeof e?u[e]:e).apply(u,arguments)}"string"!=typeof e&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^([\w:-]*)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.delegate(c,h,o):i.bind(h,o)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.unbind(i).undelegate(i);this.bindings=n(this.bindings.not(t).get());this.focusable=n(this.focusable.not(t).get());this.hoverable=n(this.hoverable.not(t).get())},_delay:function(n,t){function r(){return("string"==typeof n?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){"string"==typeof u&&(u={effect:u});var o,e=u?u===!0||"number"==typeof u?i:u.effect||i:t;u=u||{};"number"==typeof u&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}});r=(n.widget,!1);n(document).mouseup(function(){r=!1});n.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).bind("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return(n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1)});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!r){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var i=this,u=1===t.which,f="string"==typeof this.options.cancel&&t.target.nodeName?n(t.target).closest(this.options.cancel).length:!1;return u&&!f&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===n.data(t.target,this.widgetName+".preventClickEvent")&&n.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return i._mouseMove(n)},this._mouseUpDelegate=function(n){return i._mouseUp(n)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),r=!0,!0)):!0}},_mouseMove:function(t){return this._mouseMoved&&(n.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button||!t.which)?this._mouseUp(t):((t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted))},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),r=!1,!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function f(n,t,i){return[parseFloat(n[0])*(a.test(n[0])?t/100:1),parseFloat(n[1])*(a.test(n[1])?i/100:1)]}function i(t,i){return parseInt(n.css(t,i),10)||0}function v(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}n.ui=n.ui||{};var u,e,r=Math.max,t=Math.abs,o=Math.round,s=/left|center|right/,h=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,a=/%$/,y=n.fn.position;n.position={scrollbarWidth:function(){if(void 0!==u)return u;var r,i,t=n("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),f=t.children()[0];return n("body").append(t),r=f.offsetWidth,t.css("overflow","scroll"),i=f.offsetWidth,r===i&&(i=t[0].clientWidth),t.remove(),u=r-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),u="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,f="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:f?n.position.scrollbarWidth():0,height:u?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]),u=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:r,isDocument:u,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r||u?i.width():i.outerWidth(),height:r||u?i.height():i.outerHeight()}}};n.fn.position=function(u){if(!u||!u.of)return y.apply(this,arguments);u=n.extend({},u);var k,a,p,b,w,g,nt=n(u.of),it=n.position.getWithinInfo(u.within),rt=n.position.getScrollInfo(it),d=(u.collision||"flip").split(" "),tt={};return g=v(nt),nt[0].preventDefault&&(u.at="left top"),a=g.width,p=g.height,b=g.offset,w=n.extend({},b),n.each(["my","at"],function(){var t,i,n=(u[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):h.test(n[0])?["center"].concat(n):["center","center"]);n[0]=s.test(n[0])?n[0]:"center";n[1]=h.test(n[1])?n[1]:"center";t=c.exec(n[0]);i=c.exec(n[1]);tt[this]=[t?t[0]:0,i?i[0]:0];u[this]=[l.exec(n[0])[0],l.exec(n[1])[0]]}),1===d.length&&(d[1]=d[0]),"right"===u.at[0]?w.left+=a:"center"===u.at[0]&&(w.left+=a/2),"bottom"===u.at[1]?w.top+=p:"center"===u.at[1]&&(w.top+=p/2),k=f(tt.at,a,p),w.left+=k[0],w.top+=k[1],this.each(function(){var y,g,h=n(this),c=h.outerWidth(),l=h.outerHeight(),ut=i(this,"marginLeft"),ft=i(this,"marginTop"),et=c+ut+i(this,"marginRight")+rt.width,ot=l+ft+i(this,"marginBottom")+rt.height,s=n.extend({},w),v=f(tt.my,h.outerWidth(),h.outerHeight());"right"===u.my[0]?s.left-=c:"center"===u.my[0]&&(s.left-=c/2);"bottom"===u.my[1]?s.top-=l:"center"===u.my[1]&&(s.top-=l/2);s.left+=v[0];s.top+=v[1];e||(s.left=o(s.left),s.top=o(s.top));y={marginLeft:ut,marginTop:ft};n.each(["left","top"],function(t,i){n.ui.position[d[t]]&&n.ui.position[d[t]][i](s,{targetWidth:a,targetHeight:p,elemWidth:c,elemHeight:l,collisionPosition:y,collisionWidth:et,collisionHeight:ot,offset:[k[0]+v[0],k[1]+v[1]],my:u.my,at:u.at,within:it,elem:h})});u.using&&(g=function(n){var i=b.left-s.left,o=i+a-c,f=b.top-s.top,v=f+p-l,e={target:{element:nt,left:b.left,top:b.top,width:a,height:p},element:{element:h,left:s.left,top:s.top,width:c,height:l},horizontal:0>o?"left":i>0?"right":"center",vertical:0>v?"top":f>0?"bottom":"middle"};c>a&&t(i+o)<a&&(e.horizontal="center");l>p&&t(f+v)<p&&(e.vertical="middle");e.important=r(t(i),t(o))>r(t(f),t(v))?"horizontal":"vertical";u.using.call(this,n,e)});h.offset(n.extend(s,{using:g}))})};n.ui.position={fit:{left:function(n,t){var h,e=t.within,u=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,i=u-s,f=s+t.collisionWidth-o-u;t.collisionWidth>o?i>0&&0>=f?(h=n.left+i+t.collisionWidth-o-u,n.left+=i-h):n.left=f>0&&0>=i?u:i>f?u+o-t.collisionWidth:u:i>0?n.left+=i:f>0?n.left-=f:n.left=r(n.left-s,n.left)},top:function(n,t){var h,o=t.within,u=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,i=u-s,f=s+t.collisionHeight-e-u;t.collisionHeight>e?i>0&&0>=f?(h=n.top+i+t.collisionHeight-e-u,n.top+=i-h):n.top=f>0&&0>=i?u:i>f?u+e-t.collisionHeight:u:i>0?n.top+=i:f>0?n.top-=f:n.top=r(n.top-s,n.top)}},flip:{left:function(n,i){var o,s,r=i.within,y=r.offset.left+r.scrollLeft,c=r.width,h=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-i.collisionPosition.marginLeft,a=l-h,v=l+i.collisionWidth-c-h,u="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,f="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,e=-2*i.offset[0];0>a?(o=n.left+u+f+e+i.collisionWidth-c-y,(0>o||o<t(a))&&(n.left+=u+f+e)):v>0&&(s=n.left-i.collisionPosition.marginLeft+u+f+e-h,(s>0||t(s)<v)&&(n.left+=u+f+e))},top:function(n,i){var o,s,r=i.within,y=r.offset.top+r.scrollTop,c=r.height,h=r.isWindow?r.scrollTop:r.offset.top,l=n.top-i.collisionPosition.marginTop,a=l-h,v=l+i.collisionHeight-c-h,p="top"===i.my[1],u=p?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,f="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,e=-2*i.offset[1];0>a?(s=n.top+u+f+e+i.collisionHeight-c-y,(0>s||s<t(a))&&(n.top+=u+f+e)):v>0&&(o=n.top-i.collisionPosition.marginTop+u+f+e-h,(o>0||t(o)<v)&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,r,u,f,o=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(o?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};o&&n.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in r)t.style[f]=r[f];t.appendChild(s);i=o||document.documentElement;i.insertBefore(t,i.firstChild);s.style.cssText="position: absolute; left: 10.7432222px;";u=n(s).offset().left;e=u>10&&11>u;t.innerHTML="";i.removeChild(t)}()}();n.ui.position;n.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=n();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");t.collapsible||t.active!==!1&&null!=t.active||(t.active=0);this._processPanels();t.active<0&&(t.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():n()}},_createIcons:function(){var t=this.options.icons;t&&(n("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var n;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId();this._destroyIcons();n=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&n.css("height","")},_setOption:function(n,t){return"active"===n?void this._activate(t):("event"===n&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(n,t),"collapsible"!==n||t||this.options.active!==!1||this._activate(0),"icons"===n&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===n&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[u-1]}r&&(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===n.ui.keyCode.UP&&t.ctrlKey&&n(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels();t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=n()):t.active===!1?this._activate(0):this.active.length&&!n.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=n()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var t=this.headers,n=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all");this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();n&&(this._off(t.not(this.headers)),this._off(n.not(this.panels)))},_refresh:function(){var t,i=this.options,r=i.heightStyle,u=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(){var t=n(this),r=t.uniqueId().attr("id"),i=t.next(),u=i.uniqueId().attr("id");t.attr("aria-controls",u);i.attr("aria-labelledby",r)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(i.event);"fill"===r?(t=u.height(),this.element.siblings(":visible").each(function(){var i=n(this),r=i.css("position");"absolute"!==r&&"fixed"!==r&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===r&&(t=0,this.headers.next().each(function(){t=Math.max(t,n(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:n.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):n()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,i);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,u=this.active,r=n(t.currentTarget),f=r[0]===u[0],e=f&&i.collapsible,s=e?n():r.next(),h=u.next(),o={oldHeader:u,oldPanel:h,newHeader:e?n():r,newPanel:s};t.preventDefault();f&&!i.collapsible||this._trigger("beforeActivate",t,o)===!1||(i.active=e?!1:this.headers.index(r),this.active=f?n():r,this._toggle(o),u.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&u.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),f||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var r=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=r;this.prevHide=i;this.options.animate?this._animate(r,i,t):(i.hide(),r.show(),this._toggleComplete(t));i.attr({"aria-hidden":"true"});i.prev().attr({"aria-selected":"false","aria-expanded":"false"});r.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):r.length&&this.headers.filter(function(){return 0===parseInt(n(this).attr("tabIndex"),10)}).attr("tabIndex",-1);r.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(n,t,i){var h,r,u,c=this,o=0,l=n.css("box-sizing"),a=n.length&&(!t.length||n.index()<t.index()),e=this.options.animate||{},f=a&&e.down||e,s=function(){c._toggleComplete(i)};return"number"==typeof f&&(u=f),"string"==typeof f&&(r=f),r=r||f.easing||e.easing,u=u||f.duration||e.duration,t.length?n.length?(h=n.show().outerHeight(),t.animate(this.hideProps,{duration:u,easing:r,step:function(n,t){t.now=Math.round(n)}}),void n.hide().animate(this.showProps,{duration:u,easing:r,complete:s,step:function(n,i){i.now=Math.round(n);"height"!==i.prop?"content-box"===l&&(o+=i.now):"content"!==c.options.heightStyle&&(i.now=Math.round(h-t.outerHeight()-o),o=0)}})):t.animate(this.hideProps,u,r,s):n.animate(this.showProps,u,r,s)},_toggleComplete:function(n){var t=n.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");t.length&&(t.parent()[0].className=t.parent()[0].className);this._trigger("activate",null,n)}});n.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0});this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item":function(n){n.preventDefault()},"click .ui-menu-item":function(t){var i=n(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&n(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=n(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active");this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(n,i)},blur:function(t){this._delay(function(){n.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(n){this._closeOnDocumentClick(n)&&this.collapseAll(n);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=n(this);t.data("ui-menu-submenu-carat")&&t.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,u,r,f,e=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:e=!1;u=this.previousFilter||"";r=String.fromCharCode(t.keyCode);f=!1;clearTimeout(this.filterTimer);r===u?f=!0:r=u+r;i=this._filterMenuItems(r);i=f&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i;i.length||(r=String.fromCharCode(t.keyCode),i=this._filterMenuItems(r));i.length?(this.focus(t,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}e&&t.preventDefault()},_activate:function(n){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(n):this.select(n))},refresh:function(){var i,t,u=this,f=this.options.icons.submenu,r=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=n(this),i=t.parent(),r=n("<span>").addClass("ui-menu-icon ui-icon "+f).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(r);t.attr("aria-labelledby",i.attr("id"))});i=r.add(this.element);t=i.find(this.options.items);t.not(".ui-menu-item").each(function(){var t=n(this);u._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")});t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});t.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(n,t){"icons"===n&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu);"disabled"===n&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t);this._super(n,t)},focus:function(n,t){var i,r;this.blur(n,n&&"focus"===n.type);this._scrollIntoView(t);this.active=t.first();r=this.active.addClass("ui-state-focus").removeClass("ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",r.attr("id"));this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");n&&"keydown"===n.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);i=t.children(".ui-menu");i.length&&n&&/^mouse/.test(n.type)&&this._startOpening(i);this.activeMenu=t.parent();this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var e,o,i,r,u,f;this._hasScroll()&&(e=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-o,r=this.activeMenu.scrollTop(),u=this.activeMenu.height(),f=t.outerHeight(),0>i?this.activeMenu.scrollTop(r+i):i+f>u&&this.activeMenu.scrollTop(r+i-u+f))},blur:function(n,t){t||clearTimeout(this.timer);this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",n,{item:this.active}))},_startOpening:function(n){clearTimeout(this.timer);"true"===n.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(n)},this.delay))},_open:function(t){var i=n.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true");t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer);this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element);this._close(r);this.blur(t);this.activeMenu=r},this.delay)},_close:function(n){n||(n=this.active?this.active.parent():this.element);n.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!n(t.target).closest(".ui-menu").length},_isDivider:function(n){return!/[^\-\u2014\u2013\s]/.test(n.text())},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(n,t,i){var r;this.active&&(r="first"===n||"last"===n?this.active["first"===n?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[n+"All"](".ui-menu-item").eq(0));r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]());this.focus(i,r)},nextPage:function(t){var i,r,u;return this.active?void(this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r-u<0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,r,u;return this.active?void(this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r+u>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0);this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return r.test(n.trim(n(this).text()))})}});n.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,r,u=this.element[0].nodeName.toLowerCase(),f="textarea"===u,e="input"===u;this.isMultiLine=f?!0:e?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[f||e?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(u){if(this.element.prop("readOnly"))return t=!0,r=!0,void(i=!0);t=!1;r=!1;i=!1;var f=n.ui.keyCode;switch(u.keyCode){case f.PAGE_UP:t=!0;this._move("previousPage",u);break;case f.PAGE_DOWN:t=!0;this._move("nextPage",u);break;case f.UP:t=!0;this._keyEvent("previous",u);break;case f.DOWN:t=!0;this._keyEvent("next",u);break;case f.ENTER:this.menu.active&&(t=!0,u.preventDefault(),this.menu.select(u));break;case f.TAB:this.menu.active&&this.menu.select(u);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(u),u.preventDefault());break;default:i=!0;this._searchTimeout(u)}},keypress:function(r){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||r.preventDefault());if(!i){var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:this._move("previousPage",r);break;case u.PAGE_DOWN:this._move("nextPage",r);break;case u.UP:this._keyEvent("previous",r);break;case u.DOWN:this._keyEvent("next",r)}}},input:function(n){return r?(r=!1,void n.preventDefault()):void this._searchTimeout(n)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(n){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(n),void this._change(n))}});this._initSource();this.menu=n("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._on(this.menu.element,{mousedown:function(t){t.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];n(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===i||n.contains(i,r.target)||t.close()})})},menufocus:function(t,i){var r,u;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)})):(u=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:u})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(u.value),r=i.item.attr("aria-label")||u.value,void(r&&n.trim(r).length&&(this.liveRegion.children().hide(),n("<div>").text(r).appendTo(this.liveRegion))))},menuselect:function(n,t){var i=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r;this.selectedItem=i}));!1!==this._trigger("select",n,{item:i})&&this._value(i.value);this.term=this._value();this.close(n);this.selectedItem=i}});this.liveRegion=n("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t);"source"===n&&this._initSource();"appendTo"===n&&this.menu.element.appendTo(this._appendTo());"disabled"===n&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var i,r,t=this;n.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort();t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching);this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),r=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;t&&(!t||i||r)||(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return n=null!=n?n:this._value(),this.term=this._value(),n.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(n):void 0},_search:function(n){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:n},this._response())},_response:function(){var t=++this.requestIndex;return n.proxy(function(n){t===this.requestIndex&&this.__response(n);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(n){n&&(n=this._normalize(n));this._trigger("response",null,{content:n});!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0;this._close(n)},_close:function(n){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return"string"==typeof t?{label:t,value:t}:n.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t);this.isNewMenu=!0;this.menu.refresh();i.show();this._resizeMenu();i.position(n.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").text(i.label).appendTo(t)},_move:function(n,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[n](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(n,t),t.preventDefault())}});n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}});n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(n){return n+(n>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments);this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),n("<div>").text(i).appendTo(this.liveRegion))}});var e,p=(n.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),w="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",d=function(){var t=n(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},b=function(t){var i=t.name,r=t.form,u=n([]);return i&&(i=i.replace(/'/g,"\\'"),u=r?n(r).find("[name='"+i+"'][type=radio]"):n("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),u};n.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,d);"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var i=this,t=this.options,r="checkbox"===this.type||"radio"===this.type,u=r?"":"ui-state-active";null===t.label&&(t.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){t.disabled||this===e&&n(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){t.disabled||n(this).removeClass(u)}).bind("click"+this.eventNamespace,function(n){t.disabled&&(n.preventDefault(),n.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});r&&this.element.bind("change"+this.eventNamespace,function(){i.refresh()});"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(t.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(t.disabled)return!1;n(this).addClass("ui-state-active");i.buttonElement.attr("aria-pressed","true");var r=i.element[0];b(r).not(r).map(function(){return n(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return t.disabled?!1:(n(this).addClass("ui-state-active"),e=this,void i.document.one("mouseup",function(){e=null}))}).bind("mouseup"+this.eventNamespace,function(){return t.disabled?!1:void n(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(i){return t.disabled?!1:void(i.keyCode!==n.ui.keyCode.SPACE&&i.keyCode!==n.ui.keyCode.ENTER||n(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){n(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===n.ui.keyCode.SPACE&&n(this).click()}));this._setOption("disabled",t.disabled);this._resetButton()},_determineButtonType:function(){var n,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button";"checkbox"===this.type||"radio"===this.type?(n=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=n.find(t),this.buttonElement.length||(n=n.length?n.siblings():this.element.siblings(),this.buttonElement=n.filter(t),this.buttonElement.length||(this.buttonElement=n.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(p+" ui-state-active "+w).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(n,t){return this._super(n,t),"disabled"===n?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t);"radio"===this.type?b(this.element[0]).each(function(){n(this).is(":checked")?n(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var i=this.buttonElement.removeClass(w),f=n("<span><\/span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(),t=this.options.icons,u=t.primary&&t.secondary,r=[];t.primary||t.secondary?(this.options.text&&r.push("ui-button-text-icon"+(u?"s":t.primary?"-primary":"-secondary")),t.primary&&i.prepend("<span class='ui-button-icon-primary ui-icon "+t.primary+"'><\/span>"),t.secondary&&i.append("<span class='ui-button-icon-secondary ui-icon "+t.secondary+"'><\/span>"),this.options.text||(r.push(u?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||i.attr("title",n.trim(f)))):r.push("ui-button-text-only");i.addClass(r.join(" "))}});n.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(n,t){"disabled"===n&&this.buttons.button("option",n,t);this._super(n,t)},refresh:function(){var i="rtl"===this.element.css("direction"),t=this.element.find(this.options.items),r=t.filter(":ui-button");t.not(":ui-button").button();r.button("refresh");this.buttons=t.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(i?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(i?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});n.ui.button;n.extend(n.ui,{datepicker:{version:"1.11.4"}});n.extend(l.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return u(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var r,f,u;r=t.nodeName.toLowerCase();f="div"===r||"span"===r;t.id||(this.uuid+=1,t.id="dp"+this.uuid);u=this._newInst(n(t),f);u.settings=n.extend({},i||{});"input"===r?this._connectDatepicker(t,u):f&&this._inlineDatepicker(t,u)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(n("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>")):this.dpDiv}},_connectDatepicker:function(t,i){var r=n(t);i.append=n([]);i.trigger=n([]);r.hasClass(this.markerClassName)||(this._attachments(r,i),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),n.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var u,r,f,e=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove();e&&(i.append=n("<span class='"+this._appendClass+"'>"+e+"<\/span>"),t[o?"before":"after"](i.append));t.unbind("focus",this._showDatepicker);i.trigger&&i.trigger.remove();u=this._get(i,"showOn");"focus"!==u&&"both"!==u||t.focus(this._showDatepicker);"button"!==u&&"both"!==u||(r=this._get(i,"buttonText"),f=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:f,alt:r,title:r}):n("<button type='button'><\/button>").addClass(this._triggerClass).html(f?n("<img/>").attr({src:f,alt:r,title:r}):r)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput===t[0]?n.datepicker._hideDatepicker():n.datepicker._datepickerShowing&&n.datepicker._lastInput!==t[0]?(n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(t[0])):n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){if(this._get(n,"autoSize")&&!n.inline){var r,u,f,t,i=new Date(2009,11,20),e=this._get(n,"dateFormat");e.match(/[DM]/)&&(r=function(n){for(u=0,f=0,t=0;t<n.length;t++)n[t].length>u&&(u=n[t].length,f=t);return f},i.setMonth(r(this._get(n,e.match(/MM/)?"monthNames":"monthNamesShort"))),i.setDate(r(this._get(n,e.match(/DD/)?"dayNames":"dayNamesShort"))+20-i.getDay()));n.input.attr("size",this._formatDate(n,i).length)}},_inlineDatepicker:function(t,i){var r=n(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(i.dpDiv),n.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,r,f,e){var s,h,c,l,a,o=this._dialogInst;return o||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=n("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),n("body").append(this._dialogInput),o=this._dialogInst=this._newInst(this._dialogInput,!1),o.settings={},n.data(this._dialogInput[0],"datepicker",o)),u(o.settings,f||{}),i=i&&i.constructor===Date?this._formatDate(o,i):i,this._dialogInput.val(i),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,this._pos||(h=document.documentElement.clientWidth,c=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,a=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+l,c/2-150+a]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),o.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],"datepicker",o),this},_destroyDatepicker:function(t){var r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),n.removeData(t,"datepicker"),"input"===r?(f.append.remove(),f.trigger.remove(),u.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==r&&"span"!==r||u.removeClass(this.markerClassName).empty(),i===f&&(i=null))},_enableDatepicker:function(t){var i,r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||(r=u.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}))},_disableDatepicker:function(t){var i,r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||(r=u.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===n)return!0;return!1},_getInst:function(t){try{return n.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(t,i,r){var e,h,o,s,f=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?n.extend({},n.datepicker._defaults):f?"all"===i?n.extend({},f.settings):this._get(f,i):null:(e=i||{},"string"==typeof i&&(e={},e[i]=r),void(f&&(this._curInst===f&&this._hideDatepicker(),h=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(f,"min"),s=this._getMinMaxDate(f,"max"),u(f.settings,e),null!==o&&void 0!==e.dateFormat&&void 0===e.minDate&&(f.settings.minDate=this._formatDate(f,o)),null!==s&&void 0!==e.dateFormat&&void 0===e.maxDate&&(f.settings.maxDate=this._formatDate(f,s)),"disabled"in e&&(e.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(n(t),f),this._autoSize(f),this._setDate(f,h),this._updateAlternate(f),this._updateDatepicker(f))))},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){var t=this._getInst(n);t&&this._updateDatepicker(t)},_setDateDatepicker:function(n,t){var i=this._getInst(n);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(n,t){var i=this._getInst(n);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var u,e,f,i=n.datepicker._getInst(t.target),r=!0,o=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker();r=!1;break;case 13:return f=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv),f[0]&&n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,f[0]),u=n.datepicker._get(i,"onSelect"),u?(e=n.datepicker._formatDate(i),u.apply(i.input?i.input[0]:null,[e,i])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target);r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target);r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?1:-1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D");r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?-1:1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D");r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,r,u=n.datepicker._getInst(t.target);if(n.datepicker._get(u,"constrainInput"))return(i=n.datepicker._possibleChars(n.datepicker._get(u,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">r||!i||i.indexOf(r)>-1)},_doKeyUp:function(t){var r,i=n.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{r=n.datepicker.parseDate(n.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,n.datepicker._getFormatConfig(i));r&&(n.datepicker._setDateFromField(i),n.datepicker._updateAlternate(i),n.datepicker._updateDatepicker(i))}catch(u){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=n("input",t.parentNode)[0]),!n.datepicker._isDisabledDatepicker(t)&&n.datepicker._lastInput!==t){var i,o,s,r,f,e,h;i=n.datepicker._getInst(t);n.datepicker._curInst&&n.datepicker._curInst!==i&&(n.datepicker._curInst.dpDiv.stop(!0,!0),i&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0]));o=n.datepicker._get(i,"beforeShow");s=o?o.apply(t,[t,i]):{};s!==!1&&(u(i.settings,s),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),r=!1,n(t).parents().each(function(){return r|="fixed"===n(this).css("position"),!r}),f={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),f=n.datepicker._checkOffset(i,f,r),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":r?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),i.inline||(e=n.datepicker._get(i,"showAnim"),h=n.datepicker._get(i,"duration"),i.dpDiv.css("z-index",k(n(t))+1),n.datepicker._datepickerShowing=!0,n.effects&&n.effects.effect[e]?i.dpDiv.show(e,n.datepicker._get(i,"showOptions"),h):i.dpDiv[e||"show"](e?h:null),n.datepicker._shouldFocusInput(i)&&i.input.focus(),n.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4;i=t;t.dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);var r,u=this._getNumberOfMonths(t),f=u[1],e=t.dpDiv.find("."+this._dayOverClass+" a");e.length>0&&v.apply(e.get(0));t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");f>1&&t.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");t.dpDiv[(1!==u[0]||1!==u[1]?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");t===n.datepicker._curInst&&n.datepicker._datepickerShowing&&n.datepicker._shouldFocusInput(t)&&t.input.focus();t.yearshtml&&(r=t.yearshtml,setTimeout(function(){r===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);r=t.yearshtml=null},0))},_shouldFocusInput:function(n){return n.input&&n.input.is(":visible")&&!n.input.is(":disabled")&&!n.input.is(":focus")},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+(r?0:n(document).scrollLeft()),s=document.documentElement.clientHeight+(r?0:n(document).scrollTop());return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left===t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top===t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var i,r=this._getInst(t),u=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||n.expr.filters.hidden(t));)t=t[u?"previousSibling":"nextSibling"];return i=n(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var r,f,u,e,i=this._curInst;!i||t&&i!==n.data(t,"datepicker")||this._datepickerShowing&&(r=this._get(i,"showAnim"),f=this._get(i,"duration"),u=function(){n.datepicker._tidyDialog(i)},n.effects&&(n.effects.effect[r]||n.effects[r])?i.dpDiv.hide(r,n.datepicker._get(i,"showOptions"),f,u):i.dpDiv["slideDown"===r?"slideUp":"fadeIn"===r?"fadeOut":"hide"](r?f:null,u),r||u(),this._datepickerShowing=!1,e=this._get(i,"onClose"),e&&e.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(n.datepicker._curInst){var i=n(t.target),r=n.datepicker._getInst(i[0]);(i[0].id===n.datepicker._mainDivId||0!==i.parents("#"+n.datepicker._mainDivId).length||i.hasClass(n.datepicker.markerClassName)||i.closest("."+n.datepicker._triggerClass).length||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI)&&(!i.hasClass(n.datepicker.markerClassName)||n.datepicker._curInst===r)||n.datepicker._hideDatepicker()}},_adjustDate:function(t,i,r){var f=n(t),u=this._getInst(f[0]);this._isDisabledDatepicker(f[0])||(this._adjustInstDate(u,i+("M"===r?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var r,u=n(t),i=this._getInst(u[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear());this._notifyChange(i);this._adjustDate(u)},_selectMonthYear:function(t,i,r){var f=n(t),u=this._getInst(f[0]);u["selected"+("M"===r?"Month":"Year")]=u["draw"+("M"===r?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(u);this._adjustDate(f)},_selectDay:function(t,i,r,u){var f,e=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(f=this._getInst(e[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){var i=n(t);this._selectDate(i,"")},_selectDate:function(t,i){var u,f=n(t),r=this._getInst(f[0]);i=null!=i?i:this._formatDate(r);r.input&&r.input.val(i);this._updateAlternate(r);u=this._get(r,"onSelect");u?u.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change");r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,r,u,f=this._get(t,"altField");f&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),u=this.formatDate(i,r,this._getFormatConfig(t)),n(f).each(function(){n(this).val(u)}))},noWeekends:function(n){var t=n.getDay();return[t>0&&6>t,""]},iso8601Week:function(n){var i,t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(t,i,r){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;for(var a,v,u,f=0,y=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof y?y:(new Date).getFullYear()%100+parseInt(y,10),g=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,nt=(r?r.dayNames:null)||this._defaults.dayNames,tt=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,it=(r?r.monthNames:null)||this._defaults.monthNames,e=-1,s=-1,h=-1,p=-1,w=!1,l=function(n){var i=o+1<t.length&&t.charAt(o+1)===n;return i&&o++,i},c=function(n){var u=l(n),r="@"===n?14:"!"===n?20:"y"===n&&u?4:"o"===n?3:2,e="y"===n?r:1,o=new RegExp("^\\d{"+e+","+r+"}"),t=i.substring(f).match(o);if(!t)throw"Missing number at position "+f;return f+=t[0].length,parseInt(t[0],10)},k=function(t,r,u){var e=-1,o=n.map(l(t)?u:r,function(n,t){return[[t,n]]}).sort(function(n,t){return-(n[1].length-t[1].length)});if(n.each(o,function(n,t){var r=t[1];if(i.substr(f,r.length).toLowerCase()===r.toLowerCase())return(e=t[0],f+=r.length,!1)}),-1!==e)return e+1;throw"Unknown name at position "+f;},b=function(){if(i.charAt(f)!==t.charAt(o))throw"Unexpected literal at position "+f;f++},o=0;o<t.length;o++)if(w)"'"!==t.charAt(o)||l("'")?b():w=!1;else switch(t.charAt(o)){case"d":h=c("d");break;case"D":k("D",g,nt);break;case"o":p=c("o");break;case"m":s=c("m");break;case"M":s=k("M",tt,it);break;case"y":e=c("y");break;case"@":u=new Date(c("@"));e=u.getFullYear();s=u.getMonth()+1;h=u.getDate();break;case"!":u=new Date((c("!")-this._ticksTo1970)/1e4);e=u.getFullYear();s=u.getMonth()+1;h=u.getDate();break;case"'":l("'")?b():w=!0;break;default:b()}if(f<i.length&&(v=i.substr(f),!/^\s+/.test(v)))throw"Extra/unparsed characters found in date: "+v;if(-1===e?e=(new Date).getFullYear():100>e&&(e+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=e?0:-100)),p>-1)for(s=1,h=p;;){if(a=this._getDaysInMonth(e,s-1),a>=h)break;s++;h-=a}if(u=this._daylightSavingAdjust(new Date(e,s-1,h)),u.getFullYear()!==e||u.getMonth()+1!==s||u.getDate()!==h)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(n,t,i){if(!t)return"";var u,h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,f=function(t){var i=u+1<n.length&&n.charAt(u+1)===t;return i&&u++,i},e=function(n,t,i){var r=""+t;if(f(n))for(;r.length<i;)r="0"+r;return r},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;if(t)for(u=0;u<n.length;u++)if(o)"'"!==n.charAt(u)||f("'")?r+=n.charAt(u):o=!1;else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=1e4*t.getTime()+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){var r=t+1<n.length&&n.charAt(t+1)===i;return r&&t++,r},t=0;t<n.length;t++)if(r)"'"!==n.charAt(t)||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,t){return void 0!==n.settings[t]?n.settings[t]:this._defaults[t]},_setDateFromField:function(n,t){if(n.input.val()!==n.lastVal){var f=this._get(n,"dateFormat"),r=n.lastVal=n.input?n.input.val():null,u=this._getDefaultDate(n),i=u,e=this._getFormatConfig(n);try{i=this.parseDate(f,r,e)||u}catch(o){r=t?"":r}n.selectedDay=i.getDate();n.drawMonth=n.selectedMonth=i.getMonth();n.drawYear=n.selectedYear=i.getFullYear();n.currentDay=r?i.getDate():0;n.currentMonth=r?i.getMonth():0;n.currentYear=r?i.getFullYear():0;this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},e=function(i){try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(h){}for(var o=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=o.getFullYear(),e=o.getMonth(),r=o.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=7*parseInt(u[1],10);break;case"m":case"M":e+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=s.exec(i)}return new Date(f,e,r)},u=null==i||""===i?r:"string"==typeof i?e(i):"number"==typeof i?isNaN(i)?r:f(i):new Date(i.getTime());return u=u&&"Invalid Date"===u.toString()?r:u,u&&(u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)),this._daylightSavingAdjust(u)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var u=!t,f=n.selectedMonth,e=n.selectedYear,r=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=r.getDate();n.drawMonth=n.selectedMonth=n.currentMonth=r.getMonth();n.drawYear=n.selectedYear=n.currentYear=r.getFullYear();f===n.selectedMonth&&e===n.selectedYear||i||this._notifyChange(n);this._adjustInstDate(n);n.input&&n.input.val(u?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&""===n.input.val()?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_attachHandlers:function(t){var r=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){n.datepicker._adjustDate(i,-r,"M")},next:function(){n.datepicker._adjustDate(i,+r,"M")},hide:function(){n.datepicker._hideDatepicker()},today:function(){n.datepicker._gotoToday(i)},selectDay:function(){return n.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return n.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return n.datepicker._selectMonthYear(i,this,"Y"),!1}};n(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(n){var b,s,it,h,rt,k,ut,ft,ri,c,et,ui,fi,ei,oi,ot,g,si,st,nt,o,y,ht,p,ct,l,u,lt,at,vt,yt,pt,wt,i,bt,kt,d,a,tt,dt=new Date,gt=this._daylightSavingAdjust(new Date(dt.getFullYear(),dt.getMonth(),dt.getDate())),f=this._get(n,"isRTL"),li=this._get(n,"showButtonPanel"),hi=this._get(n,"hideIfNoPrevNext"),ni=this._get(n,"navigationAsDateFormat"),e=this._getNumberOfMonths(n),ai=this._get(n,"showCurrentAtPos"),ci=this._get(n,"stepMonths"),ti=1!==e[0]||1!==e[1],ii=this._daylightSavingAdjust(n.currentDay?new Date(n.currentYear,n.currentMonth,n.currentDay):new Date(9999,9,9)),w=this._getMinMaxDate(n,"min"),v=this._getMinMaxDate(n,"max"),t=n.drawMonth-ai,r=n.drawYear;if(0>t&&(t+=12,r--),v)for(b=this._daylightSavingAdjust(new Date(v.getFullYear(),v.getMonth()-e[0]*e[1]+1,v.getDate())),b=w&&w>b?w:b;this._daylightSavingAdjust(new Date(r,t,1))>b;)t--,0>t&&(t=11,r--);for(n.drawMonth=t,n.drawYear=r,s=this._get(n,"prevText"),s=ni?this.formatDate(s,this._daylightSavingAdjust(new Date(r,t-ci,1)),this._getFormatConfig(n)):s,it=this._canAdjustMonth(n,-1,r,t)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"e":"w")+"'>"+s+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"e":"w")+"'>"+s+"<\/span><\/a>",h=this._get(n,"nextText"),h=ni?this.formatDate(h,this._daylightSavingAdjust(new Date(r,t+ci,1)),this._getFormatConfig(n)):h,rt=this._canAdjustMonth(n,1,r,t)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"w":"e")+"'>"+h+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"w":"e")+"'>"+h+"<\/span><\/a>",k=this._get(n,"currentText"),ut=this._get(n,"gotoCurrent")&&n.currentDay?ii:gt,k=ni?this.formatDate(k,ut,this._getFormatConfig(n)):k,ft=n.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(n,"closeText")+"<\/button>",ri=li?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(f?ft:"")+(this._isInRange(n,ut)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+k+"<\/button>":"")+(f?"":ft)+"<\/div>":"",c=parseInt(this._get(n,"firstDay"),10),c=isNaN(c)?0:c,et=this._get(n,"showWeek"),ui=this._get(n,"dayNames"),fi=this._get(n,"dayNamesMin"),ei=this._get(n,"monthNames"),oi=this._get(n,"monthNamesShort"),ot=this._get(n,"beforeShowDay"),g=this._get(n,"showOtherMonths"),si=this._get(n,"selectOtherMonths"),st=this._getDefaultDate(n),nt="",y=0;y<e[0];y++){for(ht="",this.maxRows=4,p=0;p<e[1];p++){if(ct=this._daylightSavingAdjust(new Date(r,t,n.selectedDay)),l=" ui-corner-all",u="",ti){if(u+="<div class='ui-datepicker-group",e[1]>1)switch(p){case 0:u+=" ui-datepicker-group-first";l=" ui-corner-"+(f?"right":"left");break;case e[1]-1:u+=" ui-datepicker-group-last";l=" ui-corner-"+(f?"left":"right");break;default:u+=" ui-datepicker-group-middle";l=""}u+="'>"}for(u+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+l+"'>"+(/all|left/.test(l)&&0===y?f?rt:it:"")+(/all|right/.test(l)&&0===y?f?it:rt:"")+this._generateMonthYearHeader(n,t,r,w,v,y>0||p>0,ei,oi)+"<\/div><table class='ui-datepicker-calendar'><thead><tr>",lt=et?"<th class='ui-datepicker-week-col'>"+this._get(n,"weekHeader")+"<\/th>":"",o=0;7>o;o++)at=(o+c)%7,lt+="<th scope='col'"+((o+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ui[at]+"'>"+fi[at]+"<\/span><\/th>";for(u+=lt+"<\/tr><\/thead><tbody>",vt=this._getDaysInMonth(r,t),r===n.selectedYear&&t===n.selectedMonth&&(n.selectedDay=Math.min(n.selectedDay,vt)),yt=(this._getFirstDayOfMonth(r,t)-c+7)%7,pt=Math.ceil((yt+vt)/7),wt=ti&&this.maxRows>pt?this.maxRows:pt,this.maxRows=wt,i=this._daylightSavingAdjust(new Date(r,t,1-yt)),bt=0;wt>bt;bt++){for(u+="<tr>",kt=et?"<td class='ui-datepicker-week-col'>"+this._get(n,"calculateWeek")(i)+"<\/td>":"",o=0;7>o;o++)d=ot?ot.apply(n.input?n.input[0]:null,[i]):[!0,""],a=i.getMonth()!==t,tt=a&&!si||!d[0]||w&&w>i||v&&i>v,kt+="<td class='"+((o+c+6)%7>=5?" ui-datepicker-week-end":"")+(a?" ui-datepicker-other-month":"")+(i.getTime()===ct.getTime()&&t===n.selectedMonth&&n._keyEvent||st.getTime()===i.getTime()&&st.getTime()===ct.getTime()?" "+this._dayOverClass:"")+(tt?" "+this._unselectableClass+" ui-state-disabled":"")+(a&&!g?"":" "+d[1]+(i.getTime()===ii.getTime()?" "+this._currentClass:"")+(i.getTime()===gt.getTime()?" ui-datepicker-today":""))+"'"+(a&&!g||!d[2]?"":" title='"+d[2].replace(/'/g,"&#39;")+"'")+(tt?"":" data-handler='selectDay' data-event='click' data-month='"+i.getMonth()+"' data-year='"+i.getFullYear()+"'")+">"+(a&&!g?"&#xa0;":tt?"<span class='ui-state-default'>"+i.getDate()+"<\/span>":"<a class='ui-state-default"+(i.getTime()===gt.getTime()?" ui-state-highlight":"")+(i.getTime()===ii.getTime()?" ui-state-active":"")+(a?" ui-priority-secondary":"")+"' href='#'>"+i.getDate()+"<\/a>")+"<\/td>",i.setDate(i.getDate()+1),i=this._daylightSavingAdjust(i);u+=kt+"<\/tr>"}t++;t>11&&(t=0,r++);u+="<\/tbody><\/table>"+(ti?"<\/div>"+(e[0]>0&&p===e[1]-1?"<div class='ui-datepicker-row-break'><\/div>":""):"");ht+=u}nt+=ht}return nt+=ri,n._keyEvent=!1,nt},_generateMonthYearHeader:function(n,t,i,r,u,f,e,o){var k,d,h,v,y,p,s,a,w=this._get(n,"changeMonth"),b=this._get(n,"changeYear"),g=this._get(n,"showMonthAfterYear"),c="<div class='ui-datepicker-title'>",l="";if(f||!w)l+="<span class='ui-datepicker-month'>"+e[t]+"<\/span>";else{for(k=r&&r.getFullYear()===i,d=u&&u.getFullYear()===i,l+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!k||h>=r.getMonth())&&(!d||h<=u.getMonth())&&(l+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"<\/option>");l+="<\/select>"}if(g||(c+=l+(!f&&w&&b?"":"&#xa0;")),!n.yearshtml)if(n.yearshtml="",f||!b)c+="<span class='ui-datepicker-year'>"+i+"<\/span>";else{for(v=this._get(n,"yearRange").split(":"),y=(new Date).getFullYear(),p=function(n){var t=n.match(/c[+\-].*/)?i+parseInt(n.substring(1),10):n.match(/[+\-].*/)?y+parseInt(n,10):parseInt(n,10);return isNaN(t)?y:t},s=p(v[0]),a=Math.max(s,p(v[1]||"")),s=r?Math.max(s,r.getFullYear()):s,a=u?Math.min(a,u.getFullYear()):a,n.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";a>=s;s++)n.yearshtml+="<option value='"+s+"'"+(s===i?" selected='selected'":"")+">"+s+"<\/option>";n.yearshtml+="<\/select>";c+=n.yearshtml;n.yearshtml=null}return c+=this._get(n,"yearSuffix"),g&&(c+=(!f&&w&&b?"":"&#xa0;")+l),c+"<\/div>"},_adjustInstDate:function(n,t,i){var u=n.drawYear+("Y"===i?t:0),f=n.drawMonth+("M"===i?t:0),e=Math.min(n.selectedDay,this._getDaysInMonth(u,f))+("D"===i?t:0),r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(u,f,e)));n.selectedDay=r.getDate();n.drawMonth=n.selectedMonth=r.getMonth();n.drawYear=n.selectedYear=r.getFullYear();"M"!==i&&"Y"!==i||this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min"),r=this._getMinMaxDate(n,"max"),u=i&&i>t?i:t;return r&&u>r?r:u},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){var t=this._get(n,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var f=this._getNumberOfMonths(n),u=this._daylightSavingAdjust(new Date(i,r+(0>t?t:f[0]*f[1]),1));return 0>t&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(n,u)},_isInRange:function(n,t){var i,f,e=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max"),r=null,u=null,s=this._get(n,"yearRange");return s&&(i=s.split(":"),f=(new Date).getFullYear(),r=parseInt(i[0],10),u=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=f),i[1].match(/[+\-].*/)&&(u+=f)),(!e||t.getTime()>=e.getTime())&&(!o||t.getTime()<=o.getTime())&&(!r||t.getFullYear()>=r)&&(!u||t.getFullYear()<=u)},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear);var u=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay));return this.formatDate(this._get(n,"dateFormat"),u,this._getFormatConfig(n))}});n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).mousedown(n.datepicker._checkExternalClick),n.datepicker.initialized=!0);0===n("#"+n.datepicker._mainDivId).length&&n("body").append(n.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)}):n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i))};n.datepicker=new l;n.datepicker.initialized=!1;n.datepicker.uuid=(new Date).getTime();n.datepicker.version="1.11.4";n.datepicker;n.widget("ui.draggable",n.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._setHandleClassName();this._mouseInit()},_setOption:function(n,t){this._super(n,t);"handle"===n&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||n(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=n(this);return n("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&n(i.activeElement).blur()}catch(r){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===n(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(n){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:n.pageX-this.offset.left,top:n.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var r=this,i=!1;return n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!n(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var r=this.options,u=n.isFunction(r.helper),i=u?n(r.helper.apply(this.element[0],[t])):"clone"===r.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===r.appendTo?this.element[0].parentNode:r.appendTo),u&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(n){return/(html|body)/i.test(n.tagName)||n===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var n=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:n.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,t,i,r=this.options,u=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,n(window).scrollLeft()+n(window).width()-this.helperProportions.width-this.margins.left,n(window).scrollTop()+(n(window).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,n(u).width()-this.helperProportions.width-this.margins.left,(n(u).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),t=n(r.containment),i=t[0],void(i&&(f=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(f?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t))):void(this.containment=null)},_convertPositionTo:function(n,t){t||(t=this.position);var i="absolute"===n?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*i}},_generatePosition:function(n,t){var i,s,u,f,r=this.options,h=this._isRootNode(this.scrollParent[0]),e=n.pageX,o=n.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,n.pageX-this.offset.click.left<i[0]&&(e=i[0]+this.offset.click.left),n.pageY-this.offset.click.top<i[1]&&(o=i[1]+this.offset.click.top),n.pageX-this.offset.click.left>i[2]&&(e=i[2]+this.offset.click.left),n.pageY-this.offset.click.top>i[3]&&(o=i[3]+this.offset.click.top)),r.grid&&(u=r.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,o=i?u-this.offset.click.top>=i[1]||u-this.offset.click.top>i[3]?u:u-this.offset.click.top>=i[1]?u-r.grid[1]:u+r.grid[1]:u,f=r.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,e=i?f-this.offset.click.left>=i[0]||f-this.offset.click.left>i[2]?f:f-this.offset.click.left>=i[0]?f-r.grid[0]:f+r.grid[0]:f),"y"===r.axis&&(e=this.originalPageX),"x"===r.axis&&(o=this.originalPageY)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto"));"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,r){var u=n.extend({},i,{item:r.element});r.sortables=[];n(r.options.connectToSortable).each(function(){var i=n(this).sortable("instance");i&&!i.options.disabled&&(r.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,u))})},stop:function(t,i,r){var u=n.extend({},i,{item:r.element});r.cancelHelperRemoval=!1;n.each(r.sortables,function(){var n=this;n.isOver?(n.isOver=0,r.cancelHelperRemoval=!0,n.cancelHelperRemoval=!1,n._storedCSS={position:n.placeholder.css("position"),top:n.placeholder.css("top"),left:n.placeholder.css("left")},n._mouseStop(t),n.options.helper=n.options._helper):(n.cancelHelperRemoval=!0,n._trigger("deactivate",t,u))})},drag:function(t,i,r){n.each(r.sortables,function(){var f=!1,u=this;u.positionAbs=r.positionAbs;u.helperProportions=r.helperProportions;u.offset.click=r.offset.click;u._intersectsWith(u.containerCache)&&(f=!0,n.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==u&&this._intersectsWith(this.containerCache)&&n.contains(u.element[0],this.element[0])&&(f=!1),f}));f?(u.isOver||(u.isOver=1,r._parent=i.helper.parent(),u.currentItem=i.helper.appendTo(u.element).data("ui-sortable-item",!0),u.options._helper=u.options.helper,u.options.helper=function(){return i.helper[0]},t.target=u.currentItem[0],u._mouseCapture(t,!0),u._mouseStart(t,!0,!0),u.offset.click.top=r.offset.click.top,u.offset.click.left=r.offset.click.left,u.offset.parent.left-=r.offset.parent.left-u.offset.parent.left,u.offset.parent.top-=r.offset.parent.top-u.offset.parent.top,r._trigger("toSortable",t),r.dropped=u.element,n.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,u.fromOutside=r),u.currentItem&&(u._mouseDrag(t),i.position=u.position)):u.isOver&&(u.isOver=0,u.cancelHelperRemoval=!0,u.options._revert=u.options.revert,u.options.revert=!1,u._trigger("out",t,u._uiHash(u)),u._mouseStop(t,!0),u.options.revert=u.options._revert,u.options.helper=u.options._helper,u.placeholder&&u.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(t),i.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,n.each(r.sortables,function(){this.refreshPositions()}))})}});n.ui.plugin.add("draggable","cursor",{start:function(t,i,r){var u=n("body"),f=r.options;u.css("cursor")&&(f._cursor=u.css("cursor"));u.css("cursor",f.cursor)},stop:function(t,i,r){var u=r.options;u._cursor&&n("body").css("cursor",u._cursor)}});n.ui.plugin.add("draggable","opacity",{start:function(t,i,r){var u=n(i.helper),f=r.options;u.css("opacity")&&(f._opacity=u.css("opacity"));u.css("opacity",f.opacity)},stop:function(t,i,r){var u=r.options;u._opacity&&n(i.helper).css("opacity",u._opacity)}});n.ui.plugin.add("draggable","scroll",{start:function(n,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1));i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,r){var u=r.options,o=!1,e=r.scrollParentNotHidden[0],f=r.document[0];e!==f&&"HTML"!==e.tagName?(u.axis&&"x"===u.axis||(r.overflowOffset.top+e.offsetHeight-t.pageY<u.scrollSensitivity?e.scrollTop=o=e.scrollTop+u.scrollSpeed:t.pageY-r.overflowOffset.top<u.scrollSensitivity&&(e.scrollTop=o=e.scrollTop-u.scrollSpeed)),u.axis&&"y"===u.axis||(r.overflowOffset.left+e.offsetWidth-t.pageX<u.scrollSensitivity?e.scrollLeft=o=e.scrollLeft+u.scrollSpeed:t.pageX-r.overflowOffset.left<u.scrollSensitivity&&(e.scrollLeft=o=e.scrollLeft-u.scrollSpeed))):(u.axis&&"x"===u.axis||(t.pageY-n(f).scrollTop()<u.scrollSensitivity?o=n(f).scrollTop(n(f).scrollTop()-u.scrollSpeed):n(window).height()-(t.pageY-n(f).scrollTop())<u.scrollSensitivity&&(o=n(f).scrollTop(n(f).scrollTop()+u.scrollSpeed))),u.axis&&"y"===u.axis||(t.pageX-n(f).scrollLeft()<u.scrollSensitivity?o=n(f).scrollLeft(n(f).scrollLeft()-u.scrollSpeed):n(window).width()-(t.pageX-n(f).scrollLeft())<u.scrollSensitivity&&(o=n(f).scrollLeft(n(f).scrollLeft()+u.scrollSpeed))));o!==!1&&n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}});n.ui.plugin.add("draggable","snap",{start:function(t,i,r){var u=r.options;r.snapElements=[];n(u.snap.constructor!==String?u.snap.items||":data(ui-draggable)":u.snap).each(function(){var t=n(this),i=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,r){for(var e,o,s,h,c,a,l,v,w,b=r.options,f=b.snapTolerance,y=i.offset.left,k=y+r.helperProportions.width,p=i.offset.top,d=p+r.helperProportions.height,u=r.snapElements.length-1;u>=0;u--)c=r.snapElements[u].left-r.margins.left,a=c+r.snapElements[u].width,l=r.snapElements[u].top-r.margins.top,v=l+r.snapElements[u].height,c-f>k||y>a+f||l-f>d||p>v+f||!n.contains(r.snapElements[u].item.ownerDocument,r.snapElements[u].item)?(r.snapElements[u].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=!1):("inner"!==b.snapMode&&(e=Math.abs(l-d)<=f,o=Math.abs(v-p)<=f,s=Math.abs(c-k)<=f,h=Math.abs(a-y)<=f,e&&(i.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top),o&&(i.position.top=r._convertPositionTo("relative",{top:v,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a}).left)),w=e||o||s||h,"outer"!==b.snapMode&&(e=Math.abs(l-p)<=f,o=Math.abs(v-d)<=f,s=Math.abs(c-y)<=f,h=Math.abs(a-k)<=f,e&&(i.position.top=r._convertPositionTo("relative",{top:l,left:0}).top),o&&(i.position.top=r._convertPositionTo("relative",{top:v-r.helperProportions.height,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c}).left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left)),!r.snapElements[u].snapping&&(e||o||s||h||w)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=e||o||s||h||w)}});n.ui.plugin.add("draggable","stack",{start:function(t,i,r){var f,e=r.options,u=n.makeArray(n(e.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)});u.length&&(f=parseInt(n(u[0]).css("zIndex"),10)||0,n(u).each(function(t){n(this).css("zIndex",f+t)}),this.css("zIndex",f+u.length))}});n.ui.plugin.add("draggable","zIndex",{start:function(t,i,r){var u=n(i.helper),f=r.options;u.css("zIndex")&&(f._zIndex=u.css("zIndex"));u.css("zIndex",f.zIndex)},stop:function(t,i,r){var u=r.options;u._zIndex&&n(i.helper).css("zIndex",u._zIndex)}});n.ui.draggable;n.widget("ui.resizable",n.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(n){return parseInt(n,10)||0},_isNumber:function(n){return!isNaN(parseInt(n,10))},_hasScroll:function(t,i){if("hidden"===n(t).css("overflow"))return!1;var r=i&&"left"===i?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)},_create:function(){var e,f,u,i,o,r=this,t=this.options;if(this.element.addClass("ui-resizable"),n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=n(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},f=0;f<e.length;f++)u=n.trim(e[f]),o="ui-resizable-"+u,i=n("<div class='ui-resizable-handle "+o+"'><\/div>"),i.css({zIndex:t.zIndex}),"se"===u&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[u]=".ui-resizable-"+u,this.element.append(i);this._renderAxis=function(t){var i,u,f,e;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=n(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(u=n(this.handles[i],this.element),e=/sw|ne|nw|se|n|s/.test(i)?u.outerHeight():u.outerWidth(),f=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(f,e),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.mouseover(function(){r.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=i&&i[1]?i[1]:"se")});t.autoHide&&(this._handles.hide(),n(this.element).addClass("ui-resizable-autohide").mouseenter(function(){t.disabled||(n(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){t.disabled||r.resizing||(n(this).addClass("ui-resizable-autohide"),r._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var r,i,u=!1;for(r in this.handles)i=n(this.handles[r])[0],(i===t.target||n.contains(i,t.target))&&(u=!0);return!this.options.disabled&&u},_mouseStart:function(t){var u,f,e,r=this.options,i=this.element;return this.resizing=!0,this._renderProxy(),u=this._num(this.helper.css("left")),f=this._num(this.helper.css("top")),r.containment&&(u+=n(r.containment).scrollLeft()||0,f+=n(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:u,top:f},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalPosition={left:u,top:f},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,e=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor","auto"===e?this.axis+"-resize":e),i.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,r,u=this.originalMousePosition,e=this.axis,o=t.pageX-u.left||0,s=t.pageY-u.top||0,f=this._change[e];return this._updatePrevProperties(),f?(i=f.apply(this,[t,o,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),n.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var r,u,f,e,o,s,h,c=this.options,i=this;return this._helper&&(r=this._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),f=u&&this._hasScroll(r[0],"left")?0:i.sizeDiff.height,e=u?0:i.sizeDiff.width,o={width:i.helper.width()-e,height:i.helper.height()-f},s=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null,c.animate||this.element.css(n.extend(o,{top:h,left:s})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!c.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var n={};return this.position.top!==this.prevPosition.top&&(n.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(n.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(n.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(n.height=this.size.height+"px"),this.helper.css(n),n},_updateVirtualBoundaries:function(n){var r,u,f,e,t,i=this.options;t={minWidth:this._isNumber(i.minWidth)?i.minWidth:0,maxWidth:this._isNumber(i.maxWidth)?i.maxWidth:1/0,minHeight:this._isNumber(i.minHeight)?i.minHeight:0,maxHeight:this._isNumber(i.maxHeight)?i.maxHeight:1/0};(this._aspectRatio||n)&&(r=t.minHeight*this.aspectRatio,f=t.minWidth/this.aspectRatio,u=t.maxHeight*this.aspectRatio,e=t.maxWidth/this.aspectRatio,r>t.minWidth&&(t.minWidth=r),f>t.minHeight&&(t.minHeight=f),u<t.maxWidth&&(t.maxWidth=u),e<t.maxHeight&&(t.maxHeight=e));this._vBoundaries=t},_updateCache:function(n){this.offset=this.helper.offset();this._isNumber(n.left)&&(this.position.left=n.left);this._isNumber(n.top)&&(this.position.top=n.top);this._isNumber(n.height)&&(this.size.height=n.height);this._isNumber(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var t=this.position,i=this.size,r=this.axis;return this._isNumber(n.height)?n.width=n.height*this.aspectRatio:this._isNumber(n.width)&&(n.height=n.width/this.aspectRatio),"sw"===r&&(n.left=t.left+(i.width-n.width),n.top=null),"nw"===r&&(n.top=t.top+(i.height-n.height),n.left=t.left+(i.width-n.width)),n},_respectSize:function(n){var t=this._vBoundaries,i=this.axis,r=this._isNumber(n.width)&&t.maxWidth&&t.maxWidth<n.width,u=this._isNumber(n.height)&&t.maxHeight&&t.maxHeight<n.height,f=this._isNumber(n.width)&&t.minWidth&&t.minWidth>n.width,e=this._isNumber(n.height)&&t.minHeight&&t.minHeight>n.height,o=this.originalPosition.left+this.originalSize.width,s=this.position.top+this.size.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return f&&(n.width=t.minWidth),e&&(n.height=t.minHeight),r&&(n.width=t.maxWidth),u&&(n.height=t.maxHeight),f&&h&&(n.left=o-t.minWidth),r&&h&&(n.left=o-t.maxWidth),e&&c&&(n.top=s-t.minHeight),u&&c&&(n.top=s-t.maxHeight),n.width||n.height||n.left||!n.top?n.width||n.height||n.top||!n.left||(n.left=null):n.top=null,n},_getPaddingPlusBorderDimensions:function(n){for(var t=0,i=[],r=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],u=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];4>t;t++)i[t]=parseInt(r[t],10)||0,i[t]+=parseInt(u[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var n,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)n=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(n)),n.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset();this._helper?(this.helper=this.helper||n("<div style='overflow:hidden;'><\/div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){var i=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:i.width-t}},n:function(n,t,i){var r=this.originalSize,u=this.originalPosition;return{top:u.top+i,height:r.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]);"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).resizable("instance"),u=i.options,r=i._proportionallyResizeElements,f=r.length&&/textarea/i.test(r[0].nodeName),s=f&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,h=f?0:i.sizeDiff.width,c={width:i.size.width-h,height:i.size.height-s},e=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,o=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(c,o&&e?{top:o,left:e}:{}),{duration:u.animateDuration,easing:u.animateEasing,step:function(){var u={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&n(r[0]).css({width:u.width,height:u.height});i._updateCache(u);i._propagate("resize",t)}})}});n.ui.plugin.add("resizable","containment",{start:function(){var r,f,e,o,s,h,c,t=n(this).resizable("instance"),l=t.options,a=t.element,u=l.containment,i=u instanceof n?u.get(0):/parent/.test(u)?a.parent().get(0):u;i&&(t.containerElement=n(i),/document/.test(u)||u===document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(r=n(i),f=[],n(["Top","Right","Left","Bottom"]).each(function(n,i){f[n]=t._num(r.css("padding"+i))}),t.containerOffset=r.offset(),t.containerPosition=r.position(),t.containerSize={height:r.innerHeight()-f[3],width:r.innerWidth()-f[1]},e=t.containerOffset,o=t.containerSize.height,s=t.containerSize.width,h=t._hasScroll(i,"left")?i.scrollWidth:s,c=t._hasScroll(i)?i.scrollHeight:o,t.parentData={element:i,left:e.left,top:e.top,width:h,height:c}))},resize:function(t){var o,s,h,c,i=n(this).resizable("instance"),v=i.options,r=i.containerOffset,l=i.position,f=i._aspectRatio||t.shiftKey,e={top:0,left:0},a=i.containerElement,u=!0;a[0]!==document&&/static/.test(a.css("position"))&&(e=r);l.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-e.left),f&&(i.size.height=i.size.width/i.aspectRatio,u=!1),i.position.left=v.helper?r.left:0);l.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),f&&(i.size.width=i.size.height*i.aspectRatio,u=!1),i.position.top=i._helper?r.top:0);h=i.containerElement.get(0)===i.element.parent().get(0);c=/relative|absolute/.test(i.containerElement.css("position"));h&&c?(i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top):(i.offset.left=i.element.offset().left,i.offset.top=i.element.offset().top);o=Math.abs(i.sizeDiff.width+(i._helper?i.offset.left-e.left:i.offset.left-r.left));s=Math.abs(i.sizeDiff.height+(i._helper?i.offset.top-e.top:i.offset.top-r.top));o+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-o,f&&(i.size.height=i.size.width/i.aspectRatio,u=!1));s+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-s,f&&(i.size.width=i.size.height*i.aspectRatio,u=!1));u||(i.position.left=i.prevPosition.left,i.position.top=i.prevPosition.top,i.size.width=i.prevSize.width,i.size.height=i.prevSize.height)},stop:function(){var t=n(this).resizable("instance"),r=t.options,u=t.containerOffset,f=t.containerPosition,e=t.containerElement,i=n(t.helper),o=i.offset(),s=i.outerWidth()-t.sizeDiff.width,h=i.outerHeight()-t.sizeDiff.height;t._helper&&!r.animate&&/relative/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h});t._helper&&!r.animate&&/static/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h})}});n.ui.plugin.add("resizable","alsoResize",{start:function(){var t=n(this).resizable("instance"),i=t.options;n(i.alsoResize).each(function(){var t=n(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var r=n(this).resizable("instance"),e=r.options,u=r.originalSize,f=r.originalPosition,o={height:r.size.height-u.height||0,width:r.size.width-u.width||0,top:r.position.top-f.top||0,left:r.position.left-f.left||0};n(e.alsoResize).each(function(){var t=n(this),u=n(this).data("ui-resizable-alsoresize"),r={},f=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(f,function(n,t){var i=(u[t]||0)+(o[t]||0);i&&i>=0&&(r[t]=i||null)});t.css(r)})},stop:function(){n(this).removeData("resizable-alsoresize")}});n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).resizable("instance"),i=t.options,r=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:"");t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});n.ui.plugin.add("resizable","grid",{resize:function(){var h,t=n(this).resizable("instance"),i=t.options,y=t.size,o=t.originalSize,s=t.originalPosition,c=t.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,f=l[0]||1,e=l[1]||1,a=Math.round((y.width-o.width)/f)*f,v=Math.round((y.height-o.height)/e)*e,r=o.width+a,u=o.height+v,p=i.maxWidth&&i.maxWidth<r,w=i.maxHeight&&i.maxHeight<u,b=i.minWidth&&i.minWidth>r,k=i.minHeight&&i.minHeight>u;i.grid=l;b&&(r+=f);k&&(u+=e);p&&(r-=f);w&&(u-=e);/^(se|s|e)$/.test(c)?(t.size.width=r,t.size.height=u):/^(ne)$/.test(c)?(t.size.width=r,t.size.height=u,t.position.top=s.top-v):/^(sw)$/.test(c)?(t.size.width=r,t.size.height=u,t.position.left=s.left-a):((0>=u-e||0>=r-f)&&(h=t._getPaddingPlusBorderDimensions(this)),u-e>0?(t.size.height=u,t.position.top=s.top-v):(u=e-h.height,t.size.height=u,t.position.top=s.top+o.height-u),r-f>0?(t.size.width=r,t.position.left=s.left-a):(r=f-h.width,t.size.width=r,t.position.left=s.left+o.width-r))}});n.ui.resizable;n.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=n(this).css(t).offset().top;0>i&&n(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&n.fn.draggable&&this._makeDraggable();this.options.resizable&&n.fn.resizable&&this._makeResizable();this._isOpen=!1;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?n(t):this.document.find(t||"body").eq(0)},_destroy:function(){var n,t=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);n=t.parent.children().eq(t.index);n.length&&n[0]!==this.element[0]?n.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:n.noop,enable:n.noop,close:function(t){var i,r=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement;i&&"body"!==i.nodeName.toLowerCase()&&n(i).blur()}catch(u){}this._hide(this.uiDialog,this.options.hide,function(){r._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var r=!1,f=this.uiDialog.siblings(".ui-front:visible").map(function(){return+n(this).css("z-index")}).get(),u=Math.max.apply(null,f);return u>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",u+1),r=!0),r&&!i&&this._trigger("focus",t),r},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=n(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable();t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var n=this._focusedElement;n||(n=this.element.find("[autofocus]"));n.length||(n=this.element.find(":tabbable"));n.length||(n=this.uiDialogButtonPane.find(":tabbable"));n.length||(n=this.uiDialogTitlebarClose.filter(":tabbable"));n.length||(n=this.uiDialog);n.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||n.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault();i.call(this);this._delay(i)},_createWrapper:function(){this.uiDialog=n("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===n.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===n.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),r=i.filter(":first"),u=i.filter(":last");t.target!==u[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){u.focus()}),t.preventDefault()):(this._delay(function(){r.focus()}),t.preventDefault())}},mousedown:function(n){this._moveToTop(n)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=n("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(t){n(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=n("<button type='button'><\/button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(n){n.preventDefault();this.close(n)}});t=n("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(t);this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(n){this.options.title||n.html("&#160;");n.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=n("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=n("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var i=this,t=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),n.isEmptyObject(t)||n.isArray(t)&&!t.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(n.each(t,function(t,r){var u,f;r=n.isFunction(r)?{click:r,text:t}:r;r=n.extend({type:"button"},r);u=r.click;r.click=function(){u.apply(i.element[0],arguments)};f={icons:r.icons,text:r.showText};delete r.icons;delete r.showText;n("<button><\/button>",r).button(f).appendTo(i.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,u){n(this).addClass("ui-dialog-dragging");t._blockFrames();t._trigger("dragStart",r,i(u))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(u,f){var e=f.offset.left-t.document.scrollLeft(),o=f.offset.top-t.document.scrollTop();r.position={my:"left top",at:"left"+(e>=0?"+":"")+e+" top"+(o>=0?"+":"")+o,of:t.window};n(this).removeClass("ui-dialog-dragging");t._unblockFrames();t._trigger("dragStop",u,i(f))}})},_makeResizable:function(){function r(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}var t=this,i=this.options,u=i.resizable,f=this.uiDialog.css("position"),e="string"==typeof u?u:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:e,start:function(i,u){n(this).addClass("ui-dialog-resizing");t._blockFrames();t._trigger("resizeStart",i,r(u))},resize:function(n,i){t._trigger("resize",n,r(i))},stop:function(u,f){var e=t.uiDialog.offset(),o=e.left-t.document.scrollLeft(),s=e.top-t.document.scrollTop();i.height=t.uiDialog.height();i.width=t.uiDialog.width();i.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(s>=0?"+":"")+s,of:t.window};n(this).removeClass("ui-dialog-resizing");t._unblockFrames();t._trigger("resizeStop",u,r(f))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget();this._focusedElement=n(t.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=n.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var n=this.document.data("ui-dialog-instances");return n||(n=[],this.document.data("ui-dialog-instances",n)),n},_minHeight:function(){var n=this.options;return"auto"===n.height?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(){var n=this.uiDialog.is(":visible");n||this.uiDialog.show();this.uiDialog.position(this.options.position);n||this.uiDialog.hide()},_setOptions:function(t){var i=this,r=!1,u={};n.each(t,function(n,t){i._setOption(n,t);n in i.sizeRelatedOptions&&(r=!0);n in i.resizableRelatedOptions&&(u[n]=t)});r&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",u)},_setOption:function(n,t){var u,r,i=this.uiDialog;"dialogClass"===n&&i.removeClass(this.options.dialogClass).addClass(t);"disabled"!==n&&(this._super(n,t),"appendTo"===n&&this.uiDialog.appendTo(this._appendTo()),"buttons"===n&&this._createButtons(),"closeText"===n&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===n&&(u=i.is(":data(ui-draggable)"),u&&!t&&i.draggable("destroy"),!u&&t&&this._makeDraggable()),"position"===n&&this._position(),"resizable"===n&&(r=i.is(":data(ui-resizable)"),r&&!t&&i.resizable("destroy"),r&&"string"==typeof t&&i.resizable("option","handles",t),r||t===!1||this._makeResizable()),"title"===n&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,i,r,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});n.minWidth>n.width&&(n.width=n.minWidth);t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight();i=Math.max(0,n.minHeight-t);r="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none";"auto"===n.height?this.element.css({minHeight:i,maxHeight:r,height:"auto"}):this.element.height(Math.max(0,n.height-t));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=n(this);return n("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return n(t.target).closest(".ui-dialog").length?!0:!!n(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(n){t||this._allowInteraction(n)||(n.preventDefault(),this._trackingInstances()[0]._focusTabbable())}});this.overlay=n("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var n=this.document.data("ui-dialog-overlays")-1;n?this.document.data("ui-dialog-overlays",n):this.document.unbind("focusin").removeData("ui-dialog-overlays");this.overlay.remove();this.overlay=null}}});n.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,r=i.accept;this.isover=!1;this.isout=!0;this.accept=n.isFunction(r)?r:function(n){return n.is(r)};this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(i.scope);i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){n.ui.ddmanager.droppables[t]=n.ui.ddmanager.droppables[t]||[];n.ui.ddmanager.droppables[t].push(this)},_splice:function(n){for(var t=0;t<n.length;t++)n[t]===this&&n.splice(t,1)},_destroy:function(){var t=n.ui.ddmanager.droppables[this.options.scope];this._splice(t);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=n.isFunction(i)?i:function(n){return n.is(i)};else if("scope"===t){var r=n.ui.ddmanager.droppables[this.options.scope];this._splice(r);this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u=!1;return r&&(r.currentItem||r.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=n(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===r.options.scope&&i.accept.call(i.element[0],r.currentItem||r.element)&&n.ui.intersect(r,n.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return(u=!0,!1)}),u?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1):!1},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}}});n.ui.intersect=function(){function n(n,t,i){return n>=t&&t+i>n}return function(t,i,r,u){if(!i.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,h=o+t.helperProportions.width,c=s+t.helperProportions.height,f=i.offset.left,e=i.offset.top,l=f+i.proportions().width,a=e+i.proportions().height;switch(r){case"fit":return o>=f&&l>=h&&s>=e&&a>=c;case"intersect":return f<o+t.helperProportions.width/2&&h-t.helperProportions.width/2<l&&e<s+t.helperProportions.height/2&&c-t.helperProportions.height/2<a;case"pointer":return n(u.pageY,e,i.proportions().height)&&n(u.pageX,f,i.proportions().width);case"touch":return(s>=e&&a>=s||c>=e&&a>=c||e>s&&c>a)&&(o>=f&&l>=o||h>=f&&l>=h||f>o&&h>l);default:return!1}}}();n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var r,f,u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();n:for(r=0;r<u.length;r++)if(!(u[r].options.disabled||t&&!u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;f<e.length;f++)if(e[f]===u[r].element[0]){u[r].proportions().height=0;continue n}u[r].visible="none"!==u[r].element.css("display");u[r].visible&&("mousedown"===o&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions({width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight}))}},drop:function(t,i){var r=!1;return n.each((n.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(t,this,this.options.tolerance,i)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i);n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,e,f,o=n.ui.intersect(t,this,this.options.tolerance,i),u=!o&&this.isover?"isout":o&&!this.isover?"isover":null;u&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return n(this).droppable("instance").options.scope===e}),f.length&&(r=n(f[0]).droppable("instance"),r.greedyChild="isover"===u)),r&&"isover"===u&&(r.isover=!1,r.isout=!0,r._out.call(r,i)),this[u]=!0,this["isout"===u?"isover":"isout"]=!1,this["isover"===u?"_over":"_out"].call(this,i),r&&"isout"===u&&(r.isout=!1,r.isover=!0,r._over.call(r,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable");t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)}};o=(n.ui.droppable,"ui-effects-");s=n;n.effects={effect:{}},function(n,t){function f(n,t,i){var r=h[t.type]||{};return null==n?i||!t.def?null:t.def:(n=r.floor?~~n:parseFloat(n),isNaN(n)?t.def:r.mod?(n+r.mod)%r.mod:0>n?0:r.max<n?r.max:n)}function s(t){var f=i(),o=f._rgba=[];return t=t.toLowerCase(),r(v,function(n,i){var r,s=i.re.exec(t),h=s&&i.parse(s),e=i.space||"rgba";if(h)return(r=f[e](h),f[u[e].cache]=r[u[e].cache],o=f._rgba=r._rgba,!1)}),o.length?("0,0,0,0"===o.join()&&n.extend(o,e.transparent),f):e[t]}function o(n,t,i){return i=(i+1)%1,1>6*i?n+(t-n)*i*6:1>2*i?t:2>3*i?n+(t-n)*(2/3-i)*6:n}var e,a=/^([\-+])=\s*(\d+\.?\d*)/,v=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1],n[2],n[3],n[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[2.55*n[1],2.55*n[2],2.55*n[3],n[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(n){return[n[1],n[2]/100,n[3]/100,n[4]]}}],i=n.Color=function(t,i,r,u){return new n.Color.fn.parse(t,i,r,u)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=i.support={},l=n("<p>")[0],r=n.each;l.style.cssText="background-color:rgba(1,1,1,.5)";c.rgba=l.style.backgroundColor.indexOf("rgba")>-1;r(u,function(n,t){t.cache="_"+n;t.props.alpha={idx:3,type:"percent",def:1}});i.fn=n.extend(i.prototype,{parse:function(o,h,c,l){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=n(o).css(h),h=t);var a=this,v=n.type(o),y=this._rgba=[];return h!==t&&(o=[o,h,c,l],v="array"),"string"===v?this.parse(s(o)||e._default):"array"===v?(r(u.rgba.props,function(n,t){y[t.idx]=f(o[t.idx],t)}),this):"object"===v?(o instanceof i?r(u,function(n,t){o[t.cache]&&(a[t.cache]=o[t.cache].slice())}):r(u,function(t,i){var u=i.cache;r(i.props,function(n,t){if(!a[u]&&i.to){if("alpha"===n||null==o[n])return;a[u]=i.to(a._rgba)}a[u][t.idx]=f(o[n],t,!0)});a[u]&&n.inArray(null,a[u].slice(0,3))<0&&(a[u][3]=1,i.from&&(a._rgba=i.from(a[u])))}),this):void 0},is:function(n){var e=i(n),t=!0,f=this;return r(u,function(n,i){var o,u=e[i.cache];return u&&(o=f[i.cache]||i.to&&i.to(f._rgba)||[],r(i.props,function(n,i){if(null!=u[i.idx])return t=u[i.idx]===o[i.idx]})),t}),t},_space:function(){var n=[],t=this;return r(u,function(i,r){t[r.cache]&&n.push(i)}),n.pop()},transition:function(n,t){var e=i(n),c=e._space(),o=u[c],l=0===this.alpha()?i("transparent"):this,a=l[o.cache]||o.to(l._rgba),s=a.slice();return e=e[o.cache],r(o.props,function(n,i){var c=i.idx,r=a[c],u=e[c],o=h[i.type]||{};null!==u&&(null===r?s[c]=u:(o.mod&&(u-r>o.mod/2?r+=o.mod:r-u>o.mod/2&&(r-=o.mod)),s[c]=f((u-r)*t+r,i)))}),this[c](s)},blend:function(t){if(1===this._rgba[3])return this;var r=this._rgba.slice(),u=r.pop(),f=i(t)._rgba;return i(n.map(r,function(n,t){return(1-u)*f[t]+u*n}))},toRgbaString:function(){var i="rgba(",t=n.map(this._rgba,function(n,t){return null==n?t>2?1:0:n});return 1===t[3]&&(t.pop(),i="rgb("),i+t.join()+")"},toHslaString:function(){var i="hsla(",t=n.map(this.hsla(),function(n,t){return null==n&&(n=t>2?1:0),t&&3>t&&(n=Math.round(100*n)+"%"),n});return 1===t[3]&&(t.pop(),i="hsl("),i+t.join()+")"},toHexString:function(t){var i=this._rgba.slice(),r=i.pop();return t&&i.push(~~(255*r)),"#"+n.map(i,function(n){return n=(n||0).toString(16),1===n.length?"0"+n:n}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});i.fn.parse.prototype=i.fn;u.hsla.to=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var s,h,i=n[0]/255,r=n[1]/255,f=n[2]/255,c=n[3],u=Math.max(i,r,f),e=Math.min(i,r,f),t=u-e,o=u+e,l=.5*o;return s=e===u?0:i===u?60*(r-f)/t+360:r===u?60*(f-i)/t+120:60*(i-r)/t+240,h=0===t?0:.5>=l?t/o:t/(2-o),[Math.round(s)%360,h,l,null==c?1:c]};u.hsla.from=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var r=n[0]/360,u=n[1],t=n[2],e=n[3],i=.5>=t?t*(1+u):t+u-t*u,f=2*t-i;return[Math.round(255*o(f,i,r+1/3)),Math.round(255*o(f,i,r)),Math.round(255*o(f,i,r-1/3)),e]};r(u,function(u,e){var s=e.props,o=e.cache,h=e.to,c=e.from;i.fn[u]=function(u){if(h&&!this[o]&&(this[o]=h(this._rgba)),u===t)return this[o].slice();var l,a=n.type(u),v="array"===a||"object"===a?u:arguments,e=this[o].slice();return r(s,function(n,t){var i=v["object"===a?n:t.idx];null==i&&(i=e[t.idx]);e[t.idx]=f(i,t)}),c?(l=i(c(e)),l[o]=e,l):i(e)};r(s,function(t,r){i.fn[t]||(i.fn[t]=function(i){var f,e=n.type(i),h="alpha"===t?this._hsla?"hsla":"rgba":u,o=this[h](),s=o[r.idx];return"undefined"===e?s:("function"===e&&(i=i.call(this,s),e=n.type(i)),null==i&&r.empty?this:("string"===e&&(f=a.exec(i),f&&(i=s+parseFloat(f[2])*("+"===f[1]?1:-1))),o[r.idx]=i,this[h](o)))})})});i.hook=function(t){var u=t.split(" ");r(u,function(t,r){n.cssHooks[r]={set:function(t,u){var o,f,e="";if("transparent"!==u&&("string"!==n.type(u)||(o=s(u)))){if(u=i(o||u),!c.rgba&&1!==u._rgba[3]){for(f="backgroundColor"===r?t.parentNode:t;(""===e||"transparent"===e)&&f&&f.style;)try{e=n.css(f,"backgroundColor");f=f.parentNode}catch(h){}u=u.blend(e&&"transparent"!==e?e:"_default")}u=u.toRgbaString()}try{t.style[r]=u}catch(h){}}};n.fx.step[r]=function(t){t.colorInit||(t.start=i(t.elem,r),t.end=i(t.end),t.colorInit=!0);n.cssHooks[r].set(t.elem,t.start.transition(t.end,t.pos))}})};i.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");n.cssHooks.borderColor={expand:function(n){var t={};return r(["Top","Right","Bottom","Left"],function(i,r){t["border"+r+"Color"]=n}),t}};e=n.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(s),function(){function t(t){var r,u,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,f={};if(i&&i.length&&i[0]&&i[i[0]])for(u=i.length;u--;)r=i[u],"string"==typeof i[r]&&(f[n.camelCase(r)]=i[r]);else for(r in i)"string"==typeof i[r]&&(f[r]=i[r]);return f}function i(t,i){var r,f,e={};for(r in i)f=i[r],t[r]!==f&&(u[r]||!n.fx.step[r]&&isNaN(parseFloat(f))||(e[r]=f));return e}var r=["add","remove","toggle"],u={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){n.fx.step[i]=function(n){("none"===n.end||n.setAttr)&&(1!==n.pos||n.setAttr)||(s.style(n.elem,i,n.end),n.setAttr=!0)}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n.effects.animateClass=function(u,f,e,o){var s=n.speed(f,e,o);return this.queue(function(){var o,e=n(this),h=e.attr("class")||"",f=s.children?e.find("*").addBack():e;f=f.map(function(){var i=n(this);return{el:i,start:t(this)}});o=function(){n.each(r,function(n,t){u[t]&&e[t+"Class"](u[t])})};o();f=f.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this});e.attr("class",h);f=f.map(function(){var i=this,t=n.Deferred(),r=n.extend({},s,{queue:!1,complete:function(){t.resolve(i)}});return this.el.animate(this.diff,r),t.promise()});n.when.apply(n,f.get()).done(function(){o();n.each(arguments,function(){var t=this.el;n.each(this.diff,function(n){t.css(n,"")})});s.complete.call(e[0])})})};n.fn.extend({addClass:function(t){return function(i,r,u,f){return r?n.effects.animateClass.call(this,{add:i},r,u,f):t.apply(this,arguments)}}(n.fn.addClass),removeClass:function(t){return function(i,r,u,f){return arguments.length>1?n.effects.animateClass.call(this,{remove:i},r,u,f):t.apply(this,arguments)}}(n.fn.removeClass),toggleClass:function(t){return function(i,r,u,f,e){return"boolean"==typeof r||void 0===r?u?n.effects.animateClass.call(this,r?{add:i}:{remove:i},u,f,e):t.apply(this,arguments):n.effects.animateClass.call(this,{toggle:i},r,u,f)}}(n.fn.toggleClass),switchClass:function(t,i,r,u,f){return n.effects.animateClass.call(this,{add:i,remove:t},r,u,f)}})}(),function(){function t(t,i,r,u){return n.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),n.isFunction(i)&&(u=i,r=null,i={}),("number"==typeof i||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i&&n.extend(t,i),r=r||i.duration,t.duration=n.fx.off?0:"number"==typeof r?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,t.complete=u||i.complete,t}function i(t){return!t||"number"==typeof t||n.fx.speeds[t]?!0:"string"!=typeof t||n.effects.effect[t]?n.isFunction(t)?!0:"object"==typeof t&&!t.effect:!0}n.extend(n.effects,{version:"1.11.4",save:function(n,t){for(var i=0;i<t.length;i++)null!==t[i]&&n.data(o+t[i],n[0].style[t[i]])},restore:function(n,t){for(var r,i=0;i<t.length;i++)null!==t[i]&&(r=n.data(o+t[i]),void 0===r&&(r=""),n.css(t[i],r))},setMode:function(n,t){return"toggle"===t&&(t=n.is(":hidden")?"show":"hide"),t},getBaseline:function(n,t){var i,r;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=n[1]/t.width}return{x:r,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},u=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(u),(t[0]===r||n.contains(t[0],r))&&n(r).focus(),u=t.parent(),"static"===t.css("position")?(u.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r);isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(f),u.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||n.contains(t[0],i))&&n(i).focus()),t},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){var f=t.cssUnit(i);f[0]>0&&(u[i]=f[0]*r+f[1])}),u}});n.fn.extend({effect:function(){function r(t){function f(){n.isFunction(o)&&o.call(r[0]);n.isFunction(t)&&t()}var r=n(this),o=i.complete,u=i.mode;(r.is(":hidden")?"hide"===u:"show"===u)?(r[u](),f()):e.call(r[0],i,f)}var i=t.apply(this,arguments),u=i.mode,f=i.queue,e=n.effects.effect[i.effect];return n.fx.off||!e?u?this[u](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):f===!1?this.each(r):this.queue(f||"fx",r)},show:function(n){return function(r){if(i(r))return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="show",this.effect.call(this,u)}}(n.fn.show),hide:function(n){return function(r){if(i(r))return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="hide",this.effect.call(this,u)}}(n.fn.hide),toggle:function(n){return function(r){if(i(r)||"boolean"==typeof r)return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="toggle",this.effect.call(this,u)}}(n.fn.toggle),cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r}})}(),function(){var t={};n.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,i){t[i]=function(t){return Math.pow(t,n+2)}});n.extend(t,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return 0===n||1===n?n:-Math.pow(2,8*(n-1))*Math.sin((80*(n-1)-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var t,i=4;n<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-n,2)}});n.each(t,function(t,i){n.easing["easeIn"+t]=i;n.easing["easeOut"+t]=function(n){return 1-i(1-n)};n.easing["easeInOut"+t]=function(n){return.5>n?i(2*n)/2:1-i(-2*n+2)/2}})}();n.effects;n.effects.effect.blind=function(t,i){var u,f,e,r=n(this),s=["position","top","bottom","left","right","height","width"],v=n.effects.setMode(r,t.mode||"hide"),y=t.direction||"up",o=/up|down|vertical/.test(y),h=o?"height":"width",c=o?"top":"left",p=/up|left|vertical|horizontal/.test(y),l={},a="show"===v;r.parent().is(".ui-effects-wrapper")?n.effects.save(r.parent(),s):n.effects.save(r,s);r.show();u=n.effects.createWrapper(r).css({overflow:"hidden"});f=u[h]();e=parseFloat(u.css(c))||0;l[h]=a?f:0;p||(r.css(o?"bottom":"right",0).css(o?"top":"left","auto").css({position:"absolute"}),l[c]=a?e:f+e);a&&(u.css(h,0),p||u.css(c,e+f));u.animate(l,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===v&&r.hide();n.effects.restore(r,s);n.effects.removeWrapper(r);i()}})};n.effects.effect.bounce=function(t,i){var v,f,e,r=n(this),y=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),o="hide"===k,p="show"===k,h=t.direction||"up",u=t.distance,w=t.times||5,d=2*w+(p||o?1:0),c=t.duration/d,l=t.easing,s="up"===h||"down"===h?"top":"left",b="up"===h||"left"===h,a=r.queue(),g=a.length;for((p||o)&&y.push("opacity"),n.effects.save(r,y),r.show(),n.effects.createWrapper(r),u||(u=r["top"===s?"outerHeight":"outerWidth"]()/3),p&&(e={opacity:1},e[s]=0,r.css("opacity",0).css(s,b?2*-u:2*u).animate(e,c,l)),o&&(u/=Math.pow(2,w-1)),e={},e[s]=0,v=0;w>v;v++)f={},f[s]=(b?"-=":"+=")+u,r.animate(f,c,l).animate(e,c,l),u=o?2*u:u/2;o&&(f={opacity:0},f[s]=(b?"-=":"+=")+u,r.animate(f,c,l));r.queue(function(){o&&r.hide();n.effects.restore(r,y);n.effects.removeWrapper(r);i()});g>1&&a.splice.apply(a,[1,0].concat(a.splice(g,d+1)));r.dequeue()};n.effects.effect.clip=function(t,i){var h,u,f,r=n(this),c=["position","top","bottom","left","right","height","width"],v=n.effects.setMode(r,t.mode||"hide"),e="show"===v,y=t.direction||"vertical",l="vertical"===y,o=l?"height":"width",a=l?"top":"left",s={};n.effects.save(r,c);r.show();h=n.effects.createWrapper(r).css({overflow:"hidden"});u="IMG"===r[0].tagName?h:r;f=u[o]();e&&(u.css(o,0),u.css(a,f/2));s[o]=e?f:0;s[a]=e?0:f/2;u.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){e||r.hide();n.effects.restore(r,c);n.effects.removeWrapper(r);i()}})};n.effects.effect.drop=function(t,i){var u,r=n(this),h=["position","top","bottom","left","right","opacity","height","width"],c=n.effects.setMode(r,t.mode||"hide"),e="show"===c,f=t.direction||"left",o="up"===f||"down"===f?"top":"left",s="up"===f||"left"===f?"pos":"neg",l={opacity:e?1:0};n.effects.save(r,h);r.show();n.effects.createWrapper(r);u=t.distance||r["top"===o?"outerHeight":"outerWidth"](!0)/2;e&&r.css("opacity",0).css(o,"pos"===s?-u:u);l[o]=(e?"pos"===s?"+=":"-=":"pos"===s?"-=":"+=")+u;r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===c&&r.hide();n.effects.restore(r,h);n.effects.removeWrapper(r);i()}})};n.effects.effect.explode=function(t,i){function b(){p.push(this);p.length===o*c&&k()}function k(){r.css({visibility:"visible"});n(p).remove();u||r.hide();i()}for(var e,l,a,v,y,o=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=o,r=n(this),d=n.effects.setMode(r,t.mode||"hide"),u="show"===d,w=r.show().css("visibility","hidden").offset(),s=Math.ceil(r.outerWidth()/c),h=Math.ceil(r.outerHeight()/o),p=[],f=0;o>f;f++)for(a=w.top+f*h,y=f-(o-1)/2,e=0;c>e;e++)l=w.left+e*s,v=e-(c-1)/2,r.clone().appendTo("body").wrap("<div><\/div>").css({position:"absolute",visibility:"visible",left:-e*s,top:-f*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s,height:h,left:l+(u?v*s:0),top:a+(u?y*h:0),opacity:u?0:1}).animate({left:l+(u?0:v*s),top:a+(u?0:y*h),opacity:u?1:0},t.duration||500,t.easing,b)};n.effects.effect.fade=function(t,i){var r=n(this),u=n.effects.setMode(r,t.mode||"toggle");r.animate({opacity:u},{queue:!1,duration:t.duration,easing:t.easing,complete:i})};n.effects.effect.fold=function(t,i){var r,e,u=n(this),s=["position","top","bottom","left","right","height","width"],h=n.effects.setMode(u,t.mode||"hide"),o="show"===h,c="hide"===h,f=t.size||15,l=/([0-9]+)%/.exec(f),a=!!t.horizFirst,v=o!==a,y=v?["width","height"]:["height","width"],p=t.duration/2,w={},b={};n.effects.save(u,s);u.show();r=n.effects.createWrapper(u).css({overflow:"hidden"});e=v?[r.width(),r.height()]:[r.height(),r.width()];l&&(f=parseInt(l[1],10)/100*e[c?0:1]);o&&r.css(a?{height:0,width:f}:{height:f,width:0});w[y[0]]=o?e[0]:f;b[y[1]]=o?e[1]:0;r.animate(w,p,t.easing).animate(b,p,t.easing,function(){c&&u.hide();n.effects.restore(u,s);n.effects.removeWrapper(u);i()})};n.effects.effect.highlight=function(t,i){var r=n(this),u=["backgroundImage","backgroundColor","opacity"],f=n.effects.setMode(r,t.mode||"show"),e={backgroundColor:r.css("backgroundColor")};"hide"===f&&(e.opacity=0);n.effects.save(r,u);r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(e,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===f&&r.hide();n.effects.restore(r,u);i()}})};n.effects.effect.size=function(t,i){var f,l,u,r=n(this),w=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["width","height","overflow"],v=["fontSize"],e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=n.effects.setMode(r,t.mode||"effect"),y=t.restore||"effect"!==h,c=t.scale||"both",b=t.origin||["middle","center"],k=r.css("position"),s=y?w:["position","top","bottom","left","right","overflow","opacity"],p={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&r.show();f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};"toggle"===t.mode&&"show"===h?(r.from=t.to||p,r.to=t.from||f):(r.from=t.from||("show"===h?p:f),r.to=t.to||("hide"===h?p:f));u={from:{y:r.from.height/f.height,x:r.from.width/f.width},to:{y:r.to.height/f.height,x:r.to.width/f.width}};"box"!==c&&"both"!==c||(u.from.y!==u.to.y&&(s=s.concat(e),r.from=n.effects.setTransition(r,e,u.from.y,r.from),r.to=n.effects.setTransition(r,e,u.to.y,r.to)),u.from.x!==u.to.x&&(s=s.concat(o),r.from=n.effects.setTransition(r,o,u.from.x,r.from),r.to=n.effects.setTransition(r,o,u.to.x,r.to)));"content"!==c&&"both"!==c||u.from.y!==u.to.y&&(s=s.concat(v).concat(a),r.from=n.effects.setTransition(r,v,u.from.y,r.from),r.to=n.effects.setTransition(r,v,u.to.y,r.to));n.effects.save(r,s);r.show();n.effects.createWrapper(r);r.css("overflow","hidden").css(r.from);b&&(l=n.effects.getBaseline(b,f),r.from.top=(f.outerHeight-r.outerHeight())*l.y,r.from.left=(f.outerWidth-r.outerWidth())*l.x,r.to.top=(f.outerHeight-r.to.outerHeight)*l.y,r.to.left=(f.outerWidth-r.to.outerWidth)*l.x);r.css(r.from);"content"!==c&&"both"!==c||(e=e.concat(["marginTop","marginBottom"]).concat(v),o=o.concat(["marginLeft","marginRight"]),a=w.concat(e).concat(o),r.find("*[width]").each(function(){var i=n(this),r={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};y&&n.effects.save(i,a);i.from={height:r.height*u.from.y,width:r.width*u.from.x,outerHeight:r.outerHeight*u.from.y,outerWidth:r.outerWidth*u.from.x};i.to={height:r.height*u.to.y,width:r.width*u.to.x,outerHeight:r.height*u.to.y,outerWidth:r.width*u.to.x};u.from.y!==u.to.y&&(i.from=n.effects.setTransition(i,e,u.from.y,i.from),i.to=n.effects.setTransition(i,e,u.to.y,i.to));u.from.x!==u.to.x&&(i.from=n.effects.setTransition(i,o,u.from.x,i.from),i.to=n.effects.setTransition(i,o,u.to.x,i.to));i.css(i.from);i.animate(i.to,t.duration,t.easing,function(){y&&n.effects.restore(i,a)})}));r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity);"hide"===h&&r.hide();n.effects.restore(r,s);y||("static"===k?r.css({position:"relative",top:r.to.top,left:r.to.left}):n.each(["top","left"],function(n,t){r.css(t,function(t,i){var f=parseInt(i,10),u=n?r.to.left:r.to.top;return"auto"===i?u+"px":f+u+"px"})}));n.effects.removeWrapper(r);i()}})};n.effects.effect.scale=function(t,i){var u=n(this),r=n.extend(!0,{},t),f=n.effects.setMode(u,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===f?0:100),h=t.direction||"both",c=t.origin,e={height:u.height(),width:u.width(),outerHeight:u.outerHeight(),outerWidth:u.outerWidth()},o={y:"horizontal"!==h?s/100:1,x:"vertical"!==h?s/100:1};r.effect="size";r.queue=!1;r.complete=i;"effect"!==f&&(r.origin=c||["middle","center"],r.restore=!0);r.from=t.from||("show"===f?{height:0,width:0,outerHeight:0,outerWidth:0}:e);r.to={height:e.height*o.y,width:e.width*o.x,outerHeight:e.outerHeight*o.y,outerWidth:e.outerWidth*o.x};r.fade&&("show"===f&&(r.from.opacity=0,r.to.opacity=1),"hide"===f&&(r.from.opacity=1,r.to.opacity=0));u.effect(r)};n.effects.effect.puff=function(t,i){var r=n(this),e=n.effects.setMode(r,t.mode||"hide"),o="hide"===e,s=parseInt(t.percent,10)||150,f=s/100,u={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};n.extend(t,{effect:"scale",queue:!1,fade:!0,mode:e,complete:i,percent:o?s:100,from:o?u:{height:u.height*f,width:u.width*f,outerHeight:u.outerHeight*f,outerWidth:u.outerWidth*f}});r.effect(t)};n.effects.effect.pulsate=function(t,i){var e,r=n(this),o=n.effects.setMode(r,t.mode||"show"),h="show"===o,a="hide"===o,v=h||"hide"===o,s=2*(t.times||5)+(v?1:0),c=t.duration/s,u=0,f=r.queue(),l=f.length;for(!h&&r.is(":visible")||(r.css("opacity",0).show(),u=1),e=1;s>e;e++)r.animate({opacity:u},c,t.easing),u=1-u;r.animate({opacity:u},c,t.easing);r.queue(function(){a&&r.hide();i()});l>1&&f.splice.apply(f,[1,0].concat(f.splice(l,s+1)));r.dequeue()};n.effects.effect.shake=function(t,i){var o,r=n(this),v=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),f=t.direction||"left",s=t.distance||20,y=t.times||3,p=2*y+1,u=Math.round(t.duration/p),h="up"===f||"down"===f?"top":"left",c="up"===f||"left"===f,l={},a={},w={},e=r.queue(),b=e.length;for(n.effects.save(r,v),r.show(),n.effects.createWrapper(r),l[h]=(c?"-=":"+=")+s,a[h]=(c?"+=":"-=")+2*s,w[h]=(c?"-=":"+=")+2*s,r.animate(l,u,t.easing),o=1;y>o;o++)r.animate(a,u,t.easing).animate(w,u,t.easing);r.animate(a,u,t.easing).animate(l,u/2,t.easing).queue(function(){"hide"===k&&r.hide();n.effects.restore(r,v);n.effects.removeWrapper(r);i()});b>1&&e.splice.apply(e,[1,0].concat(e.splice(b,p+1)));r.dequeue()};n.effects.effect.slide=function(t,i){var u,r=n(this),s=["position","top","bottom","left","right","width","height"],h=n.effects.setMode(r,t.mode||"show"),c="show"===h,f=t.direction||"left",e="up"===f||"down"===f?"top":"left",o="up"===f||"left"===f,l={};n.effects.save(r,s);r.show();u=t.distance||r["top"===e?"outerHeight":"outerWidth"](!0);n.effects.createWrapper(r).css({overflow:"hidden"});c&&r.css(e,o?isNaN(u)?"-"+u:-u:u);l[e]=(c?o?"+=":"-=":o?"-=":"+=")+u;r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===h&&r.hide();n.effects.restore(r,s);n.effects.removeWrapper(r);i()}})};n.effects.effect.transfer=function(t,i){var u=n(this),r=n(t.to),f="fixed"===r.css("position"),e=n("body"),o=f?e.scrollTop():0,s=f?e.scrollLeft():0,h=r.offset(),l={top:h.top-o,left:h.left-s,height:r.innerHeight(),width:r.innerWidth()},c=u.offset(),a=n("<div class='ui-effects-transfer'><\/div>").appendTo(document.body).addClass(t.className).css({top:c.top-o,left:c.left-s,height:u.innerHeight(),width:u.innerWidth(),position:f?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){a.remove();i()})};n.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'><\/div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(n){return void 0===n?this.options.value:(this.options.value=this._constrainedValue(n),void this._refreshValue())},_constrainedValue:function(n){return void 0===n&&(n=this.options.value),this.indeterminate=n===!1,"number"!=typeof n&&(n=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,n))},_setOptions:function(n){var t=n.value;delete n.value;this._super(n);this.options.value=this._constrainedValue(t);this._refreshValue()},_setOption:function(n,t){"max"===n&&(t=Math.max(this.min,t));"disabled"===n&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t);this._super(n,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div class='ui-progressbar-overlay'><\/div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==t&&(this.oldValue=t,this._trigger("change"));t===this.options.max&&this._trigger("complete")}});n.widget("ui.selectable",n.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){t=n(i.options.filter,i.element[0]);t.addClass("ui-selectee");t.each(function(){var t=n(this),i=t.offset();n.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})};this.refresh();this.selectees=t.addClass("ui-selectee");this._mouseInit();this.helper=n("<div class='ui-selectable-helper'><\/div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(t){var i=this,r=this.options;this.opos=[t.pageX,t.pageY];this.options.disabled||(this.selectees=n(r.filter,this.element[0]),this._trigger("start",t),n(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=n.data(this,"selectable-item");r.startselected=!0;t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",t,{unselecting:r.element}))}),n(t.target).parents().addBack().each(function(){var u,r=n.data(this,"selectable-item");if(r)return(u=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(u?"ui-unselecting":"ui-selected").addClass(u?"ui-selecting":"ui-unselecting"),r.unselecting=!u,r.selecting=u,r.selected=u,u?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1)}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var e,o=this,s=this.options,i=this.opos[0],r=this.opos[1],u=t.pageX,f=t.pageY;return i>u&&(e=u,u=i,i=e),r>f&&(e=f,f=r,r=e),this.helper.css({left:i,top:r,width:u-i,height:f-r}),this.selectees.each(function(){var e=n.data(this,"selectable-item"),h=!1;e&&e.element!==o.element[0]&&("touch"===s.tolerance?h=!(e.left>u||e.right<i||e.top>f||e.bottom<r):"fit"===s.tolerance&&(h=e.left>i&&e.right<u&&e.top>r&&e.bottom<f),h?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,o._trigger("selecting",t,{selecting:e.element}))):(e.selecting&&((t.metaKey||t.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),o._trigger("unselecting",t,{unselecting:e.element}))),e.selected&&(t.metaKey||t.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,o._trigger("unselecting",t,{unselecting:e.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-unselecting");r.unselecting=!1;r.startselected=!1;i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected");r.selecting=!1;r.selected=!0;r.startselected=!0;i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}});n.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var n=this.element.uniqueId().attr("id");this.ids={element:n,button:n+"-button",menu:n+"-menu"};this._drawButton();this._drawMenu();this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=n("label[for='"+this.ids.element+"']").attr("for",this.ids.button);this._on(this.label,{click:function(n){this.button.focus();n.preventDefault()}});this.element.hide();this.button=n("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element);n("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button);this.buttonText=n("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button);this._setText(this.buttonText,this.element.find("option:selected").text());this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){t.menuItems||t._refreshMenu()});this._hoverable(this.button);this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=n("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=n("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo());this.menuInstance=this.menu.menu({role:"listbox",select:function(n,i){n.preventDefault();t._setSelection();t._select(i.item.data("ui-selectmenu-item"),n)},focus:function(n,i){var r=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&r.index!==t.focusIndex&&(t._trigger("focus",n,{item:r}),t.isOpen||t._select(r,n));t.focusIndex=r.index;t.button.attr("aria-activedescendant",t.menuItems.eq(r.index).attr("id"))}}).menu("instance");this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return!1};this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu();this._setText(this.buttonText,this._getSelectedItem().text());this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var n,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),n=this._getSelectedItem(),this.menuInstance.focus(null,n),this._setAria(n.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(n){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",n))},_position:function(){this.menuWrap.position(n.extend({of:this.button},this.options.position))},close:function(n){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",n))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var u=this,r="";n.each(i,function(i,f){f.optgroup!==r&&(n("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(f.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:f.optgroup}).appendTo(t),r=f.optgroup);u._renderItemData(t,f)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var r=n("<li>");return i.disabled&&r.addClass("ui-state-disabled"),this._setText(r,i.label),r.appendTo(t)},_setText:function(n,t){t?n.text(t):n.html("&#160;")},_move:function(n,t){var i,r,u=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),u+=":not(.ui-state-disabled)");r="first"===n||"last"===n?i["first"===n?"prevAll":"nextAll"](u).eq(-1):i[n+"All"](u).eq(0);r.length&&this.menuInstance.focus(t,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(n){this[this.isOpen?"close":"open"](n)},_setSelection:function(){var n;this.range&&(window.getSelection?(n=window.getSelection(),n.removeAllRanges(),n.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(n(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var n;window.getSelection?(n=window.getSelection(),n.rangeCount&&(this.range=n.getRangeAt(0))):this.range=document.selection.createRange()},click:function(n){this._setSelection();this._toggle(n)},keydown:function(t){var i=!0;switch(t.keyCode){case n.ui.keyCode.TAB:case n.ui.keyCode.ESCAPE:this.close(t);i=!1;break;case n.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case n.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case n.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case n.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case n.ui.keyCode.LEFT:this._move("prev",t);break;case n.ui.keyCode.RIGHT:this._move("next",t);break;case n.ui.keyCode.HOME:case n.ui.keyCode.PAGE_UP:this._move("first",t);break;case n.ui.keyCode.END:case n.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t);i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(n){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),n)},_select:function(n,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=n.index;this._setText(this.buttonText,n.label);this._setAria(n);this._trigger("select",t,{item:n});n.index!==i&&this._trigger("change",t,{item:n});this.close(t)},_setAria:function(n){var t=this.menuItems.eq(n.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t});this.menu.attr("aria-activedescendant",t)},_setOption:function(n,t){"icons"===n&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button);this._super(n,t);"appendTo"===n&&this.menuWrap.appendTo(this._appendTo());"disabled"===n&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0));"width"===n&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen);this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var n=this.options.width;n||(n=this.element.show().outerWidth(),this.element.hide());this.button.outerWidth(n)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,r){var u=n(r),f=u.parent("optgroup");i.push({element:u,index:t,value:u.val(),label:u.text(),optgroup:f.attr("label")||"",disabled:f.prop("disabled")||u.prop("disabled")})});this.items=i},_destroy:function(){this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.label.attr("for",this.ids.element)}});n.widget("ui.slider",n.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1;this._mouseSliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var r,i,u=this.options,t=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f=[];for(i=u.values&&u.values.length||1,t.length>i&&(t.slice(i).remove(),t=t.slice(0,i)),r=t.length;i>r;r++)f.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'><\/span>");this.handles=t.add(n(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(t){n(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:n.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=n("<div><\/div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(t){var s,f,r,i,u,h,e,c,o=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:t.pageX,y:t.pageY},f=this._normValueFromMouse(s),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(f-o.values(t));(r>e||r===e&&(t===o._lastChangedValue||o.values(t)===l.min))&&(r=e,i=n(this),u=t)}),h=this._start(t,u),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=u,i.addClass("ui-state-active").focus(),e=i.offset(),c=!n(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-e.left-i.width()/2,top:t.pageY-e.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,u,f),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},i=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,i),!1},_mouseStop:function(n){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(n){var i,r,t,u,f;return"horizontal"===this.orientation?(i=this.elementSize.width,r=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,r=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=r/i,t>1&&(t=1),0>t&&(t=0),"vertical"===this.orientation&&(t=1-t),u=this._valueMax()-this._valueMin(),f=this._valueMin()+t*u,this._trimAlignValue(f)},_start:function(n,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",n,i)},_slide:function(n,t,i){var r,f,u;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>r||1===t&&r>i)&&(i=r),i!==this.values(t)&&(f=this.values(),f[t]=i,u=this._trigger("slide",n,{handle:this.handles[t],value:i,values:f}),r=this.values(t?0:1),u!==!1&&this.values(t,i))):i!==this.value()&&(u=this._trigger("slide",n,{handle:this.handles[t],value:i}),u!==!1&&this.value(i))},_stop:function(n,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._trigger("stop",n,i)},_change:function(n,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._lastChangedValue=t;this._trigger("change",n,i)}},value:function(n){return arguments.length?(this.options.value=this._trimAlignValue(n),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var u,f,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!n.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(u=this.options.values,f=arguments[0],r=0;r<u.length;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var r,u=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),n.isArray(this.options.values)&&(u=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;u>r;r+=1)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0;this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case"range":this._animateOff=!0;this._refresh();this._animateOff=!1}},_value:function(){var n=this.options.value;return this._trimAlignValue(n)},_values:function(n){var r,t,i;if(arguments.length)return r=this.options.values[n],r=this._trimAlignValue(r);if(this.options.values&&this.options.values.length){for(t=this.options.values.slice(),i=0;i<t.length;i+=1)t[i]=this._trimAlignValue(t[i]);return t}return[]},_trimAlignValue:function(n){if(n<=this._valueMin())return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t,r=n-i;return 2*Math.abs(i)>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var n=this.options.max,t=this._valueMin(),i=this.options.step,r=Math.floor(+(n-t).toFixed(this._precision())/i)*i;n=r+t;this.max=parseFloat(n.toFixed(this._precision()))},_precision:function(){var n=this._precisionOf(this.options.step);return null!==this.options.min&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=n.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var s,t,c,f,h,e=this.options.range,i=this.options,r=this,u=this._animateOff?!1:i.animate,o={};this.options.values&&this.options.values.length?this.handles.each(function(f){t=(r.values(f)-r._valueMin())/(r._valueMax()-r._valueMin())*100;o["horizontal"===r.orientation?"left":"bottom"]=t+"%";n(this).stop(1,1)[u?"animate":"css"](o,i.animate);r.options.range===!0&&("horizontal"===r.orientation?(0===f&&r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:i.animate})):(0===f&&r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:i.animate})));s=t}):(c=this.value(),f=this._valueMin(),h=this._valueMax(),t=h!==f?(c-f)/(h-f)*100:0,o["horizontal"===this.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](o,i.animate),"min"===e&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},i.animate),"max"===e&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:i.animate}),"min"===e&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},i.animate),"max"===e&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:i.animate}))},_handleEvents:{keydown:function(t){var e,r,i,u,f=n(t.target).data("ui-slider-handle-index");switch(t.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,n(t.target).addClass("ui-state-active"),e=this._start(t,f),e===!1))return}switch(u=this.options.step,r=i=this.options.values&&this.options.values.length?this.values(f):this.value(),t.keyCode){case n.ui.keyCode.HOME:i=this._valueMin();break;case n.ui.keyCode.END:i=this._valueMax();break;case n.ui.keyCode.PAGE_UP:i=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(r===this._valueMax())return;i=this._trimAlignValue(r+u);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(r===this._valueMin())return;i=this._trimAlignValue(r-u)}this._slide(t,f,i)},keyup:function(t){var i=n(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),n(t.target).removeClass("ui-state-active"))}}});n.widget("ui.sortable",n.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(n,t,i){return n>=t&&t+i>n},_isFloating:function(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(n,t){this._super(n,t);"handle"===n&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");n.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var r=null,f=!1,u=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),n(t.target).parents().each(function(){if(n.data(this,u.widgetName+"-item")===u)return(r=n(this),!1)}),n.data(t.target,u.widgetName+"-item")===u&&(r=n(t.target)),r&&(!this.options.handle||i||(n(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(f=!0)}),f))?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,i,r){var f,e,u=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),u.containment&&this._setContainment(),u.cursor&&"auto"!==u.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",u.cursor),this.storedStylesheet=n("<style>*{ cursor: "+u.cursor+" !important; }<\/style>").appendTo(e)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",t,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,u,f,o,i=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-this.document.scrollTop()<i.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-i.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<i.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+i.scrollSpeed)),t.pageX-this.document.scrollLeft()<i.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-i.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<i.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;e>=0;e--)if(u=this.items[e],f=u.item[0],o=this._intersectsWithPointer(u),o&&u.instance===this.currentContainer&&f!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==f&&!n.contains(this.placeholder[0],f)&&("semi-dynamic"===this.options.type?!n.contains(this.element[0],f):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(u))break;this._rearrange(t,u);this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var e=this,f=this.placeholder.offset(),r=this.options.axis,u={};r&&"x"!==r||(u.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));r&&"y"!==r||(u.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=!0;n(this.helper).animate(u,parseInt(this.options.revert,10)||500,function(){e._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,r=n.left,f=r+n.width,u=n.top,e=u+n.height,o=this.offset.click.top,s=this.offset.click.left,l="x"===this.options.axis||i+o>u&&e>i+o,a="y"===this.options.axis||t+s>r&&f>t+s,v=l&&a;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?v:r<t+this.helperProportions.width/2&&h-this.helperProportions.width/2<f&&u<i+this.helperProportions.height/2&&c-this.helperProportions.height/2<e},_intersectsWithPointer:function(n){var r="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top,n.height),u="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left,n.width),f=r&&u,t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return f?this.floating?i&&"right"===i||"down"===t?2:1:t&&("down"===t?2:1):!1},_intersectsWithSides:function(n){var r=this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top+n.height/2,n.height),u=this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left+n.width/2,n.width),t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&u||"left"===i&&!u:t&&("down"===t&&r||"up"===t&&!r)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return 0!==n&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return 0!==n&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor===String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){function h(){s.push(this)}var r,u,e,i,s=[],f=[],o=this._connectWith();if(o&&t)for(r=o.length-1;r>=0;r--)for(e=n(o[r],this.document[0]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&f.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(f.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=f.length-1;r>=0;r--)f[r][0].each(h);return n(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(n){for(var i=0;i<t.length;i++)if(t[i]===n.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[];this.containers=[this];var r,u,e,i,o,s,h,l,a=this.items,f=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(r=c.length-1;r>=0;r--)for(e=n(c[r],this.document[0]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&(f.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;r>=0;r--)for(o=f[r][1],s=f[r][0],u=0,l=s.length;l>u;u++)h=n(s[u]),h.data(this.widgetName+"-item",o),a.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1;this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var r,f,u,i=this.items.length-1;i>=0;i--)r=this.items[i],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(f=this.options.toleranceElement?n(this.options.toleranceElement,r.item):r.item,t||(r.width=f.outerWidth(),r.height=f.outerHeight()),u=f.offset(),r.left=u.left,r.top=u.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)u=this.containers[i].element.offset(),this.containers[i].containerCache.left=u.left,this.containers[i].containerCache.top=u.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var r,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(r=i.placeholder,i.placeholder={element:function(){var u=t.currentItem[0].nodeName.toLowerCase(),i=n("<"+u+">",t.document[0]).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===u?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),n("<tr>",t.document[0]).appendTo(i)):"tr"===u?t._createTrPlaceholder(t.currentItem,i):"img"===u&&i.attr("src",t.currentItem.attr("src")),r||i.css("visibility","hidden"),i},update:function(n,u){r&&!i.forcePlaceholderSize||(u.height()||u.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),u.width()||u.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}});t.placeholder=n(i.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var r=this;t.children().each(function(){n("<td>&#160;<\/td>",r.document[0]).attr("colspan",n(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){for(var u,c,f,a,v,o,l,s,h,e=null,i=null,r=this.containers.length-1;r>=0;r--)if(!n.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(e&&n.contains(this.containers[r].element[0],e.element[0]))continue;e=this.containers[r];i=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0);if(e)if(1===this.containers.length)this.containers[i].containerCache.over||(this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1);else{for(c=1e4,f=null,s=e.floating||this._isFloating(this.currentItem),a=s?"left":"top",v=s?"width":"height",h=s?"clientX":"clientY",u=this.items.length-1;u>=0;u--)n.contains(this.containers[i].element[0],this.items[u].item[0])&&this.items[u].item[0]!==this.currentItem[0]&&(o=this.items[u].item.offset()[a],l=!1,t[h]-o>this.items[u][v]/2&&(l=!0),Math.abs(t[h]-o)<c&&(c=Math.abs(t[h]-o),f=this.items[u],this.direction=l?"up":"down"));if(!f&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[i])return void(this.currentContainer.containerCache.over||(this.containers[i]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));f?this._rearrange(t,f,null,!0):this._rearrange(t,null,this.containers[i].element,!0);this._trigger("change",t,this._uiHash());this.containers[i]._trigger("change",t,this._uiHash(this));this.currentContainer=this.containers[i];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[i]._trigger("over",t,this._uiHash(this));this.containers[i].containerCache.over=1}},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t,this.currentItem])):"clone"===r.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||n("parent"!==r.appendTo?r.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!r.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!r.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,r,u,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode);"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],r=n(i.containment).offset(),u="hidden"!==n(t).css("overflow"),this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r="absolute"===t?1:-1,u="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var r,u,i=this.options,f=t.pageX,e=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((e-this.originalPageY)/i.grid[1])*i.grid[1],e=this.containment?r-this.offset.click.top>=this.containment[1]&&r-this.offset.click.top<=this.containment[3]?r:r-this.offset.click.top>=this.containment[1]?r-i.grid[1]:r+i.grid[1]:r,u=this.originalPageX+Math.round((f-this.originalPageX)/i.grid[0])*i.grid[0],f=this.containment?u-this.offset.click.left>=this.containment[0]&&u-this.offset.click.left<=this.containment[2]?u:u-this.offset.click.left>=this.containment[0]?u-i.grid[0]:u+i.grid[0]:u)),{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u===this.counter&&this.refreshPositions(!r)})},_clear:function(n,t){function u(n,t,i){return function(r){i._trigger(n,r,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(n){this._trigger("remove",n,this._uiHash())}),r.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(u("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(u("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",n,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<r.length;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}});n.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return n.each(["min","max","step"],function(n,r){var u=i.attr(r);void 0!==u&&u.length&&(t[r]=u)}),t},_events:{keydown:function(n){this._start(n)&&this._keydown(n)&&n.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(n){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",n)))},mousewheel:function(n,t){if(t){if(!this.spinning&&!this._start(n))return!1;this._spin((t>0?1:-1)*this.options.step,n);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(n)},100);n.preventDefault()}},"mousedown .ui-spinner-button":function(t){function r(){var n=this.element[0]===this.document[0].activeElement;n||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();t.preventDefault();r.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;r.call(this)});this._start(t)!==!1&&this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(n(t.currentTarget).hasClass("ui-state-active"))return this._start(t)===!1?!1:void this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var n=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=n.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(.5*n.height())&&n.height()>0&&n.height(n.height());this.options.disabled&&this.disable()},_keydown:function(t){var r=this.options,i=n.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,r.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-r.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'><\/span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;<\/span><\/a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;<\/span><\/a>"},_start:function(n){return this.spinning||this._trigger("start",n)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(n,t,i){n=n||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,t,i)},n);this._spin(t*this.options.step,i)},_spin:function(n,t){var i=this.value()||0;this.counter||(this.counter=1);i=this._adjustValue(i+n*this._increment(this.counter));this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?n.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var n=this._precisionOf(this.options.step);return null!==this.options.min&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=n.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(n){var r,i,t=this.options;return r=null!==t.min?t.min:0,i=n-r,i=Math.round(i/t.step)*t.step,n=r+i,n=parseFloat(n.toFixed(this._precision())),null!==t.max&&n>t.max?t.max:null!==t.min&&n<t.min?t.min:n},_stop:function(n){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",n))},_setOption:function(n,t){if("culture"===n||"numberFormat"===n){var i=this._parse(this.element.val());return this.options[n]=t,void this.element.val(this._format(i))}"max"!==n&&"min"!==n&&"step"!==n||"string"==typeof t&&(t=this._parse(t));"icons"===n&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down));this._super(n,t);"disabled"===n&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:t(function(n){this._super(n)}),_parse:function(n){return"string"==typeof n&&""!==n&&(n=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(n,10,this.options.culture):+n),""===n||isNaN(n)?null:n},_format:function(n){return""===n?"":window.Globalize&&this.options.numberFormat?Globalize.format(n,this.options.numberFormat,this.options.culture):n},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var n=this.value();return null===n?!1:n===this._adjustValue(n)},_value:function(n,t){var i;""!==n&&(i=this._parse(n),null!==i&&(t||(i=this._adjustValue(i)),n=this._format(i)));this.element.val(n);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:t(function(n){this._stepUp(n)}),_stepUp:function(n){this._start()&&(this._spin((n||1)*this.options.step),this._stop())},stepDown:t(function(n){this._stepDown(n)}),_stepDown:function(n){this._start()&&(this._spin((n||1)*-this.options.step),this._stop())},pageUp:t(function(n){this._stepUp((n||1)*this.options.page)}),pageDown:t(function(n){this._stepDown((n||1)*this.options.page)}),value:function(n){return arguments.length?void t(this._value).call(this,n):this._parse(this.element.val())},widget:function(){return this.uiSpinner}});n.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var n=/#.*$/;return function(t){var i,r;t=t.cloneNode(!1);i=t.href.replace(n,"");r=location.href.replace(n,"");try{i=decodeURIComponent(i)}catch(u){}try{r=decodeURIComponent(r)}catch(u){}return t.hash.length>1&&i===r}}(),_create:function(){var i=this,t=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",t.collapsible);this._processTabs();t.active=this._initialActive();n.isArray(t.disabled)&&(t.disabled=n.unique(t.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"),function(n){return i.tabs.index(n)}))).sort());this.active=this.options.active!==!1&&this.anchors.length?this._findActive(t.active):n();this._refresh();this.active.length&&this.load(t.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each(function(i,u){if(n(u).attr("aria-controls")===r)return(t=i,!1)}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):n()}},_tabKeydown:function(t){var r=n(this.document[0].activeElement).closest("li"),i=this.tabs.index(r),u=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:i++;break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:u=!1;i--;break;case n.ui.keyCode.END:i=this.anchors.length-1;break;case n.ui.keyCode.HOME:i=0;break;case n.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case n.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i===this.options.active?!1:i);default:return}t.preventDefault();clearTimeout(this.activating);i=this._focusNextTab(i,u);t.ctrlKey||t.metaKey||(r.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===n.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===n.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===n.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function u(){return t>r&&(t=0),0>t&&(t=r),t}for(var r=this.tabs.length-1;-1!==n.inArray(u(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(n,t){return n=this._findNextTab(n,t),this.tabs.eq(n).focus(),n},_setOption:function(n,t){return"active"===n?void this._activate(t):"disabled"===n?void this._setupDisabled(t):(this._super(n,t),"collapsible"===n&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===n&&this._setupEvents(t),void("heightStyle"===n&&this._setupHeightStyle(t)))},_sanitizeSelector:function(n){return n?n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=n.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)});this._processTabs();t.active!==!1&&this.anchors.length?this.active.length&&!n.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=n()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=n());this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,r=this.anchors,u=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){n(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){n(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return n("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=n();this.anchors.each(function(i,r){var f,u,e,s=n(r).uniqueId().attr("id"),o=n(r).closest("li"),h=o.attr("aria-controls");t._isLocal(r)?(f=r.hash,e=f.substring(1),u=t.element.find(t._sanitizeSelector(f))):(e=o.attr("aria-controls")||n({}).uniqueId()[0].id,f="#"+e,u=t.element.find(f),u.length||(u=t._createPanel(e),u.insertAfter(t.panels[i-1]||t.tablist)),u.attr("aria-live","polite"));u.length&&(t.panels=t.panels.add(u));h&&o.data("ui-tabs-aria-controls",h);o.attr({"aria-controls":e,"aria-labelledby":s});u.attr("aria-labelledby",s)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel");i&&(this._off(i.not(this.tabs)),this._off(r.not(this.anchors)),this._off(u.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return n("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){n.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,r=0;i=this.tabs[r];r++)t===!0||-1!==n.inArray(r,t)?n(i).addClass("ui-state-disabled").attr("aria-disabled","true"):n(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(!0,this.anchors,{click:function(n){n.preventDefault()}});this._on(this.anchors,i);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();"fill"===t?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=n(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=n(this).outerHeight(!0)}),this.panels.each(function(){n(this).height(Math.max(0,i-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,n(this).height("").height())}).height(i))},_eventHandler:function(t){var u=this.options,r=this.active,c=n(t.currentTarget),i=c.closest("li"),f=i[0]===r[0],e=f&&u.collapsible,o=e?n():this._getPanelForTab(i),s=r.length?this._getPanelForTab(r):n(),h={oldTab:r,oldPanel:s,newTab:e?n():i,newPanel:o};t.preventDefault();i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||f&&!u.collapsible||this._trigger("beforeActivate",t,h)===!1||(u.active=e?!1:this.tabs.index(i),this.active=f?n():i,this.xhr&&this.xhr.abort(),s.length||o.length||n.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(i),t),this._toggle(t,h))},_toggle:function(t,i){function e(){u.running=!1;u._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active");r.length&&u.options.show?u._show(r,u.options.show,e):(r.show(),e())}var u=this,r=i.newPanel,f=i.oldPanel;this.running=!0;f.length&&this.options.hide?this._hide(f,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),f.hide(),o());f.attr("aria-hidden","true");i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});r.length&&f.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===n(this).attr("tabIndex")}).attr("tabIndex",-1);r.attr("aria-hidden","false");i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var r,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),r=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:r,currentTarget:r,preventDefault:n.noop}))},_findActive:function(t){return t===!1?n():this.tabs.eq(t)},_getIndex:function(n){return"string"==typeof n&&(n=this.anchors.index(this.anchors.filter("[href$='"+n+"']"))),n},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tablist.unbind(this.eventNamespace);this.tabs.add(this.panels).each(function(){n.data(this,"ui-tabs-destroy")?n(this).remove():n(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var t=n(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=n.isArray(i)?n.map(i,function(n){return n!==t?n:null}):n.map(this.tabs,function(n,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==n.inArray(t,i))return;i=n.isArray(i)?n.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var u=this,r=this.tabs.eq(t),e=r.find(".ui-tabs-anchor"),f=this._getPanelForTab(r),o={tab:r,panel:f},s=function(n,t){"abort"===t&&u.panels.stop(!1,!0);r.removeClass("ui-tabs-loading");f.removeAttr("aria-busy");n===u.xhr&&delete u.xhr};this._isLocal(e[0])||(this.xhr=n.ajax(this._ajaxSettings(e,i,o)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),f.attr("aria-busy","true"),this.xhr.done(function(n,t,r){setTimeout(function(){f.html(n);u._trigger("load",i,o);s(r,t)},1)}).fail(function(n,t){setTimeout(function(){s(n,t)},1)})))},_ajaxSettings:function(t,i,r){var u=this;return{url:t.attr("href"),beforeSend:function(t,f){return u._trigger("beforeLoad",i,n.extend({jqXHR:t,ajaxSettings:f},r))}}},_getPanelForTab:function(t){var i=n(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}});n.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=n(this).attr("title")||"";return n("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(i);t.data("ui-tooltip-id",i).attr("aria-describedby",n.trim(r.join(" ")))},_removeDescribedBy:function(t){var u=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=n.inArray(u,i);-1!==r&&i.splice(r,1);t.removeData("ui-tooltip-id");i=n.trim(i.join(" "));i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable();this.liveRegion=n("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var r=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&n.each(this.tooltips,function(n,t){r._updateContent(t.element)})))},_disable:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r.element[0];t.close(u,!0)});this.element.find(this.options.items).addBack().each(function(){var t=n(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=n(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var r=this,i=n(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var i,t=n(this);t.data("ui-tooltip-open")&&(i=n.Event("blur"),i.target=i.currentTarget=this,r.close(i,!0));t.attr("title")&&(t.uniqueId(),r.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(t,i),this._updateContent(i,t))},_updateContent:function(n,t){var i,r=this.options.content,u=this,f=t?t.type:null;return"string"==typeof r?this._open(t,n,r):(i=r.call(n[0],function(i){u._delay(function(){n.data("ui-tooltip-open")&&(t&&(t.type=f),this._open(t,n,i))})}),void(i&&this._open(t,n,i)))},_open:function(t,i,r){function o(n){s.of=n;u.is(":hidden")||u.position(s)}var f,u,h,e,s=n.extend({},this.options.position);if(r){if(f=this._find(i))return void f.tooltip.find(".ui-tooltip-content").html(r);i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title"));f=this._tooltip(i);u=f.tooltip;this._addDescribedBy(i,u.attr("id"));u.find(".ui-tooltip-content").html(r);this.liveRegion.children().hide();r.clone?(e=r.clone(),e.removeAttr("id").find("[id]").removeAttr("id")):e=r;n("<div>").html(e).appendTo(this.liveRegion);this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:o}),o(t)):u.position(n.extend({of:i},this.options.position));u.hide();this._show(u,this.options.show);this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){u.is(":visible")&&(o(s.of),clearInterval(h))},n.fx.interval));this._trigger("open",t,{tooltip:u})}},_registerCloseHandlers:function(t,i){var r={keyup:function(t){if(t.keyCode===n.ui.keyCode.ESCAPE){var r=n.Event(t);r.currentTarget=i[0];this.close(r,!0)}}};i[0]!==this.element[0]&&(r.remove=function(){this._removeTooltip(this._find(i).tooltip)});t&&"mouseover"!==t.type||(r.mouseleave="close");t&&"focusin"!==t.type||(r.focusout="close");this._on(!0,i,r)},close:function(t){var u,f=this,i=n(t?t.currentTarget:this.element),r=this._find(i);return r?(u=r.tooltip,void(r.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),r.hiding=!0,u.stop(!0),this._hide(u,this.options.hide,function(){f._removeTooltip(n(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&n.each(this.parents,function(t,i){n(i.element).attr("title",i.title);delete f.parents[t]}),r.closing=!0,this._trigger("close",t,{tooltip:u}),r.hiding||(r.closing=!1)))):void i.removeData("ui-tooltip-open")},_tooltip:function(t){var i=n("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),r=i.uniqueId().attr("id");return n("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[r]={element:t,tooltip:i}},_find:function(n){var t=n.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(n){n.remove();delete this.tooltips[n.attr("id")]},_destroy:function(){var t=this;n.each(this.tooltips,function(i,r){var f=n.Event("blur"),u=r.element;f.target=f.currentTarget=u[0];t.close(f,!0);n("#"+i).remove();u.data("ui-tooltip-title")&&(u.attr("title")||u.attr("title",u.data("ui-tooltip-title")),u.removeData("ui-tooltip-title"))});this.liveRegion.remove()}})}),function(){"use strict";function n(n,t){return n.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:"",format:null,statefulFilters:!0}).constant("moment",t).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig","angularMomentConfig",function(t,i,r,u,f){return function(e,o,s){function a(){var n,t,r;return y?n=y:u.serverTime?(t=(new Date).getTime(),r=t-it+u.serverTime,n=i(r)):n=i(),n}function v(){l&&(t.clearTimeout(l),l=null)}function b(n){var f=a().diff(n,"day"),u=w&&f>=w,r,i;(u?o.text(n.format(nt)):o.text(n.from(a(),p)),g&&!o.attr("title")&&o.attr("title",n.local().format(g)),u)||(r=Math.abs(a().diff(n,"minute")),i=3600,1>r?i=1:60>r?i=30:180>r&&(i=300),l=t.setTimeout(function(){b(n)},1e3*i))}function k(n){ut&&o.attr("datetime",n)}function h(){if(v(),c){var n=r.preprocessDate(c,tt,d);b(n);k(n.toISOString())}}var c,y,l=null,d=f.format,p=u.withoutSuffix,g=u.titleFormat,w=u.fullDateThreshold,nt=u.fullDateFormat,it=(new Date).getTime(),tt=f.preprocess,rt=s.amTimeAgo,ut="TIME"===o[0].nodeName.toUpperCase();e.$watch(rt,function(n){return"undefined"==typeof n||null===n||""===n?(v(),void(c&&(o.text(""),k(""),c=null))):(c=n,void h())});n.isDefined(s.amFrom)&&e.$watch(s.amFrom,function(n){y="undefined"==typeof n||null===n||""===n?null:i(n);h()});n.isDefined(s.amWithoutSuffix)&&e.$watch(s.amWithoutSuffix,function(n){"boolean"==typeof n?(p=n,h()):p=u.withoutSuffix});s.$observe("amFormat",function(n){"undefined"!=typeof n&&(d=n,h())});s.$observe("amPreprocess",function(n){tt=n;h()});s.$observe("amFullDateThreshold",function(n){w=n;h()});s.$observe("amFullDateFormat",function(n){nt=n;h()});e.$on("$destroy",function(){v()});e.$on("amMoment:localeChanged",function(){h()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(t,i,r,u){this.preprocessors={utc:t.utc,unix:t.unix};this.changeLocale=function(r,u){var f=t.locale(r,u);return n.isDefined(r)&&i.$broadcast("amMoment:localeChanged"),f};this.changeTimezone=function(n){u.timezone=n;i.$broadcast("amMoment:timezoneChanged")};this.preprocessDate=function(i,f,e){return n.isUndefined(f)&&(f=u.preprocess),this.preprocessors[f]?this.preprocessors[f](i,e):(f&&r.warn("angular-moment: Ignoring unsupported value for preprocess: "+f),!isNaN(parseFloat(i))&&isFinite(i)?t(parseInt(i,10)):t(i,e))};this.applyTimezone=function(n,t){return(t=t||u.timezone)?(t.match(/^Z|[+-]\d\d:?\d\d$/i)?n=n.utcOffset(t):n.tz?n=n.tz(t):r.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?"),n):n}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(n,t,i){function r(i,r,u){if("undefined"==typeof i||null===i)return"";i=t.preprocessDate(i,r);var f=n(i);return f.isValid()?t.applyTimezone(f,u).calendar():""}return r.$stateful=i.statefulFilters,r}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(n,t,i){function r(i,r,u,f,e,o){var h,s;if("undefined"==typeof i||null===i||(i=t.preprocessDate(i,e),h=n(i),!h.isValid()))return"";if("undefined"==typeof r||null===r)s=n();else if(r=t.preprocessDate(r,o),s=n(r),!s.isValid())return"";return t.applyTimezone(h).diff(t.applyTimezone(s),u,f)}return r.$stateful=i.statefulFilters,r}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(n,t,i){function r(r,u,f,e,o){var h=o||i.format,s;return"undefined"==typeof r||null===r?"":(r=t.preprocessDate(r,f,h),s=n(r),s.isValid()?t.applyTimezone(s,e).format(u):"")}return r.$stateful=i.statefulFilters,r}]).filter("amDurationFormat",["moment","angularMomentConfig",function(n,t){function i(t,i,r){return"undefined"==typeof t||null===t?"":n.duration(t,i).humanize(r)}return i.$stateful=t.statefulFilters,i}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(n,t,i){function r(i,r,u,f){var e,o;return"undefined"==typeof i||null===i?"":(i=t.preprocessDate(i,r),e=n(i),e.isValid()?(o=n(f),"undefined"!=typeof f&&o.isValid()?t.applyTimezone(e).from(o,u):t.applyTimezone(e).fromNow(u)):"")}return r.$stateful=i.statefulFilters,r}]).filter("amSubtract",["moment","angularMomentConfig",function(n,t){function i(t,i,r){return"undefined"==typeof t||null===t?"":n(t).subtract(parseInt(i,10),r)}return i.$stateful=t.statefulFilters,i}]).filter("amAdd",["moment","angularMomentConfig",function(n,t){function i(t,i,r){return"undefined"==typeof t||null===t?"":n(t).add(parseInt(i,10),r)}return i.$stateful=t.statefulFilters,i}])}"function"==typeof define&&define.amd?define(["angular","moment"],n):"undefined"!=typeof module&&module&&module.exports?(n(angular,require("moment")),module.exports="angularMoment"):n(angular,("undefined"!=typeof global?global:window).moment)}(),function(n,t){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(i,r){return n.daterangepicker=t(i,r)});else if("object"==typeof module&&module.exports){var i="undefined"!=typeof window?window.jQuery:void 0;i||(i=require("jquery"),i.fn||(i.fn={}));module.exports=t(require("moment"),i)}else n.daterangepicker=t(n.moment,n.jQuery)}(this,function(n,t){var i=function(i,r,u){var a,f,o,e,h,l,s,v,y,c;if(this.parentEl="body",this.element=t(i),this.startDate=n().startOf("day"),this.endDate=n().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:n.weekdaysMin(),monthNames:n.monthsShort(),firstDay:n.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof r&&null!==r||(r={}),r=t.extend(this.element.data(),r),"string"==typeof r.template||r.template instanceof t||(r.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"><\/i><div class="calendar-time"><div><\/div><i class="fa fa-clock-o glyphicon glyphicon-time"><\/i><\/div><\/div><div class="calendar-table"><\/div><\/div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"><\/i><div class="calendar-time"><div><\/div><i class="fa fa-clock-o glyphicon glyphicon-time"><\/i><\/div><\/div><div class="calendar-table"><\/div><\/div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"><\/button> <button class="cancelBtn" type="button"><\/button><\/div><\/div><\/div>'),this.parentEl=t(r.parentEl&&t(r.parentEl).length?r.parentEl:this.parentEl),this.container=t(r.template).appendTo(this.parentEl),"object"==typeof r.locale&&("string"==typeof r.locale.direction&&(this.locale.direction=r.locale.direction),"string"==typeof r.locale.format&&(this.locale.format=r.locale.format),"string"==typeof r.locale.separator&&(this.locale.separator=r.locale.separator),"object"==typeof r.locale.daysOfWeek&&(this.locale.daysOfWeek=r.locale.daysOfWeek.slice()),"object"==typeof r.locale.monthNames&&(this.locale.monthNames=r.locale.monthNames.slice()),"number"==typeof r.locale.firstDay&&(this.locale.firstDay=r.locale.firstDay),"string"==typeof r.locale.applyLabel&&(this.locale.applyLabel=r.locale.applyLabel),"string"==typeof r.locale.cancelLabel&&(this.locale.cancelLabel=r.locale.cancelLabel),"string"==typeof r.locale.weekLabel&&(this.locale.weekLabel=r.locale.weekLabel),"string"==typeof r.locale.customRangeLabel&&(this.locale.customRangeLabel=r.locale.customRangeLabel)),this.container.addClass(this.locale.direction),"string"==typeof r.startDate&&(this.startDate=n(r.startDate,this.locale.format)),"string"==typeof r.endDate&&(this.endDate=n(r.endDate,this.locale.format)),"string"==typeof r.minDate&&(this.minDate=n(r.minDate,this.locale.format)),"string"==typeof r.maxDate&&(this.maxDate=n(r.maxDate,this.locale.format)),"object"==typeof r.startDate&&(this.startDate=n(r.startDate)),"object"==typeof r.endDate&&(this.endDate=n(r.endDate)),"object"==typeof r.minDate&&(this.minDate=n(r.minDate)),"object"==typeof r.maxDate&&(this.maxDate=n(r.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof r.applyClass&&(this.applyClass=r.applyClass),"string"==typeof r.cancelClass&&(this.cancelClass=r.cancelClass),"object"==typeof r.dateLimit&&(this.dateLimit=r.dateLimit),"string"==typeof r.opens&&(this.opens=r.opens),"string"==typeof r.drops&&(this.drops=r.drops),"boolean"==typeof r.showWeekNumbers&&(this.showWeekNumbers=r.showWeekNumbers),"boolean"==typeof r.showISOWeekNumbers&&(this.showISOWeekNumbers=r.showISOWeekNumbers),"string"==typeof r.buttonClasses&&(this.buttonClasses=r.buttonClasses),"object"==typeof r.buttonClasses&&(this.buttonClasses=r.buttonClasses.join(" ")),"boolean"==typeof r.showDropdowns&&(this.showDropdowns=r.showDropdowns),"boolean"==typeof r.showCustomRangeLabel&&(this.showCustomRangeLabel=r.showCustomRangeLabel),"boolean"==typeof r.singleDatePicker&&(this.singleDatePicker=r.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof r.timePicker&&(this.timePicker=r.timePicker),"boolean"==typeof r.timePickerSeconds&&(this.timePickerSeconds=r.timePickerSeconds),"number"==typeof r.timePickerIncrement&&(this.timePickerIncrement=r.timePickerIncrement),"boolean"==typeof r.timePicker24Hour&&(this.timePicker24Hour=r.timePicker24Hour),"boolean"==typeof r.autoApply&&(this.autoApply=r.autoApply),"boolean"==typeof r.autoUpdateInput&&(this.autoUpdateInput=r.autoUpdateInput),"boolean"==typeof r.linkedCalendars&&(this.linkedCalendars=r.linkedCalendars),"function"==typeof r.isInvalidDate&&(this.isInvalidDate=r.isInvalidDate),"function"==typeof r.isCustomDate&&(this.isCustomDate=r.isCustomDate),"boolean"==typeof r.alwaysShowCalendars&&(this.alwaysShowCalendars=r.alwaysShowCalendars),0!=this.locale.firstDay)for(a=this.locale.firstDay;a>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),a--;if("undefined"==typeof r.startDate&&"undefined"==typeof r.endDate&&t(this.element).is("input[type=text]")&&(h=t(this.element).val(),l=h.split(this.locale.separator),f=o=null,2==l.length?(f=n(l[0],this.locale.format),o=n(l[1],this.locale.format)):this.singleDatePicker&&""!==h&&(f=n(h,this.locale.format),o=n(h,this.locale.format)),null!==f&&null!==o&&(this.setStartDate(f),this.setEndDate(o))),"object"==typeof r.ranges){for(e in r.ranges)f="string"==typeof r.ranges[e][0]?n(r.ranges[e][0],this.locale.format):n(r.ranges[e][0]),o="string"==typeof r.ranges[e][1]?n(r.ranges[e][1],this.locale.format):n(r.ranges[e][1]),this.minDate&&f.isBefore(this.minDate)&&(f=this.minDate.clone()),s=this.maxDate,(this.dateLimit&&s&&f.clone().add(this.dateLimit).isAfter(s)&&(s=f.clone().add(this.dateLimit)),s&&o.isAfter(s)&&(o=s.clone()),this.minDate&&o.isBefore(this.minDate,this.timepicker?"minute":"day")||s&&f.isAfter(s,this.timepicker?"minute":"day"))||(v=document.createElement("textarea"),v.innerHTML=e,y=v.value,this.ranges[y]=[f,o]);c="<ul>";for(e in this.ranges)c+='<li data-range-key="'+e+'">'+e+"<\/li>";this.showCustomRangeLabel&&(c+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"<\/li>");c+="<\/ul>";this.container.find(".ranges").prepend(c)}"function"==typeof u&&(this.callback=u);this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide());this.timePicker&&this.autoApply&&(this.autoApply=!1);this.autoApply&&"object"!=typeof r.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide");this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide());("undefined"==typeof r.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar");this.container.addClass("opens"+this.opens);"undefined"!=typeof r.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent());this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses);this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass);this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass);this.container.find(".applyBtn").html(this.locale.applyLabel);this.container.find(".cancelBtn").html(this.locale.cancelLabel);this.container.find(".calendar").on("click.daterangepicker",".prev",t.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",t.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",t.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",t.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",t.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",t.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",t.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsChanged,this));this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",t.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",t.proxy(this.clickCancel,this)).on("click.daterangepicker","li",t.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",t.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",t.proxy(this.updateFormInputs,this));this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":t.proxy(this.show,this),"focus.daterangepicker":t.proxy(this.show,this),"keyup.daterangepicker":t.proxy(this.elementChanged,this),"keydown.daterangepicker":t.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",t.proxy(this.toggle,this));this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return i.prototype={constructor:i,setStartDate:function(t){"string"==typeof t&&(this.startDate=n(t,this.locale.format));"object"==typeof t&&(this.startDate=n(t));this.timePicker||(this.startDate=this.startDate.startOf("day"));this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate,this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement));this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate,this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement));this.isShowing||this.updateElement();this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=n(t,this.locale.format));"object"==typeof t&&(this.endDate=n(t));this.timePicker||(this.endDate=this.endDate.endOf("day"));this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone());this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate);this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit));this.previousRightTime=this.endDate.clone();this.isShowing||this.updateElement();this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled"));this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active"));this.updateMonthsInView();this.updateCalendars();this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2);this.rightCalendar.month=this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.startDate.clone().date(2).add(1,"month"):this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){var n,i,r,t;this.timePicker&&(this.endDate?(n=parseInt(this.container.find(".left .hourselect").val(),10),i=parseInt(this.container.find(".left .minuteselect").val(),10),r=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour)||(t=this.container.find(".left .ampmselect").val(),"PM"===t&&12>n&&(n+=12),"AM"===t&&12===n&&(n=0)):(n=parseInt(this.container.find(".right .hourselect").val(),10),i=parseInt(this.container.find(".right .minuteselect").val(),10),r=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour)||(t=this.container.find(".right .ampmselect").val(),"PM"===t&&12>n&&(n+=12),"AM"===t&&12===n&&(n=0)),this.leftCalendar.month.hour(n).minute(i).second(r),this.rightCalendar.month.hour(n).minute(i).second(r));this.renderCalendar("left");this.renderCalendar("right");this.container.find(".ranges li").removeClass("active");null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(i){var r="left"==i?this.leftCalendar:this.rightCalendar,g=r.month.month(),nt=r.month.year(),pt=r.month.hour(),et=r.month.minute(),ot=r.month.second(),wt=n([nt,g]).daysInMonth(),w=n([nt,g,1]),bt=n([nt,g,wt]),st=n(w).subtract(1,"month").month(),ht=n(w).subtract(1,"month").year(),tt=n([ht,st]).daysInMonth(),ct=w.day(),r=[],s,a,it,d,l,ut,f,u,o,p;for(r.firstDay=w,r.lastDay=bt,s=0;6>s;s++)r[s]=[];a=tt-ct+this.locale.firstDay+1;a>tt&&(a-=7);ct==this.locale.firstDay&&(a=tt-6);for(var b=n([ht,st,a,12,et,ot]),s=0,u=0,f=0;42>s;s++,u++,b=n(b).add(24,"hour"))s>0&&u%7==0&&(u=0,f++),r[f][u]=b.clone().hour(pt).minute(et).second(ot),b.hour(12),this.minDate&&r[f][u].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&r[f][u].isBefore(this.minDate)&&"left"==i&&(r[f][u]=this.minDate.clone()),this.maxDate&&r[f][u].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&r[f][u].isAfter(this.maxDate)&&"right"==i&&(r[f][u]=this.maxDate.clone());"left"==i?this.leftCalendar.calendar=r:this.rightCalendar.calendar=r;var v="left"==i?this.minDate:this.startDate,h=this.maxDate,k=("left"==i?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"}),e='<table class="table-condensed">';if(e+="<thead>",e+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(e+="<th><\/th>"),e+=v&&!v.isBefore(r.firstDay)||this.linkedCalendars&&"left"!=i?"<th><\/th>":'<th class="prev available"><i class="fa fa-'+k.left+" glyphicon glyphicon-"+k.left+'"><\/i><\/th>',it=this.locale.monthNames[r[1][1].month()]+r[1][1].format(" YYYY"),this.showDropdowns){for(var lt=r[1][1].month(),y=r[1][1].year(),at=h&&h.year()||y+5,vt=v&&v.year()||y-50,kt=y==vt,dt=y==at,rt='<select class="monthselect">',c=0;12>c;c++)rt+=(!kt||c>=v.month())&&(!dt||c<=h.month())?"<option value='"+c+"'"+(c===lt?" selected='selected'":"")+">"+this.locale.monthNames[c]+"<\/option>":"<option value='"+c+"'"+(c===lt?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[c]+"<\/option>";for(rt+="<\/select>",d='<select class="yearselect">',l=vt;at>=l;l++)d+='<option value="'+l+'"'+(l===y?' selected="selected"':"")+">"+l+"<\/option>";d+="<\/select>";it=rt+d}for((e+='<th colspan="5" class="month">'+it+"<\/th>",e+=h&&!h.isAfter(r.lastDay)||this.linkedCalendars&&"right"!=i&&!this.singleDatePicker?"<th><\/th>":'<th class="next available"><i class="fa fa-'+k.right+" glyphicon glyphicon-"+k.right+'"><\/i><\/th>',e+="<\/tr>",e+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(e+='<th class="week">'+this.locale.weekLabel+"<\/th>"),t.each(this.locale.daysOfWeek,function(n,t){e+="<th>"+t+"<\/th>"}),e+="<\/tr>",e+="<\/thead>",e+="<tbody>",null==this.endDate&&this.dateLimit)&&(ut=this.startDate.clone().add(this.dateLimit).endOf("day"),h&&!ut.isBefore(h)||(h=ut)),f=0;6>f;f++){for(e+="<tr>",this.showWeekNumbers?e+='<td class="week">'+r[f][0].week()+"<\/td>":this.showISOWeekNumbers&&(e+='<td class="week">'+r[f][0].isoWeek()+"<\/td>"),u=0;7>u;u++){o=[];r[f][u].isSame(new Date,"day")&&o.push("today");r[f][u].isoWeekday()>5&&o.push("weekend");r[f][u].month()!=r[1][1].month()&&o.push("off");this.minDate&&r[f][u].isBefore(this.minDate,"day")&&o.push("off","disabled");h&&r[f][u].isAfter(h,"day")&&o.push("off","disabled");this.isInvalidDate(r[f][u])&&o.push("off","disabled");r[f][u].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&o.push("active","start-date");null!=this.endDate&&r[f][u].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&o.push("active","end-date");null!=this.endDate&&r[f][u]>this.startDate&&r[f][u]<this.endDate&&o.push("in-range");p=this.isCustomDate(r[f][u]);p!==!1&&("string"==typeof p?o.push(p):Array.prototype.push.apply(o,p));for(var ft="",yt=!1,s=0;s<o.length;s++)ft+=o[s]+" ","disabled"==o[s]&&(yt=!0);yt||(ft+="available");e+='<td class="'+ft.replace(/^\s+|\s+$/g,"")+'" data-title="r'+f+"c"+u+'">'+r[f][u].date()+"<\/td>"}e+="<\/tr>"}e+="<\/tbody>";e+="<\/table>";this.container.find(".calendar."+i+" .calendar-table").html(e)},renderTimePicker:function(n){var r,i,e,u,s,v,c,o,f,t,l,a;if("right"!=n||this.endDate){u=this.maxDate;(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(u=this.startDate.clone().add(this.dateLimit)),"left"==n)?(i=this.startDate.clone(),e=this.minDate):"right"==n&&(i=this.endDate.clone(),e=this.startDate,s=this.container.find(".calendar.right .calendar-time div"),this.endDate||""==s.html()||(i.hour(s.find(".hourselect option:selected").val()||i.hour()),i.minute(s.find(".minuteselect option:selected").val()||i.minute()),i.second(s.find(".secondselect option:selected").val()||i.second()),this.timePicker24Hour)||(v=s.find(".ampmselect option:selected").val(),"PM"===v&&i.hour()<12&&i.hour(i.hour()+12),"AM"===v&&12===i.hour()&&i.hour(0)),i.isBefore(this.startDate)&&(i=this.startDate.clone()),u&&i.isAfter(u)&&(i=u.clone()));r='<select class="hourselect">';for(var y=this.timePicker24Hour?0:1,p=this.timePicker24Hour?23:12,t=y;p>=t;t++)c=t,this.timePicker24Hour||(c=i.hour()>=12?12==t?12:t+12:12==t?0:t),o=i.clone().hour(c),f=!1,e&&o.minute(59).isBefore(e)&&(f=!0),u&&o.minute(0).isAfter(u)&&(f=!0),r+=c!=i.hour()||f?f?'<option value="'+t+'" disabled="disabled" class="disabled">'+t+"<\/option>":'<option value="'+t+'">'+t+"<\/option>":'<option value="'+t+'" selected="selected">'+t+"<\/option>";for(r+="<\/select> ",r+=': <select class="minuteselect">',t=0;60>t;t+=this.timePickerIncrement){var h=10>t?"0"+t:t,o=i.clone().minute(t),f=!1;e&&o.second(59).isBefore(e)&&(f=!0);u&&o.second(0).isAfter(u)&&(f=!0);r+=i.minute()!=t||f?f?'<option value="'+t+'" disabled="disabled" class="disabled">'+h+"<\/option>":'<option value="'+t+'">'+h+"<\/option>":'<option value="'+t+'" selected="selected">'+h+"<\/option>"}if(r+="<\/select> ",this.timePickerSeconds){for(r+=': <select class="secondselect">',t=0;60>t;t++){var h=10>t?"0"+t:t,o=i.clone().second(t),f=!1;e&&o.isBefore(e)&&(f=!0);u&&o.isAfter(u)&&(f=!0);r+=i.second()!=t||f?f?'<option value="'+t+'" disabled="disabled" class="disabled">'+h+"<\/option>":'<option value="'+t+'">'+h+"<\/option>":'<option value="'+t+'" selected="selected">'+h+"<\/option>"}r+="<\/select> "}this.timePicker24Hour||(r+='<select class="ampmselect">',l="",a="",e&&i.clone().hour(12).minute(0).second(0).isBefore(e)&&(l=' disabled="disabled" class="disabled"'),u&&i.clone().hour(0).minute(0).second(0).isAfter(u)&&(a=' disabled="disabled" class="disabled"'),r+=i.hour()>=12?'<option value="AM"'+l+'>AM<\/option><option value="PM" selected="selected"'+a+">PM<\/option>":'<option value="AM" selected="selected"'+l+'>AM<\/option><option value="PM"'+a+">PM<\/option>",r+="<\/select>");this.container.find(".calendar."+n+" .calendar-time div").html(r)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var i,n={top:0,left:0},r=t(window).width();this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},r=this.parentEl[0].clientWidth+this.parentEl.offset().left);i="up"==this.drops?this.element.offset().top-this.container.outerHeight()-n.top:this.element.offset().top+this.element.outerHeight()-n.top;this.container["up"==this.drops?"addClass":"removeClass"]("dropup");"left"==this.opens?(this.container.css({top:i,right:r-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:i,left:this.element.offset().left-n.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:i,left:this.element.offset().left-n.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>t(window).width()&&this.container.css({left:"auto",right:0}))},show:function(){this.isShowing||(this._outsideClickProxy=t.proxy(function(n){this.outsideClick(n)},this),t(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),t(window).on("resize.daterangepicker",t.proxy(function(n){this.move(n)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),t(document).off(".daterangepicker"),t(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(){this.isShowing?this.hide():this.show()},outsideClick:function(n){var i=t(n.target);"focusin"==n.type||i.closest(this.element).length||i.closest(this.container).length||i.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar");this.move();this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar");this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(n){var t,i;this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(t=n.target.getAttribute("data-range-key"),t==this.locale.customRangeLabel?this.updateView():(i=this.ranges[t],this.container.find("input[name=daterangepicker_start]").val(i[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(i[1].format(this.locale.format))))},clickRange:function(n){var t=n.target.getAttribute("data-range-key"),i;(this.chosenLabel=t,t==this.locale.customRangeLabel)?this.showCalendars():(i=this.ranges[t],this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply())},clickPrev:function(n){var i=t(n.target).parents(".calendar");i.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month");this.updateCalendars()},clickNext:function(n){var i=t(n.target).parents(".calendar");i.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month"));this.updateCalendars()},hoverDate:function(n){if(t(n.target).hasClass("available")){var r=t(n.target).attr("data-title"),u=r.substr(1,1),f=r.substr(3,1),e=t(n.target).parents(".calendar"),i=e.hasClass("left")?this.leftCalendar.calendar[u][f]:this.rightCalendar.calendar[u][f];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(i.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(i.format(this.locale.format));var o=this.leftCalendar,s=this.rightCalendar,h=this.startDate;this.endDate||this.container.find(".calendar td").each(function(n,r){if(!t(r).hasClass("week")){var f=t(r).attr("data-title"),e=f.substr(1,1),c=f.substr(3,1),l=t(r).parents(".calendar"),u=l.hasClass("left")?o.calendar[e][c]:s.calendar[e][c];u.isAfter(h)&&u.isBefore(i)||u.isSame(i,"day")?t(r).addClass("in-range"):t(r).removeClass("in-range")}})}},clickDate:function(n){var i,u,f,e;if(t(n.target).hasClass("available")){var o=t(n.target).attr("data-title"),s=o.substr(1,1),h=o.substr(3,1),c=t(n.target).parents(".calendar"),r=c.hasClass("left")?this.leftCalendar.calendar[s][h]:this.rightCalendar.calendar[s][h];this.endDate||r.isBefore(this.startDate,"day")?(this.timePicker&&(i=parseInt(this.container.find(".left .hourselect").val(),10),this.timePicker24Hour||(u=this.container.find(".left .ampmselect").val(),"PM"===u&&12>i&&(i+=12),"AM"===u&&12===i&&(i=0)),f=parseInt(this.container.find(".left .minuteselect").val(),10),e=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,r=r.clone().hour(i).minute(f).second(e)),this.endDate=null,this.setStartDate(r.clone())):!this.endDate&&r.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(i=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||(u=this.container.find(".right .ampmselect").val(),"PM"===u&&12>i&&(i+=12),"AM"===u&&12===i&&(i=0)),f=parseInt(this.container.find(".right .minuteselect").val(),10),e=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,r=r.clone().hour(i).minute(f).second(e)),this.setEndDate(r.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply()));this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply());this.updateView();n.stopPropagation()}},calculateChosenLabel:function(){var t=!0,i=0;for(var n in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])){t=!1;this.chosenLabel=this.container.find(".ranges li:eq("+i+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){t=!1;this.chosenLabel=this.container.find(".ranges li:eq("+i+")").addClass("active").html();break}i++}t&&this.showCustomRangeLabel&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},clickApply:function(){this.hide();this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.hide();this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(n){var u=t(n.target).closest(".calendar").hasClass("left"),e=u?"left":"right",f=this.container.find(".calendar."+e),r=parseInt(f.find(".monthselect").val(),10),i=f.find(".yearselect").val();u||(i<this.startDate.year()||i==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),i=this.startDate.year());this.minDate&&(i<this.minDate.year()||i==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),i=this.minDate.year());this.maxDate&&(i>this.maxDate.year()||i==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),i=this.maxDate.year());u?(this.leftCalendar.month.month(r).year(i),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(r).year(i),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month")));this.updateCalendars()},timeChanged:function(n){var u=t(n.target).closest(".calendar"),h=u.hasClass("left"),r=parseInt(u.find(".hourselect").val(),10),o=parseInt(u.find(".minuteselect").val(),10),s=this.timePickerSeconds?parseInt(u.find(".secondselect").val(),10):0,e,i,f;this.timePicker24Hour||(e=u.find(".ampmselect").val(),"PM"===e&&12>r&&(r+=12),"AM"===e&&12===r&&(r=0));h?(i=this.startDate.clone(),i.hour(r),i.minute(o),i.second(s),this.setStartDate(i),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&this.endDate.isBefore(i)&&this.setEndDate(i.clone())):this.endDate&&(f=this.endDate.clone(),f.hour(r),f.minute(o),f.second(s),this.setEndDate(f));this.updateCalendars();this.updateFormInputs();this.renderTimePicker("left");this.renderTimePicker("right")},formInputsChanged:function(i){var f=t(i.target).closest(".calendar").hasClass("right"),r=n(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),u=n(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);r.isValid()&&u.isValid()&&(f&&u.isBefore(r)&&(r=u.clone()),this.setStartDate(r),this.setEndDate(u),f?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format)));this.updateView()},formInputsFocused:function(n){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active");t(n.target).addClass("active");var i=t(n.target).closest(".calendar").hasClass("right");i&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(){if(!this.endDate){var i=this.container.find('input[name="daterangepicker_end"]').val(),t=n(i,this.locale.format);t.isValid()&&(this.setEndDate(t),this.updateView())}},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var r=this.element.val().split(this.locale.separator),t=null,i=null;2===r.length&&(t=n(r[0],this.locale.format),i=n(r[1],this.locale.format));(this.singleDatePicker||null===t||null===i)&&(t=n(this.element.val(),this.locale.format),i=t);t.isValid()&&i.isValid()&&(this.setStartDate(t),this.setEndDate(i),this.updateView())}},keydown:function(n){9!==n.keyCode&&13!==n.keyCode||this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData()}},t.fn.daterangepicker=function(n,r){return this.each(function(){var u=t(this);u.data("daterangepicker")&&u.data("daterangepicker").remove();u.data("daterangepicker",new i(u,n,r))}),this},i}),function(){var n;n=angular.module("daterangepicker",[]);n.constant("dateRangePickerConfig",{clearLabel:"Clear",locale:{separator:" - ",format:"YYYY-MM-DD"}});n.directive("dateRangePicker",["$compile","$timeout","$parse","dateRangePickerConfig",function(n,t,i,r){return{require:"ngModel",restrict:"A",scope:{min:"=",max:"=",model:"=ngModel",opts:"=options",clearable:"="},link:function(n,t,i,u){var p,s,c,h,e,l,a,v,y,w,b,k,o,f;return h=function(){var n,t;return t=angular.extend.apply(angular,Array.prototype.slice.call(arguments).map(function(n){if(null!=n)return n.locale}).filter(function(n){return!!n})),n=angular.extend.apply(angular,arguments),n.locale=t,n},o=$(t),k=n.opts,f=h({},r,k),e=null,p=function(){return e.setStartDate(),e.setEndDate()},l=function(n){return function(t){if(e&&t)return n(moment(t))}},v=l(function(n){return e.endDate<n&&e.setEndDate(n),f.startDate=n,e.setStartDate(n)}),a=l(function(n){return e.startDate>n&&e.setStartDate(n),f.endDate=n,e.setEndDate(n)}),y=function(n){return function(t,i){return t&&i?n(moment(t),moment(i)):!0}},b=y(function(n,t){return n.isBefore(t)||n.isSame(t,"day")}),w=y(function(n,t){return n.isAfter(t)||n.isSame(t,"day")}),u.$formatters.push(function(n){var t;return t=function(n){return moment.isMoment(n)?n.format(f.locale.format):moment(n).format(f.locale.format)},f.singleDatePicker&&n?t(n):n.startDate?[t(n.startDate),t(n.endDate)].join(f.locale.separator):""}),u.$render=function(){return u.$modelValue&&u.$modelValue.startDate?(v(u.$modelValue.startDate),a(u.$modelValue.endDate)):p(),o.val(u.$viewValue)},u.$parsers.push(function(n){var i,t,r;return i=function(n){return moment(n,f.locale.format)},t={startDate:null,endDate:null},angular.isString(n)&&n.length>0&&(f.singleDatePicker?t=i(n):(r=n.split(f.locale.separator).map(i),t.startDate=r[0],t.endDate=r[1])),t}),u.$isEmpty=function(n){return!(angular.isString(n)&&n.length>0)},s=function(){var i,t;o.daterangepicker(angular.extend(f,{autoUpdateInput:!1}),function(t,i){return n.$apply(function(){return n.model=f.singleDatePicker?t:{startDate:t,endDate:i}})});e=o.data("daterangepicker");t=[];for(i in f.eventHandlers)t.push(o.on(i,function(t){var i;return i=t.type+"."+t.namespace,n.$evalAsync(f.eventHandlers[i])}));return t},s(),n.$watch("model.startDate",function(n){return v(n)}),n.$watch("model.endDate",function(n){return a(n)}),c=function(t,r,e,o){if(i[t])return(u.$validators[t]=function(n){return n&&r(f[o],n[e])},n.$watch(t,function(n){return f[o]=n?moment(n):!1,s()}))},c("min",b,"startDate","minDate"),c("max",w,"endDate","maxDate"),i.options&&n.$watch("opts",function(n){return f=h(f,n),s()},!0),i.clearable&&n.$watch("clearable",function(t){return t&&(f=h(f,{locale:{cancelLabel:f.clearLabel}})),s(),t?o.on("cancel.daterangepicker",function(){return n.$apply(function(){return n.model=f.singleDatePicker?null:{startDate:null,endDate:null}})}):void 0}),n.$on("$destroy",function(){if(null!=e)return e.remove()})}}}])}.call(this),function(n){"use strict";var t="socialshare",i=["facebook","facebook-messenger","twitter","linkedin","google","pinterest","tumblr","reddit","stumbleupon","buffer","digg","delicious","vk","pocket","wordpress","flipboard","xing","hackernews","evernote","whatsapp","telegram","viber","skype","email","ok"],ft=function(){var t=[{provider:"email",conf:{subject:"",body:"",to:"",cc:"",bcc:"",trigger:"click"}},{provider:"facebook",conf:{url:"",text:"",media:"",type:"",via:"",to:"",from:"",ref:"",display:"",source:"",caption:"",redirectUri:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"facebook-messenger",conf:{url:""}},{provider:"twitter",conf:{url:"",text:"",via:"",hashtags:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"linkedin",conf:{url:"",text:"",description:"",source:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"reddit",conf:{url:"",text:"",subreddit:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"vk",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"ok",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"digg",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"delicious",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"stumbleupon",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"pinterest",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"google",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"tumblr",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"buffer",conf:{url:"",text:"",via:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"pocket",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"flipboard",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"hackernews",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"wordpress",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"xing",conf:{url:"",text:"",media:"",follow:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"evernote",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"whatsapp",conf:{url:"",text:""}},{provider:"telegram",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"viber",conf:{url:"",text:""}},{provider:"skype",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}}];return{configure:function(r){var h,o,e,f,u=0,s=0,c=n.injector(["ng"]).get("$log");if(r&&r.length>0)for(;u<r.length;u+=1)if(r[u].provider&&i.indexOf(r[u].provider)>-1){for(;s<t.length;s+=1)if(f=t[s],f&&f.provider&&r[u].provider===f.provider){for(h=Object.keys(f.conf),o=0;o<h.length;o+=1)e=h[o],e&&r[u].conf[e]&&(f.conf[e]=r[u].conf[e]);s=0;break}}else c.warn("Invalid provider at element "+u+" with name:"+r[u].provider)},$get:function(){return t}}},r=function(n,t){var i;t.socialshareType&&"feed"===t.socialshareType?(i="https://www.facebook.com/dialog/feed?",t.socialshareVia&&(i+="&app_id="+encodeURIComponent(t.socialshareVia)),t.socialshareRedirectUri&&(i+="&redirect_uri="+encodeURIComponent(t.socialshareRedirectUri)),t.socialshareUrl&&(i+="&link="+encodeURIComponent(t.socialshareUrl)),t.socialshareTo&&(i+="&to="+encodeURIComponent(t.socialshareTo)),t.socialshareDisplay&&(i+="&display="+encodeURIComponent(t.socialshareDisplay)),t.socialshareRef&&(i+="&ref="+encodeURIComponent(t.socialshareRef)),t.socialshareFrom&&(i+="&from="+encodeURIComponent(t.socialshareFrom)),t.socialshareDescription&&(i+="&description="+encodeURIComponent(t.socialshareDescription)),t.socialshareText&&(i+="&name="+encodeURIComponent(t.socialshareText)),t.socialshareCaption&&(i+="&caption="+encodeURIComponent(t.socialshareCaption)),t.socialshareMedia&&(i+="&picture="+encodeURIComponent(t.socialshareMedia)),t.socialshareSource&&(i+="&source="+encodeURIComponent(t.socialshareSource)),n.open(i,"Facebook","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)):t.socialshareType&&"send"===t.socialshareType?(i="https://www.facebook.com/dialog/send?",t.socialshareVia&&(i+="&app_id="+encodeURIComponent(t.socialshareVia)),t.socialshareRedirectUri&&(i+="&redirect_uri="+encodeURIComponent(t.socialshareRedirectUri)),t.socialshareUrl&&(i+="&link="+encodeURIComponent(t.socialshareUrl)),t.socialshareTo&&(i+="&to="+encodeURIComponent(t.socialshareTo)),t.socialshareDisplay&&(i+="&display="+encodeURIComponent(t.socialshareDisplay)),t.socialshareRef&&(i+="&ref="+encodeURIComponent(t.socialshareRef)),n.open(i,"Facebook","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)):n.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t.socialshareUrl||n.location.href),"Facebook","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},u=function(n,t){var i="mailto:";t.socialshareTo&&(i+=encodeURIComponent(t.socialshareTo));i+="?";t.socialshareBody&&(i+="body="+t.socialshareBody);t.socialshareSubject&&(i+="&subject="+encodeURIComponent(t.socialshareSubject));t.socialshareCc&&(i+="&cc="+encodeURIComponent(t.socialshareCc));t.socialshareBcc&&(i+="&bcc="+encodeURIComponent(t.socialshareBcc));n.open(i,"_self")},et=function(n,t,i){var r="fb-messenger://share?link="+encodeURIComponent(t.socialshareUrl||n.location.href);i.attr("href",r);i.attr("target","_top")},f=function(n,t){var i="https://www.twitter.com/intent/tweet?";t.socialshareText&&(i+="text="+encodeURIComponent(t.socialshareText));t.socialshareVia&&(i+="&via="+encodeURIComponent(t.socialshareVia));t.socialshareHashtags&&(i+="&hashtags="+encodeURIComponent(t.socialshareHashtags));i+="&url="+encodeURIComponent(t.socialshareUrl||n.location.href);n.open(i,"Twitter","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},e=function(n,t){n.open("https://plus.google.com/share?url="+encodeURIComponent(t.socialshareUrl||n.location.href),"Google+","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},o=function(n,t){var i="https://www.reddit.com/";i+=t.socialshareSubreddit?"r/"+t.socialshareSubreddit+"/submit?url=":"submit?url=";t.socialsharePopupWidth<900&&(t.socialsharePopupWidth=900);t.socialsharePopupHeight<650&&(t.socialsharePopupHeight=650);n.open(i+encodeURIComponent(t.socialshareUrl||n.location.href)+"&title="+encodeURIComponent(t.socialshareText),"Reddit","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},s=function(n,t){n.open("https://www.stumbleupon.com/submit?url="+encodeURIComponent(t.socialshareUrl||n.location.href)+"&title="+encodeURIComponent(t.socialshareText),"StumbleUpon","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},h=function(n,t){var i="https://www.linkedin.com/shareArticle?mini=true";i+="&url="+encodeURIComponent(t.socialshareUrl||n.location.href);t.socialshareText&&(i+="&title="+encodeURIComponent(t.socialshareText));t.socialshareDescription&&(i+="&summary="+encodeURIComponent(t.socialshareDescription));t.socialshareSource&&(i+="&source="+encodeURIComponent(t.socialshareSource));n.open(i,"Linkedin","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},c=function(n,t){n.open("https://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(t.socialshareUrl||n.location.href)+"&media="+encodeURIComponent(t.socialshareMedia)+"&description="+encodeURIComponent(t.socialshareText),"Pinterest","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},l=function(n,t){n.open("https://www.digg.com/submit?url="+encodeURIComponent(t.socialshareUrl||n.location.href)+"&title="+encodeURIComponent(t.socialshareText),"Digg","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},a=function(n,t){if(t.socialshareMedia){var i="https://www.tumblr.com/share/photo?source="+encodeURIComponent(t.socialshareMedia);t.socialshareText&&(i+="&caption="+encodeURIComponent(t.socialshareText));n.open(i,"Tumblr","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)}else n.open("https://www.tumblr.com/share/link?url="+encodeURIComponent(t.socialshareUrl||n.location.href)+"&description="+encodeURIComponent(t.socialshareText),"Tumblr","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},v=function(n,t){var i="https://www.vk.com/share.php?url="+encodeURIComponent(t.socialshareUrl||n.location.href);t.socialshareText&&(i+="&title="+encodeURIComponent(t.socialshareText));t.socialshareMedia&&(i+="&image="+encodeURIComponent(t.socialshareMedia));t.socialshareDescription&&(i+="&description="+encodeURIComponent(t.socialshareDescription));n.open(i,"Vk","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},y=function(n,t){n.open("http://www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1&st._surl="+encodeURIComponent(t.socialshareUrl||n.location.href)+"&st.comments="+encodeURIComponent(t.socialshareText),"Ok","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},p=function(n,t){n.open("https://www.delicious.com/save?v=5&noui&jump=close&url="+encodeURIComponent(t.socialshareUrl||n.location.href)+"&title="+encodeURIComponent(t.socialshareText),"Delicious","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},w=function(n,t){var i="https://bufferapp.com/add?";t.socialshareText&&(i+="text="+encodeURIComponent(t.socialshareText));t.socialshareVia&&(i+="&via="+encodeURIComponent(t.socialshareVia));t.socialshareMedia&&(i+="&picture="+encodeURIComponent(t.socialshareMedia));i+="&url="+encodeURIComponent(t.socialshareUrl||n.location.href);n.open(i,"Buffer","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},b=function(n,t){var i="https://news.ycombinator.com/submitlink?";t.socialshareText&&(i+="t="+encodeURIComponent(t.socialshareText)+"&");i+="u="+encodeURIComponent(t.socialshareUrl||n.location.href);n.open(i,"Hackernews","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},k=function(n,t){var i="https://share.flipboard.com/bookmarklet/popout?v=2&";t.socialshareText&&(i+="title="+encodeURIComponent(t.socialshareText)+"&");i+="url="+encodeURIComponent(t.socialshareUrl||n.location.href);n.open(i,"Flipboard","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},d=function(n,t){var i="https://getpocket.com/save?";t.socialshareText&&(i+="text="+encodeURIComponent(t.socialshareText)+"&");i+="url="+encodeURIComponent(t.socialshareUrl||n.location.href);n.open(i,"Pocket","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},g=function(n,t){var i="http://wordpress.com/press-this.php?";t.socialshareText&&(i+="t="+encodeURIComponent(t.socialshareText)+"&");t.socialshareMedia&&(i+="i="+encodeURIComponent(t.socialshareMedia)+"&");i+="u="+encodeURIComponent(t.socialshareUrl||n.location.href);n.open(i,"Wordpress","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},nt=function(n,t){var i="";t.socialshareFollow&&(i="&follow_url="+encodeURIComponent(t.socialshareFollow));n.open("https://www.xing.com/spi/shares/new?url="+encodeURIComponent(t.socialshareUrl||n.location.href)+i,"Xing","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},tt=function(n,t){var i="http://www.evernote.com/clip.action?url="+encodeURIComponent(t.socialshareUrl||n.location.href);t.socialshareText&&(i+="&title="+encodeURIComponent(t.socialshareText));n.open(i,"Evernote","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},ot=function(n,t,i){var r="whatsapp://send?text="+encodeURIComponent(t.socialshareText+" ")+encodeURIComponent(t.socialshareUrl||n.location.href);i.attr("href",r);i.attr("target","_top")},st=function(n,t,i){var r="viber://forward?text="+encodeURIComponent(t.socialshareText+" ")+encodeURIComponent(t.socialshareUrl||n.location.href);i.attr("href",r);i.attr("target","_top")},it=function(n,t){var i="https://telegram.me/share/url?url="+encodeURIComponent(t.socialshareUrl||n.location.href);t.socialshareText&&(i+="&text="+encodeURIComponent(t.socialshareText));n.open(i,"Telegram","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},rt=function(n,t){var i="https://web.skype.com/share?source=button&url="+encodeURIComponent(t.socialshareUrl||n.location.href);t.socialshareText&&(i+="&text="+encodeURIComponent(t.socialshareText));n.open(i,"Skype","toolbar=0,status=0,resizable=yes,width="+t.socialsharePopupWidth+",height="+t.socialsharePopupHeight+",top="+(n.innerHeight-t.socialsharePopupHeight)/2+",left="+(n.innerWidth-t.socialsharePopupWidth)/2)},ht=["$window",function(n){this.emailShare=u;this.facebookShare=r;this.twitterShare=f;this.stumbleuponShare=s;this.pinterestShare=c;this.googleShare=e;this.bufferShare=w;this.hackernewsShare=b;this.okShare=y;this.deliciousShare=p;this.pocketShare=d;this.vkShare=v;this.flipboardShare=k;this.xingShare=nt;this.diggShare=l;this.linkedinShare=h;this.wordpressShare=g;this.telegramShare=it;this.redditShare=o;this.evernoteShare=tt;this.tumblrShare=a;this.skypeShare=rt;this.share=function(t){switch(t.provider){case"email":this.emailShare(n,t.attrs);break;case"facebook":this.facebookShare(n,t.attrs);break;case"twitter":this.twitterShare(n,t.attrs);break;case"pinterest":this.pinterestShare(n,t.attrs);break;case"ok":this.okShare(n,t.attrs);break;case"vk":this.vkShare(n,t.attrs);break;case"delicious":this.deliciousShare(n,t.attrs);break;case"digg":this.diggShare(n,t.attrs);break;case"google":this.googleShare(n,t.attrs);break;case"reddit":this.redditShare(n,t.attrs);break;case"hackernews":this.hackernewsShare(n,t.attrs);break;case"skype":this.skypeShare(n,t.attrs);break;case"evernote":this.evernoteShare(n,t.attrs);break;case"pocket":this.pocketShare(n,t.attrs);break;case"tumblr":this.tumblrShare(n,t.attrs);break;case"telegram":this.telegramShare(n,t.attrs);break;case"xing":this.xingShare(n,t.attrs);break;case"buffer":this.bufferShare(n,t.attrs);break;case"stumbleupon":this.stumbleuponShare(n,t.attrs);break;case"linkedin":this.linkedinShare(n,t.attrs);break;case"wordpress":this.wordpressShare(n,t.attrs);break;case"flipboard":this.flipboardShare(n,t.attrs);break;default:return}}}],ct=["$window","socialshareConf","Socialshare","$log",function(n,t,r){var u=function(u,f,e){for(var o,s=0,h=function(){return e.socialshareProvider in ut?void ut[e.socialshareProvider](n,e,f):!0};s<t.length;s+=1)if(t[s].provider===e.socialshareProvider){o=t[s];break}-1===i.indexOf(o.provider)&&r.warn("Invalid Provider Name : "+e.socialshareProvider);e.socialshareUrl=e.socialshareUrl||o.conf.url;e.socialshareText=e.socialshareText||o.conf.text;e.socialshareMedia=e.socialshareMedia||o.conf.media;e.socialshareType=e.socialshareType||o.conf.type;e.socialshareVia=e.socialshareVia||o.conf.via;e.socialshareTo=e.socialshareTo||o.conf.to;e.socialshareFrom=e.socialshareFrom||o.conf.from;e.socialshareRef=e.socialshareRef||o.conf.ref;e.socialshareDislay=e.socialshareDislay||o.conf.display;e.socialshareSource=e.socialshareSource||o.conf.source;e.socialshareCaption=e.socialshareCaption||o.conf.caption;e.socialshareRedirectUri=e.socialshareRedirectUri||o.conf.redirectUri;e.socialshareTrigger=e.socialshareTrigger||o.conf.trigger;e.socialsharePopupHeight=e.socialsharePopupHeight||o.conf.popupHeight;e.socialsharePopupWidth=e.socialsharePopupWidth||o.conf.popupWidth;e.socialshareSubreddit=e.socialshareSubreddit||o.conf.subreddit;e.socialshareDescription=e.socialshareDescription||o.conf.description;e.socialshareFollow=e.socialshareFollow||o.conf.follow;e.socialshareHashtags=e.socialshareHashtags||o.conf.hashtags;e.socialshareBody=e.socialshareBody||o.conf.body;e.socialshareSubject=e.socialshareSubject||o.conf.subject;e.socialshareCc=e.socialshareCc||o.conf.cc;e.socialshareBcc=e.socialshareBcc||o.conf.bcc;e.socialshareTrigger?f.bind(e.socialshareTrigger,h):h()};return{restrict:"A",link:u}}],ut={email:u,facebook:r,"facebook-messenger":et,twitter:f,google:e,reddit:o,stumbleupon:s,linkedin:h,pinterest:c,digg:l,tumblr:a,vk:v,ok:y,delicious:p,buffer:w,hackernews:b,flipboard:k,pocket:d,wordpress:g,xing:nt,evernote:tt,whatsapp:ot,telegram:it,viber:st,skype:rt};n.module("720kb.socialshare",[]).provider(t+"Conf",ft).service("Socialshare",ht).directive(t,ct)}(angular),function(n,t){"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof module&&module.exports?module.exports=t(require("angular")):t(n.angular)}(this,function(n){n.module("pageslide-directive",[]).directive("pageslide",["$document","$timeout",function(t,i){return{restrict:"EA",transclude:!1,scope:{psOpen:"=?",psAutoClose:"@",psSide:"@",psSpeed:"@",psClass:"@",psSize:"@",psZindex:"@",psPush:"@",psContainer:"@",psKeyListener:"@",psBodyClass:"@",psClickOutside:"@",onopen:"=?",onclose:"=?"},link:function(r,u){function c(n){s&&!f.contains(n.target)&&(s=!1,r.psOpen=!1,r.$apply());r.psOpen&&(s=!0)}function l(n){if(e.bodyClass){var t=e.className+"-body",i=new RegExp(" "+t+"-closed| "+t+"-open");o.className=o.className.replace(i,"");o.className+=" "+t+"-"+n}}function a(){r.psOpen?"function"==typeof r.onopen&&r.onopen():"function"==typeof r.onclose&&r.onclose()}function v(){switch(e.side){case"right":f.style.width=e.size;f.style.height="100%";f.style.top="0px";f.style.bottom="0px";f.style.right="0px";break;case"left":f.style.width=e.size;f.style.height="100%";f.style.top="0px";f.style.bottom="0px";f.style.left="0px";break;case"top":f.style.height=e.size;f.style.width="100%";f.style.left="0px";f.style.top="0px";f.style.right="0px";break;case"bottom":f.style.height=e.size;f.style.width="100%";f.style.bottom="0px";f.style.left="0px";f.style.right="0px"}}function h(n,i){switch(i.side){case"right":n.style.right="-"+i.size;i.push&&(o.style.right="0px",o.style.left="0px");break;case"left":n.style.left="-"+i.size;i.push&&(o.style.left="0px",o.style.right="0px");break;case"top":n.style.top="-"+i.size;i.push&&(o.style.top="0px",o.style.bottom="0px");break;case"bottom":n.style.bottom="-"+i.size;i.push&&(o.style.bottom="0px",o.style.top="0px")}i.keyListener&&t.off("keydown",y);i.clickOutside&&t.off("touchend click",c);s=!1;l("closed");r.psOpen=!1}function p(n,i){switch(i.side){case"right":n.style.right="0px";i.push&&(o.style.right=i.size,o.style.left="-"+i.size);break;case"left":n.style.left="0px";i.push&&(o.style.left=i.size,o.style.right="-"+i.size);break;case"top":n.style.top="0px";i.push&&(o.style.top=i.size,o.style.bottom="-"+i.size);break;case"bottom":n.style.bottom="0px";i.push&&(o.style.bottom=i.size,o.style.top="-"+i.size)}r.psOpen=!0;i.keyListener&&t.on("keydown",y);i.clickOutside&&t.on("touchend click",c);l("open")}function y(n){var t=n.keyCode||n.which;t===27&&(h(f,e),i(function(){r.$apply()}))}var e={},w,f,o,s;if(e.side=r.psSide||"right",e.speed=r.psSpeed||"0.5",e.size=r.psSize||"300px",e.zindex=r.psZindex||1e3,e.className=r.psClass||"ng-pageslide",e.push="true"===r.psPush,e.container=r.psContainer||!1,e.keyListener="true"===r.psKeyListener,e.bodyClass=r.psBodyClass||!1,e.clickOutside="false"!==r.psClickOutside,e.push=e.push&&!e.container,u.addClass(e.className),s=!1,o=e.container?document.getElementById(e.container):document.body,l("closed"),f=u[0],"div"!==f.tagName.toLowerCase()&&"pageslide"!==f.tagName.toLowerCase())throw new Error("Pageslide can only be applied to <div> or <pageslide> elements");if(0===f.children.length)throw new Error("You need to have content inside the <pageslide>");w=n.element(f.children);o.appendChild(f);f.style.zIndex=e.zindex;f.style.position="fixed";f.style.transitionDuration=e.speed+"s";f.style.webkitTransitionDuration=e.speed+"s";f.style.height=e.size;f.style.transitionProperty="top, bottom, left, right";e.push&&(o.style.position="absolute",o.style.transitionDuration=e.speed+"s",o.style.webkitTransitionDuration=e.speed+"s",o.style.transitionProperty="top, bottom, left, right");e.container&&(f.style.position="absolute",o.style.position="relative",o.style.overflow="hidden");f.addEventListener("transitionend",a);v();r.$watch("psOpen",function(n){n?p(f,e):h(f,e)});r.$watch("psSize",function(n,t){t!==n&&(e.size=n,v())});r.$on("$destroy",function(){f.parentNode===o&&(e.clickOutside&&t.off("touchend click",c),o.removeChild(f));f.removeEventListener("transitionend",a)});r.psAutoClose&&(r.$on("$locationChangeStart",function(){h(f,e)}),r.$on("$stateChangeStart",function(){h(f,e)}))}}}])});!function(){"use strict";var n=angular.module("sticky",[]);n.directive("sticky",["$window","$timeout",function(n,t){return{restrict:"A",scope:{disabled:"=disabledSticky"},link:function(i,r,u){function it(){vt&&(b.on("scroll",p),lt.on("resize",tt),yt(),i.$watch(si,hi),i.$on("$destroy",oi),vt=!1)}function yt(){f=i.getInitialDimensions();fi&&(r[0].getBoundingClientRect().height||(ft=i.$watch(function(){return r.height()},function(n){n>0&&(f=i.getInitialDimensions(),ei||ft())})))}function pt(t){var i=wt(ri,t);return 1===i.length?i[0]:n}function wt(n,t){var r,i=t.parent(),u;do{if(u=i[0],1!==u.nodeType)break;if(u.tagName.toUpperCase()===n.toUpperCase())return i;r=i.parent();i=r}while(0!==r.length);return[]}function bt(t){return"true"===t?n.innerHeight-(r[0].offsetHeight+parseInt(k))<0:!1}function kt(n,t,i){var r="top",u=Math.abs(n-t),f=Math.abs(n-i);return u>f&&(r="bottom"),r}function l(n){st&&r.attr("style",st);h=!1;f.width=i.getInitialDimensions().width;nt.removeClass(d);r.removeClass(ht);r.addClass(ct);"top"===n?(r.removeClass(g),r.css("z-index",10).css("width",f.width).css("top",f.top).css("position",f.position).css("left",f.cssLeft).css("margin-top",f.marginTop).css("height",f.height)):"bottom"===n&&y===!0&&(r.addClass(g),ut(),r.css("z-index",10).css("width",f.width).css("top","").css("bottom",0).css("position","absolute").css("left",f.cssLeft).css("margin-top",f.marginTop).css("margin-bottom",f.marginBottom).css("height",f.height));e&&n===c&&e.remove()}function dt(){h=!0;t(function(){f.offsetWidth=r[0].offsetWidth},0);nt.addClass(d);r.removeClass(ct);r.removeClass(g);r.addClass(ht);ut();r.css("z-index","10").css("width",r[0].offsetWidth+"px").css("position","fixed").css("left",r.css("left").replace("px","")+"px").css(c,k+s(o)+"px").css("margin-top",0);"bottom"===c&&r.css("margin-bottom",0)}function rt(){l(c);p()}function ut(){if(at){e&&e.remove();e=angular.element("<div>");var n=r[0].offsetHeight,t=r[0].currentStyle||window.getComputedStyle(r[0]);n+=parseInt(t.marginTop,10);n+=parseInt(t.marginBottom,10);n+=parseInt(t.borderTopWidth,10);n+=parseInt(t.borderBottomWidth,10);e.css("height",r[0].offsetHeight+"px");r.after(e)}}function gt(){return!!(y&&v()>w)}function s(n){var t=0;return n.getBoundingClientRect&&(t=n.getBoundingClientRect().top),t}function v(){return"undefined"!=typeof o.scrollTop?o.scrollTop:"undefined"!=typeof o.pageYOffset?o.pageYOffset:document.documentElement.scrollTop}function ni(){var t;return t=b[0]instanceof HTMLElement?n.getComputedStyle(b[0],null).getPropertyValue("height").replace(/px;?/,""):n.innerHeight,parseInt(t)||0}function ti(){var t=u.mediaQuery||!1,i=n.matchMedia;return t&&!(i("("+t+")").matches||i(t).matches)}function ii(n,t){var r,i=n[0],u=window.getComputedStyle(i),f=u.display;return i.style.display="none",r=u[t],i.style.display=f,r}var ft,et,ot,e,a,f,ri="sticky-scroll",ui=r.css("position"),st=r.attr("style")||"",w=0,h=!1,ht=u.stickyClass||"",ct=u.unstickyClass||"",d=u.bodyClass||"",g=u.bottomClass||"",o=pt(r),lt=angular.element(n),b=angular.element(o),nt=angular.element(document.body),tt=function(){i.$root&&!i.$root.$$phase?i.$apply(rt):rt()},at="false"!==u.usePlaceholder,c="bottom"===u.anchor?"bottom":"top",y="true"===u.confine,fi=void 0!==u.isStickyLayoutDeferred?"true"===u.isStickyLayoutDeferred:!1,ei=void 0!==u.isStickyLayoutWatched?"true"===u.isStickyLayoutWatched:!0,k=u.offset?parseInt(u.offset.replace(/px;?/,"")):0,vt=!0,p=function(){var t,n,f;if(i.disabled===!0||ti())return h&&l(),!1;n=v();t="top"===c?y===!0?n>a&&w>=n:n>a:a>=n;f=kt(n,a,w);!t||bt(u.stickLimit)||h?!t&&h?l(f,n):y&&!t&&(ot=s(r[0]),l(f,n)):dt(f)},oi=function(){b.off("scroll",p);lt.off("resize",tt);tt=null;nt.removeClass(d);e&&e.remove()},si=function(){if(i.disabled===!0)return l();var n=s(r[0]);return 0===n?n:"top"===c?(ot||n)-s(o)+v():n-ni()+r[0].offsetHeight+v()},hi=function(n,t){var u=!!n,c=!t,l=n!==t||"undefined"==typeof a,b=!h&&!gt();if(l&&b&&n>0&&u){a=n-k;u&&c&&i.updateStickyContentUpdateDimensions(r[0].offsetWidth,r[0].offsetHeight);y&&r.parent().css({position:"relative"});var f=r.parent()[0],d=parseInt(f.offsetHeight)-(at?0:r[0].offsetHeight),g=parseInt(r.css("margin-bottom").replace(/px;?/,""))||0,e=s(r[0]),nt=s(f),tt=s(o),it=e-tt,rt=nt+d-e;w=it+rt-r[0].offsetHeight-g-k+ +v();p()}};i.getElement=function(){return r};i.getScrollbar=function(){return o};i.getInitialCSS=function(){return f};i.getAnchor=function(){return c};i.isSticking=function(){return h};i.getOriginalInitialCSS=function(){return et};i.processUnStickElement=function(n){l(n)};i.processCheckIfShouldStick=function(){p()};i.getInitialDimensions=function(){return{zIndex:r.css("z-index"),top:r.css("top"),position:ui,marginTop:r.css("margin-top"),marginBottom:r.css("margin-bottom"),cssLeft:ii(r,"left"),width:r[0].offsetWidth,height:r.css("height")}};i.updateStickyContentUpdateDimensions=function(n,t){n&&t&&(it(),f.width=n+"px",f.height=t+"px")};t(function(){et=i.getInitialDimensions();it()},0)},controller:["$scope","$window",function(n,t){this.resetLayout=function(i,r){function s(){"top"===o&&(u===t?t.scrollTo(0,0):u.scrollTop>0&&(u.scrollTop=0))}var u=n.getScrollbar(),e=n.getInitialCSS(),o=n.getAnchor(),f;(n.isSticking()&&(n.processUnStickElement(o),n.processCheckIfShouldStick()),n.getElement().css({width:"",height:"",position:"",top:"",zIndex:""}),e.position=n.getOriginalInitialCSS().position,delete e.offsetWidth,void 0===i&&void 0===r)&&(f=n.getElement()[0].getBoundingClientRect(),i=f.width,r=f.height);n.updateStickyContentUpdateDimensions(i,r);s()};this.getScrollbar=function(){return n.getScrollbar()}}]}}]);window.matchMedia=window.matchMedia||function(){return window.console&&console.warn&&console.warn("angular-sticky: This browser does not support matchMedia, therefore the minWidth option will not work on this browser. Polyfill matchMedia to fix this issue."),function(){return{matches:!0}}}()}(),function(n){"function"==typeof define&&define.amd?define(["jquery","moment"],n):"object"==typeof exports?module.exports=n(require("jquery"),require("moment")):n(jQuery,moment)}(function(n,t){function nt(n){return ni(n,oi)}function pu(t){var i,r={views:t.views||{}};return n.each(t,function(t,u){"views"!=t&&(n.isPlainObject(u)&&!/(time|duration|interval)$/i.test(t)&&-1==n.inArray(t,oi)?(i=null,n.each(u,function(n,u){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(n)?(r.views[n]||(r.views[n]={}),r.views[n][t]=u):(i||(i={}),i[n]=u)}),i&&(r[t]=i)):r[t]=u)}),r}function pi(n,t){t.left&&n.css({"border-left-width":1,"margin-left":t.left-1});t.right&&n.css({"border-right-width":1,"margin-right":t.right-1})}function wi(n){n.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function ut(){n("body").addClass("fc-not-allowed")}function tt(){n("body").removeClass("fc-not-allowed")}function bi(t,i,r){var u=Math.floor(i/t.length),e=Math.floor(i-u*(t.length-1)),f=[],o=[],s=[],h=0;ki(t);t.each(function(i,r){var l=i===t.length-1?e:u,c=n(r).outerHeight(!0);l>c?(f.push(r),o.push(c),s.push(n(r).height())):h+=c});r&&(i-=h,u=Math.floor(i/f.length),e=Math.floor(i-u*(f.length-1)));n(f).each(function(t,i){var r=t===f.length-1?e:u,h=o[t],c=s[t],l=r-(h-c);r>h&&n(i).height(l)})}function ki(n){n.height("")}function di(t){var i=0;return t.find("> span").each(function(t,r){var u=n(r).outerWidth();u>i&&(i=u)}),i++,t.width(i),i}function gi(n,t){var i,r=n.add(t);return r.css({position:"relative",left:-1}),i=n.outerHeight()-t.outerHeight(),r.css({position:"",left:""}),i}function pt(t){var r=t.css("position"),i=t.parents().filter(function(){var t=n(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==r&&i.length?i:n(t[0].ownerDocument||document)}function wt(n,t){var i=n.offset(),r=i.left-(t?t.left:0),u=i.top-(t?t.top:0);return{left:r,right:r+n.outerWidth(),top:u,bottom:u+n.outerHeight()}}function nr(n,t){var i=n.offset(),r=bt(n),u=i.left+d(n,"border-left-width")+r.left-(t?t.left:0),f=i.top+d(n,"border-top-width")+r.top-(t?t.top:0);return{left:u,right:u+n[0].clientWidth,top:f,bottom:f+n[0].clientHeight}}function wu(n,t){var i=n.offset(),r=i.left+d(n,"border-left-width")+d(n,"padding-left")-(t?t.left:0),u=i.top+d(n,"border-top-width")+d(n,"padding-top")-(t?t.top:0);return{left:r,right:r+n.width(),top:u,bottom:u+n.height()}}function bt(n){var i=n.innerWidth()-n[0].clientWidth,t={left:0,right:0,top:0,bottom:n.innerHeight()-n[0].clientHeight};return bu()&&"rtl"==n.css("direction")?t.left=i:t.right=i,t}function bu(){return null===ct&&(ct=ku()),ct}function ku(){var t=n("<div><div/><\/div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),i=t.children(),r=i.offset().left>t.offset().left;return t.remove(),r}function d(n,t){return parseFloat(n.css(t))||0}function tr(n){return 1==n.which&&!n.ctrlKey}function c(n){if(void 0!==n.pageX)return n.pageX;var t=n.originalEvent.touches;if(t)return t[0].pageX}function l(n){if(void 0!==n.pageY)return n.pageY;var t=n.originalEvent.touches;if(t)return t[0].pageY}function ir(n){return/^touch/.test(n.type)}function du(n){n.addClass("fc-unselectable").on("selectstart",ft)}function ft(n){n.preventDefault()}function gu(n){return window.addEventListener?(window.addEventListener("scroll",n,!0),!0):!1}function nf(n){return window.removeEventListener?(window.removeEventListener("scroll",n,!0),!0):!1}function rr(n,t){var i={left:Math.max(n.left,t.left),right:Math.min(n.right,t.right),top:Math.max(n.top,t.top),bottom:Math.min(n.bottom,t.bottom)};return i.left<i.right&&i.top<i.bottom?i:!1}function tf(n,t){return{left:Math.min(Math.max(n.left,t.left),t.right),top:Math.min(Math.max(n.top,t.top),t.bottom)}}function rf(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function uf(n,t){return{left:n.left-t.left,top:n.top-t.top}}function ur(t){var u,i,f=[],r=[];for("string"==typeof t?r=t.split(/\s*,\s*/):"function"==typeof t?r=[t]:n.isArray(t)&&(r=t),u=0;u<r.length;u++)i=r[u],"string"==typeof i?f.push("-"==i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&f.push({func:i});return f}function fr(n,t,i){for(var u,r=0;r<i.length;r++)if(u=er(n,t,i[r]))return u;return 0}function er(n,t,i){return i.func?i.func(n,t):or(n[i.field],t[i.field])*(i.order||1)}function or(t,i){return t||i?null==i?-1:null==t?1:"string"===n.type(t)||"string"===n.type(i)?String(t).localeCompare(String(i)):t-i:0}function kt(n,t){var i,r,u,f,e=n.start,o=n.end,s=t.start,h=t.end;if(o>s&&h>e)return(e>=s?(i=e.clone(),u=!0):(i=s.clone(),u=!1),h>=o?(r=o.clone(),f=!0):(r=h.clone(),f=!1),{start:i,end:r,isStart:u,isEnd:f})}function sr(n,i){return t.duration({days:n.clone().stripTime().diff(i.clone().stripTime(),"days"),ms:n.time()-i.time()})}function ff(n,i){return t.duration({days:n.clone().stripTime().diff(i.clone().stripTime(),"days")})}function hr(n,i,r){return t.duration(Math.round(n.diff(i,r,!0)),r)}function dt(n,t){for(var r,u,i=0;i<lt.length&&(r=lt[i],u=ef(r,n,t),!(u>=1&&a(u)));i++);return r}function ef(n,i,r){return null!=r?r.diff(i,n,!0):t.isDuration(i)?i.as(n):i.end.diff(i.start,n,!0)}function of(n,t,i){var r;return w(i)?(t-n)/i:(r=i.asMonths(),Math.abs(r)>=1&&a(r)?t.diff(n,"months",!0)/r:t.diff(n,"days",!0)/i.asDays())}function gt(n,t){var i,r;return w(n)||w(t)?n/t:(i=n.asMonths(),r=t.asMonths(),Math.abs(i)>=1&&a(i)&&Math.abs(r)>=1&&a(r)?i/r:n.asDays()/t.asDays())}function sf(n,i){var r;return w(n)?t.duration(n*i):(r=n.asMonths(),Math.abs(r)>=1&&a(r)?t.duration({months:r*i}):t.duration({days:n.asDays()*i}))}function w(n){return Boolean(n.hours()||n.minutes()||n.seconds()||n.milliseconds())}function hf(n){return"[object Date]"===Object.prototype.toString.call(n)||n instanceof Date}function cr(n){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(n)}function ni(n,t){var i,r,e,o,u,s,f={};if(t)for(i=0;i<t.length;i++){for(r=t[i],e=[],o=n.length-1;o>=0;o--)if(u=n[o][r],"object"==typeof u)e.unshift(u);else if(void 0!==u){f[r]=u;break}e.length&&(f[r]=ni(e))}for(i=n.length-1;i>=0;i--){s=n[i];for(r in s)r in f||(f[r]=s[r])}return f}function et(n){var t=function(){};return t.prototype=n,new t}function ti(n,t){for(var i in n)lr(n,i)&&(t[i]=n[i])}function cf(n,t){for(var i,u=["constructor","toString","valueOf"],r=0;r<u.length;r++)i=u[r],n[i]!==Object.prototype[i]&&(t[i]=n[i])}function lr(n,t){return se.call(n,t)}function lf(t){return/undefined|null|boolean|number|string/.test(n.type(t))}function ot(t,i,r){if(n.isFunction(t)&&(t=[t]),t){for(var f,u=0;u<t.length;u++)f=t[u].apply(i,r)||f;return f}}function o(){for(var n=0;n<arguments.length;n++)if(void 0!==arguments[n])return arguments[n]}function r(n){return(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function ii(n){return n.replace(/&.*?;/g,"")}function st(t){var i=[];return n.each(t,function(n,t){null!=t&&i.push(n+":"+t)}),i.join(";")}function af(n){return n.charAt(0).toUpperCase()+n.slice(1)}function vf(n,t){return n-t}function a(n){return n%1==0}function b(n,t){var i=n[t];return function(){return i.apply(n,arguments)}}function ht(n,t,i){var r,u,f,o,e,s=function(){var h=+new Date-o;t>h?r=setTimeout(s,t-h):(r=null,i||(e=n.apply(f,u),f=u=null))};return function(){f=this;u=arguments;o=+new Date;var h=i&&!r;return r||(r=setTimeout(s,t)),h&&(e=n.apply(f,u),f=u=null),e}}function ri(i,r,u){var o,s,h,f,e=i[0],c=1==i.length&&"string"==typeof e;return t.isMoment(e)?(f=t.apply(null,i),ar(e,f)):hf(e)||void 0===e?f=t.apply(null,i):(o=!1,s=!1,c?he.test(e)?(e+="-01",i=[e],o=!0,s=!0):(h=ce.exec(e))&&(o=!h[5],s=!0):n.isArray(e)&&(s=!0),f=r||o?t.utc.apply(t,i):t.apply(null,i),o?(f._ambigTime=!0,f._ambigZone=!0):u&&(s?f._ambigZone=!0:c&&(f.utcOffset?f.utcOffset(e):f.zone(e)))),f._fullCalendar=!0,f}function ui(n,r){for(var u,o=!1,s=!1,h=n.length,e=[],f=0;h>f;f++)u=n[f],t.isMoment(u)||(u=i.moment.parseZone(u)),o=o||u._ambigTime,s=s||u._ambigZone,e.push(u);for(f=0;h>f;f++)u=e[f],r||!o||u._ambigTime?s&&!u._ambigZone&&(e[f]=u.clone().stripZone()):e[f]=u.clone().stripTime();return e}function ar(n,t){n._ambigTime?t._ambigTime=!0:t._ambigTime&&(t._ambigTime=!1);n._ambigZone?t._ambigZone=!0:t._ambigZone&&(t._ambigZone=!1)}function vr(n,t){n.year(t[0]||0).month(t[1]||0).date(t[2]||0).hours(t[3]||0).minutes(t[4]||0).seconds(t[5]||0).milliseconds(t[6]||0)}function v(n,t){return f.format.call(n,t)}function yf(n,t){return yr(n,br(t))}function yr(n,t){for(var r="",i=0;i<t.length;i++)r+=fi(n,t[i]);return r}function fi(n,t){var i,r;return"string"==typeof t?t:(i=t.token)?li[i]?li[i](n):v(n,i):t.maybe&&(r=yr(n,t.maybe),r.match(/[1-9]/))?r:""}function pr(n,t,r,u,f){var e;return n=i.moment.parseZone(n),t=i.moment.parseZone(t),e=(n.localeData||n.lang).call(n),r=e.longDateFormat(r)||r,u=u||" - ",pf(n,t,br(r),u,f)}function pf(n,t,i,r,u){for(var f,o,s,a=n.clone().stripZone(),v=t.clone().stripZone(),y="",l="",h="",c="",p="",e=0;e<i.length&&(f=wr(n,t,a,v,i[e]),f!==!1);e++)y+=f;for(o=i.length-1;o>e&&(f=wr(n,t,a,v,i[o]),f!==!1);o--)l=f+l;for(s=e;o>=s;s++)h+=fi(n,i[s]),c+=fi(t,i[s]);return(h||c)&&(p=u?c+r+h:h+r+c),y+p+l}function wr(n,t,i,r,u){var f,e;return"string"==typeof u?u:(f=u.token)&&(e=su[f.charAt(0)],e&&i.isSame(r,e))?v(n,f):!1}function br(n){return n in at?at[n]:at[n]=kr(n)}function kr(n){for(var t,i=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=r.exec(n);)t[1]?i.push(t[1]):t[2]?i.push({maybe:kr(t[2])}):t[3]?i.push({token:t[3]}):t[5]&&i.push(t[5]);return i}function s(){}function wf(n,t){var i;return lr(t,"constructor")&&(i=t.constructor),"function"!=typeof i&&(i=t.constructor=function(){n.apply(this,arguments)}),i.prototype=et(n.prototype),ti(t,i.prototype),cf(t,i.prototype),ti(n,i),i}function dr(n,t){ti(t,n.prototype)}function gr(n,t){return n||t?n&&t?n.component===t.component&&nu(n,t)&&nu(t,n):!1:!0}function nu(n,t){for(var i in n)if(!/^(component|left|right|top|bottom)$/.test(i)&&n[i]!==t[i])return!1;return!0}function tu(n){var t=iu(n);return"background"===t||"inverse-background"===t}function bf(n){return"inverse-background"===iu(n)}function iu(n){return o((n.source||{}).rendering,n.rendering)}function kf(n){for(var i,r={},t=0;t<n.length;t++)i=n[t],(r[i._id]||(r[i._id]=[])).push(i);return r}function df(n,t){return n.start-t.start}function gf(r){var u,f,e,s,o=i.dataAttrPrefix;return o&&(o+="-"),u=r.data(o+"event")||null,u&&(u="object"==typeof u?n.extend({},u):{},f=u.start,null==f&&(f=u.time),e=u.duration,s=u.stick,delete u.start,delete u.time,delete u.duration,delete u.stick),null==f&&(f=r.data(o+"start")),null==f&&(f=r.data(o+"time")),null==e&&(e=r.data(o+"duration")),null==s&&(s=r.data(o+"stick")),f=null!=f?t.duration(f):null,e=null!=e?t.duration(e):null,s=Boolean(s),{eventProps:u,startTime:f,duration:e,stick:s}}function ne(n,t){for(var r,i=0;i<t.length;i++)if(r=t[i],r.leftCol<=n.rightCol&&r.rightCol>=n.leftCol)return!0;return!1}function te(n,t){return n.leftCol-t.leftCol}function ie(n){for(var u,t,i=[],r=0;r<n.length;r++){for(u=n[r],t=0;t<i.length&&uu(u,i[t]).length;t++);u.level=t;(i[t]||(i[t]=[])).push(u)}return i}function re(n){for(var f,i,r,u,t=0;t<n.length;t++)for(f=n[t],i=0;i<f.length;i++)for(r=f[i],r.forwardSegs=[],u=t+1;u<n.length;u++)uu(r,n[u],r.forwardSegs)}function ru(n){var t,i,u=n.forwardSegs,r=0;if(void 0===n.forwardPressure){for(t=0;t<u.length;t++)i=u[t],ru(i),r=Math.max(r,1+i.forwardPressure);n.forwardPressure=r}}function uu(n,t,i){i=i||[];for(var r=0;r<t.length;r++)ue(n,t[r])&&i.push(t[r]);return i}function ue(n,t){return n.bottom>t.top&&n.top<t.bottom}function fe(r,u){function ct(){a?v()&&(it(),h()):lt()}function lt(){pi=e.theme?"ui":"fc";r.addClass("fc");e.isRTL?r.addClass("fc-rtl"):r.addClass("fc-ltr");e.theme?r.addClass("ui-widget"):r.addClass("fc-unthemed");a=n("<div class='fc-view-container'/>").prependTo(r);l=f.header=new ee(f,e);p=l.render();p&&r.prepend(p);h(e.defaultView);e.handleWindowResize&&(d=ht(vt,e.windowResizeDelay),n(window).resize(d))}function at(){o&&o.removeElement();l.removeElement();a.remove();r.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");d&&n(window).unbind("resize",d)}function v(){return r.is(":visible")}function h(t){w++;o&&t&&o.type!==t&&(l.deactivateButton(o.type),k(),o.removeElement(),o=f.view=null);!o&&t&&(o=f.view=ot[t]||(ot[t]=f.instantiateView(t)),o.setElement(n("<div class='fc-view fc-"+t+"-view' />").appendTo(a)),l.activateButton(t));o&&(s=o.massageCurrentDate(s),o.displaying&&s.isWithin(o.intervalStart,o.intervalEnd)||v()&&(o.display(s),y(),dt(),gt(),wt()));y();w--}function tt(n){if(v())return(n&&rt(),w++,o.updateSize(!0),w--,!0)}function it(){v()&&rt()}function rt(){nt="number"==typeof e.contentHeight?e.contentHeight:"number"==typeof e.height?e.height-(p?p.outerHeight(!0):0):Math.round(a.width()/Math.max(e.aspectRatio,.5))}function vt(n){!w&&n.target===window&&o.start&&tt(!0)&&o.trigger("windowResize",ft)}function yt(){pt();ut()}function b(){v()&&(k(),o.displayEvents(st),y())}function pt(){k();o.clearEvents();y()}function wt(){!e.lazyFetching||wi(o.start,o.end)?ut():b()}function ut(){bi(o.start,o.end)}function bt(n){st=n;b()}function kt(){b()}function dt(){l.updateTitle(o.title)}function gt(){var n=f.getNow();n.isWithin(o.intervalStart,o.intervalEnd)?l.disableButton("today"):l.enableButton("today")}function ni(){o.select(f.buildSelectSpan.apply(f,arguments))}function ti(){o&&o.unselect()}function ii(){s=o.computePrevDate(s);h()}function ri(){s=o.computeNextDate(s);h()}function ui(){s.add(-1,"years");h()}function fi(){s.add(1,"years");h()}function ei(){s=f.getNow();h()}function oi(n){s=f.moment(n).stripZone();h()}function si(n){s.add(t.duration(n));h()}function hi(n,t){var i;t=t||"day";i=f.getViewSpec(t)||f.getUnitViewSpec(t);s=n.clone();h(i?i.type:null)}function ci(){return f.applyTimezone(s)}function k(){a.css({width:"100%",height:a.height(),overflow:"hidden"})}function y(){a.css({width:"",height:"",overflow:""})}function li(){return f}function ai(){return o}function vi(n,t){return void 0===t?e[n]:void("height"!=n&&"contentHeight"!=n&&"aspectRatio"!=n||(e[n]=t,tt(!0)))}function yi(n,t){var i=Array.prototype.slice.call(arguments,2);return t=t||ft,this.triggerWith(n,t,i),e[n]?e[n].apply(t,i):void 0}var f=this,e,c,g;f.initOptions(u||{});e=this.options;f.render=ct;f.destroy=at;f.refetchEvents=yt;f.reportEvents=bt;f.reportEventChange=kt;f.rerenderEvents=b;f.changeView=h;f.select=ni;f.unselect=ti;f.prev=ii;f.next=ri;f.prevYear=ui;f.nextYear=fi;f.today=ei;f.gotoDate=oi;f.incrementDate=si;f.zoomTo=hi;f.getDate=ci;f.getCalendar=li;f.getView=ai;f.option=vi;f.trigger=yi;c=et(eu(e.lang));(e.monthNames&&(c._months=e.monthNames),e.monthNamesShort&&(c._monthsShort=e.monthNamesShort),e.dayNames&&(c._weekdays=e.dayNames),e.dayNamesShort&&(c._weekdaysShort=e.dayNamesShort),null!=e.firstDay)&&(g=et(c._week),g.dow=e.firstDay,c._week=g);c._fullCalendar_weekCalc=function(n){return"function"==typeof n?n:"local"===n?n:"iso"===n||"ISO"===n?"ISO":void 0}(e.weekNumberCalculation);f.defaultAllDayEventDuration=t.duration(e.defaultAllDayEventDuration);f.defaultTimedEventDuration=t.duration(e.defaultTimedEventDuration);f.moment=function(){var n;return"local"===e.timezone?(n=i.moment.apply(null,arguments),n.hasTime()&&n.local()):n="UTC"===e.timezone?i.moment.utc.apply(null,arguments):i.moment.parseZone.apply(null,arguments),"_locale"in n?n._locale=c:n._lang=c,n};f.getIsAmbigTimezone=function(){return"local"!==e.timezone&&"UTC"!==e.timezone};f.applyTimezone=function(n){if(!n.hasTime())return n.clone();var i,t=f.moment(n.toArray()),r=n.time()-t.time();return r&&(i=t.clone().add(r),n.time()-i.time()==0&&(t=i)),t};f.getNow=function(){var n=e.now;return"function"==typeof n&&(n=n()),f.moment(n).stripZone()};f.getEventEnd=function(n){return n.end?n.end.clone():f.getDefaultEventEnd(n.allDay,n.start)};f.getDefaultEventEnd=function(n,t){var i=t.clone();return n?i.stripTime().add(f.defaultAllDayEventDuration):i.add(f.defaultTimedEventDuration),f.getIsAmbigTimezone()&&i.stripZone(),i};f.humanizeDuration=function(n){return(n.locale||n.lang).call(n,e.lang).humanize()};oe.call(f,e);var l,p,a,pi,o,nt,d,s,wi=f.isFetchNeeded,bi=f.fetchEvents,ft=r[0],ot={},w=0,st=[];s=null!=e.defaultDate?f.moment(e.defaultDate).stripZone():f.getNow();f.getSuggestedViewHeight=function(){return void 0===nt&&it(),nt};f.isHeightAuto=function(){return"auto"===e.contentHeight||"auto"===e.height};f.freezeContentHeight=k;f.unfreezeContentHeight=y;f.initialize()}function fu(t){n.each(pe,function(n,i){null==t[n]&&(t[n]=i(t))})}function eu(n){var i=t.localeData||t.langData;return i.call(t,n)||i.call(t,"en")}function ee(t,i){function h(){var t=i.header;return u=i.theme?"ui":"fc",t?f=n("<div class='fc-toolbar'/>").append(o("left")).append(o("right")).append(o("center")).append('<div class="fc-clear"/>'):void 0}function c(){f.remove();f=n()}function o(f){var e=n('<div class="fc-'+f+'"/>'),o=i.header[f];return o&&n.each(o.split(" "),function(){var o,f=n(),h=!0;n.each(this.split(","),function(e,o){var l,p,a,v,y,w,b,k,d,c;"title"==o?(f=f.add(n("<h2>&nbsp;<\/h2>")),h=!1):((l=(t.options.customButtons||{})[o])?(a=function(n){l.click&&l.click.call(c[0],n)},v="",y=l.text):(p=t.getViewSpec(o))?(a=function(){t.changeView(o)},s.push(o),v=p.buttonTextOverride,y=p.buttonTextDefault):t[o]&&(a=function(){t[o]()},v=(t.overrides.buttonText||{})[o],y=i.buttonText[o]),a&&(w=l?l.themeIcon:i.themeButtonIcons[o],b=l?l.icon:i.buttonIcons[o],k=v?r(v):w&&i.theme?"<span class='ui-icon ui-icon-"+w+"'><\/span>":b&&!i.theme?"<span class='fc-icon fc-icon-"+b+"'><\/span>":r(y),d=["fc-"+o+"-button",u+"-button",u+"-state-default"],c=n('<button type="button" class="'+d.join(" ")+'">'+k+"<\/button>").click(function(n){c.hasClass(u+"-state-disabled")||(a(n),(c.hasClass(u+"-state-active")||c.hasClass(u+"-state-disabled"))&&c.removeClass(u+"-state-hover"))}).mousedown(function(){c.not("."+u+"-state-active").not("."+u+"-state-disabled").addClass(u+"-state-down")}).mouseup(function(){c.removeClass(u+"-state-down")}).hover(function(){c.not("."+u+"-state-active").not("."+u+"-state-disabled").addClass(u+"-state-hover")},function(){c.removeClass(u+"-state-hover").removeClass(u+"-state-down")}),f=f.add(c)))});h&&f.first().addClass(u+"-corner-left").end().last().addClass(u+"-corner-right").end();f.length>1?(o=n("<div/>"),h&&o.addClass("fc-button-group"),o.append(f),e.append(o)):e.append(f)}),e}function l(n){f.find("h2").text(n)}function a(n){f.find(".fc-"+n+"-button").addClass(u+"-state-active")}function v(n){f.find(".fc-"+n+"-button").removeClass(u+"-state-active")}function y(n){f.find(".fc-"+n+"-button").attr("disabled","disabled").addClass(u+"-state-disabled")}function p(n){f.find(".fc-"+n+"-button").removeAttr("disabled").removeClass(u+"-state-disabled")}function w(){return s}var e=this,u,f,s;e.render=h;e.removeElement=c;e.updateTitle=l;e.activateButton=a;e.deactivateButton=v;e.disableButton=y;e.enableButton=p;e.getViewsWithButtons=w;f=n();s=[]}function oe(r){function lt(n,t){return!s||s>n||t>c}function at(n,t){var u,r,i;for(s=n,c=t,f=[],u=++b,r=e.length,y=r,i=0;r>i;i++)k(e[i],u)}function k(t,i){d(t,function(r){var u,e,o,s=n.isArray(t.events);if(i==b){if(r)for(u=0;u<r.length;u++)e=r[u],o=s?e:h(e,t),o&&f.push.apply(f,a(o));y--;y||v(f)}})}function d(t,f){for(var l,v=i.sourceFetchers,e,y,h=0;h<v.length;h++){if(l=v[h].call(u,t,s.clone(),c.clone(),r.timezone,f),l===!0)return;if("object"==typeof l)return void d(l,f)}if(e=t.events,e)n.isFunction(e)?(u.pushLoading(),e.call(u,s.clone(),c.clone(),r.timezone,function(n){f(n);u.popLoading()})):n.isArray(e)?f(e):f();else if(y=t.url,y){var p,k=t.success,g=t.error,nt=t.complete;p=n.isFunction(t.data)?t.data():t.data;var a=n.extend({},p||{}),w=o(t.startParam,r.startParam),b=o(t.endParam,r.endParam),tt=o(t.timezoneParam,r.timezoneParam);w&&(a[w]=s.format());b&&(a[b]=c.format());r.timezone&&"local"!=r.timezone&&(a[tt]=r.timezone);u.pushLoading();n.ajax(n.extend({},au,t,{data:a,success:function(t){t=t||[];var i=ot(k,this,arguments);n.isArray(i)&&(t=i);f(t)},error:function(){ot(g,this,arguments);f()},complete:function(){ot(nt,this,arguments);u.popLoading()}}))}else f()}function vt(n){var t=g(n);t&&(e.push(t),y++,k(t,b))}function g(t){var r,f,e=i.sourceNormalizers;if(n.isFunction(t)||n.isArray(t)?r={events:t}:"string"==typeof t?r={url:t}:"object"==typeof t&&(r=n.extend({},t)),r){for(r.className?"string"==typeof r.className&&(r.className=r.className.split(/\s+/)):r.className=[],n.isArray(r.events)&&(r.origArray=r.events,r.events=n.map(r.events,function(n){return h(n,r)})),f=0;f<e.length;f++)e[f].call(u,r);return r}}function yt(t){e=n.grep(e,function(n){return!nt(n,t)});f=n.grep(f,function(n){return!nt(n.source,t)});v(f)}function nt(n,t){return n&&t&&tt(n)==tt(t)}function tt(n){return("object"==typeof n?n.origArray||n.googleCalendarId||n.url||n.events:null)||n}function pt(n){n.start=u.moment(n.start);n.end=n.end?u.moment(n.end):null;ft(n,wt(n));v(f)}function wt(t){var i={};return n.each(t,function(n,t){it(n)&&void 0!==t&&lf(t)&&(i[n]=t)}),i}function it(n){return!/^_|^(id|allDay|start|end)$/.test(n)}function bt(n,t){var r,u,i,e=h(n);if(e){for(r=a(e),u=0;u<r.length;u++)i=r[u],i.source||(t&&(w.events.push(i),i.source=w),f.push(i));return v(f),r}return[]}function kt(t){var r,i;for(null==t?t=function(){return!0}:n.isFunction(t)||(r=t+"",t=function(n){return n._id==r}),f=n.grep(f,t,!0),i=0;i<e.length;i++)n.isArray(e[i].events)&&(e[i].events=n.grep(e[i].events,t,!0));v(f)}function p(t){return n.isFunction(t)?n.grep(f,t):null!=t?(t+="",n.grep(f,function(n){return n._id==t})):f}function h(i,f){var s,e,c,h={};if(r.eventDataTransform&&(i=r.eventDataTransform(i)),f&&f.eventDataTransform&&(i=f.eventDataTransform(i)),n.extend(h,i),f&&(h.source=f),h._id=i._id||(void 0===i.id?"_fc"+vu++:i.id+""),h.className=i.className?"string"==typeof i.className?i.className.split(/\s+/):i.className:[],s=i.start||i.date,e=i.end,cr(s)&&(s=t.duration(s)),cr(e)&&(e=t.duration(e)),i.dow||t.isDuration(s)||t.isDuration(e))h.start=s?t.duration(s):null,h.end=e?t.duration(e):null,h._recurring=!0;else{if(s&&(s=u.moment(s),!s.isValid()))return!1;e&&(e=u.moment(e),e.isValid()||(e=null));c=i.allDay;void 0===c&&(c=o(f?f.allDayDefault:void 0,r.allDayDefault));rt(s,e,c,h)}return u.normalizeEvent(h),h}function rt(n,t,i,r){r.start=n;r.end=t;r.allDay=i;l(r);ei(r)}function l(n){ut(n);n.end&&!n.end.isAfter(n.start)&&(n.end=null);n.end||(n.end=r.forceEventDuration?u.getDefaultEventEnd(n.allDay,n.start):null)}function ut(n){null==n.allDay&&(n.allDay=!(n.start.hasTime()||n.end&&n.end.hasTime()));n.allDay?(n.start.stripTime(),n.end&&n.end.stripTime()):(n.start.hasTime()||(n.start=u.applyTimezone(n.start.time(0))),n.end&&!n.end.hasTime()&&(n.end=u.applyTimezone(n.end.time(0))))}function a(t,i,r){var f,a,e,u,o,h,l,v,y,p=[];if(i=i||s,r=r||c,t)if(t._recurring){if(a=t.dow)for(f={},e=0;e<a.length;e++)f[a[e]]=!0;for(u=i.clone().stripTime();u.isBefore(r);)f&&!f[u.day()]||(o=t.start,h=t.end,l=u.clone(),v=null,o&&(l=l.time(o)),h&&(v=u.clone().time(h)),y=n.extend({},t),rt(l,v,!o&&!h,y),p.push(y)),u.add(1,"days")}else p.push(t);return p}function ft(t,i,r){function s(n,t){return r?hr(n,t,r):i.allDay?ff(n,t):sr(n,t)}var f,h,e,c,o,a,v={};return i=i||{},i.start||(i.start=t.start.clone()),void 0===i.end&&(i.end=t.end?t.end.clone():null),null==i.allDay&&(i.allDay=t.allDay),l(i),f={start:t._start.clone(),end:t._end?t._end.clone():u.getDefaultEventEnd(t._allDay,t._start),allDay:i.allDay},l(f),h=null!==t._end&&null===i.end,e=s(i.start,f.start),i.end?(c=s(i.end,f.end),o=c.subtract(e)):o=null,n.each(i,function(n,t){it(n)&&void 0!==t&&(v[n]=t)}),a=dt(p(t._id),h,i.allDay,e,o,v),{dateDelta:e,durationDelta:o,undo:a}}function dt(t,i,r,f,e,o){var h=u.getIsAmbigTimezone(),s=[];return f&&!f.valueOf()&&(f=null),e&&!e.valueOf()&&(e=null),n.each(t,function(t,c){var v,a;v={start:c.start.clone(),end:c.end?c.end.clone():null,allDay:c.allDay};n.each(o,function(n){v[n]=c[n]});a={start:c._start,end:c._end,allDay:r};l(a);i?a.end=null:e&&!a.end&&(a.end=u.getDefaultEventEnd(a.allDay,a.start));f&&(a.start.add(f),a.end&&a.end.add(f));e&&a.end.add(e);h&&!a.allDay&&(f||e)&&(a.start.stripZone(),a.end&&a.end.stripZone());n.extend(c,o,a);ei(c);s.push(function(){n.extend(c,v);ei(c)})}),function(){for(var n=0;n<s.length;n++)s[n]()}}function et(t){var i,f=r.businessHours,e=u.getView();return f&&(i=n.extend({},{className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},"object"==typeof f?f:{})),i?(t&&(i.start=null,i.end=null),a(h(i),e.start,e.end)):[]}function st(n,t){var i=t.source||{},u=o(t.constraint,i.constraint,r.eventConstraint),f=o(t.overlap,i.overlap,r.eventOverlap);return ct(n,u,f,t)}function gt(t,i,r){var f,u;return r&&(f=n.extend({},r,i),u=a(h(f))[0]),u?st(t,u):ht(t)}function ht(n){return ct(n,r.selectConstraint,r.selectOverlap)}function ct(n,t,i,r){var h,c,l,f,e,s;if(null!=t){for(h=ni(t),c=!1,f=0;f<h.length;f++)if(ti(h[f],n)){c=!0;break}if(!c)return!1}for(l=u.getPeerEvents(n,r),f=0;f<l.length;f++)if((e=l[f],ii(e,n))&&(i===!1||"function"==typeof i&&!i(e,r)||r&&((s=o(e.overlap,(e.source||{}).overlap),s===!1)||"function"==typeof s&&!s(r,e))))return!1;return!0}function ni(n){return"businessHours"===n?et():"object"==typeof n?a(h(n)):p(n)}function ti(n,t){var i=n.start.clone().stripZone(),r=u.getEventEnd(n).stripZone();return t.start>=i&&t.end<=r}function ii(n,t){var i=n.start.clone().stripZone(),r=u.getEventEnd(n).stripZone();return t.start<r&&t.end>i}var u=this;u.isFetchNeeded=lt;u.fetchEvents=at;u.addEventSource=vt;u.removeEventSource=yt;u.updateEvent=pt;u.renderEvent=bt;u.removeEvents=kt;u.clientEvents=p;u.mutateEvent=ft;u.normalizeEventDates=l;u.normalizeEventTimes=ut;var s,c,v=u.reportEvents,w={events:[]},e=[w],b=0,y=0,f=[];n.each((r.events?[r.events]:[]).concat(r.eventSources||[]),function(n,t){var i=g(t);i&&e.push(i)});u.getBusinessHoursEvents=et;u.isEventSpanAllowed=st;u.isExternalSpanAllowed=gt;u.isSelectionSpanAllowed=ht;u.getEventCache=function(){return f}}function ei(n){n._allDay=n.allDay;n._start=n.start.clone();n._end=n.end?n.end.clone():null}var i=n.fullCalendar={version:"2.7.3",internalApiVersion:4},y=i.views={},oi,ct,si,lt,li,su,at,ai,rt,vi,p,au,vu;n.fn.fullCalendar=function(t){var r=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(u,f){var h,s=n(f),o=s.data("fullCalendar");"string"==typeof t?o&&n.isFunction(o[t])&&(h=o[t].apply(o,r),u||(i=h),"destroy"===t&&s.removeData("fullCalendar")):o||(o=new e(s,t),s.data("fullCalendar",o),o.render())}),i};oi=["header","buttonText","buttonIcons","themeButtonIcons"];i.intersectRanges=kt;i.applyAll=ot;i.debounce=ht;i.isInt=a;i.htmlEscape=r;i.cssToStr=st;i.proxy=b;i.capitaliseFirstLetter=af;i.getOuterRect=wt;i.getClientRect=nr;i.getContentRect=wu;i.getScrollbarWidths=bt;ct=null;i.preventDefault=ft;i.intersectRects=rr;i.parseFieldSpecs=ur;i.compareByFieldSpecs=fr;i.compareByFieldSpec=er;i.flexibleCompare=or;i.computeIntervalUnit=dt;i.divideRangeByDuration=of;i.divideDurationByDuration=gt;i.multiplyDuration=sf;i.durationHasTime=w;si=["sun","mon","tue","wed","thu","fri","sat"];lt=["year","month","week","day","hour","minute","second","millisecond"];i.log=function(){var n=window.console;if(n&&n.log)return n.log.apply(n,arguments)};i.warn=function(){var n=window.console;return n&&n.warn?n.warn.apply(n,arguments):i.log.apply(i,arguments)};var hi,ci,ou,se={}.hasOwnProperty,he=/^\s*\d{4}-\d\d$/,ce=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,u=t.fn,f=n.extend({},u);i.moment=function(){return ri(arguments)};i.moment.utc=function(){var n=ri(arguments,!0);return n.hasTime()&&n.utc(),n};i.moment.parseZone=function(){return ri(arguments,!0,!0)};u.clone=function(){var n=f.clone.apply(this,arguments);return ar(this,n),this._fullCalendar&&(n._fullCalendar=!0),n};u.week=u.weeks=function(n){var t=(this._locale||this._lang)._fullCalendar_weekCalc;return null==n&&"function"==typeof t?t(this):"ISO"===t?f.isoWeek.apply(this,arguments):f.week.apply(this,arguments)};u.time=function(n){if(!this._fullCalendar)return f.time.apply(this,arguments);if(null==n)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1;t.isDuration(n)||t.isMoment(n)||(n=t.duration(n));var i=0;return t.isDuration(n)&&(i=24*Math.floor(n.asDays())),this.hours(i+n.hours()).minutes(n.minutes()).seconds(n.seconds()).milliseconds(n.milliseconds())};u.stripTime=function(){var n;return this._ambigTime||(n=this.toArray(),this.utc(),ci(this,n.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this};u.hasTime=function(){return!this._ambigTime};u.stripZone=function(){var n,t;return this._ambigZone||(n=this.toArray(),t=this._ambigTime,this.utc(),ci(this,n),this._ambigTime=t||!1,this._ambigZone=!0),this};u.hasZone=function(){return!this._ambigZone};u.local=function(){var n=this.toArray(),t=this._ambigZone;return f.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,t&&ou(this,n),this};u.utc=function(){return f.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this};n.each(["zone","utcOffset"],function(n,t){f[t]&&(u[t]=function(n){return null!=n&&(this._ambigTime=!1,this._ambigZone=!1),f[t].apply(this,arguments)})});u.format=function(){return this._fullCalendar&&arguments[0]?yf(this,arguments[0]):this._ambigTime?v(this,"YYYY-MM-DD"):this._ambigZone?v(this,"YYYY-MM-DD[T]HH:mm:ss"):f.format.apply(this,arguments)};u.toISOString=function(){return this._ambigTime?v(this,"YYYY-MM-DD"):this._ambigZone?v(this,"YYYY-MM-DD[T]HH:mm:ss"):f.toISOString.apply(this,arguments)};u.isWithin=function(n,t){var i=ui([this,n,t]);return i[0]>=i[1]&&i[0]<i[2]};u.isSame=function(n,t){var r;return this._fullCalendar?t?(r=ui([this,n],!0),f.isSame.call(r[0],r[1],t)):(n=i.moment.parseZone(n),f.isSame.call(this,n)&&Boolean(this._ambigTime)===Boolean(n._ambigTime)&&Boolean(this._ambigZone)===Boolean(n._ambigZone)):f.isSame.apply(this,arguments)};n.each(["isBefore","isAfter"],function(n,t){u[t]=function(n,i){var r;return this._fullCalendar?(r=ui([this,n]),f[t].call(r[0],r[1],i)):f[t].apply(this,arguments)}});hi="_d"in t()&&"updateOffset"in t;ci=hi?function(n,i){n._d.setTime(Date.UTC.apply(Date,i));t.updateOffset(n,!1)}:vr;ou=hi?function(n,i){n._d.setTime(+new Date(i[0]||0,i[1]||0,i[2]||0,i[3]||0,i[4]||0,i[5]||0,i[6]||0));t.updateOffset(n,!1)}:vr;li={t:function(n){return v(n,"a").charAt(0)},T:function(n){return v(n,"A").charAt(0)}};i.formatRange=pr;su={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"};at={};i.Class=s;s.extend=function(){for(var t,i=arguments.length,n=0;i>n;n++)t=arguments[n],i-1>n&&dr(this,t);return wf(this,t||{})};s.mixin=function(n){dr(this,n)};var hu=i.EmitterMixin={on:function(t,i){var r=function(n,t){return i.apply(t.context||this,t.args||[])};return i.guid||(i.guid=n.guid++),r.guid=i.guid,n(this).on(t,r),this},off:function(t,i){return n(this).off(t,i),this},trigger:function(t){var i=Array.prototype.slice.call(arguments,1);return n(this).triggerHandler(t,{args:i}),this},triggerWith:function(t,i,r){return n(this).triggerHandler(t,{context:i,args:r}),this}},it=i.ListenerMixin=function(){var t=0;return{listenerId:null,listenTo:function(t,i,r){if("object"==typeof i)for(var u in i)i.hasOwnProperty(u)&&this.listenTo(t,u,i[u]);else"string"==typeof i&&t.on(i+"."+this.getListenerNamespace(),n.proxy(r,this))},stopListeningTo:function(n,t){n.off((t||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=t++),"_listener"+this.listenerId}}}(),cu={isIgnoringMouse:!1,delayUnignoreMouse:null,initMouseIgnoring:function(n){this.delayUnignoreMouse=ht(b(this,"unignoreMouse"),n||1e3)},tempIgnoreMouse:function(){this.isIgnoringMouse=!0;this.delayUnignoreMouse()},unignoreMouse:function(){this.isIgnoringMouse=!1}},le=s.extend(it,{isHidden:!0,options:null,el:null,margin:10,constructor:function(n){this.options=n||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var i=this,t=this.options;this.el=n('<div class="fc-popover"/>').addClass(t.className||"").css({top:0,left:0}).append(t.content).appendTo(t.parentEl);this.el.on("click",".fc-close",function(){i.hide()});t.autoHide&&this.listenTo(n(document),"mousedown",this.documentMousedown)},documentMousedown:function(t){this.el&&!n(t.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide();this.el&&(this.el.remove(),this.el=null);this.stopListeningTo(n(document),"mousedown")},position:function(){var f,e,o,t,i,r=this.options,h=this.el.offsetParent().offset(),c=this.el.outerWidth(),l=this.el.outerHeight(),s=n(window),u=pt(this.el);t=r.top||0;i=void 0!==r.left?r.left:void 0!==r.right?r.right-c:0;u.is(window)||u.is(document)?(u=s,f=0,e=0):(o=u.offset(),f=o.top,e=o.left);f+=s.scrollTop();e+=s.scrollLeft();r.viewportConstrain!==!1&&(t=Math.min(t,f+u.outerHeight()-l-this.margin),t=Math.max(t,f+this.margin),i=Math.min(i,e+u.outerWidth()-c-this.margin),i=Math.max(i,e+this.margin));this.el.css({top:t-h.top,left:i-h.left})},trigger:function(n){this.options[n]&&this.options[n].apply(this,Array.prototype.slice.call(arguments,1))}}),vt=i.CoordCache=s.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(t){this.els=n(t.els);this.isHorizontal=t.isHorizontal;this.isVertical=t.isVertical;this.forcedOffsetParentEl=t.offsetParent?n(t.offsetParent):null},build:function(){var n=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=n.offset();this.boundingRect=this.queryBoundingRect();this.isHorizontal&&this.buildElHorizontals();this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null;this.boundingRect=null;this.lefts=null;this.rights=null;this.tops=null;this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},queryBoundingRect:function(){var n=pt(this.els.eq(0));if(!n.is(document))return nr(n)},buildElHorizontals:function(){var t=[],i=[];this.els.each(function(r,u){var f=n(u),e=f.offset().left,o=f.outerWidth();t.push(e);i.push(e+o)});this.lefts=t;this.rights=i},buildElVerticals:function(){var t=[],i=[];this.els.each(function(r,u){var f=n(u),e=f.offset().top,o=f.outerHeight();t.push(e);i.push(e+o)});this.tops=t;this.bottoms=i},getHorizontalIndex:function(n){this.ensureBuilt();var t,i=this.boundingRect,r=this.lefts,u=this.rights,f=r.length;if(!i||n>=i.left&&n<i.right)for(t=0;f>t;t++)if(n>=r[t]&&n<u[t])return t},getVerticalIndex:function(n){this.ensureBuilt();var t,i=this.boundingRect,r=this.tops,u=this.bottoms,f=r.length;if(!i||n>=i.top&&n<i.bottom)for(t=0;f>t;t++)if(n>=r[t]&&n<u[t])return t},getLeftOffset:function(n){return this.ensureBuilt(),this.lefts[n]},getLeftPosition:function(n){return this.ensureBuilt(),this.lefts[n]-this.origin.left},getRightOffset:function(n){return this.ensureBuilt(),this.rights[n]},getRightPosition:function(n){return this.ensureBuilt(),this.rights[n]-this.origin.left},getWidth:function(n){return this.ensureBuilt(),this.rights[n]-this.lefts[n]},getTopOffset:function(n){return this.ensureBuilt(),this.tops[n]},getTopPosition:function(n){return this.ensureBuilt(),this.tops[n]-this.origin.top},getBottomOffset:function(n){return this.ensureBuilt(),this.bottoms[n]},getBottomPosition:function(n){return this.ensureBuilt(),this.bottoms[n]-this.origin.top},getHeight:function(n){return this.ensureBuilt(),this.bottoms[n]-this.tops[n]}}),h=i.DragListener=s.extend(it,cu,{options:null,subjectEl:null,subjectHref:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,delay:null,delayTimeoutId:null,minDistance:null,handleTouchScrollProxy:null,constructor:function(n){this.options=n||{};this.handleTouchScrollProxy=b(this,"handleTouchScroll");this.initMouseIgnoring(500)},startInteraction:function(t,i){var r=ir(t);if("mousedown"===t.type){if(this.isIgnoringMouse)return;if(!tr(t))return;t.preventDefault()}this.isInteracting||(i=i||{},this.delay=o(i.delay,this.options.delay,0),this.minDistance=o(i.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,this.isInteracting=!0,this.isTouch=r,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=c(t),this.originY=l(t),this.scrollEl=pt(n(t.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(t),this.startDelay(t),this.minDistance||this.handleDistanceSurpassed(t))},handleInteractionStart:function(n){this.trigger("interactionStart",n)},endInteraction:function(n,t){this.isInteracting&&(this.endDrag(n),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(n,t),this.isTouch&&this.tempIgnoreMouse())},handleInteractionEnd:function(n,t){this.trigger("interactionEnd",n,t||!1)},bindHandlers:function(){var i=this,t=1;this.isTouch?(this.listenTo(n(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(n){t?t--:i.endInteraction(n,!0)}}),!gu(this.handleTouchScrollProxy)&&this.scrollEl&&this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)):this.listenTo(n(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction});this.listenTo(n(document),{selectstart:ft,contextmenu:ft})},unbindHandlers:function(){this.stopListeningTo(n(document));nf(this.handleTouchScrollProxy);this.scrollEl&&this.stopListeningTo(this.scrollEl,"scroll")},startDrag:function(n,t){this.startInteraction(n,t);this.isDragging||(this.isDragging=!0,this.handleDragStart(n))},handleDragStart:function(n){this.trigger("dragStart",n);this.initHrefHack()},handleMove:function(n){var r,t=c(n)-this.originX,i=l(n)-this.originY,u=this.minDistance;this.isDistanceSurpassed||(r=t*t+i*i,r>=u*u&&this.handleDistanceSurpassed(n));this.isDragging&&this.handleDrag(t,i,n)},handleDrag:function(n,t,i){this.trigger("drag",n,t,i);this.updateAutoScroll(i)},endDrag:function(n){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(n))},handleDragEnd:function(n){this.trigger("dragEnd",n);this.destroyHrefHack()},startDelay:function(n){var t=this;this.delay?this.delayTimeoutId=setTimeout(function(){t.handleDelayEnd(n)},this.delay):this.handleDelayEnd(n)},handleDelayEnd:function(n){this.isDelayEnded=!0;this.isDistanceSurpassed&&this.startDrag(n)},handleDistanceSurpassed:function(n){this.isDistanceSurpassed=!0;this.isDelayEnded&&this.startDrag(n)},handleTouchMove:function(n){this.isDragging&&n.preventDefault();this.handleMove(n)},handleMouseMove:function(n){this.handleMove(n)},handleTouchScroll:function(n){this.isDragging||this.endInteraction(n,!0)},initHrefHack:function(){var n=this.subjectEl;(this.subjectHref=n?n.attr("href"):null)&&n.removeAttr("href")},destroyHrefHack:function(){var t=this.subjectEl,n=this.subjectHref;setTimeout(function(){n&&t.attr("href",n)},0)},trigger:function(n){this.options[n]&&this.options[n].apply(this,Array.prototype.slice.call(arguments,1));this["_"+n]&&this["_"+n].apply(this,Array.prototype.slice.call(arguments,1))}});h.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var n=this.scrollEl;this.isAutoScroll=this.options.scroll&&n&&!n.is(window)&&!n.is(document);this.isAutoScroll&&this.listenTo(n,"scroll",ht(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll();this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=wt(this.scrollEl))},updateAutoScroll:function(n){var r,u,f,e,t=this.scrollSensitivity,i=this.scrollBounds,o=0,s=0;i&&(r=(t-(l(n)-i.top))/t,u=(t-(i.bottom-l(n)))/t,f=(t-(c(n)-i.left))/t,e=(t-(i.right-c(n)))/t,r>=0&&1>=r?o=r*this.scrollSpeed*-1:u>=0&&1>=u&&(o=u*this.scrollSpeed),f>=0&&1>=f?s=f*this.scrollSpeed*-1:e>=0&&1>=e&&(s=e*this.scrollSpeed));this.setScrollVel(o,s)},setScrollVel:function(n,t){this.scrollTopVel=n;this.scrollLeftVel=t;this.constrainScrollVel();!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(b(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var n=this.scrollEl;this.scrollTopVel<0?n.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&n.scrollTop()+n[0].clientHeight>=n[0].scrollHeight&&(this.scrollTopVel=0);this.scrollLeftVel<0?n.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&n.scrollLeft()+n[0].clientWidth>=n[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var n=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&n.scrollTop(n.scrollTop()+this.scrollTopVel*t);this.scrollLeftVel&&n.scrollLeft(n.scrollLeft()+this.scrollLeftVel*t);this.constrainScrollVel();this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var yt=h.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(n,t){h.call(this,t);this.component=n},handleInteractionStart:function(n){var i,r,t,u=this.subjectEl;this.computeCoords();n?(r={left:c(n),top:l(n)},t=r,u&&(i=wt(u),t=tf(t,i)),this.origHit=this.queryHit(t.left,t.top),u&&this.options.subjectCenter&&(this.origHit&&(i=rr(this.origHit,i)||i),t=rf(i)),this.coordAdjust=uf(t,r)):(this.origHit=null,this.coordAdjust=null);h.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits();this.computeScrollBounds()},handleDragStart:function(n){var t;h.prototype.handleDragStart.apply(this,arguments);t=this.queryHit(c(n),l(n));t&&this.handleHitOver(t)},handleDrag:function(n,t,i){var r;h.prototype.handleDrag.apply(this,arguments);r=this.queryHit(c(i),l(i));gr(r,this.hit)||(this.hit&&this.handleHitOut(),r&&this.handleHitOver(r))},handleDragEnd:function(){this.handleHitDone();h.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(n){var t=gr(n,this.origHit);this.hit=n;this.trigger("hitOver",this.hit,t,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){h.prototype.handleInteractionEnd.apply(this,arguments);this.origHit=null;this.hit=null;this.component.releaseHits()},handleScrollEnd:function(){h.prototype.handleScrollEnd.apply(this,arguments);this.computeCoords()},queryHit:function(n,t){return this.coordAdjust&&(n+=this.coordAdjust.left,t+=this.coordAdjust.top),this.component.queryHit(n,t)}}),ae=s.extend(it,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,i){this.options=i=i||{};this.sourceEl=t;this.parentEl=i.parentEl?n(i.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.y0=l(t),this.x0=c(t),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),ir(t)?this.listenTo(n(document),"touchmove",this.handleMove):this.listenTo(n(document),"mousemove",this.handleMove))},stop:function(t,i){function r(){this.isAnimating=!1;f.removeElement();this.top0=this.left0=null;i&&i()}var f=this,u=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(n(document)),t&&u&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:u,complete:r})):r())},getEl:function(){var n=this.el;return n||(this.sourceEl.width(),n=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}),n.addClass("fc-unselectable"),n.appendTo(this.parentEl)),n},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var n,t;this.getEl();null===this.top0&&(this.sourceEl.width(),n=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=n.top-t.top,this.left0=n.left-t.left);this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(n){this.topDelta=l(n)-this.y0;this.leftDelta=c(n)-this.x0;this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),k=i.Grid=s.extend(it,cu,{view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(n){this.view=n;this.isRTL=n.opt("isRTL");this.elsByFill={};this.dayDragListener=this.buildDayDragListener();this.initMouseIgnoring()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(n){this.start=n.start.clone();this.end=n.end.clone();this.rangeUpdated();this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var n,t,i=this.view;this.eventTimeFormat=i.opt("eventTimeFormat")||i.opt("timeFormat")||this.computeEventTimeFormat();n=i.opt("displayEventTime");null==n&&(n=this.computeDisplayEventTime());t=i.opt("displayEventEnd");null==t&&(t=this.computeDisplayEventEnd());this.displayEventTime=n;this.displayEventEnd=t},spanToSegs:function(){},diffDates:function(n,t){return this.largeUnit?hr(n,t,this.largeUnit):sr(n,t)},prepareHits:function(){},releaseHits:function(){},queryHit:function(){},getHitSpan:function(){},getHitEl:function(){},setElement:function(n){this.el=n;du(n);this.bindDayHandler("touchstart",this.dayTouchStart);this.bindDayHandler("mousedown",this.dayMousedown);this.bindSegHandlers();this.bindGlobalHandlers()},bindDayHandler:function(t,i){var r=this;this.el.on(t,function(t){if(!n(t.target).is(".fc-event-container *, .fc-more")&&!n(t.target).closest(".fc-popover").length)return i.call(r,t)})},removeElement:function(){this.unbindGlobalHandlers();this.clearDragListeners();this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(n(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(n(document))},dayMousedown:function(n){this.isIgnoringMouse||this.dayDragListener.startInteraction(n,{})},dayTouchStart:function(n){var t=this.view;(t.isSelected||t.selectedEvent)&&this.tempIgnoreMouse();this.dayDragListener.startInteraction(n,{delay:this.view.opt("longPressDelay")})},buildDayDragListener:function(){var i,t,n=this,r=this.view,f=r.opt("selectable"),u=new yt(this,{scroll:r.opt("dragScroll"),interactionStart:function(){i=u.origHit},dragStart:function(){r.unselect()},hitOver:function(r,u,e){e&&(u||(i=null),f&&(t=n.computeSelection(n.getHitSpan(e),n.getHitSpan(r)),t?n.renderSelection(t):t===!1&&ut()))},hitOut:function(){i=null;t=null;n.unrenderSelection();tt()},interactionEnd:function(u,f){f||(i&&!n.isIgnoringMouse&&r.triggerDayClick(n.getHitSpan(i),n.getHitEl(i),u),t&&r.reportSelection(t,u),tt())}});return u},clearDragListeners:function(){this.dayDragListener.endInteraction();this.segDragListener&&this.segDragListener.endInteraction();this.segResizeListener&&this.segResizeListener.endInteraction();this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(n,t){var i=this.fabricateHelperEvent(n,t);return this.renderHelper(i,t)},fabricateHelperEvent:function(n,t){var i=t?et(t.event):{};return i.start=n.start.clone(),i.end=n.end?n.end.clone():null,i.allDay=null,this.view.calendar.normalizeEventDates(i),i.className=(i.className||[]).concat("fc-helper"),t||(i.editable=!1),i},renderHelper:function(){},unrenderHelper:function(){},renderSelection:function(n){this.renderHighlight(n)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(n,t){var i=this.computeSelectionSpan(n,t);return i&&!this.view.calendar.isSelectionSpanAllowed(i)?!1:i},computeSelectionSpan:function(n,t){var i=[n.start,n.end,t.start,t.end];return i.sort(vf),{start:i[0].clone(),end:i[3].clone()}},renderHighlight:function(n){this.renderFill("highlight",this.spanToSegs(n))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},renderFill:function(){},unrenderFill:function(n){var t=this.elsByFill[n];t&&(t.remove(),delete this.elsByFill[n])},renderFillSegEls:function(t,i){var r,u=this,f=this[t+"SegEl"],e="",o=[];if(i.length){for(r=0;r<i.length;r++)e+=this.fillSegHtml(t,i[r]);n(e).each(function(t,r){var s=i[t],e=n(r);f&&(e=f.call(u,s,e));e&&(e=n(e),e.is(u.fillSegTag)&&(s.el=e,o.push(s)))})}return o},fillSegTag:"div",fillSegHtml:function(n,t){var i=this[n+"SegClasses"],r=this[n+"SegCss"],u=i?i.call(this,t):[],f=st(r?r.call(this,t):{});return"<"+this.fillSegTag+(u.length?' class="'+u.join(" ")+'"':"")+(f?' style="'+f+'"':"")+" />"},getDayClasses:function(n){var i=this.view,r=i.calendar.getNow(),t=["fc-"+si[n.day()]];return 1==i.intervalDuration.as("months")&&n.month()!=i.intervalStart.month()&&t.push("fc-other-month"),n.isSame(r,"day")?t.push("fc-today",i.highlightStateClass):r>n?t.push("fc-past"):t.push("fc-future"),t}});k.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(n){for(var i=[],r=[],t=0;t<n.length;t++)(tu(n[t])?i:r).push(n[t]);this.segs=[].concat(this.renderBgEvents(i),this.renderFgEvents(r))},renderBgEvents:function(n){var t=this.eventsToSegs(n);return this.renderBgSegs(t)||t},renderFgEvents:function(n){var t=this.eventsToSegs(n);return this.renderFgSegs(t)||t},unrenderEvents:function(){this.handleSegMouseout();this.clearDragListeners();this.unrenderFgSegs();this.unrenderBgSegs();this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},unrenderFgSegs:function(){},renderFgSegEls:function(t,i){var r,e=this.view,u="",f=[];if(t.length){for(r=0;r<t.length;r++)u+=this.fgSegHtml(t[r],i);n(u).each(function(i,r){var u=t[i],o=e.resolveEventEl(u.event,n(r));o&&(o.data("fc-seg",u),u.el=o,f.push(u))})}return f},fgSegHtml:function(){},renderBgSegs:function(n){return this.renderFill("bgEvent",n)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(n,t){return this.view.resolveEventEl(n.event,t)},bgEventSegClasses:function(n){var t=n.event,i=t.source||{};return["fc-bgevent"].concat(t.className,i.className||[])},bgEventSegCss:function(n){return{"background-color":this.getSegSkinCss(n)["background-color"]}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){this.bindSegHandler("touchstart",this.handleSegTouchStart);this.bindSegHandler("touchend",this.handleSegTouchEnd);this.bindSegHandler("mouseenter",this.handleSegMouseover);this.bindSegHandler("mouseleave",this.handleSegMouseout);this.bindSegHandler("mousedown",this.handleSegMousedown);this.bindSegHandler("click",this.handleSegClick)},bindSegHandler:function(t,i){var r=this;this.el.on(t,".fc-event-container > *",function(t){var u=n(this).data("fc-seg");if(u&&!r.isDraggingSeg&&!r.isResizingSeg)return i.call(r,u,t)})},handleSegClick:function(n,t){return this.view.trigger("eventClick",n.el[0],n.event,t)},handleSegMouseover:function(n,t){this.isIgnoringMouse||this.mousedOverSeg||(this.mousedOverSeg=n,n.el.addClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseover",n.el[0],n.event,t))},handleSegMouseout:function(n,t){t=t||{};this.mousedOverSeg&&(n=n||this.mousedOverSeg,this.mousedOverSeg=null,n.el.removeClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseout",n.el[0],n.event,t))},handleSegMousedown:function(n,t){var i=this.startSegResize(n,t,{distance:5});!i&&this.view.isEventDraggable(n.event)&&this.buildSegDragListener(n).startInteraction(t,{distance:5})},handleSegTouchStart:function(n,t){var u,i=this.view,r=n.event,f=i.isEventSelected(r),e=i.isEventDraggable(r),o=i.isEventResizable(r),s=!1;f&&o&&(s=this.startSegResize(n,t));s||!e&&!o||(u=e?this.buildSegDragListener(n):this.buildSegSelectListener(n),u.startInteraction(t,{delay:f?0:this.view.opt("longPressDelay")}));this.tempIgnoreMouse()},handleSegTouchEnd:function(){this.tempIgnoreMouse()},startSegResize:function(t,i,r){return n(i.target).is(".fc-resizer")?(this.buildSegResizeListener(t,n(i.target).is(".fc-start-resizer")).startInteraction(i,r),!0):!1},buildSegDragListener:function(n){var o,r,i,u=this,t=this.view,h=t.calendar,s=n.el,f=n.event,e;return this.segDragListener?this.segDragListener:e=this.segDragListener=new yt(t,{scroll:t.opt("dragScroll"),subjectEl:s,subjectCenter:!0,interactionStart:function(i){o=!1;r=new ae(n.el,{additionalClass:"fc-dragging",parentEl:t.el,opacity:e.isTouch?null:t.opt("dragOpacity"),revertDuration:t.opt("dragRevertDuration"),zIndex:2});r.hide();r.start(i)},dragStart:function(i){e.isTouch&&!t.isEventSelected(f)&&t.selectEvent(f);o=!0;u.handleSegMouseout(n,i);u.segDragStart(n,i);t.hideEvent(f)},hitOver:function(o,s,c){var l;n.hit&&(c=n.hit);i=u.computeEventDrop(c.component.getHitSpan(c),o.component.getHitSpan(o),f);i&&!h.isEventSpanAllowed(u.eventToSpan(i),f)&&(ut(),i=null);i&&(l=t.renderDrag(i,n))?(l.addClass("fc-dragging"),e.isTouch||u.applyDragOpacity(l),r.hide()):r.show();s&&(i=null)},hitOut:function(){t.unrenderDrag();r.show();i=null},hitDone:function(){tt()},interactionEnd:function(e){r.stop(!i,function(){o&&(t.unrenderDrag(),t.showEvent(f),u.segDragStop(n,e));i&&t.reportEventDrop(f,i,this.largeUnit,s,e)});u.segDragListener=null}})},buildSegSelectListener:function(n){var u=this,t=this.view,i=n.event,r;return this.segDragListener?this.segDragListener:r=this.segDragListener=new h({dragStart:function(){r.isTouch&&!t.isEventSelected(i)&&t.selectEvent(i)},interactionEnd:function(){u.segDragListener=null}})},segDragStart:function(n,t){this.isDraggingSeg=!0;this.view.trigger("eventDragStart",n.el[0],n.event,t,{})},segDragStop:function(n,t){this.isDraggingSeg=!1;this.view.trigger("eventDragStop",n.el[0],n.event,t,{})},computeEventDrop:function(n,t,i){var u,r,e=this.view.calendar,o=n.start,f=t.start;return o.hasTime()===f.hasTime()?(u=this.diffDates(f,o),i.allDay&&w(u)?(r={start:i.start.clone(),end:e.getEventEnd(i),allDay:!1},e.normalizeEventTimes(r)):r={start:i.start.clone(),end:i.end?i.end.clone():null,allDay:i.allDay},r.start.add(u),r.end&&r.end.add(u)):r={start:f.clone(),end:null,allDay:!f.hasTime()},r},applyDragOpacity:function(n){var t=this.view.opt("dragOpacity");null!=t&&n.each(function(n,i){i.style.opacity=t})},externalDragStart:function(t,i){var r,u,f=this.view;f.opt("droppable")&&(r=n((i?i.item:null)||t.target),u=f.opt("dropAccept"),(n.isFunction(u)?u.call(r[0],r):r.is(u))&&(this.isDraggingExternal||this.listenToExternalDrag(r,t,i)))},listenToExternalDrag:function(n,t,i){var r,u=this,e=this.view.calendar,f=gf(n),o=u.externalDragListener=new yt(this,{interactionStart:function(){u.isDraggingExternal=!0},hitOver:function(n){r=u.computeExternalDrop(n.component.getHitSpan(n),f);r&&!e.isExternalSpanAllowed(u.eventToSpan(r),r,f.eventProps)&&(ut(),r=null);r&&u.renderDrag(r)},hitOut:function(){r=null},hitDone:function(){tt();u.unrenderDrag()},interactionEnd:function(t){r&&u.view.reportExternalDrop(f,r,n,t,i);u.isDraggingExternal=!1;u.externalDragListener=null}});o.startDrag(t)},computeExternalDrop:function(n,t){var r=this.view.calendar,i={start:r.applyTimezone(n.start),end:null};return t.startTime&&!i.start.hasTime()&&i.start.time(t.startTime),t.duration&&(i.end=i.start.clone().add(t.duration)),i},renderDrag:function(){},unrenderDrag:function(){},buildSegResizeListener:function(n,t){var e,i,r=this,f=this.view,o=f.calendar,s=n.el,u=n.event,h=o.getEventEnd(u);return this.segResizeListener=new yt(this,{scroll:f.opt("dragScroll"),subjectEl:s,interactionStart:function(){e=!1},dragStart:function(t){e=!0;r.handleSegMouseout(n,t);r.segResizeStart(n,t)},hitOver:function(e,s,c){var l=r.getHitSpan(c),a=r.getHitSpan(e);i=t?r.computeEventStartResize(l,a,u):r.computeEventEndResize(l,a,u);i&&(o.isEventSpanAllowed(r.eventToSpan(i),u)?i.start.isSame(u.start)&&i.end.isSame(h)&&(i=null):(ut(),i=null));i&&(f.hideEvent(u),r.renderEventResize(i,n))},hitOut:function(){i=null},hitDone:function(){r.unrenderEventResize();f.showEvent(u);tt()},interactionEnd:function(t){e&&r.segResizeStop(n,t);i&&f.reportEventResize(u,i,this.largeUnit,s,t);r.segResizeListener=null}})},segResizeStart:function(n,t){this.isResizingSeg=!0;this.view.trigger("eventResizeStart",n.el[0],n.event,t,{})},segResizeStop:function(n,t){this.isResizingSeg=!1;this.view.trigger("eventResizeStop",n.el[0],n.event,t,{})},computeEventStartResize:function(n,t,i){return this.computeEventResize("start",n,t,i)},computeEventEndResize:function(n,t,i){return this.computeEventResize("end",n,t,i)},computeEventResize:function(n,t,i,r){var u,e,f=this.view.calendar,o=this.diffDates(i[n],t[n]);return u={start:r.start.clone(),end:f.getEventEnd(r),allDay:r.allDay},u.allDay&&w(o)&&(u.allDay=!1,f.normalizeEventTimes(u)),u[n].add(o),u.start.isBefore(u.end)||(e=this.minResizeDuration||(r.allDay?f.defaultAllDayEventDuration:f.defaultTimedEventDuration),"start"==n?u.start=u.end.clone().subtract(e):u.end=u.start.clone().add(e)),u},renderEventResize:function(){},unrenderEventResize:function(){},getEventTimeText:function(n,t,i){return null==t&&(t=this.eventTimeFormat),null==i&&(i=this.displayEventEnd),this.displayEventTime&&n.start.hasTime()?i&&n.end?this.view.formatRange(n,t):n.start.format(t):""},getSegClasses:function(n,t,i){var f=this.view,r=n.event,u=["fc-event",n.isStart?"fc-start":"fc-not-start",n.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);return t&&u.push("fc-draggable"),i&&u.push("fc-resizable"),f.isEventSelected(r)&&u.push("fc-selected"),u},getSegSkinCss:function(n){var t=n.event,i=this.view,r=t.source||{},u=t.color,f=r.color,e=i.opt("eventColor");return{"background-color":t.backgroundColor||u||r.backgroundColor||f||i.opt("eventBackgroundColor")||e,"border-color":t.borderColor||u||r.borderColor||f||i.opt("eventBorderColor")||e,color:t.textColor||r.textColor||i.opt("eventTextColor")}},eventToSegs:function(n){return this.eventsToSegs([n])},eventToSpan:function(n){return this.eventToSpans(n)[0]},eventToSpans:function(n){var t=this.eventToRange(n);return this.eventRangeToSpans(t,n)},eventsToSegs:function(t,i){var u=this,f=kf(t),r=[];return n.each(f,function(n,t){for(var e=[],f=0;f<t.length;f++)e.push(u.eventToRange(t[f]));if(bf(t[0]))for(e=u.invertRanges(e),f=0;f<e.length;f++)r.push.apply(r,u.eventRangeToSegs(e[f],t[0],i));else for(f=0;f<e.length;f++)r.push.apply(r,u.eventRangeToSegs(e[f],t[f],i))}),r},eventToRange:function(n){return{start:n.start.clone().stripZone(),end:(n.end?n.end.clone():this.view.calendar.getDefaultEventEnd(null!=n.allDay?n.allDay:!n.start.hasTime(),n.start)).stripZone()}},eventRangeToSegs:function(n,t,i){for(var f=this.eventRangeToSpans(n,t),u=[],r=0;r<f.length;r++)u.push.apply(u,this.eventSpanToSegs(f[r],t,i));return u},eventRangeToSpans:function(t){return[n.extend({},t)]},eventSpanToSegs:function(n,t,i){for(var u,f=i?i(n):this.spanToSegs(n),r=0;r<f.length;r++)u=f[r],u.event=t,u.eventStartMS=+n.start,u.eventDurationMS=n.end-n.start;return f},invertRanges:function(n){var i,r,f=this.view,o=f.start.clone(),e=f.end.clone(),u=[],t=o;for(n.sort(df),i=0;i<n.length;i++)r=n[i],r.start>t&&u.push({start:t,end:r.start}),t=r.end;return e>t&&u.push({start:t,end:e}),u},sortEventSegs:function(n){n.sort(b(this,"compareEventSegs"))},compareEventSegs:function(n,t){return n.eventStartMS-t.eventStartMS||t.eventDurationMS-n.eventDurationMS||t.event.allDay-n.event.allDay||fr(n.event,t.event,this.view.eventOrderSpecs)}});i.isBgEvent=tu;i.dataAttrPrefix="";ai=i.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var n,e,r,o=this.view,i=this.start.clone(),u=-1,f=[],t=[];i.isBefore(this.end);)o.isHiddenDay(i)?f.push(u+.5):(u++,f.push(u),t.push(i.clone())),i.add(1,"days");if(this.breakOnWeeks){for(e=t[0].day(),n=1;n<t.length&&t[n].day()!=e;n++);r=Math.ceil(t.length/n)}else r=1,n=t.length;this.dayDates=t;this.dayIndices=f;this.daysPerRow=n;this.rowCnt=r;this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt();this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(n,t){return this.dayDates[this.getCellDayIndex(n,t)].clone()},getCellRange:function(n,t){var i=this.getCellDate(n,t),r=i.clone().add(1,"days");return{start:i,end:r}},getCellDayIndex:function(n,t){return n*this.daysPerRow+this.getColDayIndex(t)},getColDayIndex:function(n){return this.isRTL?this.colCnt-1-n:n},getDateDayIndex:function(n){var t=this.dayIndices,i=n.diff(this.start,"days");return 0>i?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(n){for(var u,f,t,i,e=this.daysPerRow,o=this.view.computeDayRange(n),s=this.getDateDayIndex(o.start),h=this.getDateDayIndex(o.end.clone().subtract(1,"days")),c=[],r=0;r<this.rowCnt;r++)u=r*e,f=u+e-1,t=Math.max(s,u),i=Math.min(h,f),t=Math.ceil(t),i=Math.floor(i),i>=t&&c.push({row:r,firstRowDayIndex:t-u,lastRowDayIndex:i-u,isStart:t===s,isEnd:i===h});return c},sliceRangeByDay:function(n){for(var u,e,f,t,i,o=this.daysPerRow,s=this.view.computeDayRange(n),h=this.getDateDayIndex(s.start),c=this.getDateDayIndex(s.end.clone().subtract(1,"days")),l=[],r=0;r<this.rowCnt;r++)for(u=r*o,e=u+o-1,f=u;e>=f;f++)t=Math.max(h,f),i=Math.min(c,f),t=Math.ceil(t),i=Math.floor(i),i>=t&&l.push({row:r,firstRowDayIndex:t-u,lastRowDayIndex:i-u,isStart:t===h,isEnd:i===c});return l},renderHeadHtml:function(){var n=this.view;return'<div class="fc-row '+n.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"<\/thead><\/table><\/div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"<\/tr>"},renderHeadDateCellsHtml:function(){for(var t,i=[],n=0;n<this.colCnt;n++)t=this.getCellDate(0,n),i.push(this.renderHeadDateCellHtml(t));return i.join("")},renderHeadDateCellHtml:function(n,t,i){var u=this.view;return'<th class="fc-day-header '+u.widgetHeaderClass+" fc-"+si[n.day()]+'"'+(1==this.rowCnt?' data-date="'+n.format("YYYY-MM-DD")+'"':"")+(t>1?' colspan="'+t+'"':"")+(i?" "+i:"")+">"+r(n.format(this.colHeadFormat))+"<\/th>"},renderBgTrHtml:function(n){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(n))+this.renderBgCellsHtml(n)+(this.isRTL?this.renderBgIntroHtml(n):"")+"<\/tr>"},renderBgIntroHtml:function(){return this.renderIntroHtml()},renderBgCellsHtml:function(n){for(var i,r=[],t=0;t<this.colCnt;t++)i=this.getCellDate(n,t),r.push(this.renderBgCellHtml(i));return r.join("")},renderBgCellHtml:function(n,t){var r=this.view,i=this.getDayClasses(n);return i.unshift("fc-day",r.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+n.format("YYYY-MM-DD")+'"'+(t?" "+t:"")+"><\/td>"},renderIntroHtml:function(){},bookendCells:function(n){var t=this.renderIntroHtml();t&&(this.isRTL?n.append(t):n.prepend(t))}};rt=i.DayGrid=k.extend(ai,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(n){for(var i,f=this.view,r=this.rowCnt,e=this.colCnt,u="",t=0;r>t;t++)u+=this.renderDayRowHtml(t,n);for(this.el.html(u),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new vt({els:this.rowEls,isVertical:!0}),this.colCoordCache=new vt({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),t=0;r>t;t++)for(i=0;e>i;i++)f.trigger("dayRender",null,this.getCellDate(t,i),this.getCellEl(t,i))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var n=this.view.calendar.getBusinessHoursEvents(!0),t=this.eventsToSegs(n);this.renderFill("businessHours",t,"bgevent")},renderDayRowHtml:function(n,t){var r=this.view,i=["fc-row","fc-week",r.widgetContentClass];return t&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(n)+'<\/table><\/div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(n)+"<\/thead>":"")+"<\/table><\/div><\/div>"},renderNumberTrHtml:function(n){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(n))+this.renderNumberCellsHtml(n)+(this.isRTL?this.renderNumberIntroHtml(n):"")+"<\/tr>"},renderNumberIntroHtml:function(){return this.renderIntroHtml()},renderNumberCellsHtml:function(n){for(var i,r=[],t=0;t<this.colCnt;t++)i=this.getCellDate(n,t),r.push(this.renderNumberCellHtml(i));return r.join("")},renderNumberCellHtml:function(n){var t;return this.view.dayNumbersVisible?(t=this.getDayClasses(n),t.unshift("fc-day-number"),'<td class="'+t.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"<\/td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(n){for(var t,r=this.sliceRangeByRow(n),i=0;i<r.length;i++)t=r[i],this.isRTL?(t.leftCol=this.daysPerRow-1-t.lastRowDayIndex,t.rightCol=this.daysPerRow-1-t.firstRowDayIndex):(t.leftCol=t.firstRowDayIndex,t.rightCol=t.lastRowDayIndex);return r},prepareHits:function(){this.colCoordCache.build();this.rowCoordCache.build();this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear();this.rowCoordCache.clear()},queryHit:function(n,t){var i=this.colCoordCache.getHorizontalIndex(n),r=this.rowCoordCache.getVerticalIndex(t);if(null!=r&&null!=i)return this.getCellHit(r,i)},getHitSpan:function(n){return this.getCellRange(n.row,n.col)},getHitEl:function(n){return this.getCellEl(n.row,n.col)},getCellHit:function(n,t){return{row:n,col:t,component:this,left:this.colCoordCache.getLeftOffset(t),right:this.colCoordCache.getRightOffset(t),top:this.rowCoordCache.getTopOffset(n),bottom:this.rowCoordCache.getBottomOffset(n)}},getCellEl:function(n,t){return this.cellEls.eq(n*this.colCnt+t)},renderDrag:function(n,t){return this.renderHighlight(this.eventToSpan(n)),t&&!t.el.closest(this.el).length?this.renderEventLocationHelper(n,t):void 0},unrenderDrag:function(){this.unrenderHighlight();this.unrenderHelper()},renderEventResize:function(n,t){return this.renderHighlight(this.eventToSpan(n)),this.renderEventLocationHelper(n,t)},unrenderEventResize:function(){this.unrenderHighlight();this.unrenderHelper()},renderHelper:function(t,i){var u,f=[],r=this.eventToSegs(t);return r=this.renderFgSegEls(r),u=this.renderSegRows(r),this.rowEls.each(function(t,r){var o,s=n(r),e=n('<div class="fc-helper-skeleton"><table/><\/div>');o=i&&i.row===t?i.el.position().top:s.find(".fc-content-skeleton tbody").position().top;e.css("top",o).find("table").append(u[t].tbodyEl);s.append(e);f.push(e[0])}),this.helperEls=n(f)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,i,r){var u,f,e,o=[];for(i=this.renderFillSegEls(t,i),u=0;u<i.length;u++)f=i[u],e=this.renderFillRow(t,f,r),this.rowEls.eq(f.row).append(e),o.push(e[0]);return this.elsByFill[t]=n(o),i},renderFillRow:function(t,i,r){var f,u,s=this.colCnt,e=i.leftCol,o=i.rightCol+1;return r=r||t.toLowerCase(),f=n('<div class="fc-'+r+'-skeleton"><table><tr/><\/table><\/div>'),u=f.find("tr"),e>0&&u.append('<td colspan="'+e+'"/>'),u.append(i.el.attr("colspan",o-e)),s>o&&u.append('<td colspan="'+(s-o)+'"/>'),this.bookendCells(u),f}});rt.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover();k.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return k.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var i=n.grep(t,function(n){return n.event.allDay});return k.prototype.renderBgSegs.call(this,i)},renderFgSegs:function(t){var i;return t=this.renderFgSegEls(t),i=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,r){n(r).find(".fc-content-skeleton > table").append(i[t].tbodyEl)}),t},unrenderFgSegs:function(){for(var n,t=this.rowStructs||[];n=t.pop();)n.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(n){for(var r=[],i=this.groupSegRows(n),t=0;t<i.length;t++)r.push(this.renderSegRow(t,i[t]));return r},fgSegHtml:function(n,t){var u,f,e=this.view,i=n.event,a=e.isEventDraggable(i),s=!t&&i.allDay&&n.isStart&&e.isEventResizableFromStart(i),h=!t&&i.allDay&&n.isEnd&&e.isEventResizableFromEnd(i),c=this.getSegClasses(n,a,s||h),l=st(this.getSegSkinCss(n)),o="";return c.unshift("fc-day-grid-event","fc-h-event"),n.isStart&&(u=this.getEventTimeText(i),u&&(o='<span class="fc-time">'+r(u)+"<\/span>")),f='<span class="fc-title">'+(r(i.title||"")||"&nbsp;")+"<\/span>",'<a class="'+c.join(" ")+'"'+(i.url?' href="'+r(i.url)+'"':"")+(l?' style="'+l+'"':"")+'><div class="fc-content">'+(this.isRTL?f+" "+o:o+" "+f)+"<\/div>"+(s?'<div class="fc-resizer fc-start-resizer" />':"")+(h?'<div class="fc-resizer fc-end-resizer" />':"")+"<\/a>"},renderSegRow:function(t,i){function y(t){for(;t>u;)r=(l[f-1]||[])[u],r?r.attr("rowspan",parseInt(r.attr("rowspan")||1,10)+1):(r=n("<td/>"),o.append(r)),c[f][u]=r,l[f][u]=r,u++}for(var s,u,o,h,e,r,w=this.colCnt,a=this.buildSegLevels(i),b=Math.max(1,a.length),p=n("<tbody/>"),v=[],c=[],l=[],f=0;b>f;f++){if(s=a[f],u=0,o=n("<tr/>"),v.push([]),c.push([]),l.push([]),s)for(h=0;h<s.length;h++){for(e=s[h],y(e.leftCol),r=n('<td class="fc-event-container"/>').append(e.el),e.leftCol!=e.rightCol?r.attr("colspan",e.rightCol-e.leftCol+1):l[f][u]=r;u<=e.rightCol;)c[f][u]=r,v[f][u]=e,u++;o.append(r)}y(w);this.bookendCells(o);p.append(o)}return{row:t,tbodyEl:p,cellMatrix:c,segMatrix:v,segLevels:a,segs:i}},buildSegLevels:function(n){var r,u,t,i=[];for(this.sortEventSegs(n),r=0;r<n.length;r++){for(u=n[r],t=0;t<i.length&&ne(u,i[t]);t++);u.level=t;(i[t]||(i[t]=[])).push(u)}for(t=0;t<i.length;t++)i[t].sort(te);return i},groupSegRows:function(n){for(var i=[],t=0;t<this.rowCnt;t++)i.push([]);for(t=0;t<n.length;t++)i[n[t].row].push(n[t]);return i}});rt.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(n){for(var i,r=this.rowStructs||[],t=0;t<r.length;t++)this.unlimitRow(t),i=n?"number"==typeof n?n:this.computeRowLevelLimit(t):!1,i!==!1&&this.limitRow(t,i)},computeRowLevelLimit:function(t){function e(t,i){r=Math.max(r,n(i).outerHeight())}for(var u,r,o=this.rowEls.eq(t),s=o.height(),f=this.rowStructs[t].tbodyEl.children(),i=0;i<f.length;i++)if(u=f.eq(i).removeClass("fc-limited"),r=0,u.find("> td > :first-child").each(e),u.position().top+r>s)return i;return!1},limitRow:function(t,i){function g(f){for(;f>u;)r=tt.getCellSegs(t,u,i),r.length&&(e=p[i-1][u],v=tt.renderMoreLink(t,u,r),h=n("<div/>").append(v),e.append(h),d.push(h[0])),u++}var y,p,w,c,f,r,b,l,e,nt,k,s,a,h,v,tt=this,o=this.rowStructs[t],d=[],u=0;if(i&&i<o.segLevels.length){for(y=o.segLevels[i-1],p=o.cellMatrix,w=o.tbodyEl.children().slice(i).addClass("fc-limited").get(),c=0;c<y.length;c++){for(f=y[c],g(f.leftCol),l=[],b=0;u<=f.rightCol;)r=this.getCellSegs(t,u,i),l.push(r),b+=r.length,u++;if(b){for(e=p[i-1][f.leftCol],nt=e.attr("rowspan")||1,k=[],s=0;s<l.length;s++)a=n('<td class="fc-more-cell"/>').attr("rowspan",nt),r=l[s],v=this.renderMoreLink(t,f.leftCol+s,[f].concat(r)),h=n("<div/>").append(v),a.append(h),k.push(a[0]),d.push(a[0]);e.addClass("fc-limited").after(n(k));w.push(e[0])}}g(this.colCnt);o.moreEls=n(d);o.limitedEls=n(w)}},unlimitRow:function(n){var t=this.rowStructs[n];t.moreEls&&(t.moreEls.remove(),t.moreEls=null);t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,i,r){var u=this,f=this.view;return n('<a class="fc-more"/>').text(this.getMoreLinkText(r.length)).on("click",function(e){var o=f.opt("eventLimitClick"),s=u.getCellDate(t,i),h=n(this),l=u.getCellEl(t,i),a=u.getCellSegs(t,i),c=u.resliceDaySegs(a,s),v=u.resliceDaySegs(r,s);"function"==typeof o&&(o=f.trigger("eventLimitClick",null,{date:s,dayEl:l,moreEl:h,segs:c,hiddenSegs:v},e));"popover"===o?u.showSegPopover(t,i,h,c):"string"==typeof o&&f.calendar.zoomTo(s,o)})},showSegPopover:function(n,t,i,r){var o,u,f=this,s=this.view,e=i.parent();o=1==this.rowCnt?s.el:this.rowEls.eq(n);u={className:"fc-more-popover",content:this.renderSegPopoverContent(n,t,r),parentEl:this.el,top:o.offset().top,autoHide:!0,viewportConstrain:s.opt("popoverViewportConstrain"),hide:function(){f.segPopover.removeElement();f.segPopover=null;f.popoverSegs=null}};this.isRTL?u.right=e.offset().left+e.outerWidth()+1:u.left=e.offset().left-1;this.segPopover=new le(u);this.segPopover.show()},renderSegPopoverContent:function(t,i,u){var f,e=this.view,s=e.opt("theme"),h=this.getCellDate(t,i).format(e.opt("dayPopoverFormat")),o=n('<div class="fc-header '+e.widgetHeaderClass+'"><span class="fc-close '+(s?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"><\/span><span class="fc-title">'+r(h)+'<\/span><div class="fc-clear"/><\/div><div class="fc-body '+e.widgetContentClass+'"><div class="fc-event-container"><\/div><\/div>'),c=o.find(".fc-event-container");for(u=this.renderFgSegEls(u,!0),this.popoverSegs=u,f=0;f<u.length;f++)this.prepareHits(),u[f].hit=this.getCellHit(t,i),this.releaseHits(),c.append(u[f].el);return o},resliceDaySegs:function(t,i){var u=n.map(t,function(n){return n.event}),r=i.clone(),f=r.clone().add(1,"days"),e={start:r,end:f};return t=this.eventsToSegs(u,function(n){var t=kt(n,e);return t?[t]:[]}),this.sortEventSegs(t),t},getMoreLinkText:function(n){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(n):"+"+n+" "+t},getCellSegs:function(n,t,i){for(var r,f=this.rowStructs[n].segMatrix,u=i||0,e=[];u<f.length;)r=f[u][t],r&&e.push(r),u++;return e}});vi=i.TimeGrid=k.extend(ai,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){k.apply(this,arguments);this.processOptions()},renderDates:function(){this.el.html(this.renderHtml());this.colEls=this.el.find(".fc-day");this.slatContainerEl=this.el.find(".fc-slats");this.slatEls=this.slatContainerEl.find("tr");this.colCoordCache=new vt({els:this.colEls,isHorizontal:!0});this.slatCoordCache=new vt({els:this.slatEls,isVertical:!0});this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'<\/table><\/div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"<\/table><\/div>"},renderSlatRowHtml:function(){for(var i,u,f,e=this.view,o=this.isRTL,s="",n=t.duration(+this.minTime);n<this.maxTime;)i=this.start.clone().time(n),u=a(gt(n,this.labelInterval)),f='<td class="fc-axis fc-time '+e.widgetContentClass+'" '+e.axisStyleAttr()+">"+(u?"<span>"+r(i.format(this.labelFormat))+"<\/span>":"")+"<\/td>",s+='<tr data-time="'+i.format("HH:mm:ss")+'"'+(u?"":' class="fc-minor"')+">"+(o?"":f)+'<td class="'+e.widgetContentClass+'"/>'+(o?f:"")+"<\/tr>",n.add(this.slotDuration);return s},processOptions:function(){var i,r=this.view,u=r.opt("slotDuration"),f=r.opt("snapDuration");u=t.duration(u);f=f?t.duration(f):u;this.slotDuration=u;this.snapDuration=f;this.snapsPerSlot=u/f;this.minResizeDuration=f;this.minTime=t.duration(r.opt("minTime"));this.maxTime=t.duration(r.opt("maxTime"));i=r.opt("slotLabelFormat");n.isArray(i)&&(i=i[i.length-1]);this.labelFormat=i||r.opt("axisFormat")||r.opt("smallTimeFormat");i=r.opt("slotLabelInterval");this.labelInterval=i?t.duration(i):this.computeLabelInterval(u)},computeLabelInterval:function(n){for(var r,u,i=yu.length-1;i>=0;i--)if(r=t.duration(yu[i]),u=gt(r,n),a(u)&&u>1)return r;return t.duration(n)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build();this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(n,t){var i=this.snapsPerSlot,f=this.colCoordCache,e=this.slatCoordCache,r=f.getHorizontalIndex(n),u=e.getVerticalIndex(t);if(null!=r&&null!=u){var o=e.getTopOffset(u),s=e.getHeight(u),c=(t-o)/s,h=Math.floor(c*i),l=u*i+h,a=o+h/i*s,v=o+(h+1)/i*s;return{col:r,snap:l,component:this,left:f.getLeftOffset(r),right:f.getRightOffset(r),top:a,bottom:v}}},getHitSpan:function(n){var i,t=this.getCellDate(0,n.col),r=this.computeSnapTime(n.snap);return t.time(r),i=t.clone().add(this.snapDuration),{start:t,end:i}},getHitEl:function(n){return this.colEls.eq(n.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(n){return t.duration(this.minTime+this.snapDuration*n)},spanToSegs:function(n){for(var i=this.sliceRangeByTimes(n),t=0;t<i.length;t++)i[t].col=this.isRTL?this.daysPerRow-1-i[t].dayIndex:i[t].dayIndex;return i},sliceRangeByTimes:function(n){for(var i,r,u,f=[],t=0;t<this.daysPerRow;t++)r=this.dayDates[t].clone(),u={start:r.clone().time(this.minTime),end:r.clone().time(this.maxTime)},i=kt(n,u),i&&(i.dayIndex=t,f.push(i));return f},updateSize:function(n){this.slatCoordCache.build();n&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(n,i){return this.computeTimeTop(t.duration(n-i.clone().stripTime()))},computeTimeTop:function(n){var t,r,u=this.slatEls.length,i=(n-this.minTime)/this.slotDuration;return i=Math.max(0,i),i=Math.min(u,i),t=Math.floor(i),t=Math.min(t,u-1),r=i-t,this.slatCoordCache.getTopPosition(t)+this.slatCoordCache.getHeight(t)*r},renderDrag:function(n,t){return t?this.renderEventLocationHelper(n,t):void this.renderHighlight(this.eventToSpan(n))},unrenderDrag:function(){this.unrenderHelper();this.unrenderHighlight()},renderEventResize:function(n,t){return this.renderEventLocationHelper(n,t)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(n,t){return this.renderHelperSegs(this.eventToSegs(n),t)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var n=this.view.calendar.getBusinessHoursEvents(),t=this.eventsToSegs(n);this.renderBusinessSegs(t)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(t){for(var r=this.spanToSegs({start:t,end:t}),f=this.computeDateTop(t,t),u=[],i=0;i<r.length;i++)u.push(n('<div class="fc-now-indicator fc-now-indicator-line"><\/div>').css("top",f).appendTo(this.colContainerEls.eq(r[i].col))[0]);r.length>0&&u.push(n('<div class="fc-now-indicator fc-now-indicator-arrow"><\/div>').css("top",f).appendTo(this.el.find(".fc-content-skeleton"))[0]);this.nowIndicatorEls=n(u)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(n){this.view.opt("selectHelper")?this.renderEventLocationHelper(n):this.renderHighlight(n)},unrenderSelection:function(){this.unrenderHelper();this.unrenderHighlight()},renderHighlight:function(n){this.renderHighlightSegs(this.spanToSegs(n))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});vi.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){for(var t,r="",i=0;i<this.colCnt;i++)r+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"><\/div><div class="fc-event-container"><\/div><div class="fc-highlight-container"><\/div><div class="fc-bgevent-container"><\/div><div class="fc-business-container"><\/div><\/div><\/td>';t=n('<div class="fc-content-skeleton"><table><tr>'+r+"<\/tr><\/table><\/div>");this.colContainerEls=t.find(".fc-content-col");this.helperContainerEls=t.find(".fc-helper-container");this.fgContainerEls=t.find(".fc-event-container:not(.fc-helper-container)");this.bgContainerEls=t.find(".fc-bgevent-container");this.highlightContainerEls=t.find(".fc-highlight-container");this.businessContainerEls=t.find(".fc-business-container");this.bookendCells(t.find("tr"));this.el.append(t)},renderFgSegs:function(n){return n=this.renderFgSegsIntoContainers(n,this.fgContainerEls),this.fgSegs=n,n},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(t,i){var u,f,r,e=[];for(t=this.renderFgSegsIntoContainers(t,this.helperContainerEls),u=0;u<t.length;u++)f=t[u],i&&i.col===f.col&&(r=i.el,f.el.css({left:r.css("left"),right:r.css("right"),"margin-left":r.css("margin-left"),"margin-right":r.css("margin-right")})),e.push(f.el[0]);return this.helperSegs=t,n(e)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(n){return n=this.renderFillSegEls("bgEvent",n),this.updateSegVerticals(n),this.attachSegsByCol(this.groupSegsByCol(n),this.bgContainerEls),this.bgSegs=n,n},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(n){n=this.renderFillSegEls("highlight",n);this.updateSegVerticals(n);this.attachSegsByCol(this.groupSegsByCol(n),this.highlightContainerEls);this.highlightSegs=n},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(n){n=this.renderFillSegEls("businessHours",n);this.updateSegVerticals(n);this.attachSegsByCol(this.groupSegsByCol(n),this.businessContainerEls);this.businessSegs=n},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(n){for(var i=[],t=0;t<this.colCnt;t++)i.push([]);for(t=0;t<n.length;t++)i[n[t].col].push(n[t]);return i},attachSegsByCol:function(n,t){for(var u,r,i=0;i<this.colCnt;i++)for(u=n[i],r=0;r<u.length;r++)t.eq(i).append(u[r].el)},unrenderNamedSegs:function(n){var t,i=this[n];if(i){for(t=0;t<i.length;t++)i[t].el.remove();this[n]=null}},renderFgSegsIntoContainers:function(n,t){var r,i;for(n=this.renderFgSegEls(n),r=this.groupSegsByCol(n),i=0;i<this.colCnt;i++)this.updateFgSegCoords(r[i]);return this.attachSegsByCol(r,t),n},fgSegHtml:function(n,t){var u,e,o,f=this.view,i=n.event,l=f.isEventDraggable(i),a=!t&&n.isStart&&f.isEventResizableFromStart(i),s=!t&&n.isEnd&&f.isEventResizableFromEnd(i),h=this.getSegClasses(n,l,a||s),c=st(this.getSegSkinCss(n));return h.unshift("fc-time-grid-event","fc-v-event"),f.isMultiDayEvent(i)?(n.isStart||n.isEnd)&&(u=this.getEventTimeText(n),e=this.getEventTimeText(n,"LT"),o=this.getEventTimeText(n,null,!1)):(u=this.getEventTimeText(i),e=this.getEventTimeText(i,"LT"),o=this.getEventTimeText(i,null,!1)),'<a class="'+h.join(" ")+'"'+(i.url?' href="'+r(i.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(u?'<div class="fc-time" data-start="'+r(o)+'" data-full="'+r(e)+'"><span>'+r(u)+"<\/span><\/div>":"")+(i.title?'<div class="fc-title">'+r(i.title)+"<\/div>":"")+'<\/div><div class="fc-bg"/>'+(s?'<div class="fc-resizer fc-end-resizer" />':"")+"<\/a>"},updateSegVerticals:function(n){this.computeSegVerticals(n);this.assignSegVerticals(n)},computeSegVerticals:function(n){for(var t,i=0;i<n.length;i++)t=n[i],t.top=this.computeDateTop(t.start,t.start),t.bottom=this.computeDateTop(t.end,t.start)},assignSegVerticals:function(n){for(var i,t=0;t<n.length;t++)i=n[t],i.el.css(this.generateSegVerticalCss(i))},generateSegVerticalCss:function(n){return{top:n.top,bottom:-n.bottom}},updateFgSegCoords:function(n){this.computeSegVerticals(n);this.computeFgSegHorizontals(n);this.assignSegVerticals(n);this.assignFgSegHorizontals(n)},computeFgSegHorizontals:function(n){var r,i,t;if(this.sortEventSegs(n),r=ie(n),re(r),i=r[0]){for(t=0;t<i.length;t++)ru(i[t]);for(t=0;t<i.length;t++)this.computeFgSegForwardBack(i[t],0,0)}},computeFgSegForwardBack:function(n,t,i){var u,r=n.forwardSegs;if(void 0===n.forwardCoord)for(r.length?(this.sortForwardSegs(r),this.computeFgSegForwardBack(r[0],t+1,i),n.forwardCoord=r[0].backwardCoord):n.forwardCoord=1,n.backwardCoord=n.forwardCoord-(n.forwardCoord-i)/(t+1),u=0;u<r.length;u++)this.computeFgSegForwardBack(r[u],0,n.forwardCoord)},sortForwardSegs:function(n){n.sort(b(this,"compareForwardSegs"))},compareForwardSegs:function(n,t){return t.forwardPressure-n.forwardPressure||(n.backwardCoord||0)-(t.backwardCoord||0)||this.compareEventSegs(n,t)},assignFgSegHorizontals:function(n){for(var t,i=0;i<n.length;i++)t=n[i],t.el.css(this.generateFgSegHorizontalCss(t)),t.bottom-t.top<30&&t.el.addClass("fc-short")},generateFgSegHorizontalCss:function(n){var u,f,e=this.view.opt("slotEventOverlap"),i=n.backwardCoord,r=n.forwardCoord,t=this.generateSegVerticalCss(n);return e&&(r=Math.min(1,i+2*(r-i))),this.isRTL?(u=1-r,f=i):(u=i,f=1-r),t.zIndex=n.level+1,t.left=100*u+"%",t.right=100*f+"%",e&&n.forwardPressure&&(t[this.isRTL?"marginLeft":"marginRight"]=20),t}});var g=i.View=s.extend(hu,it,{type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(n,i,r,u){this.calendar=n;this.type=this.name=i;this.options=r;this.intervalDuration=u||t.duration(1,"day");this.nextDayThreshold=t.duration(this.opt("nextDayThreshold"));this.initThemingProps();this.initHiddenDays();this.isRTL=this.opt("isRTL");this.eventOrderSpecs=ur(this.opt("eventOrder"));this.initialize()},initialize:function(){},opt:function(n){return this.options[n]},trigger:function(n,t){var i=this.calendar;return i.trigger.apply(i,[n,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(n){this.setRange(this.computeRange(n))},setRange:function(t){n.extend(this,t);this.updateTitle()},computeRange:function(n){var r,u,f=dt(this.intervalDuration),t=n.clone().startOf(f),i=t.clone().add(this.intervalDuration);return/year|month|week|day/.test(f)?(t.stripTime(),i.stripTime()):(t.hasTime()||(t=this.calendar.time(0)),i.hasTime()||(i=this.calendar.time(0))),r=t.clone(),r=this.skipHiddenDays(r),u=i.clone(),u=this.skipHiddenDays(u,-1,!0),{intervalUnit:f,intervalStart:t,intervalEnd:i,start:r,end:u}},computePrevDate:function(n){return this.massageCurrentDate(n.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(n){return this.massageCurrentDate(n.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(n,t){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(n)&&(n=this.skipHiddenDays(n,t),n.startOf("day")),n},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(n,t,i){var r=n.end;return r.hasTime()||(r=r.clone().subtract(1)),pr(n.start,r,t,i,this.opt("isRTL"))},setElement:function(n){this.el=n;this.bindGlobalHandlers()},removeElement:function(){this.clear();this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1);this.unbindGlobalHandlers();this.el.remove()},display:function(t){var i=this,r=null;return this.displaying&&(r=this.queryScroll()),this.calendar.freezeContentHeight(),this.clear().then(function(){return i.displaying=n.when(i.displayView(t)).then(function(){i.forceScroll(i.computeInitialScroll(r));i.calendar.unfreezeContentHeight();i.triggerRender()})})},clear:function(){var t=this,i=this.displaying;return i?i.then(function(){return t.displaying=null,t.clearEvents(),t.clearView()}):n.when()},displayView:function(n){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0);n&&this.setDate(n);this.render&&this.render();this.renderDates();this.updateSize();this.renderBusinessHours();this.startNowIndicator()},clearView:function(){this.unselect();this.stopNowIndicator();this.triggerUnrender();this.unrenderBusinessHours();this.unrenderDates();this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(n(document),"mousedown",this.handleDocumentMousedown);this.listenTo(n(document),"touchstart",this.processUnselect)},unbindGlobalHandlers:function(){this.stopListeningTo(n(document))},initThemingProps:function(){var n=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=n+"-widget-header";this.widgetContentClass=n+"-widget-content";this.highlightStateClass=n+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var i,r,n,u=this;this.opt("nowIndicator")&&(i=this.getNowIndicatorUnit(),i&&(r=b(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,n=this.initialNowDate.clone().startOf(i).add(1,i)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){u.nowIndicatorTimeoutID=null;r();n=+t.duration(1,i);n=Math.max(100,n);u.nowIndicatorIntervalID=setInterval(r,n)},n)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},updateSize:function(n){var t;n&&(t=this.queryScroll());this.updateHeight(n);this.updateWidth(n);this.updateNowIndicator();n&&this.setScroll(t)},updateWidth:function(){},updateHeight:function(){var n=this.calendar;this.setHeight(n.getSuggestedViewHeight(),n.isHeightAuto())},setHeight:function(){},computeInitialScroll:function(){return 0},queryScroll:function(){},setScroll:function(){},forceScroll:function(n){var t=this;this.setScroll(n);setTimeout(function(){t.setScroll(n)},0)},displayEvents:function(n){var t=this.queryScroll();this.clearEvents();this.renderEvents(n);this.isEventsRendered=!0;this.setScroll(t);this.triggerEventRender()},clearEvents:function(){var n;this.isEventsRendered&&(n=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(n),this.isEventsRendered=!1)},renderEvents:function(){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(n){this.trigger("eventAfterRender",n.event,n.event,n.el)});this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(n){this.trigger("eventDestroy",n.event,n.event,n.el)})},resolveEventEl:function(t,i){var r=this.trigger("eventRender",t,t,i);return r===!1?i=null:r&&r!==!0&&(i=n(r)),i},showEvent:function(n){this.renderedEventSegEach(function(n){n.el.css("visibility","")},n)},hideEvent:function(n){this.renderedEventSegEach(function(n){n.el.css("visibility","hidden")},n)},renderedEventSegEach:function(n,t){for(var r=this.getEventSegs(),i=0;i<r.length;i++)t&&r[i].event._id!==t._id||r[i].el&&n.call(this,r[i])},getEventSegs:function(){return[]},isEventDraggable:function(n){var t=n.source||{};return o(n.startEditable,t.startEditable,this.opt("eventStartEditable"),n.editable,t.editable,this.opt("editable"))},reportEventDrop:function(n,t,i,r,u){var f=this.calendar,e=f.mutateEvent(n,t,i),o=function(){e.undo();f.reportEventChange()};this.triggerEventDrop(n,e.dateDelta,o,r,u);f.reportEventChange()},triggerEventDrop:function(n,t,i,r,u){this.trigger("eventDrop",r[0],n,t,i,u,{})},reportExternalDrop:function(t,i,r,u,f){var e,o,s=t.eventProps;s&&(e=n.extend({},s,i),o=this.calendar.renderEvent(e,t.stick)[0]);this.triggerExternalDrop(o,i,r,u,f)},triggerExternalDrop:function(n,t,i,r,u){this.trigger("drop",i[0],t.start,r,u);n&&this.trigger("eventReceive",null,n)},renderDrag:function(){},unrenderDrag:function(){},isEventResizableFromStart:function(n){return this.opt("eventResizableFromStart")&&this.isEventResizable(n)},isEventResizableFromEnd:function(n){return this.isEventResizable(n)},isEventResizable:function(n){var t=n.source||{};return o(n.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),n.editable,t.editable,this.opt("editable"))},reportEventResize:function(n,t,i,r,u){var f=this.calendar,e=f.mutateEvent(n,t,i),o=function(){e.undo();f.reportEventChange()};this.triggerEventResize(n,e.durationDelta,o,r,u);f.reportEventChange()},triggerEventResize:function(n,t,i,r,u){this.trigger("eventResize",r[0],n,t,i,u,{})},select:function(n,t){this.unselect(t);this.renderSelection(n);this.reportSelection(n,t)},renderSelection:function(){},reportSelection:function(n,t){this.isSelected=!0;this.triggerSelect(n,t)},triggerSelect:function(n,t){this.trigger("select",null,this.calendar.applyTimezone(n.start),this.calendar.applyTimezone(n.end),t)},unselect:function(n){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,n))},unrenderSelection:function(){},selectEvent:function(n){this.selectedEvent&&this.selectedEvent===n||(this.unselectEvent(),this.renderedEventSegEach(function(n){n.el.addClass("fc-selected")},n),this.selectedEvent=n)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach(function(n){n.el.removeClass("fc-selected")},this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(n){return this.selectedEvent&&this.selectedEvent._id===n._id},handleDocumentMousedown:function(n){tr(n)&&this.processUnselect(n)},processUnselect:function(n){this.processRangeUnselect(n);this.processEventUnselect(n)},processRangeUnselect:function(t){var i;this.isSelected&&this.opt("unselectAuto")&&(i=this.opt("unselectCancel"),i&&n(t.target).closest(i).length||this.unselect(t))},processEventUnselect:function(t){this.selectedEvent&&(n(t.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(n,t,i){this.trigger("dayClick",t,this.calendar.applyTimezone(n.start),i)},initHiddenDays:function(){var t,i=this.opt("hiddenDays")||[],r=[],u=0;for(this.opt("weekends")===!1&&i.push(0,6),t=0;7>t;t++)(r[t]=-1!==n.inArray(t,i))||u++;if(!u)throw"invalid hiddenDays";this.isHiddenDayHash=r},isHiddenDay:function(n){return t.isMoment(n)&&(n=n.day()),this.isHiddenDayHash[n]},skipHiddenDays:function(n,t,i){var r=n.clone();for(t=t||1;this.isHiddenDayHash[(r.day()+(i?t:0)+7)%7];)r.add(t,"days");return r},computeDayRange:function(n){var r,u=n.start.clone().stripTime(),i=n.end,t=null;return i&&(t=i.clone().stripTime(),r=+i.time(),r&&r>=this.nextDayThreshold&&t.add(1,"days")),(!i||u>=t)&&(t=u.clone().add(1,"days")),{start:u,end:t}},isMultiDayEvent:function(n){var t=this.computeDayRange(n);return t.end.diff(t.start,"days")>1}}),lu=i.Scroller=s.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(n){n=n||{};this.overflowX=n.overflowX||n.overflow||"auto";this.overflowY=n.overflowY||n.overflow||"auto"},render:function(){this.el=this.renderEl();this.applyOverflow()},renderEl:function(){return this.scrollEl=n('<div class="fc-scroller"><\/div>')},clear:function(){this.setHeight("auto");this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(n){var t=this.overflowX,i=this.overflowY;n=n||this.getScrollbarWidths();"auto"===t&&(t=n.top||n.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden");"auto"===i&&(i=n.left||n.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden");this.scrollEl.css({"overflow-x":t,"overflow-y":i})},setHeight:function(n){this.scrollEl.height(n)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(n){this.scrollEl.scrollTop(n)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return bt(this.scrollEl)}}),e=i.Calendar=s.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:fe,initialize:function(){},initOptions:function(n){var i,t,u,r;n=pu(n);i=n.lang;t=p[i];t||(i=e.defaults.lang,t=p[i]||{});u=o(n.isRTL,t.isRTL,e.defaults.isRTL);r=u?e.rtlDefaults:{};this.dirDefaults=r;this.langDefaults=t;this.overrides=n;this.options=nt([e.defaults,r,t,n]);fu(this.options);this.viewSpecCache={}},getViewSpec:function(n){var t=this.viewSpecCache;return t[n]||(t[n]=this.buildViewSpec(n))},getUnitViewSpec:function(t){var r,u,f;if(-1!=n.inArray(t,lt))for(r=this.header.getViewsWithButtons(),n.each(i.views,function(n){r.push(n)}),u=0;u<r.length;u++)if(f=this.getViewSpec(r[u]),f&&f.singleUnit==t)return f},buildViewSpec:function(n){for(var i,f,r,e,s=this.overrides.views||{},h=[],c=[],o=[],u=n;u;)i=y[u],f=s[u],u=null,"function"==typeof i&&(i={"class":i}),i&&(h.unshift(i),c.unshift(i.defaults||{}),r=r||i.duration,u=u||i.type),f&&(o.unshift(f),r=r||f.duration,u=u||f.type);return i=ni(h),i.type=n,i["class"]?(r&&(r=t.duration(r),r.valueOf()&&(i.duration=r,e=dt(r),1===r.as(e)&&(i.singleUnit=e,o.unshift(s[e]||{})))),i.defaults=nt(c),i.overrides=nt(o),this.buildViewSpecOptions(i),this.buildViewSpecButtonText(i,n),i):!1},buildViewSpecOptions:function(n){n.options=nt([e.defaults,n.defaults,this.dirDefaults,this.langDefaults,this.overrides,n.overrides]);fu(n.options)},buildViewSpecButtonText:function(n,t){function i(i){var r=i.buttonText||{};return r[t]||(n.singleUnit?r[n.singleUnit]:null)}n.buttonTextOverride=i(this.overrides)||n.overrides.buttonText;n.buttonTextDefault=i(this.langDefaults)||i(this.dirDefaults)||n.defaults.buttonText||i(e.defaults)||(n.duration?this.humanizeDuration(n.duration):null)||t},instantiateView:function(n){var t=this.getViewSpec(n);return new t["class"](this,n,t.options,t.duration)},isValidViewType:function(n){return Boolean(this.getViewSpec(n))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(n,t){var r,i=this.moment(n).stripZone();return r=t?this.moment(t).stripZone():i.hasTime()?i.clone().add(this.defaultTimedEventDuration):i.clone().add(this.defaultAllDayEventDuration),{start:i,end:r}}});e.mixin(hu);e.defaults={titleRangeSeparator:" — ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200,longPressDelay:1e3};e.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};e.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};p=i.langs={};i.datepickerLang=function(t,i,r){var u=p[t]||(p[t]={});u.isRTL=r.isRTL;u.weekNumberTitle=r.weekHeader;n.each(ve,function(n,t){u[n]=t(r)});n.datepicker&&(n.datepicker.regional[i]=n.datepicker.regional[t]=r,n.datepicker.regional.en=n.datepicker.regional[""],n.datepicker.setDefaults(r))};i.lang=function(t,i){var r,u;r=p[t]||(p[t]={});i&&(r=p[t]=nt([r,i]));u=eu(t);n.each(ye,function(n,t){null==r[n]&&(r[n]=t(u,r))});e.defaults.lang=t};var ve={buttonText:function(n){return{prev:ii(n.prevText),next:ii(n.nextText),today:ii(n.currentText)}},monthYearFormat:function(n){return n.showMonthAfterYear?"YYYY["+n.yearSuffix+"] MMMM":"MMMM YYYY["+n.yearSuffix+"]"}},ye={dayOfMonthFormat:function(n,t){var i=n.longDateFormat("l");return i=i.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?i+=" ddd":i="ddd "+i,i},mediumTimeFormat:function(n){return n.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(n){return n.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(n){return n.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(n){return n.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(n){return n.longDateFormat("LT").replace(/\s*a$/i,"")}},pe={smallDayDateFormat:function(n){return n.isRTL?"D dd":"dd D"},weekFormat:function(n){return n.isRTL?"w[ "+n.weekNumberTitle+"]":"["+n.weekNumberTitle+" ]w"},smallWeekFormat:function(n){return n.isRTL?"w["+n.weekNumberTitle+"]":"["+n.weekNumberTitle+"]w"}};i.lang("en",e.englishDefaults);i.sourceNormalizers=[];i.sourceFetchers=[];au={dataType:"json",cache:!1};vu=1;e.prototype.normalizeEvent=function(){};e.prototype.getPeerEvents=function(n,t){for(var r,u=this.getEventCache(),f=[],i=0;i<u.length;i++)r=u[i],t&&t._id===r._id||f.push(r);return f};var yi=i.BasicView=g.extend({scroller:null,dayGridClass:rt,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid();this.scroller=new lu({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var n=this.dayGridClass.extend(we);return new n(this)},setRange:function(n){g.prototype.setRange.call(this,n);this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit);this.dayGrid.setRange(n)},computeRange:function(n){var t=g.prototype.computeRange.call(this,n);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1;this.weekNumbersVisible=this.opt("weekNumbers");this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var t=this.scroller.el.addClass("fc-day-grid-container"),i=n('<div class="fc-day-grid" />').appendTo(t);this.el.find(".fc-body > tr > td").append(t);this.dayGrid.setElement(i);this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml());this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates();this.dayGrid.removeElement();this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"><\/td><\/tr><\/thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><\/td><\/tr><\/tbody><\/table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var n=this.opt("eventLimit");return n&&"number"!=typeof n},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=di(this.el.find(".fc-week-number")))},setHeight:function(n,t){var r,u,i=this.opt("eventLimit");this.scroller.clear();wi(this.headRowEl);this.dayGrid.removeSegPopover();i&&"number"==typeof i&&this.dayGrid.limitRows(i);r=this.computeScrollerHeight(n);this.setGridHeight(r,t);i&&"number"!=typeof i&&this.dayGrid.limitRows(i);t||(this.scroller.setHeight(r),u=this.scroller.getScrollbarWidths(),(u.left||u.right)&&(pi(this.headRowEl,u),r=this.computeScrollerHeight(n),this.scroller.setHeight(r)),this.scroller.lockOverflow(u))},computeScrollerHeight:function(n){return n-gi(this.el,this.scroller.el)},setGridHeight:function(n,t){t?ki(this.dayGrid.rowEls):bi(this.dayGrid.rowEls,n,!0)},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(n){this.scroller.setScrollTop(n)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(n,t){return this.dayGrid.queryHit(n,t)},getHitSpan:function(n){return this.dayGrid.getHitSpan(n)},getHitEl:function(n){return this.dayGrid.getHitEl(n)},renderEvents:function(n){this.dayGrid.renderEvents(n);this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(n,t){return this.dayGrid.renderDrag(n,t)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(n){this.dayGrid.renderSelection(n)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),we={renderHeadIntroHtml:function(){var n=this.view;return n.weekNumbersVisible?'<th class="fc-week-number '+n.widgetHeaderClass+'" '+n.weekNumberStyleAttr()+"><span>"+r(n.opt("weekNumberTitle"))+"<\/span><\/th>":""},renderNumberIntroHtml:function(n){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"><span>"+this.getCellDate(n,0).format("w")+"<\/span><\/td>":""},renderBgIntroHtml:function(){var n=this.view;return n.weekNumbersVisible?'<td class="fc-week-number '+n.widgetContentClass+'" '+n.weekNumberStyleAttr()+"><\/td>":""},renderIntroHtml:function(){var n=this.view;return n.weekNumbersVisible?'<td class="fc-week-number" '+n.weekNumberStyleAttr()+"><\/td>":""}},be=i.MonthView=yi.extend({computeRange:function(n){var i,t=yi.prototype.computeRange.call(this,n);return this.isFixedWeeks()&&(i=Math.ceil(t.end.diff(t.start,"weeks",!0)),t.end.add(6-i,"weeks")),t},setGridHeight:function(n,t){t=t||"variable"===this.opt("weekMode");t&&(n*=this.rowCnt/6);bi(this.dayGrid.rowEls,n,!t)},isFixedWeeks:function(){var n=this.opt("weekMode");return n?"fixed"===n:this.opt("fixedWeekCount")}});y.basic={"class":yi};y.basicDay={type:"basic",duration:{days:1}};y.basicWeek={type:"basic",duration:{weeks:1}};y.month={"class":be,duration:{months:1},defaults:{fixedWeekCount:!0}};var ke=i.AgendaView=g.extend({scroller:null,timeGridClass:vi,timeGrid:null,dayGridClass:rt,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid();this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid());this.scroller=new lu({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var n=this.timeGridClass.extend(de);return new n(this)},instantiateDayGrid:function(){var n=this.dayGridClass.extend(ge);return new n(this)},setRange:function(n){g.prototype.setRange.call(this,n);this.timeGrid.setRange(n);this.dayGrid&&this.dayGrid.setRange(n)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var t=this.scroller.el.addClass("fc-time-grid-container"),i=n('<div class="fc-time-grid" />').appendTo(t);this.el.find(".fc-body > tr > td").append(t);this.timeGrid.setElement(i);this.timeGrid.renderDates();this.bottomRuleEl=n('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight());this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates();this.timeGrid.removeElement();this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement());this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"><\/td><\/tr><\/thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"<\/td><\/tr><\/tbody><\/table>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours();this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours();this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(n){this.timeGrid.renderNowIndicator(n)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(n){this.timeGrid.updateSize(n);g.prototype.updateSize.call(this,n)},updateWidth:function(){this.axisWidth=di(this.el.find(".fc-axis"))},setHeight:function(n,t){var i,r,u;this.bottomRuleEl.hide();this.scroller.clear();wi(this.noScrollRowEls);this.dayGrid&&(this.dayGrid.removeSegPopover(),i=this.opt("eventLimit"),i&&"number"!=typeof i&&(i=no),i&&this.dayGrid.limitRows(i));t||(r=this.computeScrollerHeight(n),this.scroller.setHeight(r),u=this.scroller.getScrollbarWidths(),(u.left||u.right)&&(pi(this.noScrollRowEls,u),r=this.computeScrollerHeight(n),this.scroller.setHeight(r)),this.scroller.lockOverflow(u),this.timeGrid.getTotalSlatHeight()<r&&this.bottomRuleEl.show())},computeScrollerHeight:function(n){return n-gi(this.el,this.scroller.el)},computeInitialScroll:function(){var i=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(i);return n=Math.ceil(n),n&&n++,n},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(n){this.scroller.setScrollTop(n)},prepareHits:function(){this.timeGrid.prepareHits();this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits();this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(n,t){var i=this.timeGrid.queryHit(n,t);return!i&&this.dayGrid&&(i=this.dayGrid.queryHit(n,t)),i},getHitSpan:function(n){return n.component.getHitSpan(n)},getHitEl:function(n){return n.component.getHitEl(n)},renderEvents:function(n){for(var u,i=[],r=[],f=[],t=0;t<n.length;t++)n[t].allDay?i.push(n[t]):r.push(n[t]);u=this.timeGrid.renderEvents(r);this.dayGrid&&(f=this.dayGrid.renderEvents(i));this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents();this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(n,t){return n.start.hasTime()?this.timeGrid.renderDrag(n,t):this.dayGrid?this.dayGrid.renderDrag(n,t):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag();this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(n){n.start.hasTime()||n.end.hasTime()?this.timeGrid.renderSelection(n):this.dayGrid&&this.dayGrid.renderSelection(n)},unrenderSelection:function(){this.timeGrid.unrenderSelection();this.dayGrid&&this.dayGrid.unrenderSelection()}}),de={renderHeadIntroHtml:function(){var t,n=this.view;return n.opt("weekNumbers")?(t=this.start.format(n.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+n.widgetHeaderClass+'" '+n.axisStyleAttr()+"><span>"+r(t)+"<\/span><\/th>"):'<th class="fc-axis '+n.widgetHeaderClass+'" '+n.axisStyleAttr()+"><\/th>"},renderBgIntroHtml:function(){var n=this.view;return'<td class="fc-axis '+n.widgetContentClass+'" '+n.axisStyleAttr()+"><\/td>"},renderIntroHtml:function(){var n=this.view;return'<td class="fc-axis" '+n.axisStyleAttr()+"><\/td>"}},ge={renderBgIntroHtml:function(){var n=this.view;return'<td class="fc-axis '+n.widgetContentClass+'" '+n.axisStyleAttr()+"><span>"+(n.opt("allDayHtml")||r(n.opt("allDayText")))+"<\/span><\/td>"},renderIntroHtml:function(){var n=this.view;return'<td class="fc-axis" '+n.axisStyleAttr()+"><\/td>"}},no=5,yu=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return y.agenda={"class":ke,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},y.agendaDay={type:"agenda",duration:{days:1}},y.agendaWeek={type:"agenda",duration:{weeks:1}},i});angular.module("ui.calendar",[]).constant("uiCalendarConfig",{calendars:{}}).controller("uiCalendarCtrl",["$scope","$locale",function(n,t){var u=n.eventSources,f=n.calendarWatchEvent?n.calendarWatchEvent:angular.noop,e=function(t){return function(){if(n.$root.$$phase)return t.apply(this,arguments);var i=arguments,r=this;return n.$root.$apply(function(){return t.apply(r,i)})}},o=1,i,r;this.eventFingerprint=function(n){n._id||(n._id=o++);var t=f({event:n})||"",i=moment.isMoment(n.start)?n.start.unix():n.start?moment(n.start).unix():"",r=moment.isMoment(n.end)?n.end.unix():n.end?moment(n.end).unix():"";return[n._id,n.id||"",n.title||"",n.url||"",i,r,n.allDay||"",n.className||"",t].join("")};i=1;r=1;this.sourceFingerprint=function(n){var t=""+(n.__id||(n.__id=i++)),u=angular.isObject(n)&&n.events;return u&&(t=t+"-"+(u.__id||(u.__id=r++))),t};this.allEvents=function(){return Array.prototype.concat.apply([],(u||[]).reduce(function(n,t){if(angular.isArray(t))n.push(t);else if(angular.isObject(t)&&angular.isArray(t.events)){var i=Object.keys(t).filter(function(n){return"_id"!==n&&"events"!==n});t.events.forEach(function(n){angular.extend(n,i)});n.push(t.events)}return n},[]))};this.changeWatcher=function(n,t){var i,f=function(){return((angular.isFunction(n)?n():n)||[]).reduce(function(n,i){var u=t(i);return r[u]=i,n.push(u),n},[])},u=function(n,t){var i=(t||[]).reduce(function(n,t){return n[t]=!0,n},Object.create(null));return(n||[]).filter(function(n){return!i[n]})},r={},e=function(n,f){for(var h,a={},v=u(f,n),o,s,c,l,e=0;e<v.length;e++)o=v[e],s=r[o],delete r[o],c=t(s),c===o?i.onRemoved(s):(a[c]=o,i.onChanged(s));for(l=u(n,f),e=0;e<l.length;e++)h=l[e],a[h]||i.onAdded(r[h])};return i={subscribe:function(n,t){n.$watch(f,function(n,i){var r=!(t&&t(n,i)===!1);r&&e(n,i)},!0)},onAdded:angular.noop,onChanged:angular.noop,onRemoved:angular.noop}};this.getFullCalendarConfig=function(n,t){var i={};return angular.extend(i,t),angular.extend(i,n),angular.forEach(i,function(n,t){"function"==typeof n&&(i[t]=e(i[t]))}),i};this.getLocaleConfig=function(n){if(!n.lang||n.useNgLocale){var i=function(n){return(Object.keys(n)||[]).reduce(function(t,i){return t.push(n[i]),t},[])},r=t.DATETIME_FORMATS;return{monthNames:i(r.MONTH),monthNamesShort:i(r.SHORTMONTH),dayNames:i(r.DAY),dayNamesShort:i(r.SHORTDAY)}}return{}}}]).directive("uiCalendar",["uiCalendarConfig",function(n){return{restrict:"A",scope:{eventSources:"=ngModel",calendarWatchEvent:"&"},controller:"uiCalendarCtrl",link:function(t,i,r,u){function l(){var h=r.uiCalendar?t.$parent.$eval(r.uiCalendar):{},o=u.getFullCalendarConfig(h,n),s=u.getLocaleConfig(o),f,i;angular.extend(s,o);e={eventSources:c};angular.extend(e,s);e.calendars=null;f={};for(i in e)"eventSources"!==i&&(f[i]=e[i]);return JSON.stringify(f)}var f,c=t.eventSources,o=!1,s=u.changeWatcher(c,u.sourceFingerprint),h=u.changeWatcher(u.allEvents,u.eventFingerprint),e=null;t.destroyCalendar=function(){f&&f.fullCalendar&&f.fullCalendar("destroy");f=r.calendar?n.calendars[r.calendar]=angular.element(i).html(""):angular.element(i).html("")};t.initCalendar=function(){f||(f=angular.element(i).html(""));f.fullCalendar(e);r.calendar&&(n.calendars[r.calendar]=f)};t.$on("$destroy",function(){t.destroyCalendar()});s.onAdded=function(t){f&&f.fullCalendar&&(f.fullCalendar(e),r.calendar&&(n.calendars[r.calendar]=f),f.fullCalendar("addEventSource",t),o=!0)};s.onRemoved=function(n){f&&f.fullCalendar&&(f.fullCalendar("removeEventSource",n),o=!0)};s.onChanged=function(){f&&f.fullCalendar&&(f.fullCalendar("refetchEvents"),o=!0)};h.onAdded=function(n){f&&f.fullCalendar&&f.fullCalendar("renderEvent",n,!!n.stick)};h.onRemoved=function(n){f&&f.fullCalendar&&f.fullCalendar("removeEvents",n._id)};h.onChanged=function(n){var r,t,i;if(f&&f.fullCalendar)for(r=f.fullCalendar("clientEvents",n._id),t=0;t<r.length;t++)i=r[t],i=angular.extend(i,n),f.fullCalendar("updateEvent",i)};s.subscribe(t);h.subscribe(t,function(){if(o===!0)return(o=!1,!1)});t.$watch(l,function(n,i){n!==i?(t.destroyCalendar(),t.initCalendar()):n&&angular.isUndefined(f)&&t.initCalendar()})}}}]);!function(n){"function"==typeof define&&define.amd?define(["jquery","moment"],n):"object"==typeof exports?module.exports=n(require("jquery"),require("moment")):n(jQuery,moment)}(function(n,t){!function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}();n.fullCalendar.datepickerLang("ar-ma","ar",{closeText:"إغلاق",prevText:"&#x3C;السابق",nextText:"التالي&#x3E;",currentText:"اليوم",monthNames:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],dayNamesMin:["ح","ن","ث","ر","خ","ج","س"],weekHeader:"أسبوع",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("ar-ma",{buttonText:{month:"شهر",week:"أسبوع",day:"يوم",list:"أجندة"},allDayText:"اليوم كله",eventLimitText:"أخرى"})}(),function(){!function(){"use strict";var n={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},i={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};return(t.defineLocale||t.lang).call(t,"ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(n){return"م"===n},meridiem:function(n){return 12>n?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(n){return n.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(n){return i[n]}).replace(/،/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return n[t]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}();n.fullCalendar.datepickerLang("ar-sa","ar",{closeText:"إغلاق",prevText:"&#x3C;السابق",nextText:"التالي&#x3E;",currentText:"اليوم",monthNames:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],dayNamesMin:["ح","ن","ث","ر","خ","ج","س"],weekHeader:"أسبوع",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("ar-sa",{buttonText:{month:"شهر",week:"أسبوع",day:"يوم",list:"أجندة"},allDayText:"اليوم كله",eventLimitText:"أخرى"})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("ar-tn","ar",{closeText:"إغلاق",prevText:"&#x3C;السابق",nextText:"التالي&#x3E;",currentText:"اليوم",monthNames:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],dayNamesMin:["ح","ن","ث","ر","خ","ج","س"],weekHeader:"أسبوع",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("ar-tn",{buttonText:{month:"شهر",week:"أسبوع",day:"يوم",list:"أجندة"},allDayText:"اليوم كله",eventLimitText:"أخرى"})}(),function(){!function(){"use strict";var u={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},f={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},i=function(n){return 0===n?0:1===n?1:2===n?2:n%100>=3&&10>=n%100?3:n%100>=11?4:5},e={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},n=function(n){return function(t,r){var f=i(t),u=e[n][i(t)];return 2===f&&(u=u[r?0:1]),u.replace(/%d/i,t)}},r=["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"];return(t.defineLocale||t.lang).call(t,"ar",{months:r,monthsShort:r,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(n){return"م"===n},meridiem:function(n){return 12>n?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:n("s"),m:n("m"),mm:n("m"),h:n("h"),hh:n("h"),d:n("d"),dd:n("d"),M:n("M"),MM:n("M"),y:n("y"),yy:n("y")},preparse:function(n){return n.replace(/\u200f/g,"").replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(n){return f[n]}).replace(/،/g,",")},postformat:function(n){return n.replace(/\d/g,function(n){return u[n]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}();n.fullCalendar.datepickerLang("ar","ar",{closeText:"إغلاق",prevText:"&#x3C;السابق",nextText:"التالي&#x3E;",currentText:"اليوم",monthNames:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],dayNamesMin:["ح","ن","ث","ر","خ","ج","س"],weekHeader:"أسبوع",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("ar",{buttonText:{month:"شهر",week:"أسبوع",day:"يوم",list:"أجندة"},allDayText:"اليوم كله",eventLimitText:"أخرى"})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(n){var t=n%10,i=n%100;return 0===n?n+"-ев":0===i?n+"-ен":i>10&&20>i?n+"-ти":1===t?n+"-ви":2===t?n+"-ри":7===t||8===t?n+"-ми":n+"-ти"},week:{dow:1,doy:7}})}();n.fullCalendar.datepickerLang("bg","bg",{closeText:"затвори",prevText:"&#x3C;назад",nextText:"напред&#x3E;",nextBigText:"&#x3E;&#x3E;",currentText:"днес",monthNames:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],monthNamesShort:["Яну","Фев","Мар","Апр","Май","Юни","Юли","Авг","Сеп","Окт","Нов","Дек"],dayNames:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"],dayNamesShort:["Нед","Пон","Вто","Сря","Чет","Пет","Съб"],dayNamesMin:["Не","По","Вт","Ср","Че","Пе","Съ"],weekHeader:"Wk",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("bg",{buttonText:{month:"Месец",week:"Седмица",day:"Ден",list:"График"},allDayText:"Цял ден",eventLimitText:function(n){return"+още "+n}})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"ca",{months:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(n,t){var i=1===n?"r":2===n?"n":3===n?"r":4===n?"t":"è";return"w"!==t&&"W"!==t||(i="a"),n+i},week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("ca","ca",{closeText:"Tanca",prevText:"Anterior",nextText:"Següent",currentText:"Avui",monthNames:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],monthNamesShort:["gen","feb","març","abr","maig","juny","jul","ag","set","oct","nov","des"],dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],dayNamesMin:["dg","dl","dt","dc","dj","dv","ds"],weekHeader:"Set",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("ca",{buttonText:{month:"Mes",week:"Setmana",day:"Dia",list:"Agenda"},allDayText:"Tot el dia",eventLimitText:"més"})}(),function(){!function(){"use strict";function i(n){return n>1&&5>n&&1!=~~(n/10)}function n(n,t,r,u){var f=n+" ";switch(r){case"s":return t||u?"pár sekund":"pár sekundami";case"m":return t?"minuta":u?"minutu":"minutou";case"mm":return t||u?f+(i(n)?"minuty":"minut"):f+"minutami";case"h":return t?"hodina":u?"hodinu":"hodinou";case"hh":return t||u?f+(i(n)?"hodiny":"hodin"):f+"hodinami";case"d":return t||u?"den":"dnem";case"dd":return t||u?f+(i(n)?"dny":"dní"):f+"dny";case"M":return t||u?"měsíc":"měsícem";case"MM":return t||u?f+(i(n)?"měsíce":"měsíců"):f+"měsíci";case"y":return t||u?"rok":"rokem";case"yy":return t||u?f+(i(n)?"roky":"let"):f+"lety"}}var r="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),u="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");return(t.defineLocale||t.lang).call(t,"cs",{months:r,monthsShort:u,monthsParse:function(n,t){for(var r=[],i=0;12>i;i++)r[i]=new RegExp("^"+n[i]+"$|^"+t[i]+"$","i");return r}(r,u),shortMonthsParse:function(n){for(var i=[],t=0;12>t;t++)i[t]=new RegExp("^"+n[t]+"$","i");return i}(u),longMonthsParse:function(n){for(var i=[],t=0;12>t;t++)i[t]=new RegExp("^"+n[t]+"$","i");return i}(r),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("cs","cs",{closeText:"Zavřít",prevText:"&#x3C;Dříve",nextText:"Později&#x3E;",currentText:"Nyní",monthNames:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],monthNamesShort:["led","úno","bře","dub","kvě","čer","čvc","srp","zář","říj","lis","pro"],dayNames:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],dayNamesShort:["ne","po","út","st","čt","pá","so"],dayNamesMin:["ne","po","út","st","čt","pá","so"],weekHeader:"Týd",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("cs",{buttonText:{month:"Měsíc",week:"Týden",day:"Den",list:"Agenda"},allDayText:"Celý den",eventLimitText:function(n){return"+další: "+n}})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY HH:mm"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("da","da",{closeText:"Luk",prevText:"&#x3C;Forrige",nextText:"Næste&#x3E;",currentText:"Idag",monthNames:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],dayNamesShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayNamesMin:["Sø","Ma","Ti","On","To","Fr","Lø"],weekHeader:"Uge",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("da",{buttonText:{month:"Måned",week:"Uge",day:"Dag",list:"Agenda"},allDayText:"Hele dagen",eventLimitText:"flere"})}(),function(){!function(){"use strict";function n(n,t,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[n+" Tage",n+" Tagen"],M:["ein Monat","einem Monat"],MM:[n+" Monate",n+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[n+" Jahre",n+" Jahren"]};return t?r[i][0]:r[i][1]}return(t.defineLocale||t.lang).call(t,"de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:n,mm:"%d Minuten",h:n,hh:"%d Stunden",d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("de-at","de",{closeText:"Schließen",prevText:"&#x3C;Zurück",nextText:"Vor&#x3E;",currentText:"Heute",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"KW",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("de-at",{buttonText:{month:"Monat",week:"Woche",day:"Tag",list:"Terminübersicht"},allDayText:"Ganztägig",eventLimitText:function(n){return"+ weitere "+n}})}(),function(){!function(){"use strict";function n(n,t,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[n+" Tage",n+" Tagen"],M:["ein Monat","einem Monat"],MM:[n+" Monate",n+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[n+" Jahre",n+" Jahren"]};return t?r[i][0]:r[i][1]}return(t.defineLocale||t.lang).call(t,"de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:n,mm:"%d Minuten",h:n,hh:"%d Stunden",d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("de","de",{closeText:"Schließen",prevText:"&#x3C;Zurück",nextText:"Vor&#x3E;",currentText:"Heute",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"KW",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("de",{buttonText:{month:"Monat",week:"Woche",day:"Tag",list:"Terminübersicht"},allDayText:"Ganztägig",eventLimitText:function(n){return"+ weitere "+n}})}(),function(){!function(){"use strict";function n(n){return n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}return(t.defineLocale||t.lang).call(t,"el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(n,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[n.month()]:this._monthsNominativeEl[n.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(n,t,i){return n>11?i?"μμ":"ΜΜ":i?"πμ":"ΠΜ"},isPM:function(n){return"μ"===(n+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,i){var r=this._calendarEl[t],u=i&&i.hours();return n(r)&&(r=r.apply(i)),r.replace("{}",u%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("el","el",{closeText:"Κλείσιμο",prevText:"Προηγούμενος",nextText:"Επόμενος",currentText:"Σήμερα",monthNames:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],monthNamesShort:["Ιαν","Φεβ","Μαρ","Απρ","Μαι","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],dayNames:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"],dayNamesShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayNamesMin:["Κυ","Δε","Τρ","Τε","Πε","Πα","Σα"],weekHeader:"Εβδ",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("el",{buttonText:{month:"Μήνας",week:"Εβδομάδα",day:"Ημέρα",list:"Ατζέντα"},allDayText:"Ολοήμερο",eventLimitText:"περισσότερα"})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(n){var t=n%10,i=1==~~(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+i},week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("en-au","en-AU",{closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("en-au")}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(n){var t=n%10,i=1==~~(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+i}})}();n.fullCalendar.lang("en-ca")}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(n){var t=n%10,i=1==~~(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+i},week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("en-gb","en-GB",{closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("en-gb")}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(n){var t=n%10,i=1==~~(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+i},week:{dow:1,doy:4}})}();n.fullCalendar.lang("en-ie")}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(n){var t=n%10,i=1==~~(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+i},week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("en-nz","en-NZ",{closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("en-nz")}(),function(){!function(){"use strict";var n="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return(t.defineLocale||t.lang).call(t,"es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return/-MMM-/.test(r)?i[t.month()]:n[t.month()]},monthsParseExact:!0,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("es","es",{closeText:"Cerrar",prevText:"&#x3C;Ant",nextText:"Sig&#x3E;",currentText:"Hoy",monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["dom","lun","mar","mié","jue","vie","sáb"],dayNamesMin:["D","L","M","X","J","V","S"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("es",{buttonText:{month:"Mes",week:"Semana",day:"Día",list:"Agenda"},allDayHtml:"Todo<br/>el día",eventLimitText:"más"})}(),function(){!function(){"use strict";var n={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},i={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};return(t.defineLocale||t.lang).call(t,"fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(n){return/بعد از ظهر/.test(n)},meridiem:function(n){return 12>n?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چندین ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(n){return n.replace(/[۰-۹]/g,function(n){return i[n]}).replace(/،/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return n[t]}).replace(/,/g,"،")},ordinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}})}();n.fullCalendar.datepickerLang("fa","fa",{closeText:"بستن",prevText:"&#x3C;قبلی",nextText:"بعدی&#x3E;",currentText:"امروز",monthNames:["ژانویه","فوریه","مارس","آوریل","مه","ژوئن","ژوئیه","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["يکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayNamesShort:["ی","د","س","چ","پ","ج","ش"],dayNamesMin:["ی","د","س","چ","پ","ج","ش"],weekHeader:"هف",dateFormat:"yy/mm/dd",firstDay:6,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("fa",{buttonText:{month:"ماه",week:"هفته",day:"روز",list:"برنامه"},allDayText:"تمام روز",eventLimitText:function(n){return"بیش از "+n}})}(),function(){!function(){"use strict";function n(n,t,i,u){var f="";switch(i){case"s":return u?"muutaman sekunnin":"muutama sekunti";case"m":return u?"minuutin":"minuutti";case"mm":f=u?"minuutin":"minuuttia";break;case"h":return u?"tunnin":"tunti";case"hh":f=u?"tunnin":"tuntia";break;case"d":return u?"päivän":"päivä";case"dd":f=u?"päivän":"päivää";break;case"M":return u?"kuukauden":"kuukausi";case"MM":f=u?"kuukauden":"kuukautta";break;case"y":return u?"vuoden":"vuosi";case"yy":f=u?"vuoden":"vuotta"}return r(n,u)+" "+f}function r(n,t){return 10>n?t?u[n]:i[n]:n}var i="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),u=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",i[7],i[8],i[9]];return(t.defineLocale||t.lang).call(t,"fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("fi","fi",{closeText:"Sulje",prevText:"&#xAB;Edellinen",nextText:"Seuraava&#xBB;",currentText:"Tänään",monthNames:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],monthNamesShort:["Tammi","Helmi","Maalis","Huhti","Touko","Kesä","Heinä","Elo","Syys","Loka","Marras","Joulu"],dayNamesShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayNames:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],dayNamesMin:["Su","Ma","Ti","Ke","To","Pe","La"],weekHeader:"Vk",dateFormat:"d.m.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("fi",{buttonText:{month:"Kuukausi",week:"Viikko",day:"Päivä",list:"Tapahtumat"},allDayText:"Koko päivä",eventLimitText:"lisää"})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(n){return n+(1===n?"er":"e")}})}();n.fullCalendar.datepickerLang("fr-ca","fr-CA",{closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"yy-mm-dd",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("fr-ca",{buttonText:{month:"Mois",week:"Semaine",day:"Jour",list:"Mon planning"},allDayHtml:"Toute la<br/>journée",eventLimitText:"en plus"})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(n){return n+(1===n?"er":"e")},week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("fr-ch","fr-CH",{closeText:"Fermer",prevText:"&#x3C;Préc",nextText:"Suiv&#x3E;",currentText:"Courant",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sm",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("fr-ch",{buttonText:{month:"Mois",week:"Semaine",day:"Jour",list:"Mon planning"},allDayHtml:"Toute la<br/>journée",eventLimitText:"en plus"})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(n){return n+(1===n?"er":"")},week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("fr","fr",{closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("fr",{buttonText:{month:"Mois",week:"Semaine",day:"Jour",list:"Mon planning"},allDayHtml:"Toute la<br/>journée",eventLimitText:"en plus"})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(n){return 2===n?"שעתיים":n+" שעות"},d:"יום",dd:function(n){return 2===n?"יומיים":n+" ימים"},M:"חודש",MM:function(n){return 2===n?"חודשיים":n+" חודשים"},y:"שנה",yy:function(n){return 2===n?"שנתיים":n%10==0&&10!==n?n+" שנה":n+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(n){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(n)},meridiem:function(n,t,i){return 5>n?"לפנות בוקר":10>n?"בבוקר":12>n?i?'לפנה"צ':"לפני הצהריים":18>n?i?'אחה"צ':"אחרי הצהריים":"בערב"}})}();n.fullCalendar.datepickerLang("he","he",{closeText:"סגור",prevText:"&#x3C;הקודם",nextText:"הבא&#x3E;",currentText:"היום",monthNames:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],monthNamesShort:["ינו","פבר","מרץ","אפר","מאי","יוני","יולי","אוג","ספט","אוק","נוב","דצמ"],dayNames:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],dayNamesShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayNamesMin:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("he",{defaultButtonText:{month:"חודש",week:"שבוע",day:"יום",list:"סדר יום"},weekNumberTitle:"שבוע",allDayText:"כל היום",eventLimitText:"אחר"})}(),function(){!function(){"use strict";var n={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},i={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return(t.defineLocale||t.lang).call(t,"hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(n){return n.replace(/[१२३४५६७८९०]/g,function(n){return i[n]})},postformat:function(t){return t.replace(/\d/g,function(t){return n[t]})},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(n,t){return 12===n&&(n=0),"रात"===t?4>n?n:n+12:"सुबह"===t?n:"दोपहर"===t?n>=10?n:n+12:"शाम"===t?n+12:void 0},meridiem:function(n){return 4>n?"रात":10>n?"सुबह":17>n?"दोपहर":20>n?"शाम":"रात"},week:{dow:0,doy:6}})}();n.fullCalendar.datepickerLang("hi","hi",{closeText:"बंद",prevText:"पिछला",nextText:"अगला",currentText:"आज",monthNames:["जनवरी ","फरवरी","मार्च","अप्रेल","मई","जून","जूलाई","अगस्त ","सितम्बर","अक्टूबर","नवम्बर","दिसम्बर"],monthNamesShort:["जन","फर","मार्च","अप्रेल","मई","जून","जूलाई","अग","सित","अक्ट","नव","दि"],dayNames:["रविवार","सोमवार","मंगलवार","बुधवार","गुरुवार","शुक्रवार","शनिवार"],dayNamesShort:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],dayNamesMin:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],weekHeader:"हफ्ता",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("hi",{buttonText:{month:"महीना",week:"सप्ताह",day:"दिन",list:"कार्यसूची"},allDayText:"सभी दिन",eventLimitText:function(n){return"+अधिक "+n}})}(),function(){!function(){"use strict";function n(n,t,i){var r=n+" ";switch(i){case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+(1===n?"minuta":2===n||3===n||4===n?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return r+(1===n?"sat":2===n||3===n||4===n?"sata":"sati");case"dd":return r+(1===n?"dan":"dana");case"MM":return r+(1===n?"mjesec":2===n||3===n||4===n?"mjeseca":"mjeseci");case"yy":return r+(1===n?"godina":2===n||3===n||4===n?"godine":"godina")}}return(t.defineLocale||t.lang).call(t,"hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:n,mm:n,h:n,hh:n,d:"dan",dd:n,M:"mjesec",MM:n,y:"godinu",yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}();n.fullCalendar.datepickerLang("hr","hr",{closeText:"Zatvori",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Danas",monthNames:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],monthNamesShort:["Sij","Velj","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],dayNames:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","Če","Pe","Su"],weekHeader:"Tje",dateFormat:"dd.mm.yy.",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("hr",{buttonText:{month:"Mjesec",week:"Tjedan",day:"Dan",list:"Raspored"},allDayText:"Cijeli dan",eventLimitText:function(n){return"+ još "+n}})}(),function(){!function(){"use strict";function n(n,t,i,r){var u=n;switch(i){case"s":return r||t?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return u+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" óra":" órája");case"hh":return u+(r||t?" óra":" órája");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return u+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hónap":" hónapja");case"MM":return u+(r||t?" hónap":" hónapja");case"y":return"egy"+(r||t?" év":" éve");case"yy":return u+(r||t?" év":" éve")}return""}function i(n){return(n?"":"[múlt] ")+"["+r[this.day()]+"] LT[-kor]"}var r="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");return(t.defineLocale||t.lang).call(t,"hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(n){return"u"===n.charAt(1).toLowerCase()},meridiem:function(n,t,i){return 12>n?i===!0?"de":"DE":i===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}();n.fullCalendar.datepickerLang("hu","hu",{closeText:"bezár",prevText:"vissza",nextText:"előre",currentText:"ma",monthNames:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],monthNamesShort:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Szep","Okt","Nov","Dec"],dayNames:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],dayNamesShort:["Vas","Hét","Ked","Sze","Csü","Pén","Szo"],dayNamesMin:["V","H","K","Sze","Cs","P","Szo"],weekHeader:"Hét",dateFormat:"yy.mm.dd.",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""});n.fullCalendar.lang("hu",{buttonText:{month:"Hónap",week:"Hét",day:"Nap",list:"Napló"},allDayText:"Egész nap",eventLimitText:"további"})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(n,t){return 12===n&&(n=0),"pagi"===t?n:"siang"===t?n>=11?n:n+12:"sore"===t||"malam"===t?n+12:void 0},meridiem:function(n){return 11>n?"pagi":15>n?"siang":19>n?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}();n.fullCalendar.datepickerLang("id","id",{closeText:"Tutup",prevText:"&#x3C;mundur",nextText:"maju&#x3E;",currentText:"hari ini",monthNames:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agus","Sep","Okt","Nop","Des"],dayNames:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],dayNamesShort:["Min","Sen","Sel","Rab","kam","Jum","Sab"],dayNamesMin:["Mg","Sn","Sl","Rb","Km","jm","Sb"],weekHeader:"Mg",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("id",{buttonText:{month:"Bulan",week:"Minggu",day:"Hari",list:"Agenda"},allDayHtml:"Sehari<br/>penuh",eventLimitText:"lebih"})}(),function(){!function(){"use strict";function i(n){return n%100==11?!0:n%10!=1}function n(n,t,r,u){var f=n+" ";switch(r){case"s":return t||u?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return t?"mínúta":"mínútu";case"mm":return i(n)?f+(t||u?"mínútur":"mínútum"):t?f+"mínúta":f+"mínútu";case"hh":return i(n)?f+(t||u?"klukkustundir":"klukkustundum"):f+"klukkustund";case"d":return t?"dagur":u?"dag":"degi";case"dd":return i(n)?t?f+"dagar":f+(u?"daga":"dögum"):t?f+"dagur":f+(u?"dag":"degi");case"M":return t?"mánuður":u?"mánuð":"mánuði";case"MM":return i(n)?t?f+"mánuðir":f+(u?"mánuði":"mánuðum"):t?f+"mánuður":f+(u?"mánuð":"mánuði");case"y":return t||u?"ár":"ári";case"yy":return i(n)?f+(t||u?"ár":"árum"):f+(t||u?"ár":"ári")}}return(t.defineLocale||t.lang).call(t,"is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("is","is",{closeText:"Loka",prevText:"&#x3C; Fyrri",nextText:"Næsti &#x3E;",currentText:"Í dag",monthNames:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Maí","Jún","Júl","Ágú","Sep","Okt","Nóv","Des"],dayNames:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"],dayNamesShort:["Sun","Mán","Þri","Mið","Fim","Fös","Lau"],dayNamesMin:["Su","Má","Þr","Mi","Fi","Fö","La"],weekHeader:"Vika",dateFormat:"dd.mm.yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("is",{buttonText:{month:"Mánuður",week:"Vika",day:"Dagur",list:"Dagskrá"},allDayHtml:"Allan<br/>daginn",eventLimitText:"meira"})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"Do_Lu_Ma_Me_Gi_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(n){return(/^[0-9].+$/.test(n)?"tra":"in")+" "+n},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("it","it",{closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("it",{buttonText:{month:"Mese",week:"Settimana",day:"Giorno",list:"Agenda"},allDayHtml:"Tutto il<br/>giorno",eventLimitText:function(n){return"+altri "+n}})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",LTS:"Ah時m分s秒",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah時m分",LLLL:"YYYY年M月D日Ah時m分 dddd"},meridiemParse:/午前|午後/i,isPM:function(n){return"午後"===n},meridiem:function(n){return 12>n?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},ordinalParse:/\d{1,2}日/,ordinal:function(n,t){switch(t){case"d":case"D":case"DDD":return n+"日";default:return n}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}();n.fullCalendar.datepickerLang("ja","ja",{closeText:"閉じる",prevText:"&#x3C;前",nextText:"次&#x3E;",currentText:"今日",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],dayNamesMin:["日","月","火","水","木","金","土"],weekHeader:"週",dateFormat:"yy/mm/dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"});n.fullCalendar.lang("ja",{buttonText:{month:"月",week:"週",day:"日",list:"予定リスト"},allDayText:"終日",eventLimitText:function(n){return"他 "+n+" 件"}})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 m분",LTS:"A h시 m분 s초",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h시 m분",LLLL:"YYYY년 MMMM D일 dddd A h시 m분"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"일분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},ordinalParse:/\d{1,2}일/,ordinal:"%d일",meridiemParse:/오전|오후/,isPM:function(n){return"오후"===n},meridiem:function(n){return 12>n?"오전":"오후"}})}();n.fullCalendar.datepickerLang("ko","ko",{closeText:"닫기",prevText:"이전달",nextText:"다음달",currentText:"오늘",monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],dayNamesShort:["일","월","화","수","목","금","토"],dayNamesMin:["일","월","화","수","목","금","토"],weekHeader:"Wk",dateFormat:"yy-mm-dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"년"});n.fullCalendar.lang("ko",{buttonText:{month:"월",week:"주",day:"일",list:"일정목록"},allDayText:"종일",eventLimitText:"개"})}(),function(){!function(){"use strict";function f(n,t,i,r){return t?"kelios sekundės":r?"kelių sekundžių":"kelias sekundes"}function i(t,i,r,u){return i?n(r)[0]:u?n(r)[1]:n(r)[2]}function u(n){return n%10==0||n>10&&20>n}function n(n){return e[n].split("_")}function r(t,r,f,e){var o=t+" ";return 1===t?o+i(t,r,f[0],e):r?o+(u(t)?n(f)[1]:n(f)[0]):e?o+n(f)[1]:o+(u(t)?n(f)[1]:n(f)[2])}var e={m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};return(t.defineLocale||t.lang).call(t,"lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_")},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:f,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},ordinalParse:/\d{1,2}-oji/,ordinal:function(n){return n+"-oji"},week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("lt","lt",{closeText:"Uždaryti",prevText:"&#x3C;Atgal",nextText:"Pirmyn&#x3E;",currentText:"Šiandien",monthNames:["Sausis","Vasaris","Kovas","Balandis","Gegužė","Birželis","Liepa","Rugpjūtis","Rugsėjis","Spalis","Lapkritis","Gruodis"],monthNamesShort:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rugp","Rugs","Spa","Lap","Gru"],dayNames:["sekmadienis","pirmadienis","antradienis","trečiadienis","ketvirtadienis","penktadienis","šeštadienis"],dayNamesShort:["sek","pir","ant","tre","ket","pen","šeš"],dayNamesMin:["Se","Pr","An","Tr","Ke","Pe","Še"],weekHeader:"SAV",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""});n.fullCalendar.lang("lt",{buttonText:{month:"Mėnuo",week:"Savaitė",day:"Diena",list:"Darbotvarkė"},allDayText:"Visą dieną",eventLimitText:"daugiau"})}(),function(){!function(){"use strict";function r(n,t,i){return i?t%10==1&&11!==t?n[2]:n[3]:t%10==1&&11!==t?n[0]:n[1]}function n(n,t,i){return n+" "+r(u[i],n,t)}function i(n,t,i){return r(u[i],n,t)}function f(n,t){return t?"dažas sekundes":"dažām sekundēm"}var u={m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};return(t.defineLocale||t.lang).call(t,"lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:f,m:i,mm:n,h:i,hh:n,d:i,dd:n,M:i,MM:n,y:i,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("lv","lv",{closeText:"Aizvērt",prevText:"Iepr.",nextText:"Nāk.",currentText:"Šodien",monthNames:["Janvāris","Februāris","Marts","Aprīlis","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],monthNamesShort:["Jan","Feb","Mar","Apr","Mai","Jūn","Jūl","Aug","Sep","Okt","Nov","Dec"],dayNames:["svētdiena","pirmdiena","otrdiena","trešdiena","ceturtdiena","piektdiena","sestdiena"],dayNamesShort:["svt","prm","otr","tre","ctr","pkt","sst"],dayNamesMin:["Sv","Pr","Ot","Tr","Ct","Pk","Ss"],weekHeader:"Ned.",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("lv",{buttonText:{month:"Mēnesis",week:"Nedēļa",day:"Diena",list:"Dienas kārtība"},allDayText:"Visu dienu",eventLimitText:function(n){return"+vēl "+n}})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("nb","nb",{closeText:"Lukk",prevText:"&#xAB;Forrige",nextText:"Neste&#xBB;",currentText:"I dag",monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNamesShort:["søn","man","tir","ons","tor","fre","lør"],dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesMin:["sø","ma","ti","on","to","fr","lø"],weekHeader:"Uke",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("nb",{buttonText:{month:"Måned",week:"Uke",day:"Dag",list:"Agenda"},allDayText:"Hele dagen",eventLimitText:"til"})}(),function(){!function(){"use strict";var n="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");return(t.defineLocale||t.lang).call(t,"nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,r){return/-MMM-/.test(r)?i[t.month()]:n[t.month()]},monthsParseExact:!0,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(n){return n+(1===n||8===n||n>=20?"ste":"de")},week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("nl","nl",{closeText:"Sluiten",prevText:"←",nextText:"→",currentText:"Vandaag",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],weekHeader:"Wk",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("nl",{buttonText:{month:"Maand",week:"Week",day:"Dag",list:"Agenda"},allDayText:"Hele dag",eventLimitText:"extra"})}(),function(){!function(){"use strict";function i(n){return 5>n%10&&n%10>1&&~~(n/10)%10!=1}function n(n,t,r){var u=n+" ";switch(r){case"m":return t?"minuta":"minutę";case"mm":return u+(i(n)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return u+(i(n)?"godziny":"godzin");case"MM":return u+(i(n)?"miesiące":"miesięcy");case"yy":return u+(i(n)?"lata":"lat")}}var r="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),u="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");return(t.defineLocale||t.lang).call(t,"pl",{months:function(n,t){return""===t?"("+u[n.month()]+"|"+r[n.month()]+")":/D MMMM/.test(t)?u[n.month()]:r[n.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:n,mm:n,h:n,hh:n,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:n,y:"rok",yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("pl","pl",{closeText:"Zamknij",prevText:"&#x3C;Poprzedni",nextText:"Następny&#x3E;",currentText:"Dziś",monthNames:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthNamesShort:["Sty","Lu","Mar","Kw","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],dayNames:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],dayNamesShort:["Nie","Pn","Wt","Śr","Czw","Pt","So"],dayNamesMin:["N","Pn","Wt","Śr","Cz","Pt","So"],weekHeader:"Tydz",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("pl",{buttonText:{month:"Miesiąc",week:"Tydzień",day:"Dzień",list:"Plan dnia"},allDayText:"Cały dzień",eventLimitText:"więcej"})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº"})}();n.fullCalendar.datepickerLang("pt-br","pt-BR",{closeText:"Fechar",prevText:"&#x3C;Anterior",nextText:"Próximo&#x3E;",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("pt-br",{buttonText:{month:"Mês",week:"Semana",day:"Dia",list:"Compromissos"},allDayText:"dia inteiro",eventLimitText:function(n){return"mais +"+n}})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"pt",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("pt","pt",{closeText:"Fechar",prevText:"Anterior",nextText:"Seguinte",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],weekHeader:"Sem",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("pt",{buttonText:{month:"Mês",week:"Semana",day:"Dia",list:"Agenda"},allDayText:"Todo o dia",eventLimitText:"mais"})}(),function(){!function(){"use strict";function n(n,t,i){var r=" ";return(n%100>=20||n>=100&&n%100==0)&&(r=" de "),n+r+{mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[i]}return(t.defineLocale||t.lang).call(t,"ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:n,h:"o oră",hh:n,d:"o zi",dd:n,M:"o lună",MM:n,y:"un an",yy:n},week:{dow:1,doy:7}})}();n.fullCalendar.datepickerLang("ro","ro",{closeText:"Închide",prevText:"&#xAB; Luna precedentă",nextText:"Luna următoare &#xBB;",currentText:"Azi",monthNames:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],monthNamesShort:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"],dayNamesShort:["Dum","Lun","Mar","Mie","Joi","Vin","Sâm"],dayNamesMin:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],weekHeader:"Săpt",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("ro",{buttonText:{prev:"precedentă",next:"următoare",month:"Lună",week:"Săptămână",day:"Zi",list:"Agendă"},allDayText:"Toată ziua",eventLimitText:function(n){return"+alte "+n}})}(),function(){!function(){"use strict";function r(n,t){var i=n.split("_");return t%10==1&&t%100!=11?i[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?i[1]:i[2]}function n(n,t,i){var u={mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===i?t?"минута":"минуту":n+" "+r(u[i],+n)}var i=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];return(t.defineLocale||t.lang).call(t,"ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,monthsRegex:/^(сентябр[яь]|октябр[яь]|декабр[яь]|феврал[яь]|январ[яь]|апрел[яь]|августа?|ноябр[яь]|сент\.|февр\.|нояб\.|июнь|янв.|июль|дек.|авг.|апр.|марта|мар[.т]|окт.|июн[яь]|июл[яь]|ма[яй])/i,monthsShortRegex:/^(сентябр[яь]|октябр[яь]|декабр[яь]|феврал[яь]|январ[яь]|апрел[яь]|августа?|ноябр[яь]|сент\.|февр\.|нояб\.|июнь|янв.|июль|дек.|авг.|апр.|марта|мар[.т]|окт.|июн[яь]|июл[яь]|ма[яй])/i,monthsStrictRegex:/^(сентябр[яь]|октябр[яь]|декабр[яь]|феврал[яь]|январ[яь]|апрел[яь]|августа?|ноябр[яь]|марта?|июн[яь]|июл[яь]|ма[яй])/i,monthsShortStrictRegex:/^(нояб\.|февр\.|сент\.|июль|янв\.|июн[яь]|мар[.т]|авг\.|апр\.|окт\.|дек\.|ма[яй])/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(n){if(n.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В следующее] dddd [в] LT";case 1:case 2:case 4:return"[В следующий] dddd [в] LT";case 3:case 5:case 6:return"[В следующую] dddd [в] LT"}},lastWeek:function(n){if(n.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:n,mm:n,h:"час",hh:n,d:"день",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(n){return/^(дня|вечера)$/.test(n)},meridiem:function(n){return 4>n?"ночи":12>n?"утра":17>n?"дня":"вечера"},ordinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(n,t){switch(t){case"M":case"d":case"DDD":return n+"-й";case"D":return n+"-го";case"w":case"W":return n+"-я";default:return n}},week:{dow:1,doy:7}})}();n.fullCalendar.datepickerLang("ru","ru",{closeText:"Закрыть",prevText:"&#x3C;Пред",nextText:"След&#x3E;",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("ru",{buttonText:{month:"Месяц",week:"Неделя",day:"День",list:"Повестка дня"},allDayText:"Весь день",eventLimitText:function(n){return"+ ещё "+n}})}(),function(){!function(){"use strict";function i(n){return n>1&&5>n}function n(n,t,r,u){var f=n+" ";switch(r){case"s":return t||u?"pár sekúnd":"pár sekundami";case"m":return t?"minúta":u?"minútu":"minútou";case"mm":return t||u?f+(i(n)?"minúty":"minút"):f+"minútami";case"h":return t?"hodina":u?"hodinu":"hodinou";case"hh":return t||u?f+(i(n)?"hodiny":"hodín"):f+"hodinami";case"d":return t||u?"deň":"dňom";case"dd":return t||u?f+(i(n)?"dni":"dní"):f+"dňami";case"M":return t||u?"mesiac":"mesiacom";case"MM":return t||u?f+(i(n)?"mesiace":"mesiacov"):f+"mesiacmi";case"y":return t||u?"rok":"rokom";case"yy":return t||u?f+(i(n)?"roky":"rokov"):f+"rokmi"}}var r="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),u="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");return(t.defineLocale||t.lang).call(t,"sk",{months:r,monthsShort:u,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("sk","sk",{closeText:"Zavrieť",prevText:"&#x3C;Predchádzajúci",nextText:"Nasledujúci&#x3E;",currentText:"Dnes",monthNames:["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december"],monthNamesShort:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],dayNames:["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],dayNamesShort:["Ned","Pon","Uto","Str","Štv","Pia","Sob"],dayNamesMin:["Ne","Po","Ut","St","Št","Pia","So"],weekHeader:"Ty",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("sk",{buttonText:{month:"Mesiac",week:"Týždeň",day:"Deň",list:"Rozvrh"},allDayText:"Celý deň",eventLimitText:function(n){return"+ďalšie: "+n}})}(),function(){!function(){"use strict";function n(n,t,i,r){var u=n+" ";switch(i){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"m":return t?"ena minuta":"eno minuto";case"mm":return u+(1===n?t?"minuta":"minuto":2===n?t||r?"minuti":"minutama":5>n?t||r?"minute":"minutami":t||r?"minut":"minutami");case"h":return t?"ena ura":"eno uro";case"hh":return u+(1===n?t?"ura":"uro":2===n?t||r?"uri":"urama":5>n?t||r?"ure":"urami":t||r?"ur":"urami");case"d":return t||r?"en dan":"enim dnem";case"dd":return u+(1===n?t||r?"dan":"dnem":2===n?t||r?"dni":"dnevoma":t||r?"dni":"dnevi");case"M":return t||r?"en mesec":"enim mesecem";case"MM":return u+(1===n?t||r?"mesec":"mesecem":2===n?t||r?"meseca":"mesecema":5>n?t||r?"mesece":"meseci":t||r?"mesecev":"meseci");case"y":return t||r?"eno leto":"enim letom";case"yy":return u+(1===n?t||r?"leto":"letom":2===n?t||r?"leti":"letoma":5>n?t||r?"leta":"leti":t||r?"let":"leti")}}return(t.defineLocale||t.lang).call(t,"sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}();n.fullCalendar.datepickerLang("sl","sl",{closeText:"Zapri",prevText:"&#x3C;Prejšnji",nextText:"Naslednji&#x3E;",currentText:"Trenutni",monthNames:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"],dayNamesShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayNamesMin:["Ne","Po","To","Sr","Če","Pe","So"],weekHeader:"Teden",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("sl",{buttonText:{month:"Mesec",week:"Teden",day:"Dan",list:"Dnevni red"},allDayText:"Ves dan",eventLimitText:"več"})}(),function(){!function(){"use strict";var n={words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(n,t){return 1===n?t[0]:n>=2&&4>=n?t[1]:t[2]},translate:function(t,i,r){var u=n.words[r];return 1===r.length?i?u[0]:u[1]:t+" "+n.correctGrammaticalCase(t,u)}};return(t.defineLocale||t.lang).call(t,"sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:n.translate,mm:n.translate,h:n.translate,hh:n.translate,d:"дан",dd:n.translate,M:"месец",MM:n.translate,y:"годину",yy:n.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}();n.fullCalendar.datepickerLang("sr-cyrl","sr",{closeText:"Затвори",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Данас",monthNames:["Јануар","Фебруар","Март","Април","Мај","Јун","Јул","Август","Септембар","Октобар","Новембар","Децембар"],monthNamesShort:["Јан","Феб","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Нов","Дец"],dayNames:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"],dayNamesShort:["Нед","Пон","Уто","Сре","Чет","Пет","Суб"],dayNamesMin:["Не","По","Ут","Ср","Че","Пе","Су"],weekHeader:"Сед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("sr-cyrl",{buttonText:{month:"Месец",week:"Недеља",day:"Дан",list:"Планер"},allDayText:"Цео дан",eventLimitText:function(n){return"+ још "+n}})}(),function(){!function(){"use strict";var n={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(n,t){return 1===n?t[0]:n>=2&&4>=n?t[1]:t[2]},translate:function(t,i,r){var u=n.words[r];return 1===r.length?i?u[0]:u[1]:t+" "+n.correctGrammaticalCase(t,u)}};return(t.defineLocale||t.lang).call(t,"sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:n.translate,mm:n.translate,h:n.translate,hh:n.translate,d:"dan",dd:n.translate,M:"mesec",MM:n.translate,y:"godinu",yy:n.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}();n.fullCalendar.datepickerLang("sr","sr",{closeText:"Затвори",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Данас",monthNames:["Јануар","Фебруар","Март","Април","Мај","Јун","Јул","Август","Септембар","Октобар","Новембар","Децембар"],monthNamesShort:["Јан","Феб","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Нов","Дец"],dayNames:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"],dayNamesShort:["Нед","Пон","Уто","Сре","Чет","Пет","Суб"],dayNamesMin:["Не","По","Ут","Ср","Че","Пе","Су"],weekHeader:"Сед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("sr",{buttonText:{month:"Месец",week:"Недеља",day:"Дан",list:"Планер"},allDayText:"Цео дан",eventLimitText:function(n){return"+ још "+n}})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(n){var t=n%10,i=1==~~(n%100/10)?"e":1===t?"a":2===t?"a":"e";return n+i},week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("sv","sv",{closeText:"Stäng",prevText:"&#xAB;Förra",nextText:"Nästa&#xBB;",currentText:"Idag",monthNames:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNamesShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayNames:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],dayNamesMin:["Sö","Må","Ti","On","To","Fr","Lö"],weekHeader:"Ve",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("sv",{buttonText:{month:"Månad",week:"Vecka",day:"Dag",list:"Program"},allDayText:"Heldag",eventLimitText:"till"})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"มกรา_กุมภา_มีนา_เมษา_พฤษภา_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H นาฬิกา m นาที",LTS:"H นาฬิกา m นาที s วินาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H นาฬิกา m นาที",LLLL:"วันddddที่ D MMMM YYYY เวลา H นาฬิกา m นาที"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(n){return"หลังเที่ยง"===n},meridiem:function(n){return 12>n?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}();n.fullCalendar.datepickerLang("th","th",{closeText:"ปิด",prevText:"&#xAB;&#xA0;ย้อน",nextText:"ถัดไป&#xA0;&#xBB;",currentText:"วันนี้",monthNames:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],monthNamesShort:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],dayNames:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"],dayNamesShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayNamesMin:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("th",{buttonText:{month:"เดือน",week:"สัปดาห์",day:"วัน",list:"แผนงาน"},allDayText:"ตลอดวัน",eventLimitText:"เพิ่มเติม"})}(),function(){!function(){"use strict";var n={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};return(t.defineLocale||t.lang).call(t,"tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinalParse:/\d{1,2}'(inci|nci|üncü|ncı|uncu|ıncı)/,ordinal:function(t){if(0===t)return t+"'ıncı";var i=t%10,r=t%100-i,u=t>=100?100:null;return t+(n[i]||n[r]||n[u])},week:{dow:1,doy:7}})}();n.fullCalendar.datepickerLang("tr","tr",{closeText:"kapat",prevText:"&#x3C;geri",nextText:"ileri&#x3e",currentText:"bugün",monthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],dayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],dayNamesMin:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],weekHeader:"Hf",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("tr",{buttonText:{next:"ileri",month:"Ay",week:"Hafta",day:"Gün",list:"Ajanda"},allDayText:"Tüm gün",eventLimitText:"daha fazla"})}(),function(){!function(){"use strict";function r(n,t){var i=n.split("_");return t%10==1&&t%100!=11?i[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?i[1]:i[2]}function n(n,t,i){var u={mm:t?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:t?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===i?t?"хвилина":"хвилину":"h"===i?t?"година":"годину":n+" "+r(u[i],+n)}function u(n,t){var i={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")},r=/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative";return i[r][n.day()]}function i(n){return function(){return n+"о"+(11===this.hours()?"б":"")+"] LT"}}return(t.defineLocale||t.lang).call(t,"uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:u,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:i("[Сьогодні "),nextDay:i("[Завтра "),lastDay:i("[Вчора "),nextWeek:i("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return i("[Минулої] dddd [").call(this);case 1:case 2:case 4:return i("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:n,mm:n,h:"годину",hh:n,d:"день",dd:n,M:"місяць",MM:n,y:"рік",yy:n},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(n){return/^(дня|вечора)$/.test(n)},meridiem:function(n){return 4>n?"ночі":12>n?"ранку":17>n?"дня":"вечора"},ordinalParse:/\d{1,2}-(й|го)/,ordinal:function(n,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return n+"-й";case"D":return n+"-го";default:return n}},week:{dow:1,doy:7}})}();n.fullCalendar.datepickerLang("uk","uk",{closeText:"Закрити",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Сьогодні",monthNames:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthNamesShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],dayNames:["неділя","понеділок","вівторок","середа","четвер","п’ятниця","субота"],dayNamesShort:["нед","пнд","вів","срд","чтв","птн","сбт"],dayNamesMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Тиж",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("uk",{buttonText:{month:"Місяць",week:"Тиждень",day:"День",list:"Порядок денний"},allDayText:"Увесь день",eventLimitText:function(n){return"+ще "+n+"..."}})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(n){return/^ch$/i.test(n)},meridiem:function(n,t,i){return 12>n?i?"sa":"SA":i?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinalParse:/\d{1,2}/,ordinal:function(n){return n},week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("vi","vi",{closeText:"Đóng",prevText:"&#x3C;Trước",nextText:"Tiếp&#x3E;",currentText:"Hôm nay",monthNames:["Tháng Một","Tháng Hai","Tháng Ba","Tháng Tư","Tháng Năm","Tháng Sáu","Tháng Bảy","Tháng Tám","Tháng Chín","Tháng Mười","Tháng Mười Một","Tháng Mười Hai"],monthNamesShort:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayNames:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"],dayNamesShort:["CN","T2","T3","T4","T5","T6","T7"],dayNamesMin:["CN","T2","T3","T4","T5","T6","T7"],weekHeader:"Tu",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""});n.fullCalendar.lang("vi",{buttonText:{month:"Tháng",week:"Tuần",day:"Ngày",list:"Lịch biểu"},allDayText:"Cả ngày",eventLimitText:function(n){return"+ thêm "+n}})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm分",LTS:"Ah点m分s秒",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah点mm分",LLLL:"YYYY年MMMD日ddddAh点mm分",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日Ah点mm分",llll:"YYYY年MMMD日ddddAh点mm分"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(n,t){return 12===n&&(n=0),"凌晨"===t||"早上"===t||"上午"===t?n:"下午"===t||"晚上"===t?n+12:n>=11?n:n+12},meridiem:function(n,t){var i=100*n+t;return 600>i?"凌晨":900>i?"早上":1130>i?"上午":1230>i?"中午":1800>i?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var i,n;return i=t().startOf("week"),n=this.diff(i,"days")>=7?"[下]":"[本]",0===this.minutes()?n+"dddAh点整":n+"dddAh点mm"},lastWeek:function(){var i,n;return i=t().startOf("week"),n=this.unix()<i.unix()?"[上]":"[本]",0===this.minutes()?n+"dddAh点整":n+"dddAh点mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(日|月|周)/,ordinal:function(n,t){switch(t){case"d":case"D":case"DDD":return n+"日";case"M":return n+"月";case"w":case"W":return n+"周";default:return n}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}})}();n.fullCalendar.datepickerLang("zh-cn","zh-CN",{closeText:"关闭",prevText:"&#x3C;上月",nextText:"下月&#x3E;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"});n.fullCalendar.lang("zh-cn",{buttonText:{month:"月",week:"周",day:"日",list:"日程"},allDayText:"全天",eventLimitText:function(n){return"另外 "+n+" 个"}})}(),function(){!function(){"use strict";return(t.defineLocale||t.lang).call(t,"zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm分",LTS:"Ah點m分s秒",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah點mm分",LLLL:"YYYY年MMMD日ddddAh點mm分",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日Ah點mm分",llll:"YYYY年MMMD日ddddAh點mm分"},meridiemParse:/早上|上午|中午|下午|晚上/,meridiemHour:function(n,t){return 12===n&&(n=0),"早上"===t||"上午"===t?n:"中午"===t?n>=11?n:n+12:"下午"===t||"晚上"===t?n+12:void 0},meridiem:function(n,t){var i=100*n+t;return 900>i?"早上":1130>i?"上午":1230>i?"中午":1800>i?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(日|月|週)/,ordinal:function(n,t){switch(t){case"d":case"D":case"DDD":return n+"日";case"M":return n+"月";case"w":case"W":return n+"週";default:return n}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1分鐘",mm:"%d分鐘",h:"1小時",hh:"%d小時",d:"1天",dd:"%d天",M:"1個月",MM:"%d個月",y:"1年",yy:"%d年"}})}();n.fullCalendar.datepickerLang("zh-tw","zh-TW",{closeText:"關閉",prevText:"&#x3C;上月",nextText:"下月&#x3E;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy/mm/dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"});n.fullCalendar.lang("zh-tw",{buttonText:{month:"月",week:"週",day:"天",list:"待辦事項"},allDayText:"全天",eventLimitText:"更多"})}();(t.locale||t.lang).call(t,"en");n.fullCalendar.lang("en");n.datepicker&&n.datepicker.setDefaults(n.datepicker.regional[""])}),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){function i(i,e,o,s,h){function l(r,u){var f=u||[{message:r}];(i.googleCalendarError||n.noop).apply(h,f);(h.options.googleCalendarError||n.noop).apply(h,f);t.warn.apply(null,[r].concat(u||[]))}var a,c,y=u+"/"+encodeURIComponent(i.googleCalendarId)+"/events?callback=?",v=i.googleCalendarApiKey||h.options.googleCalendarApiKey,p=i.success;return v?(e.hasZone()||(e=e.clone().utc().add(-1,"day")),o.hasZone()||(o=o.clone().utc().add(1,"day")),s&&"local"!=s&&(c=s.replace(" ","_")),a=n.extend({},i.data||{},{key:v,timeMin:e.format(),timeMax:o.format(),timeZone:c,singleEvents:!0,maxResults:9999}),n.extend({},i,{googleCalendarId:null,url:y,data:a,startParam:!1,endParam:!1,timezoneParam:!1,success:function(t){var e,i,u=[];if(t.error)l("Google Calendar API: "+t.error.message,t.error.errors);else if(t.items&&(n.each(t.items,function(n,t){var i=t.htmlLink||null;c&&null!==i&&(i=r(i,"ctz="+c));u.push({id:t.id,title:t.summary,start:t.start.dateTime||t.start.date,end:t.end.dateTime||t.end.date,url:i,location:t.location,description:t.description})}),e=[u].concat(Array.prototype.slice.call(arguments,1)),i=f(p,this,e),n.isArray(i)))return i;return u}})):(l("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{})}function r(n,t){return n.replace(/(\?.*?)?(#|$)/,function(n,i,r){return(i?i+"&":"?")+t+r})}var u="https://www.googleapis.com/calendar/v3/calendars",t=n.fullCalendar,f=t.applyAll;t.sourceNormalizers.push(function(n){var r,t=n.googleCalendarId,i=n.url;!t&&i&&(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(i)?t=i:((r=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(i))||(r=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(i)))&&(t=decodeURIComponent(r[1])),t&&(n.googleCalendarId=t));t&&(null==n.editable&&(n.editable=!1),n.url=t)});t.sourceFetchers.push(function(n,t,r,u){if(n.googleCalendarId)return i(n,t,r,u,this)})}),function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;t.Clipboard=n()}}(function(){var n;return function t(n,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!n[f]){if(h="function"==typeof require&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};n[f][0].call(s.exports,function(t){var i=n[f][1][t];return u(i?i:t)},s,s.exports,t,n,i,r)}return i[f].exports}for(var e="function"==typeof require&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(n,t){var i=n("matches-selector");t.exports=function(n,t,r){for(var u=r?n:n.parentNode;u&&u!==document;){if(i(u,t))return u;u=u.parentNode}}},{"matches-selector":5}],2:[function(n,t){function i(n,t,i,u,f){var e=r.apply(this,arguments);return n.addEventListener(i,e,f),{destroy:function(){n.removeEventListener(i,e,f)}}}function r(n,t,i,r){return function(i){i.delegateTarget=u(i.target,t,!0);i.delegateTarget&&r.call(n,i)}}var u=n("closest");t.exports=i},{closest:1}],3:[function(n,t,i){i.node=function(n){return void 0!==n&&n instanceof HTMLElement&&1===n.nodeType};i.nodeList=function(n){var t=Object.prototype.toString.call(n);return void 0!==n&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in n&&(0===n.length||i.node(n[0]))};i.string=function(n){return"string"==typeof n||n instanceof String};i.fn=function(n){var t=Object.prototype.toString.call(n);return"[object Function]"===t}},{}],4:[function(n,t){function r(n,t,r){if(!n&&!t&&!r)throw new Error("Missing required arguments");if(!i.string(t))throw new TypeError("Second argument must be a String");if(!i.fn(r))throw new TypeError("Third argument must be a Function");if(i.node(n))return u(n,t,r);if(i.nodeList(n))return f(n,t,r);if(i.string(n))return e(n,t,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");}function u(n,t,i){return n.addEventListener(t,i),{destroy:function(){n.removeEventListener(t,i)}}}function f(n,t,i){return Array.prototype.forEach.call(n,function(n){n.addEventListener(t,i)}),{destroy:function(){Array.prototype.forEach.call(n,function(n){n.removeEventListener(t,i)})}}}function e(n,t,i){return o(document.body,n,t,i)}var i=n("./is"),o=n("delegate");t.exports=r},{"./is":3,delegate:2}],5:[function(n,t){function u(n,t){if(r)return r.call(n,t);for(var u=n.parentNode.querySelectorAll(t),i=0;i<u.length;++i)if(u[i]==n)return!0;return!1}var i=Element.prototype,r=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;t.exports=u},{}],6:[function(n,t){function i(n){var i,t,r;return"INPUT"===n.nodeName||"TEXTAREA"===n.nodeName?(n.focus(),n.setSelectionRange(0,n.value.length),i=n.value):(n.hasAttribute("contenteditable")&&n.focus(),t=window.getSelection(),r=document.createRange(),r.selectNodeContents(n),t.removeAllRanges(),t.addRange(r),i=t.toString()),i}t.exports=i},{}],7:[function(n,t){function i(){}i.prototype={on:function(n,t,i){var r=this.e||(this.e={});return(r[n]||(r[n]=[])).push({fn:t,ctx:i}),this},once:function(n,t,i){function r(){u.off(n,r);t.apply(i,arguments)}var u=this;return r._=t,this.on(n,r,i)},emit:function(n){var r=[].slice.call(arguments,1),i=((this.e||(this.e={}))[n]||[]).slice(),t=0,u=i.length;for(t;u>t;t++)i[t].fn.apply(i[t].ctx,r);return this},off:function(n,t){var u=this.e||(this.e={}),r=u[n],f=[],i,e;if(r&&t)for(i=0,e=r.length;e>i;i++)r[i].fn!==t&&r[i].fn._!==t&&f.push(r[i]);return f.length?u[n]=f:delete u[n],this}};t.exports=i},{}],8:[function(t,i,r){!function(u,f){if("function"==typeof n&&n.amd)n(["module","select"],f);else if("undefined"!=typeof r)f(i,t("select"));else{var e={exports:{}};f(e,u.select);u.clipboardAction=e.exports}}(this,function(n,t){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var i=r(t),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},e=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),o=function(){function n(t){u(this,n);this.resolveOptions(t);this.initSelection()}return n.prototype.resolveOptions=function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=n.action;this.emitter=n.emitter;this.target=n.target;this.text=n.text;this.trigger=n.trigger;this.selectedText=""},n.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},n.prototype.selectFake=function(){var n=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake();this.fakeHandlerCallback=function(){return n.removeFake()};this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0;this.fakeElem=document.createElement("textarea");this.fakeElem.style.fontSize="12pt";this.fakeElem.style.border="0";this.fakeElem.style.padding="0";this.fakeElem.style.margin="0";this.fakeElem.style.position="absolute";this.fakeElem.style[t?"right":"left"]="-9999px";this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px";this.fakeElem.setAttribute("readonly","");this.fakeElem.value=this.text;document.body.appendChild(this.fakeElem);this.selectedText=i["default"](this.fakeElem);this.copyText()},n.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null);this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},n.prototype.selectTarget=function(){this.selectedText=i["default"](this.target);this.copyText()},n.prototype.copyText=function(){var n=void 0;try{n=document.execCommand(this.action)}catch(t){n=!1}this.handleResult(n)},n.prototype.handleResult=function(n){n?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},n.prototype.clearSelection=function(){this.target&&this.target.blur();window.getSelection().removeAllRanges()},n.prototype.destroy=function(){this.removeFake()},e(n,[{key:"action",set:function(){var n=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=n,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"');},get:function(){return this._action}},{key:"target",set:function(n){if(void 0!==n){if(!n||"object"!==("undefined"==typeof n?"undefined":f(n))||1!==n.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&n.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(n.hasAttribute("readonly")||n.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=n}},get:function(){return this._target}}]),n}();n.exports=o})},{select:6}],9:[function(t,i,r){!function(u,f){if("function"==typeof n&&n.amd)n(["module","./clipboard-action","tiny-emitter","good-listener"],f);else if("undefined"!=typeof r)f(i,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var e={exports:{}};f(e,u.clipboardAction,u.tinyEmitter,u.goodListener);u.clipboard=e.exports}}(this,function(n,t,i,r){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function f(n,t){var i="data-clipboard-"+n;if(t.hasAttribute(i))return t.getAttribute(i)}var h=u(t),c=u(i),l=u(r),a=function(n){function t(i,r){e(this,t);var u=o(this,n.call(this));return u.resolveOptions(r),u.listenClick(i),u}return s(t,n),t.prototype.resolveOptions=function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof n.action?n.action:this.defaultAction;this.target="function"==typeof n.target?n.target:this.defaultTarget;this.text="function"==typeof n.text?n.text:this.defaultText},t.prototype.listenClick=function(n){var t=this;this.listener=l["default"](n,"click",function(n){return t.onClick(n)})},t.prototype.onClick=function(n){var t=n.delegateTarget||n.currentTarget;this.clipboardAction&&(this.clipboardAction=null);this.clipboardAction=new h["default"]({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})},t.prototype.defaultAction=function(n){return f("action",n)},t.prototype.defaultTarget=function(n){var t=f("target",n);if(t)return document.querySelector(t)},t.prototype.defaultText=function(n){return f("text",n)},t.prototype.destroy=function(){this.listener.destroy();this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},t}(c["default"]);n.exports=a})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),function(){"use strict";var n,t,i="ngclipboard";"object"==typeof module&&module.exports?(n=require("angular"),t=require("clipboard"),module.exports=i):(n=window.angular,t=window.Clipboard);n.module(i,[]).directive("ngclipboard",function(){return{restrict:"A",scope:{ngclipboardSuccess:"&",ngclipboardError:"&"},link:function(n,i){var r=new t(i[0]);r.on("success",function(t){n.$apply(function(){n.ngclipboardSuccess({e:t})})});r.on("error",function(t){n.$apply(function(){n.ngclipboardError({e:t})})})}}})}(),function(){"use strict";function n(n,t,i,r,u,f,e){function p(){return o.length}function w(n){if(1!==arguments.length||n)if(n)c(n.toastId);else for(var t=0;t<o.length;t++)c(o[t].toastId)}function b(n,t,i){var r=h().iconClasses.error;return l(r,n,t,i)}function k(n,t,i){var r=h().iconClasses.info;return l(r,n,t,i)}function d(n,t,i){var r=h().iconClasses.success;return l(r,n,t,i)}function g(n,t,i){var r=h().iconClasses.warning;return l(r,n,t,i)}function nt(n,t){n&&n.isOpened&&o.indexOf(n)>=0&&n.scope.refreshTimer(t)}function c(t,i){function u(n){for(var t=0;t<o.length;t++)if(o[t].toastId===n)return o[t]}function h(){return!o.length}var r=u(t);r&&!r.deleting&&(r.deleting=!0,r.isOpened=!1,n.leave(r.el).then(function(){var t,n;r.scope.options.onHidden&&r.scope.options.onHidden(!!i,r);r.scope.$destroy();t=o.indexOf(r);delete v[r.scope.message];o.splice(t,1);n=f.maxOpened;n&&o.length>=n&&o[n-1].open.resolve();h()&&(s.remove(),s=null,a=e.defer())}))}function l(n,t,i,r){return angular.isObject(i)&&(r=i,i=null),it({iconClass:n,message:t,optionsOverride:r,title:i})}function h(){return angular.extend({},f)}function tt(t){if(s)return a.promise;s=angular.element("<div><\/div>");s.attr("id",t.containerId);s.addClass(t.positionClass);s.css({"pointer-events":"auto"});var i=angular.element(document.querySelector(t.target));if(!i||!i.length)throw"Target for toasts doesn't exist";return n.enter(s,i).then(function(){a.resolve()}),a.promise}function it(i){function w(){return f.autoDismiss&&f.maxOpened&&o.length>f.maxOpened}function b(n,t,i){function r(t){if(i[t])return function(){i[t](n)}}i.allowHtml?(n.scope.allowHtml=!0,n.scope.title=u.trustAsHtml(t.title),n.scope.message=u.trustAsHtml(t.message)):(n.scope.title=t.title,n.scope.message=t.message);n.scope.toastType=n.iconClass;n.scope.toastId=n.toastId;n.scope.extraData=i.extraData;n.scope.options={extendedTimeOut:i.extendedTimeOut,messageClass:i.messageClass,onHidden:i.onHidden,onShown:r("onShown"),onTap:r("onTap"),progressBar:i.progressBar,tapToDismiss:i.tapToDismiss,timeOut:i.timeOut,titleClass:i.titleClass,toastClass:i.toastClass};i.closeButton&&(n.scope.options.closeHtml=i.closeHtml)}function k(){function t(n){for(var i=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],t=0,r=i.length;r>t;t++)delete n[i[t]];return n}var n={toastId:rt++,isOpened:!1,scope:r.$new(),open:e.defer()};return n.iconClass=i.iconClass,i.optionsOverride&&(angular.extend(f,t(i.optionsOverride)),n.iconClass=i.optionsOverride.iconClass||n.iconClass),b(n,i,f),n.el=d(n.scope),n}function d(n){var i=angular.element("<div toast><\/div>"),r=t.get("$compile");return r(i)(n)}function g(){return f.maxOpened&&o.length<=f.maxOpened||!f.maxOpened}function nt(){var n=f.preventDuplicates&&i.message===y,t=f.preventOpenDuplicates&&v[i.message];return n||t?!0:(y=i.message,v[i.message]=!0,!1)}var f=h(),l;if(!nt()){if(l=k(),o.push(l),w())for(var p=o.slice(0,o.length-f.maxOpened),a=0,it=p.length;it>a;a++)c(p[a].toastId);return g()&&l.open.resolve(),l.open.promise.then(function(){tt(f).then(function(){if(l.isOpened=!0,f.newestOnTop)n.enter(l.el,s).then(function(){l.scope.init()});else{var t=s[0].lastChild?angular.element(s[0].lastChild):null;n.enter(l.el,s,t).then(function(){l.scope.init()})}})}),l}}var s,rt=0,o=[],y="",v={},a=e.defer();return{active:p,clear:w,error:b,info:k,remove:c,success:d,warning:g,refreshTimer:nt}}angular.module("toastr",[]).factory("toastr",n);n.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;<\/button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,onTap:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function n(n){function t(n,t,i,r){function o(){var n=(e-(new Date).getTime())/f*100;t.css("width",n+"%")}var u,f,e;r.progressBar=n;n.start=function(n){u&&clearInterval(u);f=parseFloat(n);e=(new Date).getTime()+f;u=setInterval(o,10)};n.stop=function(){u&&clearInterval(u)};n.$on("$destroy",function(){clearInterval(u)})}return{require:"^toast",templateUrl:function(){return n.templates.progressbar},link:t}}angular.module("toastr").directive("progressBar",n);n.$inject=["toastrConfig"]}(),function(){"use strict";function n(){this.progressBar=null;this.startProgressBar=function(n){this.progressBar&&this.progressBar.start(n)};this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}angular.module("toastr").controller("ToastController",n)}(),function(){"use strict";function n(n,t,i,r){function u(i,u,f,e){function h(n){return e.startProgressBar(n),t(function(){e.stopProgressBar();r.remove(i.toastId)},n,1)}function l(){i.progressBar=!1;e.stopProgressBar()}function a(){return i.options.closeHtml}var o,s,c;(i.toastClass=i.options.toastClass,i.titleClass=i.options.titleClass,i.messageClass=i.options.messageClass,i.progressBar=i.options.progressBar,a())&&(s=angular.element(i.options.closeHtml),c=n.get("$compile"),s.addClass("toast-close-button"),s.attr("ng-click","close(true, $event)"),c(s)(i),u.children().prepend(s));i.init=function(){i.options.timeOut&&(o=h(i.options.timeOut));i.options.onShown&&i.options.onShown()};u.on("mouseenter",function(){l();o&&t.cancel(o)});i.tapToast=function(){angular.isFunction(i.options.onTap)&&i.options.onTap();i.options.tapToDismiss&&i.close(!0)};i.close=function(n,t){t&&angular.isFunction(t.stopPropagation)&&t.stopPropagation();r.remove(i.toastId,n)};i.refreshTimer=function(n){o&&(t.cancel(o),o=h(n||i.options.timeOut))};u.on("mouseleave",function(){0===i.options.timeOut&&0===i.options.extendedTimeOut||(i.$apply(function(){i.progressBar=i.options.progressBar}),o=h(i.options.extendedTimeOut))})}return{templateUrl:function(){return i.templates.toast},controller:"ToastController",link:u}}angular.module("toastr").directive("toast",n);n.$inject=["$injector","$interval","toastrConfig","toastr"]}();angular.module("toastr").run(["$templateCache",function(n){n.put("directives/progressbar/progressbar.html",'<div class="toast-progress"><\/div>\n');n.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}" aria-label="{{title}}">{{title}}<\/div>\n    <div ng-switch-default class="{{messageClass}}" aria-label="{{message}}">{{message}}<\/div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"><\/div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"><\/div>\n  <\/div>\n  <progress-bar ng-if="progressBar"><\/progress-bar>\n<\/div>\n')}]);!function(){"use strict";angular.module("ui.grid.i18n",[]);angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",ENTITY_BINDING:"$$this",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["¤","؋","Ar","Ƀ","฿","B/.","Br","Bs.","Bs.F.","GH₵","¢","c","Ch.","₡","C$","D","ден","دج",".د.ب","د.ع","JD","د.ك","ل.د","дин","د.ت","د.م.","د.إ","Db","$","₫","Esc","€","ƒ","Ft","FBu","FCFA","CFA","Fr","FRw","G","gr","₲","h","₴","₭","Kč","kr","kn","MK","ZK","Kz","K","L","Le","лв","E","lp","M","KM","MT","₥","Nfk","₦","Nu.","UM","T$","MOP$","₱","Pt.","£","ج.م.","LL","LS","P","Q","q","R","R$","ر.ع.","ر.ق","ر.س","៛","RM","p","Rf.","₹","₨","SRe","Rp","₪","Ksh","Sh.So.","USh","S/","SDR","сом","৳\t","WS$","₮","VT","₩","¥","zł"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}();angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(n,t,i,r){return{priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,u,f,e){function o(){var n=t.col.compiledElementFn;n(t,function(n){u.append(n)})}if(e&&t.col.compiledElementFn)o();else if(e&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(n){n(t,function(n){u.append(n)})})["catch"](angular.noop);else{var s=t.col.cellTemplate.replace(r.MODEL_COL_FIELD,"row.entity."+i.preEval(t.col.field)).replace(r.COL_FIELD,"grid.getCellValue(row, col)"),h=n(s)(t);u.append(h)}},post:function(n,t){var u=n.col.getColClass(!1),i,f;t.addClass(u);f=function(){var r=t;i&&(r.removeClass(i),i=null);i=angular.isFunction(n.col.cellClass)?n.col.cellClass(n.grid,n.row,n.col,n.rowRenderIndex,n.colRenderIndex):n.col.cellClass;r.addClass(i)};n.col.cellClass&&f();var o=n.grid.registerDataChangeCallback(f,[r.dataChange.COLUMN,r.dataChange.EDIT]),s=function(r,e){if(r!==e){(i||n.col.cellClass)&&f();var o=n.col.getColClass(!1);o!==u&&(t.removeClass(u),t.addClass(o),u=o)}},h=n.$watch("row",s),e=function(){o();h()};n.$on("$destroy",e);t.on("$destroy",e)}}}}}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(n,t,i){var r={initialize:function(n,t){n.grid=t.grid;t.columnMenuScope=n;n.menuShown=!1},setColMenuItemWatch:function(n){var t=n.$watch("col.menuItems",function(t){"undefined"!=typeof t&&t&&angular.isArray(t)?(t.forEach(function(t){"undefined"!=typeof t.context&&t.context||(t.context={});t.context.col=n.col}),n.menuItems=n.defaultMenuItems.concat(t)):n.menuItems=n.defaultMenuItems});n.$on("$destroy",t)},sortable:function(n){return!!(n.grid.options.enableSorting&&"undefined"!=typeof n.col&&n.col&&n.col.enableSorting)},isActiveSort:function(n,t){return"undefined"!=typeof n.col&&"undefined"!=typeof n.col.sort&&"undefined"!=typeof n.col.sort.direction&&n.col.sort.direction===t},suppressRemoveSort:function(n){return!(!n.col||!n.col.suppressRemoveSort)},hideable:function(n){return"undefined"==typeof n.col||!n.col||!n.col.colDef||n.col.colDef.enableHiding!==!1},getDefaultMenuItems:function(i){return[{title:n.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(n){n.stopPropagation();i.sortColumn(n,t.ASC)},shown:function(){return r.sortable(i)},active:function(){return r.isActiveSort(i,t.ASC)}},{title:n.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(n){n.stopPropagation();i.sortColumn(n,t.DESC)},shown:function(){return r.sortable(i)},active:function(){return r.isActiveSort(i,t.DESC)}},{title:n.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(n){n.stopPropagation();i.unsortColumn()},shown:function(){return r.sortable(i)&&"undefined"!=typeof i.col&&"undefined"!=typeof i.col.sort&&"undefined"!=typeof i.col.sort.direction&&null!==i.col.sort.direction&&!r.suppressRemoveSort(i)}},{title:n.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return r.hideable(i)},action:function(n){n.stopPropagation();i.hideColumn()}}]},getColumnElementPosition:function(n,t,r){var u={};return u.left=r[0].offsetLeft,u.top=r[0].offsetTop,u.parentLeft=r[0].offsetParent.offsetLeft,u.offset=0,t.grid.options.offsetLeft&&(u.offset=t.grid.options.offsetLeft),u.height=i.elementHeight(r,!0),u.width=i.elementWidth(r,!0),u},repositionMenu:function(n,t,r,u,f){var e=u[0].querySelectorAll(".ui-grid-menu"),l=i.closestElm(f,".ui-grid-render-container"),a=l.getBoundingClientRect().left-n.grid.element[0].getBoundingClientRect().left,v=l.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,o=t.lastMenuWidth?t.lastMenuWidth:n.lastMenuWidth?n.lastMenuWidth:170,s=t.lastMenuPaddingRight?t.lastMenuPaddingRight:n.lastMenuPaddingRight?n.lastMenuPaddingRight:10,c,h;0!==e.length&&(c=e[0].querySelectorAll(".ui-grid-menu-mid"),0===c.length||angular.element(c).hasClass("ng-hide")||(o=i.elementWidth(e,!0),n.lastMenuWidth=o,t.lastMenuWidth=o,s=parseInt(i.getStyles(angular.element(e)[0]).paddingRight,10),n.lastMenuPaddingRight=s,t.lastMenuPaddingRight=s));h=r.left+a-v+r.parentLeft+r.width-o+s;h<r.offset&&(h=r.offset);u.css("left",h+"px");u.css("top",r.top+r.height+"px")}};return r}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService","$document",function(n,t,i,r,u){return{priority:0,scope:!0,require:"^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(f,e,o,s){r.initialize(f,s);f.defaultMenuItems=r.getDefaultMenuItems(f);f.menuItems=f.defaultMenuItems;r.setColMenuItemWatch(f);f.showMenu=function(n,t,i){f.col=n;var u=r.getColumnElementPosition(f,n,t);f.menuShown?(f.colElement=t,f.colElementPosition=u,f.hideThenShow=!0,f.$broadcast("hide-menu",{originalEvent:i})):(f.menuShown=!0,r.repositionMenu(f,n,u,e,t),f.colElement=t,f.colElementPosition=u,f.$broadcast("show-menu",{originalEvent:i}))};f.hideMenu=function(n){f.menuShown=!1;n||f.$broadcast("hide-menu")};f.$on("menu-hidden",function(){f.hideThenShow?(delete f.hideThenShow,r.repositionMenu(f,f.col,f.colElementPosition,e,f.colElement),f.$broadcast("show-menu"),f.menuShown=!0):(f.hideMenu(!0),f.col&&t.focus.bySelector(u,".ui-grid-header-cell."+f.col.getColClass()+" .ui-grid-column-menu-button",f.col.grid,!1))});f.$on("menu-shown",function(){n(function(){r.repositionMenu(f,f.col,f.colElementPosition,e,f.colElement);t.focus.bySelector(u,".ui-grid-menu-items .ui-grid-menu-item",!0);delete f.colElementPosition;delete f.columnElement},200)});f.sortColumn=function(n,t){n.stopPropagation();f.grid.sortColumn(f.col,t,!0).then(function(){f.grid.refresh();f.hideMenu()})["catch"](angular.noop)};f.unsortColumn=function(){f.col.unsort();f.grid.refresh();f.hideMenu()};var h=function(){n(function(){var i,r=function(){return t.focus.byId("grid-menu",f.grid)},n,e;f.grid.columns.some(function(n,t){if(angular.equals(n,f.col))return(i=t,!0)});(f.grid.columns.some(function(t,r){if(!t.visible)return!1;if(i>r)n=t;else{if(r>i&&!n)return n=t,!0;if(r>i&&n)return!0}}),n)?(e=n.getColClass(),t.focus.bySelector(u,".ui-grid-header-cell."+e+" .ui-grid-header-cell-primary-focus",!0).then(angular.noop,function(n){if("canceled"!==n)return r()})["catch"](angular.noop)):r()})};f.hideColumn=function(){f.col.colDef.visible=!1;f.col.visible=!1;f.grid.queueGridRefresh();f.hideMenu();f.grid.api.core.notifyDataChange(i.dataChange.COLUMN);f.grid.api.core.raise.columnVisibilityChanged(f.col);h()}},controller:["$scope",function(n){var t=this;n.$watch("menuItems",function(n){t.menuItems=n})}]}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache","i18nService","gridUtil",function(n,t,i,r){return{compile:function(){return{pre:function(t,i){t.col.updateFilters=function(r){if(i.children().remove(),r){var u=t.col.filterHeaderTemplate;i.append(n(u)(t))}};t.$on("$destroy",function(){delete t.col.updateFilters})},post:function(n,t){n.aria=i.getSafeText("headerCell.aria");n.removeFilter=function(n,i){n.term=null;r.focus.bySelector(t,".ui-grid-filter-input-"+i)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(n,t,i,r){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(){return{pre:function(n,t){var i=r(n.col.footerCellTemplate)(n);t.append(i)},post:function(n,t,r,u){var o,f,e,s;n.grid=u.grid;o=n.col.getColClass(!1);t.addClass(o);e=function(){var i=t;f&&(i.removeClass(f),f=null);f=angular.isFunction(n.col.footerCellClass)?n.col.footerCellClass(n.grid,n.row,n.col,n.rowRenderIndex,n.colRenderIndex):n.col.footerCellClass;i.addClass(f)};n.col.footerCellClass&&e();n.col.updateAggregationValue();s=n.grid.registerDataChangeCallback(e,[i.dataChange.COLUMN]);n.grid.api.core.on.rowsRendered(n,n.col.updateAggregationValue);n.grid.api.core.on.rowsRendered(n,e);n.$on("$destroy",s)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(n,t,i,r){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(n,i,u,f){var s=f[0],e=f[1],o;n.grid=s.grid;n.colContainer=e.colContainer;e.footer=i;o=n.grid.options.footerTemplate;r.getTemplate(o).then(function(r){var f=angular.element(r),o=t(f)(n),u;(i.append(o),e)&&(u=i[0].getElementsByClassName("ui-grid-footer-viewport")[0],u&&(e.footerViewport=u))})["catch"](angular.noop)},post:function(n,t,i,u){var o=u[0],e=u[1],f;o.grid;r.disableAnimations(t);e.footer=t;f=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];f&&(e.footerViewport=f)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(n,t,i,r){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(n,i,u,f){n.grid=f.grid;var e=n.grid.options.gridFooterTemplate;r.getTemplate(e).then(function(r){var u=angular.element(r),f=t(u)(n);i.append(f)})["catch"](angular.noop)},post:function(){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(n,t,i){var r="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(){return{pre:function(t,u){var f=t.grid.options.groupPanelTemplate||r;i.getTemplate(f).then(function(i){var r=angular.element(i),f=n(r)(t);u.append(f)})["catch"](angular.noop)},post:function(n,t){t.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent","i18nService",function(n,t,i,r,u,f,e,o){var s=500,h=500;return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(t,i){var r=n(t.col.headerCellTemplate)(t);i.append(r)},post:function(n,i,u,e){var c=e[0],k=e[1],p,a,w,l,v,y,b;n.i18n={headerCell:o.getSafeText("headerCell"),sort:o.getSafeText("sort")};n.isSortPriorityVisible=function(){return angular.isNumber(n.col.sort.priority)&&n.grid.columns.some(function(t){return angular.isNumber(t.sort.priority)&&t!==n.col})};n.getSortDirectionAriaLabel=function(){var t=n.col,r=t.sort.direction===f.ASC?n.i18n.sort.ascending:t.sort.direction===f.DESC?n.i18n.sort.descending:n.i18n.sort.none,i=r;return n.isSortPriorityVisible()&&(i=i+". "+n.i18n.headerCell.priority+" "+t.sort.priority),i};n.grid=c.grid;n.renderContainer=c.grid.renderContainers[k.containerId];p=n.col.getColClass(!1);i.addClass(p);n.menuShown=!1;n.asc=f.ASC;n.desc=f.DESC;l=(angular.element(i[0].querySelectorAll(".ui-grid-header-cell-menu")),angular.element(i[0].querySelectorAll(".ui-grid-cell-contents")));v=[];n.downFn=function(u){u.stopPropagation();"undefined"!=typeof u.originalEvent&&void 0!==u.originalEvent&&(u=u.originalEvent);u.button&&0!==u.button||(w=u.pageX,n.mousedownStartTime=(new Date).getTime(),n.mousedownTimeout=t(function(){},s),n.mousedownTimeout.then(function(){n.colMenu&&c.columnMenuScope.showMenu(n.col,i,u)})["catch"](angular.noop),c.fireEvent(f.events.COLUMN_HEADER_CLICK,{event:u,columnName:n.col.colDef.name}),n.offAllEvents(),"touchstart"===u.type?(r.on("touchend",n.upFn),r.on("touchmove",n.moveFn)):"mousedown"===u.type&&(r.on("mouseup",n.upFn),r.on("mousemove",n.moveFn)))};n.upFn=function(i){i.stopPropagation();t.cancel(n.mousedownTimeout);n.offAllEvents();n.onDownEvents(i.type);var r=(new Date).getTime(),u=r-n.mousedownStartTime;u>s||n.sortable&&n.handleClick(i)};n.moveFn=function(i){var r=i.pageX-w;0!==r&&(t.cancel(n.mousedownTimeout),n.offAllEvents(),n.onDownEvents(i.type))};n.clickFn=function(t){t.stopPropagation();l.off("click",n.clickFn)};n.offAllEvents=function(){l.off("touchstart",n.downFn);l.off("mousedown",n.downFn);r.off("touchend",n.upFn);r.off("mouseup",n.upFn);r.off("touchmove",n.moveFn);r.off("mousemove",n.moveFn);l.off("click",n.clickFn)};n.onDownEvents=function(i){switch(i){case"touchmove":case"touchend":l.on("click",n.clickFn);l.on("touchstart",n.downFn);t(function(){l.on("mousedown",n.downFn)},h);break;case"mousemove":case"mouseup":l.on("click",n.clickFn);l.on("mousedown",n.downFn);t(function(){l.on("touchstart",n.downFn)},h);break;default:l.on("click",n.clickFn);l.on("touchstart",n.downFn);l.on("mousedown",n.downFn)}};y=function(){var r=i,u;a&&(r.removeClass(a),a=null);a=angular.isFunction(n.col.headerCellClass)?n.col.headerCellClass(n.grid,n.row,n.col,n.rowRenderIndex,n.colRenderIndex):n.col.headerCellClass;r.addClass(a);t(function(){var t=n.grid.renderContainers.right?n.grid.renderContainers.right:n.grid.renderContainers.body;n.isLastCol=n.col===t.visibleColumnCache[t.visibleColumnCache.length-1]});n.sortable=n.col.enableSorting?!0:!1;u=n.filterable;n.filterable=c.grid.options.enableFiltering&&n.col.enableFiltering?!0:!1;u!==n.filterable&&("undefined"!=typeof n.col.updateFilters&&n.col.updateFilters(n.filterable),n.filterable?(n.col.filters.forEach(function(t,i){v.push(n.$watch("col.filters["+i+"].term",function(n,t){n!==t&&(c.grid.api.core.raise.filterChanged(),c.grid.api.core.notifyDataChange(f.dataChange.COLUMN),c.grid.queueGridRefresh())}))}),n.$on("$destroy",function(){v.forEach(function(n){n()})})):v.forEach(function(n){n()}));n.colMenu=n.col.grid.options&&n.col.grid.options.enableColumnMenus!==!1&&n.col.colDef&&n.col.colDef.enableColumnMenu!==!1?!0:!1;n.offAllEvents();(n.sortable||n.colMenu)&&(n.onDownEvents(),n.$on("$destroy",function(){n.offAllEvents()}))};y();b=n.grid.registerDataChangeCallback(y,[f.dataChange.COLUMN]);n.$on("$destroy",b);n.handleClick=function(t){var i=!1;t.shiftKey&&(i=!0);c.grid.sortColumn(n.col,i).then(function(){c.columnMenuScope&&c.columnMenuScope.hideMenu();c.grid.refresh()})["catch"](angular.noop)};n.toggleMenu=function(t){t.stopPropagation();c.columnMenuScope.menuShown&&c.columnMenuScope.col===n.col?c.columnMenuScope.hideMenu():c.columnMenuScope.showMenu(n.col,i)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(n,t,i,r,u,f){var e="ui-grid/ui-grid-header",o="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(n,i,u,s){function l(){h.header=h.colContainer.header=i;var n=i[0].getElementsByClassName("ui-grid-header-canvas");h.headerCanvas=n.length>0?h.colContainer.headerCanvas=n[0]:null}function a(){if(!c.grid.isScrollingHorizontally){var t=r.normalizeScrollLeft(h.headerViewport,c.grid),i=h.colContainer.scrollHorizontal(t),n=new f(c.grid,null,h.colContainer,f.Sources.ViewPortScroll);n.newScrollLeft=t;i>-1&&(n.x={percentage:i});c.grid.scrollContainers(null,n)}}var c=s[0],h=s[1],v;n.grid=c.grid;n.colContainer=h.colContainer;l();v=n.grid.options.showHeader?n.grid.options.headerTemplate?n.grid.options.headerTemplate:e:o;r.getTemplate(v).then(function(r){var e=angular.element(r),f=t(e)(n),u;(i.replaceWith(f),i=f,l(),h)&&(u=i[0].getElementsByClassName("ui-grid-header-viewport")[0],u&&(h.headerViewport=u,angular.element(u).on("scroll",a),n.$on("$destroy",function(){angular.element(u).off("scroll",a)})));n.grid.queueRefresh()})["catch"](angular.noop)},post:function(n,t,i,u){function s(){var i=f.colContainer.visibleColumnCache,n="",t=0;return i.forEach(function(i){n+=i.getColClassDefinition();t+=i.drawnWidth}),f.colContainer.canvasWidth=t,n}var e=u[0],f=u[1],o;e.grid;r.disableAnimations(t);f.header=t;o=t[0].getElementsByClassName("ui-grid-header-viewport")[0];o&&(f.headerViewport=o);e&&e.grid.registerStyleComputation({priority:15,func:s})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(n,t,i){var r={initialize:function(n,t){t.gridMenuScope=n;n.grid=t;n.registeredMenuItems=[];n.$on("$destroy",function(){n.grid&&n.grid.gridMenuScope&&(n.grid.gridMenuScope=null);n.grid&&(n.grid=null);n.registeredMenuItems&&(n.registeredMenuItems=null)});n.registeredMenuItems=[];t.api.registerMethod("core","addToGridMenu",r.addToGridMenu);t.api.registerMethod("core","removeFromGridMenu",r.removeFromGridMenu)},addToGridMenu:function(t,i){angular.isArray(i)?t.gridMenuScope?(t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems?t.gridMenuScope.registeredMenuItems:[],t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(i)):n.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):n.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,i){var r=-1;t&&t.gridMenuScope&&t.gridMenuScope.registeredMenuItems.forEach(function(t,u){t.id===i&&(r>-1?n.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):r=u)});r>-1&&t.gridMenuScope.registeredMenuItems.splice(r,1)},getMenuItems:function(i){var u=[],f;return i.grid.options.gridMenuCustomItems&&(angular.isArray(i.grid.options.gridMenuCustomItems)?u=u.concat(i.grid.options.gridMenuCustomItems):n.logError("gridOptions.gridMenuCustomItems must be an array, and is not")),f=[{title:t.getSafeText("gridMenu.clearAllFilters"),action:function(){i.grid.clearAllFilters()},shown:function(){return i.grid.options.enableFiltering},order:100}],u=u.concat(f),u=u.concat(i.registeredMenuItems),i.grid.options.gridMenuShowHideColumns!==!1&&(u=u.concat(r.showHideColumns(i))),u.sort(function(n,t){return n.order-t.order}),u},showHideColumns:function(n){var i=[];return n.grid.options.columnDefs&&0!==n.grid.options.columnDefs.length&&0!==n.grid.columns.length?(i.push({title:t.getSafeText("gridMenu.columns"),order:300}),n.grid.options.gridMenuTitleFilter=n.grid.options.gridMenuTitleFilter?n.grid.options.gridMenuTitleFilter:function(n){return n},n.grid.options.columnDefs.forEach(function(t,u){if(t.enableHiding!==!1){var f={icon:"ui-grid-icon-ok",action:function(n){n.stopPropagation();r.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible},context:{gridCol:n.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*u};r.setMenuItemTitle(f,t,n.grid);i.push(f);f={icon:"ui-grid-icon-cancel",action:function(n){n.stopPropagation();r.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:n.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*u+1};r.setMenuItemTitle(f,t,n.grid);i.push(f)}}),i):i},setMenuItemTitle:function(t,i,r){var u=r.options.gridMenuTitleFilter(i.displayName||n.readableColumnName(i.name)||i.field);"string"==typeof u?t.title=u:u.then?(t.title="",u.then(function(n){t.title=n},function(n){t.title=n})["catch"](angular.noop)):(n.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(n){n.colDef.visible=!(n.colDef.visible===!0||void 0===n.colDef.visible);n.grid.refresh();n.grid.api.core.notifyDataChange(i.dataChange.COLUMN);n.grid.api.core.raise.columnVisibilityChanged(n)}};return r}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService","i18nService",function(n,t,i,r){return{priority:0,scope:!0,require:["^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(t,u,f,e){var o=e[0];t.i18n={aria:r.getSafeText("gridMenu.aria")};i.initialize(t,o.grid);t.shown=!1;t.toggleMenu=function(){t.shown?(t.$broadcast("hide-menu"),t.shown=!1):(t.menuItems=i.getMenuItems(t),t.$broadcast("show-menu"),t.shown=!0)};t.$on("menu-hidden",function(){t.shown=!1;n.focus.bySelector(u,".ui-grid-icon-container")})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","i18nService",function(n,t,i,r,u,f,e){return{priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(r,o,s,h){var y,v;(r.dynamicStyles="",h&&h.grid&&h.grid.options&&h.grid.options.gridMenuTemplate)&&(y=h.grid.options.gridMenuTemplate,u.getTemplate(y).then(function(t){var i=angular.element(t),u=n(i)(r);o.replaceWith(u)})["catch"](angular.noop));v=function(n){var t=n-h.grid.headerHeight-20;r.dynamicStyles=[".grid"+h.grid.id+" .ui-grid-menu-mid {","max-height: "+t+"px;","}"].join(" ")};h&&(v(h.grid.gridHeight),h.grid.api.core.on.gridDimensionChanged(r,function(n,t,i){v(i)}));r.i18n={close:e.getSafeText("columnMenu.close")};r.showMenu=function(n,i){r.shown?r.shownMid||(r.shownMid=!0,r.$emit("menu-shown")):(r.shown=!0,t(function(){r.shownMid=!0;r.$emit("menu-shown")}));var f="click";i&&i.originalEvent&&i.originalEvent.type&&"touchstart"===i.originalEvent.type&&(f=i.originalEvent.type);angular.element(document).off("click touchstart",c);o.off("keyup",l);o.off("keydown",a);t(function(){angular.element(document).on(f,c);o.on("keyup",l);o.on("keydown",a)});u.focus.bySelector(o,"button[type=button]",!0)};r.hideMenu=function(){r.shown&&(r.shownMid=!1,t(function(){r.shownMid||(r.shown=!1,r.$emit("menu-hidden"))},200));angular.element(document).off("click touchstart",c);o.off("keyup",l);o.off("keydown",a)};r.$on("hide-menu",function(n,t){r.hideMenu(n,t)});r.$on("show-menu",function(n,t){r.showMenu(n,t)});var c=function(){r.shown&&r.$apply(function(){r.hideMenu()})},l=function(n){27===n.keyCode&&r.hideMenu()},a=function(n){var u=function(t){return t.focus(),n.preventDefault(),!1},i,r,t;9===n.keyCode&&(t=o[0].querySelectorAll("button:not(.ng-hide)"),t.length>0&&(i=t[0],r=t[t.length-1],n.target!==r||n.shiftKey?n.target===i&&n.shiftKey&&u(r):u(i)))};("undefined"==typeof r.autoHide||void 0===r.autoHide)&&(r.autoHide=!0);r.autoHide&&angular.element(i).on("resize",c);r.$on("$destroy",function(){angular.element(i).off("resize",c);angular.element(document).off("click touchstart",c);o.off("keyup",l);o.off("keydown",a)});h&&r.$on("$destroy",h.grid.api.core.on.scrollBegin(r,c));r.$on("$destroy",r.$on(f.events.ITEM_DRAGGING,c))}}}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(n,t,i){return{priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"=",screenReaderOnly:"="},require:["?^uiGrid"],templateUrl:"ui-grid/uiGridMenuItem",replace:!1,compile:function(){return{pre:function(i,r){i.templateUrl&&n.getTemplate(i.templateUrl).then(function(n){var u=angular.element(n),f=t(u)(i);r.replaceWith(f)})["catch"](angular.noop)},post:function(t,r,u,f){var e=f[0];("undefined"==typeof t.shown||null===t.shown)&&(t.shown=function(){return!0});t.itemShown=function(){var n={};return t.context&&(n.context=t.context),"undefined"!=typeof e&&e&&(n.grid=e.grid),t.shown.call(n)};t.itemAction=function(i,r){if(i.stopPropagation(),"function"==typeof t.action){var u={};t.context&&(u.context=t.context);"undefined"!=typeof e&&e&&(u.grid=e.grid);t.action.call(u,i,r);t.leaveOpen?n.focus.bySelector(angular.element(i.target.parentElement),"button[type=button]",!0):t.$emit("hide-menu")}};t.i18n=i.get()}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid");angular.forEach([{tag:"Src",method:"attr"},{tag:"Text",method:"text"},{tag:"Href",method:"attr"},{tag:"Class",method:"addClass"},{tag:"Html",method:"html"},{tag:"Alt",method:"attr"},{tag:"Style",method:"css"},{tag:"Value",method:"attr"},{tag:"Id",method:"attr"},{tag:"Id",directiveName:"IdGrid",method:"attr",appendGridId:!0},{tag:"Title",method:"attr"},{tag:"Label",method:"attr",aria:!0},{tag:"Labelledby",method:"attr",aria:!0},{tag:"Labelledby",directiveName:"LabelledbyGrid",appendGridId:!0,method:"attr",aria:!0},{tag:"Describedby",method:"attr",aria:!0},{tag:"Describedby",directiveName:"DescribedbyGrid",appendGridId:!0,method:"attr",aria:!0}],function(t){var r="uiGridOneBind",i=(t.aria?r+"Aria":r)+(t.directiveName?t.directiveName:t.tag);n.directive(i,["gridUtil",function(n){return{restrict:"A",require:["?uiGrid","?^uiGrid"],link:function(r,u,f,e){var o=function(t){var u,f;if(r.grid)u=r.grid;else if(r.col&&r.col.grid)u=r.col.grid;else if(!e.some(function(n){if(n&&n.grid)return(u=n.grid,!0)}))throw n.logError("["+i+"] A valid grid could not be found to bind id. Are you using this directive within the correct scope? Trying to generate id: [gridID]-"+t),new Error("No valid grid could be found");return u&&(f=new RegExp(u.id.toString()),f.test(t)||(t=u.id.toString()+"-"+t)),t},s=r.$watch(f[i],function(n){var i,r,f;if(n){t.appendGridId&&(i=null,angular.forEach(n.split(" "),function(n){i=(i?i+" ":"")+o(n)}),n=i);switch(t.method){case"attr":t.aria?u[t.method]("aria-"+t.tag.toLowerCase(),n):u[t.method](t.tag.toLowerCase(),n);break;case"addClass":if(angular.isObject(n)&&!angular.isArray(n)){if(r=[],f=!1,angular.forEach(n,function(n,t){null!==n&&"undefined"!=typeof n&&(f=!0,n&&r.push(t))}),!f)return;n=r}if(!n)return;u.addClass(angular.isArray(n)?n.join(" "):n);break;default:u[t.method](n)}s()}},!0)}}}])})}(),function(){"use strict";var n=angular.module("ui.grid");n.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(n,t,i,r,u){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(n,t,i,r){var s=r[0],f=r[1],u=n.grid=s.grid,e,o;if(!n.rowContainerName)throw"No row render container name specified";if(!n.colContainerName)throw"No column render container name specified";if(!u.renderContainers[n.rowContainerName])throw"Row render container '"+n.rowContainerName+"' is not registered.";if(!u.renderContainers[n.colContainerName])throw"Column render container '"+n.colContainerName+"' is not registered.";e=n.rowContainer=u.renderContainers[n.rowContainerName];o=n.colContainer=u.renderContainers[n.colContainerName];f.containerId=n.containerId;f.rowContainer=e;f.colContainer=o},post:function(n,t,i,f){function y(){var t="",i=o.canvasWidth,h=o.getViewportWidth(),c=l.getCanvasHeight(),r=l.getViewportHeight(),u,f;return o.needsHScrollbarPlaceholder()&&(r-=s.scrollbarHeight),u=f=o.getHeaderViewportWidth(),t+="\n .grid"+e.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-canvas { width: "+i+"px; height: "+c+"px; }",t+="\n .grid"+e.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-header-canvas { width: "+(i+s.scrollbarWidth)+"px; }",t+=v.explicitHeaderCanvasHeight?"\n .grid"+e.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-header-canvas { height: "+v.explicitHeaderCanvasHeight+"px; }":"\n .grid"+e.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-header-canvas { height: inherit; }",t+="\n .grid"+e.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-viewport { width: "+h+"px; height: "+r+"px; }",t+="\n .grid"+e.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-header-viewport { width: "+u+"px; }",t+="\n .grid"+e.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-footer-canvas { width: "+(i+s.scrollbarWidth)+"px; }",t+("\n .grid"+e.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-footer-viewport { width: "+f+"px; }")}var e=f[0],h=f[1],s=e.grid,l=h.rowContainer,o=h.colContainer,c=null,a=null,v=s.renderContainers[n.containerId];t.addClass("ui-grid-render-container-"+n.containerId);r.on.mousewheel(t,function(n){var t=new u(s,l,o,u.Sources.RenderContainerMouseWheel),e,i,v,f;0!==n.deltaY&&(e=-1*n.deltaY*n.deltaFactor,c=h.viewport[0].scrollTop,t.verticalScrollLength=l.getVerticalScrollLength(),i=(c+e)/t.verticalScrollLength,i>=1&&c<t.verticalScrollLength&&(h.viewport[0].scrollTop=t.verticalScrollLength),0>i?i=0:i>1&&(i=1),t.y={percentage:i,pixels:e});0!==n.deltaX&&(v=n.deltaX*n.deltaFactor,a=r.normalizeScrollLeft(h.viewport,s),t.horizontalScrollLength=o.getCanvasWidth()-o.getViewportWidth(),f=(a+v)/t.horizontalScrollLength,0>f?f=0:f>1&&(f=1),t.x={percentage:f,pixels:v});0!==n.deltaY&&(t.atTop(c)||t.atBottom(c))||0!==n.deltaX&&(t.atLeft(a)||t.atRight(a))||(n.preventDefault(),n.stopPropagation(),t.fireThrottledScrollingEvent("",t))});t.bind("$destroy",function(){t.unbind("keydown");["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(n){t.unbind(n)})});e.grid.registerStyleComputation({priority:6,func:y})}}}}}]);n.controller("uiGridRenderContainer",["$scope","gridUtil",function(){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(n,t,i,r){function f(){n.row.getRowTemplateFn.then(function(i){var r=n.$new();i(r,function(n){u&&(u.remove(),o.$destroy());t.empty().append(n);u=n;o=r})})["catch"](angular.noop)}var e=r[0],s=r[1],u,o;e.grid;n.grid=e.grid;n.colContainer=s.colContainer;f();n.$watch("row.getRowTemplateFn",function(n,t){n!==t&&f()})},post:function(){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(n,t){return{link:function(n,i){var r=t(i.text(),!0);r&&n.$watch(r,function(n){i.text(n)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(n,t){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(i,r,u,f){function c(){var f=r[0].scrollTop,e=n.normalizeScrollLeft(r,o),c=h.scrollVertical(f),l=s.scrollHorizontal(e),u=new t(o,h,s,t.Sources.ViewPortScroll);u.newScrollLeft=e;u.newScrollTop=f;l>-1&&(u.x={percentage:l});c>-1&&(u.y={percentage:c});o.scrollContainers(i.$parent.containerId,u)}function a(n){e.prevScrollArgs=n;var t=n.getNewScrollTop(h,e.viewport);r[0].scrollTop=t}function v(t){e.prevScrollArgs=t;var i=t.getNewScrollLeft(s,e.viewport);r[0].scrollLeft=n.denormalizeScrollLeft(e.viewport,i,o)}function y(t){var i=t.getNewScrollLeft(s,e.viewport);e.headerViewport&&(e.headerViewport.scrollLeft=n.denormalizeScrollLeft(e.viewport,i,o))}function p(t){var i=t.getNewScrollLeft(s,e.viewport);e.footerViewport&&(e.footerViewport.scrollLeft=n.denormalizeScrollLeft(e.viewport,i,o))}var l=f[0],e=f[1];i.containerCtrl=e;var h=e.rowContainer,s=e.colContainer,o=l.grid;i.grid=l.grid;i.rowContainer=e.rowContainer;i.colContainer=e.colContainer;e.viewport=r;o&&o.options&&o.options.customScroller?o.options.customScroller(r,c):r.on("scroll",c);i.$parent.bindScrollVertical&&o.addVerticalScrollSync(i.$parent.containerId,a);i.$parent.bindScrollHorizontal&&(o.addHorizontalScrollSync(i.$parent.containerId,v),o.addHorizontalScrollSync(i.$parent.containerId+"header",y),o.addHorizontalScrollSync(i.$parent.containerId+"footer",p));i.$on("$destroy",function(){r.off()})},controller:["$scope",function(n){this.rowStyle=function(){var u=n.rowContainer,i=n.colContainer,t={},r;return 0!==u.currentTopRow&&(r="translateY("+u.currentTopRow*u.grid.options.rowHeight+"px)",t.transform=r,t["-webkit-transform"]=r,t["-ms-transform"]=r),0!==i.currentFirstColumn&&(i.grid.isRTL()?t["margin-right"]=i.columnOffset+"px":t["margin-left"]=i.columnOffset+"px"),t}}]}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(n,t,i){n.$watch(i.uiGridVisible,function(n){t[n?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";function n(n,t,i){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(r,u,f,e){function s(){u[0].offsetWidth<=0&&p>l?(setTimeout(s,y),l++):r.$applyAsync(h)}function a(){var t,i;angular.element(n).on("resize",c);u.on("$destroy",function(){angular.element(n).off("resize",c);t();i()});t=r.$watch(function(){return o.hasLeftContainer()},function(n,t){n!==t&&o.refreshCanvas(!0)});i=r.$watch(function(){return o.hasRightContainer()},function(n,t){n!==t&&o.refreshCanvas(!0)})}function h(){o.gridWidth=r.gridWidth=t.elementWidth(u);o.canvasWidth=e.grid.gridWidth;o.gridHeight=r.gridHeight=t.elementHeight(u);o.gridHeight<=o.options.rowHeight&&o.options.enableMinHeightCheck&&v();o.refreshCanvas(!0)}function v(){var l=o.options.minRowsToShow*o.options.rowHeight,f=o.options.showHeader?o.options.headerRowHeight:0,a=o.calcFooterHeight(),e=0,n,s,h,c;o.options.enableHorizontalScrollbar===i.scrollbars.ALWAYS&&(e=t.getScrollbarWidth());n=0;(angular.forEach(o.options.columnDefs,function(t){t.hasOwnProperty("filter")?1>n&&(n=1):t.hasOwnProperty("filters")&&n<t.filters.length&&(n=t.filters.length)}),o.options.enableFiltering&&!n)&&(s=o.options.columnDefs.length&&o.options.columnDefs.every(function(n){return n.enableFiltering===!1}),s||(n=1));h=n*f;c=f+l+a+e+h;u.css("height",c+"px");o.gridHeight=r.gridHeight=t.elementHeight(u)}function c(){o.gridWidth=r.gridWidth=t.elementWidth(u);o.gridHeight=r.gridHeight=t.elementHeight(u);o.refreshCanvas(!0)}var o=e.grid;e.scrollbars=[];o.element=u;var y=100,p=20,l=0;a();h();o.renderingComplete();s()}}}}}angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","gridClassFactory","$parse","$compile",function(n,t,i,r,u,f,e,o,s){function v(n){return n?n.length:0}function a(t,i){t&&t!==i&&(h.grid.options.columnDefs=n.uiGrid.columnDefs,h.grid.callDataChangeCallbacks(f.dataChange.COLUMN,{orderByColumnDefs:!0,preCompileCellTemplates:!0}))}function l(t){var e=[],r;(t=angular.isString(n.uiGrid.data)?h.grid.appScope[n.uiGrid.data]:n.uiGrid.data,y=t,t)&&(r=h.grid.columns.length>(h.grid.rowHeaderColumns?h.grid.rowHeaderColumns.length:0),!r&&!i.uiGridColumns&&0===h.grid.options.columnDefs.length&&t.length>0&&h.grid.buildColumnDefsFromData(t),!r&&(h.grid.options.columnDefs.length>0||t.length>0)&&e.push(h.grid.buildColumns().then(function(){h.grid.preCompileCellTemplates()})["catch"](angular.noop)),u.all(e).then(function(){h.grid.modifyRows(y).then(function(){h.grid.redrawInPlace(!0);n.$evalAsync(function(){h.grid.refreshCanvas(!0);h.grid.callDataChangeCallbacks(f.dataChange.ROW)})})["catch"](angular.noop)})["catch"](angular.noop))}var h=this,c=[],y,p;h.grid=e.createGrid(n.uiGrid);h.grid.appScope=h.grid.appScope||n.$parent;t.addClass("grid"+h.grid.id);h.grid.rtl="rtl"===r.getStyles(t[0]).direction;n.grid=h.grid;i.uiGridColumns&&c.push(i.$observe("uiGridColumns",function(n){h.grid.options.columnDefs=angular.isString(n)?angular.fromJson(n):n;h.grid.buildColumns().then(function(){h.grid.preCompileCellTemplates();h.grid.refreshCanvas(!0)})["catch"](angular.noop)}));h.grid.options.fastWatch?(h.uiGrid=n.uiGrid,angular.isString(n.uiGrid.data)?(c.push(n.$parent.$watch(n.uiGrid.data,l)),c.push(n.$parent.$watch(function(){if(h.grid.appScope[n.uiGrid.data])return h.grid.appScope[n.uiGrid.data].length},l))):(c.push(n.$parent.$watch(function(){return n.uiGrid.data},l)),c.push(n.$parent.$watch(function(){return v(n.uiGrid.data)},function(){l(n.uiGrid.data)}))),c.push(n.$parent.$watch(function(){return n.uiGrid.columnDefs},a)),c.push(n.$parent.$watch(function(){return v(n.uiGrid.columnDefs)},function(){a(n.uiGrid.columnDefs)}))):(angular.isString(n.uiGrid.data)?c.push(n.$parent.$watchCollection(n.uiGrid.data,l)):c.push(n.$parent.$watchCollection(function(){return n.uiGrid.data},l)),c.push(n.$parent.$watchCollection(function(){return n.uiGrid.columnDefs},a)));p=n.$watch(function(){return h.grid.styleComputations},function(){h.grid.refreshCanvas(!0)});n.$on("$destroy",function(){c.forEach(function(n){n()});p()});h.fireEvent=function(t,i){i=i||{};angular.isUndefined(i.grid)&&(i.grid=h.grid);n.$broadcast(t,i)};h.innerCompile=function(t){s(t)(n)}}]);angular.module("ui.grid").directive("uiGrid",n);n.$inject=["$window","gridUtil","uiGridConstants"]}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"><\/div><\/div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(n,t,i,r){function o(){var n=this,t=0,i;return n.visibleColumnCache.forEach(function(n){t+=n.drawnWidth}),i=n.getViewportAdjustment(),t+=i.width}function e(){var i;if("left"===n.side||"right"===n.side){for(var r=u.renderContainers[n.side].visibleColumnCache,f=0,t=0;t<r.length;t++)i=r[t],f+=i.drawnWidth||i.width||0;return f}}function s(){var i="";return("left"===n.side||"right"===n.side)&&(f=e(),t.attr("style",null),i+=".grid"+u.id+" .ui-grid-pinned-container-"+n.side+", .grid"+u.id+" .ui-grid-pinned-container-"+n.side+" .ui-grid-render-container-"+n.side+" .ui-grid-viewport { width: "+f+"px; } "),i}var u=r.grid,f=0;t.addClass("ui-grid-pinned-container-"+n.side);("left"===n.side||"right"===n.side)&&(u.renderContainers[n.side].getViewportWidth=o);u.renderContainers.body.registerViewportAdjuster(function(t){return f=e(),t.width-=f,t.side=n.side,t});u.registerStyleComputation({priority:15,func:s})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function p(){}var y=function(n){function i(n){t.isScrollingVertically=!1;t.api.core.raise.scrollEnd(n);t.scrollDirection=u.scrollDirection.NONE}function e(n){t.isScrollingHorizontally=!1;t.api.core.raise.scrollEnd(n);t.scrollDirection=u.scrollDirection.NONE}var t=this;if(void 0===n||"undefined"==typeof n.id||!n.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(n.id))throw new Error("Grid id '"+n.id+'" is invalid. It must follow CSS selector syntax rules.');t.id=n.id;delete n.id;t.options=f.initialize(n);t.appScope=t.options.appScopeProvider;t.headerHeight=t.options.headerRowHeight;t.footerHeight=t.calcFooterHeight();t.columnFooterHeight=t.calcColumnFooterHeight();t.rtl=!1;t.gridHeight=0;t.gridWidth=0;t.columnBuilders=[];t.rowBuilders=[];t.rowsProcessors=[];t.columnsProcessors=[];t.styleComputations=[];t.viewportAdjusters=[];t.rowHeaderColumns=[];t.dataChangeCallbacks={};t.verticalScrollSyncCallBackFns={};t.horizontalScrollSyncCallBackFns={};t.renderContainers={};t.renderContainers.body=new l("body",t);t.cellValueGetterCache={};t.getRowTemplateFn=null;t.rows=[];t.columns=[];t.isScrollingVertically=!1;t.isScrollingHorizontally=!1;t.scrollDirection=u.scrollDirection.NONE;t.disableScrolling=!1;var o=r.debounce(i,t.options.scrollDebounce),c=r.debounce(i,0),a=r.debounce(e,t.options.scrollDebounce),v=r.debounce(e,0);t.flagScrollingVertically=function(n){t.isScrollingVertically||t.isScrollingHorizontally||t.api.core.raise.scrollBegin(n);t.isScrollingVertically=!0;0!==t.options.scrollDebounce&&n.withDelay?o(n):c(n)};t.flagScrollingHorizontally=function(n){t.isScrollingVertically||t.isScrollingHorizontally||t.api.core.raise.scrollBegin(n);t.isScrollingHorizontally=!0;0!==t.options.scrollDebounce&&n.withDelay?a(n):v(n)};t.scrollbarHeight=0;t.scrollbarWidth=0;t.options.enableHorizontalScrollbar===u.scrollbars.ALWAYS&&(t.scrollbarHeight=r.getScrollbarWidth());t.options.enableVerticalScrollbar===u.scrollbars.ALWAYS&&(t.scrollbarWidth=r.getScrollbarWidth());t.api=new s(t);t.api.registerMethod("core","refresh",this.refresh);t.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh);t.api.registerMethod("core","refreshRows",this.refreshRows);t.api.registerMethod("core","queueRefresh",this.queueRefresh);t.api.registerMethod("core","handleWindowResize",this.handleWindowResize);t.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn);t.api.registerMethod("core","scrollToIfNecessary",function(n,i){return t.scrollToIfNecessary(n,i)});t.api.registerMethod("core","scrollTo",function(n,i){return t.scrollTo(n,i)});t.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor);t.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor);t.api.registerMethod("core","sortHandleNulls",h.handleNulls);t.api.registerEvent("core","sortChanged");t.api.registerEvent("core","columnVisibilityChanged");t.api.registerMethod("core","notifyDataChange",this.notifyDataChange);t.api.registerMethod("core","clearAllFilters",this.clearAllFilters);t.registerDataChangeCallback(t.columnRefreshCallback,[u.dataChange.COLUMN]);t.registerDataChangeCallback(t.processRowsCallback,[u.dataChange.EDIT]);t.registerDataChangeCallback(t.updateFooterHeightCallback,[u.dataChange.OPTIONS]);t.registerStyleComputation({priority:10,func:t.getFooterStyles})},w;return y.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var n=0;return this.options.showGridFooter&&(n+=this.options.gridFooterHeight),n+this.calcColumnFooterHeight()},y.prototype.calcColumnFooterHeight=function(){var n=0;return this.options.showColumnFooter&&(n+=this.options.columnFooterHeight),n},y.prototype.getFooterStyles=function(){var n=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return n+(" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }")},y.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},y.prototype.isRTL=function(){return this.rtl},y.prototype.registerColumnBuilder=function(n){this.columnBuilders.push(n)},y.prototype.buildColumnDefsFromData=function(n){this.options.columnDefs=r.getColumnsFromData(n,this.options.excludeProperties)},y.prototype.registerRowBuilder=function(n){this.rowBuilders.push(n)},y.prototype.registerDataChangeCallback=function(n,t,i){var f=r.nextUid(),e,o;return t||(t=[u.dataChange.ALL]),Array.isArray(t)||r.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[f]={callback:n,types:t,_this:i},e=this,o=function(){delete e.dataChangeCallbacks[f]},o},y.prototype.callDataChangeCallbacks=function(n,t){angular.forEach(this.dataChangeCallbacks,function(i){(-1!==i.types.indexOf(u.dataChange.ALL)||-1!==i.types.indexOf(n)||n===u.dataChange.ALL)&&(i._this?i.callback.apply(i._this,this,t):i.callback(this,t))},this)},y.prototype.notifyDataChange=function(n){var t=u.dataChange;n===t.ALL||n===t.COLUMN||n===t.EDIT||n===t.ROW||n===t.OPTIONS?this.callDataChangeCallbacks(n):r.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+n)},y.prototype.columnRefreshCallback=function(n,t){n.buildColumns(t);n.queueGridRefresh()},y.prototype.processRowsCallback=function(n){n.queueGridRefresh()},y.prototype.updateFooterHeightCallback=function(n){n.footerHeight=n.calcFooterHeight();n.columnFooterHeight=n.calcColumnFooterHeight()},y.prototype.getColumn=function(n){var t=this.columns.filter(function(t){return t.colDef.name===n});return t.length>0?t[0]:null},y.prototype.getColDef=function(n){var t=this.options.columnDefs.filter(function(t){return t.name===n});return t.length>0?t[0]:null},y.prototype.assignTypes=function(){var n=this;n.options.columnDefs.forEach(function(t,i){if(!t.type){var f=new e(t,i,n),u=n.rows.length>0?n.rows[0]:null;t.type=u?r.guessType(n.getCellValue(u,f)):"string"}})},y.prototype.isRowHeaderColumn=function(n){return-1!==this.rowHeaderColumns.indexOf(n)},y.prototype.addRowHeaderColumn=function(n,t,i){var u=this,f;void 0===t&&(t=0);f=new e(n,r.nextUid(),u);f.isRowHeader=!0;u.isRTL()?(u.createRightContainer(),f.renderContainer="right"):(u.createLeftContainer(),f.renderContainer="left");u.columnBuilders[0](n,f,u.options).then(function(){f.enableFiltering=!1;f.enableSorting=!1;f.enableHiding=!1;f.headerPriority=t;u.rowHeaderColumns.push(f);u.rowHeaderColumns=u.rowHeaderColumns.sort(function(n,t){return n.headerPriority-t.headerPriority});i||u.buildColumns().then(function(){u.preCompileCellTemplates();u.queueGridRefresh()})["catch"](angular.noop)})["catch"](angular.noop)},y.prototype.getOnlyDataColumns=function(){var n=this,t=[];return n.columns.forEach(function(i){-1===n.rowHeaderColumns.indexOf(i)&&t.push(i)}),t},y.prototype.buildColumns=function(t){var s={orderByColumnDefs:!1},o,h,l;angular.extend(s,t);for(var i=this,c=[],f=i.rowHeaderColumns.length,u=0;u<i.columns.length;u++)i.getColDef(i.columns[u].name)||(i.columns.splice(u,1),u--);for(o=i.rowHeaderColumns.length-1;o>=0;o--)i.columns.unshift(i.rowHeaderColumns[o]);if(i.options.columnDefs.forEach(function(n,t){i.preprocessColDef(n);var u=i.getColumn(n.name);u?u.updateColumnDef(n,!1):(u=new e(n,r.nextUid(),i),i.columns.splice(t+f,0,u));i.columnBuilders.forEach(function(t){c.push(t.call(i,n,u,i.options))})}),s.orderByColumnDefs){for(h=i.columns.slice(0),l=Math.min(i.options.columnDefs.length,i.columns.length),u=0;l>u;u++)h[u+f]=i.columns[u+f].name!==i.options.columnDefs[u].name?i.getColumn(i.options.columnDefs[u].name):i.columns[u+f];i.columns.length=0;Array.prototype.splice.apply(i.columns,[0,0].concat(h))}return n.all(c).then(function(){i.rows.length>0&&i.assignTypes();s.preCompileCellTemplates&&i.preCompileCellTemplates()})["catch"](angular.noop)},y.prototype.preCompileCellTemplate=function(n){var f=this,i=n.cellTemplate.replace(u.MODEL_COL_FIELD,f.getQualifiedColField(n)),r;i=i.replace(u.COL_FIELD,"grid.getCellValue(row, col)");r=t(i);n.compiledElementFn=r;n.compiledElementFnDefer&&n.compiledElementFnDefer.resolve(n.compiledElementFn)},y.prototype.preCompileCellTemplates=function(){var n=this;n.columns.forEach(function(t){t.cellTemplate?n.preCompileCellTemplate(t):t.cellTemplatePromise&&t.cellTemplatePromise.then(function(){n.preCompileCellTemplate(t)})["catch"](angular.noop)})},y.prototype.getQualifiedColField=function(n){var t="row.entity";return n.field===u.ENTITY_BINDING?t:r.preEval(t+"."+n.field)},y.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new l("left",this,{disableColumnOffset:!0}))},y.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new l("right",this,{disableColumnOffset:!0}))},y.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},y.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},y.prototype.preprocessColDef=function(n){var r=this,t,i;if(!n.field&&!n.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===n.name&&void 0!==n.field){for(t=n.field,i=2;r.getColumn(t);)t=n.field+i.toString(),i++;n.name=t}},y.prototype.newInN=function(n,t,i,r){for(var h,c=this,e=[],u=0;u<t.length;u++){for(var o=r?t[u][r]:t[u],s=!1,f=0;f<n.length;f++)if(h=i?n[f][i]:n[f],c.options.rowEquality(o,h)){s=!0;break}s||e.push(o)}return e},y.prototype.getRow=function(n,t){var r=this,i;return t="undefined"==typeof t?r.rows:t,i=t.filter(function(t){return r.options.rowEquality(t.entity,n)}),i.length>0?i[0]:null},y.prototype.modifyRows=function(t){var i=this,f=i.rows.slice(0),e=i.rowHashMap||i.createRowHashMap(),r,u;return i.rowHashMap=i.createRowHashMap(),i.rows.length=0,t.forEach(function(n,t){var r,u;u=i.options.enableRowHashing?e.get(n):i.getRow(n,f);u&&(r=u,r.entity=n);r||(r=i.processRowBuilders(new o(n,t,i)));i.rows.push(r);i.rowHashMap.put(n,r)}),i.assignTypes(),r=n.when(i.processRowsProcessors(i.rows)).then(function(n){return i.setVisibleRows(n)})["catch"](angular.noop),u=n.when(i.processColumnsProcessors(i.columns)).then(function(n){return i.setVisibleColumns(n)})["catch"](angular.noop),n.all([r,u])},y.prototype.addRows=function(n){for(var r,u,t=this,f=t.rows.length,i=0;i<n.length;i++)r=t.processRowBuilders(new o(n[i],i+f,t)),t.options.enableRowHashing&&(u=t.rowHashMap.get(r.entity),u&&(u.row=r)),t.rows.push(r)},y.prototype.processRowBuilders=function(n){var t=this;return t.rowBuilders.forEach(function(i){i.call(t,n,t.options)}),n},y.prototype.registerStyleComputation=function(n){this.styleComputations.push(n)},y.prototype.registerRowsProcessor=function(n,t){if(!angular.isFunction(n))throw"Attempt to register non-function rows processor: "+n;this.rowsProcessors.push({processor:n,priority:t});this.rowsProcessors.sort(function(n,t){return n.priority-t.priority})},y.prototype.removeRowsProcessor=function(n){var t=-1;this.rowsProcessors.forEach(function(i,r){i.processor===n&&(t=r)});-1!==t&&this.rowsProcessors.splice(t,1)},y.prototype.processRowsProcessors=function(t){function u(t,f){var e=i.rowsProcessors[t].processor;return n.when(e.call(i,f,i.columns)).then(function(n){if(!n)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(n))throw"Processor at index "+t+" did not return an array";return t++,t<=i.rowsProcessors.length-1?u(t,n):void r.resolve(n)})["catch"](angular.noop)}var i=this,f=t.slice(0),r;return 0===i.rowsProcessors.length?n.when(f):(r=n.defer(),u(0,f),r.promise)},y.prototype.setVisibleRows=function(n){var i=this,f,r,u,t,e;for(f in i.renderContainers)r=i.renderContainers[f],r.canvasHeightShouldUpdate=!0,"undefined"==typeof r.visibleRowCache?r.visibleRowCache=[]:r.visibleRowCache.length=0;for(u=0;u<n.length;u++)t=n[u],e="undefined"!=typeof t.renderContainer&&t.renderContainer?t.renderContainer:"body",t.visible&&i.renderContainers[e].visibleRowCache.push(t);i.api.core.raise.rowsVisibleChanged(this.api);i.api.core.raise.rowsRendered(this.api)},y.prototype.registerColumnsProcessor=function(n,t){if(!angular.isFunction(n))throw"Attempt to register non-function rows processor: "+n;this.columnsProcessors.push({processor:n,priority:t});this.columnsProcessors.sort(function(n,t){return n.priority-t.priority})},y.prototype.removeColumnsProcessor=function(n){var t=this.columnsProcessors.indexOf(n);"undefined"!=typeof t&&void 0!==t&&this.columnsProcessors.splice(t,1)},y.prototype.processColumnsProcessors=function(t){function f(t,e){var o=i.columnsProcessors[t].processor;return n.when(o.call(i,e,i.rows)).then(function(n){if(!n)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(n))throw"Processor at index "+t+" did not return an array";return t++,t<=i.columnsProcessors.length-1?f(t,r):void u.resolve(r)})["catch"](angular.noop)}var i=this,r=t.slice(0),u;return 0===i.columnsProcessors.length?n.when(r):(u=n.defer(),f(0,r),u.promise)},y.prototype.setVisibleColumns=function(n){var i=this,u,f,r,t;for(u in i.renderContainers)f=i.renderContainers[u],f.visibleColumnCache.length=0;for(r=0;r<n.length;r++)t=n[r],t.visible&&("undefined"!=typeof t.renderContainer&&t.renderContainer?i.renderContainers[t.renderContainer].visibleColumnCache.push(t):i.renderContainers.body.visibleColumnCache.push(t))},y.prototype.handleWindowResize=function(){var n=this;return n.gridWidth=r.elementWidth(n.element),n.gridHeight=r.elementHeight(n.element),n.queueRefresh()},y.prototype.queueRefresh=function(){var n=this;return n.refreshCanceller&&a.cancel(n.refreshCanceller),n.refreshCanceller=a(function(){n.refreshCanvas(!0)}),n.refreshCanceller.then(function(){n.refreshCanceller=null})["catch"](angular.noop),n.refreshCanceller},y.prototype.queueGridRefresh=function(){var n=this;return n.gridRefreshCanceller&&a.cancel(n.gridRefreshCanceller),n.gridRefreshCanceller=a(function(){n.refresh(!0)}),n.gridRefreshCanceller.then(function(){n.gridRefreshCanceller=null})["catch"](angular.noop),n.gridRefreshCanceller},y.prototype.updateCanvasHeight=function(){var n=this,t,i;for(t in n.renderContainers)n.renderContainers.hasOwnProperty(t)&&(i=n.renderContainers[t],i.canvasHeightShouldUpdate=!0)},y.prototype.buildStyles=function(){var n=this;n.customStyles="";n.styleComputations.sort(function(n,t){return null===n.priority?1:null===t.priority?-1:null===n.priority&&null===t.priority?0:n.priority-t.priority}).forEach(function(t){var i=t.func.call(n);angular.isString(i)&&(n.customStyles+="\n"+i)})},y.prototype.minColumnsToRender=function(){var t=this,i=this.getViewportWidth(),n=0,r=0;return t.columns.forEach(function(u,f){if(i>r)r+=u.drawnWidth,n++;else{for(var o=0,e=f;e>=f-n;e--)o+=t.columns[e].drawnWidth;i>o&&n++}}),n},y.prototype.getBodyHeight=function(){return this.getViewportHeight()},y.prototype.getViewportHeight=function(){var n=this,t=this.gridHeight-this.headerHeight-this.footerHeight,i=n.getViewportAdjustment();return t+i.height},y.prototype.getViewportWidth=function(){var n=this,t=this.gridWidth,i=n.getViewportAdjustment();return t+i.width},y.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},y.prototype.addVerticalScrollSync=function(n,t){this.verticalScrollSyncCallBackFns[n]=t},y.prototype.addHorizontalScrollSync=function(n,t){this.horizontalScrollSyncCallBackFns[n]=t},y.prototype.scrollContainers=function(n,t){var i,r,e,u,f,o;if(t.y)for(i=["body","left","right"],this.flagScrollingVertically(t),"body"===n?i=["left","right"]:"left"===n?i=["body","right"]:"right"===n&&(i=["body","left"]),r=0;r<i.length;r++)e=i[r],this.verticalScrollSyncCallBackFns[e]&&this.verticalScrollSyncCallBackFns[e](t);if(t.x)for(u=["body","bodyheader","bodyfooter"],this.flagScrollingHorizontally(t),"body"===n&&(u=["bodyheader","bodyfooter"]),f=0;f<u.length;f++)o=u[f],this.horizontalScrollSyncCallBackFns[o]&&this.horizontalScrollSyncCallBackFns[o](t)},y.prototype.registerViewportAdjuster=function(n){this.viewportAdjusters.push(n)},y.prototype.removeViewportAdjuster=function(n){var t=this.viewportAdjusters.indexOf(n);"undefined"!=typeof t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},y.prototype.getViewportAdjustment=function(){var t=this,n={height:0,width:0};return t.viewportAdjusters.forEach(function(t){n=t.call(this,n)}),n},y.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},y.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},y.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},y.prototype.searchRows=function(n){return c.search(this,n,this.columns)},y.prototype.sortByColumn=function(n){return h.sort(this,n,this.columns)},y.prototype.getCellValue=function(n,t){return"undefined"!=typeof n.entity["$$"+t.uid]?n.entity["$$"+t.uid].rendered:this.options.flatEntityAccess&&"undefined"!=typeof t.field?n.entity[t.field]:(t.cellValueGetterCache||(t.cellValueGetterCache=i(n.getEntityQualifiedColField(t))),t.cellValueGetterCache(n))},y.prototype.getCellDisplayValue=function(n,t){if(!t.cellDisplayGetterCache){var r=t.cellFilter?" | "+t.cellFilter:"";t.cellDisplayGetterCache="undefined"!=typeof n.entity["$$"+t.uid]?i(n.entity["$$"+t.uid].rendered+r):this.options.flatEntityAccess&&"undefined"!=typeof t.field?i("entity."+t.field+r):i(n.getEntityQualifiedColField(t)+r)}return t.cellDisplayGetterCache(n)},y.prototype.getNextColumnSortPriority=function(){var t=this,n=0;return t.columns.forEach(function(t){t.sort&&void 0!==t.sort.priority&&t.sort.priority>=n&&(n=t.sort.priority+1)}),n},y.prototype.resetColumnSorting=function(n){var t=this;t.columns.forEach(function(t){t===n||t.suppressRemoveSort||(t.sort={})})},y.prototype.getColumnSorting=function(){var n,i=this,t=[];return n=i.columns.slice(0),n.sort(h.prioritySort).forEach(function(n){n.sort&&"undefined"!=typeof n.sort.direction&&n.sort.direction&&(n.sort.direction===u.ASC||n.sort.direction===u.DESC)&&t.push(n)}),t},y.prototype.sortColumn=function(t,i,r){var f=this,e=null,u;if("undefined"==typeof t||!t)throw new Error("No column parameter provided");return("boolean"==typeof i?r=i:e=i,r?void 0===t.sort.priority&&(t.sort.priority=f.getNextColumnSortPriority()):(f.resetColumnSorting(t),t.sort.priority=void 0,t.sort.priority=f.getNextColumnSortPriority()),e)?t.sort.direction=e:(u=t.sortDirectionCycle.indexOf(t.sort.direction?t.sort.direction:null),u=(u+1)%t.sortDirectionCycle.length,t.colDef&&t.suppressRemoveSort&&!t.sortDirectionCycle[u]&&(u=(u+1)%t.sortDirectionCycle.length),t.sortDirectionCycle[u]?t.sort.direction=t.sortDirectionCycle[u]:w(t,f)),f.api.core.raise.sortChanged(f,f.getColumnSorting()),n.when(t)},w=function(n,t){t.columns.forEach(function(t){t.sort&&void 0!==t.sort.priority&&t.sort.priority>n.sort.priority&&(t.sort.priority-=1)});n.sort={}},y.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api);this.api.core.raise.renderingComplete(this.api)},y.prototype.createRowHashMap=function(){var t=this,n=new p;return n.grid=t,n},y.prototype.refresh=function(t){var i=this,r=i.processRowsProcessors(i.rows).then(function(n){i.setVisibleRows(n)})["catch"](angular.noop),u=i.processColumnsProcessors(i.columns).then(function(n){i.setVisibleColumns(n)})["catch"](angular.noop);return n.all([r,u]).then(function(){i.refreshCanvas(!0);i.redrawInPlace(t)})["catch"](angular.noop)},y.prototype.refreshRows=function(){var n=this;return n.processRowsProcessors(n.rows).then(function(t){n.setVisibleRows(t);n.redrawInPlace();n.refreshCanvas(!0)})["catch"](angular.noop)},y.prototype.refreshCanvas=function(t){var f=this,e=n.defer(),u=[],o,i;for(o in f.renderContainers)if(f.renderContainers.hasOwnProperty(o)){if(i=f.renderContainers[o],null===i.canvasWidth||isNaN(i.canvasWidth))continue;(i.header||i.headerCanvas)&&(i.explicitHeaderHeight=i.explicitHeaderHeight||null,i.explicitHeaderCanvasHeight=i.explicitHeaderCanvasHeight||null,u.push(i))}return t&&f.buildStyles(),a(u.length>0?function(){for(var n,a=!1,s=0,h=0,c=function(n,t){return n!==t&&(a=!0),t},l,i=0;i<u.length;i++)if(n=u[i],null!==n.canvasWidth&&!isNaN(n.canvasWidth)){if(n.header){var v=n.headerHeight=c(n.headerHeight,parseInt(r.outerElementHeight(n.header),10)),y=r.getBorderSize(n.header,"top"),p=r.getBorderSize(n.header,"bottom"),o=parseInt(v-y-p,10);o=0>o?0:o;n.innerHeaderHeight=o;!n.explicitHeaderHeight&&o>s&&(s=o)}n.headerCanvas&&(l=n.headerCanvasHeight=c(n.headerCanvasHeight,parseInt(r.outerElementHeight(n.headerCanvas),10)),!n.explicitHeaderCanvasHeight&&l>h&&(h=l))}for(i=0;i<u.length;i++)n=u[i],s>0&&"undefined"!=typeof n.headerHeight&&null!==n.headerHeight&&(n.explicitHeaderHeight||n.headerHeight<s)&&(n.explicitHeaderHeight=c(n.explicitHeaderHeight,s)),h>0&&"undefined"!=typeof n.headerCanvasHeight&&null!==n.headerCanvasHeight&&(n.explicitHeaderCanvasHeight||n.headerCanvasHeight<h)&&(n.explicitHeaderCanvasHeight=c(n.explicitHeaderCanvasHeight,h));t&&a&&f.buildStyles();e.resolve()}:function(){e.resolve()}),e.promise},y.prototype.redrawInPlace=function(n){var i=this,r,t;for(r in i.renderContainers)t=i.renderContainers[r],n?(t.adjustRows(t.prevScrollTop,null),t.adjustColumns(t.prevScrollLeft,null)):(t.adjustRows(null,t.prevScrolltopPercentage),t.adjustColumns(null,t.prevScrollleftPercentage))},y.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},y.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},y.prototype.scrollToIfNecessary=function(t,i){var r=this,f=new v(r,"uiGrid.scrollToIfNecessary"),rt=r.renderContainers.body.visibleRowCache,w=r.renderContainers.body.visibleColumnCache,h=r.renderContainers.body.prevScrollTop+r.headerHeight,c,l,tt,s,a,u,y,it;h=0>h?0:h;var b=r.renderContainers.body.prevScrollLeft,k=r.renderContainers.body.prevScrollTop+r.gridHeight-r.renderContainers.body.headerHeight-r.footerHeight-r.scrollbarWidth,d=r.renderContainers.body.prevScrollLeft+Math.ceil(r.renderContainers.body.getViewportWidth());if(null!==t){var ut=rt.indexOf(t),g=r.renderContainers.body.getCanvasHeight()-r.renderContainers.body.getViewportHeight(),e=ut*r.options.rowHeight+r.headerHeight;e=0>e?0:e;h>e?(c=r.renderContainers.body.prevScrollTop-(h-e),l=c/g,f.y={percentage:l}):e>k&&(c=e-k+r.renderContainers.body.prevScrollTop,l=c/g,f.y={percentage:l})}if(null!==i){for(var ft=w.indexOf(i),nt=r.renderContainers.body.getCanvasWidth()-r.renderContainers.body.getViewportWidth(),o=0,p=0;ft>p;p++)tt=w[p],o+=tt.drawnWidth;o=0>o?0:o;s=o+i.drawnWidth;s=0>s?0:s;b>o?(a=r.renderContainers.body.prevScrollLeft-(b-o),u=a/nt,u=u>1?1:u,f.x={percentage:u}):s>d&&(a=s-d+r.renderContainers.body.prevScrollLeft,u=a/nt,u=u>1?1:u,f.x={percentage:u})}return y=n.defer(),f.y||f.x?(f.withDelay=!1,r.scrollContainers("",f),it=r.api.core.on.scrollEnd(null,function(){y.resolve(f);it()})):y.resolve(),y.promise},y.prototype.scrollTo=function(n,t){var i=null,r=null;return null!==n&&"undefined"!=typeof n&&(i=this.getRow(n)),null!==t&&"undefined"!=typeof t&&(r=this.getColumn(t.name?t.name:t.field)),this.scrollToIfNecessary(i,r)},y.prototype.clearAllFilters=function(n,t,i){return void 0===n&&(n=!0),void 0===t&&(t=!1),void 0===i&&(i=!1),this.columns.forEach(function(n){n.filters.forEach(function(n){n.term=void 0;t&&(n.condition=void 0);i&&(n.flags=void 0)})}),n?this.refreshRows():void 0},p.prototype={put:function(n,t){this[this.grid.options.rowIdentity(n)]=t},get:function(n){return this[this.grid.options.rowIdentity(n)]},remove:function(n){var t=this[n=this.grid.options.rowIdentity(n)];return delete this[n],t}},y}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(n,t,i,r,u){function e(n,i,r,u){return t.$on(n,function(){var n=Array.prototype.slice.call(arguments);n.splice(0,1);i.apply(u?u:r.api,n)})}var f=function(n){this.grid=n;this.listeners=[];this.registerEvent("core","renderingComplete");this.registerEvent("core","filterChanged");this.registerMethod("core","setRowInvisible",u.prototype.setRowInvisible);this.registerMethod("core","clearRowInvisible",u.prototype.clearRowInvisible);this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows);this.registerEvent("core","rowsVisibleChanged");this.registerEvent("core","rowsRendered");this.registerEvent("core","scrollBegin");this.registerEvent("core","scrollEnd");this.registerEvent("core","canvasHeightChanged");this.registerEvent("core","gridDimensionChanged")};return f.prototype.suppressEvents=function(n,t){var i=this,u=angular.isArray(n)?n:[n],r=i.listeners.filter(function(n){return u.some(function(t){return n.handler===t})});r.forEach(function(n){n.dereg()});t();r.forEach(function(n){n.dereg=e(n.eventId,n.handler,i.grid,n._this)})},f.prototype.registerEvent=function(n,r){var u=this,f,o;u[n]||(u[n]={});f=u[n];f.on||(f.on={},f.raise={});o=u.grid.id+n+r;f.raise[r]=function(){t.$emit.apply(t,[o].concat(Array.prototype.slice.call(arguments)))};f.on[r]=function(t,f,s){var l,h,c;return null!==t&&"undefined"==typeof t.$on?void i.logError("asked to listen on "+n+".on."+r+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering"):(l=e(o,f,u.grid,s),h={handler:f,dereg:l,eventId:o,scope:t,_this:s},u.listeners.push(h),c=function(){h.dereg();var n=u.listeners.indexOf(h);u.listeners.splice(n,1)},t&&t.$on("$destroy",function(){c()}),c)}},f.prototype.registerEventsFromObject=function(n){var i=this,t=[];angular.forEach(n,function(n,i){var r={name:i,events:[]};angular.forEach(n,function(n,t){r.events.push(t)});t.push(r)});t.forEach(function(n){n.events.forEach(function(t){i.registerEvent(n.name,t)})})},f.prototype.registerMethod=function(n,t,r,u){this[n]||(this[n]={});var f=this[n];f[t]=i.createBoundedWrapper(u||this.grid,r)},f.prototype.registerMethodsFromObject=function(n,t){var r=this,i=[];angular.forEach(n,function(n,t){var r={name:t,methods:[]};angular.forEach(n,function(n,t){r.methods.push({name:t,fn:n})});i.push(r)});i.forEach(function(n){n.methods.forEach(function(i){r.registerMethod(n.name,i.name,i.fn,t)})})},f}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(n,t,i){function r(n,i,r){var u=this;u.grid=r;u.uid=i;u.updateColumnDef(n,!0);u.aggregationValue=void 0;u.updateAggregationValue=function(){if(!u.aggregationType)return void(u.aggregationValue=void 0);var n=0,r=u.grid.getVisibleRows(),i=function(){var n=[];return r.forEach(function(t){var r=u.grid.getCellValue(t,u),i=Number(r);isNaN(i)||n.push(i)}),n};angular.isFunction(u.aggregationType)?u.aggregationValue=u.aggregationType(r,u):u.aggregationType===t.aggregationTypes.count?u.aggregationValue=u.grid.getVisibleRowCount():u.aggregationType===t.aggregationTypes.sum?(i().forEach(function(t){n+=t}),u.aggregationValue=n):u.aggregationType===t.aggregationTypes.avg?(i().forEach(function(t){n+=t}),n/=i().length,u.aggregationValue=n):u.aggregationValue=u.aggregationType===t.aggregationTypes.min?Math.min.apply(null,i()):u.aggregationType===t.aggregationTypes.max?Math.max.apply(null,i()):" "};this.getAggregationValue=function(){return u.aggregationValue}}return r.prototype.hideColumn=function(){this.colDef.visible=!1},r.prototype.setPropertyOrDefault=function(n,t,i){var r=this;r[t]="undefined"!=typeof n[t]&&n[t]?n[t]:"undefined"!=typeof r[t]?r[t]:i?i:{}},r.prototype.updateColumnDef=function(i,r){var u=this,e,o,s,h,f;if(u.colDef=i,void 0===i.name)throw new Error("colDef.name is required for column at index "+u.grid.options.columnDefs.indexOf(i));if(u.displayName=void 0===i.displayName?n.readableColumnName(i.name):i.displayName,!angular.isNumber(u.width)||!u.hasCustomWidth||i.allowCustomWidthOverride)if(e=i.width,o="Cannot parse column width '"+e+"' for column named '"+i.name+"'",u.hasCustomWidth=!1,angular.isString(e)||angular.isNumber(e))if(angular.isString(e))if(n.endsWith(e,"%")){if(s=e.replace(/%/g,""),h=parseInt(s,10),isNaN(h))throw new Error(o);u.width=e}else if(e.match(/^(\d+)$/))u.width=parseInt(e.match(/^(\d+)$/)[1],10);else{if(!e.match(/^\*+$/))throw new Error(o);u.width=e}else u.width=e;else u.width="*";["minWidth","maxWidth"].forEach(function(n){var t=i[n],r="Cannot parse column "+n+" '"+t+"' for column named '"+i.name+"'";if(angular.isString(t)||angular.isNumber(t))if(angular.isString(t)){if(!t.match(/^(\d+)$/))throw new Error(r);u[n]=parseInt(t.match(/^(\d+)$/)[1],10)}else u[n]=t;else u[n]="minWidth"===n?30:9e3});u.field=void 0===i.field?i.name:i.field;"string"!=typeof u.field&&n.logError("Field is not a string, this is likely to break the code, Field is: "+u.field);u.name=i.name;u.displayName=void 0===i.displayName?n.readableColumnName(i.name):i.displayName;u.aggregationType=angular.isDefined(i.aggregationType)?i.aggregationType:null;u.footerCellTemplate=angular.isDefined(i.footerCellTemplate)?i.footerCellTemplate:null;u.cellTooltip="undefined"==typeof i.cellTooltip||i.cellTooltip===!1?!1:i.cellTooltip===!0?function(n,t){return u.grid.getCellValue(n,t)}:"function"==typeof i.cellTooltip?i.cellTooltip:function(n,t){return t.colDef.cellTooltip};u.headerTooltip="undefined"==typeof i.headerTooltip||i.headerTooltip===!1?!1:i.headerTooltip===!0?function(n){return n.displayName}:"function"==typeof i.headerTooltip?i.headerTooltip:function(n){return n.colDef.headerTooltip};u.footerCellClass=i.footerCellClass;u.cellClass=i.cellClass;u.headerCellClass=i.headerCellClass;u.cellFilter=i.cellFilter?i.cellFilter:"";u.sortCellFiltered=!!i.sortCellFiltered;u.filterCellFiltered=!!i.filterCellFiltered;u.headerCellFilter=i.headerCellFilter?i.headerCellFilter:"";u.footerCellFilter=i.footerCellFilter?i.footerCellFilter:"";u.visible=n.isNullOrUndefined(i.visible)||i.visible;u.headerClass=i.headerClass;u.enableSorting="undefined"!=typeof i.enableSorting?i.enableSorting:u.grid.options.enableSorting;u.sortingAlgorithm=i.sortingAlgorithm;u.sortDirectionCycle="undefined"!=typeof i.sortDirectionCycle?i.sortDirectionCycle:[null,t.ASC,t.DESC];"undefined"==typeof u.suppressRemoveSort&&(u.suppressRemoveSort="undefined"!=typeof i.suppressRemoveSort?i.suppressRemoveSort:!1);u.enableFiltering="undefined"!=typeof i.enableFiltering?i.enableFiltering:!0;u.setPropertyOrDefault(i,"menuItems",[]);r&&u.setPropertyOrDefault(i,"sort");f=[];i.filter?f.push(i.filter):i.filters?f=i.filters:f.push({});r?(u.setPropertyOrDefault(i,"filter"),u.setPropertyOrDefault(i,"extraStyle"),u.setPropertyOrDefault(i,"filters",f)):u.filters.length===f.length&&u.filters.forEach(function(n,t){"undefined"!=typeof f[t].placeholder&&(n.placeholder=f[t].placeholder);"undefined"!=typeof f[t].ariaLabel&&(n.ariaLabel=f[t].ariaLabel);"undefined"!=typeof f[t].flags&&(n.flags=f[t].flags);"undefined"!=typeof f[t].type&&(n.type=f[t].type);"undefined"!=typeof f[t].selectOptions&&(n.selectOptions=f[t].selectOptions)})},r.prototype.unsort=function(){this.sort={};this.grid.api.core.raise.sortChanged(this.grid,this.grid.getColumnSorting())},r.prototype.getColClass=function(n){var i=t.COL_CLASS_PREFIX+this.uid;return n?"."+i:i},r.prototype.isPinnedLeft=function(){return"left"===this.renderContainer},r.prototype.isPinnedRight=function(){return"right"===this.renderContainer},r.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},r.prototype.getRenderContainer=function(){var t=this,n=t.renderContainer;return(null===n||""===n||void 0===n)&&(n="body"),t.grid.renderContainers[n]},r.prototype.showColumn=function(){this.colDef.visible=!0},r.prototype.getAggregationText=function(){var n=this;if(n.colDef.aggregationHideLabel)return"";if(n.colDef.aggregationLabel)return n.colDef.aggregationLabel;switch(n.colDef.aggregationType){case t.aggregationTypes.count:return i.getSafeText("aggregation.count");case t.aggregationTypes.sum:return i.getSafeText("aggregation.sum");case t.aggregationTypes.avg:return i.getSafeText("aggregation.avg");case t.aggregationTypes.min:return i.getSafeText("aggregation.min");case t.aggregationTypes.max:return i.getSafeText("aggregation.max");default:return""}},r.prototype.getCellTemplate=function(){var n=this;return n.cellTemplatePromise},r.prototype.getCompiledElementFn=function(){var n=this;return n.compiledElementFnDefer.promise},r}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(n,t){return{initialize:function(i){return i.onRegisterApi=i.onRegisterApi||angular.noop(),i.data=i.data||[],i.columnDefs=i.columnDefs||[],i.excludeProperties=i.excludeProperties||["$$hashKey"],i.enableRowHashing=i.enableRowHashing!==!1,i.rowIdentity=i.rowIdentity||function(t){return n.hashKey(t)},i.getRowIdentity=i.getRowIdentity||function(n){return n.$$hashKey},i.flatEntityAccess=i.flatEntityAccess===!0,i.showHeader="undefined"!=typeof i.showHeader?i.showHeader:!0,i.headerRowHeight=i.showHeader?"undefined"!=typeof i.headerRowHeight?i.headerRowHeight:30:0,i.rowHeight="string"==typeof i.rowHeight?parseInt(i.rowHeight)||30:i.rowHeight||30,i.minRowsToShow="undefined"!=typeof i.minRowsToShow?i.minRowsToShow:10,i.showGridFooter=i.showGridFooter===!0,i.showColumnFooter=i.showColumnFooter===!0,i.columnFooterHeight="undefined"!=typeof i.columnFooterHeight?i.columnFooterHeight:30,i.gridFooterHeight="undefined"!=typeof i.gridFooterHeight?i.gridFooterHeight:30,i.columnWidth="undefined"!=typeof i.columnWidth?i.columnWidth:50,i.maxVisibleColumnCount="undefined"!=typeof i.maxVisibleColumnCount?i.maxVisibleColumnCount:200,i.virtualizationThreshold="undefined"!=typeof i.virtualizationThreshold?i.virtualizationThreshold:20,i.columnVirtualizationThreshold="undefined"!=typeof i.columnVirtualizationThreshold?i.columnVirtualizationThreshold:10,i.excessRows="undefined"!=typeof i.excessRows?i.excessRows:4,i.scrollThreshold="undefined"!=typeof i.scrollThreshold?i.scrollThreshold:4,i.excessColumns="undefined"!=typeof i.excessColumns?i.excessColumns:4,i.horizontalScrollThreshold="undefined"!=typeof i.horizontalScrollThreshold?i.horizontalScrollThreshold:2,i.aggregationCalcThrottle="undefined"!=typeof i.aggregationCalcThrottle?i.aggregationCalcThrottle:500,i.wheelScrollThrottle="undefined"!=typeof i.wheelScrollThrottle?i.wheelScrollThrottle:70,i.scrollDebounce="undefined"!=typeof i.scrollDebounce?i.scrollDebounce:300,i.enableSorting=i.enableSorting!==!1,i.enableFiltering=i.enableFiltering===!0,i.enableColumnMenus=i.enableColumnMenus!==!1,i.enableVerticalScrollbar="undefined"!=typeof i.enableVerticalScrollbar?i.enableVerticalScrollbar:t.scrollbars.ALWAYS,i.enableHorizontalScrollbar="undefined"!=typeof i.enableHorizontalScrollbar?i.enableHorizontalScrollbar:t.scrollbars.ALWAYS,i.enableMinHeightCheck=i.enableMinHeightCheck!==!1,i.minimumColumnSize="undefined"!=typeof i.minimumColumnSize?i.minimumColumnSize:10,i.rowEquality=i.rowEquality||function(n,t){return n===t},i.headerTemplate=i.headerTemplate||null,i.footerTemplate=i.footerTemplate||"ui-grid/ui-grid-footer",i.gridFooterTemplate=i.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",i.rowTemplate=i.rowTemplate||"ui-grid/ui-grid-row",i.gridMenuTemplate=i.gridMenuTemplate||"ui-grid/uiGridMenu",i.appScopeProvider=i.appScopeProvider||null,i}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(n,t){function i(n,t,i){var r=this;r.name=n;r.grid=t;r.visibleRowCache=[];r.visibleColumnCache=[];r.renderedRows=[];r.renderedColumns=[];r.prevScrollTop=0;r.prevScrolltopPercentage=0;r.prevRowScrollIndex=0;r.prevScrollLeft=0;r.prevScrollleftPercentage=0;r.prevColumnScrollIndex=0;r.columnStyles="";r.viewportAdjusters=[];r.hasHScrollbar=!1;r.hasVScrollbar=!1;r.canvasHeightShouldUpdate=!0;r.$$canvasHeight=0;i&&angular.isObject(i)&&angular.extend(r,i);t.registerStyleComputation({priority:5,func:function(){return r.updateColumnWidths(),r.columnStyles}})}return i.prototype.reset=function(){this.visibleColumnCache.length=0;this.visibleRowCache.length=0;this.renderedRows.length=0;this.renderedColumns.length=0},i.prototype.containsColumn=function(n){return-1!==this.visibleColumnCache.indexOf(n)},i.prototype.minRowsToRender=function(){for(var n=this,i=0,r=0,u=n.getViewportHeight(),t=n.visibleRowCache.length-1;u>r&&t>=0;t--)r+=n.visibleRowCache[t].height,i++;return i},i.prototype.minColumnsToRender=function(){for(var u,f,t,i=this,e=this.getViewportWidth(),r=0,o=0,n=0;n<i.visibleColumnCache.length;n++)if(u=i.visibleColumnCache[n],e>o)o+=u.drawnWidth?u.drawnWidth:0,r++;else{for(f=0,t=n;t>=n-r;t--)f+=i.visibleColumnCache[t].drawnWidth?i.visibleColumnCache[t].drawnWidth:0;e>f&&r++}return r},i.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},i.prototype.registerViewportAdjuster=function(n){this.viewportAdjusters.push(n)},i.prototype.removeViewportAdjuster=function(n){var t=this.viewportAdjusters.indexOf(n);t>-1&&this.viewportAdjusters.splice(t,1)},i.prototype.getViewportAdjustment=function(){var t=this,n={height:0,width:0};return t.viewportAdjusters.forEach(function(t){n=t.call(this,n)}),n},i.prototype.getMargin=function(n){var i=this,t=0;return i.viewportAdjusters.forEach(function(i){var r=i.call(this,{height:0,width:0});r.side&&r.side===n&&(t+=-1*r.width)}),t},i.prototype.getViewportHeight=function(){var n=this,t=n.headerHeight?n.headerHeight:n.grid.headerHeight,i=n.grid.gridHeight-t-n.grid.footerHeight,r=n.getViewportAdjustment();return i+r.height},i.prototype.getViewportWidth=function(){var n=this,t=n.grid.gridWidth,i=n.getViewportAdjustment();return t+i.width},i.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},i.prototype.getCanvasHeight=function(){var n=this,t;return n.canvasHeightShouldUpdate?(t=n.$$canvasHeight,n.$$canvasHeight=0,n.visibleRowCache.forEach(function(t){n.$$canvasHeight+=t.height}),n.canvasHeightShouldUpdate=!1,n.grid.api.core.raise.canvasHeightChanged(t,n.$$canvasHeight),n.$$canvasHeight):n.$$canvasHeight},i.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight!==0?this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight:-1},i.prototype.getHorizontalScrollLength=function(){return this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth!==0?this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth:-1},i.prototype.getCanvasWidth=function(){var n=this;return n.canvasWidth},i.prototype.setRenderedRows=function(n){this.renderedRows.length=n.length;for(var t=0;t<n.length;t++)this.renderedRows[t]=n[t]},i.prototype.setRenderedColumns=function(n){this.renderedColumns.length=n.length;for(var t=0;t<n.length;t++)this.renderedColumns[t]=n[t];this.updateColumnOffset()},i.prototype.updateColumnOffset=function(){for(var t=0,n=0;n<this.currentFirstColumn;n++)t+=this.visibleColumnCache[n].drawnWidth;this.columnOffset=t},i.prototype.scrollVertical=function(n){var i=-1,r,u;if(n!==this.prevScrollTop)return r=n-this.prevScrollTop,r>0&&(this.grid.scrollDirection=t.scrollDirection.DOWN),0>r&&(this.grid.scrollDirection=t.scrollDirection.UP),u=this.getVerticalScrollLength(),i=n/u,i>1&&(i=1),0>i&&(i=0),this.adjustScrollVertical(n,i),i},i.prototype.scrollHorizontal=function(n){var i=-1,r,u;if(n!==this.prevScrollLeft)return r=n-this.prevScrollLeft,r>0&&(this.grid.scrollDirection=t.scrollDirection.RIGHT),0>r&&(this.grid.scrollDirection=t.scrollDirection.LEFT),u=this.getHorizontalScrollLength(),i=0!==u?n/u:0,this.adjustScrollHorizontal(n,i),i},i.prototype.adjustScrollVertical=function(n,t,i){(this.prevScrollTop!==n||i)&&(("undefined"==typeof n||void 0===n||null===n)&&(n=(this.getCanvasHeight()-this.getViewportHeight())*t),this.adjustRows(n,t,!1),this.prevScrollTop=n,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},i.prototype.adjustScrollHorizontal=function(n,t,i){(this.prevScrollLeft!==n||i)&&(("undefined"==typeof n||void 0===n||null===n)&&(n=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(n,t),this.prevScrollLeft=n,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},i.prototype.adjustRows=function(n,t){var i=this,e=i.minRowsToRender(),o=i.visibleRowCache,u=o.length-e,r,f,s,h,c;if(("undefined"==typeof t||null===t)&&n&&(t=n/i.getVerticalScrollLength()),r=Math.ceil(Math.min(u,u*t)),r>u&&(r=u),f=[],o.length>i.grid.options.virtualizationThreshold){if("undefined"!=typeof n&&null!==n){if(!i.grid.suppressParentScrollDown&&i.prevScrollTop<n&&r<i.prevRowScrollIndex+i.grid.options.scrollThreshold&&u>r)return;if(!i.grid.suppressParentScrollUp&&i.prevScrollTop>n&&r>i.prevRowScrollIndex-i.grid.options.scrollThreshold&&u>r)return}s={};h={};s=Math.max(0,r-i.grid.options.excessRows);h=Math.min(o.length,r+e+i.grid.options.excessRows);f=[s,h]}else c=i.visibleRowCache.length,f=[0,Math.max(c,e+i.grid.options.excessRows)];i.updateViewableRowRange(f);i.prevRowScrollIndex=r},i.prototype.adjustColumns=function(n,t){var i=this,e=i.minColumnsToRender(),o=i.visibleColumnCache,u=o.length-e,r,f,s,h,c;("undefined"==typeof t||null===t)&&n&&(t=n/i.getHorizontalScrollLength());r=Math.ceil(Math.min(u,u*t));r>u&&(r=u);f=[];o.length>i.grid.options.columnVirtualizationThreshold&&i.getCanvasWidth()>i.getViewportWidth()?(s=Math.max(0,r-i.grid.options.excessColumns),h=Math.min(o.length,r+e+i.grid.options.excessColumns),f=[s,h]):(c=i.visibleColumnCache.length,f=[0,Math.max(c,e+i.grid.options.excessColumns)]);i.updateViewableColumnRange(f);i.prevColumnScrollIndex=r},i.prototype.updateViewableRowRange=function(n){var t=this.visibleRowCache.slice(n[0],n[1]);this.currentTopRow=n[0];this.setRenderedRows(t)},i.prototype.updateViewableColumnRange=function(n){var t=this.visibleColumnCache.slice(n[0],n[1]);this.currentFirstColumn=n[0];this.setRenderedColumns(t)},i.prototype.headerCellWrapperStyle=function(){var n=this,t;return 0!==n.currentFirstColumn?(t=n.columnOffset,n.grid.isRTL()?{"margin-right":t+"px"}:{"margin-left":t+"px"}):null},i.prototype.updateColumnWidths=function(){var r=this,u=[],c=0,t=0,l="",f=r.grid.getViewportWidth()-r.grid.scrollbarWidth,e=[],a,v,y,o,h;angular.forEach(r.grid.renderContainers,function(n){e=e.concat(n.visibleColumnCache)});e.forEach(function(i){var r=0;i.visible&&(angular.isNumber(i.width)?(r=parseInt(i.width,10),t+=r,i.drawnWidth=r):n.endsWith(i.width,"%")?(r=parseInt(parseInt(i.width.replace(/%/g,""),10)/100*f),r>i.maxWidth&&(r=i.maxWidth),r<i.minWidth&&(r=i.minWidth),t+=r,i.drawnWidth=r):angular.isString(i.width)&&-1!==i.width.indexOf("*")&&(c+=i.width.length,u.push(i)))});a=f-t;u.length>0&&(v=a/c,u.forEach(function(n){var i=parseInt(n.width.length*v,10);i>n.maxWidth&&(i=n.maxWidth);i<n.minWidth&&(i=n.minWidth);t+=i;n.drawnWidth=i}));for(var p=function(n){n.drawnWidth<n.maxWidth&&s>0&&(n.drawnWidth++,t++,s--,i=!0)},s=f-t,i=!0;s>0&&i;)i=!1,u.forEach(p);for(y=function(n){n.drawnWidth>n.minWidth&&o>0&&(n.drawnWidth--,t--,o--,i=!0)},o=t-f,i=!0;o>0&&i;)i=!1,u.forEach(y);h=0;r.visibleColumnCache.forEach(function(n){n.visible&&(h+=n.drawnWidth)});e.forEach(function(n){l+=n.getColClassDefinition()});r.canvasWidth=h;this.columnStyles=l},i.prototype.needsHScrollbarPlaceholder=function(){return this.grid.options.enableHorizontalScrollbar&&!this.hasHScrollbar&&!this.grid.disableScrolling},i.prototype.getViewportStyle=function(){var n=this,i={};return n.hasHScrollbar=!1,n.hasVScrollbar=!1,n.grid.disableScrolling?(i["overflow-x"]="hidden",i["overflow-y"]="hidden",i):("body"===n.name?(n.hasHScrollbar=n.grid.options.enableHorizontalScrollbar!==t.scrollbars.NEVER,n.grid.isRTL()?n.grid.hasLeftContainerColumns()||(n.hasVScrollbar=n.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER):n.grid.hasRightContainerColumns()||(n.hasVScrollbar=n.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER)):n.hasVScrollbar="left"===n.name?n.grid.isRTL()?n.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER:!1:n.grid.isRTL()?!1:n.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER,i["overflow-x"]=n.hasHScrollbar?"scroll":"hidden",i["overflow-y"]=n.hasVScrollbar?"scroll":"hidden",i)},i}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil","uiGridConstants",function(n,t){function i(t,i,r){this.grid=r;this.entity=t;this.uid=n.nextUid();this.visible=!0;this.$$height=r.options.rowHeight}return Object.defineProperty(i.prototype,"height",{get:function(){return this.$$height},set:function(n){n!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=n)}}),i.prototype.getQualifiedColField=function(n){return"row."+this.getEntityQualifiedColField(n)},i.prototype.getEntityQualifiedColField=function(i){var r="entity";return i.field===t.ENTITY_BINDING?r:n.preEval(r+"."+i.field)},i.prototype.setRowInvisible=function(n){n&&n.setThisRowInvisible&&n.setThisRowInvisible("user")},i.prototype.clearRowInvisible=function(n){n&&n.clearThisRowInvisible&&n.clearThisRowInvisible("user")},i.prototype.setThisRowInvisible=function(n,t){this.invisibleReason||(this.invisibleReason={});this.invisibleReason[n]=!0;this.evaluateRowVisibility(t)},i.prototype.clearThisRowInvisible=function(n,t){"undefined"!=typeof this.invisibleReason&&delete this.invisibleReason[n];this.evaluateRowVisibility(t)},i.prototype.evaluateRowVisibility=function(n){var t=!0;"undefined"!=typeof this.invisibleReason&&angular.forEach(this.invisibleReason,function(n){n&&(t=!1)});("undefined"==typeof this.visible||this.visible!==t)&&(this.visible=t,n||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},i}])}(),function(){"use strict";angular.module("ui.grid").factory("GridRowColumn",["$parse","$filter",function(n){var t=function i(n,t){if(!(this instanceof i))throw"Using GridRowColumn as a function insead of as a constructor. Must be called with `new` keyword";this.row=n;this.col=t};return t.prototype.getIntersectionValueRaw=function(){var t=n(this.row.getEntityQualifiedColField(this.col)),i=this.row;return t(i)},t}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(n){function t(t,i,r,u){var f=this;if(!t)throw new Error("grid argument is required");f.grid=t;f.source=u;f.withDelay=!0;f.sourceRowContainer=i;f.sourceColContainer=r;f.newScrollLeft=null;f.newScrollTop=null;f.x=null;f.y=null;f.verticalScrollLength=-9999999;f.horizontalScrollLength=-999999;f.fireThrottledScrollingEvent=n.throttle(function(n){f.grid.scrollContainers(n,f)},f.grid.options.wheelScrollThrottle,{trailing:!0})}return t.prototype.getNewScrollLeft=function(t,i){var r=this,u,f,e;if(!r.newScrollLeft){if(f=t.getCanvasWidth()-t.getViewportWidth(),e=n.normalizeScrollLeft(i,r.grid),"undefined"!=typeof r.x.percentage&&void 0!==r.x.percentage)u=r.x.percentage;else{if("undefined"==typeof r.x.pixels||void 0===r.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");u=r.x.percentage=(e+r.x.pixels)/f}return Math.max(0,u*f)}return r.newScrollLeft},t.prototype.getNewScrollTop=function(n,t){var i=this,r,u,f;if(!i.newScrollTop){if(u=n.getVerticalScrollLength(),f=t[0].scrollTop,"undefined"!=typeof i.y.percentage&&void 0!==i.y.percentage)r=i.y.percentage;else{if("undefined"==typeof i.y.pixels||void 0===i.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");r=i.y.percentage=(f+i.y.pixels)/u}return Math.max(0,r*u)}return i.newScrollTop},t.prototype.atTop=function(n){return this.y&&(0===this.y.percentage||this.verticalScrollLength<0)&&0===n},t.prototype.atBottom=function(n){return this.y&&(1===this.y.percentage||0===this.verticalScrollLength)&&n>0},t.prototype.atLeft=function(n){return this.x&&(0===this.x.percentage||this.horizontalScrollLength<0)&&0===n},t.prototype.atRight=function(n){return this.x&&(1===this.x.percentage||0===this.horizontalScrollLength)&&n>0},t.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},t}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(n,t,i,r,u,f){var e={createGrid:function(r){var u,o;return r="undefined"!=typeof r?r:{},r.id=n.newId(),u=new f(r),u.options.rowTemplate&&(o=t.defer(),u.getRowTemplateFn=o.promise,n.getTemplate(u.options.rowTemplate).then(function(n){var t=i(n);o.resolve(t)},function(){throw new Error("Couldn't fetch/use row template '"+u.options.rowTemplate+"'");})["catch"](angular.noop)),u.registerColumnBuilder(e.defaultColumnBuilder),u.registerRowBuilder(e.rowTemplateAssigner),u.registerRowsProcessor(function(n){return n.forEach(function(n){n.evaluateRowVisibility(!0)},50),n}),u.registerColumnsProcessor(function(n){return n.forEach(function(n){n.visible=angular.isDefined(n.colDef.visible)?n.colDef.visible:!0}),n},50),u.registerRowsProcessor(u.searchRows,100),u.options.externalSort&&angular.isFunction(u.options.externalSort)?u.registerRowsProcessor(u.options.externalSort,200):u.registerRowsProcessor(u.sortByColumn,200),u},defaultColumnBuilder:function(i,r){var e=[],f=function(t,f,o,s,h){r[f]=i[t]?i[t]:o;e.push(n.getTemplate(r[f]).then(function(n){angular.isFunction(n)&&(n=n());var i="cellTooltip"===h?"col.cellTooltip(row,col)":"col.headerTooltip(col)";h&&r[h]===!1?n=n.replace(u.TOOLTIP,""):h&&r[h]&&(n=n.replace(u.TOOLTIP,'title="{{'+i+' CUSTOM_FILTERS }}"'));r[t]=s?n.replace(u.CUSTOM_FILTERS,function(){return r[s]?"|"+r[s]:""}):n},function(){throw new Error("Couldn't fetch/use colDef."+t+" '"+i[t]+"'");})["catch"](angular.noop))};return f("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),r.cellTemplatePromise=e[0],f("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),f("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),f("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),r.compiledElementFnDefer=t.defer(),t.all(e)},rowTemplateAssigner:function(r){var f=this,u;return r.rowTemplate?(u=t.defer(),r.getRowTemplateFn=u.promise,n.getTemplate(r.rowTemplate).then(function(n){var t=i(n);u.resolve(t)},function(){throw new Error("Couldn't fetch/use row template '"+r.rowTemplate+"'");})):(r.rowTemplate=f.options.rowTemplate,r.getRowTemplateFn=f.getRowTemplateFn),r.getRowTemplateFn}};return e}])}(),function(){function n(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var t=angular.module("ui.grid");t.service("rowSearcher",["gridUtil","uiGridConstants",function(t,i){var u=i.filter.CONTAINS,r={};return r.getTerm=function(n){if("undefined"==typeof n.term)return n.term;var t=n.term;return"string"==typeof t&&(t=t.trim()),t},r.stripTerm=function(t){var i=r.getTerm(t);return"string"==typeof i?n(i.replace(/(^\*|\*$)/g,"")):i},r.guessCondition=function(n){var t,i,f;return"undefined"==typeof n.term||!n.term?u:(t=r.getTerm(n),/\*/.test(t))?(i="",n.flags&&n.flags.caseSensitive||(i+="i"),f=t.replace(/(\\)?\*/g,function(n,t){return t?n:"[\\s\\S]*?"}),new RegExp("^"+f+"$",i)):u},r.setupFilters=function(n){for(var f,u,e,s=[],h=n.length,o=0;h>o;o++)f=n[o],(f.noTerm||!t.isNullOrUndefined(f.term))&&(u={},e="",f.flags&&f.flags.caseSensitive||(e+="i"),t.isNullOrUndefined(f.term)||(u.term=f.rawTerm?f.term:r.stripTerm(f)),u.noTerm=f.noTerm,u.condition=f.condition?f.condition:r.guessCondition(f),u.flags=angular.extend({caseSensitive:!1,date:!1},f.flags),u.condition===i.filter.STARTS_WITH&&(u.startswithRE=new RegExp("^"+u.term,e)),u.condition===i.filter.ENDS_WITH&&(u.endswithRE=new RegExp(u.term+"$",e)),u.condition===i.filter.CONTAINS&&(u.containsRE=new RegExp(u.term,e)),u.condition===i.filter.EXACT&&(u.exactRE=new RegExp("^"+u.term+"$",e)),s.push(u));return s},r.runColumnFilter=function(n,t,r,u){var f,h=typeof u.condition,e=u.term,s,o;return(f=r.filterCellFiltered?n.getCellDisplayValue(t,r):n.getCellValue(t,r),u.condition instanceof RegExp)?u.condition.test(f):"function"===h?u.condition(e,f,t,r):u.startswithRE?u.startswithRE.test(f):u.endswithRE?u.endswithRE.test(f):u.containsRE?u.containsRE.test(f):u.exactRE?u.exactRE.test(f):u.condition===i.filter.NOT_EQUAL?(s=new RegExp("^"+e+"$"),!s.exec(f)):("number"==typeof f&&"string"==typeof e&&(o=parseFloat(e.replace(/\\\./,".").replace(/\\\-/,"-")),isNaN(o)||(e=o)),u.flags.date===!0&&(f=new Date(f),e=new Date(e.replace(/\\/g,""))),u.condition===i.filter.GREATER_THAN?f>e:u.condition===i.filter.GREATER_THAN_OR_EQUAL?f>=e:u.condition===i.filter.LESS_THAN?e>f:u.condition===i.filter.LESS_THAN_OR_EQUAL?e>=f:!0)},r.searchColumn=function(n,i,u,f){var s,o,e,h;if(n.options.useExternalFiltering)return!0;for(s=f.length,o=0;s>o;o++)if(e=f[o],(!t.isNullOrUndefined(e.term)&&""!==e.term||e.noTerm)&&(h=r.runColumnFilter(n,i,u,e),!h))return!1;return!0},r.search=function(n,i,u){var f;if(i){if(!n.options.enableFiltering)return i;for(var e=[],h=u.length,c=function(n){var i=!1;return n.forEach(function(n){(!t.isNullOrUndefined(n.term)&&""!==n.term||n.noTerm)&&(i=!0)}),i},o=0;h>o;o++)f=u[o],"undefined"!=typeof f.filters&&c(f.filters)&&e.push({col:f,filters:r.setupFilters(f.filters)});if(e.length>0){for(var l=function(n,t,i,u){t.visible&&!r.searchColumn(n,t,i,u)&&(t.visible=!1)},a=function(n,t){for(var u=i.length,r=0;u>r;r++)l(n,i[r],t.col,t.filters)},v=e.length,s=0;v>s;s++)a(n,e[s]);n.api.core.raise.rowsVisibleChanged&&n.api.core.raise.rowsVisibleChanged()}return i}},r}])}(),function(){var n=angular.module("ui.grid");n.service("rowSorter",["$parse","uiGridConstants",function(n,t){var r="("+t.CURRENCY_SYMBOLS.map(function(n){return"\\"+n}).join("|")+")?",i=(new RegExp("^[-+]?"+r+"[\\d,.]+"+r+"%?$"),{colSortFnCache:{}});return i.guessSortFn=function(n){switch(n){case"number":return i.sortNumber;case"numberStr":return i.sortNumberStr;case"boolean":return i.sortBool;case"string":return i.sortAlpha;case"date":return i.sortDate;case"object":return i.basicSort;default:throw new Error("No sorting function found for type:"+n);}},i.handleNulls=function(n,t){if(!n&&0!==n&&n!==!1||!t&&0!==t&&t!==!1){if(!n&&0!==n&&n!==!1&&!t&&0!==t&&t!==!1)return 0;if(!n&&0!==n&&n!==!1)return 1;if(!t&&0!==t&&t!==!1)return-1}return null},i.basicSort=function(n,t){var r=i.handleNulls(n,t);return null!==r?r:n===t?0:t>n?-1:1},i.sortNumber=function(n,t){var r=i.handleNulls(n,t);return null!==r?r:n-t},i.sortNumberStr=function(n,t){var o=i.handleNulls(n,t),f,e,r,u;return null!==o?o:(r=!1,u=!1,f=parseFloat(n.replace(/[^0-9.-]/g,"")),isNaN(f)&&(r=!0),e=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(e)&&(u=!0),r&&u?0:r?1:u?-1:f-e)},i.sortAlpha=function(n,t){var f=i.handleNulls(n,t),r,u;return null!==f?f:(r=n.toString().toLowerCase(),u=t.toString().toLowerCase(),r===u?0:r.localeCompare(u))},i.sortDate=function(n,t){var f=i.handleNulls(n,t),r,u;return null!==f?f:(n instanceof Date||(n=new Date(n)),t instanceof Date||(t=new Date(t)),r=n.getTime(),u=t.getTime(),r===u?0:u>r?-1:1)},i.sortBool=function(n,t){var r=i.handleNulls(n,t);return null!==r?r:n&&t?0:n||t?n?1:-1:0},i.getSortFn=function(n,t){var r;return i.colSortFnCache[t.colDef.name]?r=i.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(r=t.sortingAlgorithm,i.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):t.sortCellFiltered&&t.cellFilter?(r=i.sortAlpha,i.colSortFnCache[t.colDef.name]=r):(r=i.guessSortFn(t.colDef.type),r?i.colSortFnCache[t.colDef.name]=r:r=i.sortAlpha),r},i.prioritySort=function(n,t){return void 0!==n.sort.priority&&void 0!==t.sort.priority?n.sort.priority<t.sort.priority?-1:n.sort.priority===t.sort.priority?0:1:void 0!==n.sort.priority?-1:void 0!==t.sort.priority?1:0},i.sort=function(n,r,u){var f,e,o,s;if(r){if(n.options.useExternalSorting||(f=[],u.forEach(function(n){n.sort&&!n.sort.ignoreSort&&n.sort.direction&&(n.sort.direction===t.ASC||n.sort.direction===t.DESC)&&f.push(n)}),f=f.sort(i.prioritySort),0===f.length))return r;s=function(n,t){n.entity.$$uiGridIndex=t};r.forEach(s);var h=r.slice(0),c=function(r,u){for(var v,l,a,s=0,c=0;0===s&&c<f.length;)e=f[c],o=f[c].sort.direction,v=i.getSortFn(n,e,h),e.sortCellFiltered?(l=n.getCellDisplayValue(r,e),a=n.getCellDisplayValue(u,e)):(l=n.getCellValue(r,e),a=n.getCellValue(u,e)),s=v(l,a,r,u,o,e),c++;return 0===s?r.entity.$$uiGridIndex-u.entity.$$uiGridIndex:o===t.ASC?s:0-s},l=r.sort(c),a=function(n){delete n.entity.$$uiGridIndex};return r.forEach(a),l}},i}])}(),function(){function t(n){var t=n;return"undefined"!=typeof t.length&&t.length&&(t=n[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function r(n,t,i,r,u){for(var e,s,h,c,l,a,o=i===(r?"border":"content")?4:"width"===t?1:0,f=0,v=["Top","Right","Bottom","Left"];4>o;o+=2)e=v[o],"margin"===i&&(s=parseFloat(u[i+e]),isNaN(s)||(f+=s)),r?("content"===i&&(h=parseFloat(u["padding"+e]),isNaN(h)||(f-=h)),"margin"!==i&&(c=parseFloat(u["border"+e+"Width"]),isNaN(c)||(f-=c))):(l=parseFloat(u["padding"+e]),(isNaN(l)||(f+=l),"padding"!==i)&&(a=parseFloat(u["border"+e+"Width"]),isNaN(a)||(f+=a)));return f}function u(n,i,u){var f,o=!0,e=t(n),h="border-box"===e.boxSizing;if(0>=f||null==f){if(f=e[i],(0>f||null==f)&&(f=n.style[i]),s.test(f))return f;o=h&&!0;f=parseFloat(f)||0}return f+r(n,i,u||(h?"border":"content"),o,e)}function o(n){n=angular.element(n)[0];var i=n.parentElement;return i||(i=document.getElementsByTagName("body")[0]),parseInt(t(i).fontSize)||parseInt(t(n).fontSize)||16}var f,e=angular.module("ui.grid");"function"!=typeof Function.prototype.bind&&(f=function(){var n=Array.prototype.slice;return function(t){var i=this,r=n.call(arguments,1);return r.length?function(){return arguments.length?i.apply(t,r.concat(n.call(arguments))):i.apply(t,r)}:function(){return arguments.length?i.apply(t,arguments):i.call(t)}}});var s=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),h=/^(block|none|table(?!-c[ea]).+)/,c={position:"absolute",visibility:"hidden",display:"block"},n=["0","0","0","0"],i="uiGrid-";e.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(e,s,l,a,v,y,p,w,b,k,d){function ut(n,t){var s=angular.element(this),u=0,r=0,i=0,f=0,e,o,h;(t.originalEvent&&(t=t.originalEvent),"detail"in t&&(i=-1*t.detail),"wheelDelta"in t&&(i=t.wheelDelta),"wheelDeltaY"in t&&(i=t.wheelDeltaY),"wheelDeltaX"in t&&(r=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=-1*i,i=0),u=0===i?r:i,"deltaY"in t&&(i=-1*t.deltaY,u=i),"deltaX"in t&&(r=t.deltaX,0===i&&(u=-1*r)),0!==i||0!==r)&&(1===t.deltaMode?(e=s.data("mousewheel-line-height"),u*=e,i*=e,r*=e):2===t.deltaMode&&(o=s.data("mousewheel-page-height"),u*=o,i*=o,r*=o),f=Math.max(Math.abs(i),Math.abs(r)),(!nt||nt>f)&&(nt=f,et(t,f)&&(nt/=40)),u=Math[u>=1?"floor":"ceil"](u/nt),r=Math[r>=1?"floor":"ceil"](r/nt),i=Math[i>=1?"floor":"ceil"](i/nt),h={originalEvent:t,deltaX:r,deltaY:i,deltaFactor:nt,preventDefault:function(){t.preventDefault()},stopPropagation:function(){t.stopPropagation()}},rt&&clearTimeout(rt),rt=setTimeout(ft,200),n.call(s[0],h))}function ft(){nt=null}function et(n,t){return"mousewheel"===n.type&&t%120==0}var g={augmentWidthOrHeight:r,getStyles:t,createBoundedWrapper:function(n,t){return function(){return t.apply(n,arguments)}},readableColumnName:function(n){return"undefined"==typeof n||void 0===n||null===n?n:("string"!=typeof n&&(n=String(n)),n.replace(/_+/g," ").replace(/^[A-Z]+$/,function(n){return angular.lowercase(angular.uppercase(n.charAt(0))+n.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(n){return angular.uppercase(n.charAt(0))+n.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(n,t){var i=[],r;return!n||"undefined"==typeof n[0]||void 0===n[0]?[]:(angular.isUndefined(t)&&(t=[]),r=n[0],angular.forEach(r,function(n,r){-1===t.indexOf(r)&&i.push({name:r})}),i)},newId:function(){var n=(new Date).getTime();return function(){return n+=1}}(),getTemplate:function(n){if(v.get(n))return g.postProcessTemplate(v.get(n));if(angular.isFunction(n.then))return n.then(g.postProcessTemplate)["catch"](angular.noop);try{if(angular.element(n).length>0)return b.when(n).then(g.postProcessTemplate)["catch"](angular.noop)}catch(t){}return g.logDebug("fetching url",n),a({method:"GET",url:n}).then(function(t){var i=t.data.trim();return v.put(n,i),i},function(t){throw new Error("Could not get template "+n+": "+t);}).then(g.postProcessTemplate)["catch"](angular.noop)},postProcessTemplate:function(n){var t=k.startSymbol(),i=k.endSymbol();return("{{"!==t||"}}"!==i)&&(n=n.replace(/\{\{/g,t),n=n.replace(/\}\}/g,i)),b.when(n)},guessType:function(n){var t=typeof n;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(n)?"date":"object"}},elementWidth:function(){},elementHeight:function(){},getScrollbarWidth:function(){var n=document.createElement("div"),i,t,r;return n.style.visibility="hidden",n.style.width="100px",n.style.msOverflowStyle="scrollbar",document.body.appendChild(n),i=n.offsetWidth,n.style.overflow="scroll",t=document.createElement("div"),t.style.width="100%",n.appendChild(t),r=t.offsetWidth,n.parentNode.removeChild(n),i-r},swap:function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f},fakeElement:function(n,t,i){var f,u,r=angular.element(n).clone()[0];for(u in t)r.style[u]=t[u];return angular.element(document.body).append(r),f=i.call(r,r),angular.element(r).remove(),f},normalizeWheelEvent:function(n){var e,f,o,t=n||window.event,i=([].slice.call(arguments,1),0),u=0,r=0,s=0,h=0;return t.originalEvent&&(t=t.originalEvent),t.wheelDelta&&(i=t.wheelDelta),t.detail&&(i=-1*t.detail),r=i,void 0!==t.axis&&t.axis===t.HORIZONTAL_AXIS&&(r=0,u=-1*i),t.deltaY&&(r=-1*t.deltaY,i=r),t.deltaX&&(u=t.deltaX,i=-1*u),void 0!==t.wheelDeltaY&&(r=t.wheelDeltaY),void 0!==t.wheelDeltaX&&(u=t.wheelDeltaX),s=Math.abs(i),(!e||e>s)&&(e=s),h=Math.max(Math.abs(r),Math.abs(u)),(!f||f>h)&&(f=h),o=i>0?"floor":"ceil",i=Math[o](i/e),u=Math[o](u/f),r=Math[o](r/f),{delta:i,deltaX:u,deltaY:r}},isTouchEnabled:function(){var n;return("ontouchstart"in s||s.DocumentTouch&&l instanceof DocumentTouch)&&(n=!0),n},isNullOrUndefined:function(n){return void 0===n||null===n},endsWith:function(n,t){return n&&t&&"string"==typeof n?-1!==n.indexOf(t,n.length-t.length):!1},arrayContainsObjectWithProperty:function(n,t,i){var r=!1;return angular.forEach(n,function(n){n[t]===i&&(r=!0)}),r},numericAndNullSort:function(n,t){return null===n?1:null===t?-1:null===n&&null===t?0:n-t},disableAnimations:function(n){var t;try{t=w.get("$animate");angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(n,!1):t.enabled(!1,n)}catch(i){}},enableAnimations:function(n){var t;try{return t=w.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(n,!0):t.enabled(!0,n),t}catch(i){}},nextUid:function(){for(var r,t=n.length;t;){if(t--,r=n[t].charCodeAt(0),57===r)return n[t]="A",i+n.join("");if(90!==r)return n[t]=String.fromCharCode(r+1),i+n.join("");n[t]="0"}return n.unshift("0"),i+n.join("")},hashKey:function(n){var t,i=typeof n;return"object"===i&&null!==n?"function"==typeof(t=n.$$hashKey)?t=n.$$hashKey():"undefined"!=typeof n.$$hashKey&&n.$$hashKey?t=n.$$hashKey:void 0===t&&(t=n.$$hashKey=g.nextUid()):t=n,i+":"+t},resetUids:function(){n=["0","0","0"]},logError:function(n){d.LOG_ERROR_MESSAGES&&e.error(n)},logWarn:function(n){d.LOG_WARN_MESSAGES&&e.warn(n)},logDebug:function(){d.LOG_DEBUG_MESSAGES&&e.debug.apply(e,arguments)}},rt,nt,tt;return g.focus={queue:[],byId:function(n,t){this._purgeQueue();var i=y(function(){var i=(t&&t.id?t.id+"-":"")+n,r=s.document.getElementById(i);r?r.focus():g.logWarn("[focus.byId] Element id "+i+" was not found.")},0,!1);return this.queue.push(i),i},byElement:function(n){if(!angular.isElement(n))return g.logWarn("Trying to focus on an element that isn't an element."),b.reject("not-element");n=angular.element(n);this._purgeQueue();var t=y(function(){n&&n[0].focus()},0,!1);return this.queue.push(t),t},bySelector:function(n,t,i){var f=this,r,u;if(!angular.isElement(n))throw new Error("The parent element is not an element.");return(n=angular.element(n),r=function(){var i=n[0].querySelector(t);return f.byElement(i)},this._purgeQueue(),i)?(u=y(r,0,!1),this.queue.push(u),u):r()},_purgeQueue:function(){this.queue.forEach(function(n){y.cancel(n)});this.queue=[]}},["width","height"].forEach(function(n){var i=angular.uppercase(n.charAt(0))+n.substr(1);g["element"+i]=function(i,r){var f=i,e;return(f&&"undefined"!=typeof f.length&&f.length&&(f=i[0]),f&&null!==f)?(e=t(f),0===f.offsetWidth&&h.test(e.display)?g.swap(f,c,function(){return u(f,n,r)}):u(f,n,r)):null};g["outerElement"+i]=function(n,t){return n?g["element"+i].call(this,n,t?"margin":"border"):null}}),g.closestElm=function(n,t){var r,i;for("undefined"!=typeof n.length&&n.length&&(n=n[0]),["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(n){return"function"==typeof document.body[n]?(r=n,!0):!1});null!==n;){if(i=n.parentElement,null!==i&&i[r](t))return i;n=i}return null},g.type=function(n){var t=Function.prototype.toString.call(n.constructor);return t.match(/function (.*?)\(/)[1]},g.getBorderSize=function(n,i){var u,r;return"undefined"!=typeof n.length&&n.length&&(n=n[0]),u=t(n),i=i?"border"+i.charAt(0).toUpperCase()+i.slice(1):"border",i+="Width",r=parseInt(u[i],10),isNaN(r)?0:r},g.detectBrowser=function(){var i=s.navigator.userAgent,n={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var t in n)if(n[t].test(i))return t;return"unknown"},g.rtlScrollType=function it(){if(it.type)return it.type;var n=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A<\/div>')[0],t="reverse";return document.body.appendChild(n),n.scrollLeft>0?t="default":(n.scrollLeft=1,0===n.scrollLeft&&(t="negative")),angular.element(n).remove(),it.type=t,t},g.normalizeScrollLeft=function(n,t){"undefined"!=typeof n.length&&n.length&&(n=n[0]);var i=n.scrollLeft;if(t.isRTL())switch(g.rtlScrollType()){case"default":return n.scrollWidth-i-n.clientWidth;case"negative":return Math.abs(i);case"reverse":return i}return i},g.denormalizeScrollLeft=function(n,t,i){if("undefined"!=typeof n.length&&n.length&&(n=n[0]),i.isRTL())switch(g.rtlScrollType()){case"default":var r=n.scrollWidth-n.clientWidth;return r-t;case"negative":return-1*t;case"reverse":return t}return t},g.preEval=function(n){var t=d.BRACKET_REGEXP.exec(n),i,r;return t?(t[1]?g.preEval(t[1]):t[1])+t[2]+(t[3]?g.preEval(t[3]):t[3]):(n=n.replace(d.APOS_REGEXP,"\\'"),i=n.split(d.DOT_REGEXP),r=[i.shift()],angular.forEach(i,function(n){r.push(n.replace(d.FUNC_REGEXP,"']$1"))}),r.join("['"))},g.debounce=function(n,t,i){function o(){f=this;u=arguments;var o=function(){r=null;i||(e=n.apply(f,u))},s=i&&!r;return r&&y.cancel(r),r=y(o,t,!1),s&&(e=n.apply(f,u)),e}var r,u,f,e;return o.cancel=function(){y.cancel(r);r=null},o},g.throttle=function(n,t,i){function u(){o=+new Date;n.apply(f,e);p(function(){r=null},0,1,!1)}i=i||{};var f,e,o=0,r=null;return function(){if(f=this,e=arguments,null===r){var n=+new Date-o;n>t?u():i.trailing&&(r=p(u,t-n,1,!1))}}},g.on={},g.off={},g._events={},g.addOff=function(n){g.off[n]=function(t,i){var r=g._events[n].indexOf(i);r>0&&g._events[n].removeAt(r)}},tt="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],g.on.mousewheel=function(n,t){var i,r,u;if(n&&t){for(i=angular.element(n),i.data("mousewheel-line-height",o(i)),i.data("mousewheel-page-height",g.elementHeight(i)),i.data("mousewheel-callbacks")||i.data("mousewheel-callbacks",{}),r=i.data("mousewheel-callbacks"),r[t]=(Function.prototype.bind||f).call(ut,i[0],t),u=tt.length;u;)i.on(tt[--u],r[t]);i.on("$destroy",function(){for(var n=tt.length;n;)i.off(tt[--n],r[t])})}},g.off.mousewheel=function(n,t){var i=angular.element(n),r=i.data("mousewheel-callbacks"),f=r[t],u;if(f)for(u=tt.length;u;)i.off(tt[--u],f);delete r[t];0===Object.keys(r).length&&(i.removeData("mousewheel-line-height"),i.removeData("mousewheel-page-height"),i.removeData("mousewheel-callbacks"))},g}]);e.filter("px",function(){return function(n){return n.match(/^[\d\.]+$/)?n+"px":n}})}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("bg",{headerCell:{aria:{defaultFilterLabel:"Филттър за колоната",removeFilter:"Премахни филтър",columnMenuButtonLabel:"Меню на колоната"},priority:"Приоритет:",filterLabel:"Филтър за колоната: "},aggregate:{label:"обекти"},search:{placeholder:"Търсене...",showingItems:"Показани обекти:",selectedItems:"избрани обекти:",totalItems:"Общо:",size:"Размер на страницата:",first:"Първа страница",next:"Следваща страница",previous:"Предишна страница",last:"Последна страница"},menu:{text:"Избери колони:"},sort:{ascending:"Сортиране по възходящ ред",descending:"Сортиране по низходящ ред",none:"Без сортиране",remove:"Премахни сортирането"},column:{hide:"Скрий колоната"},aggregation:{count:"Общо редове: ",sum:"общо: ",avg:"средно: ",min:"най-малко: ",max:"най-много: "},pinning:{pinLeft:"Прикрепи вляво",pinRight:"Прикрепи вдясно",unpin:"Премахване"},columnMenu:{close:"Затвори"},gridMenu:{aria:{buttonLabel:"Меню на таблицата"},columns:"Колони:",importerTitle:"Импортиране на файл",exporterAllAsCsv:"Експортиране на данните като csv",exporterVisibleAsCsv:"Експортиране на видимите данни като csv",exporterSelectedAsCsv:"Експортиране на избраните данни като csv",exporterAllAsPdf:"Експортиране на данните като pdf",exporterVisibleAsPdf:"Експортиране на видимите данни като pdf",exporterSelectedAsPdf:"Експортиране на избраните данни като pdf",clearAllFilters:"Премахни всички филтри"},importer:{noHeaders:"Имената на колоните не успяха да бъдат извлечени, файлът има ли хедър?",noObjects:"Обектите не успяха да бъдат извлечени, файлът съдържа ли данни, различни от хедър?",invalidCsv:"Файлът не може да бъде обработеб, уверете се, че е валиден CSV файл",invalidJson:"Файлът не може да бъде обработеб, уверете се, че е валиден JSON файл",jsonNotArray:"Импортираният JSON файл трябва да съдържа масив, прекратяване."},pagination:{aria:{pageToFirst:"Към първа страница",pageBack:"Страница назад",pageSelected:"Избрана страница",pageForward:"Страница напред",pageToLast:"Към последна страница"},sizes:"обекта на страница",totalItems:"обекта",through:"до",of:"от"},grouping:{group:"Групиране",ungroup:"Премахване на групирането",aggregate_count:"Сбор: Брой",aggregate_sum:"Сбор: Сума",aggregate_max:"Сбор: Максимум",aggregate_min:"Сбор: Минимум",aggregate_avg:"Сбор: Средно",aggregate_remove:"Сбор: Премахване"},validate:{error:"Грешка:",minLength:"Стойността трябва да съдържа поне THRESHOLD символа.",maxLength:"Стойността не трябва да съдържа повече от THRESHOLD символа.",required:"Необходима е стойност."}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){var t={aggregate:{label:"položky"},groupPanel:{description:"Přesuňte záhlaví zde pro vytvoření skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji položky:",selectedItems:"Vybrané položky:",totalItems:"Celkem položek:",size:"Velikost strany:",first:"První strana",next:"Další strana",previous:"Předchozí strana",last:"Poslední strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seřadit od A-Z",descending:"Seřadit od Z-A",remove:"Odebrat seřazení"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem řádků: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout vlevo",pinRight:"Zamknout vpravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat všechna data do csv",exporterVisibleAsCsv:"Exportovat viditelná data do csv",exporterSelectedAsCsv:"Exportovat vybraná data do csv",exporterAllAsPdf:"Exportovat všechna data do pdf",exporterVisibleAsPdf:"Exportovat viditelná data do pdf",exporterSelectedAsPdf:"Exportovat vybraná data do pdf",clearAllFilters:"Odstranit všechny filtry"},importer:{noHeaders:"Názvy sloupců se nepodařilo získat, obsahuje soubor záhlaví?",noObjects:"Data se nepodařilo zpracovat, obsahuje soubor řádky mimo záhlaví?",invalidCsv:"Soubor nelze zpracovat, jedná se o CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor musí obsahovat json. Ukončuji.."},pagination:{sizes:"položek na stránku",totalItems:"položek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupení",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return n.add("cs",t),n.add("cz",t),n.add("cs-cz",t),n.add("cs-CZ",t),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},sort:{ascending:"Sorter stigende",descending:"Sorter faldende",none:"Sorter ingen",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antal rækker: ",sum:"sum: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter markerede data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter markerede data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Gå til første",pageBack:"Gå tilbage",pageSelected:"Valgte side",pageForward:"Gå frem",pageToLast:"Gå til sidste"},sizes:"genstande per side",totalItems:"genstande",through:"gennem",of:"af"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("de",{headerCell:{aria:{defaultFilterLabel:"Filter für Spalte",removeFilter:"Filter löschen",columnMenuButtonLabel:"Spaltenmenü"},priority:"Priorität:",filterLabel:"Filter für Spalte: "},aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",none:"keine Sortierung",remove:"Sortierung zurücksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lösen"},columnMenu:{close:"Schließen"},gridMenu:{aria:{buttonLabel:"Tabellenmenü"},columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als PDF exportieren",clearAllFilters:"Alle Filter zurücksetzen"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei außer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gültige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthält sie gültiges JSON?",jsonNotArray:"Die importierte JSON-Datei muß ein Array enthalten. Breche Import ab."},pagination:{aria:{pageToFirst:"Zum Anfang",pageBack:"Seite zurück",pageSelected:"Ausgwählte Seite",pageForward:"Seite vor",pageToLast:"Zum Ende"},sizes:"Einträge pro Seite",totalItems:"Einträge",through:"bis",of:"von"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("en",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"},validate:{error:"Error:",minLength:"Value should be at least THRESHOLD characters long.",maxLength:"Value should be at most THRESHOLD characters long.",required:"A value is needed."}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y suéltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrados:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijación"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selección como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selección como pdf",clearAllFilters:"Limpiar todos los filtros"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, ¿tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, ¿contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, ¿es un CSV válido?",invalidJson:"No fue posible procesar el archivo, ¿es un Json válido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."},pagination:{sizes:"registros por página",totalItems:"registros",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Cont",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Máx",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Prom",aggregate_remove:"Agr: Quitar"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("fa",{aggregate:{label:"قلم"},groupPanel:{description:"عنوان یک ستون را بگیر و به گروهی از آن ستون رها کن."},search:{placeholder:"جستجو...",showingItems:"نمایش اقلام:",selectedItems:"قلم‌های انتخاب شده:",totalItems:"مجموع اقلام:",size:"اندازه‌ی صفحه:",first:"اولین صفحه",next:"صفحه‌ی‌بعدی",previous:"صفحه‌ی‌ قبلی",last:"آخرین صفحه"},menu:{text:"ستون‌های انتخابی:"},sort:{ascending:"ترتیب صعودی",descending:"ترتیب نزولی",remove:"حذف مرتب کردن"},column:{hide:"پنهان‌کردن ستون"},aggregation:{count:"تعداد: ",sum:"مجموع: ",avg:"میانگین: ",min:"کمترین: ",max:"بیشترین: "},pinning:{pinLeft:"پین کردن سمت چپ",pinRight:"پین کردن سمت راست",unpin:"حذف پین"},gridMenu:{columns:"ستون‌ها:",importerTitle:"وارد کردن فایل",exporterAllAsCsv:"خروجی تمام داده‌ها در فایل csv",exporterVisibleAsCsv:"خروجی داده‌های قابل مشاهده در فایل csv",exporterSelectedAsCsv:"خروجی داده‌های انتخاب‌شده در فایل csv",exporterAllAsPdf:"خروجی تمام داده‌ها در فایل pdf",exporterVisibleAsPdf:"خروجی داده‌های قابل مشاهده در فایل pdf",exporterSelectedAsPdf:"خروجی داده‌های انتخاب‌شده در فایل pdf",clearAllFilters:"پاک کردن تمام فیلتر"},importer:{noHeaders:"نام ستون قابل استخراج نیست. آیا فایل عنوان دارد؟",noObjects:"اشیا قابل استخراج نیستند. آیا به جز عنوان‌ها در فایل داده وجود دارد؟",invalidCsv:"فایل قابل پردازش نیست. آیا فرمت  csv  معتبر است؟",invalidJson:"فایل قابل پردازش نیست. آیا فرمت json   معتبر است؟",jsonNotArray:"فایل json وارد شده باید حاوی آرایه باشد. عملیات ساقط شد."},pagination:{sizes:"اقلام در هر صفحه",totalItems:"اقلام",of:"از"},grouping:{group:"گروه‌بندی",ungroup:"حذف گروه‌بندی",aggregate_count:"Agg: تعداد",aggregate_sum:"Agg: جمع",aggregate_max:"Agg: بیشینه",aggregate_min:"Agg: کمینه",aggregate_avg:"Agg: میانگین",aggregate_remove:"Agg: حذف"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko tähän ryhmittääksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Näytetään rivejä:",selectedItems:"Valitut rivit:",totalItems:"Rivejä yht.:",size:"Näytä:",first:"Ensimmäinen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Järjestä nouseva",descending:"Järjestä laskeva",remove:"Poista järjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivejä yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie näkyvä tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie näkyvä tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa",clearAllFilters:"Puhdista kaikki suodattimet"},importer:{noHeaders:"Sarakkeen nimiä ei voitu päätellä, onko tiedostossa otsikkoriviä?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu käsitellä, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu käsitellä, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisältänyt taulukkoa, lopetetaan."}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("fr",{headerCell:{aria:{defaultFilterLabel:"Filtre de la colonne",removeFilter:"Supprimer le filtre",columnMenuButtonLabel:"Menu de la colonne"},priority:"Priorité:",filterLabel:"Filtre de la colonne: "},aggregate:{label:"éléments"},groupPanel:{description:"Faites glisser une en-tête de colonne ici pour créer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des éléments :",selectedItems:"Éléments sélectionnés :",totalItems:"Nombre total d'éléments:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre décroissant",none:"Aucun tri",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Épingler à gauche",pinRight:"Épingler à droite",unpin:"Détacher"},columnMenu:{close:"Fermer"},gridMenu:{aria:{buttonLabel:"Menu du tableau"},columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les données en CSV",exporterVisibleAsCsv:"Exporter les données visibles en CSV",exporterSelectedAsCsv:"Exporter les données sélectionnées en CSV",exporterAllAsPdf:"Exporter toutes les données en PDF",exporterVisibleAsPdf:"Exporter les données visibles en PDF",exporterSelectedAsPdf:"Exporter les données sélectionnées en PDF",clearAllFilters:"Nettoyez tous les filtres"},importer:{noHeaders:"Impossible de déterminer le nom des colonnes, le fichier possède-t-il une en-tête ?",noObjects:"Aucun objet trouvé, le fichier possède-t-il des données autres que l'en-tête ?",invalidCsv:"Le fichier n'a pas pu être traité, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu être traité, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON importé doit contenir un tableau, abandon."},pagination:{aria:{pageToFirst:"Aller à la première page",pageBack:"Page précédente",pageSelected:"Page sélectionnée",pageForward:"Page suivante",pageToLast:"Aller à la dernière page"},sizes:"éléments par page",totalItems:"éléments",through:"à",of:"sur"},grouping:{group:"Grouper",ungroup:"Dégrouper",aggregate_count:"Agg: Compter",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"},validate:{error:"Erreur:",minLength:"La valeur doit être supérieure ou égale à THRESHOLD caractères.",maxLength:"La valeur doit être inférieure ou égale à THRESHOLD caractères.",required:"Une valeur est nécéssaire."}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clean all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("hy",{aggregate:{label:"տվյալներ"},groupPanel:{description:"Ըստ սյան խմբավորելու համար քաշեք և գցեք վերնագիրն այստեղ։"},search:{placeholder:"Փնտրում...",showingItems:"Ցուցադրված տվյալներ՝",selectedItems:"Ընտրված:",totalItems:"Ընդամենը՝",size:"Տողերի քանակը էջում՝",first:"Առաջին էջ",next:"Հաջորդ էջ",previous:"Նախորդ էջ",last:"Վերջին էջ"},menu:{text:"Ընտրել սյուները:"},sort:{ascending:"Աճման կարգով",descending:"Նվազման կարգով",remove:"Հանել "},column:{hide:"Թաքցնել սյունը"},aggregation:{count:"ընդամենը տող՝ ",sum:"ընդամենը՝ ",avg:"միջին՝ ",min:"մին՝ ",max:"մաքս՝ "},pinning:{pinLeft:"Կպցնել ձախ կողմում",pinRight:"Կպցնել աջ կողմում",unpin:"Արձակել"},gridMenu:{columns:"Սյուներ:",importerTitle:"Ներմուծել ֆայլ",exporterAllAsCsv:"Արտահանել ամբողջը CSV",exporterVisibleAsCsv:"Արտահանել երևացող տվյալները CSV",exporterSelectedAsCsv:"Արտահանել ընտրված տվյալները CSV",exporterAllAsPdf:"Արտահանել PDF",exporterVisibleAsPdf:"Արտահանել երևացող տվյալները PDF",exporterSelectedAsPdf:"Արտահանել ընտրված տվյալները PDF",clearAllFilters:"Մաքրել բոլոր ֆիլտրերը"},importer:{noHeaders:"Հնարավոր չեղավ որոշել սյան վերնագրերը։ Արդյո՞ք ֆայլը ունի վերնագրեր։",noObjects:"Հնարավոր չեղավ կարդալ տվյալները։ Արդյո՞ք ֆայլում կան տվյալներ։",invalidCsv:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր CSV է։",invalidJson:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր Json է։",jsonNotArray:"Ներմուծված json ֆայլը պետք է պարունակի զանգված, կասեցվում է։"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("is",{headerCell:{aria:{defaultFilterLabel:"Sía fyrir dálk",removeFilter:"Fjarlægja síu",columnMenuButtonLabel:"Dálkavalmynd"},priority:"Forgangsröðun:",filterLabel:"Sía fyrir dálka: "},aggregate:{label:"hlutir"},groupPanel:{description:"Dragðu dálkhaus hingað til að flokka saman eftir þeim dálki."},search:{placeholder:"Leita...",showingItems:"Sýni hluti:",selectedItems:"Valdir hlutir:",totalItems:"Hlutir alls:",size:"Stærð síðu:",first:"Fyrsta síða",next:"Næsta síða",previous:"Fyrri síða",last:"Síðasta síða"},menu:{text:"Veldu dálka:"},sort:{ascending:"Raða hækkandi",descending:"Raða lækkandi",none:"Engin röðun",remove:"Fjarlægja röðun"},column:{hide:"Fela dálk"},aggregation:{count:"fjöldi raða: ",sum:"summa: ",avg:"meðaltal: ",min:"lágmark: ",max:"hámark: "},pinning:{pinLeft:"Festa til vinstri",pinRight:"Festa til hægri",unpin:"Losa"},columnMenu:{close:"Loka"},gridMenu:{aria:{buttonLabel:"Töflu valmynd"},columns:"Dálkar:",importerTitle:"Flytja inn skjal",exporterAllAsCsv:"Flytja út gögn sem csv",exporterVisibleAsCsv:"Flytja út sýnileg gögn sem csv",exporterSelectedAsCsv:"Flytja út valin gögn sem csv",exporterAllAsPdf:"Flytja út öll gögn sem pdf",exporterVisibleAsPdf:"Flytja út sýnileg gögn sem pdf",exporterSelectedAsPdf:"Flytja út valin gögn sem pdf",clearAllFilters:"Hreinsa allar síur"},importer:{noHeaders:"Ekki hægt að vinna dálkanöfn úr skjalinu, er skjalið örugglega með haus?",noObjects:"Ekki hægt að vinna hluti úr skjalinu, voru örugglega gögn í skjalinu önnur en hausinn?",invalidCsv:"Tókst ekki að vinna skjal, er það örggulega gilt CSV?",invalidJson:"Tókst ekki að vinna skjal, er það örugglega gilt Json?",jsonNotArray:"Innflutt json skjal verður að innihalda fylki, hætti við."},pagination:{aria:{pageToFirst:"Fletta að fyrstu",pageBack:"Fletta til baka",pageSelected:"Valin síða",pageForward:"Fletta áfram",pageToLast:"Fletta að síðustu"},sizes:"hlutir á síðu",totalItems:"hlutir",through:"gegnum",of:"af"},grouping:{group:"Flokka",ungroup:"Sundurliða",aggregate_count:"Fjöldi: ",aggregate_sum:"Summa: ",aggregate_max:"Hámark: ",aggregate_min:"Lágmark: ",aggregate_avg:"Meðaltal: ",aggregate_remove:"Fjarlægja: "},validate:{error:"Villa:",minLength:"Gildi ætti að vera a.m.k. THRESHOLD stafa langt.",maxLength:"Gildi ætti að vera í mesta lagi THRESHOLD stafa langt.",required:"Þarf að hafa gildi."}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF",clearAllFilters:"Pulire tutti i filtri"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},pagination:{aria:{pageToFirst:"Prima",pageBack:"Indietro",pageSelected:"Pagina selezionata",pageForward:"Avanti",pageToLast:"Ultima"},sizes:"elementi per pagina",totalItems:"elementi",through:"a",of:"di"},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"},validate:{error:"Errore:",minLength:"Lunghezza minima pari a THRESHOLD caratteri.",maxLength:"Lunghezza massima pari a THRESHOLD caratteri.",required:"Necessario inserire un valore."}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("ja",{headerCell:{aria:{defaultFilterLabel:"列のフィルター",removeFilter:"フィルターの解除",columnMenuButtonLabel:"列のメニュー"},priority:"優先度:",filterLabel:"列フィルター: "},aggregate:{label:"項目"},groupPanel:{description:"ここに列ヘッダをドラッグアンドドロップして、その列でグループ化します。"},search:{placeholder:"検索...",showingItems:"表示中の項目:",selectedItems:"選択した項目:",totalItems:"項目の総数:",size:"ページサイズ:",first:"最初のページ",next:"次のページ",previous:"前のページ",last:"前のページ"},menu:{text:"列の選択:"},sort:{ascending:"昇順に並べ替え",descending:"降順に並べ替え",none:"並べ替え無し",remove:"並べ替えの解除"},column:{hide:"列の非表示"},aggregation:{count:"行数: ",sum:"合計: ",avg:"平均: ",min:"最小: ",max:"最大: "},pinning:{pinLeft:"左に固定",pinRight:"右に固定",unpin:"固定解除"},columnMenu:{close:"閉じる"},gridMenu:{aria:{buttonLabel:"グリッドメニュー"},columns:"列の表示/非表示:",importerTitle:"ファイルのインポート",exporterAllAsCsv:"すべてのデータをCSV形式でエクスポート",exporterVisibleAsCsv:"表示中のデータをCSV形式でエクスポート",exporterSelectedAsCsv:"選択したデータをCSV形式でエクスポート",exporterAllAsPdf:"すべてのデータをPDF形式でエクスポート",exporterVisibleAsPdf:"表示中のデータをPDF形式でエクスポート",exporterSelectedAsPdf:"選択したデータをPDF形式でエクスポート",clearAllFilters:"すべてのフィルタをクリア"},importer:{noHeaders:"列名を取得できません。ファイルにヘッダが含まれていることを確認してください。",noObjects:"オブジェクトを取得できません。ファイルにヘッダ以外のデータが含まれていることを確認してください。",invalidCsv:"ファイルを処理できません。ファイルが有効なCSV形式であることを確認してください。",invalidJson:"ファイルを処理できません。ファイルが有効なJSON形式であることを確認してください。",jsonNotArray:"インポートしたJSONファイルには配列が含まれている必要があります。処理を中止します。"},pagination:{aria:{pageToFirst:"最初のページ",pageBack:"前のページ",pageSelected:"現在のページ",pageForward:"次のページ",pageToLast:"最後のページ"},sizes:"項目/ページ",totalItems:"項目",through:"から",of:"項目/全"},grouping:{group:"グループ化",ungroup:"グループ化の解除",aggregate_count:"集計表示: 行数",aggregate_sum:"集計表示: 合計",aggregate_max:"集計表示: 最大",aggregate_min:"集計表示: 最小",aggregate_avg:"集計表示: 平均",aggregate_remove:"集計表示: 解除"},validate:{error:"Error:",minLength:"THRESHOLD 文字以上で入力してください。",maxLength:"THRESHOLD 文字以下で入力してください。",required:"値が必要です。"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("ko",{aggregate:{label:"아이템"},groupPanel:{description:"컬럼으로 그룹핑하기 위해서는 컬럼 헤더를 끌어 떨어뜨려 주세요."},search:{placeholder:"검색...",showingItems:"항목 보여주기:",selectedItems:"선택 항목:",totalItems:"전체 항목:",size:"페이지 크기:",first:"첫번째 페이지",next:"다음 페이지",previous:"이전 페이지",last:"마지막 페이지"},menu:{text:"컬럼을 선택하세요:"},sort:{ascending:"오름차순 정렬",descending:"내림차순 정렬",remove:"소팅 제거"},column:{hide:"컬럼 제거"},aggregation:{count:"전체 갯수: ",sum:"전체: ",avg:"평균: ",min:"최소: ",max:"최대: "},pinning:{pinLeft:"왼쪽 핀",pinRight:"오른쪽 핀",unpin:"핀 제거"},gridMenu:{columns:"컬럼:",importerTitle:"파일 가져오기",exporterAllAsCsv:"csv로 모든 데이터 내보내기",exporterVisibleAsCsv:"csv로 보이는 데이터 내보내기",exporterSelectedAsCsv:"csv로 선택된 데이터 내보내기",exporterAllAsPdf:"pdf로 모든 데이터 내보내기",exporterVisibleAsPdf:"pdf로 보이는 데이터 내보내기",exporterSelectedAsPdf:"pdf로 선택 데이터 내보내기",clearAllFilters:"모든 필터를 청소"},importer:{noHeaders:"컬럼명이 지정되어 있지 않습니다. 파일에 헤더가 명시되어 있는지 확인해 주세요.",noObjects:"데이터가 지정되어 있지 않습니다. 데이터가 파일에 있는지 확인해 주세요.",invalidCsv:"파일을 처리할 수 없습니다. 올바른 csv인지 확인해 주세요.",invalidJson:"파일을 처리할 수 없습니다. 올바른 json인지 확인해 주세요.",jsonNotArray:"json 파일은 배열을 포함해야 합니다."},pagination:{sizes:"페이지당 항목",totalItems:"전체 항목"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf",clearAllFilters:"Reinig alle filters"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items",of:"van de"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("no",{headerCell:{aria:{defaultFilterLabel:"Filter for kolonne",removeFilter:"Fjern filter",columnMenuButtonLabel:"Kolonnemeny"},priority:"Prioritet:",filterLabel:"Filter for kolonne: "},aggregate:{label:"elementer"},groupPanel:{description:"Trekk en kolonneoverskrift hit og slipp den for å gruppere etter den kolonnen."},search:{placeholder:"Søk...",showingItems:"Viste elementer:",selectedItems:"Valgte elementer:",totalItems:"Antall elementer:",size:"Sidestørrelse:",first:"Første side",next:"Neste side",previous:"Forrige side",last:"Siste side"},menu:{text:"Velg kolonner:"},sort:{ascending:"Sortere stigende",descending:"Sortere fallende",none:"Ingen sortering",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antall rader: ",sum:"total: ",avg:"gjennomsnitt: ",min:"minimum: ",max:"maksimum: "},pinning:{pinLeft:"Fest til venstre",pinRight:"Fest til høyre",unpin:"Løsne"},columnMenu:{close:"Lukk"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter utvalgte data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter utvalgte data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Kolonnenavn kunne ikke avledes. Har filen en overskrift?",noObjects:"Objekter kunne ikke avledes. Er der andre data i filen enn overskriften?",invalidCsv:"Filen kunne ikke behandles. Er den gyldig CSV?",invalidJson:"Filen kunne ikke behandles. Er den gyldig JSON?",jsonNotArray:"Importert JSON-fil må inneholde en liste. Avbryter."},pagination:{aria:{pageToFirst:"Gå til første side",pageBack:"Gå til forrige side",pageSelected:"Valgte side",pageForward:"Gå til neste side",pageToLast:"Gå til siste side"},sizes:"elementer per side",totalItems:"elementer",through:"til",of:"av"},grouping:{group:"Gruppere",ungroup:"Fjerne gruppering",aggregate_count:"Agr: Antall",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Maksimum",aggregate_min:"Agr: Minimum",aggregate_avg:"Agr: Gjennomsnitt",aggregate_remove:"Agr: Fjern"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("pl",{headerCell:{aria:{defaultFilterLabel:"Filtr dla kolumny",removeFilter:"Usuń filtr",columnMenuButtonLabel:"Menu kolumny"},priority:"Prioritet:",filterLabel:"Filtr dla kolumny: "},aggregate:{label:"pozycji"},groupPanel:{description:"Przeciągnij nagłówek kolumny tutaj, aby pogrupować według niej."},search:{placeholder:"Szukaj...",showingItems:"Widoczne pozycje:",selectedItems:"Zaznaczone pozycje:",totalItems:"Wszystkich pozycji:",size:"Rozmiar strony:",first:"Pierwsza strona",next:"Następna strona",previous:"Poprzednia strona",last:"Ostatnia strona"},menu:{text:"Wybierz kolumny:"},sort:{ascending:"Sortuj rosnąco",descending:"Sortuj malejąco",none:"Brak sortowania",remove:"Wyłącz sortowanie"},column:{hide:"Ukryj kolumnę"},aggregation:{count:"Razem pozycji: ",sum:"Razem: ",avg:"Średnia: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Przypnij do lewej",pinRight:"Przypnij do prawej",unpin:"Odepnij"},columnMenu:{close:"Zamknij"},gridMenu:{aria:{buttonLabel:"Opcje tabeli"},columns:"Kolumny:",importerTitle:"Importuj plik",exporterAllAsCsv:"Eksportuj wszystkie dane do csv",exporterVisibleAsCsv:"Eksportuj widoczne dane do csv",exporterSelectedAsCsv:"Eksportuj zaznaczone dane do csv",exporterAllAsPdf:"Eksportuj wszystkie dane do pdf",exporterVisibleAsPdf:"Eksportuj widoczne dane do pdf",exporterSelectedAsPdf:"Eksportuj zaznaczone dane do pdf",clearAllFilters:"Wyczyść filtry"},importer:{noHeaders:"Nie udało się wczytać nazw kolumn. Czy plik posiada nagłówek?",noObjects:"Nie udalo się wczytać pozycji. Czy plik zawiera dane??",invalidCsv:"Nie udało się przetworzyć pliku, jest to prawidlowy plik CSV??",invalidJson:"Nie udało się przetworzyć pliku, jest to prawidlowy plik Json?",jsonNotArray:"Importowany plik json musi zawierać tablicę, importowanie przerwane."},pagination:{aria:{pageToFirst:"Pierwsza strona",pageBack:"Poprzednia strona",pageSelected:"Wybrana strona",pageForward:"Następna strona",pageToLast:"Ostatnia strona"},sizes:"pozycji na stronę",totalItems:"pozycji",through:"do",of:"z"},grouping:{group:"Grupuj",ungroup:"Rozgrupuj",aggregate_count:"Zbiorczo: Razem",aggregate_sum:"Zbiorczo: Suma",aggregate_max:"Zbiorczo: Max",aggregate_min:"Zbiorczo: Min",aggregate_avg:"Zbiorczo: Średnia",aggregate_remove:"Zbiorczo: Usuń"},validate:{error:"Błąd:",minLength:"Wartość powinna składać się z co najmniej THRESHOLD znaków.",maxLength:"Wartość powinna składać się z przynajmniej THRESHOLD znaków.",required:"Wartość jest wymagana."}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("pt-br",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O arquivo tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no arquivo, além dos cabeçalhos?",invalidCsv:"Arquivo não pode ser processado. É um CSV válido?",invalidJson:"Arquivo não pode ser processado. É um Json válido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{aria:{pageToFirst:"Primeira página",pageBack:"Página anterior",pageSelected:"Página Selecionada",pageForward:"Proxima",pageToLast:"Anterior"},sizes:"itens por página",totalItems:"itens",through:"através dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("pt",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O ficheiro tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no ficheiro, além dos cabeçalhos?",invalidCsv:"Ficheiro não pode ser processado. É um CSV válido?",invalidJson:"Ficheiro não pode ser processado. É um Json válido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{aria:{pageToFirst:"Primeira página",pageBack:"Página anterior",pageSelected:"Página Selecionada",pageForward:"Próxima",pageToLast:"Anterior"},sizes:"itens por página",totalItems:"itens",through:"a",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("ro",{headerCell:{aria:{defaultFilterLabel:"Filtru pentru coloana",removeFilter:"Sterge filtru",columnMenuButtonLabel:"Column Menu"},priority:"Prioritate:",filterLabel:"Filtru pentru coloana:"},aggregate:{label:"Elemente"},groupPanel:{description:"Trage un cap de coloana aici pentru a grupa elementele dupa coloana respectiva"},search:{placeholder:"Cauta...",showingItems:"Arata elementele:",selectedItems:"Elementele selectate:",totalItems:"Total elemente:",size:"Marime pagina:",first:"Prima pagina",next:"Pagina urmatoare",previous:"Pagina anterioara",last:"Ultima pagina"},menu:{text:"Alege coloane:"},sort:{ascending:"Ordoneaza crescator",descending:"Ordoneaza descrescator",none:"Fara ordonare",remove:"Sterge ordonarea"},column:{hide:"Ascunde coloana"},aggregation:{count:"total linii: ",sum:"total: ",avg:"medie: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin la stanga",pinRight:"Pin la dreapta",unpin:"Sterge pinul"},columnMenu:{close:"Inchide"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Coloane:",importerTitle:"Incarca fisier",exporterAllAsCsv:"Exporta toate datele ca csv",exporterVisibleAsCsv:"Exporta datele vizibile ca csv",exporterSelectedAsCsv:"Exporta datele selectate ca csv",exporterAllAsPdf:"Exporta toate datele ca pdf",exporterVisibleAsPdf:"Exporta datele vizibile ca pdf",exporterSelectedAsPdf:"Exporta datele selectate ca csv pdf",clearAllFilters:"Sterge toate filtrele"},importer:{noHeaders:"Numele coloanelor nu a putut fi incarcat, acest fisier are un header?",noObjects:"Datele nu au putut fi incarcate, exista date in fisier in afara numelor de coloane?",invalidCsv:"Fisierul nu a putut fi procesat, ati incarcat un CSV valid ?",invalidJson:"Fisierul nu a putut fi procesat, ati incarcat un Json valid?",jsonNotArray:"Json-ul incarcat trebuie sa contina un array, inchidere."},pagination:{aria:{pageToFirst:"Prima pagina",pageBack:"O pagina inapoi",pageSelected:"Pagina selectata",pageForward:"O pagina inainte",pageToLast:"Ultima pagina"},sizes:"Elemente per pagina",totalItems:"elemente",through:"prin",of:"of"},grouping:{group:"Grupeaza",ungroup:"Opreste gruparea",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("ru",{headerCell:{aria:{defaultFilterLabel:"Фильтр столбца",removeFilter:"Удалить фильтр",columnMenuButtonLabel:"Меню столбца"},priority:"Приоритет:",filterLabel:"Фильтр столбца: "},aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",none:"Без сортировки",remove:"Убрать сортировку"},column:{hide:"Спрятать столбец"},aggregation:{count:"всего строк: ",sum:"итого: ",avg:"среднее: ",min:"мин: ",max:"макс: "},pinning:{pinLeft:"Закрепить слева",pinRight:"Закрепить справа",unpin:"Открепить"},columnMenu:{close:"Закрыть"},gridMenu:{aria:{buttonLabel:"Меню"},columns:"Столбцы:",importerTitle:"Импортировать файл",exporterAllAsCsv:"Экспортировать всё в CSV",exporterVisibleAsCsv:"Экспортировать видимые данные в CSV",exporterSelectedAsCsv:"Экспортировать выбранные данные в CSV",exporterAllAsPdf:"Экспортировать всё в PDF",exporterVisibleAsPdf:"Экспортировать видимые данные в PDF",exporterSelectedAsPdf:"Экспортировать выбранные данные в PDF",clearAllFilters:"Очистите все фильтры"},importer:{noHeaders:"Не удалось получить названия столбцов, есть ли в файле заголовок?",noObjects:"Не удалось получить данные, есть ли в файле строки кроме заголовка?",invalidCsv:"Не удалось обработать файл, это правильный CSV-файл?",invalidJson:"Не удалось обработать файл, это правильный JSON?",jsonNotArray:"Импортируемый JSON-файл должен содержать массив, операция отменена."},pagination:{aria:{pageToFirst:"Первая страница",pageBack:"Предыдущая страница",pageSelected:"Выбранная страница",pageForward:"Следующая страница",pageToLast:"Последняя страница"},sizes:"строк на страницу",totalItems:"строк",through:"по",of:"из"},grouping:{group:"Группировать",ungroup:"Разгруппировать",aggregate_count:"Группировать: Count",aggregate_sum:"Для группы: Сумма",aggregate_max:"Для группы: Максимум",aggregate_min:"Для группы: Минимум",aggregate_avg:"Для группы: Среднее",aggregate_remove:"Для группы: Пусто"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF",clearAllFilters:"Rengör alla filter"},importer:{noHeaders:"Kolumnnamn kunde inte härledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte härledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, är den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, är den en giltig JSON?",jsonNotArray:"Importerad JSON-fil måste innehålla ett fält. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("ta",{aggregate:{label:"உருப்படிகள்"},groupPanel:{description:"ஒரு பத்தியை குழுவாக அமைக்க அப்பத்தியின் தலைப்பை இங்கே  இழுத்து வரவும் "},search:{placeholder:"தேடல் ...",showingItems:"உருப்படிகளை காண்பித்தல்:",selectedItems:"தேர்ந்தெடுக்கப்பட்ட  உருப்படிகள்:",totalItems:"மொத்த உருப்படிகள்:",size:"பக்க அளவு: ",first:"முதல் பக்கம்",next:"அடுத்த பக்கம்",previous:"முந்தைய பக்கம் ",last:"இறுதி பக்கம்"},menu:{text:"பத்திகளை தேர்ந்தெடு:"},sort:{ascending:"மேலிருந்து கீழாக",descending:"கீழிருந்து மேலாக",remove:"வரிசையை நீக்கு"},column:{hide:"பத்தியை மறைத்து வை "},aggregation:{count:"மொத்த வரிகள்:",sum:"மொத்தம்: ",avg:"சராசரி: ",min:"குறைந்தபட்ச: ",max:"அதிகபட்ச: "},pinning:{pinLeft:"இடதுபுறமாக தைக்க ",pinRight:"வலதுபுறமாக தைக்க",unpin:"பிரி"},gridMenu:{columns:"பத்திகள்:",importerTitle:"கோப்பு : படித்தல்",exporterAllAsCsv:"எல்லா தரவுகளையும் கோப்பாக்கு: csv",exporterVisibleAsCsv:"இருக்கும் தரவுகளை கோப்பாக்கு: csv",exporterSelectedAsCsv:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: csv",exporterAllAsPdf:"எல்லா தரவுகளையும் கோப்பாக்கு: pdf",exporterVisibleAsPdf:"இருக்கும் தரவுகளை கோப்பாக்கு: pdf",exporterSelectedAsPdf:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"பத்தியின் தலைப்புகளை பெற இயலவில்லை, கோப்பிற்கு தலைப்பு உள்ளதா?",noObjects:"இலக்குகளை உருவாக்க முடியவில்லை, கோப்பில் தலைப்புகளை தவிர தரவு ஏதேனும் உள்ளதா? ",invalidCsv:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - csv",invalidJson:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - json",jsonNotArray:"படித்த கோப்பில் வரிசைகள் உள்ளது, நடைமுறை ரத்து செய் : json"},pagination:{sizes:"உருப்படிகள் / பக்கம்",totalItems:"உருப்படிகள் "},grouping:{group:"குழு",ungroup:"பிரி",aggregate_count:"மதிப்பீட்டு : எண்ணு",aggregate_sum:"மதிப்பீட்டு : கூட்டல்",aggregate_max:"மதிப்பீட்டு : அதிகபட்சம்",aggregate_min:"மதிப்பீட்டு : குறைந்தபட்சம்",aggregate_avg:"மதிப்பீட்டு : சராசரி",aggregate_remove:"மதிப்பீட்டு : நீக்கு"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("tr",{headerCell:{aria:{defaultFilterLabel:"Sütun için filtre",removeFilter:"Filtreyi Kaldır",columnMenuButtonLabel:"Sütun Menüsü"},priority:"Öncelik:",filterLabel:"Sütun için filtre: "},aggregate:{label:"kayıtlar"},groupPanel:{description:"Sütuna göre gruplamak için sütun başlığını buraya sürükleyin ve bırakın."},search:{placeholder:"Arama...",showingItems:"Gösterilen Kayıt:",selectedItems:"Seçili Kayıt:",totalItems:"Toplam Kayıt:",size:"Sayfa Boyutu:",first:"İlk Sayfa",next:"Sonraki Sayfa",previous:"Önceki Sayfa",last:"Son Sayfa"},menu:{text:"Sütunları Seç:"},sort:{ascending:"Artan Sırada Sırala",descending:"Azalan Sırada Sırala",none:"Sıralama Yapma",remove:"Sıralamayı Kaldır"},column:{hide:"Sütunu Gizle"},aggregation:{count:"toplam satır: ",sum:"toplam: ",avg:"ort: ",min:"min: ",max:"maks: "},pinning:{pinLeft:"Sola Sabitle",pinRight:"Sağa Sabitle",unpin:"Sabitlemeyi Kaldır"},columnMenu:{close:"Kapat"},gridMenu:{aria:{buttonLabel:"Tablo Menü"},columns:"Sütunlar:",importerTitle:"Dosya içeri aktar",exporterAllAsCsv:"Bütün veriyi CSV olarak dışarı aktar",exporterVisibleAsCsv:"Görünen veriyi CSV olarak dışarı aktar",exporterSelectedAsCsv:"Seçili veriyi CSV olarak dışarı aktar",exporterAllAsPdf:"Bütün veriyi PDF olarak dışarı aktar",exporterVisibleAsPdf:"Görünen veriyi PDF olarak dışarı aktar",exporterSelectedAsPdf:"Seçili veriyi PDF olarak dışarı aktar",clearAllFilters:"Bütün filtreleri kaldır"},importer:{noHeaders:"Sütun isimleri üretilemiyor, dosyanın bir başlığı var mı?",noObjects:"Nesneler üretilemiyor, dosyada başlıktan başka bir veri var mı?",invalidCsv:"Dosya işlenemedi, geçerli bir CSV dosyası mı?",invalidJson:"Dosya işlenemedi, geçerli bir Json dosyası mı?",jsonNotArray:"Alınan Json dosyasında bir dizi bulunmalıdır, işlem iptal ediliyor."},pagination:{aria:{pageToFirst:"İlk sayfaya",pageBack:"Geri git",pageSelected:"Seçili sayfa",pageForward:"İleri git",pageToLast:"Sona git"},sizes:"Sayfadaki nesne sayısı",totalItems:"kayıtlar",through:"",of:""},grouping:{group:"Grupla",ungroup:"Gruplama",aggregate_count:"Yekun: Sayı",aggregate_sum:"Yekun: Toplam",aggregate_max:"Yekun: Maks",aggregate_min:"Yekun: Min",aggregate_avg:"Yekun: Ort",aggregate_remove:"Yekun: Sil"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("ua",{headerCell:{aria:{defaultFilterLabel:"Фільтр стовпчика",removeFilter:"Видалити фільтр",columnMenuButtonLabel:"Меню ствпчика"},priority:"Пріоритет:",filterLabel:"Фільтр стовпчика: "},aggregate:{label:"елементи"},groupPanel:{description:"Для групування за стовпчиком перетягніть сюди його назву."},search:{placeholder:"Пошук...",showingItems:"Показати елементи:",selectedItems:"Обрані елементи:",totalItems:"Усього елементів:",size:"Розмір сторінки:",first:"Перша сторінка",next:"Наступна сторінка",previous:"Попередня сторінка",last:"Остання сторінка"},menu:{text:"Обрати ствпчики:"},sort:{ascending:"За зростанням",descending:"За спаданням",none:"Без сортування",remove:"Прибрати сортування"},column:{hide:"Приховати стовпчик"},aggregation:{count:"усього рядків: ",sum:"ітого: ",avg:"середнє: ",min:"мін: ",max:"макс: "},pinning:{pinLeft:"Закріпити ліворуч",pinRight:"Закріпити праворуч",unpin:"Відкріпити"},columnMenu:{close:"Закрити"},gridMenu:{aria:{buttonLabel:"Меню"},columns:"Стовпчики:",importerTitle:"Імпортувати файл",exporterAllAsCsv:"Експортувати все в CSV",exporterVisibleAsCsv:"Експортувати видимі дані в CSV",exporterSelectedAsCsv:"Експортувати обрані дані в CSV",exporterAllAsPdf:"Експортувати все в PDF",exporterVisibleAsPdf:"Експортувати видимі дані в PDF",exporterSelectedAsPdf:"Експортувати обрані дані в PDF",clearAllFilters:"Очистити всі фільтри"},importer:{noHeaders:"Не вдалося отримати назви стовпчиків, чи є в файлі заголовок?",noObjects:"Не вдалося отримати дані, чи є в файлі рядки окрім заголовка?",invalidCsv:"Не вдалося обробити файл, чи це коректний CSV-файл?",invalidJson:"Не вдалося обробити файл, чи це коректний JSON?",jsonNotArray:"JSON-файл що імпортується повинен містити масив, операцію скасовано."},pagination:{aria:{pageToFirst:"Перша сторінка",pageBack:"Попередня сторінка",pageSelected:"Обрана сторінка",pageForward:"Наступна сторінка",pageToLast:"Остання сторінка"},sizes:"рядків на сторінку",totalItems:"рядків",through:"по",of:"з"},grouping:{group:"Групувати",ungroup:"Розгрупувати",aggregate_count:"Групувати: Кількість",aggregate_sum:"Для групи: Сума",aggregate_max:"Для групи: Максимум",aggregate_min:"Для групи: Мінімум",aggregate_avg:"Для групи: Серднє",aggregate_remove:"Для групи: Пусто"}}),n}])}])}(),function(){var t=["uiT","uiTranslate"],n=angular.module("ui.grid.i18n"),i,r,u;n.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"});n.service("i18nService",["$log","i18nConstants","$rootScope",function(n,t,i){var r={_langs:{},current:null,get:function(n){return this._langs[n.toLowerCase()]},add:function(n,t){var i=n.toLowerCase();this._langs[i]||(this._langs[i]={});angular.extend(this._langs[i],t)},getAllLangs:function(){var n=[],t;if(!this._langs)return n;for(t in this._langs)n.push(t);return n},setCurrent:function(n){this.current=n.toLowerCase()},getCurrentLang:function(){return this.current}},u={add:function(n,t){"object"==typeof n?angular.forEach(n,function(n){n&&r.add(n,t)}):r.add(n,t)},getAllLangs:function(){return r.getAllLangs()},get:function(n){var t=n?n:u.getCurrentLang();return r.get(t)},getSafeText:function(n,i){var h=i?i:u.getCurrentLang(),s=r.get(h);if(!s)return t.MISSING;for(var o=n.split("."),f=s,e=0;e<o.length;++e){if(void 0===f[o[e]]||null===f[o[e]])return t.MISSING;f=f[o[e]]}return f},setCurrentLang:function(n){n&&(r.setCurrent(n),i.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var n=r.getCurrentLang();return n||(n=t.DEFAULT_LANG,r.setCurrent(n)),n}};return u}]);i=function(n,t){return{compile:function(){return{pre:function(i,r,u){var f=t.LOCALE_DIRECTIVE_ALIAS,e=i.$eval(u[f]);e?i.$watch(u[f],function(){n.setCurrentLang(e)}):u.$$observers&&u.$observe(f,function(){n.setCurrentLang(u[f]||t.DEFAULT_LANG)})}}}}};n.directive("uiI18n",["i18nService","i18nConstants",i]);r=function(n,i,r){return{restrict:"EA",compile:function(){return{pre:function(u,f,e){var s,o=t[0],h=t[1],a=e[o]||e[h]||f.html(),c=r.MISSING+a,v,l,y;e.$$observers&&(v=e[o]?o:h,s=e.$observe(v,function(t){t&&f.html(n(t)(i.getCurrentLang())||c)}));l=n(a);y=u.$on(r.UPDATE_EVENT,function(){s?s(e[o]||e[h]):f.html(l(i.get())||c)});u.$on("$destroy",y);f.html(l(i.get())||c)}}}}};angular.forEach(t,function(t){n.directive(t,["$parse","i18nService","i18nConstants",r])});u=function(n,t,i){return function(r){var u=n(r);return u(t.get())||i.MISSING+r}};angular.forEach(["t","uiTranslate"],function(t){n.filter(t,["$parse","i18nService","i18nConstants",u])})}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("zh-cn",{headerCell:{aria:{defaultFilterLabel:"列过滤器",removeFilter:"移除过滤器",columnMenuButtonLabel:"列菜单"},priority:"优先级:",filterLabel:"列过滤器: "},aggregate:{label:"行"},groupPanel:{description:"拖曳表头到此处进行分组"},search:{placeholder:"查找",showingItems:"已显示行数：",selectedItems:"已选择行数：",totalItems:"总行数：",size:"每页显示行数：",first:"首页",next:"下一页",previous:"上一页",last:"末页"},menu:{text:"选择列："},sort:{ascending:"升序",descending:"降序",none:"无序",remove:"取消排序"},column:{hide:"隐藏列"},aggregation:{count:"计数：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左侧固定",pinRight:"右侧固定",unpin:"取消固定"},columnMenu:{close:"关闭"},gridMenu:{aria:{buttonLabel:"表格菜单"},columns:"列：",importerTitle:"导入文件",exporterAllAsCsv:"导出全部数据到CSV",exporterVisibleAsCsv:"导出可见数据到CSV",exporterSelectedAsCsv:"导出已选数据到CSV",exporterAllAsPdf:"导出全部数据到PDF",exporterVisibleAsPdf:"导出可见数据到PDF",exporterSelectedAsPdf:"导出已选数据到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"无法获取列名，确定文件包含表头？",noObjects:"无法获取数据，确定文件包含数据？",invalidCsv:"无法处理文件，确定是合法的CSV文件？",invalidJson:"无法处理文件，确定是合法的JSON文件？",jsonNotArray:"导入的文件不是JSON数组！"},pagination:{aria:{pageToFirst:"第一页",pageBack:"上一页",pageSelected:"当前页",pageForward:"下一页",pageToLast:"最后一页"},sizes:"行每页",totalItems:"行",through:"至",of:"共"},grouping:{group:"分组",ungroup:"取消分组",aggregate_count:"合计: 计数",aggregate_sum:"合计: 求和",aggregate_max:"合计: 最大",aggregate_min:"合计: 最小",aggregate_avg:"合计: 平均",aggregate_remove:"合计: 移除"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("zh-tw",{aggregate:{label:"行"},groupPanel:{description:"拖曳表頭到此處進行分組"},search:{placeholder:"查找",showingItems:"已顯示行數：",selectedItems:"已選擇行數：",totalItems:"總行數：",size:"每頁顯示行數：",first:"首頁",next:"下壹頁",previous:"上壹頁",last:"末頁"},menu:{text:"選擇列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隱藏列"},aggregation:{count:"計數：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左側固定",pinRight:"右側固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"導入文件",exporterAllAsCsv:"導出全部數據到CSV",exporterVisibleAsCsv:"導出可見數據到CSV",exporterSelectedAsCsv:"導出已選數據到CSV",exporterAllAsPdf:"導出全部數據到PDF",exporterVisibleAsPdf:"導出可見數據到PDF",exporterSelectedAsPdf:"導出已選數據到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"無法獲取列名，確定文件包含表頭？",noObjects:"無法獲取數據，確定文件包含數據？",invalidCsv:"無法處理文件，確定是合法的CSV文件？",invalidJson:"無法處理文件，確定是合法的JSON文件？",jsonNotArray:"導入的文件不是JSON數組！"},pagination:{sizes:"行每頁",totalItems:"行"}}),n}])}])}(),function(){"use strict";var n=angular.module("ui.grid.autoResize",["ui.grid"]);n.directive("uiGridAutoResize",["$timeout","gridUtil",function(n,t){return{require:"uiGrid",scope:!1,link:function(n,i,r,u){function h(){o=t.elementHeight(i);e=t.elementWidth(i)}function f(){clearTimeout(s);s=setTimeout(function(){var r=t.elementHeight(i),s=t.elementWidth(i);r!==o||s!==e?(u.grid.gridHeight=r,u.grid.gridWidth=s,u.grid.api.core.raise.gridDimensionChanged(o,e,r,s),n.$apply(function(){u.grid.refresh().then(function(){h();f()})})):f()},250)}var e,o,s;h();f();n.$on("$destroy",function(){clearTimeout(s)})}}}])}(),function(){"use strict";var n=angular.module("ui.grid.cellNav",["ui.grid"]);n.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}});n.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","GridRowColumn","$q",function(n,t,i,r){var u=function(n,t,i,r){this.rows=n.visibleRowCache;this.columns=t.visibleColumnCache;this.leftColumns=i?i.visibleColumnCache:[];this.rightColumns=r?r.visibleColumnCache:[];this.bodyContainer=n};return u.prototype.getFocusableCols=function(){var n=this.leftColumns.concat(this.columns,this.rightColumns);return n.filter(function(n){return n.colDef.allowCellFocus})},u.prototype.getFocusableRows=function(){return this.rows.filter(function(n){return n.allowCellFocus!==!1})},u.prototype.getNextRowCol=function(n,t,r){switch(n){case i.direction.LEFT:return this.getRowColLeft(t,r);case i.direction.RIGHT:return this.getRowColRight(t,r);case i.direction.UP:return this.getRowColUp(t,r);case i.direction.DOWN:return this.getRowColDown(t,r);case i.direction.PG_UP:return this.getRowColPageUp(t,r);case i.direction.PG_DOWN:return this.getRowColPageDown(t,r)}},u.prototype.initializeSelection=function(){var n=this.getFocusableCols(),t=this.getFocusableRows();return 0===n.length||0===t.length?null:new r(t[0],n[0])},u.prototype.getRowColLeft=function(n,t){var i=this.getFocusableCols(),e=this.getFocusableRows(),u=i.indexOf(t),o=e.indexOf(n),f;return-1===u&&(u=1),f=0===u?i.length-1:u-1,f>=u?0===o?new r(n,i[f]):new r(e[o-1],i[f]):new r(n,i[f])},u.prototype.getRowColRight=function(n,t){var i=this.getFocusableCols(),e=this.getFocusableRows(),u=i.indexOf(t),o=e.indexOf(n),f;return-1===u&&(u=0),f=u===i.length-1?0:u+1,u>=f?o===e.length-1?new r(n,i[f]):new r(e[o+1],i[f]):new r(n,i[f])},u.prototype.getRowColDown=function(n,t){var u=this.getFocusableCols(),f=this.getFocusableRows(),i=u.indexOf(t),e=f.indexOf(n);return-1===i&&(i=0),e===f.length-1?new r(n,u[i]):new r(f[e+1],u[i])},u.prototype.getRowColPageDown=function(n,t){var f=this.getFocusableCols(),i=this.getFocusableRows(),u=f.indexOf(t),o=i.indexOf(n),e;return-1===u&&(u=0),e=this.bodyContainer.minRowsToRender(),o>=i.length-e?new r(i[i.length-1],f[u]):new r(i[o+e],f[u])},u.prototype.getRowColUp=function(n,t){var u=this.getFocusableCols(),f=this.getFocusableRows(),i=u.indexOf(t),e=f.indexOf(n);return-1===i&&(i=0),0===e?new r(n,u[i]):new r(f[e-1],u[i])},u.prototype.getRowColPageUp=function(n,t){var u=this.getFocusableCols(),f=this.getFocusableRows(),i=u.indexOf(t),o=f.indexOf(n),e;return-1===i&&(i=0),e=this.bodyContainer.minRowsToRender(),0>o-e?new r(f[0],u[i]):new r(f[o-e],u[i])},u}]);n.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","GridRowColumn","ScrollEvent",function(n,t,i,r,u){var f={initializeGrid:function(n){n.registerColumnBuilder(f.cellNavColumnBuilder);n.cellNav={};n.cellNav.lastRowCol=null;n.cellNav.focusedCells=[];f.defaultGridOptions(n.options);var t={events:{cellNav:{navigate:function(){},viewPortKeyDown:function(){},viewPortKeyPress:function(){}}},methods:{cellNav:{scrollToFocus:function(t,i){return f.scrollToFocus(n,t,i)},getFocusedCell:function(){return n.cellNav.lastRowCol},getCurrentSelection:function(){return n.cellNav.focusedCells},rowColSelectIndex:function(t){for(var r=-1,i=0;i<n.cellNav.focusedCells.length;i++)if(n.cellNav.focusedCells[i].col.uid===t.col.uid&&n.cellNav.focusedCells[i].row.uid===t.row.uid){r=i;break}return r}}}};n.api.registerEventsFromObject(t.events);n.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(n){n.modifierKeysToMultiSelectCells=n.modifierKeysToMultiSelectCells===!0;n.keyDownOverrides=n.keyDownOverrides||[]},decorateRenderContainers:function(n){var t=n.hasRightContainer()?n.renderContainers.right:null,i=n.hasLeftContainer()?n.renderContainers.left:null;null!==i&&(n.renderContainers.left.cellNav=new u(n.renderContainers.body,i,t,n.renderContainers.body));null!==t&&(n.renderContainers.right.cellNav=new u(n.renderContainers.body,t,n.renderContainers.body,i));n.renderContainers.body.cellNav=new u(n.renderContainers.body,n.renderContainers.body,i,t)},getDirection:function(n){return n.keyCode===t.keymap.LEFT||n.keyCode===t.keymap.TAB&&n.shiftKey?i.direction.LEFT:n.keyCode===t.keymap.RIGHT||n.keyCode===t.keymap.TAB?i.direction.RIGHT:n.keyCode===t.keymap.UP||n.keyCode===t.keymap.ENTER&&n.shiftKey?i.direction.UP:n.keyCode===t.keymap.PG_UP?i.direction.PG_UP:n.keyCode===t.keymap.DOWN||n.keyCode===t.keymap.ENTER&&!n.ctrlKey&&!n.altKey?i.direction.DOWN:n.keyCode===t.keymap.PG_DOWN?i.direction.PG_DOWN:null},cellNavColumnBuilder:function(n){return n.allowCellFocus=void 0===n.allowCellFocus?!0:n.allowCellFocus,r.all([])},scrollToFocus:function(n,t,i){var r=null,u=null;return"undefined"!=typeof t&&null!==t&&(r=n.getRow(t)),"undefined"!=typeof i&&null!==i&&(u=n.getColumn(i.name?i.name:i.field)),n.api.core.scrollToIfNecessary(r,u).then(function(){var t={row:r,col:u};null!==r&&null!==u&&n.cellNav.broadcastCellNav(t)})},getLeftWidth:function(n,t){var r=0,i,u;return t?(i=n.renderContainers.body.visibleColumnCache.indexOf(t),n.renderContainers.body.visibleColumnCache.forEach(function(n,t){i>t&&(r+=n.drawnWidth)}),u=0===i?0:(i+1)/n.renderContainers.body.visibleColumnCache.length,r+=t.drawnWidth*u):r}};return f}]);n.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","GridRowColumn","$timeout","$compile",function(n,t,i,r,u,f,e){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(n,f,e,o){var h=n,s=o.grid;t.initializeGrid(s);o.cellNav={};o.cellNav.makeRowCol=function(n){return n instanceof u||(n=new u(n.row,n.col)),n};o.cellNav.getActiveCell=function(){var n=f[0].getElementsByClassName("ui-grid-cell-focus");if(n.length>0)return n[0]};o.cellNav.broadcastCellNav=s.cellNav.broadcastCellNav=function(n,t,r){t=!(void 0===t||!t);n=o.cellNav.makeRowCol(n);o.cellNav.broadcastFocus(n,t,r);h.$broadcast(i.CELL_NAV_EVENT,n,t,r)};o.cellNav.clearFocus=s.cellNav.clearFocus=function(){s.cellNav.focusedCells=[];h.$broadcast(i.CELL_NAV_EVENT)};o.cellNav.broadcastFocus=function(n,t,i){var r;t=!(void 0===t||!t);n=o.cellNav.makeRowCol(n);var e=n.row,h=n.col,f=o.grid.api.cellNav.rowColSelectIndex(n);null===s.cellNav.lastRowCol||-1===f?(r=new u(e,h),(null===s.cellNav.lastRowCol||s.cellNav.lastRowCol.row!==r.row||s.cellNav.lastRowCol.col!==r.col)&&(s.api.cellNav.raise.navigate(r,s.cellNav.lastRowCol,i),s.cellNav.lastRowCol=r),o.grid.options.modifierKeysToMultiSelectCells&&t?s.cellNav.focusedCells.push(n):s.cellNav.focusedCells=[n]):s.options.modifierKeysToMultiSelectCells&&t&&f>=0&&s.cellNav.focusedCells.splice(f,1)};o.cellNav.handleKeyDown=function(n){var e=t.getDirection(n),h,f;if(null===e)return null;if(h="body",n.uiGridTargetRenderContainerId&&(h=n.uiGridTargetRenderContainerId),f=o.grid.api.cellNav.getFocusedCell(),f){var u=o.grid.renderContainers[h].cellNav.getNextRowCol(e,f.row,f.col),c=o.grid.renderContainers[h].cellNav.getFocusableCols(),l=o.grid.api.cellNav.rowColSelectIndex(u);return e===i.direction.LEFT&&u.col===c[c.length-1]&&u.row===f.row&&n.keyCode===r.keymap.TAB&&n.shiftKey?(s.cellNav.focusedCells.splice(l,1),o.cellNav.clearFocus(),!0):e!==i.direction.RIGHT||u.col!==c[0]||u.row!==f.row||n.keyCode!==r.keymap.TAB||n.shiftKey?(s.scrollToIfNecessary(u.row,u.col).then(function(){o.cellNav.broadcastCellNav(u,null,n)}),n.stopPropagation(),n.preventDefault(),!1):(s.cellNav.focusedCells.splice(l,1),o.cellNav.clearFocus(),!0)}}},post:function(n,t,r,u){function s(){var u='<div id="'+f.id+'-aria-speakable" class="ui-grid-a11y-ariascreenreader-speakable ui-grid-offscreen" aria-live="assertive" role="region" aria-atomic="true" aria-hidden="false" aria-relevant="additions" >&nbsp;<\/div>',r=e(u)(n);t.prepend(r);n.$on(i.CELL_NAV_EVENT,function(n,t,i,u){function c(n){n!==r.text()&&(r[0].style.clip="rect(0px,0px,0px,0px)",r[0].innerHTML="",r[0].style.visibility="hidden",r[0].style.visibility="visible",""!==n&&(r[0].style.clip="auto",r[0].appendChild(document.createTextNode(n+" ")),r[0].style.visibility="hidden",r[0].style.visibility="visible"))}var h;if(!u||"focus"!==u.type){for(var s=[],o=f.api.cellNav.getCurrentSelection(),e=0;e<o.length;e++)s.push(f.getCellDisplayValue(o[e].row,o[e].col));h=s.toString();c(h)}})}var f=u.grid,o=!0;try{angular.module("ngAria")}catch(h){o=!1}o&&s()}}}}}]);n.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(n,t,i,r,u,f,e){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(t,r,o,s){var h=s[0],p=s[1],y=s[2],l,a,c,v;h.grid.api.cellNav&&(l=p.containerId,a=h.grid,(u.decorateRenderContainers(a),"body"===l)&&(h.grid.options.modifierKeysToMultiSelectCells?r.attr("aria-multiselectable",!0):r.attr("aria-multiselectable",!1),c=f('<div class="ui-grid-focuser" role="region" aria-live="assertive" aria-atomic="false" tabindex="0" aria-controls="'+a.id+"-aria-speakable "+a.id+'-grid-container" aria-owns="'+a.id+'-grid-container"><\/div>')(t),r.append(c),c.on("focus",function(n){n.uiGridTargetRenderContainerId=l;var t=h.grid.api.cellNav.getFocusedCell();null===t&&(t=h.grid.renderContainers[l].cellNav.getNextRowCol(e.direction.DOWN,null,null),t.row&&t.col&&h.cellNav.broadcastCellNav(t))}),y.setAriaActivedescendant=function(n){r.attr("aria-activedescendant",n)},y.removeAriaActivedescendant=function(n){r.attr("aria-activedescendant")===n&&r.attr("aria-activedescendant","")},h.focus=function(){i.focus.byElement(c[0])},v=null,c.on("keydown",function(n){n.uiGridTargetRenderContainerId=l;var t=h.grid.api.cellNav.getFocusedCell(),i=h.grid.options.keyDownOverrides.some(function(t){return Object.keys(t).every(function(i){return t[i]===n[i]})}),r=i?null:h.cellNav.handleKeyDown(n);null===r&&(h.grid.api.cellNav.raise.viewPortKeyDown(n,t),v=t)}),c.on("keypress",function(t){v&&(n(function(){h.grid.api.cellNav.raise.viewPortKeyPress(t,v)},4),v=null)}),t.$on("$destroy",function(){c.off()})))}}}}}]);n.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log","$compile",function(){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(){},post:function(n,t,i,r){var u=r[0],e=r[1],o,f;u.grid.api.cellNav&&(o=e.containerId,"body"===o&&(f=u.grid,f.api.core.on.scrollBegin(n,function(){var n=u.grid.api.cellNav.getFocusedCell();null!==n&&e.colContainer.containsColumn(n.col)&&u.cellNav.clearFocus()}),f.api.core.on.scrollEnd(n,function(){var n=u.grid.api.cellNav.getFocusedCell();null!==n&&e.colContainer.containsColumn(n.col)&&u.cellNav.broadcastCellNav(n)}),f.api.cellNav.on.navigate(n,function(){u.focus()})))}}}}}]);n.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants","GridRowColumn",function(n,t,i,r,u,f,e){return{priority:-150,restrict:"A",require:["^uiGrid","?^uiGridCellnav"],scope:!1,link:function(t,i,r,o){function h(n){n.preventDefault()}function c(){var n=v.cellNav.focusedCells.some(function(n){return n.row===t.row&&n.col===t.col});n?p():l()}function p(){if(!t.focused){var n=i.find("div");n.addClass("ui-grid-cell-focus");i.attr("aria-selected",!0);a.setAriaActivedescendant(i.attr("id"));t.focused=!0}}function l(){if(t.focused){var n=i.find("div");n.removeClass("ui-grid-cell-focus");i.attr("aria-selected",!1);a.removeAriaActivedescendant(i.attr("id"));t.focused=!1}}var s=o[0],a=o[1],v,y;s.grid.api.cellNav&&t.col.colDef.allowCellFocus&&(v=s.grid,t.focused=!1,i.attr("tabindex",-1),i.find("div").on("click",function(n){s.cellNav.broadcastCellNav(new e(t.row,t.col),n.ctrlKey||n.metaKey,n);n.stopPropagation();t.$apply()}),i.on("mousedown",h),s.grid.api.edit&&(s.grid.api.edit.on.beginCellEdit(t,function(){i.off("mousedown",h)}),s.grid.api.edit.on.afterCellEdit(t,function(){i.on("mousedown",h)}),s.grid.api.edit.on.cancelCellEdit(t,function(){i.on("mousedown",h)})),c(),i.on("focus",function(n){s.cellNav.broadcastCellNav(new e(t.row,t.col),!1,n);n.stopPropagation();t.$apply()}),t.$on(u.CELL_NAV_EVENT,c),y=s.grid.registerDataChangeCallback(function(){l();n(c)},[f.dataChange.ROW]),t.$on("$destroy",function(){y();i.find("div").off();i.off()}))}}}])}(),function(){"use strict";var n=angular.module("ui.grid.edit",["ui.grid"]);n.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}});n.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(n,t,i){var r={initializeGrid:function(n){r.defaultGridOptions(n.options);n.registerColumnBuilder(r.editColumnBuilder);n.edit={};var t={events:{edit:{afterCellEdit:function(){},beginCellEdit:function(){},cancelCellEdit:function(){}}},methods:{edit:{}}};n.api.registerEventsFromObject(t.events)},defaultGridOptions:function(n){n.cellEditableCondition=void 0===n.cellEditableCondition?!0:n.cellEditableCondition;n.enableCellEditOnFocus=void 0===n.enableCellEditOnFocus?!1:n.enableCellEditOnFocus},editColumnBuilder:function(t,r,u){var f=[];return t.enableCellEdit=void 0===t.enableCellEdit?void 0===u.enableCellEdit?"object"!==t.type:u.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=void 0===t.cellEditableCondition?u.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||u.editableCellTemplate||"ui-grid/cellEditor",f.push(i.getTemplate(t.editableCellTemplate).then(function(n){r.editableCellTemplate=n},function(){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'");}))),t.enableCellEditOnFocus=void 0===t.enableCellEditOnFocus?u.enableCellEditOnFocus:t.enableCellEditOnFocus,n.all(f)},isStartEditKey:function(n){return!(n.metaKey||n.keyCode===t.keymap.ESC||n.keyCode===t.keymap.SHIFT||n.keyCode===t.keymap.CTRL||n.keyCode===t.keymap.ALT||n.keyCode===t.keymap.WIN||n.keyCode===t.keymap.CAPSLOCK||n.keyCode===t.keymap.LEFT||n.keyCode===t.keymap.TAB&&n.shiftKey||n.keyCode===t.keymap.RIGHT||n.keyCode===t.keymap.TAB||n.keyCode===t.keymap.UP||n.keyCode===t.keymap.ENTER&&n.shiftKey||n.keyCode===t.keymap.DOWN||n.keyCode===t.keymap.ENTER)}};return r}]);n.directive("uiGridEdit",["gridUtil","uiGridEditService",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,u){t.initializeGrid(u.grid)},post:function(){}}}}}]);n.directive("uiGridViewport",["uiGridEditConstants",function(n){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(t,i,r,u){var f=u[0],e;f.grid.api.edit&&f.grid.api.cellNav&&(e=u[1].containerId,"body"===e&&(t.$on(n.events.CANCEL_CELL_EDIT,function(){f.focus()}),t.$on(n.events.END_CELL_EDIT,function(){f.focus()})))}}}}}]);n.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope","$q",function(n,t,i,r,u,f,e,o,s,h){var c=500;return t.has("uiGridCellNavService")&&t.get("uiGridCellNavService"),{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(t,l,a,v){function it(){l.on("dblclick",p);l.on("touchstart",rt);v&&v.grid.api.cellNav&&(ot=v.grid.api.cellNav.on.viewPortKeyDown(t,function(n,i){null!==i&&(i.row!==t.row||i.col!==t.col||t.col.colDef.enableCellEditOnFocus||ft(n))}),et=v.grid.api.cellNav.on.navigate(t,function(n,r,u){t.col.colDef.enableCellEditOnFocus&&(r&&n.row===r.row&&n.col===r.col||n.row!==t.row||n.col!==t.col||i(function(){p(u)}))}));t.beginEditEventsWired=!0}function rt(n){"undefined"!=typeof n.originalEvent&&void 0!==n.originalEvent&&(n=n.originalEvent);l.on("touchend",d);nt=i(function(){},c);nt.then(function(){setTimeout(p,0);l.off("touchend",d)})}function d(){i.cancel(nt);l.off("touchend",d)}function ut(){l.off("dblclick",p);l.off("keydown",ft);l.off("touchstart",rt);et();ot();t.beginEditEventsWired=!1}function ft(n){o.isStartEditKey(n)&&p(n)}function ct(n,i){return!i.isSaving&&(angular.isFunction(n.colDef.cellEditableCondition)?n.colDef.cellEditableCondition(t):n.colDef.cellEditableCondition)}function p(n){t.grid.api.core.scrollToIfNecessary(t.row,t.col).then(function(){lt(n)})}function lt(o){var a,ft,c,v,p,d;if(!b&&ct(t.col,t.row)){a=t.row.getQualifiedColField(t.col);t.col.colDef.editModelField&&(a=f.preEval("row.entity."+t.col.colDef.editModelField));w=e(a);k=w(t);y=t.col.editableCellTemplate;y=y.replace(r.MODEL_COL_FIELD,a);y=y.replace(r.COL_FIELD,"grid.getCellValue(row, col)");ft=t.col.colDef.editDropdownFilter?"|"+t.col.colDef.editDropdownFilter:"";y=y.replace(r.CUSTOM_FILTERS,ft);c="text";switch(t.col.colDef.type){case"boolean":c="checkbox";break;case"number":c="number";break;case"date":c="date"}y=y.replace("INPUT_TYPE",c);v=t.col.colDef.editDropdownOptionsFunction;v?h.when(v(t.row.entity,t.col.colDef)).then(function(n){t.editDropdownOptionsArray=n}):(p=t.col.colDef.editDropdownRowEntityOptionsArrayPath,t.editDropdownOptionsArray=p?vt(t.row.entity,p):t.col.colDef.editDropdownOptionsArray);t.editDropdownIdLabel=t.col.colDef.editDropdownIdLabel?t.col.colDef.editDropdownIdLabel:"id";t.editDropdownValueLabel=t.col.colDef.editDropdownValueLabel?t.col.colDef.editDropdownValueLabel:"value";d=function(){var i,r;b=!0;ut();i=angular.element(y);l.append(i);tt=t.$new();n(i)(tt);r=angular.element(l.children()[0]);r.addClass("ui-grid-cell-contents-hidden")};s.$$phase?d():t.$apply(d);var nt=t.col.grid.api.core.on.scrollBegin(t,function(){t.grid.disableScrolling||(g(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,w(t),k),nt(),it(),rt())}),it=t.$on(u.events.END_CELL_EDIT,function(){g();t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,w(t),k);it();nt();rt()}),rt=t.$on(u.events.CANCEL_CELL_EDIT,function(){at();rt();nt();it()});t.$broadcast(u.events.BEGIN_CELL_EDIT,o);i(function(){t.grid.api.edit.raise.beginCellEdit(t.row.entity,t.col.colDef,o)})}}function g(){var u,i,n;if(t.grid.disableScrolling=!1,b){for(v&&v.grid.api.cellNav&&v.focus(),u=angular.element(l.children()[0]),tt.$destroy(),i=l.children(),n=1;n<i.length;n++)angular.element(i[n]).remove();u.removeClass("ui-grid-cell-contents-hidden");b=!1;it();t.grid.api.core.notifyDataChange(r.dataChange.EDIT)}}function at(){t.grid.disableScrolling=!1;b&&(w.assign(t,k),t.$apply(),t.grid.api.edit.raise.cancelCellEdit(t.row.entity,t.col.colDef),g())}function vt(n,t){var i,r;for(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),i=t.split(".");i.length;){if(r=i.shift(),!(r in n))return;n=n[r]}return n}var y,k,w,nt,tt,b=!1,ht;if(t.col.colDef.enableCellEdit){var et=function(){},ot=function(){},st=function(){t.col.colDef.enableCellEdit&&t.row.enableCellEdit!==!1?t.beginEditEventsWired||it():t.beginEditEventsWired&&ut()};st();ht=t.$watch("row",function(n,t){n!==t&&st()});t.$on("$destroy",function(){ht();l.off()})}}}}]);n.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout","uiGridEditService",function(n,t,i,r,u){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer","ngModel"],compile:function(){return{pre:function(){},post:function(n,f,e,o){var s,c,h;o[0]&&(s=o[0]);o[1]&&(c=o[1]);o[2]&&(h=o[2]);n.$on(i.events.BEGIN_CELL_EDIT,function(){if(r(function(){if(f[0].focus(),!f[0].select||!n.col.colDef.enableCellEditOnFocus&&s&&s.grid.api.cellNav)try{f[0].setSelectionRange(f[0].value.length,f[0].value.length)}catch(t){}else f[0].select()}),s&&s.grid.api.cellNav)var t=s.grid.api.cellNav.on.viewPortKeyPress(n,function(n){u.isStartEditKey(n)&&(h.$setViewValue(String.fromCharCode("number"==typeof n.which?n.which:n.keyCode),n),h.$render());t()});f.on("mousedown",function(){"checkbox"===f[0].type&&(f.off("blur",n.stopEdit),r(function(){f[0].focus();f.on("blur",n.stopEdit)}))});f.on("blur",n.stopEdit)});n.deepEdit=!1;n.stopEdit=function(t){n.inputForm&&!n.inputForm.$valid?(t.stopPropagation(),n.$emit(i.events.CANCEL_CELL_EDIT)):n.$emit(i.events.END_CELL_EDIT);n.deepEdit=!1};f.on("click",function(){"checkbox"!==f[0].type&&(n.deepEdit=!0,r(function(){n.grid.disableScrolling=!0}))});f.on("keydown",function(r){switch(r.keyCode){case t.keymap.ESC:r.stopPropagation();n.$emit(i.events.CANCEL_CELL_EDIT)}if(n.deepEdit&&(r.keyCode===t.keymap.LEFT||r.keyCode===t.keymap.RIGHT||r.keyCode===t.keymap.UP||r.keyCode===t.keymap.DOWN))r.stopPropagation();else if(s&&s.grid.api.cellNav)r.uiGridTargetRenderContainerId=c.containerId,null!==s.cellNav.handleKeyDown(r)&&n.stopEdit(r);else switch(r.keyCode){case t.keymap.ENTER:case t.keymap.TAB:r.stopPropagation();r.preventDefault();n.stopEdit(r)}return!0});n.$on("$destroy",function(){f.off()})}}}}}]);n.directive("uiGridEditor",["$filter",function(n){function t(n){var t;if("undefined"==typeof n||""===n||(t=n.split("-"),3!==t.length))return null;var i=parseInt(t[0],10),r=parseInt(t[1],10),u=parseInt(t[2],10);return 1>r||1>i||1>u?null:new Date(i,r-1,u)}return{priority:-100,require:"?ngModel",link:function(i,r,u,f){2===angular.version.minor&&u.type&&"date"===u.type&&f&&(f.$formatters.push(function(t){return f.$setValidity(null,!t||!isNaN(t.getTime())),n("date")(t,"yyyy-MM-dd")}),f.$parsers.push(function(n){if(n&&n.length>0){var i=t(n);return f.$setValidity(null,i&&!isNaN(i.getTime())),i}return f.$setValidity(null,!0),null}))}}}]);n.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants","$timeout",function(n,t,i){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(){},post:function(r,u,f,e){var o=e[0],s=e[1];r.$on(t.events.BEGIN_CELL_EDIT,function(){i(function(){u[0].focus()});u[0].style.width=u[0].parentElement.offsetWidth-1+"px";u.on("blur",function(n){r.stopEdit(n)})});r.stopEdit=function(){r.$emit(t.events.END_CELL_EDIT)};u.on("keydown",function(i){switch(i.keyCode){case n.keymap.ESC:i.stopPropagation();r.$emit(t.events.CANCEL_CELL_EDIT)}if(o&&o.grid.api.cellNav)i.uiGridTargetRenderContainerId=s.containerId,null!==o.cellNav.handleKeyDown(i)&&r.stopEdit(i);else switch(i.keyCode){case n.keymap.ENTER:case n.keymap.TAB:i.stopPropagation();i.preventDefault();r.stopEdit(i)}return!0});r.$on("$destroy",function(){u.off()})}}}}}]);n.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(n,t,i){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(){},post:function(t,r,u,f){var o,s,e;f[0]&&(o=f[0]);f[1]&&(s=f[1]);e=(o.grid,function(r){var u=r.srcElement||r.target;u&&u.files&&u.files.length>0?("function"==typeof t.col.colDef.editFileChooserCallback?t.col.colDef.editFileChooserCallback(t.row,t.col,u.files):n.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),u.form.reset(),t.$emit(i.events.END_CELL_EDIT)):t.$emit(i.events.CANCEL_CELL_EDIT)});r[0].addEventListener("change",e,!1);t.$on(i.events.BEGIN_CELL_EDIT,function(){r[0].focus();r[0].select();r.on("blur",function(){t.$emit(i.events.END_CELL_EDIT)})});t.$on("$destroy",function(){r.off();r[0].removeEventListener("change",e,!1)})}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.emptyBaseLayer",["ui.grid"]);n.service("uiGridBaseLayerService",["gridUtil","$compile",function(){return{initializeGrid:function(n,t){n.baseLayer={emptyRows:[]};n.options.enableEmptyGridBaseLayer!==!1&&(n.options.enableEmptyGridBaseLayer=!t)},setNumberOfEmptyRows:function(n,t){var u=t.options.rowHeight,r=Math.ceil(n/u),i;if(r>0)for(t.baseLayer.emptyRows=[],i=0;r>i;i++)t.baseLayer.emptyRows.push({})}}}]);n.directive("uiGridEmptyBaseLayer",["gridUtil","uiGridBaseLayerService","$parse",function(n,t,i){return{require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,r,u,f){var e=i(u.uiGridEmptyBaseLayer)(n)===!1;t.initializeGrid(f.grid,e)},post:function(n,i,r,u){function o(){var n=e.getViewportHeight();return n!==f?(f=n,!0):!1}function s(n){return".grid"+u.grid.id+" .ui-grid-render-container .ui-grid-empty-base-layer-container.ui-grid-canvas { height: "+n+"px; }"}if(u.grid.options.enableEmptyGridBaseLayer){var e=u.grid.renderContainers.body,f=e.getViewportHeight();u.grid.registerStyleComputation({func:function(){return o()&&t.setNumberOfEmptyRows(f,u.grid),s(f)}})}}}}}}]);n.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(n,t,i){return{priority:-200,scope:!1,compile:function(n){var t=i.get("ui-grid/emptyBaseLayerContainer");return n.prepend(t),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.expandable",["ui.grid"]);n.service("uiGridExpandableService",["gridUtil","$compile",function(n){var t={initializeGrid:function(i){i.expandable={};i.expandable.expandedAll=!1;i.options.enableExpandable=i.options.enableExpandable!==!1;i.options.expandableRowHeight=i.options.expandableRowHeight||150;i.options.expandableRowHeaderWidth=i.options.expandableRowHeaderWidth||40;i.options.enableExpandable&&!i.options.expandableRowTemplate&&(n.logError("You have not set the expandableRowTemplate, disabling expandable module"),i.options.enableExpandable=!1);var r={events:{expandable:{rowExpandedBeforeStateChanged:function(){},rowExpandedStateChanged:function(){}}},methods:{expandable:{toggleRowExpansion:function(n){var r=i.getRow(n);null!==r&&t.toggleRowExpansion(i,r)},expandAllRows:function(){t.expandAllRows(i)},collapseAllRows:function(){t.collapseAllRows(i)},toggleAllRows:function(){t.toggleAllRows(i)},expandRow:function(n){var r=i.getRow(n);null===r||r.isExpanded||t.toggleRowExpansion(i,r)},collapseRow:function(n){var r=i.getRow(n);null!==r&&r.isExpanded&&t.toggleRowExpansion(i,r)},getExpandedRows:function(){return t.getExpandedRows(i).map(function(n){return n.entity})}}}};i.api.registerEventsFromObject(r.events);i.api.registerMethodsFromObject(r.methods)},toggleRowExpansion:function(n,t){n.api.expandable.raise.rowExpandedBeforeStateChanged(t);t.isExpanded=!t.isExpanded;angular.isUndefined(t.expandedRowHeight)&&(t.expandedRowHeight=n.options.expandableRowHeight);t.isExpanded?t.height=t.grid.options.rowHeight+t.expandedRowHeight:(t.height=t.grid.options.rowHeight,n.expandable.expandedAll=!1);n.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(n){n.renderContainers.body.visibleRowCache.forEach(function(i){i.isExpanded||t.toggleRowExpansion(n,i)});n.expandable.expandedAll=!0;n.queueGridRefresh()},collapseAllRows:function(n){n.renderContainers.body.visibleRowCache.forEach(function(i){i.isExpanded&&t.toggleRowExpansion(n,i)});n.expandable.expandedAll=!1;n.queueGridRefresh()},toggleAllRows:function(n){n.expandable.expandedAll?t.collapseAllRows(n):t.expandAllRows(n)},getExpandedRows:function(n){return n.rows.filter(function(n){return n.isExpanded})}};return t}]);n.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(i,r,u,f){if(n.initializeGrid(f.grid),f.grid.options.enableExpandable&&f.grid.options.enableExpandableRowHeader!==!1){var e={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:f.grid.options.expandableRowHeaderWidth||40};e.cellTemplate=t.get("ui-grid/expandableRowHeader");e.headerCellTemplate=t.get("ui-grid/expandableTopRowHeader");f.grid.addRowHeaderColumn(e,-90)}},post:function(){}}}}}]);n.directive("uiGrid",["uiGridExpandableService","$templateCache",function(){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,t,i,r){r.grid.api.core.on.renderingComplete(n,function(){n.row&&n.row.grid&&n.row.grid.options&&n.row.grid.options.enableExpandable&&(r.grid.parentRow=n.row)})},post:function(){}}}}}]);n.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(n,t,i,r,u){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(n,t){u.getTemplate(n.grid.options.expandableRowTemplate).then(function(r){var u,f,e;if(n.grid.options.expandableRowScope){u=n.grid.options.expandableRowScope;for(f in u)u.hasOwnProperty(f)&&(n[f]=u[f])}e=angular.element(r);t.append(e);e=i(e)(n);n.row.expandedRendered=!0})},post:function(n){n.$on("$destroy",function(){n.row.expandedRendered=!1})}}}}}]);n.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(){return{priority:-200,scope:!1,compile:function(){return{pre:function(n){n.grid.options.enableExpandable&&(n.expandableRow={},n.expandableRow.shouldRenderExpand=function(){return"body"===n.colContainer.name&&n.grid.options.enableExpandable!==!1&&n.row.isExpanded&&(!n.grid.isScrollingVertically||n.row.expandedRendered)},n.expandableRow.shouldRenderFiller=function(){return n.row.isExpanded&&("body"!==n.colContainer.name||n.grid.isScrollingVertically&&!n.row.expandedRendered)})},post:function(){}}}}}]);n.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(n,t,i){return{priority:-200,scope:!1,compile:function(n){var t=angular.element(n.children().children()[0]),r=i.get("ui-grid/expandableScrollFiller"),u=i.get("ui-grid/expandableRow");return t.append(u),t.append(r),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.exporter",["ui.grid"]);n.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"});n.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(n,t,i,r,u,f){var e={delay:100,initializeGrid:function(n){n.exporter={};this.defaultGridOptions(n.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,i){e.csvExport(n,t,i)},pdfExport:function(t,i){e.pdfExport(n,t,i)}}}};n.api.registerEventsFromObject(t.events);n.api.registerMethodsFromObject(t.methods);n.api.core.addToGridMenu?e.addToMenu(n):u(function(){n.api.core.addToGridMenu&&e.addToMenu(n)},this.delay,1)},defaultGridOptions:function(n){n.exporterSuppressMenu=n.exporterSuppressMenu===!0;n.exporterMenuLabel=n.exporterMenuLabel?n.exporterMenuLabel:"Export";n.exporterSuppressColumns=n.exporterSuppressColumns?n.exporterSuppressColumns:[];n.exporterCsvColumnSeparator=n.exporterCsvColumnSeparator?n.exporterCsvColumnSeparator:",";n.exporterCsvFilename=n.exporterCsvFilename?n.exporterCsvFilename:"download.csv";n.exporterPdfFilename=n.exporterPdfFilename?n.exporterPdfFilename:"download.pdf";n.exporterOlderExcelCompatibility=n.exporterOlderExcelCompatibility===!0;n.exporterIsExcelCompatible=n.exporterIsExcelCompatible===!0;n.exporterMenuItemOrder=n.exporterMenuItemOrder?n.exporterMenuItemOrder:200;n.exporterPdfDefaultStyle=n.exporterPdfDefaultStyle?n.exporterPdfDefaultStyle:{fontSize:11};n.exporterPdfTableStyle=n.exporterPdfTableStyle?n.exporterPdfTableStyle:{margin:[0,5,0,15]};n.exporterPdfTableHeaderStyle=n.exporterPdfTableHeaderStyle?n.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"};n.exporterPdfHeader=n.exporterPdfHeader?n.exporterPdfHeader:null;n.exporterPdfFooter=n.exporterPdfFooter?n.exporterPdfFooter:null;n.exporterPdfOrientation=n.exporterPdfOrientation?n.exporterPdfOrientation:"landscape";n.exporterPdfPageSize=n.exporterPdfPageSize?n.exporterPdfPageSize:"A4";n.exporterPdfMaxGridWidth=n.exporterPdfMaxGridWidth?n.exporterPdfMaxGridWidth:720;n.exporterMenuAllData=void 0!==n.exporterMenuAllData?n.exporterMenuAllData:!0;n.exporterMenuVisibleData=void 0!==n.exporterMenuVisibleData?n.exporterMenuVisibleData:!0;n.exporterMenuSelectedData=void 0!==n.exporterMenuSelectedData?n.exporterMenuSelectedData:!0;n.exporterMenuCsv=void 0!==n.exporterMenuCsv?n.exporterMenuCsv:!0;n.exporterMenuPdf=void 0!==n.exporterMenuPdf?n.exporterMenuPdf:!0;n.exporterPdfCustomFormatter=n.exporterPdfCustomFormatter&&"function"==typeof n.exporterPdfCustomFormatter?n.exporterPdfCustomFormatter:function(n){return n};n.exporterHeaderFilterUseName=n.exporterHeaderFilterUseName===!0;n.exporterFieldCallback=n.exporterFieldCallback?n.exporterFieldCallback:function(n,t,i,r){return r};n.exporterAllDataFn=n.exporterAllDataFn?n.exporterAllDataFn:null;null==n.exporterAllDataFn&&n.exporterAllDataPromise&&(n.exporterAllDataFn=n.exporterAllDataPromise)},addToMenu:function(n){n.api.core.addToGridMenu(n,[{title:f.getSafeText("gridMenu.exporterAllAsCsv"),action:function(){n.api.exporter.csvExport(t.ALL,t.ALL)},shown:function(){return n.options.exporterMenuCsv&&n.options.exporterMenuAllData},order:n.options.exporterMenuItemOrder},{title:f.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(){n.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)},shown:function(){return n.options.exporterMenuCsv&&n.options.exporterMenuVisibleData},order:n.options.exporterMenuItemOrder+1},{title:f.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(){n.api.exporter.csvExport(t.SELECTED,t.VISIBLE)},shown:function(){return n.options.exporterMenuCsv&&n.options.exporterMenuSelectedData&&n.api.selection&&n.api.selection.getSelectedRows().length>0},order:n.options.exporterMenuItemOrder+2},{title:f.getSafeText("gridMenu.exporterAllAsPdf"),action:function(){n.api.exporter.pdfExport(t.ALL,t.ALL)},shown:function(){return n.options.exporterMenuPdf&&n.options.exporterMenuAllData},order:n.options.exporterMenuItemOrder+3},{title:f.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(){n.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)},shown:function(){return n.options.exporterMenuPdf&&n.options.exporterMenuVisibleData},order:n.options.exporterMenuItemOrder+4},{title:f.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(){n.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)},shown:function(){return n.options.exporterMenuPdf&&n.options.exporterMenuSelectedData&&n.api.selection&&n.api.selection.getSelectedRows().length>0},order:n.options.exporterMenuItemOrder+5}])},csvExport:function(n,t,i){var r=this;this.loadAllDataIfNeeded(n,t,i).then(function(){var u=n.options.showHeader?r.getColumnHeaders(n,i):[],f=r.getData(n,t,i),e=r.formatAsCsv(u,f,n.options.exporterCsvColumnSeparator);r.downloadFile(n.options.exporterCsvFilename,e,n.options.exporterCsvColumnSeparator,n.options.exporterOlderExcelCompatibility,n.options.exporterIsExcelCompatible)})},loadAllDataIfNeeded:function(i,r){if(r===t.ALL&&i.rows.length!==i.options.totalItems&&i.options.exporterAllDataFn)return i.options.exporterAllDataFn().then(function(){i.modifyRows(i.options.data)});var u=n.defer();return u.resolve(),u.promise},getColumnHeaders:function(n,i){var r,u=[];if(i===t.ALL)r=n.columns;else{var f=n.renderContainers.left?n.renderContainers.left.visibleColumnCache.filter(function(n){return n.visible}):[],e=n.renderContainers.body?n.renderContainers.body.visibleColumnCache.filter(function(n){return n.visible}):[],o=n.renderContainers.right?n.renderContainers.right.visibleColumnCache.filter(function(n){return n.visible}):[];r=f.concat(e,o)}return r.forEach(function(t){t.colDef.exporterSuppressExport!==!0&&-1===n.options.exporterSuppressColumns.indexOf(t.name)&&u.push({name:t.field,displayName:n.options.exporterHeaderFilter?n.options.exporterHeaderFilterUseName?n.options.exporterHeaderFilter(t.name):n.options.exporterHeaderFilter(t.displayName):t.displayName,width:t.drawnWidth?t.drawnWidth:t.width,align:"number"===t.colDef.type?"right":"left"})}),u},getData:function(n,r,u,f){var e,o,s=[];switch(r){case t.ALL:e=n.rows;break;case t.VISIBLE:e=n.getVisibleRows();break;case t.SELECTED:n.api.selection?e=n.api.selection.getSelectedGridRows():i.logError("selection feature must be enabled to allow selected rows to be exported")}if(u===t.ALL)o=n.columns;else{var h=n.renderContainers.left?n.renderContainers.left.visibleColumnCache.filter(function(n){return n.visible}):[],c=n.renderContainers.body?n.renderContainers.body.visibleColumnCache.filter(function(n){return n.visible}):[],l=n.renderContainers.right?n.renderContainers.right.visibleColumnCache.filter(function(n){return n.visible}):[];o=h.concat(c,l)}return e.forEach(function(i){if(i.exporterEnableExporting!==!1){var r=[];o.forEach(function(e){if((e.visible||u===t.ALL)&&e.colDef.exporterSuppressExport!==!0&&-1===n.options.exporterSuppressColumns.indexOf(e.name)){var s=f?n.getCellDisplayValue(i,e):n.getCellValue(i,e),o={value:n.options.exporterFieldCallback(n,i,e,s)};e.colDef.exporterPdfAlign&&(o.alignment=e.colDef.exporterPdfAlign);r.push(o)}});s.push(r)}}),s},formatAsCsv:function(n,t,i){var u=this,r=n.map(function(n){return{value:n.displayName}}),f=r.length>0?u.formatRowAsCsv(this,i)(r)+"\n":"";return f+t.map(this.formatRowAsCsv(this,i)).join("\n")},formatRowAsCsv:function(n,t){return function(i){return i.map(n.formatFieldAsCsv).join(t)}},formatFieldAsCsv:function(n){return null==n.value?"":"number"==typeof n.value?n.value:"boolean"==typeof n.value?n.value?"TRUE":"FALSE":"string"==typeof n.value?'"'+n.value.replace(/"/g,'""')+'"':JSON.stringify(n.value)},isIE:function(){var t=navigator.userAgent.search(/(?:Edge|MSIE|Trident\/.*; rv:)/),n=!1;return-1!==t&&(n=!0),n},downloadFile:function(n,t,i,r,u){var s,o=document,f=o.createElement("a"),h="application/octet-stream;charset=utf-8",l=this.isIE(),e,c;if(u&&(t="sep="+i+"\r\n"+t),navigator.msSaveBlob)return navigator.msSaveOrOpenBlob(new Blob([r?"﻿":"",t],{type:h}),n);if(l)return e=o.createElement("iframe"),document.body.appendChild(e),e.contentWindow.document.open("text/html","replace"),e.contentWindow.document.write(t),e.contentWindow.document.close(),e.contentWindow.focus(),e.contentWindow.document.execCommand("SaveAs",!0,n),document.body.removeChild(e),!0;"download"in f?(c=new Blob([r?"﻿":"",t],{type:h}),s=URL.createObjectURL(c),f.setAttribute("download",n)):(s="data:"+h+","+encodeURIComponent(t),f.setAttribute("target","_blank"));f.href=s;f.setAttribute("style","display:none;");o.body.appendChild(f);setTimeout(function(){if(f.click)f.click();else if(document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0);f.dispatchEvent(n)}o.body.removeChild(f)},this.delay)},pdfExport:function(n,t,i){var r=this;this.loadAllDataIfNeeded(n,t,i).then(function(){var f=r.getColumnHeaders(n,i),e=r.getData(n,t,i),u=r.prepareAsPdf(n,f,e);r.isIE()||-1!==navigator.appVersion.indexOf("Edge")?r.downloadPDF(n.options.exporterPdfFilename,u):pdfMake.createPdf(u).open()})},downloadPDF:function(n,t){var r,u=document,i,f;u.createElement("a");r=this.isIE();f=pdfMake.createPdf(t);f.getBuffer(function(t){if(i=new Blob([t]),navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(r){var f=u.createElement("iframe");return document.body.appendChild(f),f.contentWindow.document.open("text/html","replace"),f.contentWindow.document.write(i),f.contentWindow.document.close(),f.contentWindow.focus(),f.contentWindow.document.execCommand("SaveAs",!0,n),document.body.removeChild(f),!0}})},prepareAsPdf:function(n,t,i){var u=this.calculatePdfHeaderWidths(n,t),f=t.map(function(n){return{text:n.displayName,style:"tableHeader"}}),e=i.map(this.formatRowAsPdf(this)),o=[f].concat(e),r={pageOrientation:n.options.exporterPdfOrientation,pageSize:n.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:u,body:o}}],styles:{tableStyle:n.options.exporterPdfTableStyle,tableHeader:n.options.exporterPdfTableHeaderStyle},defaultStyle:n.options.exporterPdfDefaultStyle};return n.options.exporterPdfLayout&&(r.layout=n.options.exporterPdfLayout),n.options.exporterPdfHeader&&(r.header=n.options.exporterPdfHeader),n.options.exporterPdfFooter&&(r.footer=n.options.exporterPdfFooter),n.options.exporterPdfCustomFormatter&&(r=n.options.exporterPdfCustomFormatter(r)),r},calculatePdfHeaderWidths:function(n,t){var r=0,i,u;return t.forEach(function(n){"number"==typeof n.width&&(r+=n.width)}),i=0,t.forEach(function(n){if("*"===n.width&&(i+=100),"string"==typeof n.width&&n.width.match(/(\d)*%/)){var t=parseInt(n.width.match(/(\d)*%/)[0]);n.width=r*t/100;i+=n.width}}),u=r+i,t.map(function(t){return"*"===t.width?t.width:t.width*n.options.exporterPdfMaxGridWidth/u})},formatRowAsPdf:function(n){return function(t){return t.map(n.formatFieldAsPdfString)}},formatFieldAsPdfString:function(n){var t;return t=null==n.value?"":"number"==typeof n.value?n.value.toString():"boolean"==typeof n.value?n.value?"TRUE":"FALSE":"string"==typeof n.value?n.value.replace(/"/g,'""'):JSON.stringify(n.value).replace(/^"/,"").replace(/"$/,""),n.alignment&&"string"==typeof n.alignment&&(t={text:t,alignment:n.alignment}),t}};return e}]);n.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(n,i,r,u){t.initializeGrid(u.grid);u.grid.exporter.$scope=n}}}])}(),function(){"use strict";var n=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);n.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}});n.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(n,t,i,r,u,f,e,o,s){var h={initializeGrid:function(n,t){s.initializeGrid(n,t);n.grouping={};n.grouping.groupHeaderCache={};h.defaultGridOptions(n.options);n.registerRowsProcessor(h.groupRows,400);n.registerColumnBuilder(h.groupingColumnBuilder);n.registerColumnsProcessor(h.groupingColumnProcessor,400);var i={events:{grouping:{aggregationChanged:{},groupingChanged:{}}},methods:{grouping:{getGrouping:function(t){var i=h.getGrouping(n);return i.grouping.forEach(function(n){n.colName=n.col.name;delete n.col}),i.aggregations.forEach(function(n){n.colName=n.col.name;delete n.col}),i.aggregations=i.aggregations.filter(function(n){return!n.aggregation.source||"grouping"!==n.aggregation.source}),t&&(i.rowExpandedStates=h.getRowExpandedStates(n.grouping.groupingHeaderCache)),i},setGrouping:function(t){h.setGrouping(n,t)},groupColumn:function(t){var i=n.getColumn(t);h.groupColumn(n,i)},ungroupColumn:function(t){var i=n.getColumn(t);h.ungroupColumn(n,i)},clearGrouping:function(){h.clearGrouping(n)},aggregateColumn:function(t,i,r){var u=n.getColumn(t);h.aggregateColumn(n,u,i,r)}}}};n.api.registerEventsFromObject(i.events);n.api.registerMethodsFromObject(i.methods);n.api.core.on.sortChanged(t,h.tidyPriorities)},defaultGridOptions:function(n){n.enableGrouping=n.enableGrouping!==!1;n.groupingShowCounts=n.groupingShowCounts!==!1;n.groupingNullLabel="undefined"==typeof n.groupingNullLabel?"Null":n.groupingNullLabel;n.enableGroupHeaderSelection=n.enableGroupHeaderSelection===!0},groupingColumnBuilder:function(n,r,u){if(n.enableGrouping!==!1){"undefined"==typeof r.grouping&&"undefined"!=typeof n.grouping?(r.grouping=angular.copy(n.grouping),"undefined"!=typeof r.grouping.groupPriority&&r.grouping.groupPriority>-1&&(r.treeAggregationFn=s.nativeAggregations()[t.aggregation.COUNT].aggregationFn,r.treeAggregationFinalizerFn=h.groupedFinalizerFn)):"undefined"==typeof r.grouping&&(r.grouping={});"undefined"!=typeof r.grouping&&"undefined"!=typeof r.grouping.groupPriority&&r.grouping.groupPriority>=0&&(r.suppressRemoveSort=!0);var o={name:"ui.grid.grouping.group",title:e.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return"undefined"==typeof this.context.col.grouping||"undefined"==typeof this.context.col.grouping.groupPriority||this.context.col.grouping.groupPriority<0},action:function(){h.groupColumn(this.context.col.grid,this.context.col)}},c={name:"ui.grid.grouping.ungroup",title:e.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return"undefined"!=typeof this.context.col.grouping&&"undefined"!=typeof this.context.col.grouping.groupPriority&&this.context.col.grouping.groupPriority>=0},action:function(){h.ungroupColumn(this.context.col.grid,this.context.col)}},l={name:"ui.grid.grouping.aggregateRemove",title:e.get().grouping.aggregate_remove,shown:function(){return"undefined"!=typeof this.context.col.treeAggregationFn},action:function(){h.aggregateColumn(this.context.col.grid,this.context.col,null)}},f=function(n,t){t=t||e.get().grouping["aggregate_"+n]||n;var u={name:"ui.grid.grouping.aggregate"+n,title:t,shown:function(){return"undefined"==typeof this.context.col.treeAggregation||"undefined"==typeof this.context.col.treeAggregation.type||this.context.col.treeAggregation.type!==n},action:function(){h.aggregateColumn(this.context.col.grid,this.context.col,n)}};i.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.aggregate"+n)||r.menuItems.push(u)};r.colDef.groupingShowGroupingMenu!==!1&&(i.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.group")||r.menuItems.push(o),i.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.ungroup")||r.menuItems.push(c));r.colDef.groupingShowAggregationMenu!==!1&&(angular.forEach(s.nativeAggregations(),function(n,t){f(t)}),angular.forEach(u.treeCustomAggregations,function(n,t){f(t,n.menuTitle)}),i.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.aggregateRemove")||r.menuItems.push(l))}},groupingColumnProcessor:function(n,t){return h.moveGroupColumns(this,n,t)},groupedFinalizerFn:function(n){var t=this;"undefined"!=typeof n.groupVal?(n.rendered=n.groupVal,t.grid.options.groupingShowCounts&&"date"!==t.colDef.type&&"object"!==t.colDef.type&&(n.rendered+=" ("+n.value+")")):n.rendered=null},moveGroupColumns:function(n,t){return n.options.moveGroupColumns===!1?t:(t.forEach(function(n,t){n.groupingPosition=t}),t.sort(function(n,t){var i,r;return i=n.isRowHeader?n.headerPriority:"undefined"==typeof n.grouping||"undefined"==typeof n.grouping.groupPriority||n.grouping.groupPriority<0?null:n.grouping.groupPriority,r=t.isRowHeader?t.headerPriority:"undefined"==typeof t.grouping||"undefined"==typeof t.grouping.groupPriority||t.grouping.groupPriority<0?null:t.grouping.groupPriority,null!==i&&null===r?-1:null!==r&&null===i?1:null!==i&&null!==r?i-r:n.groupingPosition-t.groupingPosition}),t.forEach(function(n){delete n.groupingPosition}),t)},groupColumn:function(n,i){"undefined"==typeof i.grouping&&(i.grouping={});var r=h.getGrouping(n);i.grouping.groupPriority=r.grouping.length;i.previousSort=angular.copy(i.sort);i.sort?("undefined"==typeof i.sort.direction||null===i.sort.direction)&&(i.sort.direction=o.ASC):i.sort={direction:o.ASC};i.treeAggregation={type:t.aggregation.COUNT,source:"grouping"};i.treeAggregationFn=s.nativeAggregations()[t.aggregation.COUNT].aggregationFn;i.treeAggregationFinalizerFn=h.groupedFinalizerFn;n.api.grouping.raise.groupingChanged(i);n.api.core.raise.sortChanged(n,n.getColumnSorting());n.queueGridRefresh()},ungroupColumn:function(n,t){"undefined"!=typeof t.grouping&&(delete t.grouping.groupPriority,delete t.treeAggregation,delete t.customTreeAggregationFinalizer,t.previousSort&&(t.sort=t.previousSort,delete t.previousSort),h.tidyPriorities(n),n.api.grouping.raise.groupingChanged(t),n.api.core.raise.sortChanged(n,n.getColumnSorting()),n.queueGridRefresh())},aggregateColumn:function(n,t,i){"undefined"!=typeof t.grouping&&"undefined"!=typeof t.grouping.groupPriority&&t.grouping.groupPriority>=0&&h.ungroupColumn(n,t);var r={};"undefined"!=typeof n.options.treeCustomAggregations[i]?r=n.options.treeCustomAggregations[i]:"undefined"!=typeof s.nativeAggregations()[i]&&(r=s.nativeAggregations()[i]);t.treeAggregation={type:i,label:e.get().aggregation[r.label]||r.label};t.treeAggregationFn=r.aggregationFn;t.treeAggregationFinalizerFn=r.finalizerFn;n.api.grouping.raise.aggregationChanged(t);n.queueGridRefresh()},setGrouping:function(n,t){"undefined"!=typeof t&&(h.clearGrouping(n),t.grouping&&t.grouping.length&&t.grouping.length>0&&t.grouping.forEach(function(t){var i=n.getColumn(t.colName);i&&h.groupColumn(n,i)}),t.aggregations&&t.aggregations.length&&t.aggregations.forEach(function(t){var i=n.getColumn(t.colName);i&&h.aggregateColumn(n,i,t.aggregation.type)}),t.rowExpandedStates&&h.applyRowExpandedStates(n.grouping.groupingHeaderCache,t.rowExpandedStates))},clearGrouping:function(n){var t=h.getGrouping(n);t.grouping.length>0&&t.grouping.forEach(function(t){t.col||(t.col=n.getColumn(t.colName));h.ungroupColumn(n,t.col)});t.aggregations.length>0&&t.aggregations.forEach(function(t){t.col||(t.col=n.getColumn(t.colName));h.aggregateColumn(n,t.col,null)})},tidyPriorities:function(n){var t,i,r;"undefined"!=typeof n&&"undefined"==typeof n.grid||"undefined"==typeof this.grid||(n=this.grid);t=[];i=[];n.columns.forEach(function(n){"undefined"!=typeof n.grouping&&"undefined"!=typeof n.grouping.groupPriority&&n.grouping.groupPriority>=0?t.push(n):"undefined"!=typeof n.sort&&"undefined"!=typeof n.sort.priority&&n.sort.priority>=0&&i.push(n)});t.sort(function(n,t){return n.grouping.groupPriority-t.grouping.groupPriority});t.forEach(function(n,t){n.grouping.groupPriority=t;n.suppressRemoveSort=!0;"undefined"==typeof n.sort&&(n.sort={});n.sort.priority=t});r=t.length;i.sort(function(n,t){return n.sort.priority-t.sort.priority});i.forEach(function(n){n.sort.priority=r;n.suppressRemoveSort=n.colDef.suppressRemoveSort;r++})},groupRows:function(n){var t,u;if(0===n.length)return n;t=this;t.grouping.oldGroupingHeaderCache=t.grouping.groupingHeaderCache||{};t.grouping.groupingHeaderCache={};for(var f=h.initialiseProcessingState(t),e=function(e,o){var s=t.getCellValue(u,e.col);e.initialised&&0===r.getSortFn(t,e.col,n)(s,e.currentValue)||(h.insertGroupHeader(t,n,i,f,o),i++)},i=0;i<n.length;i++)u=n[i],u.visible&&f.forEach(e);return delete t.grouping.oldGroupingHeaderCache,n},initialiseProcessingState:function(n){var t=[],i=h.getGrouping(n);return i.grouping.forEach(function(n){t.push({fieldName:n.field,col:n.col,initialised:!1,currentValue:null,currentRow:null})}),t},getGrouping:function(n){var t=[],i=[];return n.columns.forEach(function(n){n.grouping&&"undefined"!=typeof n.grouping.groupPriority&&n.grouping.groupPriority>=0&&t.push({field:n.field,col:n,groupPriority:n.grouping.groupPriority,grouping:n.grouping});n.treeAggregation&&n.treeAggregation.type&&i.push({field:n.field,col:n,aggregation:n.treeAggregation})}),t.sort(function(n,t){return n.groupPriority-t.groupPriority}),t.forEach(function(n,t){n.grouping.groupPriority=t;n.groupPriority=t;delete n.grouping}),{grouping:t,aggregations:i}},insertGroupHeader:function(n,t,i,r,e){var y=(r[e].fieldName,r[e].col),l=n.getCellValue(t[i],y),v=l,o;("undefined"==typeof l||null===l)&&(v=n.options.groupingNullLabel);for(var a=function(n){return angular.isObject(n)?JSON.stringify(n):n},s=n.grouping.oldGroupingHeaderCache,c=0;e>c;c++)s&&s[a(r[c].currentValue)]&&(s=s[a(r[c].currentValue)].children);for(s&&s[a(l)]?(o=s[a(l)].row,o.entity={}):(o=new u({},null,n),f.rowTemplateAssigner.call(n,o)),o.entity["$$"+r[e].col.uid]={groupVal:v},o.treeLevel=e,o.groupHeader=!0,o.internalRow=!0,o.enableCellEdit=!1,o.enableSelection=n.options.enableGroupHeaderSelection,r[e].initialised=!0,r[e].currentValue=l,r[e].currentRow=o,h.finaliseProcessingState(r,e+1),t.splice(i,0,o),s=n.grouping.groupingHeaderCache,c=0;e>c;c++)s=s[a(r[c].currentValue)].children;s[a(l)]={row:o,children:{}}},finaliseProcessingState:function(n,t){for(var i=t;i<n.length;i++)n[i].initialised=!1,n[i].currentRow=null,n[i].currentValue=null},getRowExpandedStates:function(n){if("undefined"==typeof n)return{};var t={};return angular.forEach(n,function(n,i){t[i]={state:n.row.treeNode.state};t[i].children=n.children?h.getRowExpandedStates(n.children):{}}),t},applyRowExpandedStates:function(n,t){"undefined"!=typeof t&&angular.forEach(t,function(t,i){n[i]&&(n[i].row.treeNode.state=t.state,t.children&&n[i].children&&h.applyRowExpandedStates(n[i].children,t.children))})}};return h}]);n.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,u){u.grid.options.enableGrouping!==!1&&t.initializeGrid(u.grid,n)},post:function(){}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.importer",["ui.grid"]);n.constant("uiGridImporterConstants",{featureName:"importer"});n.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(n,t,i,r,u,f,e,o){var s={initializeGrid:function(n,t){t.importer={$scope:n};this.defaultGridOptions(t.options);var i={events:{importer:{}},methods:{importer:{importFile:function(n){s.importThisFile(t,n)}}}};t.api.registerEventsFromObject(i.events);t.api.registerMethodsFromObject(i.methods);t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?s.addToMenu(t):f(function(){t.api.core.addToGridMenu&&s.addToMenu(t)},100,1))},defaultGridOptions:function(n){n.enableImporter||void 0===n.enableImporter?o.hasOwnProperty("File")&&o.hasOwnProperty("FileReader")&&o.hasOwnProperty("FileList")&&o.hasOwnProperty("Blob")?n.enableImporter=!0:(r.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),n.enableImporter=!1):n.enableImporter=!1;n.importerProcessHeaders=n.importerProcessHeaders||s.processHeaders;n.importerHeaderFilter=n.importerHeaderFilter||function(n){return n};n.importerErrorCallback&&"function"==typeof n.importerErrorCallback||delete n.importerErrorCallback;n.enableImporter!==!0||n.importerDataAddCallback||(r.logError("You have not set an importerDataAddCallback, importer is disabled"),n.enableImporter=!1);n.importerShowMenu=n.importerShowMenu!==!1;n.importerObjectCallback=n.importerObjectCallback||function(n,t){return t}},addToMenu:function(n){n.api.core.addToGridMenu(n,[{title:e.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(){this.grid.api.importer.importAFile(n)},order:151}])},importThisFile:function(n,t){if(!t)return void r.logError("No file object provided to importThisFile, should be impossible, aborting");var i=new FileReader;switch(t.type){case"application/json":i.onload=s.importJsonClosure(n);break;default:i.onload=s.importCsvClosure(n)}i.readAsText(t)},importJsonClosure:function(n){return function(t){var i,r=[],u=s.parseJson(n,t);null!==u&&(u.forEach(function(t){i=s.newObject(n);angular.extend(i,t);i=n.options.importerObjectCallback(n,i);r.push(i)}),s.addObjects(n,r))}},parseJson:function(n,t){var i;try{i=JSON.parse(t.target.result)}catch(r){return void s.alertError(n,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",t.target.result)}return Array.isArray(i)?i:(s.alertError(n,"importer.jsonNotarray","Import failed, file is not an array, file was: ",t.target.result),[])},importCsvClosure:function(n){return function(t){var r=s.parseCsv(t),i;return!r||r.length<1?void s.alertError(n,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",t.target.result):(i=s.createCsvObjects(n,r),i&&0!==i.length?void s.addObjects(n,i):void s.alertError(n,"importer.noObjects","Objects were not able to be derived, content was: ",t.target.result))}},parseCsv:function(n){var t=n.target.result;return CSV.parse(t)},createCsvObjects:function(n,t){var r=n.options.importerProcessHeaders(n,t.shift()),i,u;return!r||0===r.length?(s.alertError(n,"importer.noHeaders","Column names could not be derived, content was: ",t),[]):(u=[],t.forEach(function(t){i=s.newObject(n);null!==t&&t.forEach(function(n,t){null!==r[t]&&(i[r[t]]=n)});i=n.options.importerObjectCallback(n,i);u.push(i)}),u)},processHeaders:function(n,t){var i=[],r;return n.options.columnDefs&&0!==n.options.columnDefs.length?(r=s.flattenColumnDefs(n,n.options.columnDefs),t.forEach(function(n){r[n]?i.push(r[n]):r[n.toLowerCase()]?i.push(r[n.toLowerCase()]):i.push(null)}),i):(t.forEach(function(n){i.push(n.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),i)},flattenColumnDefs:function(n,t){var i={};return t.forEach(function(t){t.name&&(i[t.name]=t.field||t.name,i[t.name.toLowerCase()]=t.field||t.name);t.field&&(i[t.field]=t.field||t.name,i[t.field.toLowerCase()]=t.field||t.name);t.displayName&&(i[t.displayName]=t.field||t.name,i[t.displayName.toLowerCase()]=t.field||t.name);t.displayName&&n.options.importerHeaderFilter&&(i[n.options.importerHeaderFilter(t.displayName)]=t.field||t.name,i[n.options.importerHeaderFilter(t.displayName).toLowerCase()]=t.field||t.name)}),i},addObjects:function(n,i){if(n.api.rowEdit){var r=n.registerDataChangeCallback(function(){n.api.rowEdit.setRowsDirty(i);r()},[t.dataChange.ROW]);n.importer.$scope.$on("$destroy",r)}n.importer.$scope.$apply(n.options.importerDataAddCallback(n,i))},newObject:function(n){return"undefined"!=typeof n.options&&"undefined"!=typeof n.options.importerNewObject?new n.options.importerNewObject:{}},alertError:function(n,t,i,u){n.options.importerErrorCallback?n.options.importerErrorCallback(n,t,i,u):(o.alert(e.getSafeText(t)),r.logError(i+u))}};return s}]);n.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(n,i,r,u){t.initializeGrid(n,u.grid)}}}]);n.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(n,t,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(n,r,u,f){var o=function(n){var i=n.srcElement||n.target,r;i&&i.files&&1===i.files.length&&(r=i.files[0],t.importThisFile(s,r),i.form.reset())},e=r[0].querySelectorAll(".ui-grid-importer-file-chooser"),s=f.grid;1!==e.length?i.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):e[0].addEventListener("change",o,!1)}}}])}(),function(){"use strict";var n=angular.module("ui.grid.infiniteScroll",["ui.grid"]);n.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants","ScrollEvent","$q",function(n,t,i,r,u,f){var e={initializeGrid:function(n,t){if(e.defaultGridOptions(n.options),n.options.enableInfiniteScroll){n.infiniteScroll={dataLoading:!1};e.setScrollDirections(n,n.options.infiniteScrollUp,n.options.infiniteScrollDown);n.api.core.on.scrollEnd(t,e.handleScroll);var i={events:{infiniteScroll:{needLoadMoreData:function(){},needLoadMoreDataTop:function(){}}},methods:{infiniteScroll:{dataLoaded:function(t,i){e.setScrollDirections(n,t,i);return e.adjustScroll(n).then(function(){n.infiniteScroll.dataLoading=!1})},resetScroll:function(t,i){e.setScrollDirections(n,t,i);e.adjustInfiniteScrollPosition(n,0)},saveScrollPercentage:function(){n.infiniteScroll.prevScrollTop=n.renderContainers.body.prevScrollTop;n.infiniteScroll.previousVisibleRows=n.getVisibleRowCount()},dataRemovedTop:function(t,i){e.dataRemovedTop(n,t,i)},dataRemovedBottom:function(t,i){e.dataRemovedBottom(n,t,i)},setScrollDirections:function(t,i){e.setScrollDirections(n,t,i)}}}};n.api.registerEventsFromObject(i.events);n.api.registerMethodsFromObject(i.methods)}},defaultGridOptions:function(n){n.enableInfiniteScroll=n.enableInfiniteScroll!==!1;n.infiniteScrollRowsFromEnd=n.infiniteScrollRowsFromEnd||20;n.infiniteScrollUp=n.infiniteScrollUp===!0;n.infiniteScrollDown=n.infiniteScrollDown!==!1},setScrollDirections:function(n,t,i){n.infiniteScroll.scrollUp=t===!0;n.suppressParentScrollUp=t===!0;n.infiniteScroll.scrollDown=i!==!1;n.suppressParentScrollDown=i!==!1},handleScroll:function(n){if(!(n.grid.infiniteScroll&&n.grid.infiniteScroll.dataLoading||"ui.grid.adjustInfiniteScrollPosition"===n.source)&&n.y)if(0===n.y.percentage)n.grid.scrollDirection=r.scrollDirection.UP,e.loadData(n.grid);else if(1===n.y.percentage)n.grid.scrollDirection=r.scrollDirection.DOWN,e.loadData(n.grid);else{var t,i=n.grid.options.infiniteScrollRowsFromEnd/n.grid.renderContainers.body.visibleRowCache.length;n.grid.scrollDirection===r.scrollDirection.UP?(t=n.y.percentage,i>=t&&e.loadData(n.grid)):n.grid.scrollDirection===r.scrollDirection.DOWN&&(t=1-n.y.percentage,i>=t&&e.loadData(n.grid))}},loadData:function(n){n.infiniteScroll.previousVisibleRows=n.renderContainers.body.visibleRowCache.length;n.infiniteScroll.direction=n.scrollDirection;delete n.infiniteScroll.prevScrollTop;n.scrollDirection===r.scrollDirection.UP&&n.infiniteScroll.scrollUp?(n.infiniteScroll.dataLoading=!0,n.api.infiniteScroll.raise.needLoadMoreDataTop()):n.scrollDirection===r.scrollDirection.DOWN&&n.infiniteScroll.scrollDown&&(n.infiniteScroll.dataLoading=!0,n.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(n){var t=f.defer();return i(function(){var o,u,s,h,f,c;o=n.getViewportHeight()+n.headerHeight-n.renderContainers.body.headerHeight-n.scrollbarHeight;u=n.options.rowHeight;void 0===n.infiniteScroll.direction&&e.adjustInfiniteScrollPosition(n,0);s=n.getVisibleRowCount();c=u*s;n.infiniteScroll.scrollDown&&o>c&&n.api.infiniteScroll.raise.needLoadMoreData();n.infiniteScroll.direction===r.scrollDirection.UP&&(h=n.infiniteScroll.prevScrollTop||0,f=h+(s-n.infiniteScroll.previousVisibleRows)*u,e.adjustInfiniteScrollPosition(n,f),i(function(){t.resolve()}));n.infiniteScroll.direction===r.scrollDirection.DOWN&&(f=n.infiniteScroll.prevScrollTop||n.infiniteScroll.previousVisibleRows*u-o,e.adjustInfiniteScrollPosition(n,f),i(function(){t.resolve()}))},0),t.promise},adjustInfiniteScrollPosition:function(n,t){var i=new u(n,null,null,"ui.grid.adjustInfiniteScrollPosition"),f=n.getVisibleRowCount(),e=n.getViewportHeight()+n.headerHeight-n.renderContainers.body.headerHeight-n.scrollbarHeight,o=n.options.rowHeight,r=f*o-e;i.y=0===t&&n.infiniteScroll.scrollUp?{percentage:1/r}:{percentage:t/r};n.scrollContainers("",i)},dataRemovedTop:function(n,t,i){var r,u,f,o;e.setScrollDirections(n,t,i);r=n.renderContainers.body.visibleRowCache.length;u=n.infiniteScroll.prevScrollTop;o=n.options.rowHeight;f=u-(n.infiniteScroll.previousVisibleRows-r)*o;e.adjustInfiniteScrollPosition(n,f)},dataRemovedBottom:function(n,t,i){var r;e.setScrollDirections(n,t,i);r=n.infiniteScroll.prevScrollTop;e.adjustInfiniteScrollPosition(n,r)}};return e}]);n.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(n){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(){return{pre:function(t,i,r,u){n.initializeGrid(u.grid,t)},post:function(){}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.moveColumns",["ui.grid"]);n.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants","gridUtil",function(n,t,i,r,u,f){var e={initializeGrid:function(n){var t=this;this.registerPublicApi(n);this.defaultGridOptions(n.options);n.moveColumns={orderCache:[]};n.registerColumnBuilder(t.movableColumnBuilder);n.registerDataChangeCallback(t.verifyColumnOrder,[u.dataChange.COLUMN])},registerPublicApi:function(n){var i=this,t={events:{colMovable:{columnPositionChanged:function(){}}},methods:{colMovable:{moveColumn:function(t,r){var u=n.columns,o,e,s;if(!angular.isNumber(t)||!angular.isNumber(r))return void f.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition");for(o=0,e=0;e<u.length;e++)(angular.isDefined(u[e].colDef.visible)&&u[e].colDef.visible===!1||u[e].isRowHeader===!0)&&o++;if(t>=u.length-o||r>=u.length-o)return void f.logError("MoveColumn: Invalid values for originalPosition, finalPosition");s=function(n){for(var i=n,t=0;i>=t;t++)angular.isDefined(u[t])&&(angular.isDefined(u[t].colDef.visible)&&u[t].colDef.visible===!1||u[t].isRowHeader===!0)&&i++;return i};i.redrawColumnAtPosition(n,s(t),s(r))}}}};n.api.registerEventsFromObject(t.events);n.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(n){n.enableColumnMoving=n.enableColumnMoving!==!1},movableColumnBuilder:function(t,i,r){return t.enableColumnMoving=void 0===t.enableColumnMoving?r.enableColumnMoving:t.enableColumnMoving,n.all([])},updateColumnCache:function(n){n.moveColumns.orderCache=n.getOnlyDataColumns()},verifyColumnOrder:function(n){var t,i=n.rowHeaderColumns.length;angular.forEach(n.moveColumns.orderCache,function(r,u){if(t=n.columns.indexOf(r),-1!==t&&t-i!==u){var f=n.columns.splice(t,1)[0];n.columns.splice(u+i,0,f)}})},redrawColumnAtPosition:function(n,i,r){var f=n.columns,c,o,l,s,h;if(i!==r){for(c=r>i?i+1:i-1,o=Math.min(c,r),o;o<=Math.max(c,r)&&!f[o].visible;o++);if(!(o>Math.max(c,r))&&(l=f[i],l.colDef.enableColumnMoving)){if(i>r)for(s=i;s>r;s--)f[s]=f[s-1];else if(r>i)for(h=i;r>h;h++)f[h]=f[h+1];f[r]=l;e.updateColumnCache(n);n.queueGridRefresh();t(function(){n.api.core.notifyDataChange(u.dataChange.COLUMN);n.api.colMovable.raise.columnPositionChanged(l.colDef,i,r)})}}}};return e}]);n.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,i,r,u){n.initializeGrid(u.grid)},post:function(){}}}}}]);n.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(n,t,i,r,u,f,e){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(n,t,u,f){var nt,tt;if(n.col.colDef.enableColumnMoving){var c,b,o,h,s,l,a=angular.element(t[0].querySelectorAll(".ui-grid-cell-contents")),v=!1,k=!1,y=function(t){c=n.grid.element[0].getBoundingClientRect().left;n.grid.hasLeftContainer()&&(c+=n.grid.renderContainers.left.header[0].getBoundingClientRect().width);b=t.pageX||(t.originalEvent?t.originalEvent.pageX:0);o=0;h=c+n.grid.getViewportWidth();"mousedown"===t.type?(r.on("mousemove",p),r.on("mouseup",w)):"touchstart"===t.type&&(r.on("touchmove",p),r.on("touchend",w))},p=function(n){var t=n.pageX||(n.originalEvent?n.originalEvent.pageX:0),i=t-b;0!==i&&(document.onselectstart=function(){return!1},k=!0,v?v&&(tt(i),b=t):nt())},w=function(){var e,r,h,u,c;if(document.onselectstart=null,s&&(s.remove(),v=!1),g(),d(),k){for(var t=n.grid.columns,f=0,l=0;l<t.length&&t[l].colDef.name!==n.col.colDef.name;l++)f++;if(0>o){if(h=0,n.grid.isRTL()){for(r=f+1;r<t.length;r++)if((angular.isUndefined(t[r].colDef.visible)||t[r].colDef.visible===!0)&&(h+=t[r].drawnWidth||t[r].width||t[r].colDef.width,h>Math.abs(o))){i.redrawColumnAtPosition(n.grid,f,r-1);break}}else for(r=f-1;r>=0;r--)if((angular.isUndefined(t[r].colDef.visible)||t[r].colDef.visible===!0)&&(h+=t[r].drawnWidth||t[r].width||t[r].colDef.width,h>Math.abs(o))){i.redrawColumnAtPosition(n.grid,f,r+1);break}h<Math.abs(o)&&(e=0,n.grid.isRTL()&&(e=t.length-1),i.redrawColumnAtPosition(n.grid,f,e))}else if(o>0){if(c=0,n.grid.isRTL()){for(u=f-1;u>0;u--)if((angular.isUndefined(t[u].colDef.visible)||t[u].colDef.visible===!0)&&(c+=t[u].drawnWidth||t[u].width||t[u].colDef.width,c>o)){i.redrawColumnAtPosition(n.grid,f,u);break}}else for(u=f+1;u<t.length;u++)if((angular.isUndefined(t[u].colDef.visible)||t[u].colDef.visible===!0)&&(c+=t[u].drawnWidth||t[u].width||t[u].colDef.width,c>o)){i.redrawColumnAtPosition(n.grid,f,u-1);break}o>c&&(e=t.length-1,n.grid.isRTL()&&(e=0),i.redrawColumnAtPosition(n.grid,f,e))}}},d=function(){a.on("touchstart",y);a.on("mousedown",y)},g=function(){a.off("touchstart",y);a.off("mousedown",y);r.off("mousemove",p);r.off("touchmove",p);r.off("mouseup",w);r.off("touchend",w)};d();nt=function(){var i,r,u;v=!0;s=t.clone();t.parent().append(s);s.addClass("movingColumn");i={};i.left=t[0].offsetLeft+"px";r=n.grid.element[0].getBoundingClientRect().right;u=t[0].getBoundingClientRect().right;u>r&&(l=n.col.drawnWidth+(r-u),i.width=l+"px");s.css(i)};tt=function(t){for(var a,v,b,y,p,r,i=n.grid.columns,w=0,u=0;u<i.length;u++)(angular.isUndefined(i[u].colDef.visible)||i[u].colDef.visible===!0)&&(w+=i[u].drawnWidth||i[u].width||i[u].colDef.width);for(v=s[0].getBoundingClientRect().left-1,b=s[0].getBoundingClientRect().right,(a=v-c+t,a=h>a?a:h,(v>=c||t>0)&&(h>=b||0>t))?s.css({visibility:"visible",left:s[0].offsetLeft+(h>a?t:h-v)+"px"}):w>Math.ceil(f.grid.gridWidth)&&(t*=8,y=new e(n.col.grid,null,null,"uiGridHeaderCell.moveElement"),y.x={pixels:t},y.grid.scrollContainers("",y)),p=0,r=0;r<i.length;r++)if(angular.isUndefined(i[r].colDef.visible)||i[r].colDef.visible===!0){if(i[r].colDef.name===n.col.colDef.name)break;p+=i[r].drawnWidth||i[r].width||i[r].colDef.width}void 0===n.newScrollLeft?o+=t:o=n.newScrollLeft+a-p;l<n.col.drawnWidth&&(l+=Math.abs(t),s.css({width:l+"px"}))};n.$on("$destroy",g)}}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.pagination",["ng","ui.grid"]);n.service("uiGridPaginationService",["gridUtil",function(n){var t={initializeGrid:function(n){var i,r;t.defaultGridOptions(n.options);i={events:{pagination:{paginationChanged:function(){}}},methods:{pagination:{getPage:function(){return n.options.enablePagination?n.options.paginationCurrentPage:null},getFirstRowIndex:function(){return n.options.useCustomPagination?n.options.paginationPageSizes.reduce(function(t,i,r){return r<n.options.paginationCurrentPage-1?t+i:t},0):(n.options.paginationCurrentPage-1)*n.options.paginationPageSize},getLastRowIndex:function(){return n.options.useCustomPagination?i.methods.pagination.getFirstRowIndex()+n.options.paginationPageSizes[n.options.paginationCurrentPage-1]-1:Math.min(n.options.paginationCurrentPage*n.options.paginationPageSize,n.options.totalItems)-1},getTotalPages:function(){return n.options.enablePagination?n.options.useCustomPagination?n.options.paginationPageSizes.length:0===n.options.totalItems?1:Math.ceil(n.options.totalItems/n.options.paginationPageSize):null},nextPage:function(){n.options.enablePagination&&(n.options.totalItems>0?n.options.paginationCurrentPage=Math.min(n.options.paginationCurrentPage+1,i.methods.pagination.getTotalPages()):n.options.paginationCurrentPage++)},previousPage:function(){n.options.enablePagination&&(n.options.paginationCurrentPage=Math.max(n.options.paginationCurrentPage-1,1))},seek:function(t){if(n.options.enablePagination){if(!angular.isNumber(t)||1>t)throw"Invalid page number: "+t;n.options.paginationCurrentPage=Math.min(t,i.methods.pagination.getTotalPages())}}}}};n.api.registerEventsFromObject(i.events);n.api.registerMethodsFromObject(i.methods);r=function(t){var r,e;if(n.options.useExternalPagination||!n.options.enablePagination)return t;var o=parseInt(n.options.paginationPageSize,10),f=parseInt(n.options.paginationCurrentPage,10),u=t.filter(function(n){return n.visible});return n.options.totalItems=u.length,r=i.methods.pagination.getFirstRowIndex(),e=i.methods.pagination.getLastRowIndex(),r>u.length&&(f=n.options.paginationCurrentPage=1,r=(f-1)*o),u.slice(r,e+1)};n.registerRowsProcessor(r,900)},defaultGridOptions:function(t){t.enablePagination=t.enablePagination!==!1;t.enablePaginationControls=t.enablePaginationControls!==!1;t.useExternalPagination=t.useExternalPagination===!0;t.useCustomPagination=t.useCustomPagination===!0;n.isNullOrUndefined(t.totalItems)&&(t.totalItems=0);n.isNullOrUndefined(t.paginationPageSizes)&&(t.paginationPageSizes=[250,500,1e3]);n.isNullOrUndefined(t.paginationPageSize)&&(t.paginationPageSize=t.paginationPageSizes.length>0?t.paginationPageSizes[0]:0);n.isNullOrUndefined(t.paginationCurrentPage)&&(t.paginationCurrentPage=1);n.isNullOrUndefined(t.paginationTemplate)&&(t.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(n,t,i){n.api.pagination.raise.paginationChanged(t,i);n.options.useExternalPagination||n.queueGridRefresh()}};return t}]);n.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(n,t){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(i,r,u,f){t.initializeGrid(f.grid);n.getTemplate(f.grid.options.paginationTemplate).then(function(n){var t=angular.element(n);r.append(t);f.innerCompile(t)})}}}}]);n.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(n,t,i,r){return{priority:-200,scope:!0,require:"^uiGrid",link:function(u,f,e,o){var a=".ui-grid-pager-control-input",s,c,l,h;u.aria=r.getSafeText("pagination.aria");u.paginationApi=o.grid.api.pagination;u.sizesLabel=r.getSafeText("pagination.sizes");u.totalItemsLabel=r.getSafeText("pagination.totalItems");u.paginationOf=r.getSafeText("pagination.of");u.paginationThrough=r.getSafeText("pagination.through");s=o.grid.options;o.grid.renderContainers.body.registerViewportAdjuster(function(n){return n.height=n.height-i.elementHeight(f,"padding"),n});c=o.grid.registerDataChangeCallback(function(n){n.options.useExternalPagination||(n.options.totalItems=n.rows.length)},[t.dataChange.ROW]);u.$on("$destroy",c);l=u.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(t,i){if(t!==i&&void 0!==i)return!angular.isNumber(s.paginationCurrentPage)||s.paginationCurrentPage<1?void(s.paginationCurrentPage=1):s.totalItems>0&&s.paginationCurrentPage>u.paginationApi.getTotalPages()?void(s.paginationCurrentPage=u.paginationApi.getTotalPages()):void n.onPaginationChanged(u.grid,s.paginationCurrentPage,s.paginationPageSize)});u.$on("$destroy",function(){l()});u.cantPageForward=function(){return u.paginationApi.getTotalPages()?u.cantPageToLast():s.data.length<1};u.cantPageToLast=function(){var n=u.paginationApi.getTotalPages();return!n||s.paginationCurrentPage>=n};u.cantPageBackward=function(){return s.paginationCurrentPage<=1};h=function(n){n&&i.focus.bySelector(f,a)};u.pageFirstPageClick=function(){u.paginationApi.seek(1);h(u.cantPageBackward())};u.pagePreviousPageClick=function(){u.paginationApi.previousPage();h(u.cantPageBackward())};u.pageNextPageClick=function(){u.paginationApi.nextPage();h(u.cantPageForward())};u.pageLastPageClick=function(){u.paginationApi.seek(u.paginationApi.getTotalPages());h(u.cantPageToLast())}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.pinning",["ui.grid"]);n.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}});n.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(n,t,i,r){var u={initializeGrid:function(n){u.defaultGridOptions(n.options);n.registerColumnBuilder(u.pinningColumnBuilder);var t={events:{pinning:{columnPinned:function(){}}},methods:{pinning:{pinColumn:function(t,i){u.pinColumn(n,t,i)}}}};n.api.registerEventsFromObject(t.events);n.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(n){n.enablePinning=n.enablePinning!==!1},pinningColumnBuilder:function(t,f,e){if(t.enablePinning=void 0===t.enablePinning?e.enablePinning:t.enablePinning,t.pinnedLeft?(f.renderContainer="left",f.grid.createLeftContainer()):t.pinnedRight&&(f.renderContainer="right",f.grid.createRightContainer()),t.enablePinning){var o={name:"ui.grid.pinning.pinLeft",title:i.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){u.pinColumn(this.context.col.grid,this.context.col,r.container.LEFT)}},s={name:"ui.grid.pinning.pinRight",title:i.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){u.pinColumn(this.context.col.grid,this.context.col,r.container.RIGHT)}},h={name:"ui.grid.pinning.unpin",title:i.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return"undefined"!=typeof this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){u.pinColumn(this.context.col.grid,this.context.col,r.container.NONE)}};n.arrayContainsObjectWithProperty(f.menuItems,"name","ui.grid.pinning.pinLeft")||f.menuItems.push(o);n.arrayContainsObjectWithProperty(f.menuItems,"name","ui.grid.pinning.pinRight")||f.menuItems.push(s);n.arrayContainsObjectWithProperty(f.menuItems,"name","ui.grid.pinning.unpin")||f.menuItems.push(h)}},pinColumn:function(n,t,i){i===r.container.NONE?(t.renderContainer=null,t.colDef.pinnedLeft=t.colDef.pinnedRight=!1):(t.renderContainer=i,i===r.container.LEFT?n.createLeftContainer():i===r.container.RIGHT&&n.createRightContainer());n.refresh().then(function(){n.api.pinning.raise.columnPinned(t.colDef,i)})}};return u}]);n.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(n,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,u){t.initializeGrid(u.grid)},post:function(){}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.resizeColumns",["ui.grid"]);n.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(n,t,i){return{defaultGridOptions:function(n){n.enableColumnResizing=n.enableColumnResizing!==!1;n.enableColumnResize===!1&&(n.enableColumnResizing=!1)},colResizerColumnBuilder:function(n,i,r){return n.enableColumnResizing=void 0===n.enableColumnResizing?r.enableColumnResizing:n.enableColumnResizing,n.enableColumnResize===!1&&(n.enableColumnResizing=!1),t.all([])},registerPublicApi:function(n){var t={events:{colResizable:{columnSizeChanged:function(){}}}};n.api.registerEventsFromObject(t.events)},fireColumnSizeChanged:function(t,r,u){i(function(){t.api.colResizable?t.api.colResizable.raise.columnSizeChanged(r,u):n.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(n,t,i){var r=n.getRenderContainer(),u;return"left"===t?(u=r.visibleColumnCache.indexOf(n),r.visibleColumnCache[u-1*i]):n}}}]);n.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,u){t.defaultGridOptions(u.grid.options);u.grid.registerColumnBuilder(t.colResizerColumnBuilder);t.registerPublicApi(u.grid)},post:function(){}}}}}]);n.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(n,t,i,r,u,f,e){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(n,r,o,s){var h=s.grid,c,l,a,v,y;h.options.enableColumnResizing&&(c=t.get("ui-grid/columnResizer"),l=1,h.isRTL()&&(n.position="left",l=-1),a=function(){for(var s,h,f,e,o=r[0].getElementsByClassName("ui-grid-column-resizer"),t=0;t<o.length;t++)angular.element(o[t]).remove();s=u.findTargetCol(n.col,"left",l);h=n.col.getRenderContainer();s&&0!==h.visibleColumnCache.indexOf(n.col)&&s.colDef.enableColumnResizing!==!1&&(f=angular.element(c).clone(),f.attr("position","left"),r.prepend(f),i(f)(n));n.col.colDef.enableColumnResizing!==!1&&(e=angular.element(c).clone(),e.attr("position","right"),r.append(e),i(e)(n))},a(),v=function(){e(a)},y=h.registerDataChangeCallback(v,[f.dataChange.COLUMN]),n.$on("$destroy",y))}}}}}]);n.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(n,t,i,r){var u=angular.element('<div class="ui-grid-resize-overlay"><\/div>');return{priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(f,e,o,s){function g(){s.grid.refreshCanvas(!0).then(function(){s.grid.queueGridRefresh()})}function w(n,t){var i=t;return n.minWidth&&i<n.minWidth?i=n.minWidth:n.maxWidth&&i>n.maxWidth&&(i=n.maxWidth),i}function a(n){var t,o,e;n.originalEvent&&(n=n.originalEvent);n.preventDefault();h=(n.targetTouches?n.targetTouches[0]:n).clientX-p;0>h?h=0:h>s.grid.gridWidth&&(h=s.grid.gridWidth);t=r.findTargetCol(f.col,f.position,c);t.colDef.enableColumnResizing!==!1&&(s.grid.element.hasClass("column-resizing")||s.grid.element.addClass("column-resizing"),o=h-y,e=parseInt(t.drawnWidth+o*c,10),h+=(w(t,e)-e)*c,u.css({left:h+"px"}),s.fireEvent(i.events.ITEM_DRAGGING))}function v(n){var i,t,e;if(n.originalEvent&&(n=n.originalEvent),n.preventDefault(),s.grid.element.removeClass("column-resizing"),u.remove(),h=(n.changedTouches?n.changedTouches[0]:n).clientX-p,i=h-y,0===i)return k(),void b();t=r.findTargetCol(f.col,f.position,c);t.colDef.enableColumnResizing!==!1&&(e=parseInt(t.drawnWidth+i*c,10),t.width=w(t,e),t.hasCustomWidth=!0,g(i),r.fireColumnSizeChanged(s.grid,t.colDef,i),k(),b())}var y=0,h=0,p=0,c=1,d;s.grid.isRTL()&&(f.position="left",c=-1);"left"===f.position?e.addClass("left"):"right"===f.position&&e.addClass("right");var l=function(t){t.originalEvent&&(t=t.originalEvent);t.stopPropagation();p=s.grid.element[0].getBoundingClientRect().left;y=(t.targetTouches?t.targetTouches[0]:t).clientX-p;s.grid.element.append(u);u.css({left:y});"touchstart"===t.type?(n.on("touchend",v),n.on("touchmove",a),e.off("mousedown",l)):(n.on("mouseup",v),n.on("mousemove",a),e.off("touchstart",l))},b=function(){e.on("mousedown",l);e.on("touchstart",l)},k=function(){n.off("mouseup",v);n.off("touchend",v);n.off("mousemove",a);n.off("touchmove",a);e.off("mousedown",l);e.off("touchstart",l)};b();d=function(n){var u;if(n.stopPropagation(),u=r.findTargetCol(f.col,f.position,c),u.colDef.enableColumnResizing!==!1){var o=0,h=0,l=t.closestElm(e,".ui-grid-render-container"),a=l.querySelectorAll("."+i.COL_CLASS_PREFIX+u.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(a,function(n){var i;angular.element(n).parent().hasClass("ui-grid-header-cell")&&(i=angular.element(n).parent()[0].querySelectorAll(".ui-grid-column-menu-button"));t.fakeElement(n,{},function(n){var u=angular.element(n),r,f;u.attr("style","float: left");r=t.elementWidth(u);i&&(f=t.elementWidth(i),r+=f);r>o&&(o=r,h=o-r)})});u.width=w(u,o);u.hasCustomWidth=!0;g(h);r.fireColumnSizeChanged(s.grid,u.colDef,h)}};e.on("dblclick",d);e.on("$destroy",function(){e.off("dblclick",d);k()})}}}])}(),function(){"use strict";var n=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);n.constant("uiGridRowEditConstants",{});n.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(n,t,i,r,u){var f={initializeGrid:function(n,t){t.rowEdit={};var i={events:{rowEdit:{saveRow:function(){}}},methods:{rowEdit:{setSavePromise:function(n,i){f.setSavePromise(t,n,i)},getDirtyRows:function(){return t.rowEdit.dirtyRows?t.rowEdit.dirtyRows:[]},getErrorRows:function(){return t.rowEdit.errorRows?t.rowEdit.errorRows:[]},flushDirtyRows:function(){return f.flushDirtyRows(t)},setRowsDirty:function(n){f.setRowsDirty(t,n)},setRowsClean:function(n){f.setRowsClean(t,n)}}}};t.api.registerEventsFromObject(i.events);t.api.registerMethodsFromObject(i.methods);t.api.core.on.renderingComplete(n,function(){t.api.edit.on.afterCellEdit(n,f.endEditCell);t.api.edit.on.beginCellEdit(n,f.beginEditCell);t.api.edit.on.cancelCellEdit(n,f.cancelEditCell);t.api.cellNav&&t.api.cellNav.on.navigate(n,f.navigate)})},defaultGridOptions:function(){},saveRow:function(n,t){var i=this;return function(){if(t.isSaving=!0,t.rowEditSavePromise)return t.rowEditSavePromise;var r=n.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(i.processSuccessPromise(n,t),i.processErrorPromise(n,t)):u.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),r}},setSavePromise:function(n,t,i){var r=n.getRow(t);r.rowEditSavePromise=i},processSuccessPromise:function(n,t){var i=this;return function(){delete t.isSaving;delete t.isDirty;delete t.isError;delete t.rowEditSaveTimer;delete t.rowEditSavePromise;i.removeRow(n.rowEdit.errorRows,t);i.removeRow(n.rowEdit.dirtyRows,t)}},processErrorPromise:function(n,t){return function(){delete t.isSaving;delete t.rowEditSaveTimer;delete t.rowEditSavePromise;t.isError=!0;n.rowEdit.errorRows||(n.rowEdit.errorRows=[]);f.isRowPresent(n.rowEdit.errorRows,t)||n.rowEdit.errorRows.push(t)}},removeRow:function(n,t){"undefined"!=typeof n&&null!==n&&n.forEach(function(i,r){i.uid===t.uid&&n.splice(r,1)})},isRowPresent:function(n,t){var i=!1;return n.forEach(function(n){n.uid===t.uid&&(i=!0)}),i},flushDirtyRows:function(n){var i=[];return n.api.rowEdit.getDirtyRows().forEach(function(t){f.saveRow(n,t)();i.push(t.rowEditSavePromise)}),t.all(i)},endEditCell:function(n,t,i,r){var o=this.grid,e=o.getRow(n);return e?void((i!==r||e.isDirty)&&(o.rowEdit.dirtyRows||(o.rowEdit.dirtyRows=[]),e.isDirty||(e.isDirty=!0,o.rowEdit.dirtyRows.push(e)),delete e.isError,f.considerSetTimer(o,e))):void u.logError("Unable to find rowEntity in grid data, dirty flag cannot be set")},beginEditCell:function(n){var t=this.grid,i=t.getRow(n);return i?void f.cancelTimer(t,i):void u.logError("Unable to find rowEntity in grid data, timer cannot be cancelled")},cancelEditCell:function(n){var t=this.grid,i=t.getRow(n);return i?void f.considerSetTimer(t,i):void u.logError("Unable to find rowEntity in grid data, timer cannot be set")},navigate:function(n,t){var i=this.grid;n.row.rowEditSaveTimer&&f.cancelTimer(i,n.row);t&&t.row&&t.row!==n.row&&f.considerSetTimer(i,t.row)},considerSetTimer:function(t,i){if(f.cancelTimer(t,i),i.isDirty&&!i.isSaving&&-1!==t.options.rowEditWaitInterval){var r=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;i.rowEditSaveTimer=n(f.saveRow(t,i),r,1)}},cancelTimer:function(t,i){i.rowEditSaveTimer&&!i.isSaving&&(n.cancel(i.rowEditSaveTimer),delete i.rowEditSaveTimer)},setRowsDirty:function(n,t){var i;t.forEach(function(t){i=n.getRow(t);i?(n.rowEdit.dirtyRows||(n.rowEdit.dirtyRows=[]),i.isDirty||(i.isDirty=!0,n.rowEdit.dirtyRows.push(i)),delete i.isError,f.considerSetTimer(n,i)):u.logError("requested row not found in rowEdit.setRowsDirty, row was: "+t)})},setRowsClean:function(n,t){var i;t.forEach(function(t){i=n.getRow(t);i?(delete i.isDirty,f.removeRow(n.rowEdit.dirtyRows,i),f.cancelTimer(n,i),delete i.isError,f.removeRow(n.rowEdit.errorRows,i)):u.logError("requested row not found in rowEdit.setRowsClean, row was: "+t)})}};return f}]);n.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,u){t.initializeGrid(n,u.grid)},post:function(){}}}}}]);n.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(){return{priority:-200,scope:!1,compile:function(n){var t=angular.element(n.children().children()[0]),i=t.attr("ng-class"),r="";return r=i?i.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",t.attr("ng-class",r),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);n.constant("uiGridSaveStateConstants",{featureName:"saveState"});n.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(){var n={initializeGrid:function(t){t.saveState={};this.defaultGridOptions(t.options);var i={events:{saveState:{}},methods:{saveState:{save:function(){return n.save(t)},restore:function(i,r){n.restore(t,i,r)}}}};t.api.registerEventsFromObject(i.events);t.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(n){n.saveWidths=n.saveWidths!==!1;n.saveOrder=n.saveOrder!==!1;n.saveScroll=n.saveScroll===!0;n.saveFocus=n.saveScroll!==!0&&n.saveFocus!==!1;n.saveVisible=n.saveVisible!==!1;n.saveSort=n.saveSort!==!1;n.saveFilter=n.saveFilter!==!1;n.saveSelection=n.saveSelection!==!1;n.saveGrouping=n.saveGrouping!==!1;n.saveGroupingExpandedStates=n.saveGroupingExpandedStates===!0;n.savePinning=n.savePinning!==!1;n.saveTreeView=n.saveTreeView!==!1},save:function(t){var i={};return i.columns=n.saveColumns(t),i.scrollFocus=n.saveScrollFocus(t),i.selection=n.saveSelection(t),i.grouping=n.saveGrouping(t),i.treeView=n.saveTreeView(t),i.pagination=n.savePagination(t),i},restore:function(t,i,r){r.columns&&n.restoreColumns(t,r.columns);r.scrollFocus&&n.restoreScrollFocus(t,i,r.scrollFocus);r.selection&&n.restoreSelection(t,r.selection);r.grouping&&n.restoreGrouping(t,r.grouping);r.treeView&&n.restoreTreeView(t,r.treeView);r.pagination&&n.restorePagination(t,r.pagination);t.refresh()},saveColumns:function(n){var t=[];return n.getOnlyDataColumns().forEach(function(i){var r={};r.name=i.name;n.options.saveVisible&&(r.visible=i.visible);n.options.saveWidths&&(r.width=i.width);n.options.saveSort&&(r.sort=angular.copy(i.sort));n.options.saveFilter&&(r.filters=[],i.filters.forEach(function(n){var t={};angular.forEach(n,function(n,i){"condition"!==i&&"$$hashKey"!==i&&"placeholder"!==i&&(t[i]=n)});r.filters.push(t)}));n.api.pinning&&n.options.savePinning&&(r.pinned=i.renderContainer?i.renderContainer:"");t.push(r)}),t},saveScrollFocus:function(t){var i,r;return t.api.cellNav?(i={},t.options.saveFocus&&(i.focus=!0,r=t.api.cellNav.getFocusedCell(),null!==r&&(null!==r.col&&(i.colName=r.col.colDef.name),null!==r.row&&(i.rowVal=n.getRowVal(t,r.row)))),(t.options.saveScroll||t.options.saveFocus&&!i.colName&&!i.rowVal)&&(i.focus=!1,t.renderContainers.body.prevRowScrollIndex&&(i.rowVal=n.getRowVal(t,t.renderContainers.body.visibleRowCache[t.renderContainers.body.prevRowScrollIndex])),t.renderContainers.body.prevColScrollIndex&&(i.colName=t.renderContainers.body.visibleColumnCache[t.renderContainers.body.prevColScrollIndex].name)),i):{}},saveSelection:function(t){if(!t.api.selection||!t.options.saveSelection)return[];return t.api.selection.getSelectedGridRows().map(function(i){return n.getRowVal(t,i)})},saveGrouping:function(n){return n.api.grouping&&n.options.saveGrouping?n.api.grouping.getGrouping(n.options.saveGroupingExpandedStates):{}},savePagination:function(n){return n.api.pagination&&n.options.paginationPageSize?{paginationCurrentPage:n.options.paginationCurrentPage,paginationPageSize:n.options.paginationPageSize}:{}},saveTreeView:function(n){return n.api.treeView&&n.options.saveTreeView?n.api.treeView.getTreeView():{}},getRowVal:function(n,t){if(!t)return null;var i={};return n.options.saveRowIdentity?(i.identity=!0,i.row=n.options.saveRowIdentity(t.entity)):(i.identity=!1,i.row=n.renderContainers.body.visibleRowCache.indexOf(t)),i},restoreColumns:function(n,t){var i=!1;t.forEach(function(t,r){var u=n.getColumn(t.name),f,e;u&&!n.isRowHeaderColumn(u)&&(n.options.saveVisible&&(u.visible!==t.visible||u.colDef.visible!==t.visible)&&(u.visible=t.visible,u.colDef.visible=t.visible,n.api.core.raise.columnVisibilityChanged(u)),n.options.saveWidths&&u.width!==t.width&&(u.width=t.width,u.hasCustomWidth=!0),!n.options.saveSort||angular.equals(u.sort,t.sort)||void 0===u.sort&&angular.isEmpty(t.sort)||(u.sort=angular.copy(t.sort),i=!0),n.options.saveFilter&&!angular.equals(u.filters,t.filters)&&(t.filters.forEach(function(n,t){angular.extend(u.filters[t],n);("undefined"==typeof n.term||null===n.term)&&delete u.filters[t].term}),n.api.core.raise.filterChanged()),n.api.pinning&&n.options.savePinning&&u.renderContainer!==t.pinned&&n.api.pinning.pinColumn(u,t.pinned),f=n.getOnlyDataColumns().indexOf(u),-1!==f&&n.options.saveOrder&&f!==r&&(e=n.columns.splice(f+n.rowHeaderColumns.length,1)[0],n.columns.splice(r+n.rowHeaderColumns.length,0,e)))});i&&n.api.core.raise.sortChanged(n,n.getColumnSorting())},restoreScrollFocus:function(t,i,r){var u,f,o,e;t.api.cellNav&&(r.colName&&(o=t.options.columnDefs.filter(function(n){return n.name===r.colName}),o.length>0&&(u=o[0])),r.rowVal&&r.rowVal.row&&(f=r.rowVal.identity?n.findRowByIdentity(t,r.rowVal):t.renderContainers.body.visibleRowCache[r.rowVal.row]),e=f&&f.entity?f.entity:null,(u||e)&&(r.focus?t.api.cellNav.scrollToFocus(e,u):t.scrollTo(e,u)))},restoreSelection:function(t,i){t.api.selection&&(t.api.selection.clearSelectedRows(),i.forEach(function(i){if(i.identity){var r=n.findRowByIdentity(t,i);r&&t.api.selection.selectRow(r.entity)}else t.api.selection.selectRowByVisibleIndex(i.row)}))},restoreGrouping:function(n,t){n.api.grouping&&"undefined"!=typeof t&&null!==t&&!angular.equals(t,{})&&n.api.grouping.setGrouping(t)},restoreTreeView:function(n,t){n.api.treeView&&"undefined"!=typeof t&&null!==t&&!angular.equals(t,{})&&n.api.treeView.setTreeView(t)},restorePagination:function(n,t){n.api.pagination&&n.options.paginationPageSize&&(n.options.paginationCurrentPage=t.paginationCurrentPage,n.options.paginationPageSize=t.paginationPageSize)},findRowByIdentity:function(n,t){if(!n.options.saveRowIdentity)return null;var i=n.rows.filter(function(i){return n.options.saveRowIdentity(i.entity)===t.row});return i.length>0?i[0]:null}};return n}]);n.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(n,i,r,u){t.initializeGrid(u.grid)}}}])}(),function(){"use strict";var n=angular.module("ui.grid.selection",["ui.grid"]);n.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"});angular.module("ui.grid").config(["$provide",function(n){n.decorator("GridRow",["$delegate",function(n){return n.prototype.setSelected=function(n){n!==this.isSelected&&(this.isSelected=n,this.grid.selection.selectedCount+=n?1:-1)},n}])}]);n.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(){var n={initializeGrid:function(t){t.selection={};t.selection.lastSelectedRow=null;t.selection.selectAll=!1;t.selection.selectedCount=0;n.defaultGridOptions(t.options);var i={events:{selection:{rowSelectionChanged:function(){},rowSelectionChangedBatch:function(){}}},methods:{selection:{toggleRowSelection:function(i,r){var u=t.getRow(i);null!==u&&n.toggleRowSelection(t,u,r,t.options.multiSelect,t.options.noUnselect)},selectRow:function(i,r){var u=t.getRow(i);null===u||u.isSelected||n.toggleRowSelection(t,u,r,t.options.multiSelect,t.options.noUnselect)},selectRowByVisibleIndex:function(i,r){var u=t.renderContainers.body.visibleRowCache[i];null===u||"undefined"==typeof u||u.isSelected||n.toggleRowSelection(t,u,r,t.options.multiSelect,t.options.noUnselect)},unSelectRow:function(i,r){var u=t.getRow(i);null!==u&&u.isSelected&&n.toggleRowSelection(t,u,r,t.options.multiSelect,t.options.noUnselect)},selectAllRows:function(i){if(t.options.multiSelect!==!1){var r=[];t.rows.forEach(function(u){u.isSelected||u.enableSelection===!1||(u.setSelected(!0),n.decideRaiseSelectionEvent(t,u,r,i))});n.decideRaiseSelectionBatchEvent(t,r,i);t.selection.selectAll=!0}},selectAllVisibleRows:function(i){if(t.options.multiSelect!==!1){var r=[];t.rows.forEach(function(u){u.visible?u.isSelected||u.enableSelection===!1||(u.setSelected(!0),n.decideRaiseSelectionEvent(t,u,r,i)):u.isSelected&&(u.setSelected(!1),n.decideRaiseSelectionEvent(t,u,r,i))});n.decideRaiseSelectionBatchEvent(t,r,i);t.selection.selectAll=!0}},clearSelectedRows:function(i){n.clearSelectedRows(t,i)},getSelectedRows:function(){return n.getSelectedRows(t).map(function(n){return n.entity})},getSelectedGridRows:function(){return n.getSelectedRows(t)},getSelectedCount:function(){return t.selection.selectedCount},setMultiSelect:function(n){t.options.multiSelect=n},setModifierKeysToMultiSelect:function(n){t.options.modifierKeysToMultiSelect=n},getSelectAllState:function(){return t.selection.selectAll}}}};t.api.registerEventsFromObject(i.events);t.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(n){n.enableRowSelection=n.enableRowSelection!==!1;n.multiSelect=n.multiSelect!==!1;n.noUnselect=n.noUnselect===!0;n.modifierKeysToMultiSelect=n.modifierKeysToMultiSelect===!0;n.enableRowHeaderSelection=n.enableRowHeaderSelection!==!1;"undefined"==typeof n.enableFullRowSelection&&(n.enableFullRowSelection=!n.enableRowHeaderSelection);n.enableSelectAll=n.enableSelectAll!==!1;n.enableSelectionBatchEvent=n.enableSelectionBatchEvent!==!1;n.selectionRowHeaderWidth=angular.isDefined(n.selectionRowHeaderWidth)?n.selectionRowHeaderWidth:30;n.enableFooterTotalSelected=n.enableFooterTotalSelected!==!1;n.isRowSelectable=angular.isDefined(n.isRowSelectable)?n.isRowSelectable:angular.noop},toggleRowSelection:function(t,i,r,u,f){var e=i.isSelected,o;(i.enableSelection!==!1||e)&&(u||e?!u&&e&&(o=n.getSelectedRows(t),o.length>1&&(e=!1,n.clearSelectedRows(t,r))):n.clearSelectedRows(t,r),e&&f||(i.setSelected(!e),i.isSelected===!0&&(t.selection.lastSelectedRow=i),o=n.getSelectedRows(t),t.selection.selectAll=t.rows.length===o.length,t.api.selection.raise.rowSelectionChanged(i,r)))},shiftSelect:function(t,i,r,u){var c,h,s,f;if(u){var l=n.getSelectedRows(t),e=l.length>0?t.renderContainers.body.visibleRowCache.indexOf(t.selection.lastSelectedRow):0,o=t.renderContainers.body.visibleRowCache.indexOf(i);for(e>o&&(c=e,e=o,o=c),h=[],s=e;o>=s;s++)f=t.renderContainers.body.visibleRowCache[s],f&&(f.isSelected||f.enableSelection===!1||(f.setSelected(!0),t.selection.lastSelectedRow=f,n.decideRaiseSelectionEvent(t,f,h,r)));n.decideRaiseSelectionBatchEvent(t,h,r)}},getSelectedRows:function(n){return n.rows.filter(function(n){return n.isSelected})},clearSelectedRows:function(t,i){var r=[];n.getSelectedRows(t).forEach(function(u){u.isSelected&&(u.setSelected(!1),n.decideRaiseSelectionEvent(t,u,r,i))});n.decideRaiseSelectionBatchEvent(t,r,i);t.selection.selectAll=!1;t.selection.selectedCount=0},decideRaiseSelectionEvent:function(n,t,i,r){n.options.enableSelectionBatchEvent?i.push(t):n.api.selection.raise.rowSelectionChanged(t,r)},decideRaiseSelectionBatchEvent:function(n,t,i){t.length>0&&n.api.selection.raise.rowSelectionChangedBatch(t,i)}};return n}]);n.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(n,t,i,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(i,u,f,e){var o,c;(t.initializeGrid(e.grid),e.grid.options.enableRowHeaderSelection)&&(o={name:n.selectionRowHeaderColName,displayName:"",width:e.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0},e.grid.addRowHeaderColumn(o,0));var s=!1,l=function(n){return n.forEach(function(n){n.enableSelection=e.grid.options.isRowSelectable(n)}),n},h=function(){e.grid.options.isRowSelectable!==angular.noop&&s!==!0&&(e.grid.registerRowsProcessor(l,500),s=!0)};h();c=e.grid.registerDataChangeCallback(h,[r.dataChange.OPTIONS]);i.$on("$destroy",c)},post:function(){}}}}}]);n.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(n,t,i){return{replace:!0,restrict:"E",template:n.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(n,r,u,f){function o(n,i){i.stopPropagation();i.shiftKey?t.shiftSelect(e,n,i,e.options.multiSelect):i.ctrlKey||i.metaKey?t.toggleRowSelection(e,n,i,e.options.multiSelect,e.options.noUnselect):t.toggleRowSelection(e,n,i,e.options.multiSelect&&!e.options.modifierKeysToMultiSelect,e.options.noUnselect)}function s(n){(n.ctrlKey||n.shiftKey)&&(n.target.onselectstart=function(){return!1},window.setTimeout(function(){n.target.onselectstart=null},0))}var e=f.grid;n.selectButtonClick=o;"ie"===i.detectBrowser()&&r.on("mousedown",s);n.$on("$destroy",function(){r.off()})}}}]);n.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(n,t){return{replace:!0,restrict:"E",template:n.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(n){var i=n.col.grid;n.headerButtonClick=function(n,r){i.selection.selectAll?(t.clearSelectedRows(i,r),i.options.noUnselect&&i.api.selection.selectRowByVisibleIndex(0,r),i.selection.selectAll=!1):i.options.multiSelect&&(i.api.selection.selectAllVisibleRows(r),i.selection.selectAll=!0)}}}}]);n.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(){return{priority:-200,scope:!1,compile:function(n){var t=angular.element(n.children().children()[0]),i=t.attr("ng-class"),r="";return r=i?i.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",t.attr("ng-class",r),{pre:function(){},post:function(){}}}}}]);n.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function(n,t,i,r,u,f,e){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(n,i,r,u){function c(){n.grid.options.enableRowSelection&&n.grid.options.enableFullRowSelection&&(i.addClass("ui-grid-disable-selection"),i.on("touchstart",a),i.on("touchend",s),i.on("click",o),n.registered=!0)}function y(){n.registered&&(i.removeClass("ui-grid-disable-selection"),i.off("touchstart",a),i.off("touchend",s),i.off("click",o),n.registered=!1)}var l=0,h=300,v;u.grid.api.cellNav&&u.grid.api.cellNav.on.viewPortKeyDown(n,function(t,i){null!==i&&i.row===n.row&&i.col===n.col&&32===t.keyCode&&"selectionRowHeaderCol"===n.col.colDef.name&&(f.toggleRowSelection(n.grid,n.row,t,n.grid.options.multiSelect&&!n.grid.options.modifierKeysToMultiSelect,n.grid.options.noUnselect),n.$apply())});var o=function(t){"ui-grid-icon-minus-squared"!==t.target.className&&"ui-grid-icon-plus-squared"!==t.target.className&&(i.off("touchend",s),t.shiftKey?f.shiftSelect(n.grid,n.row,t,n.grid.options.multiSelect):t.ctrlKey||t.metaKey?f.toggleRowSelection(n.grid,n.row,t,n.grid.options.multiSelect,n.grid.options.noUnselect):f.toggleRowSelection(n.grid,n.row,t,n.grid.options.multiSelect&&!n.grid.options.modifierKeysToMultiSelect,n.grid.options.noUnselect),n.$apply(),e(function(){i.on("touchend",s)},h))},a=function(){l=(new Date).getTime();i.off("click",o)},s=function(n){var t=(new Date).getTime(),r=t-l;h>r&&o(n);e(function(){i.on("click",o)},h)};c();v=n.grid.registerDataChangeCallback(function(){n.grid.options.enableRowSelection&&n.grid.options.enableFullRowSelection&&!n.registered?c():n.grid.options.enableRowSelection&&n.grid.options.enableFullRowSelection||!n.registered||y()},[t.dataChange.OPTIONS]);i.on("$destroy",v)}}}]);n.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(n,t,i){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(t,r,u,f){f.grid.options.showGridFooter&&i.getTemplate("ui-grid/gridFooterSelectedItems").then(function(i){var u=angular.element(i),f=n(u)(t);angular.element(r[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(f)})},post:function(){}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.treeBase",["ui.grid"]);n.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}});n.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(n,t,i,r,u,f,e,o){var s={initializeGrid:function(n){n.treeBase={};n.treeBase.numberLevels=0;n.treeBase.expandAll=!1;n.treeBase.tree=[];s.defaultGridOptions(n.options);n.registerRowsProcessor(s.treeRows,410);n.registerColumnBuilder(s.treeBaseColumnBuilder);s.createRowHeader(n);var t={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){s.expandAllRows(n)},collapseAllRows:function(){s.collapseAllRows(n)},toggleRowTreeState:function(t){s.toggleRowTreeState(n,t)},expandRow:function(t){s.expandRow(n,t)},expandRowChildren:function(t){s.expandRowChildren(n,t)},collapseRow:function(t){s.collapseRow(n,t)},collapseRowChildren:function(t){s.collapseRowChildren(n,t)},getTreeExpandedState:function(){return{expandedState:s.getTreeState(n)}},setTreeState:function(t){s.setTreeState(n,t)},getRowChildren:function(n){return n.treeNode.children.map(function(n){return n.row})}}}};n.api.registerEventsFromObject(t.events);n.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(n){n.treeRowHeaderBaseWidth=n.treeRowHeaderBaseWidth||30;n.treeIndent=n.treeIndent||10;n.showTreeRowHeader=n.showTreeRowHeader!==!1;n.showTreeExpandNoChildren=n.showTreeExpandNoChildren!==!1;n.treeRowHeaderAlwaysVisible=n.treeRowHeaderAlwaysVisible!==!1;n.treeCustomAggregations=n.treeCustomAggregations||{};n.enableExpandAll=n.enableExpandAll!==!1},treeBaseColumnBuilder:function(n,t,i){"undefined"!=typeof n.customTreeAggregationFn&&(t.treeAggregationFn=n.customTreeAggregationFn);"undefined"!=typeof n.treeAggregationType&&(t.treeAggregation={type:n.treeAggregationType},"undefined"!=typeof i.treeCustomAggregations[n.treeAggregationType]?(t.treeAggregationFn=i.treeCustomAggregations[n.treeAggregationType].aggregationFn,t.treeAggregationFinalizerFn=i.treeCustomAggregations[n.treeAggregationType].finalizerFn,t.treeAggregation.label=i.treeCustomAggregations[n.treeAggregationType].label):"undefined"!=typeof s.nativeAggregations()[n.treeAggregationType]&&(t.treeAggregationFn=s.nativeAggregations()[n.treeAggregationType].aggregationFn,t.treeAggregation.label=s.nativeAggregations()[n.treeAggregationType].label));"undefined"!=typeof n.treeAggregationLabel&&("undefined"==typeof t.treeAggregation&&(t.treeAggregation={}),t.treeAggregation.label=n.treeAggregationLabel);t.treeAggregationUpdateEntity=n.treeAggregationUpdateEntity!==!1;"undefined"==typeof t.customTreeAggregationFinalizerFn&&(t.customTreeAggregationFinalizerFn=n.customTreeAggregationFinalizerFn)},createRowHeader:function(n){var i={name:t.rowHeaderColName,displayName:"",width:n.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};i.visible=n.options.treeRowHeaderAlwaysVisible;n.addRowHeaderColumn(i,-100)},expandAllRows:function(n){n.treeBase.tree.forEach(function(i){s.setAllNodes(n,i,t.EXPANDED)});n.treeBase.expandAll=!0;n.queueGridRefresh()},collapseAllRows:function(n){n.treeBase.tree.forEach(function(i){s.setAllNodes(n,i,t.COLLAPSED)});n.treeBase.expandAll=!1;n.queueGridRefresh()},setAllNodes:function(n,i,r){"undefined"!=typeof i.state&&i.state!==r&&(i.state=r,r===t.EXPANDED?n.api.treeBase.raise.rowExpanded(i.row):n.api.treeBase.raise.rowCollapsed(i.row));i.children&&i.children.forEach(function(t){s.setAllNodes(n,t,r)})},toggleRowTreeState:function(n,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||(i.treeNode.state===t.EXPANDED?s.collapseRow(n,i):s.expandRow(n,i),n.queueGridRefresh())},expandRow:function(n,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||i.treeNode.state!==t.EXPANDED&&(i.treeNode.state=t.EXPANDED,n.api.treeBase.raise.rowExpanded(i),n.treeBase.expandAll=s.allExpanded(n.treeBase.tree),n.queueGridRefresh())},expandRowChildren:function(n,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||(s.setAllNodes(n,i.treeNode,t.EXPANDED),n.treeBase.expandAll=s.allExpanded(n.treeBase.tree),n.queueGridRefresh())},collapseRow:function(n,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||i.treeNode.state!==t.COLLAPSED&&(i.treeNode.state=t.COLLAPSED,n.treeBase.expandAll=!1,n.api.treeBase.raise.rowCollapsed(i),n.queueGridRefresh())},collapseRowChildren:function(n,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||(s.setAllNodes(n,i.treeNode,t.COLLAPSED),n.treeBase.expandAll=!1,n.queueGridRefresh())},allExpanded:function(n){var t=!0;return n.forEach(function(n){s.allExpandedInternal(n)||(t=!1)}),t},allExpandedInternal:function(n){if(n.children&&n.children.length>0){if(n.state===t.COLLAPSED)return!1;var i=!0;return n.children.forEach(function(n){s.allExpandedInternal(n)||(i=!1)}),i}return!0},treeRows:function(n){if(0===n.length)return n;var i=this;return t.EXPANDED,i.treeBase.tree=s.createTree(i,n),s.updateRowHeaderWidth(i),s.sortTree(i),s.fixFilter(i),s.renderTree(i.treeBase.tree)},updateRowHeaderWidth:function(n){var i=n.getColumn(t.rowHeaderColName),u=n.options.treeRowHeaderBaseWidth+n.options.treeIndent*Math.max(n.treeBase.numberLevels-1,0),r;i&&u!==i.width&&(i.width=u,n.queueRefresh());r=!0;n.options.showTreeRowHeader===!1&&(r=!1);n.options.treeRowHeaderAlwaysVisible===!1&&n.treeBase.numberLevels<=0&&(r=!1);i&&i.visible!==r&&(i.visible=r,i.colDef.visible=r,n.queueGridRefresh())},renderTree:function(n){var i=[];return n.forEach(function(n){n.row.visible&&i.push(n.row);n.state===t.EXPANDED&&n.children&&n.children.length>0&&(i=i.concat(s.renderTree(n.children)))}),i},createTree:function(n,i){var f,u=-1,r=[],e,o,h;for(n.treeBase.tree=[],n.treeBase.numberLevels=0,e=s.getAggregations(n),o=function(i){if("undefined"!=typeof i.entity.$$treeLevel&&i.treeLevel!==i.entity.$$treeLevel&&(i.treeLevel=i.entity.$$treeLevel),i.treeLevel<=u){for(;i.treeLevel<=u;){var o=r.pop();s.finaliseAggregations(o);u--}f=r.length>0?s.setCurrentState(r):t.EXPANDED}("undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0)&&i.visible&&s.aggregate(n,i,r);s.addOrUseNode(n,i,r,e);"undefined"!=typeof i.treeLevel&&null!==i.treeLevel&&i.treeLevel>=0&&(r.push(i),u++,f=s.setCurrentState(r));n.treeBase.numberLevels<i.treeLevel+1&&(n.treeBase.numberLevels=i.treeLevel+1)},i.forEach(o);r.length>0;)h=r.pop(),s.finaliseAggregations(h);return n.treeBase.tree},addOrUseNode:function(n,i,r,u){var e=[],f;u.forEach(function(n){e.push(s.buildAggregationObject(n.col))});f={state:t.COLLAPSED,row:i,parentRow:null,aggregations:e,children:[]};i.treeNode&&(f.state=i.treeNode.state);r.length>0&&(f.parentRow=r[r.length-1]);i.treeNode=f;0===r.length?n.treeBase.tree.push(f):r[r.length-1].treeNode.children.push(f)},setCurrentState:function(n){var i=t.EXPANDED;return n.forEach(function(n){n.treeNode.state===t.COLLAPSED&&(i=t.COLLAPSED)}),i},sortTree:function(n){n.columns.forEach(function(n){n.sort&&n.sort.ignoreSort&&delete n.sort.ignoreSort});n.treeBase.tree=s.sortInternal(n,n.treeBase.tree)},sortInternal:function(n,i){var r=i.map(function(n){return n.row}),u;return r=o.sort(n,r,n.columns),u=r.map(function(n){return n.treeNode}),u.forEach(function(i){i.state===t.EXPANDED&&i.children&&i.children.length>0&&(i.children=s.sortInternal(n,i.children))}),u},fixFilter:function(n){var t;n.treeBase.tree.forEach(function(n){n.children&&n.children.length>0&&(t=n.row.visible,s.fixFilterInternal(n.children,t))})},fixFilterInternal:function(n,t){return n.forEach(function(n){n.row.visible&&!t&&(s.setParentsVisible(n),t=!0);n.children&&n.children.length>0&&s.fixFilterInternal(n.children,t&&n.row.visible)&&(t=!0)}),t},setParentsVisible:function(n){for(;n.parentRow;)n.parentRow.visible=!0,n=n.parentRow.treeNode},buildAggregationObject:function(n){var t={col:n};return n.treeAggregation&&n.treeAggregation.type&&(t.type=n.treeAggregation.type),n.treeAggregation&&n.treeAggregation.label&&(t.label=n.treeAggregation.label),t},getAggregations:function(n){var t=[];return n.columns.forEach(function(i){"undefined"!=typeof i.treeAggregationFn&&(t.push(s.buildAggregationObject(i)),n.options.showColumnFooter&&"undefined"==typeof i.colDef.aggregationType&&i.treeAggregation&&(i.treeFooterAggregation=s.buildAggregationObject(i),i.aggregationType=s.treeFooterAggregationType))}),t},aggregate:function(n,t,i){0===i.length&&t.treeNode&&t.treeNode.aggregations&&t.treeNode.aggregations.forEach(function(i){if("undefined"!=typeof i.col.treeFooterAggregation){var r=n.getCellValue(t,i.col),u=Number(r);i.col.treeAggregationFn(i.col.treeFooterAggregation,r,u,t)}});i.forEach(function(i,r){i.treeNode.aggregations&&i.treeNode.aggregations.forEach(function(i){var u=n.getCellValue(t,i.col),f=Number(u);i.col.treeAggregationFn(i,u,f,t);0===r&&"undefined"!=typeof i.col.treeFooterAggregation&&i.col.treeAggregationFn(i.col.treeFooterAggregation,u,f,t)})})},nativeAggregations:function(){return{count:{label:f.get().aggregation.count,menuTitle:f.get().grouping.aggregate_count,aggregationFn:function(n){"undefined"==typeof n.value?n.value=1:n.value++}},sum:{label:f.get().aggregation.sum,menuTitle:f.get().grouping.aggregate_sum,aggregationFn:function(n,t,i){isNaN(i)||("undefined"==typeof n.value?n.value=i:n.value+=i)}},min:{label:f.get().aggregation.min,menuTitle:f.get().grouping.aggregate_min,aggregationFn:function(n,t){"undefined"==typeof n.value?n.value=t:"undefined"!=typeof t&&null!==t&&(t<n.value||null===n.value)&&(n.value=t)}},max:{label:f.get().aggregation.max,menuTitle:f.get().grouping.aggregate_max,aggregationFn:function(n,t){"undefined"==typeof n.value?n.value=t:"undefined"!=typeof t&&null!==t&&(t>n.value||null===n.value)&&(n.value=t)}},avg:{label:f.get().aggregation.avg,menuTitle:f.get().grouping.aggregate_avg,aggregationFn:function(n,t,i){"undefined"==typeof n.count?n.count=1:n.count++;isNaN(i)||("undefined"==typeof n.value||"undefined"==typeof n.sum?(n.value=i,n.sum=i):(n.sum+=i,n.value=n.sum/n.count))}}}},finaliseAggregation:function(n,t){t.col.treeAggregationUpdateEntity&&"undefined"!=typeof n&&"undefined"!=typeof n.entity["$$"+t.col.uid]&&angular.extend(t,n.entity["$$"+t.col.uid]);"function"==typeof t.col.treeAggregationFinalizerFn&&t.col.treeAggregationFinalizerFn(t);"function"==typeof t.col.customTreeAggregationFinalizerFn&&t.col.customTreeAggregationFinalizerFn(t);"undefined"==typeof t.rendered&&(t.rendered=t.label?t.label+t.value:t.value)},finaliseAggregations:function(n){null!=n&&"undefined"!=typeof n.treeNode.aggregations&&n.treeNode.aggregations.forEach(function(t){if(s.finaliseAggregation(n,t),t.col.treeAggregationUpdateEntity){var i={};angular.forEach(t,function(n,r){t.hasOwnProperty(r)&&"col"!==r&&(i[r]=n)});n.entity["$$"+t.col.uid]=i}})},treeFooterAggregationType:function(n,t){return s.finaliseAggregation(void 0,t.treeFooterAggregation),"undefined"==typeof t.treeFooterAggregation.value||null===t.treeFooterAggregation.rendered?"":t.treeFooterAggregation.rendered}};return s}]);n.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(n,t){return{replace:!0,restrict:"E",template:n.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(n,i,r,u){var f=u.grid;n.treeButtonClick=function(n,i){t.toggleRowTreeState(f,n,i)}}}}]);n.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(n,t){return{replace:!0,restrict:"E",template:n.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(n){var i=n.col.grid;n.headerButtonClick=function(n,r){i.treeBase.expandAll?t.collapseAllRows(i,r):t.expandAllRows(i,r)}}}}]);n.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(){return{priority:-200,scope:!1,compile:function(n){var t=angular.element(n.children().children()[0]),i=t.attr("ng-class"),r="";return r=i?i.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":"{'ui-grid-tree-header-row': row.treeLevel > -1}",t.attr("ng-class",r),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);n.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}});n.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(n,t,i,r){var u={initializeGrid:function(n,t){r.initializeGrid(n,t);n.treeView={};n.registerRowsProcessor(u.adjustSorting,60);var i={events:{treeView:{}},methods:{treeView:{}}};n.api.registerEventsFromObject(i.events);n.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(n){n.enableTreeView=n.enableTreeView!==!1},adjustSorting:function(n){var t=this;return t.columns.forEach(function(n){n.sort&&(n.sort.ignoreSort=!0)}),n}};return u}]);n.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,u){u.grid.options.enableTreeView!==!1&&t.initializeGrid(u.grid,n)},post:function(){}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.validate",["ui.grid"]);n.service("uiGridValidateService",["$sce","$q","$http","i18nService","uiGridConstants",function(n,t,i,r){var u={validatorFactories:{},setExternalFactoryFunction:function(n){u.externalFactoryFunction=n},clearExternalFactory:function(){delete u.externalFactoryFunction},getValidatorFromExternalFactory:function(n,t){return u.externalFactoryFunction(n,t).validatorFactory(t)},getMessageFromExternalFactory:function(n,t){return u.externalFactoryFunction(n,t).messageFunction(t)},setValidator:function(n,t,i){u.validatorFactories[n]={validatorFactory:t,messageFunction:i}},getValidator:function(n,t){if(u.externalFactoryFunction){var i=u.getValidatorFromExternalFactory(n,t);if(i)return i}if(!u.validatorFactories[n])throw"Invalid validator name: "+n;return u.validatorFactories[n].validatorFactory(t)},getMessage:function(n,t){if(u.externalFactoryFunction){var i=u.getMessageFromExternalFactory(n,t);if(i)return i}return u.validatorFactories[n].messageFunction(t)},isInvalid:function(n,t){return n["$$invalid"+t.name]},setInvalid:function(n,t){n["$$invalid"+t.name]=!0},setValid:function(n,t){delete n["$$invalid"+t.name]},setError:function(n,t,i){n["$$errors"+t.name]||(n["$$errors"+t.name]={});n["$$errors"+t.name][i]=!0},clearError:function(n,t,i){n["$$errors"+t.name]&&i in n["$$errors"+t.name]&&delete n["$$errors"+t.name][i]},getErrorMessages:function(n,t){var i=[];return n["$$errors"+t.name]&&0!==Object.keys(n["$$errors"+t.name]).length?(Object.keys(n["$$errors"+t.name]).sort().forEach(function(n){i.push(u.getMessage(n,t.validators[n]))}),i):i},getFormattedErrors:function(t,i){var f="",e=u.getErrorMessages(t,i);if(e.length)return(e.forEach(function(n){f+=n+"<br/>"}),n.trustAsHtml("<p><b>"+r.getSafeText("validate.error")+"<\/b><\/p>"+f))},getTitleFormattedErrors:function(t,i){var f="\n",e="",o=u.getErrorMessages(t,i);if(o.length)return(o.forEach(function(n){e+=n+f}),n.trustAsHtml(r.getSafeText("validate.error")+f+e))},runValidators:function(n,i,r,f,e){var h,s,o,c,l;if(r!==f){if("undefined"==typeof i.name||!i.name)throw new Error("colDef.name is required to perform validation");u.setValid(n,i);h=function(n,t,i){return function(o){o||(u.setInvalid(n,t),u.setError(n,t,i),e&&e.api.validate.raise.validationFailed(n,t,r,f))}};s=[];for(o in i.validators)u.clearError(n,i,o),c=u.getValidator(o,i.validators[o]),l=t.when(c(f,r,n,i)).then(h(n,i,o)),s.push(l);return t.all(s)}},createDefaultValidators:function(){u.setValidator("minLength",function(n){return function(t,i){return void 0===i||null===i||""===i?!0:i.length>=n}},function(n){return r.getSafeText("validate.minLength").replace("THRESHOLD",n)});u.setValidator("maxLength",function(n){return function(t,i){return void 0===i||null===i||""===i?!0:i.length<=n}},function(n){return r.getSafeText("validate.maxLength").replace("THRESHOLD",n)});u.setValidator("required",function(n){return function(t,i){return n?!(void 0===i||null===i||""===i):!0}},function(){return r.getSafeText("validate.required")})},initializeGrid:function(n,t){t.validate={isInvalid:u.isInvalid,getFormattedErrors:u.getFormattedErrors,getTitleFormattedErrors:u.getTitleFormattedErrors,runValidators:u.runValidators};var i={events:{validate:{validationFailed:function(){}}},methods:{validate:{isInvalid:function(n,i){return t.validate.isInvalid(n,i)},getErrorMessages:function(n,i){return t.validate.getErrorMessages(n,i)},getFormattedErrors:function(n,i){return t.validate.getFormattedErrors(n,i)},getTitleFormattedErrors:function(n,i){return t.validate.getTitleFormattedErrors(n,i)}}}};t.api.registerEventsFromObject(i.events);t.api.registerMethodsFromObject(i.methods);t.edit&&t.api.edit.on.afterCellEdit(n,function(n,i,r,u){t.validate.runValidators(n,i,r,u,t)});u.createDefaultValidators()}};return u}]);n.directive("uiGridValidate",["gridUtil","uiGridValidateService",function(n,t){return{priority:0,replace:!0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,u){t.initializeGrid(n,u.grid)},post:function(){}}}}}])}();angular.module("ui.grid").run(["$templateCache",function(n){"use strict";n.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-style="col.extraStyle" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" aria-label="{{colFilter.ariaLabel || aria.defaultFilterLabel}}"><div role="button" class="ui-grid-filter-button" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;<\/i><\/div><\/div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-show="colFilter.selectOptions.length > 0" ng-attr-placeholder="{{colFilter.placeholder || aria.defaultFilterLabel}}" aria-label="{{colFilter.ariaLabel || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""><\/option><\/select><div role="button" class="ui-grid-filter-button-select" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term != null"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;<\/i><\/div><\/div><\/div>');n.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><!-- tfooter --><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-footer-cell-row"><div ui-grid-footer-cell role="gridcell" ng-repeat="col in colContainer.renderedColumns track by col.uid" col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"><\/div><\/div><\/div><\/div><\/div><\/div>');n.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}<\/span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})<\/span><\/div>');n.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"><\/div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x<\/span><\/span> <span ng-hide="$last" class="ngGroupArrow"><\/span><\/span><\/li><\/ul><\/div>');n.put("ui-grid/ui-grid-header",'<div role="rowgroup" class="ui-grid-header"><!-- theader --><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"><\/div><\/div><\/div><\/div><\/div><\/div><\/div>');n.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button"><div role="button" ui-grid-one-bind-id-grid="\'grid-menu\'" class="ui-grid-icon-container" ng-click="toggleMenu()" aria-haspopup="true"><i class="ui-grid-icon-menu" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel">&nbsp;<\/i><\/div><div ui-grid-menu menu-items="menuItems"><\/div><\/div>');n.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"><\/div>');n.put("ui-grid/ui-grid-row","<div ng-repeat=\"(colRenderIndex, col) in colContainer.renderedColumns track by col.uid\" ui-grid-one-bind-id-grid=\"rowRenderIndex + '-' + col.uid + '-cell'\" class=\"ui-grid-cell\" ng-class=\"{ 'ui-grid-row-header-cell': col.isRowHeader }\" role=\"{{col.isRowHeader ? 'rowheader' : 'gridcell'}}\" ui-grid-cell><\/div>");n.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}<\/style><div class="ui-grid-contents-wrapper"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"><\/div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"><\/div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"><\/div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"><\/div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"><\/div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"><\/div><div ng-transclude><\/div><\/div><\/div>');n.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}<\/div>');n.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"><\/i> Sort Ascending<\/li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"><\/i> Sort Descending<\/li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"><\/i> Remove Sort<\/li>\n        <\/div>\n      <\/ul>\n    <\/div>\n  <\/div> --><\/div><\/div>');n.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}<\/div><\/div>');n.put("ui-grid/uiGridHeaderCell",'<div role="columnheader" ng-class="{ \'sortable\': sortable }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'">{{ col.displayName CUSTOM_FILTERS }}<\/span> <span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{isSortPriorityVisible() ? i18n.headerCell.priority + \' \' + ( col.sort.priority + 1 )  : null}}" aria-hidden="true"><\/i> <sub ui-grid-visible="isSortPriorityVisible()" class="ui-grid-sort-priority-number">{{col.sort.priority + 1}}<\/sub><\/span><\/div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;<\/i><\/div><div ui-grid-filter><\/div><\/div>');n.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><style ui-grid-style>{{dynamicStyles}}<\/style><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul role="menu" class="ui-grid-menu-items"><li ng-repeat="item in menuItems" role="menuitem" ui-grid-menu-item ui-grid-one-bind-id="\'menuitem-\'+$index" action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen" screen-reader-only="item.screenReaderOnly"><\/li><\/ul><\/div><\/div><\/div>');n.put("ui-grid/uiGridMenuItem",'<button type="button" class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\': active(), \'ui-grid-sr-only\': (!focus && screenReaderOnly) }" aria-pressed="{{active()}}" tabindex="0" ng-focus="focus=true" ng-blur="focus=false"><i ng-class="icon" aria-hidden="true">&nbsp;<\/i> {{ name }}<\/button>');n.put("ui-grid/uiGridRenderContainer","<div role=\"grid\" ui-grid-one-bind-id-grid=\"'grid-container'\" class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\"><!-- All of these dom elements are replaced in place --><div ui-grid-header><\/div><div ui-grid-viewport><\/div><div ng-if=\"colContainer.needsHScrollbarPlaceholder()\" class=\"ui-grid-scrollbar-placeholder\" ng-style=\"{height:colContainer.grid.scrollbarHeight + 'px'}\"><\/div><ui-grid-footer ng-if=\"grid.options.showColumnFooter\"><\/ui-grid-footer><\/div>");n.put("ui-grid/uiGridViewport",'<div role="rowgroup" class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()"><!-- tbody --><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div role="row" ui-grid-row="row" row-render-index="rowRenderIndex"><\/div><\/div><\/div><\/div>');n.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"><\/form><\/div>');n.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"><\/select><\/form><\/div>');n.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"><\/form><\/div>');n.put("ui-grid/emptyBaseLayerContainer",'<div class="ui-grid-empty-base-layer-container ui-grid-canvas"><div class="ui-grid-row" ng-repeat="(rowRenderIndex, row) in grid.baseLayer.emptyRows track by $index" ng-style="Viewport.rowStyle(rowRenderIndex)"><div><div><div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell {{ col.getColClass(false) }}"><\/div><\/div><\/div><\/div><\/div>');n.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\', height: row.expandedRowHeight + \'px\'}"><\/div>');n.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-if="!row.groupHeader==true" ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"><\/i><\/div><\/div>');n.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px', height: row.expandedRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{'margin-top': ( row.expandedRowHeight/2 - 5) + 'px', 'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px'}\"><\/i><\/div>");n.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"><\/i><\/div><\/div>');n.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL<\/a><\/span>');n.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"><\/form><\/li>');n.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item><\/div>");n.put("ui-grid/pagination",'<div role="contentinfo" class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div role="navigation" class="ui-grid-pager-container"><div role="menubar" class="ui-grid-pager-control"><button type="button" role="menuitem" class="ui-grid-pager-first" ui-grid-one-bind-title="aria.pageToFirst" ui-grid-one-bind-aria-label="aria.pageToFirst" ng-click="pageFirstPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle\' : \'first-triangle\'"><div ng-class="grid.isRTL() ? \'last-bar-rtl\' : \'first-bar\'"><\/div><\/div><\/button> <button type="button" role="menuitem" class="ui-grid-pager-previous" ui-grid-one-bind-title="aria.pageBack" ui-grid-one-bind-aria-label="aria.pageBack" ng-click="pagePreviousPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle prev-triangle\' : \'first-triangle prev-triangle\'"><\/div><\/button> <input type="number" ui-grid-one-bind-title="aria.pageSelected" ui-grid-one-bind-aria-label="aria.pageSelected" class="ui-grid-pager-control-input" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0"><abbr ui-grid-one-bind-title="paginationOf">/<\/abbr> {{ paginationApi.getTotalPages() }}<\/span> <button type="button" role="menuitem" class="ui-grid-pager-next" ui-grid-one-bind-title="aria.pageForward" ui-grid-one-bind-aria-label="aria.pageForward" ng-click="pageNextPageClick()" ng-disabled="cantPageForward()"><div ng-class="grid.isRTL() ? \'first-triangle next-triangle\' : \'last-triangle next-triangle\'"><\/div><\/button> <button type="button" role="menuitem" class="ui-grid-pager-last" ui-grid-one-bind-title="aria.pageToLast" ui-grid-one-bind-aria-label="aria.pageToLast" ng-click="pageLastPageClick()" ng-disabled="cantPageToLast()"><div ng-class="grid.isRTL() ? \'first-triangle\' : \'last-triangle\'"><div ng-class="grid.isRTL() ? \'first-bar-rtl\' : \'last-bar\'"><\/div><\/div><\/button><\/div><div class="ui-grid-pager-row-count-picker" ng-if="grid.options.paginationPageSizes.length > 1 && !grid.options.useCustomPagination"><select ui-grid-one-bind-aria-labelledby-grid="\'items-per-page-label\'" ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"><\/select><span ui-grid-one-bind-id-grid="\'items-per-page-label\'" class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}<\/span><\/div><span ng-if="grid.options.paginationPageSizes.length <= 1" class="ui-grid-pager-row-count-label">{{grid.options.paginationPageSize}}&nbsp;{{sizesLabel}}<\/span><\/div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{ 1 + paginationApi.getFirstRowIndex() }} <abbr ui-grid-one-bind-title="paginationThrough">-<\/abbr> {{ 1 + paginationApi.getLastRowIndex() }} {{paginationOf}} {{grid.options.totalItems}} {{totalItemsLabel}}<\/span><\/div><\/div><\/div>');n.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"><\/div>');n.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})<\/span>');n.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;<\/div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"><\/ui-grid-selection-select-all-buttons><\/div><\/div>');n.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons><\/ui-grid-selection-row-header-buttons><\/div><\/div>');n.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;<\/div>');n.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"><\/div>');n.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeBase.numberLevels > 0 && grid.treeBase.expandAll, \'ui-grid-icon-plus-squared\': grid.treeBase.numberLevels > 0 && !grid.treeBase.expandAll}" ng-click="headerButtonClick($event)"><\/div>');n.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons ng-if="grid.options.enableExpandAll"><\/ui-grid-tree-base-expand-all-buttons><\/div><\/div>');n.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons><\/ui-grid-tree-base-row-header-buttons><\/div>');n.put("ui-grid/treeBaseRowHeaderButtons","<div class=\"ui-grid-tree-base-row-header-buttons\" ng-class=\"{'ui-grid-tree-base-header': row.treeLevel > -1 }\" ng-click=\"treeButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'expanded', 'ui-grid-icon-plus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}\"><\/i> &nbsp;<\/div>");n.put("ui-grid/cellTitleValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" title="{{grid.validate.getTitleFormattedErrors(row.entity,col.colDef)}}">{{COL_FIELD CUSTOM_FILTERS}}<\/div>');n.put("ui-grid/cellTooltipValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" tooltip-html-unsafe="{{grid.validate.getFormattedErrors(row.entity,col.colDef)}}" tooltip-enable="grid.validate.isInvalid(row.entity,col.colDef)" tooltip-append-to-body="true" tooltip-placement="top" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}<\/div>')}]);angular.module("ivh.treeview",[]);angular.module("ivh.treeview").directive("ivhTreeviewCheckboxHelper",[function(){"use strict";return{restrict:"A",scope:{node:"=ivhTreeviewCheckboxHelper"},require:"^ivhTreeview",link:function(n,t,i,r){var u=n.node,f=r.opts(),e=f.indeterminateAttribute,o=f.selectedAttribute;n.isSelected=u[o];n.trvw=r;n.resolveIndeterminateClick=function(){u[e]&&r.select(u,!0)};n.$watch("node."+o,function(t){n.isSelected=t});n.$watch("node."+e,function(n){t.find("input").prop("indeterminate",n)})},template:'<input type="checkbox"\nclass="ivh-treeview-checkbox"\nng-model="isSelected"\nng-click="resolveIndeterminateClick()"\nng-change="trvw.select(node, isSelected)" />'}}]);angular.module("ivh.treeview").directive("ivhTreeviewCheckbox",[function(){"use strict";return{restrict:"AE",require:"^ivhTreeview",template:'<span ivh-treeview-checkbox-helper="node"><\/span>'}}]);angular.module("ivh.treeview").directive("ivhTreeviewChildren",function(){"use strict";return{restrict:"AE",require:"^ivhTreeviewNode",template:'<ul ng-if="getChildren().length" class="ivh-treeview">\n<li ng-repeat="child in getChildren()"\nng-hide="trvw.hasFilter() && !trvw.isVisible(child)"\nclass="ivh-treeview-node"\nng-class="{\'ivh-treeview-node-collapsed\': !trvw.isExpanded(child) && !trvw.isLeaf(child)}"\nivh-treeview-node="child"\nivh-treeview-depth="childDepth">\n<\/li>\n<\/ul>'}});angular.module("ivh.treeview").directive("ivhTreeviewNode",["ivhTreeviewCompiler",function(n){"use strict";return{restrict:"A",scope:{node:"=ivhTreeviewNode",depth:"=ivhTreeviewDepth"},require:"^ivhTreeview",compile:function(t){return n.compile(t,function(n,t,i,r){var u=n.node,f=n.getChildren=function(){return r.children(u)};n.trvw=r;n.childDepth=n.depth+1;r.isExpanded(u)||r.expand(u,r.isInitiallyExpanded(n.depth));n.$watch(function(){return f().length>0},function(n){n?t.removeClass("ivh-treeview-node-leaf"):t.addClass("ivh-treeview-node-leaf")})})}}}]);angular.module("ivh.treeview").directive("ivhTreeviewToggle",[function(){"use strict";return{restrict:"A",require:"^ivhTreeview",link:function(n,t,i,r){var u=n.node;t.addClass("ivh-treeview-toggle");t.bind("click",function(){r.isLeaf(u)||n.$apply(function(){r.toggleExpanded(u);r.onToggle(u)})})}}}]);angular.module("ivh.treeview").directive("ivhTreeviewTwistie",["$compile","ivhTreeviewOptions",function(n,t){"use strict";var i=t();return{restrict:"A",require:"^ivhTreeview",template:['<span class="ivh-treeview-twistie">','<span class="ivh-treeview-twistie-collapsed">',i.twistieCollapsedTpl,"<\/span>",'<span class="ivh-treeview-twistie-expanded">',i.twistieExpandedTpl,"<\/span>",'<span class="ivh-treeview-twistie-leaf">',i.twistieLeafTpl,"<\/span>","<\/span>"].join("\n"),link:function(t,r,u,f){if(f.hasLocalTwistieTpls){var e=f.opts(),o=r.children().eq(0).children();angular.forEach(["twistieCollapsedTpl","twistieExpandedTpl","twistieLeafTpl"],function(r,u){var f=e[r],c=i[r],s,h;f&&f!==c&&("<"===f.substr(0,1)&&">"===f.substr(-1,1)||(f="<span>"+f+"<\/span>"),s=n(f)(t),h=o.eq(u),h.html("").append(s))})}}}}]);angular.module("ivh.treeview").directive("ivhTreeview",["ivhTreeviewMgr",function(n){"use strict";return{restrict:"A",transclude:!0,scope:{root:"=ivhTreeview",childrenAttribute:"=ivhTreeviewChildrenAttribute",defaultSelectedState:"=ivhTreeviewDefaultSelectedState",expandToDepth:"=ivhTreeviewExpandToDepth",idAttribute:"=ivhTreeviewIdAttribute",indeterminateAttribute:"=ivhTreeviewIndeterminateAttribute",expandedAttribute:"=ivhTreeviewExpandedAttribute",labelAttribute:"=ivhTreeviewLabelAttribute",nodeTpl:"=ivhTreeviewNodeTpl",selectedAttribute:"=ivhTreeviewSelectedAttribute",onCbChange:"&ivhTreeviewOnCbChange",onToggle:"&ivhTreeviewOnToggle",twistieCollapsedTpl:"=ivhTreeviewTwistieCollapsedTpl",twistieExpandedTpl:"=ivhTreeviewTwistieExpandedTpl",twistieLeafTpl:"=ivhTreeviewTwistieLeafTpl",useCheckboxes:"=ivhTreeviewUseCheckboxes",validate:"=ivhTreeviewValidate",visibleAttribute:"=ivhTreeviewVisibleAttribute",userOptions:"=ivhTreeviewOptions",filter:"=ivhTreeviewFilter"},controllerAs:"trvw",controller:["$scope","$element","$attrs","$transclude","ivhTreeviewOptions","filterFilter",function(t,i,r,u,f,e){var h=angular,o=this,s=h.extend({},f(),t.userOptions),l,a,c;h.forEach(["childrenAttribute","defaultSelectedState","expandToDepth","idAttribute","indeterminateAttribute","expandedAttribute","labelAttribute","nodeTpl","selectedAttribute","twistieCollapsedTpl","twistieExpandedTpl","twistieLeafTpl","useCheckboxes","validate","visibleAttribute"],function(n){h.isDefined(t[n])&&(s[n]=t[n])});l=function(n){return"ivhTreeview"+n.charAt(0).toUpperCase()+n.slice(1)};h.forEach(["onCbChange","onToggle"],function(n){r[l(n)]&&(s[n]=t[n])});u(function(n,t){var i="";angular.forEach(n,function(n){i+=(n.innerHTML||"").trim()});i.length&&(a=t,s.nodeTpl=i)});o.opts=function(){return s};c=t.userOptions||{};o.hasLocalTwistieTpls=!!(c.twistieCollapsedTpl||c.twistieExpandedTpl||c.twistieLeafTpl||t.twistieCollapsedTpl||t.twistieExpandedTpl||t.twistieLeafTpl);o.children=function(n){var t=n[s.childrenAttribute];return h.isArray(t)?t:[]};o.label=function(n){return n[s.labelAttribute]};o.hasFilter=function(){return h.isDefined(t.filter)};o.getFilter=function(){return t.filter||""};o.isVisible=function(n){var t=o.getFilter(),i,r;if(!t||e([n],t).length)return!0;if("object"==typeof t||"function"==typeof t)for(i=o.children(n),r=i.length;r--;)if(o.isVisible(i[r]))return!0;return!1};o.useCheckboxes=function(){return s.useCheckboxes};o.select=function(i,r){n.select(t.root,i,s,r);o.onCbChange(i,r)};o.isSelected=function(n){return n[s.selectedAttribute]};o.toggleSelected=function(n){var t=!n[s.selectedAttribute];o.select(n,t)};o.expand=function(i,r){n.expand(t.root,i,s,r)};o.isExpanded=function(n){return n[s.expandedAttribute]};o.toggleExpanded=function(n){o.expand(n,!o.isExpanded(n))};o.isInitiallyExpanded=function(n){var t=-1===s.expandToDepth?1/0:s.expandToDepth;return t>n};o.isLeaf=function(n){return 0===o.children(n).length};o.getNodeTpl=function(){return s.nodeTpl};o.root=function(){return t.root};o.onToggle=function(n){if(s.onToggle){var i={ivhNode:n,ivhIsExpanded:o.isExpanded(n),ivhTree:t.root};s.onToggle(i)}};o.onCbChange=function(n,i){if(s.onCbChange){var r={ivhNode:n,ivhIsSelected:i,ivhTree:t.root};s.onCbChange(r)}}}],link:function(t){var i=t.trvw.opts();i.validate&&n.validate(t.root,i)},template:'<ul class="ivh-treeview">\n<li ng-repeat="child in root | ivhTreeviewAsArray"\nng-hide="trvw.hasFilter() && !trvw.isVisible(child)"\nclass="ivh-treeview-node"\nng-class="{\'ivh-treeview-node-collapsed\': !trvw.isExpanded(child) && !trvw.isLeaf(child)}"\nivh-treeview-node="child"\nivh-treeview-depth="0">\n<\/li>\n<\/ul>'}}]);angular.module("ivh.treeview").filter("ivhTreeviewAsArray",function(){"use strict";return function(n){return!angular.isArray(n)&&angular.isObject(n)?[n]:n}});angular.module("ivh.treeview").factory("ivhTreeviewBfs",["ivhTreeviewOptions",function(n){"use strict";var t=angular;return function(i,r,u){2===arguments.length&&t.isFunction(r)&&(u=r,r={});r=angular.extend({},n(),r);u=u||t.noop;var e,f,c,o,l,s=[],h=r.childrenAttribute;for(t.isArray(i)?(t.forEach(i,function(n){s.push([n,[]])}),e=s.shift()):e=[i,[]];e;){if(f=e[0],c=e[1],u(f,c)!==!1&&f[h]&&t.isArray(f[h]))for(l=f[h].length,o=0;l>o;o++)s.push([f[h][o],[f].concat(c)]);e=s.shift()}}}]);angular.module("ivh.treeview").factory("ivhTreeviewCompiler",["$compile",function(n){"use strict";return{compile:function(t,i){angular.isFunction(i)&&(i={post:i});var r;return{pre:i&&i.pre?i.pre:null,post:function(t,u,f,e){r||(r=n(e.getNodeTpl()));r(t,function(n){u.append(n)});i&&i.post&&i.post.apply(null,arguments)}}}}}]);angular.module("ivh.treeview").factory("ivhTreeviewMgr",["ivhTreeviewOptions","ivhTreeviewBfs",function(n,t){"use strict";var r=angular,u=n(),i={},o=function(n){n[this.selectedAttribute]=!1;n[this.indeterminateAttribute]=!1},s=function(n){n[this.selectedAttribute]=!0;n[this.indeterminateAttribute]=!1},h=function(n){var f=n[this.childrenAttribute],t=this.selectedAttribute,i=this.indeterminateAttribute,u=0,e=0;r.forEach(f,function(n){n[t]?u++:n[i]&&e++});0===u&&0===e?(n[t]=!1,n[i]=!1):u===f.length?(n[t]=!0,n[i]=!1):(n[t]=!1,n[i]=!0)},e=function(n,i,r,u){var h=f(i),e=!0,c=r.idAttribute,o=null,s=[];return t(n,r,function(n,t){var r=e&&(h?i===n[c]:i===n);return r&&(e=!1,o=n,s=t),e}),u(o,s)},f=function(n){return r.isString(n)||r.isNumber(n)};return i.select=function(n,e,c,l){arguments.length>2&&"boolean"==typeof c&&(l=c,c={});c=r.extend({},u,c);l=r.isDefined(l)?l:!0;var v=f(e),a=!0,y=c.idAttribute;return t(n,c,function(n,i){var f=a&&(v?e===n[y]:e===n),u;return f&&(a=!1,u=l?s.bind(c):o.bind(c),t(n,c,u),r.forEach(i,h.bind(c))),a}),i},i.selectAll=function(n,f,e){arguments.length>1&&"boolean"==typeof f&&(e=f,f={});f=r.extend({},u,f);e=r.isDefined(e)?e:!0;var o=f.selectedAttribute,s=f.indeterminateAttribute;return t(n,f,function(n){n[o]=e;n[s]=!1}),i},i.selectEach=function(n,t,u,f){return r.forEach(t,function(t){i.select(n,t,u,f)}),i},i.deselect=function(n,t,r){return i.select(n,t,r,!1)},i.deselectAll=function(n,t){return i.selectAll(n,t,!1)},i.deselectEach=function(n,t,r){return i.selectEach(n,t,r,!1)},i.validate=function(n,f,e){if(!n)return i;arguments.length>1&&"boolean"==typeof f&&(e=f,f={});f=r.extend({},u,f);e=r.isDefined(e)?e:f.defaultSelectedState;var o=f.selectedAttribute,s=f.indeterminateAttribute;return t(n,f,function(t){return r.isDefined(t[o])&&t[o]!==e?(i.select(n,t,f,!e),!1):(t[o]=e,void(t[s]=!1))}),i},i.expand=function(n,t,o,s){arguments.length>2&&"boolean"==typeof o&&(s=o,o={});o=r.extend({},u,o);s=r.isDefined(s)?s:!0;var c=f(t),h=o.expandedAttribute;return c?e(n,t,o,function(n){return n[h]=s,i}):(t[h]=s,i)},i.expandRecursive=function(n,o,s,h){arguments.length>2&&"boolean"==typeof s&&(h=s,s={});o=r.isDefined(o)?o:n;s=r.extend({},u,s);h=r.isDefined(h)?h:!0;var c,l=f(o),a=s.expandedAttribute;return l?e(n,o,s,function(n){c=n}):c=o,c&&t(c,s,function(n){n[a]=h}),i},i.collapse=function(n,t,r){return i.expand(n,t,r,!1)},i.collapseRecursive=function(n,t,r){return i.expandRecursive(n,t,r,!1)},i.expandTo=function(n,t,f,o){arguments.length>2&&"boolean"==typeof f&&(o=f,f={});f=r.extend({},u,f);o=r.isDefined(o)?o:!0;var s=f.expandedAttribute,h=function(n){n[s]=o};return e(n,t,f,function(n,t){return r.forEach(t,h),i})},i.collapseParents=function(n,t,r){return i.expandTo(n,t,r,!1)},i}]);angular.module("ivh.treeview").provider("ivhTreeviewOptions",function(){"use strict";var n={idAttribute:"id",labelAttribute:"label",childrenAttribute:"children",selectedAttribute:"selected",expandToDepth:0,useCheckboxes:!0,validate:!0,indeterminateAttribute:"__ivhTreeviewIndeterminate",expandedAttribute:"__ivhTreeviewExpanded",defaultSelectedState:!0,twistieExpandedTpl:"(-)",twistieCollapsedTpl:"(+)",twistieLeafTpl:"o",nodeTpl:'<div class="ivh-treeview-node-content" title="{{trvw.label(node)}}">\n<span ivh-treeview-toggle>\n<span class="ivh-treeview-twistie-wrapper" ivh-treeview-twistie><\/span>\n<\/span>\n<span class="ivh-treeview-checkbox-wrapper" ng-if="trvw.useCheckboxes()"\nivh-treeview-checkbox>\n<\/span>\n<span class="ivh-treeview-node-label" ivh-treeview-toggle>\n{{trvw.label(node)}}\n<\/span>\n<div ivh-treeview-children><\/div>\n<\/div>'};this.set=function(t){angular.extend(n,t)};this.$get=function(){return function(){return angular.copy(n)}}}),function(){function o(r){var u=t;r&&(t[r]||(t[r]={}),u=t[r]);u.define&&u.define.packaged||(n.original=u.define,u.define=n,u.define.packaged=!0);u.require&&u.require.packaged||(i.original=u.require,u.require=i,u.require.packaged=!0)}var u="ace",t=function(){return this}(),n;if(!t&&"undefined"!=typeof window&&(t=window),u||"undefined"==typeof requirejs){n=function(t,i,r){return"string"!=typeof t?void(n.original?n.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())):(2==arguments.length&&(r=i),void(n.modules[t]||(n.payloads[t]=r,n.modules[t]=null)))};n.modules={};n.payloads={};var f=function(n,t,r){var u,o;if("string"==typeof t){if(u=e(n,t),void 0!=u)return r&&r(),u}else if("[object Array]"===Object.prototype.toString.call(t)){for(var s=[],f=0,h=t.length;h>f;++f){if(o=e(n,t[f]),void 0==o&&i.original)return;s.push(o)}return r&&r.apply(null,s)||!0}},i=function(n,t){var r=f("",n,t);return void 0==r&&i.original?i.original.apply(this,arguments):r},r=function(n,t){var i,u,f;if(-1!==t.indexOf("!"))return i=t.split("!"),r(n,i[0])+"!"+r(n,i[1]);if("."==t.charAt(0))for(u=n.split("/").slice(0,-1).join("/"),t=u+"/"+t;-1!==t.indexOf(".")&&f!=t;)f=t,t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"");return t},e=function(t,i){var u;if(i=r(t,i),u=n.modules[i],!u){if(u=n.payloads[i],"function"==typeof u){var e={},o={id:i,uri:"",exports:e,packaged:!0},s=function(n,t){return f(i,n,t)},h=u(s,e,o);e=h||o.exports;n.modules[i]=e;delete n.payloads[i]}u=n.modules[i]=e||u}return u};o(u)}}();ace.define("ace/lib/regexp",["require","exports","module"],function(){"use strict";function r(n){return(n.global?"g":"")+(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.extended?"x":"")+(n.sticky?"y":"")}function u(n,t,i){if(Array.prototype.indexOf)return n.indexOf(t,i);for(var r=i||0;r<n.length;r++)if(n[r]===t)return r;return-1}var n={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},i=void 0===n.exec.call(/()??/,"")[1],t=function(){var t=/^/g;return n.test.call(t,""),!t.lastIndex}();t&&i||(RegExp.prototype.exec=function(f){var s,h,e=n.exec.apply(this,arguments),o;if("string"==typeof f&&e){if(!i&&e.length>1&&u(e,"")>-1&&(h=RegExp(this.source,n.replace.call(r(this),"g","")),n.replace.call(f.slice(e.index),h,function(){for(var n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(e[n]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(o=1;o<e.length;o++)s=this._xregexp.captureNames[o-1],s&&(e[s]=e[o]);!t&&this.global&&!e[0].length&&this.lastIndex>e.index&&this.lastIndex--}return e},t||(RegExp.prototype.test=function(t){var i=n.exec.call(this,t);return i&&this.global&&!i[0].length&&this.lastIndex>i.index&&this.lastIndex--,!!i}))});ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function c(){}function y(n){try{return Object.defineProperty(n,"sentinel",{}),"sentinel"in n}catch(t){}}function p(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}var k,v,r,d,g,nt,tt,h,lt,f,ut,ft,u;Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,r,i;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);return r=o.call(arguments,1),i=function(){if(this instanceof i){var u=t.apply(this,r.concat(o.call(arguments)));return Object(u)===u?u:this}return t.apply(n,r.concat(o.call(arguments)))},t.prototype&&(c.prototype=t.prototype,i.prototype=new c,c.prototype=null),i});var w,b,l,a,s,e=Function.prototype.call,et=Array.prototype,t=Object.prototype,o=et.slice,n=e.bind(t.toString),i=e.bind(t.hasOwnProperty);if(((s=i(t,"__defineGetter__"))&&(w=e.bind(t.__defineGetter__),b=e.bind(t.__defineSetter__),l=e.bind(t.__lookupGetter__),a=e.bind(t.__lookupSetter__)),2!=[1,2].splice(0).length)&&(function(){function i(n){var t=new Array(n+2);return t[0]=t[1]=0,t}var t,n=[];return n.splice.apply(n,i(20)),n.splice.apply(n,i(26)),t=n.length,n.splice(5,0,"XXX"),t+1==n.length,t+1==n.length?!0:void 0}()?(k=Array.prototype.splice,Array.prototype.splice=function(n,t){return arguments.length?k.apply(this,[void 0===n?0:n,void 0===t?this.length-n:t].concat(o.call(arguments,2))):[]}):Array.prototype.splice=function(n,t){var r=this.length,i;n>0?n>r&&(n=r):void 0==n?n=0:0>n&&(n=Math.max(r+n,0));r>n+t||(t=r-n);var a=this.slice(n,n+t),e=o.call(arguments,2),f=e.length;if(n===r)f&&this.push.apply(this,e);else{var h=Math.min(t,r-n),u=n+h,s=u+f-h,l=r-u,c=r-h;if(u>s)for(i=0;l>i;++i)this[s+i]=this[u+i];else if(s>u)for(i=l;i--;)this[s+i]=this[u+i];if(f&&n===c)this.length=c,this.push.apply(this,e);else for(this.length=c+f,i=0;f>i;++i)this[n+i]=e[i]}return a}),Array.isArray||(Array.isArray=function(t){return"[object Array]"==n(t)}),v=Object("a"),r="a"!=v[0]||!(0 in v),(Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=u(this),f=r&&"[object String]"==n(this)?this.split(""):e,o=arguments[1],i=-1,s=f.length>>>0;if("[object Function]"!=n(t))throw new TypeError;for(;++i<s;)i in f&&t.call(o,f[i],i,e)}),Array.prototype.map||(Array.prototype.map=function(t){var e=u(this),f=r&&"[object String]"==n(this)?this.split(""):e,o=f.length>>>0,s=Array(o),h=arguments[1],i;if("[object Function]"!=n(t))throw new TypeError(t+" is not a function");for(i=0;o>i;i++)i in f&&(s[i]=t.call(h,f[i],i,e));return s}),Array.prototype.filter||(Array.prototype.filter=function(t){var f,o=u(this),e=r&&"[object String]"==n(this)?this.split(""):o,h=e.length>>>0,s=[],c=arguments[1],i;if("[object Function]"!=n(t))throw new TypeError(t+" is not a function");for(i=0;h>i;i++)i in e&&(f=e[i],t.call(c,f,i,o)&&s.push(f));return s}),Array.prototype.every||(Array.prototype.every=function(t){var e=u(this),f=r&&"[object String]"==n(this)?this.split(""):e,o=f.length>>>0,s=arguments[1],i;if("[object Function]"!=n(t))throw new TypeError(t+" is not a function");for(i=0;o>i;i++)if(i in f&&!t.call(s,f[i],i,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=u(this),f=r&&"[object String]"==n(this)?this.split(""):e,o=f.length>>>0,s=arguments[1],i;if("[object Function]"!=n(t))throw new TypeError(t+" is not a function");for(i=0;o>i;i++)if(i in f&&t.call(s,f[i],i,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var s=u(this),f=r&&"[object String]"==n(this)?this.split(""):s,o=f.length>>>0,e,i;if("[object Function]"!=n(t))throw new TypeError(t+" is not a function");if(!o&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");if(i=0,arguments.length>=2)e=arguments[1];else for(;;){if(i in f){e=f[i++];break}if(++i>=o)throw new TypeError("reduce of empty array with no initial value");}for(;o>i;i++)i in f&&(e=t.call(void 0,e,f[i],i,s));return e}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var o=u(this),e=r&&"[object String]"==n(this)?this.split(""):o,s=e.length>>>0,f,i;if("[object Function]"!=n(t))throw new TypeError(t+" is not a function");if(!s&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");if(i=s-1,arguments.length>=2)f=arguments[1];else for(;;){if(i in e){f=e[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value");}do i in this&&(f=t.call(void 0,f,e[i],i,o));while(i--);return f}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var f=r&&"[object String]"==n(this)?this.split(""):u(this),e=f.length>>>0,i;if(!e)return-1;for(i=0,arguments.length>1&&(i=p(arguments[1])),i=i>=0?i:Math.max(0,e+i);e>i;i++)if(i in f&&f[i]===t)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var f=r&&"[object String]"==n(this)?this.split(""):u(this),e=f.length>>>0,i;if(!e)return-1;for(i=e-1,arguments.length>1&&(i=Math.min(i,p(arguments[1]))),i=i>=0?i:e-Math.abs(i);i>=0;i--)if(i in f&&t===f[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(n){return n.__proto__||(n.constructor?n.constructor.prototype:t)}),Object.getOwnPropertyDescriptor)||(d="Object.getOwnPropertyDescriptor called on a non-object: ",Object.getOwnPropertyDescriptor=function(n,r){var u,o,f,e;if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(d+n);if(i(n,r))return(u={enumerable:!0,configurable:!0},s)&&(o=n.__proto__,n.__proto__=t,f=l(n,r),e=a(n,r),n.__proto__=o,f||e)?(f&&(u.get=f),e&&(u.set=e),u):(u.value=n[r],u)}),(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(n){return Object.keys(n)}),Object.create)||(g=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var n={};for(var t in n)n[t]=null;return n.constructor=n.hasOwnProperty=n.propertyIsEnumerable=n.isPrototypeOf=n.toLocaleString=n.toString=n.valueOf=n.__proto__=null,n},Object.create=function(n,t){var i,r;if(null===n)i=g();else{if("object"!=typeof n)throw new TypeError("typeof prototype["+typeof n+"] != 'object'");r=function(){};r.prototype=n;i=new r;i.__proto__=n}return void 0!==t&&Object.defineProperties(i,t),i}),Object.defineProperty&&(nt=y({}),tt="undefined"==typeof document||y(document.createElement("div")),nt&&tt||(h=Object.defineProperty)),!Object.defineProperty||h){var ot="Property description must be an object: ",st="Object.defineProperty called on non-object: ",ht="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(n,r,u){if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(st+n);if("object"!=typeof u&&"function"!=typeof u||null===u)throw new TypeError(ot+u);if(h)try{return h.call(Object,n,r,u)}catch(e){}if(i(u,"value"))if(s&&(l(n,r)||a(n,r))){var f=n.__proto__;n.__proto__=t;delete n[r];n[r]=u.value;n.__proto__=f}else n[r]=u.value;else{if(!s)throw new TypeError(ht);i(u,"get")&&w(n,r,u.get);i(u,"set")&&b(n,r,u.set)}return n}}Object.defineProperties||(Object.defineProperties=function(n,t){for(var r in t)i(t,r)&&Object.defineProperty(n,r,t[r]);return n});Object.seal||(Object.seal=function(n){return n});Object.freeze||(Object.freeze=function(n){return n});try{Object.freeze(function(){})}catch(at){Object.freeze=function(n){return function(t){return"function"==typeof t?t:n(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(n){return n}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(n){var t,r;if(Object(n)===n)throw new TypeError;for(t="";i(n,t);)t+="?";return n[t]=!0,r=i(n,t),delete n[t],r}),!Object.keys){var it=!0,rt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ct=rt.length;for(lt in{toString:null})it=!1;Object.keys=function(n){var t,u,r,e,f;if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError("Object.keys called on a non-object");t=[];for(u in n)i(n,u)&&t.push(u);if(it)for(r=0,e=ct;e>r;r++)f=rt[r],i(n,f)&&t.push(f);return t}}Date.now||(Date.now=function(){return(new Date).getTime()});f="\t\n\x0b\f\r   ᠎             　\u2028\u2029﻿";(!String.prototype.trim||f.trim())&&(f="["+f+"]",ut=new RegExp("^"+f+f+"*"),ft=new RegExp(f+f+"*$"),String.prototype.trim=function(){return String(this).replace(ut,"").replace(ft,"")});u=function(n){if(null==n)throw new TypeError("can't convert "+n+" to object");return Object(n)}});ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(n){"use strict";n("./regexp");n("./es5-shim")});ace.define("ace/lib/dom",["require","exports","module"],function(n,t){"use strict";var i="http://www.w3.org/1999/xhtml";return t.getDocumentHead=function(n){return n||(n=document),n.head||n.getElementsByTagName("head")[0]||n.documentElement},t.createElement=function(n,t){return document.createElementNS?document.createElementNS(t||i,n):document.createElement(n)},t.hasCssClass=function(n,t){var i=(n.className+"").split(/\s+/g);return-1!==i.indexOf(t)},t.addCssClass=function(n,i){t.hasCssClass(n,i)||(n.className+=" "+i)},t.removeCssClass=function(n,t){for(var r,i=n.className.split(/\s+/g);;){if(r=i.indexOf(t),-1==r)break;i.splice(r,1)}n.className=i.join(" ")},t.toggleCssClass=function(n,t){for(var u,i=n.className.split(/\s+/g),r=!0;;){if(u=i.indexOf(t),-1==u)break;r=!1;i.splice(u,1)}return r&&i.push(t),n.className=i.join(" "),r},t.setCssClass=function(n,i,r){r?t.addCssClass(n,i):t.removeCssClass(n,i)},t.hasCssString=function(n,t){var i,r=0;if(t=t||document,t.createStyleSheet&&(i=t.styleSheets)){for(;r<i.length;)if(i[r++].owningElement.id===n)return!0}else if(i=t.getElementsByTagName("style"))for(;r<i.length;)if(i[r++].id===n)return!0;return!1},t.importCssString=function(n,i,r){if(r=r||document,i&&t.hasCssString(i,r))return null;var u;i&&(n+="\n/*# sourceURL=ace/css/"+i+" */");r.createStyleSheet?(u=r.createStyleSheet(),u.cssText=n,i&&(u.owningElement.id=i)):(u=t.createElement("style"),u.appendChild(r.createTextNode(n)),i&&(u.id=i),t.getDocumentHead(r).appendChild(u))},t.importCssStylsheet=function(n,i){if(i.createStyleSheet)i.createStyleSheet(n);else{var r=t.createElement("link");r.rel="stylesheet";r.href=n;t.getDocumentHead(i).appendChild(r)}},t.getInnerWidth=function(n){return parseInt(t.computedStyle(n,"paddingLeft"),10)+parseInt(t.computedStyle(n,"paddingRight"),10)+n.clientWidth},t.getInnerHeight=function(n){return parseInt(t.computedStyle(n,"paddingTop"),10)+parseInt(t.computedStyle(n,"paddingBottom"),10)+n.clientHeight},t.scrollbarWidth=function(n){var r=t.createElement("ace_inner"),u,i,e,o,f;return r.style.width="100%",r.style.minWidth="0px",r.style.height="200px",r.style.display="block",u=t.createElement("ace_outer"),i=u.style,i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",u.appendChild(r),e=n.documentElement,e.appendChild(u),o=r.offsetWidth,i.overflow="scroll",f=r.offsetWidth,o==f&&(f=u.clientWidth),e.removeChild(u),o-f},"undefined"==typeof document?void(t.importCssString=function(){}):(void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),t.computedStyle=window.getComputedStyle?function(n,t){return t?(window.getComputedStyle(n,"")||{})[t]||"":window.getComputedStyle(n,"")||{}}:function(n,t){return t?n.currentStyle[t]:n.currentStyle},t.setInnerHtml=function(n,t){var i=n.cloneNode(!1);return i.innerHTML=t,n.parentNode.replaceChild(i,n),i},"textContent"in document.documentElement?(t.setInnerText=function(n,t){n.textContent=t},t.getInnerText=function(n){return n.textContent}):(t.setInnerText=function(n,t){n.innerText=t},t.getInnerText=function(n){return n.innerText}),t.getParentWindow=function(n){return n.defaultView||n.parentWindow},void 0)});ace.define("ace/lib/oop",["require","exports","module"],function(n,t){"use strict";t.inherits=function(n,t){n.super_=t;n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})};t.mixin=function(n,t){for(var i in t)n[i]=t[i];return n};t.implement=function(n,i){t.mixin(n,i)}});ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(n,t){"use strict";n("./fixoldbrowsers");var i=n("./oop"),r=function(){var r,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)r=n.FUNCTION_KEYS[t].toLowerCase(),n[r]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)r=n.PRINTABLE_KEYS[t].toLowerCase(),n[r]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n["return"],n.escape=n.esc,n.del=n["delete"],n[173]="-",function(){for(var i=["cmd","ctrl","alt","shift"],t=Math.pow(2,i.length);t--;)n.KEY_MODS[t]=i.filter(function(i){return t&n.KEY_MODS[i]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,r);t.keyCodeToString=function(n){var t=r[n];return"string"!=typeof t&&(t=String.fromCharCode(n)),t.toLowerCase()}});ace.define("ace/lib/useragent",["require","exports","module"],function(n,t){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var r=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;t.isWin="win"==r;t.isMac="mac"==r;t.isLinux="linux"==r;t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]);t.isOldIE=t.isIE&&t.isIE<9;t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product;t.isOldGecko=t.isGecko&&parseInt((i.match(/rv:(\d+)/)||[])[1],10)<4;t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera);t.isWebKit=parseFloat(i.split("WebKit/")[1])||void 0;t.isChrome=parseFloat(i.split(" Chrome/")[1])||void 0;t.isAIR=i.indexOf("AdobeAIR")>=0;t.isIPad=i.indexOf("iPad")>=0;t.isTouchPad=i.indexOf("TouchPad")>=0;t.isChromeOS=i.indexOf(" CrOS ")>=0}});ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,t){"use strict";function e(n,t,e){var o=f(t),c,h;if(!i.isMac&&r){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(o|=8),r.altGr){if(3==(3&o))return;r.altGr=0}(18===e||17===e)&&(h="location"in t?t.location:t.keyLocation,17===e&&1===h?1==r[e]&&(s=t.timeStamp):18===e&&3===o&&2===h&&(c=t.timeStamp-s,50>c&&(r.altGr=!0)))}if((e in u.MODIFIER_KEYS&&(e=-1),8&o&&e>=91&&93>=e&&(e=-1),o||13!==e)||(h="location"in t?t.location:t.keyLocation,3!==h||(n(t,o,-e),!t.defaultPrevented))){if(i.isChromeOS&&8&o){if(n(t,o,e),t.defaultPrevented)return;o&=-9}return o||e in u.FUNCTION_KEYS||e in u.PRINTABLE_KEYS?n(t,o,e):!1}}function o(){r=Object.create(null)}var u=n("./keys"),i=n("./useragent"),r=null,s=0,f,h;t.addListener=function(n,t,i){if(n.addEventListener)return n.addEventListener(t,i,!1);if(n.attachEvent){var r=function(){i.call(n,window.event)};i._wrapper=r;n.attachEvent("on"+t,r)}};t.removeListener=function(n,t,i){return n.removeEventListener?n.removeEventListener(t,i,!1):void(n.detachEvent&&n.detachEvent("on"+t,i._wrapper||i))};t.stopEvent=function(n){return t.stopPropagation(n),t.preventDefault(n),!1};t.stopPropagation=function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0};t.preventDefault=function(n){n.preventDefault?n.preventDefault():n.returnValue=!1};t.getButton=function(n){return"dblclick"==n.type?0:"contextmenu"==n.type||i.isMac&&n.ctrlKey&&!n.altKey&&!n.shiftKey?2:n.preventDefault?n.button:{1:0,2:2,4:1}[n.button]};t.capture=function(n,i,r){function u(n){i&&i(n);r&&r(n);t.removeListener(document,"mousemove",i,!0);t.removeListener(document,"mouseup",u,!0);t.removeListener(document,"dragstart",u,!0)}return t.addListener(document,"mousemove",i,!0),t.addListener(document,"mouseup",u,!0),t.addListener(document,"dragstart",u,!0),u};t.addTouchMoveListener=function(n,i){if("ontouchmove"in n){var r,u;t.addListener(n,"touchstart",function(n){var t=n.changedTouches[0];r=t.clientX;u=t.clientY});t.addListener(n,"touchmove",function(n){var f=1,t=n.changedTouches[0];n.wheelX=-(t.clientX-r)/f;n.wheelY=-(t.clientY-u)/f;r=t.clientX;u=t.clientY;i(n)})}};t.addMouseWheelListener=function(n,i){"onmousewheel"in n?t.addListener(n,"mousewheel",function(n){var t=8;void 0!==n.wheelDeltaX?(n.wheelX=-n.wheelDeltaX/t,n.wheelY=-n.wheelDeltaY/t):(n.wheelX=0,n.wheelY=-n.wheelDelta/t);i(n)}):"onwheel"in n?t.addListener(n,"wheel",function(n){var t=.35;switch(n.deltaMode){case n.DOM_DELTA_PIXEL:n.wheelX=n.deltaX*t||0;n.wheelY=n.deltaY*t||0;break;case n.DOM_DELTA_LINE:case n.DOM_DELTA_PAGE:n.wheelX=5*(n.deltaX||0);n.wheelY=5*(n.deltaY||0)}i(n)}):t.addListener(n,"DOMMouseScroll",function(n){n.axis&&n.axis==n.HORIZONTAL_AXIS?(n.wheelX=5*(n.detail||0),n.wheelY=0):(n.wheelX=0,n.wheelY=5*(n.detail||0));i(n)})};t.addMultiMouseDownListener=function(n,r,u,f){function l(n){if(0!==t.getButton(n)?e=0:n.detail>1?(e++,e>4&&(e=1)):e=1,i.isIE){var l=Math.abs(n.clientX-s)>5||Math.abs(n.clientY-h)>5;o&&!l||(e=1);o&&clearTimeout(o);o=setTimeout(function(){o=null},r[e-1]||600);1==e&&(s=n.clientX,h=n.clientY)}if(n._clicks=e,u[f]("mousedown",n),e>4)e=0;else if(e>1)return u[f](c[e],n)}function a(n){e=2;o&&clearTimeout(o);o=setTimeout(function(){o=null},r[e-1]||600);u[f]("mousedown",n);u[f](c[e],n)}var s,h,o,e=0,c={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(n)||(n=[n]);n.forEach(function(n){t.addListener(n,"mousedown",l);i.isOldIE&&t.addListener(n,"dblclick",a)})};f=!i.isMac||!i.isOpera||"KeyboardEvent"in window?function(n){return 0|(n.ctrlKey?1:0)|(n.altKey?2:0)|(n.shiftKey?4:0)|(n.metaKey?8:0)}:function(n){return 0|(n.metaKey?1:0)|(n.altKey?2:0)|(n.shiftKey?4:0)|(n.ctrlKey?8:0)};(t.getModifierString=function(n){return u.KEY_MODS[f(n)]},t.addCommandKeyListener=function(n,u){var f=t.addListener,h,s;!i.isOldGecko&&(!i.isOpera||"KeyboardEvent"in window)?(s=null,f(n,"keydown",function(n){r[n.keyCode]=(r[n.keyCode]||0)+1;var t=e(u,n,n.keyCode);return s=n.defaultPrevented,t}),f(n,"keypress",function(n){s&&(n.ctrlKey||n.altKey||n.shiftKey||n.metaKey)&&(t.stopEvent(n),s=null)}),f(n,"keyup",function(n){r[n.keyCode]=null}),r||(o(),f(window,"focus",o))):(h=null,f(n,"keydown",function(n){h=n.keyCode}),f(n,"keypress",function(n){return e(u,n,h)}))},"object"==typeof window&&window.postMessage&&!i.isOldIE)&&(h=1,t.nextTick=function(n,i){i=i||window;var r="zero-timeout-message-"+h;t.addListener(i,"message",function u(f){f.data==r&&(t.stopPropagation(f),t.removeListener(i,"message",u),n())});i.postMessage(r,"*")});t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame);t.nextFrame=t.nextFrame?t.nextFrame.bind(window):function(n){setTimeout(n,17)}});ace.define("ace/lib/lang",["require","exports","module"],function(n,t){"use strict";t.last=function(n){return n[n.length-1]};t.stringReverse=function(n){return n.split("").reverse().join("")};t.stringRepeat=function(n,t){for(var i="";t>0;)1&t&&(i+=n),(t>>=1)&&(n+=n);return i};var r=/^\s\s*/,u=/\s\s*$/;t.stringTrimLeft=function(n){return n.replace(r,"")};t.stringTrimRight=function(n){return n.replace(u,"")};t.copyObject=function(n){var t={};for(var i in n)t[i]=n[i];return t};t.copyArray=function(n){for(var i=[],t=0,r=n.length;r>t;t++)i[t]=n[t]&&"object"==typeof n[t]?this.copyObject(n[t]):n[t];return i};t.deepCopy=function i(n){var r,t;if("object"!=typeof n||!n)return n;if(Array.isArray(n)){for(r=[],t=0;t<n.length;t++)r[t]=i(n[t]);return r}if("[object Object]"!==Object.prototype.toString.call(n))return n;r={};for(t in n)r[t]=i(n[t]);return r};t.arrayToMap=function(n){for(var i={},t=0;t<n.length;t++)i[n[t]]=1;return i};t.createMap=function(n){var t=Object.create(null);for(var i in n)t[i]=n[i];return t};t.arrayRemove=function(n,t){for(var i=0;i<=n.length;i++)t===n[i]&&n.splice(i,1)};t.escapeRegExp=function(n){return n.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};t.escapeHTML=function(n){return n.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")};t.getMatchOffsets=function(n,t){var i=[];return n.replace(t,function(n){i.push({offset:arguments[arguments.length-2],length:n.length})}),i};t.deferredCall=function(n){var i=null,r=function(){i=null;n()},t=function(n){return t.cancel(),i=setTimeout(r,n||0),t};return t.schedule=t,t.call=function(){return this.cancel(),n(),t},t.cancel=function(){return clearTimeout(i),i=null,t},t.isPending=function(){return i},t};t.delayedCall=function(n,t){var i=null,u=function(){i=null;n()},r=function(n){null==i&&(i=setTimeout(u,n||t))};return r.delay=function(n){i&&clearTimeout(i);i=setTimeout(u,n||t)},r.schedule=r,r.call=function(){this.cancel();n()},r.cancel=function(){i&&clearTimeout(i);i=null},r.isPending=function(){return i},r}});ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(n,t){"use strict";var i=n("../lib/event"),r=n("../lib/useragent"),f=n("../lib/dom"),u=n("../lib/lang"),e=r.isChrome<18,o=r.isIE,s=function(n,t){function c(n){if(!h){if(h=!0,a)t=0,i=n?0:s.value.length-1;else var t=n?2:1,i=2;try{s.setSelectionRange(t,i)}catch(r){}h=!1}}function y(){h||(s.value=l,r.isWebKit&&lt.schedule())}function w(){clearTimeout(ht);ht=setTimeout(function(){p&&(s.style.cssText=p,p="");null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},r.isOldIE?200:0)}var s=f.createElement("textarea"),v,ct,lt,it,vt,yt,a,ht,nt;s.className="ace_text-input";r.isTouchPad&&s.setAttribute("x-palm-disable-auto-cap",!0);s.setAttribute("wrap","off");s.setAttribute("autocorrect","off");s.setAttribute("autocapitalize","off");s.setAttribute("spellcheck",!1);s.style.opacity="0";r.isOldIE&&(s.style.top="-1000px");n.insertBefore(s,n.firstChild);var l="\x01\x01",b=!1,tt=!1,h=!1,p="",k=!0;try{v=document.activeElement===s}catch(ni){}if(i.addListener(s,"blur",function(n){t.onBlur(n);v=!1}),i.addListener(s,"focus",function(n){v=!0;t.onFocus(n);c()}),this.focus=function(){if(p)return s.focus();var n=s.style.top;s.style.position="fixed";s.style.top="0px";s.focus();setTimeout(function(){s.style.position="";"0px"==s.style.top&&(s.style.top=n)},0)},this.blur=function(){s.blur()},this.isFocused=function(){return v},ct=u.delayedCall(function(){v&&c(k)}),lt=u.delayedCall(function(){h||(s.value=l,v&&c())}),r.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=k&&(k=!k,ct.schedule())}),y(),v&&t.onFocus(),it=function(n){return 0===n.selectionStart&&n.selectionEnd===n.value.length},!s.setSelectionRange&&s.createTextRange&&(s.setSelectionRange=function(n,t){var i=this.createTextRange();i.collapse(!0);i.moveStart("character",n);i.moveEnd("character",t);i.select()},it=function(n){try{var t=n.ownerDocument.selection.createRange()}catch(i){}return t&&t.parentElement()==n?t.text==n.value:!1}),r.isOldIE){var rt=!1,at=function(n){if(!rt){var t=s.value;if(!h&&t&&t!=l)return n&&t==l[0]?ut.schedule():(ft(t),rt=!0,y(),rt=!1,void 0)}},ut=u.delayedCall(at);i.addListener(s,"propertychange",at);vt={13:1,27:1};i.addListener(s,"keyup",function(n){return h&&(!s.value||vt[n.keyCode])&&setTimeout(g,0),(s.value.charCodeAt(0)||0)<129?ut.call():void(h?ot():dt())});i.addListener(s,"keydown",function(){ut.schedule(50)})}yt=function(){b?b=!1:it(s)?(t.selectAll(),c()):a&&c(t.selection.isEmpty())};a=null;this.setInputHandler=function(n){a=n};this.getInputHandler=function(){return a};var d=!1,ft=function(n){a&&(n=a(n),a=null);tt?(c(),n&&t.onPaste(n),tt=!1):n==l.charAt(0)?d?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(n.substring(0,2)==l?n=n.substr(2):n.charAt(0)==l.charAt(0)?n=n.substr(1):n.charAt(n.length-1)==l.charAt(0)&&(n=n.slice(0,-1)),n.charAt(n.length-1)==l.charAt(0)&&(n=n.slice(0,-1)),n&&t.onTextInput(n));d&&(d=!1)},gt=function(){if(!h){var n=s.value;ft(n);y()}},et=function(n,t,i){var r=n.clipboardData||window.clipboardData,u;if(r&&!e){u=o||i?"Text":"text/plain";try{return t?r.setData(u,t)!==!1:r.getData(u)}catch(n){if(!i)return et(n,t,!0)}}},pt=function(n,r){var u=t.getCopyText();return u?void(et(n,u)?(r?t.onCut():t.onCopy(),i.preventDefault(n)):(b=!0,s.value=u,s.select(),setTimeout(function(){b=!1;y();c();r?t.onCut():t.onCopy()}))):i.preventDefault(n)},wt=function(n){pt(n,!0)},bt=function(n){pt(n,!1)},kt=function(n){var u=et(n);"string"==typeof u?(u&&t.onPaste(u,n),r.isIE&&setTimeout(c),i.preventDefault(n)):(s.value="",tt=!0)};i.addCommandKeyListener(s,t.onCommandKey.bind(t));i.addListener(s,"select",yt);i.addListener(s,"input",gt);i.addListener(s,"cut",wt);i.addListener(s,"copy",bt);i.addListener(s,"paste",kt);(!("oncut"in s)||!("oncopy"in s)||!("onpaste"in s))&&i.addListener(n,"keydown",function(n){if((!r.isMac||n.metaKey)&&n.ctrlKey)switch(n.keyCode){case 67:bt(n);break;case 86:kt(n);break;case 88:wt(n)}});var dt=function(){h||!t.onCompositionStart||t.$readOnly||(h={},h.canUndo=t.session.$undoManager,t.onCompositionStart(),setTimeout(ot,0),t.on("mousedown",g),h.canUndo&&!t.selection.isEmpty()&&(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},ot=function(){var n,i;h&&t.onCompositionUpdate&&!t.$readOnly&&(n=s.value.replace(/\x01/g,""),h.lastValue!==n&&(t.onCompositionUpdate(n),h.lastValue&&t.undo(),h.canUndo&&(h.lastValue=n),h.lastValue)&&(i=t.selection.getRange(),t.insert(h.lastValue),t.session.markUndoGroup(),h.range=t.selection.getRange(),t.selection.setRange(i),t.selection.clearSelection()))},g=function(n){var i,r;t.onCompositionEnd&&!t.$readOnly&&(i=h,h=!1,r=setTimeout(function(){r=null;var n=s.value.replace(/\x01/g,"");h||(n==i.lastValue?y():!i.lastValue&&n&&(y(),ft(n)))}),a=function(n){return r&&clearTimeout(r),n=n.replace(/\x01/g,""),n==i.lastValue?"":(i.lastValue&&r&&t.undo(),n)},t.onCompositionEnd(),t.removeListener("mousedown",g),"compositionend"==n.type&&i.range&&t.selection.setRange(i.range))},st=u.delayedCall(ot,50);i.addListener(s,"compositionstart",dt);r.isGecko?i.addListener(s,"text",function(){st.schedule()}):(i.addListener(s,"keyup",function(){st.schedule()}),i.addListener(s,"keydown",function(){st.schedule()}));i.addListener(s,"compositionend",g);this.getElement=function(){return s};this.setReadOnly=function(n){s.readOnly=n};this.onContextMenu=function(n){d=!0;c(t.selection.isEmpty());t._emit("nativecontextmenu",{target:t,domEvent:n});this.moveToMouse(n,!0)};this.moveToMouse=function(n,u){if(u||!r.isOldIE){p||(p=s.style.cssText);s.style.cssText=(u?"z-index:100000;":"")+"height:"+s.style.height+";"+(r.isIE?"opacity:0.1;":"");var e=t.container.getBoundingClientRect(),c=f.computedStyle(t.container),o=e.top+(parseInt(c.borderTopWidth)||0),l=e.left+(parseInt(e.borderLeftWidth)||0),a=e.bottom-o-s.clientHeight-2,h=function(n){s.style.left=n.clientX-l-2+"px";s.style.top=Math.min(n.clientY-o-2,a)+"px"};h(n);"mousedown"==n.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(ht),r.isWin&&!r.isOldIE&&i.capture(t.container,h,w))}};this.onContextMenuClose=w;nt=function(n){t.textInput.onContextMenu(n);w()};i.addListener(s,"mouseup",nt);i.addListener(s,"mousedown",function(n){n.preventDefault();w()});i.addListener(t.renderer.scroller,"contextmenu",nt);i.addListener(s,"contextmenu",nt)};t.TextInput=s});ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,t){"use strict";function i(n){var t,i;n.$clickSelection=null;t=n.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(n));t.setDefaultHandler("dblclick",this.onDoubleClick.bind(n));t.setDefaultHandler("tripleclick",this.onTripleClick.bind(n));t.setDefaultHandler("quadclick",this.onQuadClick.bind(n));t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(n));t.setDefaultHandler("touchmove",this.onTouchMove.bind(n));i=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];i.forEach(function(t){n[t]=this[t]},this);n.selectByLines=this.extendSelectionBy.bind(n,"getLineRange");n.selectByWords=this.extendSelectionBy.bind(n,"getWordRange")}function u(n,t,i,r){return Math.sqrt(Math.pow(i-n,2)+Math.pow(r-t,2))}function r(n,t){var i;return i=n.start.row==n.end.row?2*t.column-n.start.column-n.end.column:n.start.row!=n.end.row-1||n.start.column||n.end.column?2*t.row-n.start.row-n.end.row:t.column-4,0>i?{cursor:n.start,anchor:n.end}:{cursor:n.end,anchor:n.start}}var f=(n("../lib/dom"),n("../lib/event"),n("../lib/useragent"),0);(function(){this.onMouseDown=function(n){var e=n.inSelection(),r=n.getDocumentPosition(),t,i,u,f;return(this.mousedownEvent=n,t=this.editor,i=n.getButton(),0!==i)?(u=t.getSelectionRange(),f=u.isEmpty(),t.$blockScrolling++,(f||1==i)&&t.selection.moveToPosition(r),t.$blockScrolling--,2==i&&t.textInput.onContextMenu(n.domEvent),void 0):(this.mousedownEvent.time=Date.now(),!e||t.isFocused()||(t.focus(),!this.$focusTimout||this.$clickSelection||t.inMultiSelectMode)?(this.captureMouse(n),this.startSelect(r,n.domEvent._clicks>1),n.preventDefault()):(this.setState("focusWait"),void this.captureMouse(n)))};this.startSelect=function(n,t){n=n||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;i.$blockScrolling++;this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(n):t||i.selection.moveToPosition(n);t||this.select();i.renderer.scroller.setCapture&&i.renderer.scroller.setCapture();i.setStyle("ace_selecting");this.setState("select");i.$blockScrolling--};this.select=function(){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),u,f;(n.$blockScrolling++,this.$clickSelection)&&(u=this.$clickSelection.comparePoint(i),-1==u?t=this.$clickSelection.end:1==u?t=this.$clickSelection.start:(f=r(this.$clickSelection,i),i=f.cursor,t=f.anchor),n.selection.setSelectionAnchor(t.row,t.column));n.selection.selectToPosition(i);n.$blockScrolling--;n.renderer.scrollCursorIntoView()};this.extendSelectionBy=function(n){var f,u=this.editor,t=u.renderer.screenToTextCoordinates(this.x,this.y),i=u.selection[n](t.row,t.column),e,o,s;(u.$blockScrolling++,this.$clickSelection)&&(e=this.$clickSelection.comparePoint(i.start),o=this.$clickSelection.comparePoint(i.end),-1==e&&0>=o?(f=this.$clickSelection.end,i.end.row==t.row&&i.end.column==t.column||(t=i.start)):1==o&&e>=0?(f=this.$clickSelection.start,i.start.row==t.row&&i.start.column==t.column||(t=i.end)):-1==e&&1==o?(t=i.end,f=i.start):(s=r(this.$clickSelection,t),t=s.cursor,f=s.anchor),u.selection.setSelectionAnchor(f.row,f.column));u.selection.selectToPosition(t);u.$blockScrolling--;u.renderer.scrollCursorIntoView()};this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null;this.editor.unsetStyle("ace_selecting");this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()};this.focusWait=function(){var n=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(n>f||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())};this.onDoubleClick=function(n){var i=n.getDocumentPosition(),r=this.editor,u=r.session,t=u.getBracketRange(i);t?(t.isEmpty()&&(t.start.column--,t.end.column++),this.setState("select")):(t=r.selection.getWordRange(i.row,i.column),this.setState("selectByWords"));this.$clickSelection=t;this.select()};this.onTripleClick=function(n){var r=n.getDocumentPosition(),i=this.editor,t;this.setState("selectByLines");t=i.getSelectionRange();t.isMultiLine()&&t.contains(r.row,r.column)?(this.$clickSelection=i.selection.getLineRange(t.start.row),this.$clickSelection.end=i.selection.getLineRange(t.end.row).end):this.$clickSelection=i.selection.getLineRange(r.row);this.select()};this.onQuadClick=function(){var n=this.editor;n.selectAll();this.$clickSelection=n.getSelectionRange();this.setState("selectAll")};this.onMouseWheel=function(n){if(!n.getAccelKey()){n.getShiftKey()&&n.wheelY&&!n.wheelX&&(n.wheelX=n.wheelY,n.wheelY=0);var t=n.domEvent.timeStamp,r=t-(this.$lastScrollTime||0),i=this.editor,u=i.renderer.isScrollableBy(n.wheelX*n.speed,n.wheelY*n.speed);return u||200>r?(this.$lastScrollTime=t,i.renderer.scrollBy(n.wheelX*n.speed,n.wheelY*n.speed),n.stop()):void 0}};this.onTouchMove=function(n){var t=n.domEvent.timeStamp,r=t-(this.$lastScrollTime||0),i=this.editor,u=i.renderer.isScrollableBy(n.wheelX*n.speed,n.wheelY*n.speed);if(u||200>r)return(this.$lastScrollTime=t,i.renderer.scrollBy(n.wheelX*n.speed,n.wheelY*n.speed),n.stop())}}).call(i.prototype);t.DefaultHandlers=i});ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(n,t){"use strict";function r(n){this.isOpen=!1;this.$element=null;this.$parentNode=n}var i=(n("./lib/oop"),n("./lib/dom"));(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element};this.getElement=function(){return this.$element||this.$init()};this.setText=function(n){i.setInnerText(this.getElement(),n)};this.setHtml=function(n){this.getElement().innerHTML=n};this.setPosition=function(n,t){this.getElement().style.left=n+"px";this.getElement().style.top=t+"px"};this.setClassName=function(n){i.addCssClass(this.getElement(),n)};this.show=function(n,t,i){null!=n&&this.setText(n);null!=t&&null!=i&&this.setPosition(t,i);this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)};this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)};this.getHeight=function(){return this.getElement().offsetHeight};this.getWidth=function(){return this.getElement().offsetWidth}}).call(r.prototype);t.Tooltip=r});ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(n,t){"use strict";function u(n){function a(){var f=e.getDocumentPosition().row,i=l.$annotations[f],o,a,r;if(!i||(o=t.session.getLength(),f==o&&(a=t.renderer.pixelToScreenCoordinates(0,e.y).row,r=e.$pos,a>t.session.documentToScreenRow(r.row,r.column))))return u();if(h!=i)if(h=i.text.join("<br/>"),s.setHtml(h),s.show(),t._signal("showGutterTooltip",s),t.on("mousewheel",u),n.$tooltipFollowsMouse)c(e);else{var p=e.domEvent.target,v=p.getBoundingClientRect(),y=s.getElement().style;y.left=v.right+"px";y.top=v.bottom+"px"}}function u(){r&&(r=clearTimeout(r));h&&(s.hide(),h=null,t._signal("hideGutterTooltip",s),t.removeEventListener("mousewheel",u))}function c(n){s.setPosition(n.x,n.y)}var t=n.editor,l=t.renderer.$gutterLayer,s=new i(t.container),r,e,h;n.editor.setDefaultHandler("guttermousedown",function(i){var u,r,f;if(t.isFocused()&&0==i.getButton()&&(u=l.getRegion(i),"foldWidgets"!=u)){if(r=i.getDocumentPosition().row,f=t.session.selection,i.getShiftKey())f.selectTo(r,0);else{if(2==i.domEvent.detail)return t.selectAll(),i.preventDefault();n.$clickSelection=t.selection.getLineRange(r)}return n.setState("selectByLines"),n.captureMouse(i),i.preventDefault()}});n.editor.setDefaultHandler("guttermousemove",function(t){var i=t.domEvent.target||t.domEvent.srcElement;return f.hasCssClass(i,"ace_fold-widget")?u():(h&&n.$tooltipFollowsMouse&&c(t),e=t,void(r||(r=setTimeout(function(){r=null;e&&!n.isMousePressed?a():u()},50))))});o.addListener(t.renderer.$gutter,"mouseout",function(){e=null;h&&!r&&(r=setTimeout(function(){r=null;u()},50))});t.on("changeSession",u)}function i(n){r.call(this,n)}var f=n("../lib/dom"),e=n("../lib/oop"),o=n("../lib/event"),r=n("../tooltip").Tooltip;e.inherits(i,r),function(){this.setPosition=function(n,t){var i=window.innerWidth||document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight,u=this.getWidth(),f=this.getHeight();n+=15;t+=15;n+u>i&&(n-=n+u-i);t+f>e&&(t-=20+f);r.prototype.setPosition.call(this,n,t)}}.call(i.prototype);t.GutterHandler=u});ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,t){"use strict";var i=n("../lib/event"),r=n("../lib/useragent"),u=t.MouseEvent=function(n,t){this.domEvent=n;this.editor=t;this.x=this.clientX=n.clientX;this.y=this.clientY=n.clientY;this.$pos=null;this.$inSelection=null;this.propagationStopped=!1;this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent);this.propagationStopped=!0};this.preventDefault=function(){i.preventDefault(this.domEvent);this.defaultPrevented=!0};this.stop=function(){this.stopPropagation();this.preventDefault()};this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)};this.inSelection=function(){var i,n,t;return null!==this.$inSelection?this.$inSelection:(i=this.editor,n=i.getSelectionRange(),n.isEmpty()?this.$inSelection=!1:(t=this.getDocumentPosition(),this.$inSelection=n.contains(t.row,t.column)),this.$inSelection)};this.getButton=function(){return i.getButton(this.domEvent)};this.getShiftKey=function(){return this.domEvent.shiftKey};this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(u.prototype)});ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,t){"use strict";function f(n){function ct(n,i){var r=Date.now(),e=!i||n.row!=i.row,o=!i||n.column!=i.column,f;!k||e||o?(t.$blockScrolling+=1,t.moveCursorToPosition(n),t.$blockScrolling-=1,k=r,rt={x:v,y:y}):(f=u(rt.x,rt.y,v,y),f>h?k=null:r-k>=s&&(t.renderer.scrollCursorIntoView(),k=null))}function lt(n,i){var e=Date.now(),s=t.renderer.layerConfig.lineHeight,h=t.renderer.layerConfig.characterWidth,f=t.renderer.scroller.getBoundingClientRect(),r={x:{left:v-f.left,right:f.right-v},y:{top:y-f.top,bottom:f.bottom-y}},c=Math.min(r.x.left,r.x.right),l=Math.min(r.y.top,r.y.bottom),u={row:n.row,column:n.column};2>=c/h&&(u.column+=r.x.left<r.x.right?-3:2);1>=l/s&&(u.row+=r.y.top<r.y.bottom?-1:1);var a=n.row!=u.row,p=n.column!=u.column,w=!i||n.row!=i.row;a||p&&!w?g?e-g>=o&&t.renderer.scrollCursorIntoView(u):g=e:g=null}function ut(){var n=f;f=t.renderer.screenToTextCoordinates(v,y);ct(f,n);lt(f,n)}function ft(){c=t.selection.toOrientedRange();a=t.session.addMarker(c,"ace_selection",t.getSelectionStyle());t.clearSelection();t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1);clearInterval(it);ut();it=setInterval(ut,20);p=0;i.addListener(document,"mousemove",et)}function tt(){clearInterval(it);t.session.removeMarker(a);a=null;t.$blockScrolling+=1;t.selection.fromOrientedRange(c);t.$blockScrolling-=1;t.isFocused()&&!nt&&t.renderer.$cursorLayer.setBlinking(!t.getReadOnly());c=null;f=null;p=0;g=null;k=null;i.removeListener(document,"mousemove",et)}function et(){null==d&&(d=setTimeout(function(){null!=d&&a&&tt()},20))}function ot(n){var t=n.types;return!t||Array.prototype.some.call(t,function(n){return"text/plain"==n||"Text"==n})}function st(n){var u=["copy","copymove","all","uninitialized"],f=r.isMac?n.altKey:n.ctrlKey,i="uninitialized",t;try{i=n.dataTransfer.effectAllowed.toLowerCase()}catch(n){}return t="none",f&&u.indexOf(i)>=0?t="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?t="move":u.indexOf(i)>=0&&(t="copy"),t}var t=n.editor,w=e.createElement("img"),ht,a,v,y,it,c,f,b,nt,g,k,rt,l,p,d;w.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";r.isOpera&&(w.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");ht=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];ht.forEach(function(t){n[t]=this[t]},this);t.addEventListener("mousedown",this.onMouseDown.bind(n));l=t.container;p=0;this.onDragStart=function(n){var u,i;if(this.cancelDrag||!l.draggable)return u=this,setTimeout(function(){u.startSelect();u.captureMouse(n)},0),n.preventDefault();c=t.getSelectionRange();i=n.dataTransfer;i.effectAllowed=t.getReadOnly()?"copy":"copyMove";r.isOpera&&(t.container.appendChild(w),w.scrollTop=0);i.setDragImage&&i.setDragImage(w,0,0);r.isOpera&&t.container.removeChild(w);i.clearData();i.setData("Text",t.session.getTextRange());nt=!0;this.setState("drag")};this.onDragEnd=function(n){if(l.draggable=!1,nt=!1,this.setState(null),!t.getReadOnly()){var i=n.dataTransfer.dropEffect;b||"move"!=i||t.session.remove(t.getSelectionRange());t.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("")};this.onDragEnter=function(n){if(!t.getReadOnly()&&ot(n.dataTransfer))return(v=n.clientX,y=n.clientY,a||ft(),p++,n.dataTransfer.dropEffect=b=st(n),i.preventDefault(n))};this.onDragOver=function(n){if(!t.getReadOnly()&&ot(n.dataTransfer))return(v=n.clientX,y=n.clientY,a||(ft(),p++),null!==d&&(d=null),n.dataTransfer.dropEffect=b=st(n),i.preventDefault(n))};this.onDragLeave=function(n){return p--,0>=p&&a?(tt(),b=null,i.preventDefault(n)):void 0};this.onDrop=function(n){var r,u;if(f){if(r=n.dataTransfer,nt)switch(b){case"move":c=c.contains(f.row,f.column)?{start:f,end:f}:t.moveText(c,f);break;case"copy":c=t.moveText(c,f,!0)}else u=r.getData("Text"),c={start:f,end:t.session.insert(f,u)},t.focus(),b=null;return tt(),i.preventDefault(n)}};i.addListener(l,"dragstart",this.onDragStart.bind(n));i.addListener(l,"dragend",this.onDragEnd.bind(n));i.addListener(l,"dragenter",this.onDragEnter.bind(n));i.addListener(l,"dragover",this.onDragOver.bind(n));i.addListener(l,"dragleave",this.onDragLeave.bind(n));i.addListener(l,"drop",this.onDrop.bind(n));d=null}function u(n,t,i,r){return Math.sqrt(Math.pow(i-n,2)+Math.pow(r-t,2))}var e=n("../lib/dom"),i=n("../lib/event"),r=n("../lib/useragent"),o=200,s=200,h=5;(function(){this.dragWait=function(){var n=Date.now()-this.mousedownEvent.time;n>this.editor.getDragDelay()&&this.startDrag()};this.dragWaitEnd=function(){var n=this.editor.container;n.draggable=!1;this.startSelect(this.mousedownEvent.getDocumentPosition());this.selectEnd()};this.dragReadyEnd=function(){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("");this.dragWaitEnd()};this.startDrag=function(){var n,t,i;this.cancelDrag=!1;n=this.editor;t=n.container;t.draggable=!0;n.renderer.$cursorLayer.setBlinking(!1);n.setStyle("ace_dragging");i=r.isWin?"default":"move";n.renderer.setCursorStyle(i);this.setState("dragReady")};this.onMouseDrag=function(){var t=this.editor.container,n;r.isIE&&"dragReady"==this.state&&(n=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),n>3&&t.dragDrop());"dragWait"===this.state&&(n=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))};this.onMouseDown=function(n){var t,u;if(this.$dragEnabled){this.mousedownEvent=n;var i=this.editor,f=n.inSelection(),e=n.getButton(),o=n.domEvent.detail||1;if(1===o&&0===e&&f){if(n.editor.inMultiSelectMode&&(n.getAccelKey()||n.getShiftKey()))return;this.mousedownEvent.time=Date.now();t=n.domEvent.target||n.domEvent.srcElement;("unselectable"in t&&(t.unselectable="on"),i.getDragDelay())?(r.isWebKit&&(this.cancelDrag=!0,u=i.container,u.draggable=!0),this.setState("dragWait")):this.startDrag();this.captureMouse(n,this.onMouseDrag.bind(this));n.defaultPrevented=!0}}}}).call(f.prototype);t.DragdropHandler=f});ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";var i=n("./dom");t.get=function(n,t){var i=new XMLHttpRequest;i.open("GET",n,!0);i.onreadystatechange=function(){4===i.readyState&&t(i.responseText)};i.send(null)};t.loadScript=function(n,t){var u=i.getDocumentHead(),r=document.createElement("script");r.src=n;u.appendChild(r);r.onload=r.onreadystatechange=function(n,i){!i&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,i||t())}};t.qualifyURL=function(n){var t=document.createElement("a");return t.href=n,t.href}});ace.define("ace/lib/event_emitter",["require","exports","module"],function(n,t){"use strict";var i={},r=function(){this.propagationStopped=!0},u=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(n,t){var i,f,e;if(this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={}),i=this._eventRegistry[n]||[],f=this._defaultHandlers[n],i.length||f){for("object"==typeof t&&t||(t={}),t.type||(t.type=n),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=u),i=i.slice(),e=0;e<i.length&&(i[e](t,this),!t.propagationStopped);e++);return f&&!t.defaultPrevented?f(t,this):void 0}};i._signal=function(n,t){var i=(this._eventRegistry||{})[n],r;if(i)for(i=i.slice(),r=0;r<i.length;r++)i[r](t,this)};i.once=function(n,t){var i=this;t&&this.addEventListener(n,function r(){i.removeEventListener(n,r);t.apply(null,arguments)})};i.setDefaultHandler=function(n,t){var i=this._defaultHandlers,f,r,u;(i||(i=this._defaultHandlers={_disabled_:{}}),i[n])&&(f=i[n],r=i._disabled_[n],r||(i._disabled_[n]=r=[]),r.push(f),u=r.indexOf(t),-1!=u&&r.splice(u,1));i[n]=t};i.removeDefaultHandler=function(n,t){var r=this._defaultHandlers,i,u;r&&(i=r._disabled_[n],r[n]==t?(r[n],i&&this.setDefaultHandler(n,i.pop())):i&&(u=i.indexOf(t),-1!=u&&i.splice(u,1)))};i.on=i.addEventListener=function(n,t,i){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[n];return r||(r=this._eventRegistry[n]=[]),-1==r.indexOf(t)&&r[i?"unshift":"push"](t),t};i.off=i.removeListener=i.removeEventListener=function(n,t){var i,r;this._eventRegistry=this._eventRegistry||{};i=this._eventRegistry[n];i&&(r=i.indexOf(t),-1!==r&&i.splice(r,1))};i.removeAllListeners=function(n){this._eventRegistry&&(this._eventRegistry[n]=[])};t.EventEmitter=i});ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,t){"no use strict";function i(){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function f(n,t){var i=new Error(n);i.data=t;"object"==typeof console&&console.error&&console.error(i);setTimeout(function(){throw i;})}var r=n("./oop"),e=n("./event_emitter").EventEmitter,o={setOptions:function(n){Object.keys(n).forEach(function(t){this.setOption(t,n[t])},this)},getOptions:function(n){var t={};return n?Array.isArray(n)||(t=n,n=Object.keys(t)):n=Object.keys(this.$options),n.forEach(function(n){t[n]=this.getOption(n)},this),t},setOption:function(n,t){if(this["$"+n]!==t){var r=this.$options[n];return r?r.forwardTo?this[r.forwardTo]&&this[r.forwardTo].setOption(n,t):(r.handlesSet||(this["$"+n]=t),void(r&&r.set&&r.set.call(this,t))):i('misspelled option "'+n+'"')}},getOption:function(n){var t=this.$options[n];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(n):t&&t.get?t.get.call(this):this["$"+n]:i('misspelled option "'+n+'"')}},u=function(){this.$defaultOptions={}};(function(){r.implement(this,e);this.defineOptions=function(n,t,i){return n.$options||(this.$defaultOptions[t]=n.$options={}),Object.keys(i).forEach(function(t){var r=i[t];"string"==typeof r&&(r={forwardTo:r});r.name||(r.name=t);n.$options[r.name]=r;"initialValue"in r&&(n["$"+r.name]=r.initialValue)}),r.implement(n,o),this};this.resetOptions=function(n){Object.keys(n.$options).forEach(function(t){var i=n.$options[t];"value"in i&&n.setOption(t,i.value)})};this.setDefaultValue=function(n,t,i){var r=this.$defaultOptions[n]||(this.$defaultOptions[n]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,i):r[t].value=i)};this.setDefaultValues=function(n,t){Object.keys(t).forEach(function(i){this.setDefaultValue(n,i,t[i])},this)};this.warn=i;this.reportError=f}).call(u.prototype);t.AppConfig=u});ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(n,t,i){"no use strict";function f(f){var s,v,h,p,c;if(u&&u.document){r.packaged=f||n.packaged||i.packaged||u.define&&define.packaged;for(var o={},l="",w=document.currentScript||document._currentScript,d=w&&w.ownerDocument||document,b=d.getElementsByTagName("script"),a=0;a<b.length;a++)if(s=b[a],v=s.src||s.getAttribute("src"),v){for(var k=s.attributes,y=0,g=k.length;g>y;y++)h=k[y],0===h.name.indexOf("data-ace-")&&(o[e(h.name.replace(/^data-ace-/,""))]=h.value);p=v.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);p&&(l=p[1])}l&&(o.base=o.base||l,o.packaged=!0);o.basePath=o.base;o.workerPath=o.workerPath||o.base;o.modePath=o.modePath||o.base;o.themePath=o.themePath||o.base;delete o.base;for(c in o)"undefined"!=typeof o[c]&&t.set(c,o[c])}}function e(n){return n.replace(/-(.)/g,function(n,t){return t.toUpperCase()})}var o=n("./lib/lang"),s=(n("./lib/oop"),n("./lib/net")),h=n("./lib/app_config").AppConfig,u,r;i.exports=t=new h;u=function(){return this||"undefined"!=typeof window&&window}();r={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(n){if(!r.hasOwnProperty(n))throw new Error("Unknown config key: "+n);return r[n]};t.set=function(n,t){if(!r.hasOwnProperty(n))throw new Error("Unknown config key: "+n);r[n]=t};t.all=function(){return o.copyObject(r)};t.moduleUrl=function(n,t){var i,e,u,o,f;return r.$moduleUrls[n]?r.$moduleUrls[n]:(i=n.split("/"),t=t||i[i.length-2]||"",e="snippets"==t?"/":"-",u=i[i.length-1],"worker"==t&&"-"==e&&(o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g"),u=u.replace(o,"")),(!u||u==t)&&i.length>1&&(u=i[i.length-2]),f=r[t+"Path"],null==f?f=r.basePath:"/"==e&&(t=e=""),f&&"/"!=f.slice(-1)&&(f+="/"),f+t+e+u+this.get("suffix"))};t.setModuleUrl=function(n,t){return r.$moduleUrls[n]=t};t.$loading={};t.loadModule=function(i,r){var u,e,f;Array.isArray(i)&&(e=i[0],i=i[1]);try{u=n(i)}catch(o){}return u&&!t.$loading[i]?r&&r(u):(t.$loading[i]||(t.$loading[i]=[]),t.$loading[i].push(r),!(t.$loading[i].length>1))?(f=function(){n([i],function(n){t._emit("load.module",{name:i,module:n});var r=t.$loading[i];t.$loading[i]=null;r.forEach(function(t){t&&t(n)})})},t.get("packaged")?void s.loadScript(t.moduleUrl(i,e),f):f()):void 0};t.init=f});ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(n,t){"use strict";var i=n("../lib/event"),u=n("../lib/useragent"),e=n("./default_handlers").DefaultHandlers,o=n("./default_gutter_handler").GutterHandler,r=n("./mouse_event").MouseEvent,s=n("./dragdrop_handler").DragdropHandler,h=n("../config"),f=function(n){var h=this,r,f,t;this.editor=n;new e(this);new o(this);new s(this);r=function(){var t=!document.hasFocus||!document.hasFocus()||!n.isFocused()&&document.activeElement==(n.textInput&&n.textInput.getElement());t&&window.focus();n.focus()};f=n.renderer.getMouseEventTarget();i.addListener(f,"click",this.onMouseEvent.bind(this,"click"));i.addListener(f,"mousemove",this.onMouseMove.bind(this,"mousemove"));i.addMultiMouseDownListener([f,n.renderer.scrollBarV&&n.renderer.scrollBarV.inner,n.renderer.scrollBarH&&n.renderer.scrollBarH.inner,n.textInput&&n.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent");i.addMouseWheelListener(n.container,this.onMouseWheel.bind(this,"mousewheel"));i.addTouchMoveListener(n.container,this.onTouchMove.bind(this,"touchmove"));t=n.renderer.$gutter;i.addListener(t,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"));i.addListener(t,"click",this.onMouseEvent.bind(this,"gutterclick"));i.addListener(t,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"));i.addListener(t,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"));i.addListener(f,"mousedown",r);i.addListener(t,"mousedown",r);u.isIE&&n.renderer.scrollBarV&&(i.addListener(n.renderer.scrollBarV.element,"mousedown",r),i.addListener(n.renderer.scrollBarH.element,"mousedown",r));n.on("mousemove",function(t){if(!h.state&&!h.$dragDelay&&h.$dragEnabled){var i=n.renderer.screenToTextCoordinates(t.x,t.y),r=n.session.selection.getRange(),u=n.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?u.setCursorStyle("default"):u.setCursorStyle("")}})};(function(){this.onMouseEvent=function(n,t){this.editor._emit(n,new r(t,this.editor))};this.onMouseMove=function(n,t){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(n,new r(t,this.editor))};this.onMouseWheel=function(n,t){var i=new r(t,this.editor);i.speed=2*this.$scrollSpeed;i.wheelX=t.wheelX;i.wheelY=t.wheelY;this.editor._emit(n,i)};this.onTouchMove=function(n,t){var i=new r(t,this.editor);i.speed=1;i.wheelX=t.wheelX;i.wheelY=t.wheelY;this.editor._emit(n,i)};this.setState=function(n){this.state=n};this.captureMouse=function(n,t){var e,c;this.x=n.x;this.y=n.y;this.isMousePressed=!0;e=this.editor.renderer;e.$keepTextAreaAtCursor&&(e.$keepTextAreaAtCursor=null);var f=this,o=function(n){if(n)return u.isWebKit&&!n.which&&f.releaseMouse?f.releaseMouse():(f.x=n.clientX,f.y=n.clientY,t&&t(n),f.mouseEvent=new r(n,f.editor),f.$mouseMoved=!0,void 0)},s=function(n){clearInterval(c);h();f[f.state+"End"]&&f[f.state+"End"](n);f.state="";null==e.$keepTextAreaAtCursor&&(e.$keepTextAreaAtCursor=!0,e.$moveTextAreaToCursor());f.isMousePressed=!1;f.$onCaptureMouseMove=f.releaseMouse=null;n&&f.onMouseEvent("mouseup",n)},h=function(){f[f.state]&&f[f.state]();f.$mouseMoved=!1};if(u.isOldIE&&"dblclick"==n.domEvent.type)return setTimeout(function(){s(n)});f.$onCaptureMouseMove=o;f.releaseMouse=i.capture(this.editor.container,o,s);c=setInterval(h,20)};this.releaseMouse=null;this.cancelContextMenu=function(){var n=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",n),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(n,10);this.editor.on("nativecontextmenu",n)}}).call(f.prototype);h.defineOptions(f.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:u.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}});t.MouseHandler=f});ace.define("ace/mouse/fold_handler",["require","exports","module"],function(n,t){"use strict";function i(n){n.on("click",function(t){var u=t.getDocumentPosition(),i=n.session,r=i.getFoldAt(u.row,u.column,1);r&&(t.getAccelKey()?i.removeFold(r):i.expandFold(r),t.stop())});n.on("gutterclick",function(t){var u=n.renderer.$gutterLayer.getRegion(t),i,r;"foldWidgets"==u&&(i=t.getDocumentPosition().row,r=n.session,r.foldWidgets&&r.foldWidgets[i]&&n.session.onFoldWidgetClick(i,t),n.isFocused()||n.focus(),t.stop())});n.on("gutterdblclick",function(t){var o=n.renderer.$gutterLayer.getRegion(t),f;if("foldWidgets"==o){var r=t.getDocumentPosition().row,i=n.session,e=i.getParentFoldRangeData(r,!0),u=e.range||e.firstRange;u&&(r=u.start.row,f=i.getFoldAt(r,i.getLine(r).length,1),f?i.removeFold(f):(i.addFold("...",u),n.renderer.scrollCursorIntoView({row:u.start.row,column:0})));t.stop()}})}t.FoldHandler=i});ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(n,t){"use strict";var r=n("../lib/keys"),u=n("../lib/event"),i=function(n){this.$editor=n;this.$data={editor:n};this.$handlers=[];this.setDefaultHandler(n.commands)};(function(){this.setDefaultHandler=function(n){this.removeKeyboardHandler(this.$defaultHandler);this.$defaultHandler=n;this.addKeyboardHandler(n,0)};this.setKeyboardHandler=function(n){var t=this.$handlers;if(t[t.length-1]!=n){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(n,1)}};this.addKeyboardHandler=function(n,t){if(n){"function"!=typeof n||n.handleKeyboard||(n.handleKeyboard=n);var i=this.$handlers.indexOf(n);-1!=i&&this.$handlers.splice(i,1);void 0==t?this.$handlers.push(n):this.$handlers.splice(t,0,n);-1==i&&n.attach&&n.attach(this.$editor)}};this.removeKeyboardHandler=function(n){var t=this.$handlers.indexOf(n);return-1==t?!1:(this.$handlers.splice(t,1),n.detach&&n.detach(this.$editor),!0)};this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]};this.getStatusText=function(){var n=this.$data,t=n.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(t,n)||""}).filter(Boolean).join(" ")};this.$callKeyboardHandlers=function(n,t,i,r){for(var f,e=!1,o=this.$editor.commands,s=this.$handlers.length;s--&&(f=this.$handlers[s].handleKeyboard(this.$data,n,t,i,r),!(f&&f.command&&(e="null"==f.command?!0:o.exec(f.command,this.$editor,f.args,r),e&&r&&-1!=n&&1!=f.passEvent&&1!=f.command.passEvent&&u.stopEvent(r),e))););return!e&&-1==n&&(f={command:"insertstring"},e=o.exec("insertstring",this.$editor,t)),e&&this.$editor._signal&&this.$editor._signal("keyboardActivity",f),e};this.onCommandKey=function(n,t,i){var u=r.keyCodeToString(i);this.$callKeyboardHandlers(t,u,i,n)};this.onTextInput=function(n){this.$callKeyboardHandlers(-1,n)}}).call(i.prototype);t.KeyBinding=i});ace.define("ace/range",["require","exports","module"],function(n,t){"use strict";var r=function(n,t){return n.row-t.row||n.column-t.column},i=function(n,t,i,r){this.start={row:n,column:t};this.end={row:i,column:r}};(function(){this.isEqual=function(n){return this.start.row===n.start.row&&this.end.row===n.end.row&&this.start.column===n.start.column&&this.end.column===n.end.column};this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(n,t){return 0==this.compare(n,t)};this.compareRange=function(n){var t,r=n.end,i=n.start;return t=this.compare(r.row,r.column),1==t?(t=this.compare(i.row,i.column),1==t?2:0==t?1:0):-1==t?-2:(t=this.compare(i.row,i.column),-1==t?-1:1==t?42:0)};this.comparePoint=function(n){return this.compare(n.row,n.column)};this.containsRange=function(n){return 0==this.comparePoint(n.start)&&0==this.comparePoint(n.end)};this.intersects=function(n){var t=this.compareRange(n);return-1==t||0==t||1==t};this.isEnd=function(n,t){return this.end.row==n&&this.end.column==t};this.isStart=function(n,t){return this.start.row==n&&this.start.column==t};this.setStart=function(n,t){"object"==typeof n?(this.start.column=n.column,this.start.row=n.row):(this.start.row=n,this.start.column=t)};this.setEnd=function(n,t){"object"==typeof n?(this.end.column=n.column,this.end.row=n.row):(this.end.row=n,this.end.column=t)};this.inside=function(n,t){return 0==this.compare(n,t)?!this.isEnd(n,t)&&!this.isStart(n,t):!1};this.insideStart=function(n,t){return 0==this.compare(n,t)?!this.isEnd(n,t):!1};this.insideEnd=function(n,t){return 0==this.compare(n,t)?!this.isStart(n,t):!1};this.compare=function(n,t){return this.isMultiLine()||n!==this.start.row?n<this.start.row?-1:n>this.end.row?1:this.start.row===n?t>=this.start.column?0:-1:this.end.row===n?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0};this.compareStart=function(n,t){return this.start.row==n&&this.start.column==t?-1:this.compare(n,t)};this.compareEnd=function(n,t){return this.end.row==n&&this.end.column==t?1:this.compare(n,t)};this.compareInside=function(n,t){return this.end.row==n&&this.end.column==t?1:this.start.row==n&&this.start.column==t?-1:this.compare(n,t)};this.clipRows=function(n,t){var r,u;return this.end.row>t?r={row:t+1,column:0}:this.end.row<n&&(r={row:n,column:0}),this.start.row>t?u={row:t+1,column:0}:this.start.row<n&&(u={row:n,column:0}),i.fromPoints(u||this.start,r||this.end)};this.extend=function(n,t){var r=this.compare(n,t),u,f;return 0==r?this:(-1==r?u={row:n,column:t}:f={row:n,column:t},i.fromPoints(u||this.start,f||this.end))};this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return i.fromPoints(this.start,this.end)};this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)};this.toScreenRange=function(n){var t=n.documentToScreenPosition(this.start),r=n.documentToScreenPosition(this.end);return new i(t.row,t.column,r.row,r.column)};this.moveBy=function(n,t){this.start.row+=n;this.start.column+=t;this.end.row+=n;this.end.column+=t}}).call(i.prototype);i.fromPoints=function(n,t){return new i(n.row,n.column,t.row,t.column)};i.comparePoints=r;i.comparePoints=function(n,t){return n.row-t.row||n.column-t.column};t.Range=i});ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(n,t){"use strict";var f=n("./lib/oop"),r=n("./lib/lang"),e=n("./lib/event_emitter").EventEmitter,i=n("./range").Range,u=function(n){this.session=n;this.doc=n.getDocument();this.clearSelection();this.lead=this.selectionLead=this.doc.createAnchor(0,0);this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(n){t._emit("changeCursor");t.$isEmpty||t._emit("changeSelection");!t.$keepDesiredColumnOnChange&&n.old.column!=n.value.column&&(t.$desiredColumn=null)});this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){f.implement(this,e);this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column};this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()};this.getCursor=function(){return this.lead.getPosition()};this.setSelectionAnchor=function(n,t){this.anchor.setPosition(n,t);this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))};this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()};this.getSelectionLead=function(){return this.lead.getPosition()};this.shiftSelection=function(n){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+n);var t=this.getSelectionAnchor(),i=this.getSelectionLead(),r=this.isBackwards();r&&0===t.column||this.setSelectionAnchor(t.row,t.column+n);(r||0!==i.column)&&this.$moveSelection(function(){this.moveCursorTo(i.row,i.column+n)})};this.isBackwards=function(){var n=this.anchor,t=this.lead;return n.row>t.row||n.row==t.row&&n.column>t.column};this.getRange=function(){var t=this.anchor,n=this.lead;return this.isEmpty()?i.fromPoints(n,n):this.isBackwards()?i.fromPoints(n,t):i.fromPoints(t,n)};this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))};this.selectAll=function(){var n=this.doc.getLength()-1;this.setSelectionAnchor(0,0);this.moveCursorTo(n,this.doc.getLine(n).length)};this.setRange=this.setSelectionRange=function(n,t){t?(this.setSelectionAnchor(n.end.row,n.end.column),this.selectTo(n.start.row,n.start.column)):(this.setSelectionAnchor(n.start.row,n.start.column),this.selectTo(n.end.row,n.end.column));this.getRange().isEmpty()&&(this.$isEmpty=!0);this.$desiredColumn=null};this.$moveSelection=function(n){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column);n.call(this)};this.selectTo=function(n,t){this.$moveSelection(function(){this.moveCursorTo(n,t)})};this.selectToPosition=function(n){this.$moveSelection(function(){this.moveCursorToPosition(n)})};this.moveTo=function(n,t){this.clearSelection();this.moveCursorTo(n,t)};this.moveToPosition=function(n){this.clearSelection();this.moveCursorToPosition(n)};this.selectUp=function(){this.$moveSelection(this.moveCursorUp)};this.selectDown=function(){this.$moveSelection(this.moveCursorDown)};this.selectRight=function(){this.$moveSelection(this.moveCursorRight)};this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)};this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)};this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)};this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)};this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)};this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)};this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)};this.getWordRange=function(n,t){if("undefined"==typeof t){var i=n||this.lead;n=i.row;t=i.column}return this.session.getWordRange(n,t)};this.selectWord=function(){this.setSelectionRange(this.getWordRange())};this.selectAWord=function(){var n=this.getCursor(),t=this.session.getAWordRange(n.row,n.column);this.setSelectionRange(t)};this.getLineRange=function(n,t){var r,u="number"==typeof n?n:this.lead.row,f=this.session.getFoldLine(u);return f?(u=f.start.row,r=f.end.row):r=u,t===!0?new i(u,0,r,this.session.getLine(r).length):new i(u,0,r+1,0)};this.selectLine=function(){this.setSelectionRange(this.getLineRange())};this.moveCursorUp=function(){this.moveCursorBy(-1,0)};this.moveCursorDown=function(){this.moveCursorBy(1,0)};this.moveCursorLeft=function(){var i,n=this.lead.getPosition(),t;(i=this.session.getFoldAt(n.row,n.column,-1))?this.moveCursorTo(i.start.row,i.start.column):0===n.column?n.row>0&&this.moveCursorTo(n.row-1,this.doc.getLine(n.row-1).length):(t=this.session.getTabSize(),this.session.isTabStop(n)&&this.doc.getLine(n.row).slice(n.column-t,n.column).split(" ").length-1==t?this.moveCursorBy(0,-t):this.moveCursorBy(0,-1))};this.moveCursorRight=function(){var i,n=this.lead.getPosition(),t;(i=this.session.getFoldAt(n.row,n.column,1))?this.moveCursorTo(i.end.row,i.end.column):this.lead.column==this.doc.getLine(this.lead.row).length?this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0):(t=this.session.getTabSize(),n=this.lead,this.session.isTabStop(n)&&this.doc.getLine(n.row).slice(n.column,n.column+t).split(" ").length-1==t?this.moveCursorBy(0,t):this.moveCursorBy(0,1))};this.moveCursorLineStart=function(){var t=this.lead.row,i=this.lead.column,u=this.session.documentToScreenRow(t,i),n=this.session.screenToDocumentPosition(u,0),f=this.session.getDisplayLine(t,null,n.row,n.column),r=f.match(/^\s*/);r[0].length==i||this.session.$useEmacsStyleLineStart||(n.column+=r[0].length);this.moveCursorToPosition(n)};this.moveCursorLineEnd=function(){var r=this.lead,n=this.session.getDocumentLastRowColumnPosition(r.row,r.column),t,i;this.lead.column==n.column&&(t=this.session.getLine(n.row),n.column==t.length&&(i=t.search(/\s+$/),i>0&&(n.column=i)));this.moveCursorTo(n.row,n.column)};this.moveCursorFileEnd=function(){var n=this.doc.getLength()-1,t=this.doc.getLine(n).length;this.moveCursorTo(n,t)};this.moveCursorFileStart=function(){this.moveCursorTo(0,0)};this.moveCursorLongWordRight=function(){var f,t=this.lead.row,n=this.lead.column,i=this.doc.getLine(t),u=i.substring(n),r;return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,r=this.session.getFoldAt(t,n,1),r?void this.moveCursorTo(r.end.row,r.end.column):((f=this.session.nonTokenRe.exec(u))&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,u=i.substring(n)),n>=i.length?(this.moveCursorTo(t,i.length),this.moveCursorRight(),t<this.doc.getLength()-1&&this.moveCursorWordRight(),void 0):((f=this.session.tokenRe.exec(u))&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,n)))};this.moveCursorLongWordLeft=function(){var f,t=this.lead.row,n=this.lead.column,u,e,i;return(f=this.session.getFoldAt(t,n,-1))?void this.moveCursorTo(f.start.row,f.start.column):(u=this.session.getFoldStringAt(t,n,-1),null==u&&(u=this.doc.getLine(t).substring(0,n)),i=r.stringReverse(u),this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(e=this.session.nonTokenRe.exec(i))&&(n-=this.session.nonTokenRe.lastIndex,i=i.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=n?(this.moveCursorTo(t,0),this.moveCursorLeft(),t>0&&this.moveCursorWordLeft(),void 0):((e=this.session.tokenRe.exec(i))&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,n)))};this.$shortWordEndIndex=function(n){var f,i,t=0,u=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,f=this.session.tokenRe.exec(n))t=this.session.tokenRe.lastIndex;else{for(;(i=n[t])&&u.test(i);)t++;if(1>t)for(r.lastIndex=0;(i=n[t])&&!r.test(i);)if(r.lastIndex=0,t++,u.test(i)){if(t>2){t--;break}for(;(i=n[t])&&u.test(i);)t++;if(t>2)break}}return r.lastIndex=0,t};this.moveCursorShortWordRight=function(){var n=this.lead.row,t=this.lead.column,u=this.doc.getLine(n),i=u.substring(t),r=this.session.getFoldAt(n,t,1),f,e;if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==u.length){f=this.doc.getLength();do n++,i=this.doc.getLine(n);while(f>n&&/^\s*$/.test(i));/^\s+/.test(i)||(i="");t=0}e=this.$shortWordEndIndex(i);this.moveCursorTo(n,t+e)};this.moveCursorShortWordLeft=function(){var u,t=this.lead.row,i=this.lead.column,n,f,e;if(u=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(u.start.row,u.start.column);if(n=this.session.getLine(t).substring(0,i),0===i){do t--,n=this.doc.getLine(t);while(t>0&&/^\s*$/.test(n));i=n.length;/\s+$/.test(n)||(n="")}return f=r.stringReverse(n),e=this.$shortWordEndIndex(f),this.moveCursorTo(t,i-e)};this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()};this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()};this.moveCursorBy=function(n,t){var r=this.session.documentToScreenPosition(this.lead.row,this.lead.column),i;0===t&&(this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column);i=this.session.screenToDocumentPosition(r.row+n,r.column);0!==n&&0===t&&i.row===this.lead.row&&i.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[i.row]&&(i.row>0||n>0)&&i.row++;this.moveCursorTo(i.row,i.column+t,0===t)};this.moveCursorToPosition=function(n){this.moveCursorTo(n.row,n.column)};this.moveCursorTo=function(n,t,i){var r=this.session.getFoldAt(n,t,1);r&&(n=r.start.row,t=r.start.column);this.$keepDesiredColumnOnChange=!0;this.lead.setPosition(n,t);this.$keepDesiredColumnOnChange=!1;i||(this.$desiredColumn=null)};this.moveCursorToScreen=function(n,t,i){var r=this.session.screenToDocumentPosition(n,t);this.moveCursorTo(r.row,r.column,i)};this.detach=function(){this.lead.detach();this.anchor.detach();this.session=this.doc=null};this.fromOrientedRange=function(n){this.setSelectionRange(n,n.cursor==n.start);this.$desiredColumn=n.desiredColumn||this.$desiredColumn};this.toOrientedRange=function(n){var t=this.getRange();return n?(n.start.column=t.start.column,n.start.row=t.start.row,n.end.column=t.end.column,n.end.row=t.end.row):n=t,n.cursor=this.isBackwards()?n.start:n.end,n.desiredColumn=this.$desiredColumn,n};this.getRangeOfMovements=function(n){var t=this.getCursor(),r;try{return n(this),r=this.getCursor(),i.fromPoints(t,r)}catch(u){return i.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}};this.toJSON=function(){var n;return this.rangeCount?n=this.ranges.map(function(n){var t=n.clone();return t.isBackwards=n.cursor==n.start,t}):(n=this.getRange(),n.isBackwards=this.isBackwards()),n};this.fromJSON=function(n){var t,r;if(void 0==n.start){if(this.rangeList){for(this.toSingleRange(n[0]),t=n.length;t--;)r=i.fromPoints(n[t].start,n[t].end),n[t].isBackwards&&(r.cursor=r.start),this.addRange(r,!0);return}n=n[0]}this.rangeList&&this.toSingleRange(n);this.setSelectionRange(n,n.isBackwards)};this.isEqual=function(n){if((n.length||this.rangeCount)&&n.length!=this.rangeCount)return!1;if(!n.length||!this.ranges)return this.getRange().isEqual(n);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(n[t]))return!1;return!0}}).call(u.prototype);t.Selection=u});ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(n,t){"use strict";var u=n("./config"),i=2e3,r=function(n){var u,t,r,i;this.states=n;this.regExps={};this.matchMappings={};for(u in this.states){for(var c=this.states[u],f=[],o=0,s=this.matchMappings[u]={defaultToken:"text"},h="g",l=[],e=0;e<c.length;e++)t=c[e],(t.defaultToken&&(s.defaultToken=t.defaultToken),t.caseInsensitive&&(h="gi"),null!=t.regex)&&(t.regex instanceof RegExp&&(t.regex=t.regex.toString().slice(1,-1)),r=t.regex,i=new RegExp("(?:("+r+")|(.))").exec("a").length-2,Array.isArray(t.token)?1==t.token.length||1==i?t.token=t.token[0]:i-1!=t.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:t,groupCount:i-1}),t.token=t.token[0]):(t.tokenArray=t.token,t.token=null,t.onMatch=this.$arrayTokens):"function"==typeof t.token&&!t.onMatch&&(t.onMatch=i>1?this.$applyToken:t.token),i>1&&(/\\\d/.test(t.regex)?r=t.regex.replace(/\\([0-9]+)/g,function(n,t){return"\\"+(parseInt(t,10)+o+1)}):(i=1,r=this.removeCapturingGroups(t.regex)),!t.splitRegex&&"string"!=typeof t.token&&l.push(t)),s[o]=e,o+=i,f.push(r),t.onMatch||(t.onMatch=null));f.length||(s[0]=0,f.push("$"));l.forEach(function(n){n.splitRegex=this.createSplitterRegexp(n.regex,h)},this);this.regExps[u]=new RegExp("("+f.join(")|(")+")|($)",h)}};(function(){this.$setMaxTokenCount=function(n){i=0|n};this.$applyToken=function(n){var r=this.splitRegex.exec(n).slice(1),i=this.token.apply(this,r);if("string"==typeof i)return[{type:i,value:n}];for(var u=[],t=0,f=i.length;f>t;t++)r[t]&&(u[u.length]={type:i[t],value:r[t]});return u};this.$arrayTokens=function(n){var i;if(!n)return[];if(i=this.splitRegex.exec(n),!i)return"text";for(var r=[],u=this.tokenArray,t=0,f=u.length;f>t;t++)i[t+1]&&(r[r.length]={type:u[t],value:i[t+1]});return r};this.removeCapturingGroups=function(n){return n.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(n,t){return t?"(?:":n})};this.createSplitterRegexp=function(n,t){if(-1!=n.indexOf("(?=")){var r=0,u=!1,i={};n.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(n,t,f,e,o,s){return u?u="]"!=o:o?u=!0:e?(r==i.stack&&(i.end=s+1,i.stack=-1),r--):f&&(r++,1!=f.length&&(i.stack=r,i.start=s)),n});null!=i.end&&/^\)*$/.test(n.substr(i.end))&&(n=n.substring(0,i.start)+n.substr(i.end))}return"^"!=n.charAt(0)&&(n="^"+n),"$"!=n.charAt(n.length-1)&&(n+="$"),new RegExp(n,(t||"").replace("g",""))};this.getLineTokens=function(n,t){var f,r,c,p,a,b,s;t&&"string"!=typeof t?(f=t.slice(0),t=f[0],"#tmp"===t&&(f.shift(),t=f.shift())):f=[];r=t||"start";c=this.states[r];c||(r="start",c=this.states[r]);p=this.matchMappings[r];a=this.regExps[r];a.lastIndex=0;for(var w,l=[],h=0,k=0,u={type:null,value:""};w=a.exec(n);){var o=p.defaultToken,e=null,v=w[0],y=a.lastIndex;for(y-v.length>h&&(b=n.substring(h,y-v.length),u.type==o?u.value+=b:(u.type&&l.push(u),u={type:o,value:b})),s=0;s<w.length-2;s++)if(void 0!==w[s+1]){e=c[p[s]];o=e.onMatch?e.onMatch(v,r,f):e.token;e.next&&(r="string"==typeof e.next?e.next:e.next(r,f),c=this.states[r],c||(this.reportError("state doesn't exist",r),r="start",c=this.states[r]),p=this.matchMappings[r],h=y,a=this.regExps[r],a.lastIndex=y);break}if(v)if("string"==typeof o)e&&e.merge===!1||u.type!==o?(u.type&&l.push(u),u={type:o,value:v}):u.value+=v;else if(o)for(u.type&&l.push(u),u={type:null,value:""},s=0;s<o.length;s++)l.push(o[s]);if(h==n.length)break;if(h=y,k++>i){for(k>2*n.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:n});h<n.length;)u.type&&l.push(u),u={value:n.substring(h,h+=2e3),type:"overflow"};r="start";f=[];break}}return u.type&&l.push(u),f.length>1&&f[0]!==r&&f.unshift("#tmp",r),{tokens:l,state:f.length?f:r}};this.reportError=u.reportError}).call(r.prototype);t.Tokenizer=r});ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(n,t){"use strict";var r=n("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(n,t){var u,f,i,r;if(t)for(r in n){for(u=n[r],f=0;f<u.length;f++)i=u[f],(i.next||i.onMatch)&&("string"==typeof i.next&&0!==i.next.indexOf(t)&&(i.next=t+i.next),i.nextState&&0!==i.nextState.indexOf(t)&&(i.nextState=t+i.nextState));this.$rules[t+r]=u}else for(r in n)this.$rules[r]=n[r]};this.getRules=function(){return this.$rules};this.embedRules=function(n,t,i,u,f){var o="function"==typeof n?(new n).getRules():n,s,h,e;if(u)for(e=0;e<u.length;e++)u[e]=t+u[e];else{u=[];for(s in o)u.push(t+s)}if(this.addRules(o,t),i)for(h=Array.prototype[f?"push":"unshift"],e=0;e<u.length;e++)h.apply(this.$rules[u[e]],r.deepCopy(i));this.$embeds||(this.$embeds=[]);this.$embeds.push(t)};this.getEmbeds=function(){return this.$embeds};var n=function(n,t){return("start"!=n||t.length)&&t.unshift(this.nextState,n),this.nextState},t=function(n,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function r(f){var c=i[f],h,e,l,a,o,s,y,v;for(c.processed=!0,h=0;h<c.length;h++){if(e=c[h],l=null,Array.isArray(e)&&(l=e,e={}),!e.regex&&e.start&&(e.regex=e.start,e.next||(e.next=[]),e.next.push({defaultToken:e.token},{token:e.token+".end",regex:e.end||e.start,next:"pop"}),e.token=e.token+".start",e.push=!0),a=e.next||e.push,a&&Array.isArray(a)?(o=e.stateName,o||(o=e.token,"string"!=typeof o&&(o=o[0]||""),i[o]&&(o+=u++)),i[o]=a,e.next=o,r(o)):"pop"==a&&(e.next=t),e.push&&(e.nextState=e.next||e.push,e.next=n,delete e.push),e.rules)for(s in e.rules)i[s]?i[s].push&&i[s].push.apply(i[s],e.rules[s]):i[s]=e.rules[s];y="string"==typeof e?e:"string"==typeof e.include?e.include:"";(y&&(l=i[y]),l)&&(v=[h,1].concat(l),e.noEscape&&(v=v.filter(function(n){return!n.next})),c.splice.apply(c,v),h--);e.keywordMap&&(e.token=this.createKeywordMapper(e.keywordMap,e.defaultToken||"text",e.caseInsensitive),delete e.defaultToken)}}var u=0,i=this.$rules;Object.keys(i).forEach(r,this)};this.createKeywordMapper=function(n,t,i,r){var u=Object.create(null);return Object.keys(n).forEach(function(t){var f=n[t],e,o;for(i&&(f=f.toLowerCase()),e=f.split(r||"|"),o=e.length;o--;)u[e[o]]=t}),Object.getPrototypeOf(u)&&(u.__proto__=null),this.$keywordList=Object.keys(u),n=null,i?function(n){return u[n.toLowerCase()]||t}:function(n){return u[n]||t}};this.getKeywords=function(){return this.$keywords}}).call(i.prototype);t.TextHighlightRules=i});ace.define("ace/mode/behaviour",["require","exports","module"],function(n,t){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(n,t,i){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[n]:this.$behaviours[n]={}}this.$behaviours[n][t]=i};this.addBehaviours=function(n){var t,i;for(t in n)for(i in n[t])this.add(t,i,n[t][i])};this.remove=function(n){this.$behaviours&&this.$behaviours[n]&&delete this.$behaviours[n]};this.inherit=function(n,t){var i;i="function"==typeof n?(new n).getBehaviours(t):n.getBehaviours(t);this.addBehaviours(i)};this.getBehaviours=function(n){if(!n)return this.$behaviours;for(var i={},t=0;t<n.length;t++)this.$behaviours[n[t]]&&(i[n[t]]=this.$behaviours[n[t]]);return i}}).call(i.prototype);t.Behaviour=i});ace.define("ace/token_iterator",["require","exports","module"],function(n,t){"use strict";var i=function(n,t,i){this.$session=n;this.$row=t;this.$rowTokens=n.getTokens(t);var r=n.getTokenAt(t,i);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]};this.stepForward=function(){this.$tokenIndex+=1;for(var n;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,n||(n=this.$session.getLength()),this.$row>=n)return this.$row=n-1,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]};this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]};this.getCurrentTokenRow=function(){return this.$row};this.getCurrentTokenColumn=function(){var i=this.$rowTokens,t=this.$tokenIndex,n=i[t].start;if(void 0!==n)return n;for(n=0;t>0;)t-=1,n+=i[t].value.length;return n};this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(i.prototype);t.TokenIterator=i});ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,t){"use strict";var i,h=n("../../lib/oop"),c=n("../behaviour").Behaviour,o=n("../../token_iterator").TokenIterator,l=n("../../lib/lang"),s=["text","paren.rparen","punctuation.operator"],a=["text","paren.rparen","punctuation.operator","comment"],f={},u=function(n){var t=-1;return n.multiSelect&&(t=n.selection.index,f.rangeCount!=n.multiSelect.rangeCount&&(f={rangeCount:n.multiSelect.rangeCount})),f[t]?i=f[t]:void(i=f[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},e=function(n,t,i,r){var u=n.end.row-n.start.row;return{text:i+t+r,selection:[0,n.start.column+1,u,n.end.column+(u?0:1)]}},r=function(){this.add("braces","insertion",function(n,t,f,o,s){var h=f.getCursorPosition(),c=o.doc.getLine(h.row),b,a,d,y,v,k,p,w;if("{"==s){if(u(f),b=f.getSelectionRange(),a=o.doc.getTextRange(b),""!==a&&"{"!==a&&f.getWrapBehavioursEnabled())return e(b,a,"{","}");if(r.isSaneInsertion(f,o))return/[\]\}\)]/.test(c[h.column])||f.inMultiSelectMode?(r.recordAutoInsert(f,o,"}"),{text:"{}",selection:[1,1]}):(r.recordMaybeInsert(f,o,"{"),{text:"{",selection:[1,1]})}else if("}"==s){if(u(f),v=c.substring(h.column,h.column+1),"}"==v&&(d=o.$findOpeningBracket("}",{column:h.column+1,row:h.row}),null!==d&&r.isAutoInsertedClosing(h,c,s)))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==s||"\r\n"==s){if(u(f),y="",r.isMaybeInsertedClosing(h,c)&&(y=l.stringRepeat("}",i.maybeInsertedBrackets),r.clearMaybeInsertedClosing()),v=c.substring(h.column,h.column+1),"}"===v){if(k=o.findMatchingBracket({row:h.row,column:h.column+1},"}"),!k)return null;p=this.$getIndent(o.getLine(k.row))}else{if(!y)return void r.clearMaybeInsertedClosing();p=this.$getIndent(c)}return w=p+o.getTabString(),{text:"\n"+w+"\n"+p+y,selection:[1,w.length,1,w.length]}}r.clearMaybeInsertedClosing()}});this.add("braces","deletion",function(n,t,r,f,e){var h=f.doc.getTextRange(e),o,s;if(!e.isMultiLine()&&"{"==h){if(u(r),o=f.doc.getLine(e.start.row),s=o.substring(e.end.column,e.end.column+1),"}"==s)return e.end.column++,e;i.maybeInsertedBrackets--}});this.add("parens","insertion",function(n,t,i,f,o){var h,c,a;if("("==o){if(u(i),h=i.getSelectionRange(),c=f.doc.getTextRange(h),""!==c&&i.getWrapBehavioursEnabled())return e(h,c,"(",")");if(r.isSaneInsertion(i,f))return r.recordAutoInsert(i,f,")"),{text:"()",selection:[1,1]}}else if(")"==o){u(i);var s=i.getCursorPosition(),l=f.doc.getLine(s.row),v=l.substring(s.column,s.column+1);if(")"==v&&(a=f.$findOpeningBracket(")",{column:s.column+1,row:s.row}),null!==a&&r.isAutoInsertedClosing(s,l,o)))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}});this.add("parens","deletion",function(n,t,i,r,f){var s=r.doc.getTextRange(f),e,o;if(!f.isMultiLine()&&"("==s&&(u(i),e=r.doc.getLine(f.start.row),o=e.substring(f.start.column+1,f.start.column+2),")"==o))return f.end.column++,f});this.add("brackets","insertion",function(n,t,i,f,o){var h,c,a;if("["==o){if(u(i),h=i.getSelectionRange(),c=f.doc.getTextRange(h),""!==c&&i.getWrapBehavioursEnabled())return e(h,c,"[","]");if(r.isSaneInsertion(i,f))return r.recordAutoInsert(i,f,"]"),{text:"[]",selection:[1,1]}}else if("]"==o){u(i);var s=i.getCursorPosition(),l=f.doc.getLine(s.row),v=l.substring(s.column,s.column+1);if("]"==v&&(a=f.$findOpeningBracket("]",{column:s.column+1,row:s.row}),null!==a&&r.isAutoInsertedClosing(s,l,o)))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}});this.add("brackets","deletion",function(n,t,i,r,f){var s=r.doc.getTextRange(f),e,o;if(!f.isMultiLine()&&"["==s&&(u(i),e=r.doc.getLine(f.start.row),o=e.substring(f.start.column+1,f.start.column+2),"]"==o))return f.end.column++,f});this.add("string_dquotes","insertion",function(n,t,i,r,f){var c,v,y,l,g,nt;if('"'==f||"'"==f){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(f))return;u(i);var s=f,k=i.getSelectionRange(),h=r.doc.getTextRange(k);if(""!==h&&"'"!==h&&'"'!=h&&i.getWrapBehavioursEnabled())return e(k,h,s,s);if(!h){var o=i.getCursorPosition(),d=r.doc.getLine(o.row),p=d.substring(o.column-1,o.column),w=d.substring(o.column,o.column+1),a=r.getTokenAt(o.row,o.column),b=r.getTokenAt(o.row,o.column+1);if("\\"==p&&a&&/escape/.test(a.type))return null;if(v=a&&/string|escape/.test(a.type),y=!b||/string|escape/.test(b.type),w==s)c=v!==y,c&&/string\.end/.test(b.type)&&(c=!1);else{if(v&&!y||v&&y||(l=r.$mode.tokenRe,l.lastIndex=0,g=l.test(p),l.lastIndex=0,nt=l.test(p),g||nt)||w&&!/[\s;,.})\]\\]/.test(w))return null;c=!0}return{text:c?s+s:"",selection:[1,1]}}}});this.add("string_dquotes","deletion",function(n,t,i,r,f){var e=r.doc.getTextRange(f),o,s;if(!f.isMultiLine()&&('"'==e||"'"==e)&&(u(i),o=r.doc.getLine(f.start.row),s=o.substring(f.start.column+1,f.start.column+2),s==e))return f.end.column++,f})};r.isSaneInsertion=function(n,t){var i=n.getCursorPosition(),r=new o(t,i.row,i.column),u;return!this.$matchTokenType(r.getCurrentToken()||"text",s)&&(u=new o(t,i.row,i.column+1),!this.$matchTokenType(u.getCurrentToken()||"text",s))?!1:(r.stepForward(),r.getCurrentTokenRow()!==i.row||this.$matchTokenType(r.getCurrentToken()||"text",a))};r.$matchTokenType=function(n,t){return t.indexOf(n.type||n)>-1};r.recordAutoInsert=function(n,t,r){var u=n.getCursorPosition(),f=t.doc.getLine(u.row);this.isAutoInsertedClosing(u,f,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0);i.autoInsertedRow=u.row;i.autoInsertedLineEnd=r+f.substr(u.column);i.autoInsertedBrackets++};r.recordMaybeInsert=function(n,t,r){var u=n.getCursorPosition(),f=t.doc.getLine(u.row);this.isMaybeInsertedClosing(u,f)||(i.maybeInsertedBrackets=0);i.maybeInsertedRow=u.row;i.maybeInsertedLineStart=f.substr(0,u.column)+r;i.maybeInsertedLineEnd=f.substr(u.column);i.maybeInsertedBrackets++};r.isAutoInsertedClosing=function(n,t,r){return i.autoInsertedBrackets>0&&n.row===i.autoInsertedRow&&r===i.autoInsertedLineEnd[0]&&t.substr(n.column)===i.autoInsertedLineEnd};r.isMaybeInsertedClosing=function(n,t){return i.maybeInsertedBrackets>0&&n.row===i.maybeInsertedRow&&t.substr(n.column)===i.maybeInsertedLineEnd&&t.substr(0,n.column)==i.maybeInsertedLineStart};r.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1);i.autoInsertedBrackets--};r.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)};h.inherits(r,c);t.CstyleBehaviour=r});ace.define("ace/unicode",["require","exports","module"],function(n,t){"use strict";function i(n){var r=/\w{4}/g;for(var i in n)t.packages[i]=n[i].replace(r,"\\u$&")}t.packages={};i({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})});ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(n,t){"use strict";var o=n("../tokenizer").Tokenizer,s=n("./text_highlight_rules").TextHighlightRules,h=n("./behaviour/cstyle").CstyleBehaviour,i=n("../unicode"),r=n("../lib/lang"),u=n("../token_iterator").TokenIterator,f=n("../range").Range,e=function(){this.HighlightRules=s};(function(){this.$behaviour=new h;this.tokenRe=new RegExp("^["+i.packages.L+i.packages.Mn+i.packages.Mc+i.packages.Nd+i.packages.Pc+"\\$_]+","g");this.nonTokenRe=new RegExp("^(?:[^"+i.packages.L+i.packages.Mn+i.packages.Mc+i.packages.Nd+i.packages.Pc+"\\$_]|\\s])+","g");this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new o(this.$highlightRules.getRules())),this.$tokenizer};this.lineCommentStart="";this.blockComment="";this.toggleCommentLines=function(n,t,i,u){function v(n){for(var t=i;u>=t;t++)n(e.getLine(t),t)}var e=t.doc,a=!0,c=!0,f=1/0,o=t.getTabSize(),y=!1,s,h,l;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(s=this.lineCommentStart.map(r.escapeRegExp).join("|"),h=this.lineCommentStart[0]):(s=r.escapeRegExp(this.lineCommentStart),h=this.lineCommentStart);s=new RegExp("^(\\s*)(?:"+s+") ?");y=t.getUseSoftTabs();var k=function(n,t){var r=n.match(s),u,i;r&&(u=r[1].length,i=r[0].length,w(n,u,i)||" "!=r[0][i-1]||i--,e.removeInLine(t,u,i))},d=h+" ",g=function(n,t){a&&!/\S/.test(n)||(w(n,f,f)?e.insertInLine({row:t,column:f},d):e.insertInLine({row:t,column:f},h))},p=function(n){return s.test(n)},w=function(n,t,i){for(var r=0;t--&&" "==n.charAt(t);)r++;if(r%o!=0)return!1;for(r=0;" "==n.charAt(i++);)r++;return o>2?r%o!=o-1:r%o==0}}else{if(!this.blockComment)return!1;var h=this.blockComment.start,b=this.blockComment.end,s=new RegExp("^(\\s*)(?:"+r.escapeRegExp(h)+")"),nt=new RegExp("(?:"+r.escapeRegExp(b)+")\\s*$"),g=function(n,t){p(n,t)||a&&!/\S/.test(n)||(e.insertInLine({row:t,column:n.length},b),e.insertInLine({row:t,column:f},h))},k=function(n,t){var i;(i=n.match(nt))&&e.removeInLine(t,n.length-i[0].length,n.length);(i=n.match(s))&&e.removeInLine(t,i[1].length,i[0].length)},p=function(n,i){if(s.test(n))return!0;for(var u=t.getTokens(i),r=0;r<u.length;r++)if("comment"===u[r].type)return!0}}l=1/0;v(function(n,t){var i=n.search(/\S/);-1!==i?(f>i&&(f=i),c&&!p(n,t)&&(c=!1)):l>n.length&&(l=n.length)});f==1/0&&(f=l,a=!1,c=!1);y&&f%o!=0&&(f=Math.floor(f/o)*o);v(c?k:g)};this.toggleBlockComment=function(n,t,i,r){var e=this.blockComment,p,w,s,o,h,c,l;if(e){!e.start&&e[0]&&(e=e[0]);var v,y,s=new u(t,r.row,r.column),o=s.getCurrentToken(),a=(t.selection,t.selection.toOrientedRange());if(o&&/comment/.test(o.type)){for(;o&&/comment/.test(o.type);){if(h=o.value.indexOf(e.start),-1!=h){c=s.getCurrentTokenRow();l=s.getCurrentTokenColumn()+h;p=new f(c,l,c,l+e.start.length);break}o=s.stepBackward()}for(s=new u(t,r.row,r.column),o=s.getCurrentToken();o&&/comment/.test(o.type);){if(h=o.value.indexOf(e.end),-1!=h){c=s.getCurrentTokenRow();l=s.getCurrentTokenColumn()+h;w=new f(c,l,c,l+e.end.length);break}o=s.stepForward()}w&&t.remove(w);p&&(t.remove(p),v=p.start.row,y=-e.start.length)}else y=e.start.length,v=i.start.row,t.insert(i.end,e.end),t.insert(i.start,e.start);a.start.row==v&&(a.start.column+=y);a.end.row==v&&(a.end.column+=y);t.selection.fromOrientedRange(a)}};this.getNextLineIndent=function(n,t){return this.$getIndent(t)};this.checkOutdent=function(){return!1};this.autoOutdent=function(){};this.$getIndent=function(n){return n.match(/^\s*/)[0]};this.createWorker=function(){return null};this.createModeDelegates=function(n){var i,t;this.$embeds=[];this.$modes={};for(t in n)n[t]&&(this.$embeds.push(t),this.$modes[t]=new n[t]);for(i=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;t<i.length;t++)(function(n){var r=i[t],u=n[r];n[i[t]]=function(){return this.$delegator(r,arguments,u)}})(this)};this.$delegator=function(n,t,i){var u=t[0],r,f,e,o;for("string"!=typeof u&&(u=u[0]),r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]&&(f=u.split(this.$embeds[r]),!f[0]&&f[1]))return t[0]=f[1],e=this.$modes[this.$embeds[r]],e[n].apply(e,t);return o=i.apply(this,t),i?o:void 0};this.transformAction=function(n,t){var i,r,u;if(this.$behaviour){i=this.$behaviour.getBehaviours();for(r in i)if(i[r][t]&&(u=i[r][t].apply(this,arguments),u))return u}};this.getKeywords=function(n){var e,r,f,o,u;if(!this.completionKeywords){e=this.$tokenizer.rules;r=[];for(u in e)for(var i=e[u],t=0,s=i.length;s>t;t++)if("string"==typeof i[t].token)/keyword|support|storage/.test(i[t].token)&&r.push(i[t].regex);else if("object"==typeof i[t].token)for(f=0,o=i[t].token.length;o>f;f++)/keyword|support|storage/.test(i[t].token[f])&&(u=i[t].regex.match(/\(.+?\)/g)[f],r.push(u.substr(1,u.length-2)));this.completionKeywords=r}return n?r.concat(this.$keywordList||[]):this.$keywordList};this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]};this.getCompletions=function(){var n=this.$keywordList||this.$createKeywordList();return n.map(function(n){return{name:n,value:n,score:0,meta:"keyword"}})};this.$id="ace/mode/text"}).call(e.prototype);t.Mode=e});ace.define("ace/apply_delta",["require","exports","module"],function(n,t){"use strict";t.applyDelta=function(n,t){var i=t.start.row,u=t.start.column,r=n[i]||"",o,s,e,f;switch(t.action){case"insert":o=t.lines;1===o.length?n[i]=r.substring(0,u)+t.lines[0]+r.substring(u):(s=[i,1].concat(t.lines),n.splice.apply(n,s),n[i]=r.substring(0,u)+n[i],n[i+t.lines.length-1]+=r.substring(u));break;case"remove":e=t.end.column;f=t.end.row;i===f?n[i]=r.substring(0,u)+r.substring(e):n.splice(i,f-i+1,r.substring(0,u)+n[f].substring(e))}}});ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,t){"use strict";var i=n("./lib/oop"),r=n("./lib/event_emitter").EventEmitter,u=t.Anchor=function(n,t,i){this.$onChange=this.onChange.bind(this);this.attach(n);"undefined"==typeof i?this.setPosition(t.row,t.column):this.setPosition(t,i)};(function(){function n(n,t,i){var r=i?n.column<=t.column:n.column<t.column;return n.row<t.row||n.row==t.row&&r}function t(t,i,r){var f="insert"==t.action,o=(f?1:-1)*(t.end.row-t.start.row),s=(f?1:-1)*(t.end.column-t.start.column),u=t.start,e=f?u:t.end;return n(i,u,r)?{row:i.row,column:i.column}:n(e,i,!r)?{row:i.row+o,column:i.column+(i.row==e.row?s:0)}:{row:u.row,column:u.column}}i.implement(this,r);this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)};this.getDocument=function(){return this.document};this.$insertRight=!1;this.onChange=function(n){if(!(n.start.row==n.end.row&&n.start.row!=this.row||n.start.row>this.row)){var i=t(n,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}};this.setPosition=function(n,t,i){var r,u;(r=i?{row:n,column:t}:this.$clipPositionToDocument(n,t),this.row!=r.row||this.column!=r.column)&&(u={row:this.row,column:this.column},this.row=r.row,this.column=r.column,this._signal("change",{old:u,value:r}))};this.detach=function(){this.document.removeEventListener("change",this.$onChange)};this.attach=function(n){this.document=n||this.document;this.document.on("change",this.$onChange)};this.$clipPositionToDocument=function(n,t){var i={};return n>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):0>n?(i.row=0,i.column=0):(i.row=n,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,t))),0>t&&(i.column=0),i}}).call(u.prototype)});ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(n,t){"use strict";var u=n("./lib/oop"),f=n("./apply_delta").applyDelta,e=n("./lib/event_emitter").EventEmitter,i=n("./range").Range,o=n("./anchor").Anchor,r=function(n){this.$lines=[""];0===n.length?this.$lines=[""]:Array.isArray(n)?this.insertMergedLines({row:0,column:0},n):this.insert({row:0,column:0},n)};(function(){u.implement(this,e);this.setValue=function(n){var t=this.getLength()-1;this.remove(new i(0,0,t,this.getLine(t).length));this.insert({row:0,column:0},n)};this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())};this.createAnchor=function(n,t){return new o(this,n,t)};this.$split=0==="aaa".split(/a/).length?function(n){return n.replace(/\r\n|\r/g,"\n").split("\n")}:function(n){return n.split(/\r\n|\r|\n/)};this.$detectNewLine=function(n){var t=n.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n";this._signal("changeNewLineMode")};this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}};this.$autoNewLine="";this.$newLineMode="auto";this.setNewLineMode=function(n){this.$newLineMode!==n&&(this.$newLineMode=n,this._signal("changeNewLineMode"))};this.getNewLineMode=function(){return this.$newLineMode};this.isNewLine=function(n){return"\r\n"==n||"\r"==n||"\n"==n};this.getLine=function(n){return this.$lines[n]||""};this.getLines=function(n,t){return this.$lines.slice(n,t+1)};this.getAllLines=function(){return this.getLines(0,this.getLength())};this.getLength=function(){return this.$lines.length};this.getTextRange=function(n){return this.getLinesForRange(n).join(this.getNewLineCharacter())};this.getLinesForRange=function(n){var t,i;return n.start.row===n.end.row?t=[this.getLine(n.start.row).substring(n.start.column,n.end.column)]:(t=this.getLines(n.start.row,n.end.row),t[0]=(t[0]||"").substring(n.start.column),i=t.length-1,n.end.row-n.start.row==i&&(t[i]=t[i].substring(0,n.end.column))),t};this.insertLines=function(n,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(n,t)};this.removeLines=function(n,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(n,t)};this.insertNewLine=function(n){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(n,["",""])};this.insert=function(n,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(n,this.$split(t))};this.insertInLine=function(n,t){var r=this.clippedPos(n.row,n.column),i=this.pos(n.row,n.column+t.length);return this.applyDelta({start:r,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)};this.clippedPos=function(n,t){var i=this.getLength(),r;return void 0===n?n=i:0>n?n=0:n>=i&&(n=i-1,t=void 0),r=this.getLine(n),void 0==t&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:n,column:t}};this.clonePos=function(n){return{row:n.row,column:n.column}};this.pos=function(n,t){return{row:n,column:t}};this.$clipPosition=function(n){var t=this.getLength();return n.row>=t?(n.row=Math.max(0,t-1),n.column=this.getLine(t-1).length):(n.row=Math.max(0,n.row),n.column=Math.min(Math.max(n.column,0),this.getLine(n.row).length)),n};this.insertFullLines=function(n,t){n=Math.min(Math.max(n,0),this.getLength());var i=0;n<this.getLength()?(t=t.concat([""]),i=0):(t=[""].concat(t),n--,i=this.$lines[n].length);this.insertMergedLines({row:n,column:i},t)};this.insertMergedLines=function(n,t){var i=this.clippedPos(n.row,n.column),r={row:i.row+t.length-1,column:(1==t.length?i.column:0)+t[t.length-1].length};return this.applyDelta({start:i,end:r,action:"insert",lines:t}),this.clonePos(r)};this.remove=function(n){var t=this.clippedPos(n.start.row,n.start.column),i=this.clippedPos(n.end.row,n.end.column);return this.applyDelta({start:t,end:i,action:"remove",lines:this.getLinesForRange({start:t,end:i})}),this.clonePos(t)};this.removeInLine=function(n,t,i){var r=this.clippedPos(n,t),u=this.clippedPos(n,i);return this.applyDelta({start:r,end:u,action:"remove",lines:this.getLinesForRange({start:r,end:u})},!0),this.clonePos(r)};this.removeFullLines=function(n,t){n=Math.min(Math.max(0,n),this.getLength()-1);t=Math.min(Math.max(0,t),this.getLength()-1);var u=t==this.getLength()-1&&n>0,f=t<this.getLength()-1,e=u?n-1:n,s=u?this.getLine(e).length:0,o=f?t+1:t,h=f?0:this.getLine(o).length,r=new i(e,s,o,h),c=this.$lines.slice(n,t+1);return this.applyDelta({start:r.start,end:r.end,action:"remove",lines:this.getLinesForRange(r)}),c};this.removeNewLine=function(n){n<this.getLength()-1&&n>=0&&this.applyDelta({start:this.pos(n,this.getLine(n).length),end:this.pos(n+1,0),action:"remove",lines:["",""]})};this.replace=function(n,t){if(n instanceof i||(n=i.fromPoints(n.start,n.end)),0===t.length&&n.isEmpty())return n.start;if(t==this.getTextRange(n))return n.end;this.remove(n);return t?this.insert(n.start,t):n.start};this.applyDeltas=function(n){for(var t=0;t<n.length;t++)this.applyDelta(n[t])};this.revertDeltas=function(n){for(var t=n.length-1;t>=0;t--)this.revertDelta(n[t])};this.applyDelta=function(n,t){var r="insert"==n.action;(r?n.lines.length<=1&&!n.lines[0]:!i.comparePoints(n.start,n.end))||(r&&n.lines.length>2e4&&this.$splitAndapplyLargeDelta(n,2e4),f(this.$lines,n,t),this._signal("change",n))};this.$splitAndapplyLargeDelta=function(n,t){for(var u,o=n.lines,s=o.length,f=n.start.row,e=n.start.column,r=0,i=0;;){if(r=i,i+=t-1,u=o.slice(r,i),i>s){n.lines=u;n.start.row=f+r;n.start.column=e;break}u.push("");this.applyDelta({start:this.pos(f+r,e),end:this.pos(f+i,e=0),action:n.action,lines:u},!0)}};this.revertDelta=function(n){this.applyDelta({start:this.clonePos(n.start),end:this.clonePos(n.end),action:"insert"==n.action?"remove":"insert",lines:n.lines.slice()})};this.indexToPosition=function(n,t){for(var r=this.$lines||this.getAllLines(),f=this.getNewLineCharacter().length,i=t||0,u=r.length;u>i;i++)if(n-=r[i].length+f,0>n)return{row:i,column:n+r[i].length+f};return{row:u-1,column:r[u-1].length}};this.positionToIndex=function(n,t){for(var r=this.$lines||this.getAllLines(),f=this.getNewLineCharacter().length,u=0,e=Math.min(n.row,r.length),i=t||0;e>i;++i)u+=r[i].length+f;return u+n.column}}).call(r.prototype);t.Document=r});ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,t){"use strict";var r=n("./lib/oop"),u=n("./lib/event_emitter").EventEmitter,i=function(n){this.running=!1;this.lines=[];this.states=[];this.currentLine=0;this.tokenizer=n;var t=this;this.$worker=function(){var f,r;if(t.running){for(var e=new Date,n=t.currentLine,i=-1,o=t.doc,u=n;t.lines[n];)n++;for(f=o.getLength(),r=0,t.running=!1;f>n;){t.$tokenizeRow(n);i=n;do n++;while(t.lines[n]);if(r++,r%5==0&&new Date-e>20){t.running=setTimeout(t.$worker,20);break}}t.currentLine=n;i>=u&&t.fireUpdateEvent(u,i)}}};(function(){r.implement(this,u);this.setTokenizer=function(n){this.tokenizer=n;this.lines=[];this.states=[];this.start(0)};this.setDocument=function(n){this.doc=n;this.lines=[];this.states=[];this.stop()};this.fireUpdateEvent=function(n,t){var i={first:n,last:t};this._signal("update",{data:i})};this.start=function(n){this.currentLine=Math.min(n||0,this.currentLine,this.doc.getLength());this.lines.splice(this.currentLine,this.lines.length);this.states.splice(this.currentLine,this.states.length);this.stop();this.running=setTimeout(this.$worker,700)};this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))};this.$updateOnChange=function(n){var t=n.start.row,i=n.end.row-t,r;0===i?this.lines[t]=null:"remove"==n.action?(this.lines.splice(t,i+1,null),this.states.splice(t,i+1,null)):(r=Array(i+1),r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r));this.currentLine=Math.min(t,this.currentLine,this.doc.getLength());this.stop()};this.stop=function(){this.running&&clearTimeout(this.running);this.running=!1};this.getTokens=function(n){return this.lines[n]||this.$tokenizeRow(n)};this.getState=function(n){return this.currentLine==n&&this.$tokenizeRow(n),this.states[n]||"start"};this.$tokenizeRow=function(n){var i=this.doc.getLine(n),r=this.states[n-1],t=this.tokenizer.getLineTokens(i,r,n);return this.states[n]+""!=t.state+""?(this.states[n]=t.state,this.lines[n+1]=null,this.currentLine>n+1&&(this.currentLine=n+1)):this.currentLine==n&&(this.currentLine=n+1),this.lines[n]=t.tokens}}).call(i.prototype);t.BackgroundTokenizer=i});ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,t){"use strict";var r=n("./lib/lang"),u=(n("./lib/oop"),n("./range").Range),i=function(n,t,i){this.setRegexp(n);this.clazz=t;this.type=i||"text"};(function(){this.MAX_RANGES=500;this.setRegexp=function(n){this.regExp+""!=n+""&&(this.regExp=n,this.cache=[])};this.update=function(n,t,i,f){var e,s;if(this.regExp)for(var h=f.firstRow,c=f.lastRow,o=h;c>=o;o++)for(e=this.cache[o],null==e&&(e=r.getMatchOffsets(i.getLine(o),this.regExp),e.length>this.MAX_RANGES&&(e=e.slice(0,this.MAX_RANGES)),e=e.map(function(n){return new u(o,n.offset,o,n.offset+n.length)}),this.cache[o]=e.length?e:""),s=e.length;s--;)t.drawSingleLineMarker(n,e[s].toScreenRange(i),this.clazz,f)}}).call(i.prototype);t.SearchHighlight=i});ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(n,t){"use strict";function i(n,t){this.foldData=n;Array.isArray(t)?this.folds=t:t=this.folds=[t];var i=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,i.end.row,i.end.column);this.start=this.range.start;this.end=this.range.end;this.folds.forEach(function(n){n.setFoldLine(this)},this)}var r=n("../range").Range;(function(){this.shiftRow=function(n){this.start.row+=n;this.end.row+=n;this.folds.forEach(function(t){t.start.row+=n;t.end.row+=n})};this.addFold=function(n){if(n.sameRow){if(n.start.row<this.startRow||n.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(n);this.folds.sort(function(n,t){return-n.range.compareEnd(t.start.row,t.start.column)});this.range.compareEnd(n.start.row,n.start.column)>0?(this.end.row=n.end.row,this.end.column=n.end.column):this.range.compareStart(n.end.row,n.end.column)<0&&(this.start.row=n.start.row,this.start.column=n.start.column)}else if(n.start.row==this.end.row)this.folds.push(n),this.end.row=n.end.row,this.end.column=n.end.column;else{if(n.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(n);this.start.row=n.start.row;this.start.column=n.start.column}n.foldLine=this};this.containsRow=function(n){return n>=this.start.row&&n<=this.end.row};this.walk=function(n,t,i){var r,s,f,u=0,h=this.folds,e=!0,o;for(null==t&&(t=this.end.row,i=this.end.column),o=0;o<h.length;o++){if(r=h[o],s=r.range.compareStart(t,i),-1==s)return void n(null,t,i,u,e);if(f=n(null,r.start.row,r.start.column,u,e),f=!f&&n(r.placeholder,r.start.row,r.start.column,u),f||0===s)return;e=!r.sameRow;u=r.end.column}n(null,t,i,u,e)};this.getNextFoldTo=function(n,t){for(var i,r,u=0;u<this.folds.length;u++){if(i=this.folds[u],r=i.range.compareEnd(n,t),-1==r)return{fold:i,kind:"after"};if(0===r)return{fold:i,kind:"inside"}}return null};this.addRemoveChars=function(n,t,i){var r,f,e=this.getNextFoldTo(n,t),u;if(e)if(r=e.fold,"inside"==e.kind&&r.start.column!=t&&r.start.row!=n)window.console&&window.console.log(n,t,r);else if(r.start.row==n){for(f=this.folds,u=f.indexOf(r),0===u&&(this.start.column+=i),u;u<f.length;u++){if(r=f[u],r.start.column+=i,!r.sameRow)return;r.end.column+=i}this.end.column+=i}};this.split=function(n,t){var u=this.getNextFoldTo(n,t),o;if(!u||"inside"==u.kind)return null;var h=u.fold,r=this.folds,f=this.foldData,e=r.indexOf(h),s=r[e-1];return this.end.row=s.end.row,this.end.column=s.end.column,r=r.splice(e,r.length-e),o=new i(f,r),f.splice(f.indexOf(this)+1,0,o),o};this.merge=function(n){for(var r,i=n.folds,t=0;t<i.length;t++)this.addFold(i[t]);r=this.foldData;r.splice(r.indexOf(n),1)};this.toString=function(){var n=[this.range.toString()+": ["];return this.folds.forEach(function(t){n.push("  "+t.toString())}),n.push("]"),n.join("\n")};this.idxToPosition=function(n){for(var t,r=0,i=0;i<this.folds.length;i++){if(t=this.folds[i],n-=t.start.column-r,0>n)return{row:t.start.row,column:t.start.column+n};if(n-=t.placeholder.length,0>n)return t.start;r=t.end.column}return{row:this.end.row,column:this.end.column+n}}}).call(i.prototype);t.FoldLine=i});ace.define("ace/range_list",["require","exports","module","ace/range"],function(n,t){"use strict";var u=n("./range").Range,i=u.comparePoints,r=function(){this.ranges=[]};(function(){this.comparePoints=i;this.pointIndex=function(n,t,r){for(var o,s,f,e=this.ranges,u=r||0;u<e.length;u++)if(o=e[u],s=i(n,o.end),!(s>0))return f=i(n,o.start),0===s?t&&0!==f?-u-2:u:f>0||0===f&&!t?u:-u-1;return-u-1};this.add=function(n){var r=!n.isEmpty(),t=this.pointIndex(n.start,r),i;return 0>t&&(t=-t-1),i=this.pointIndex(n.end,r,t),0>i?i=-i-1:i++,this.ranges.splice(t,i-t,n)};this.addList=function(n){for(var t=[],i=n.length;i--;)t.push.apply(t,this.add(n[i]));return t};this.substractPoint=function(n){var t=this.pointIndex(n);if(t>=0)return this.ranges.splice(t,1)};this.merge=function(){var e=[],t=this.ranges,r,n,u,f;for(t=t.sort(function(n,t){return i(n.start,t.start)}),n=t[0],u=1;u<t.length;u++)r=n,n=t[u],f=i(r.end,n.start),0>f||(0!=f||r.isEmpty()||n.isEmpty())&&(i(r.end,n.end)<0&&(r.end.row=n.end.row,r.end.column=n.end.column),t.splice(u,1),e.push(n),n=r,u--);return this.ranges=t,e};this.contains=function(n,t){return this.pointIndex({row:n,column:t})>=0};this.containsPoint=function(n){return this.pointIndex(n)>=0};this.rangeAtPoint=function(n){var t=this.pointIndex(n);if(t>=0)return this.ranges[t]};this.clipRows=function(n,t){var u=this.ranges,i,r,e,f;if(u[0].start.row>t||u[u.length-1].start.row<n)return[];for(i=this.pointIndex({row:n,column:0}),0>i&&(i=-i-1),r=this.pointIndex({row:t,column:0},i),0>r&&(r=-r-1),e=[],f=i;r>f;f++)e.push(u[f]);return e};this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)};this.attach=function(n){this.session&&this.detach();this.session=n;this.onChange=this.$onChange.bind(this);this.session.on("change",this.onChange)};this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)};this.$onChange=function(n){var e,i,t;"insert"==n.action?(i=n.start,e=n.end):(e=n.start,i=n.end);for(var u=i.row,c=e.row,f=c-u,o=-i.column+e.column,s=this.ranges,r=0,h=s.length;h>r;r++)if(t=s[r],!(t.end.row<u)){if(t.start.row>u)break;if(t.start.row==u&&t.start.column>=i.column&&(t.start.column!=i.column||!this.$insertRight)&&(t.start.column+=o,t.start.row+=f),t.end.row==u&&t.end.column>=i.column){if(t.end.column==i.column&&this.$insertRight)continue;t.end.column==i.column&&o>0&&h-1>r&&t.end.column>t.start.column&&t.end.column==s[r+1].start.column&&(t.end.column-=o);t.end.column+=o;t.end.row+=f}}if(0!=f&&h>r)for(;h>r;r++)t=s[r],t.start.row+=f,t.end.row+=f}}).call(r.prototype);t.RangeList=r});ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(n,t){"use strict";function r(n,t){n.row-=t.row;0==n.row&&(n.column-=t.column)}function f(n,t){r(n.start,t);r(n.end,t)}function u(n,t){0==n.row&&(n.column+=t.column);n.row+=t.row}function e(n,t){u(n.start,t);u(n.end,t)}var o=(n("../range").Range,n("../range_list").RangeList),s=n("../lib/oop"),i=t.Fold=function(n,t){this.foldLine=null;this.placeholder=t;this.range=n;this.start=n.start;this.end=n.end;this.sameRow=n.start.row==n.end.row;this.subFolds=this.ranges=[]};s.inherits(i,o),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()};this.setFoldLine=function(n){this.foldLine=n;this.subFolds.forEach(function(t){t.setFoldLine(n)})};this.clone=function(){var t=this.range.clone(),n=new i(t,this.placeholder);return this.subFolds.forEach(function(t){n.subFolds.push(t.clone())}),n.collapseChildren=this.collapseChildren,n};this.addSubFold=function(n){var o;if(!this.range.isEqual(n)){if(!this.range.containsRange(n))throw new Error("A fold can't intersect already existing fold"+n.range+this.range);f(n,this.start);for(var u=n.start.row,e=n.start.column,t=0,i=-1;t<this.subFolds.length&&(i=this.subFolds[t].range.compare(u,e),1==i);t++);if(o=this.subFolds[t],0==i)return o.addSubFold(n);for(var u=n.range.end.row,e=n.range.end.column,r=t,i=-1;r<this.subFolds.length&&(i=this.subFolds[r].range.compare(u,e),1==i);r++);if(this.subFolds[r],0==i)throw new Error("A fold can't intersect already existing fold"+n.range+this.range);return this.subFolds.splice(t,r-t,n),n.setFoldLine(this.foldLine),n}};this.restoreRange=function(n){return e(n,this.start)}}.call(i.prototype)});ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(n,t){"use strict";function e(){this.getFoldAt=function(n,t,i){var e=this.getFoldLine(n),f,u,r;if(!e)return null;for(f=e.folds,u=0;u<f.length;u++)if(r=f[u],r.range.contains(n,t)){if(1==i&&r.range.isEnd(n,t))continue;if(-1==i&&r.range.isStart(n,t))continue;return r}};this.getFoldsInRange=function(n){var o=n.start,s=n.end,u=this.$foldData,h=[],i,t,f,r,e;for(o.column+=1,s.column-=1,i=0;i<u.length;i++)if(t=u[i].range.compareRange(n),2!=t){if(-2==t)break;for(f=u[i].folds,r=0;r<f.length;r++){if(e=f[r],t=e.range.compareRange(n),-2==t)break;if(2!=t){if(42==t)break;h.push(e)}}}return o.column-=1,s.column+=1,h};this.getFoldsInRangeList=function(n){var t;return Array.isArray(n)?(t=[],n.forEach(function(n){t=t.concat(this.getFoldsInRange(n))},this)):t=this.getFoldsInRange(n),t};this.getAllFolds=function(){for(var t,r=[],i=this.$foldData,n=0;n<i.length;n++)for(t=0;t<i[n].folds.length;t++)r.push(i[n].folds[t]);return r};this.getFoldStringAt=function(n,t,i,r){var u,f,e,o,s;if(r=r||this.getFoldLine(n),!r)return null;for(e={end:{column:0}},o=0;o<r.folds.length;o++){if(f=r.folds[o],s=f.range.compareEnd(n,t),-1==s){u=this.getLine(f.start.row).substring(e.end.column,f.start.column);break}if(0===s)return null;e=f}return u||(u=this.getLine(f.start.row).substring(e.end.column)),-1==i?u.substring(0,t-e.end.column):1==i?u.substring(t-e.end.column):u};this.getFoldLine=function(n,t){var u=this.$foldData,i=0,r;for(t&&(i=u.indexOf(t)),-1==i&&(i=0),i;i<u.length;i++){if(r=u[i],r.start.row<=n&&r.end.row>=n)return r;if(r.end.row>n)return null}return null};this.getNextFoldLine=function(n,t){var r=this.$foldData,i=0,u;for(t&&(i=r.indexOf(t)),-1==i&&(i=0),i;i<r.length;i++)if(u=r[i],u.end.row>=n)return u;return null};this.getFoldedRowCount=function(n,t){for(var e=this.$foldData,r=t-n+1,f=0;f<e.length;f++){var o=e[f],u=o.end.row,i=o.start.row;if(u>=t){t>i&&(i>=n?r-=t-i:r=0);break}u>=n&&(r-=i>=n?u-i:u-n+1)}return r};this.$addFoldLine=function(n){return this.$foldData.push(n),this.$foldData.sort(function(n,t){return n.start.row-t.start.row}),n};this.addFold=function(n,t){var i,v=this.$foldData,y=!1,o,h,l,c,f,a;n instanceof u?i=n:(i=new u(t,n),i.collapseChildren=t.collapseChildren);this.$clipRangeToDocument(i.range);var s=i.start.row,p=i.start.column,e=i.end.row,w=i.end.column;if(e>s||s==e&&w-2>=p){if(o=this.getFoldAt(s,p,1),h=this.getFoldAt(e,w,-1),o&&h==o)return o.addSubFold(i);for(o&&!o.range.isStart(s,p)&&this.removeFold(o),h&&!h.range.isEnd(e,w)&&this.removeFold(h),l=this.getFoldsInRange(i.range),l.length>0&&(this.removeFolds(l),l.forEach(function(n){i.addSubFold(n)})),c=0;c<v.length;c++){if(f=v[c],e==f.start.row){f.addFold(i);y=!0;break}if(s==f.end.row){if((f.addFold(i),y=!0,!i.sameRow)&&(a=v[c+1],a&&a.start.row==e)){f.merge(a);break}break}if(e<=f.start.row)break}return y||(f=this.$addFoldLine(new r(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(f.start.row,f.start.row):this.$updateRowLengthCache(f.start.row,f.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i}throw new Error("The range has to be at least 2 characters width");};this.addFolds=function(n){n.forEach(function(n){this.addFold(n)},this)};this.removeFold=function(n){var i=n.foldLine,u=i.start.row,f=i.end.row,e=this.$foldData,t=i.folds,r;1==t.length?e.splice(e.indexOf(i),1):i.range.isEnd(n.end.row,n.end.column)?(t.pop(),i.end.row=t[t.length-1].end.row,i.end.column=t[t.length-1].end.column):i.range.isStart(n.start.row,n.start.column)?(t.shift(),i.start.row=t[0].start.row,i.start.column=t[0].start.column):n.sameRow?t.splice(t.indexOf(n),1):(r=i.split(n.start.row,n.start.column),t=r.folds,t.shift(),r.start.row=t[0].start.row,r.start.column=t[0].start.column);this.$updating||(this.$useWrapMode?this.$updateWrapData(u,f):this.$updateRowLengthCache(u,f));this.$modified=!0;this._signal("changeFold",{data:n,action:"remove"})};this.removeFolds=function(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t]);i.forEach(function(n){this.removeFold(n)},this);this.$modified=!0};this.expandFold=function(n){this.removeFold(n);n.subFolds.forEach(function(t){n.restoreRange(t);this.addFold(t)},this);n.collapseChildren>0&&this.foldAll(n.start.row+1,n.end.row,n.collapseChildren-1);n.subFolds=[]};this.expandFolds=function(n){n.forEach(function(n){this.expandFold(n)},this)};this.unfold=function(n,t){var u,r,f;if(null==n?(u=new i(0,0,this.getLength(),0),t=!0):u="number"==typeof n?new i(n,0,n,this.getLine(n).length):"row"in n?i.fromPoints(n,n):n,r=this.getFoldsInRangeList(u),t)this.removeFolds(r);else for(f=r;f.length;)this.expandFolds(f),f=this.getFoldsInRangeList(u);if(r.length)return r};this.isRowFolded=function(n,t){return!!this.getFoldLine(n,t)};this.getRowFoldEnd=function(n,t){var i=this.getFoldLine(n,t);return i?i.end.row:n};this.getRowFoldStart=function(n,t){var i=this.getFoldLine(n,t);return i?i.start.row:n};this.getFoldDisplayLine=function(n,t,i,r,u){null==r&&(r=n.start.row);null==u&&(u=0);null==t&&(t=n.end.row);null==i&&(i=this.getLine(t).length);var e=this.doc,f="";return n.walk(function(n,t,i,o){if(!(r>t)){if(t==r){if(u>i)return;o=Math.max(u,o)}f+=null!=n?n:e.getLine(t).substring(o,i)}},t,i),f};this.getDisplayLine=function(n,t,i,r){var f=this.getFoldLine(n),u;return f?this.getFoldDisplayLine(f,n,t,i,r):(u=this.doc.getLine(n),u.substring(r||0,t||u.length))};this.$cloneFoldData=function(){var n=[];return n=this.$foldData.map(function(t){var i=t.folds.map(function(n){return n.clone()});return new r(n,i)})};this.toggleFold=function(n){var i,r,o=this.selection,t=o.getRange(),u,e,f;if(t.isEmpty()){if(u=t.start,i=this.getFoldAt(u.row,u.column))return void this.expandFold(i);(r=this.findMatchingBracket(u))?1==t.comparePoint(r)?t.end=r:(t.start=r,t.start.column++,t.end.column--):(r=this.findMatchingBracket({row:u.row,column:u.column+1}))?(1==t.comparePoint(r)?t.end=r:t.start=r,t.start.column++):t=this.getCommentFoldRange(u.row,u.column)||t}else{if(e=this.getFoldsInRange(t),n&&e.length)return void this.expandFolds(e);1==e.length&&(i=e[0])}if(i||(i=this.getFoldAt(t.start.row,t.start.column)),i&&i.range.toString()==t.toString())return void this.expandFold(i);if(f="...",!t.isMultiLine()){if(f=this.getTextRange(t),f.length<4)return;f=f.trim().substring(0,2)+".."}this.addFold(f,t)};this.getCommentFoldRange=function(n,t,r){var e=new f(this,n,t),u=e.getCurrentToken(),o,s;if(u&&/^comment|string/.test(u.type)){if(o=new i,s=new RegExp(u.type.replace(/\..*/,"\\.")),1!=r){do u=e.stepBackward();while(u&&s.test(u.type));e.stepForward()}if(o.start.row=e.getCurrentTokenRow(),o.start.column=e.getCurrentTokenColumn()+2,e=new f(this,n,t),-1!=r){do u=e.stepForward();while(u&&s.test(u.type));u=e.stepBackward()}else u=e.getCurrentToken();return o.end.row=e.getCurrentTokenRow(),o.end.column=e.getCurrentTokenColumn()+u.value.length-2,o}};this.foldAll=function(n,t,i){var f,r,u,e;if(void 0==i&&(i=1e5),f=this.foldWidgets,f)for(t=t||this.getLength(),n=n||0,r=n;t>r;r++)if((null==f[r]&&(f[r]=this.getFoldWidget(r)),"start"==f[r])&&(u=this.getFoldWidgetRange(r),u&&u.isMultiLine()&&u.end.row<=t&&u.start.row>=n)){r=u.end.row;try{e=this.addFold("...",u);e&&(e.collapseChildren=i)}catch(o){}}};this.$foldStyles={manual:1,markbegin:1,markbeginend:1};this.$foldStyle="markbegin";this.setFoldStyle=function(n){if(!this.$foldStyles[n])throw new Error("invalid fold style: "+n+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=n){this.$foldStyle=n;"manual"==n&&this.unfold();var t=this.$foldMode;this.$setFolding(null);this.$setFolding(t)}};this.$setFolding=function(n){if(this.$foldMode!=n)return(this.$foldMode=n,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),n&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=n.getFoldWidget.bind(n,this,this.$foldStyle),this.getFoldWidgetRange=n.getFoldWidgetRange.bind(n,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),void 0):void(this.foldWidgets=null))};this.getParentFoldRangeData=function(n,t){var u=this.foldWidgets,e,i,f,r;if(!u||t&&u[n])return{};for(i=n-1;i>=0;){if(f=u[i],(null==f&&(f=u[i]=this.getFoldWidget(i)),"start"==f)&&(r=this.getFoldWidgetRange(i),e||(e=r),r&&r.end.row>=n))break;i--}return{range:-1!==i&&r,firstRange:e}};this.onFoldWidgetClick=function(n,t){var r,u,i;t=t.domEvent;r={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};u=this.$toggleFoldWidget(n,r);u||(i=t.target||t.srcElement,i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid"))};this.$toggleFoldWidget=function(n,t){var i,u,o,f;if(this.getFoldWidget){var s=this.getFoldWidget(n),h=this.getLine(n),e="end"===s?-1:1,r=this.getFoldAt(n,-1===e?0:h.length,e);return r?(t.children||t.all?this.removeFold(r):this.expandFold(r),r):(i=this.getFoldWidgetRange(n,!0),i&&!i.isMultiLine()&&(r=this.getFoldAt(i.start.row,i.start.column,1),r&&i.isEqual(r.range)))?(this.removeFold(r),r):(t.siblings?(u=this.getParentFoldRangeData(n),u.range&&(o=u.range.start.row+1,f=u.range.end.row),this.foldAll(o,f,t.all?1e4:0)):t.children?(f=i?i.end.row:this.getLength(),this.foldAll(n+1,f,t.all?1e4:0)):i&&(t.all&&(i.collapseChildren=1e4),this.addFold("...",i)),i)}};this.toggleFoldWidget=function(){var n=this.selection.getCursor().row,t,i,r;n=this.getRowFoldStart(n);t=this.$toggleFoldWidget(n,{});t||(i=this.getParentFoldRangeData(n,!0),(t=i.range||i.firstRange)&&(n=t.start.row,r=this.getFoldAt(n,this.getLine(n).length,1),r?this.removeFold(r):this.addFold("...",t)))};this.updateFoldWidgets=function(n){var t=n.start.row,i=n.end.row-t,r;0===i?this.foldWidgets[t]=null:"remove"==n.action?this.foldWidgets.splice(t,i+1,null):(r=Array(i+1),r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r))};this.tokenizerUpdateFoldWidgets=function(n){var t=n.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var i=n("../range").Range,r=n("./fold_line").FoldLine,u=n("./fold").Fold,f=n("../token_iterator").TokenIterator;t.Folding=e});ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(n,t){"use strict";function u(){this.findMatchingBracket=function(n,t){var r,i;return 0==n.column?null:(r=t||this.getLine(n.row).charAt(n.column-1),""==r)?null:(i=r.match(/([\(\[\{])|([\)\]\}])/),i?i[1]?this.$findClosingBracket(i[1],n):this.$findOpeningBracket(i[2],n):null)};this.getBracketRange=function(n){var t,o=this.getLine(n.row),e=!0,f=o.charAt(n.column-1),i=f&&f.match(/([\(\[\{])|([\)\]\}])/),u;if(i||(f=o.charAt(n.column),n={row:n.row,column:n.column+1},i=f&&f.match(/([\(\[\{])|([\)\]\}])/),e=!1),!i)return null;if(i[1]){if(u=this.$findClosingBracket(i[1],n),!u)return null;t=r.fromPoints(n,u);e||(t.end.column++,t.start.column--);t.cursor=t.end}else{if(u=this.$findOpeningBracket(i[2],n),!u)return null;t=r.fromPoints(u,n);e||(t.start.column++,t.end.column--);t.cursor=t.start}return t};this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"};this.$findOpeningBracket=function(n,t,r){var c=this.$brackets[n],s=1,f=new i(this,t.row,t.column),u=f.getCurrentToken(),e,o,h;if(u||(u=f.stepForward()),u){for(r||(r=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+")),e=t.column-f.getCurrentTokenColumn()-2,o=u.value;;){for(;e>=0;){if(h=o.charAt(e),h==c){if(s-=1,0==s)return{row:f.getCurrentTokenRow(),column:e+f.getCurrentTokenColumn()}}else h==n&&(s+=1);e-=1}do u=f.stepBackward();while(u&&!r.test(u.type));if(null==u)break;o=u.value;e=o.length-1}return null}};this.$findClosingBracket=function(n,t,r){var l=this.$brackets[n],o=1,f=new i(this,t.row,t.column),u=f.getCurrentToken(),e,s,c,h;if(u||(u=f.stepForward()),u){for(r||(r=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+")),e=t.column-f.getCurrentTokenColumn();;){for(s=u.value,c=s.length;c>e;){if(h=s.charAt(e),h==l){if(o-=1,0==o)return{row:f.getCurrentTokenRow(),column:e+f.getCurrentTokenColumn()}}else h==n&&(o+=1);e+=1}do u=f.stepForward();while(u&&!r.test(u.type));if(null==u)break;e=0}return null}}}var i=n("../token_iterator").TokenIterator,r=n("../range").Range;t.BracketMatch=u});ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(n,t){"use strict";var e=n("./lib/oop"),f=n("./lib/lang"),u=n("./config"),o=n("./lib/event_emitter").EventEmitter,s=n("./selection").Selection,h=n("./mode/text").Mode,i=n("./range").Range,c=n("./document").Document,l=n("./background_tokenizer").BackgroundTokenizer,a=n("./search_highlight").SearchHighlight,r=function(n,t){this.$breakpoints=[];this.$decorations=[];this.$frontMarkers={};this.$backMarkers={};this.$markerId=1;this.$undoSelect=!0;this.$foldData=[];this.id="session"+ ++r.$uid;this.$foldData.toString=function(){return this.join("\n")};this.on("changeFold",this.onChangeFold.bind(this));this.$onChange=this.onChange.bind(this);"object"==typeof n&&n.getLine||(n=new c(n));this.setDocument(n);this.selection=new s(this);u.resetOptions(this);this.setMode(t);u._signal("session",this)};(function(){function s(n){return 4352>n?!1:n>=4352&&4447>=n||n>=4515&&4519>=n||n>=4602&&4607>=n||n>=9001&&9002>=n||n>=11904&&11929>=n||n>=11931&&12019>=n||n>=12032&&12245>=n||n>=12272&&12283>=n||n>=12288&&12350>=n||n>=12353&&12438>=n||n>=12441&&12543>=n||n>=12549&&12589>=n||n>=12593&&12686>=n||n>=12688&&12730>=n||n>=12736&&12771>=n||n>=12784&&12830>=n||n>=12832&&12871>=n||n>=12880&&13054>=n||n>=13056&&19903>=n||n>=19968&&42124>=n||n>=42128&&42182>=n||n>=43360&&43388>=n||n>=44032&&55203>=n||n>=55216&&55238>=n||n>=55243&&55291>=n||n>=63744&&64255>=n||n>=65040&&65049>=n||n>=65072&&65106>=n||n>=65108&&65126>=n||n>=65128&&65131>=n||n>=65281&&65376>=n||n>=65504&&65510>=n}e.implement(this,o);this.setDocument=function(n){this.doc&&this.doc.removeListener("change",this.$onChange);this.doc=n;n.on("change",this.$onChange);this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument());this.resetCaches()};this.getDocument=function(){return this.doc};this.$resetRowCache=function(n){if(!n)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,n)+1;t>i&&(this.$docRowCache.splice(i,t),this.$screenRowCache.splice(i,t))};this.$getRowCacheIndex=function(n,t){for(var r,f,i=0,u=n.length-1;u>=i;)if(r=i+u>>1,f=n[r],t>f)i=r+1;else{if(!(f>t))return r;u=r-1}return i-1};this.resetCaches=function(){this.$modified=!0;this.$wrapData=[];this.$rowLengthCache=[];this.$resetRowCache(0);this.bgTokenizer&&this.bgTokenizer.start(0)};this.onChangeFold=function(n){var t=n.data;this.$resetRowCache(t.start.row)};this.onChange=function(n){this.$modified=!0;this.$resetRowCache(n.start.row);var t=this.$updateInternalDataOnChange(n);this.$fromUndo||!this.$undoManager||n.ignore||(this.$deltasDoc.push(n),t&&0!=t.length&&this.$deltasFold.push({action:"removeFolds",folds:t}),this.$informUndoManager.schedule());this.bgTokenizer&&this.bgTokenizer.$updateOnChange(n);this._signal("change",n)};this.setValue=function(n){this.doc.setValue(n);this.selection.moveTo(0,0);this.$resetRowCache(0);this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];this.setUndoManager(this.$undoManager);this.getUndoManager().reset()};this.getValue=this.toString=function(){return this.doc.getValue()};this.getSelection=function(){return this.selection};this.getState=function(n){return this.bgTokenizer.getState(n)};this.getTokens=function(n){return this.bgTokenizer.getTokens(n)};this.getTokenAt=function(n,t){var r,u=this.bgTokenizer.getTokens(n),f=0,i;if(null==t)i=u.length-1,f=this.getLine(n).length;else for(i=0;i<u.length&&(f+=u[i].value.length,!(f>=t));i++);return r=u[i],r?(r.index=i,r.start=f-r.value.length,r):null};this.setUndoManager=function(n){if(this.$undoManager=n,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),n){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel();t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]);t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]);t.$deltas.length>0&&n.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas});t.mergeUndoDeltas=!1;t.$deltas=[]};this.$informUndoManager=f.delayedCall(this.$syncInformUndoManager)}};this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()};this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}};this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager};this.getTabString=function(){return this.getUseSoftTabs()?f.stringRepeat(" ",this.getTabSize()):"\t"};this.setUseSoftTabs=function(n){this.setOption("useSoftTabs",n)};this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs};this.setTabSize=function(n){this.setOption("tabSize",n)};this.getTabSize=function(){return this.$tabSize};this.isTabStop=function(n){return this.$useSoftTabs&&n.column%this.$tabSize==0};this.$overwrite=!1;this.setOverwrite=function(n){this.setOption("overwrite",n)};this.getOverwrite=function(){return this.$overwrite};this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)};this.addGutterDecoration=function(n,t){this.$decorations[n]||(this.$decorations[n]="");this.$decorations[n]+=" "+t;this._signal("changeBreakpoint",{})};this.removeGutterDecoration=function(n,t){this.$decorations[n]=(this.$decorations[n]||"").replace(" "+t,"");this._signal("changeBreakpoint",{})};this.getBreakpoints=function(){return this.$breakpoints};this.setBreakpoints=function(n){this.$breakpoints=[];for(var t=0;t<n.length;t++)this.$breakpoints[n[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})};this.clearBreakpoints=function(){this.$breakpoints=[];this._signal("changeBreakpoint",{})};this.setBreakpoint=function(n,t){void 0===t&&(t="ace_breakpoint");t?this.$breakpoints[n]=t:delete this.$breakpoints[n];this._signal("changeBreakpoint",{})};this.clearBreakpoint=function(n){delete this.$breakpoints[n];this._signal("changeBreakpoint",{})};this.addMarker=function(n,t,i,r){var u=this.$markerId++,f={range:n,type:i||"line",renderer:"function"==typeof i?i:null,clazz:t,inFront:!!r,id:u};return r?(this.$frontMarkers[u]=f,this._signal("changeFrontMarker")):(this.$backMarkers[u]=f,this._signal("changeBackMarker")),u};this.addDynamicMarker=function(n,t){if(n.update){var i=this.$markerId++;return n.id=i,n.inFront=!!t,t?(this.$frontMarkers[i]=n,this._signal("changeFrontMarker")):(this.$backMarkers[i]=n,this._signal("changeBackMarker")),n}};this.removeMarker=function(n){var t=this.$frontMarkers[n]||this.$backMarkers[n],i;t&&(i=t.inFront?this.$frontMarkers:this.$backMarkers,t&&(delete i[n],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker")))};this.getMarkers=function(n){return n?this.$frontMarkers:this.$backMarkers};this.highlight=function(n){if(!this.$searchHighlight){var t=new a(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(n)};this.highlightLines=function(n,t,r,u){"number"!=typeof t&&(r=t,t=n);r||(r="ace_step");var f=new i(n,0,t,1/0);return f.id=this.addMarker(f,r,"fullLine",u),f};this.setAnnotations=function(n){this.$annotations=n;this._signal("changeAnnotation",{})};this.getAnnotations=function(){return this.$annotations||[]};this.clearAnnotations=function(){this.setAnnotations([])};this.$detectNewLine=function(n){var t=n.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"};this.getWordRange=function(n,t){var u=this.getLine(n),e=!1,o,r,f;if(o=(t>0&&(e=!!u.charAt(t-1).match(this.tokenRe)),e||(e=!!u.charAt(t).match(this.tokenRe)),e)?this.tokenRe:/^\s+$/.test(u.slice(t-1,t+1))?/\s/:this.nonTokenRe,r=t,r>0){do r--;while(r>=0&&u.charAt(r).match(o));r++}for(f=t;f<u.length&&u.charAt(f).match(o);)f++;return new i(n,r,n,f)};this.getAWordRange=function(n,t){for(var i=this.getWordRange(n,t),r=this.getLine(i.end.row);r.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i};this.setNewLineMode=function(n){this.doc.setNewLineMode(n)};this.getNewLineMode=function(){return this.doc.getNewLineMode()};this.setUseWorker=function(n){this.setOption("useWorker",n)};this.getUseWorker=function(){return this.$useWorker};this.onReloadTokenizer=function(n){var t=n.data;this.bgTokenizer.start(t.first);this._signal("tokenizerUpdate",n)};this.$modes={};this.$mode=null;this.$modeId=null;this.setMode=function(n,t){if(n&&"object"==typeof n){if(n.getTokenizer)return this.$onChangeMode(n);var r=n,i=r.path}else i=n||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new h),this.$modes[i]&&!r?(this.$onChangeMode(this.$modes[i]),void(t&&t())):(this.$modeId=i,u.loadModule(["mode",i],function(n){return this.$modeId!==i?t&&t():(this.$modes[i]&&!r?this.$onChangeMode(this.$modes[i]):n&&n.Mode&&(n=new n.Mode(r),r||(this.$modes[i]=n,n.$id=i),this.$onChangeMode(n)),void(t&&t()))}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0),void 0)};this.$onChangeMode=function(n,t){var i,r,u;(t||(this.$modeId=n.$id),this.$mode!==n)&&(this.$mode=n,this.$stopWorker(),this.$useWorker&&this.$startWorker(),i=n.getTokenizer(),void 0!==i.addEventListener&&(r=this.onReloadTokenizer.bind(this),i.addEventListener("update",r)),this.bgTokenizer?this.bgTokenizer.setTokenizer(i):(this.bgTokenizer=new l(i),u=this,this.bgTokenizer.addEventListener("update",function(n){u._signal("tokenizerUpdate",n)})),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=n.tokenRe,this.nonTokenRe=n.nonTokenRe,t||(n.attachToSession&&n.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(n.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode")))};this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)};this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(n){u.warn("Could not load worker",n);this.$worker=null}};this.getMode=function(){return this.$mode};this.$scrollTop=0;this.setScrollTop=function(n){this.$scrollTop===n||isNaN(n)||(this.$scrollTop=n,this._signal("changeScrollTop",n))};this.getScrollTop=function(){return this.$scrollTop};this.$scrollLeft=0;this.setScrollLeft=function(n){this.$scrollLeft===n||isNaN(n)||(this.$scrollLeft=n,this._signal("changeScrollLeft",n))};this.getScrollLeft=function(){return this.$scrollLeft};this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth};this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var n=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>n&&(n=t.screenWidth)}),this.lineWidgetWidth=n};this.$computeWidth=function(n){if(this.$modified||n){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var f=this.doc.getAllLines(),r=this.$rowLengthCache,u=0,e=0,i=this.$foldData[e],o=i?i.start.row:1/0,s=f.length,t=0;s>t;t++){if(t>o){if(t=i.end.row+1,t>=s)break;i=this.$foldData[e++];o=i?i.start.row:1/0}null==r[t]&&(r[t]=this.$getStringScreenWidth(f[t])[0]);r[t]>u&&(u=r[t])}this.screenWidth=u}};this.getLine=function(n){return this.doc.getLine(n)};this.getLines=function(n,t){return this.doc.getLines(n,t)};this.getLength=function(){return this.doc.getLength()};this.getTextRange=function(n){return this.doc.getTextRange(n||this.selection.getRange())};this.insert=function(n,t){return this.doc.insert(n,t)};this.remove=function(n){return this.doc.remove(n)};this.removeFullLines=function(n,t){return this.doc.removeFullLines(n,t)};this.undoChanges=function(n,t){var i,u,r;if(n.length){for(this.$fromUndo=!0,i=null,u=n.length-1;-1!=u;u--)r=n[u],"doc"==r.group?(this.doc.revertDeltas(r.deltas),i=this.$getUndoSelection(r.deltas,!0,i)):r.deltas.forEach(function(n){this.addFolds(n.folds)},this);return this.$fromUndo=!1,i&&this.$undoSelect&&!t&&this.selection.setSelectionRange(i),i}};this.redoChanges=function(n,t){var i,r,u;if(n.length){for(this.$fromUndo=!0,i=null,r=0;r<n.length;r++)u=n[r],"doc"==u.group&&(this.doc.applyDeltas(u.deltas),i=this.$getUndoSelection(u.deltas,!1,i));return this.$fromUndo=!1,i&&this.$undoSelect&&!t&&this.selection.setSelectionRange(i),i}};this.setUndoSelect=function(n){this.$undoSelect=n};this.$getUndoSelection=function(n,t,r){function c(n){return t?"insert"!==n.action:"insert"===n.action}var u,e,f=n[0],o=!1,s,h;for(c(f)?(u=i.fromPoints(f.start,f.end),o=!0):(u=i.fromPoints(f.start,f.start),o=!1),s=1;s<n.length;s++)f=n[s],c(f)?(e=f.start,-1==u.compare(e.row,e.column)&&u.setStart(e),e=f.end,1==u.compare(e.row,e.column)&&u.setEnd(e),o=!0):(e=f.start,-1==u.compare(e.row,e.column)&&(u=i.fromPoints(f.start,f.start)),o=!1);return null!=r&&(0===i.comparePoints(r.start,u.start)&&(r.start.column+=u.end.column-u.start.column,r.end.column+=u.end.column-u.start.column),h=r.compareRange(u),1==h?u.setStart(r.start):-1==h&&u.setEnd(r.end)),u};this.replace=function(n,t){return this.doc.replace(n,t)};this.moveText=function(n,t,r){var c=this.getTextRange(n),s=this.getFoldsInRange(n),u=i.fromPoints(t,t),f,e;if(r||(this.remove(n),f=n.start.row-n.end.row,e=f?-n.end.column:n.start.column-n.end.column,e&&(u.start.row==n.end.row&&u.start.column>n.end.column&&(u.start.column+=e),u.end.row==n.end.row&&u.end.column>n.end.column&&(u.end.column+=e)),f&&u.start.row>=n.end.row&&(u.start.row+=f,u.end.row+=f)),u.end=this.insert(u.start,c),s.length){var o=n.start,h=u.start,f=h.row-o.row,e=h.column-o.column;this.addFolds(s.map(function(n){return n=n.clone(),n.start.row==o.row&&(n.start.column+=e),n.end.row==o.row&&(n.end.column+=e),n.start.row+=f,n.end.row+=f,n}))}return u};this.indentRows=function(n,t,i){i=i.replace(/\t/g,this.getTabString());for(var r=n;t>=r;r++)this.doc.insertInLine({row:r,column:0},i)};this.outdentRows=function(n){for(var f,t,e=n.collapseRows(),r=new i(0,0,0,0),o=this.getTabSize(),u=e.start.row;u<=e.end.row;++u){for(f=this.getLine(u),r.start.row=u,r.end.row=u,t=0;o>t&&" "==f.charAt(t);++t);o>t&&"\t"==f.charAt(t)?(r.start.column=t,r.end.column=t+1):(r.start.column=0,r.end.column=t);this.remove(r)}};this.$moveLines=function(n,t,r){var f,u;if(n=this.getRowFoldStart(n),t=this.getRowFoldEnd(t),0>r){if(f=this.getRowFoldStart(n+r),0>f)return 0;u=f-n}else if(r>0){if(f=this.getRowFoldEnd(t+r),f>this.doc.getLength()-1)return 0;u=f-t}else n=this.$clipRowToDocument(n),t=this.$clipRowToDocument(t),u=t-n+1;var o=new i(n,0,t,Number.MAX_VALUE),e=this.getFoldsInRange(o).map(function(n){return n=n.clone(),n.start.row+=u,n.end.row+=u,n}),s=0==r?this.doc.getLines(n,t):this.doc.removeFullLines(n,t);return this.doc.insertFullLines(n+u,s),e.length&&this.addFolds(e),u};this.moveLinesUp=function(n,t){return this.$moveLines(n,t,-1)};this.moveLinesDown=function(n,t){return this.$moveLines(n,t,1)};this.duplicateLines=function(n,t){return this.$moveLines(n,t,0)};this.$clipRowToDocument=function(n){return Math.max(0,Math.min(n,this.doc.getLength()-1))};this.$clipColumnToRow=function(n,t){return 0>t?0:Math.min(this.doc.getLine(n).length,t)};this.$clipPositionToDocument=function(n,t){if(t=Math.max(0,t),0>n)n=0,t=0;else{var i=this.doc.getLength();n>=i?(n=i-1,t=this.doc.getLine(i-1).length):t=Math.min(this.doc.getLine(n).length,t)}return{row:n,column:t}};this.$clipRangeToDocument=function(n){n.start.row<0?(n.start.row=0,n.start.column=0):n.start.column=this.$clipColumnToRow(n.start.row,n.start.column);var t=this.doc.getLength()-1;return n.end.row>t?(n.end.row=t,n.end.column=this.doc.getLine(t).length):n.end.column=this.$clipColumnToRow(n.end.row,n.end.column),n};this.$wrapLimit=80;this.$useWrapMode=!1;this.$wrapLimitRange={min:null,max:null};this.setUseWrapMode=function(n){if(n!=this.$useWrapMode){if(this.$useWrapMode=n,this.$modified=!0,this.$resetRowCache(0),n){var t=this.getLength();this.$wrapData=Array(t);this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}};this.getUseWrapMode=function(){return this.$useWrapMode};this.setWrapLimitRange=function(n,t){this.$wrapLimitRange.min===n&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:n,max:t},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))};this.adjustWrapLimit=function(n,t){var i=this.$wrapLimitRange,r;return i.max<0&&(i={min:t,max:t}),r=this.$constrainWrapLimit(n,i.min,i.max),r!=this.$wrapLimit&&r>1?(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1};this.$constrainWrapLimit=function(n,t,i){return t&&(n=Math.max(t,n)),i&&(n=Math.min(i,n)),n};this.getWrapLimit=function(){return this.$wrapLimit};this.setWrapLimit=function(n){this.setWrapLimitRange(n,n)};this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}};this.$updateInternalDataOnChange=function(n){var l=this.$useWrapMode,p=n.action,f=n.start,e=n.end,i=f.row,s=e.row,r=s-i,h=null,o,u,c,a,v,y,t;if(this.$updating=!0,0!=r)if("remove"===p){for(this[l?"$wrapData":"$rowLengthCache"].splice(i,r),o=this.$foldData,h=this.getFoldsInRange(n),this.removeFolds(h),t=this.getFoldLine(e.row),u=0,t&&(t.addRemoveChars(e.row,e.column,f.column-e.column),t.shiftRow(-r),c=this.getFoldLine(i),c&&c!==t&&(c.merge(t),t=c),u=o.indexOf(t)+1),u;u<o.length;u++)t=o[u],t.start.row>=e.row&&t.shiftRow(-r);s=i}else{a=Array(r);a.unshift(i,0);v=l?this.$wrapData:this.$rowLengthCache;v.splice.apply(v,a);var o=this.$foldData,t=this.getFoldLine(i),u=0;for(t&&(y=t.range.compareInside(f.row,f.column),0==y?(t=t.split(f.row,f.column),t&&(t.shiftRow(r),t.addRemoveChars(s,0,e.column-f.column))):-1==y&&(t.addRemoveChars(i,0,e.column-f.column),t.shiftRow(r)),u=o.indexOf(t)+1),u;u<o.length;u++)t=o[u],t.start.row>=i&&t.shiftRow(r)}else r=Math.abs(n.start.column-n.end.column),"remove"===p&&(h=this.getFoldsInRange(n),this.removeFolds(h),r=-r),t=this.getFoldLine(i),t&&t.addRemoveChars(i,f.column,r);return l&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,l?this.$updateWrapData(i,s):this.$updateRowLengthCache(i,s),h};this.$updateRowLengthCache=function(n,t){this.$rowLengthCache[n]=null;this.$rowLengthCache[t]=null};this.$updateWrapData=function(t,i){var u,f,o=this.doc.getAllLines(),s=this.getTabSize(),h=this.$wrapData,c=this.$wrapLimit,e=t;for(i=Math.min(i,o.length-1);i>=e;)f=this.getFoldLine(e,f),f?(u=[],f.walk(function(t,i,f,e){var s,h;if(null!=t)for(s=this.$getDisplayTokens(t,u.length),s[0]=n,h=1;h<s.length;h++)s[h]=r;else s=this.$getDisplayTokens(o[i].substring(e,f),u.length);u=u.concat(s)}.bind(this),f.end.row,o[f.end.row].length+1),h[f.start.row]=this.$computeWrapSplits(u,c,s),e=f.end.row+1):(u=this.$getDisplayTokens(o[e]),h[e]=this.$computeWrapSplits(u,c,s),e++)};var c=1,v=2,n=3,r=4,y=9,t=10,p=11,w=12;this.$computeWrapSplits=function(i,u,f){function g(){var n=0,r,u;if(0===d)return n;if(a)for(r=0;r<i.length;r++)if(u=i[r],u==t)n+=1;else{if(u!=p){if(u==w)continue;break}n+=f}return k&&a!==!1&&(n+=f),Math.min(n,d)}function h(n){var r=i.slice(o,n),t=r.length;r.join("").replace(/12/g,function(){t-=1}).replace(/2/g,function(){t-=1});l.length||(c=g(),l.indent=c);b+=t;l.push(b);o=n}var e,s;if(0==i.length)return[];for(var l=[],nt=i.length,o=0,b=0,k=this.$wrapAsCode,a=this.$indentedSoftWrap,d=u<=Math.max(2*f,8)||a===!1?0:Math.floor(u/2),c=0;nt-o>u-c;)if(e=o+u-c,i[e-1]>=t&&i[e]>=t)h(e);else if(i[e]!=n&&i[e]!=r){for(s=Math.max(e-(u-(u>>2)),o-1);e>s&&i[e]<n;)e--;if(k){for(;e>s&&i[e]<n;)e--;for(;e>s&&i[e]==y;)e--}else for(;e>s&&i[e]<t;)e--;e>s?h(++e):(e=o+u,i[e]==v&&e--,h(e-c))}else{for(e;e!=o-1&&i[e]!=n;e--);if(e>o){h(e);continue}for(e=o+u;e<i.length&&i[e]==r;e++);if(e==i.length)break;h(e)}return l};this.$getDisplayTokens=function(n,i){var o,u=[],f,r,e;for(i=i||0,f=0;f<n.length;f++)if(r=n.charCodeAt(f),9==r)for(o=this.getScreenTabSize(u.length+i),u.push(p),e=1;o>e;e++)u.push(w);else 32==r?u.push(t):r>39&&48>r||r>57&&64>r?u.push(y):r>=4352&&s(r)?u.push(c,v):u.push(c);return u};this.$getStringScreenWidth=function(n,t,i){if(0==t)return[0,0];null==t&&(t=1/0);i=i||0;for(var u,r=0;r<n.length&&(u=n.charCodeAt(r),i+=9==u?this.getScreenTabSize(i):u>=4352&&s(u)?2:1,!(i>t));r++);return[i,r]};this.lineWidgets=null;this.getRowLength=function(n){if(this.lineWidgets)var t=this.lineWidgets[n]&&this.lineWidgets[n].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[n]?this.$wrapData[n].length+1+t:1+t};this.getRowLineCount=function(n){return this.$useWrapMode&&this.$wrapData[n]?this.$wrapData[n].length+1:1};this.getRowWrapIndent=function(n){if(this.$useWrapMode){var i=this.screenToDocumentPosition(n,Number.MAX_VALUE),t=this.$wrapData[i.row];return t.length&&t[0]<i.column?t.indent:0}return 0};this.getScreenLastRowColumn=function(n){var t=this.screenToDocumentPosition(n,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)};this.getDocumentLastRowColumn=function(n,t){var i=this.documentToScreenRow(n,t);return this.getScreenLastRowColumn(i)};this.getDocumentLastRowColumnPosition=function(n,t){var i=this.documentToScreenRow(n,t);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)};this.getRowSplitData=function(n){if(this.$useWrapMode)return this.$wrapData[n]};this.getScreenTabSize=function(n){return this.$tabSize-n%this.$tabSize};this.screenToDocumentRow=function(n,t){return this.screenToDocumentPosition(n,t).row};this.screenToDocumentColumn=function(n,t){return this.screenToDocumentPosition(n,t).column};this.screenToDocumentPosition=function(n,t){var w,p,u,l;if(0>n)return{row:0,column:0};var o,a,i=0,f=0,e=0,s=0,h=this.$screenRowCache,v=this.$getRowCacheIndex(h,n),y=h.length;if(y&&v>=0)var e=h[v],i=this.$docRowCache[v],w=n>h[y-1];else w=!y;for(var c=this.getLength()-1,r=this.getNextFoldLine(i),b=r?r.start.row:1/0;n>=e&&(s=this.getRowLength(i),!(e+s>n||i>=c));)e+=s,i++,i>b&&(i=r.end.row+1,r=this.getNextFoldLine(i,r),b=r?r.start.row:1/0),w&&(this.$docRowCache.push(i),this.$screenRowCache.push(e));if(r&&r.start.row<=i)o=this.getFoldDisplayLine(r),i=r.start.row;else{if(n>=e+s||i>c)return{row:c,column:this.getLine(c).length};o=this.getLine(i);r=null}return p=0,this.$useWrapMode&&(u=this.$wrapData[i],u&&(l=Math.floor(n-e),a=u[l],l>0&&u.length&&(p=u.indent,f=u[l-1]||u[u.length-1],o=o.substring(f)))),f+=this.$getStringScreenWidth(o,t-p)[1],this.$useWrapMode&&f>=a&&(f=a-1),r?r.idxToPosition(f):{row:i,column:f}};this.documentToScreenPosition=function(n,t){var a,b,i,l,u,w,e,o;a="undefined"==typeof t?this.$clipPositionToDocument(n.row,n.column):this.$clipPositionToDocument(n,t);n=a.row;t=a.column;var s=0,v=null,h=null;h=this.getFoldAt(n,t,1);h&&(n=h.start.row,t=h.start.column);var f,r=0,c=this.$docRowCache,y=this.$getRowCacheIndex(c,n),p=c.length;if(p&&y>=0)var r=c[y],s=this.$screenRowCache[y],b=n>c[p-1];else b=!p;for(i=this.getNextFoldLine(r),l=i?i.start.row:1/0;n>r;){if(r>=l){if(f=i.end.row+1,f>n)break;i=this.getNextFoldLine(f,i);l=i?i.start.row:1/0}else f=r+1;s+=this.getRowLength(r);r=f;b&&(this.$docRowCache.push(r),this.$screenRowCache.push(s))}if(u="",i&&r>=l?(u=this.getFoldDisplayLine(i,n,t),v=i.start.row):(u=this.getLine(n).substring(0,t),v=n),w=0,this.$useWrapMode&&(e=this.$wrapData[v],e)){for(o=0;u.length>=e[o];)s++,o++;u=u.substring(e[o-1]||0,u.length);w=o>0?e.indent:0}return{row:s,column:w+this.$getStringScreenWidth(u)[0]}};this.documentToScreenColumn=function(n,t){return this.documentToScreenPosition(n,t).column};this.documentToScreenRow=function(n,t){return this.documentToScreenPosition(n,t).row};this.getScreenLength=function(){var i=0,n=null,u,f,t;if(this.$useWrapMode)for(var o=this.$wrapData.length,r=0,t=0,n=this.$foldData[t++],e=n?n.start.row:1/0;o>r;)u=this.$wrapData[r],i+=u?u.length+1:1,r++,r>e&&(r=n.end.row+1,n=this.$foldData[t++],e=n?n.start.row:1/0);else for(i=this.getLength(),f=this.$foldData,t=0;t<f.length;t++)n=f[t],i-=n.end.row-n.start.row;return this.lineWidgets&&(i+=this.$getWidgetScreenLength()),i};this.$setFontMetrics=function(n){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,i,r){if(0===i)return[0,0];i||(i=1/0);r=r||0;for(var f,u=0;u<t.length&&(f=t.charAt(u),r+="\t"===f?this.getScreenTabSize(r):n.getCharacterWidth(f),!(r>i));u++);return[r,u]})};this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null);this.$stopWorker()}}).call(r.prototype);n("./edit_session/folding").Folding.call(r.prototype);n("./edit_session/bracket_match").BracketMatch.call(r.prototype);u.defineOptions(r.prototype,"session",{wrap:{set:function(n){if(n&&"off"!=n?"free"==n?n=!0:"printMargin"==n?n=-1:"string"==typeof n&&(n=parseInt(n,10)||!1):n=!1,this.$wrap!=n)if(this.$wrap=n,n){var t="number"==typeof n?n:null;this.setWrapLimitRange(t,t);this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(n){n="auto"==n?"text"!=this.$mode.type:"text"!=n;n!=this.$wrapAsCode&&(this.$wrapAsCode=n,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(n){this.$useWorker=n;this.$stopWorker();n&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(n){isNaN(n)||this.$tabSize===n||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=n,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(n){this.doc.setNewLineMode(n)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(n){this.setMode(n)},get:function(){return this.$modeId}}});t.EditSession=r});ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,t){"use strict";var i=n("./lib/lang"),f=n("./lib/oop"),r=n("./range").Range,u=function(){this.$options={}};(function(){this.set=function(n){return f.mixin(this.$options,n),this};this.getOptions=function(){return i.copyObject(this.$options)};this.setOptions=function(n){this.$options=n};this.find=function(n){var i=this.$options,u=this.$matchIterator(n,i),t;return u?(t=null,u.forEach(function(n,u,f){if(n.start)t=n;else{var e=n.offset+(f||0);if(t=new r(u,e,u,e+n.length),!n.length&&i.start&&i.start.start&&0!=i.skipCurrent&&t.isEqual(i.start))return t=null,!1}return!0}),t):!1};this.findAll=function(n){var l=this.$options,a,s,p,e,u,y,t,v;if(!l.needle)return[];this.$assembleRegExp(l);var o=l.range,h=o?n.getLines(o.start.row,o.end.row):n.doc.getAllLines(),f=[],c=l.re;if(l.$isMultiLine){s=c.length;p=h.length-s;n:for(e=c.offset||0;p>=e;e++){for(t=0;s>t;t++)if(-1==h[e+t].search(c[t]))continue n;var w=h[e],k=h[e+s-1],b=w.length-w.match(c[0])[0].length,d=k.match(c[s-1])[0].length;a&&a.end.row===e&&a.end.column>b||(f.push(a=new r(e,b,e+s-1,d)),s>2&&(e=e+s-2))}}else for(u=0;u<h.length;u++)for(y=i.getMatchOffsets(h[u],c),t=0;t<y.length;t++)v=y[t],f.push(new r(u,v.offset,u,v.offset+v.length));if(o){for(var g=o.start.column,nt=o.start.column,u=0,t=f.length-1;t>u&&f[u].start.column<g&&f[u].start.row==o.start.row;)u++;for(;t>u&&f[t].end.column>nt&&f[t].end.row==o.end.row;)t--;for(f=f.slice(u,t+1),u=0,t=f.length;t>u;u++)f[u].start.row+=o.start.row,f[u].end.row+=o.start.row}return f};this.replace=function(n,t){var u=this.$options,f=this.$assembleRegExp(u),e,i,r;if(u.$isMultiLine)return t;if(f){if(e=f.exec(n),!e||e[0].length!=n.length)return null;if(t=n.replace(f,t),u.preserveCase){for(t=t.split(""),i=Math.min(n.length,n.length);i--;)r=n[i],t[i]=r&&r.toLowerCase()!=r?t[i].toUpperCase():t[i].toLowerCase();t=t.join("")}return t}};this.$matchIterator=function(n,t){var u=this.$assembleRegExp(t),f,e,o,s;return u?(t.$isMultiLine?(e=u.length,o=function(t,i,o){var c=t.search(u[0]),s,l,h;if(-1!=c){for(s=1;e>s;s++)if(t=n.getLine(i+s),-1==t.search(u[s]))return;return l=t.match(u[e-1])[0].length,h=new r(i,c,i+e-1,l),1==u.offset?(h.start.row--,h.start.column=Number.MAX_VALUE):o&&(h.start.column+=o),f(h)?!0:void 0}}):o=t.backwards?function(n,t,r){for(var o=i.getMatchOffsets(n,u),e=o.length-1;e>=0;e--)if(f(o[e],t,r))return!0}:function(n,t,r){for(var o=i.getMatchOffsets(n,u),e=0;e<o.length;e++)if(f(o[e],t,r))return!0},s=this.$lineIterator(n,t),{forEach:function(n){f=n;s.forEach(o)}}):!1};this.$assembleRegExp=function(n,t){var r,u,f;if(n.needle instanceof RegExp)return n.re=n.needle;if(r=n.needle,!n.needle)return n.re=!1;if(n.regExp||(r=i.escapeRegExp(r)),n.wholeWord&&(r="\\b"+r+"\\b"),u=n.caseSensitive?"gm":"gmi",n.$isMultiLine=!t&&/[\n\r]/.test(r),n.$isMultiLine)return n.re=this.$assembleMultilineRegExp(r,u);try{f=new RegExp(r,u)}catch(e){f=!1}return n.re=f};this.$assembleMultilineRegExp=function(n,t){for(var r=n.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],u=0;u<r.length;u++)try{i.push(new RegExp(r[u],t))}catch(f){return!1}return""==r[0]?(i.shift(),i.offset=1):i.offset=0,i};this.$lineIterator=function(n,t){var e=1==t.backwards,o=0!=t.skipCurrent,r=t.range,i=t.start;i||(i=r?r[e?"end":"start"]:n.selection.getRange());i.start&&(i=i[o!=e?"end":"start"]);var u=r?r.start.row:0,f=r?r.end.row:n.getLength()-1,s=e?function(r){var e=i.row,o=n.getLine(e).substring(0,i.column);if(!r(o,e)){for(e--;e>=u;e--)if(r(n.getLine(e),e))return;if(0!=t.wrap)for(e=f,u=i.row;e>=u;e--)if(r(n.getLine(e),e))return}}:function(r){var e=i.row,o=n.getLine(e).substr(i.column);if(!r(o,e,i.column)){for(e+=1;f>=e;e++)if(r(n.getLine(e),e))return;if(0!=t.wrap)for(e=u,f=i.row;f>=e;e++)if(r(n.getLine(e),e))return}};return{forEach:s}}}).call(u.prototype);t.Search=u});ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,t){"use strict";function r(n,t){this.platform=t||(e.isMac?"mac":"win");this.commands={};this.commandKeyBinding={};this.addCommands(n);this.$singleCommand=!0}function f(n,t){r.call(this,n,t);this.$singleCommand=!1}var i=n("../lib/keys"),e=n("../lib/useragent"),u=i.KEY_MODS;f.prototype=r.prototype,function(){function n(n){return"object"==typeof n&&n.bindKey&&n.bindKey.position||0}this.addCommand=function(n){this.commands[n.name]&&this.removeCommand(n);this.commands[n.name]=n;n.bindKey&&this._buildKeyHash(n)};this.removeCommand=function(n,t){var e=n&&("string"==typeof n?n:n.name),r,u,i,f;n=this.commands[e];t||delete this.commands[e];r=this.commandKeyBinding;for(u in r)i=r[u],i==n?delete r[u]:Array.isArray(i)&&(f=i.indexOf(n),-1!=f&&(i.splice(f,1),1==i.length&&(r[u]=i[0])))};this.bindKey=function(n,t,i){return"object"==typeof n&&n&&(void 0==i&&(i=n.position),n=n[this.platform]),n?"function"==typeof t?this.addCommand({exec:t,bindKey:n,name:t.name||n}):void n.split("|").forEach(function(n){var r="",f,e,o;-1!=n.indexOf(" ")&&(f=n.split(/\s+/),n=f.pop(),f.forEach(function(n){var t=this.parseKeys(n),i=u[t.hashId]+t.key;r+=(r?" ":"")+i;this._addCommandToBinding(r,"chainKeys")},this),r+=" ");e=this.parseKeys(n);o=u[e.hashId]+e.key;this._addCommandToBinding(r+o,t,i)},this):void 0};this._addCommandToBinding=function(t,i,r){var f,u=this.commandKeyBinding,e,o,s;if(i)if(!u[t]||this.$singleCommand)u[t]=i;else{for(Array.isArray(u[t])?-1!=(f=u[t].indexOf(i))&&u[t].splice(f,1):u[t]=[u[t]],"number"!=typeof r&&(r=r||i.isDefault?-100:n(i)),e=u[t],f=0;f<e.length;f++)if(o=e[f],s=n(o),s>r)break;e.splice(f,0,i)}else delete u[t]};this.addCommands=function(n){n&&Object.keys(n).forEach(function(t){var i=n[t];if(i){if("string"==typeof i)return this.bindKey(i,t);"function"==typeof i&&(i={exec:i});"object"==typeof i&&(i.name||(i.name=t),this.addCommand(i))}},this)};this.removeCommands=function(n){Object.keys(n).forEach(function(t){this.removeCommand(n[t])},this)};this.bindKeys=function(n){Object.keys(n).forEach(function(t){this.bindKey(t,n[t])},this)};this._buildKeyHash=function(n){this.bindKey(n.bindKey,n)};this.parseKeys=function(n){var t=n.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(n){return n}),r=t.pop(),o=i[r],f,u,e;if(i.FUNCTION_KEYS[o])r=i.FUNCTION_KEYS[o].toLowerCase();else{if(!t.length)return{key:r,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:r.toUpperCase(),hashId:-1}}for(f=0,u=t.length;u--;){if(e=i.KEY_MODS[t[u]],null==e)return"undefined"!=typeof console&&console.error("invalid modifier "+t[u]+" in "+n),!1;f|=e}return{key:r,hashId:f}};this.findKeyCommand=function(n,t){var i=u[n]+t;return this.commandKeyBinding[i]};this.handleKeyboard=function(n,t,i,r){if(!(0>r)){var e=u[t]+i,f=this.commandKeyBinding[e];return n.$keyChain&&(n.$keyChain+=" "+e,f=this.commandKeyBinding[n.$keyChain]||f),!f||"chainKeys"!=f&&"chainKeys"!=f[f.length-1]?(n.$keyChain&&(t&&4!=t||1!=i.length?(-1==t||r>0)&&(n.$keyChain=""):n.$keyChain=n.$keyChain.slice(0,-e.length-1)),{command:f}):(n.$keyChain=n.$keyChain||e,{command:"null"})}};this.getStatusText=function(n,t){return t.$keyChain||""}}.call(r.prototype);t.HashHandler=r;t.MultiHashHandler=f});ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(n,t){"use strict";var r=n("../lib/oop"),u=n("../keyboard/hash_handler").MultiHashHandler,f=n("../lib/event_emitter").EventEmitter,i=function(n,t){u.call(this,t,n);this.byName=this.commands;this.setDefaultHandler("exec",function(n){return n.command.exec(n.editor,n.args||{})})};r.inherits(i,u),function(){r.implement(this,f);this.exec=function(n,t,i){var u,r;if(Array.isArray(n)){for(u=n.length;u--;)if(this.exec(n[u],t,i))return!0;return!1}return("string"==typeof n&&(n=this.commands[n]),!n)?!1:t&&t.$readOnly&&!n.readOnly?!1:(r={editor:t,command:n,args:i},r.returnValue=this._emit("exec",r),this._signal("afterExec",r),r.returnValue!==!1)};this.toggleRecording=function(n){if(!this.$inReplay)return(n&&n._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(n){this.macro.push([n.command,n.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0))};this.replay=function(n){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(n);try{this.$inReplay=!0;this.macro.forEach(function(t){"string"==typeof t?this.exec(t,n):this.exec(t[0],n,t[1])},this)}finally{this.$inReplay=!1}}};this.trimMacro=function(n){return n.map(function(n){return"string"!=typeof n[0]&&(n[0]=n[0].name),n[1]||(n=n[0]),n})}}.call(i.prototype);t.CommandManager=i});ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(n,t){"use strict";function i(n,t){return{win:n,mac:t}}var f=n("../lib/lang"),r=n("../config"),u=n("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:i("Ctrl-,","Command-,"),exec:function(n){r.loadModule("ace/ext/settings_menu",function(t){t.init(n);n.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:i("Alt-E","Ctrl-E"),exec:function(n){r.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(n,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:i("Alt-Shift-E","Ctrl-Shift-E"),exec:function(n){r.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(n,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:i("Ctrl-A","Command-A"),exec:function(n){n.selectAll()},readOnly:!0},{name:"centerselection",bindKey:i(null,"Ctrl-L"),exec:function(n){n.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:i("Ctrl-L","Command-L"),exec:function(n){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||n.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:i("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(n){n.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:i("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(n){n.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:i("F2","F2"),exec:function(n){n.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:i("Alt-F2","Alt-F2"),exec:function(n){n.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(n){n.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:i("Alt-0","Command-Option-0"),exec:function(n){n.session.foldAll();n.session.unfold(n.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:i("Alt-Shift-0","Command-Option-Shift-0"),exec:function(n){n.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:i("Ctrl-K","Command-G"),exec:function(n){n.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:i("Ctrl-Shift-K","Command-Shift-G"),exec:function(n){n.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:i("Alt-K","Ctrl-G"),exec:function(n){n.selection.isEmpty()?n.selection.selectWord():n.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:i("Alt-Shift-K","Ctrl-Shift-G"),exec:function(n){n.selection.isEmpty()?n.selection.selectWord():n.findPrevious()},readOnly:!0},{name:"find",bindKey:i("Ctrl-F","Command-F"),exec:function(n){r.loadModule("ace/ext/searchbox",function(t){t.Search(n)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(n){n.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:i("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(n){n.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:i("Ctrl-Home","Command-Home|Command-Up"),exec:function(n){n.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:i("Shift-Up","Shift-Up"),exec:function(n){n.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:i("Up","Up|Ctrl-P"),exec:function(n,t){n.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:i("Ctrl-Shift-End","Command-Shift-Down"),exec:function(n){n.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:i("Ctrl-End","Command-End|Command-Down"),exec:function(n){n.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:i("Shift-Down","Shift-Down"),exec:function(n){n.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:i("Down","Down|Ctrl-N"),exec:function(n,t){n.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:i("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(n){n.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:i("Ctrl-Left","Option-Left"),exec:function(n){n.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:i("Alt-Shift-Left","Command-Shift-Left"),exec:function(n){n.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:i("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(n){n.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:i("Shift-Left","Shift-Left"),exec:function(n){n.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:i("Left","Left|Ctrl-B"),exec:function(n,t){n.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:i("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(n){n.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:i("Ctrl-Right","Option-Right"),exec:function(n){n.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:i("Alt-Shift-Right","Command-Shift-Right"),exec:function(n){n.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:i("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(n){n.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:i("Shift-Right","Shift-Right"),exec:function(n){n.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:i("Right","Right|Ctrl-F"),exec:function(n,t){n.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(n){n.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:i(null,"Option-PageDown"),exec:function(n){n.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:i("PageDown","PageDown|Ctrl-V"),exec:function(n){n.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(n){n.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:i(null,"Option-PageUp"),exec:function(n){n.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(n){n.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:i("Ctrl-Up",null),exec:function(n){n.renderer.scrollBy(0,-2*n.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:i("Ctrl-Down",null),exec:function(n){n.renderer.scrollBy(0,2*n.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(n){n.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(n){n.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:i("Ctrl-Alt-E","Command-Option-E"),exec:function(n){n.commands.toggleRecording(n)},readOnly:!0},{name:"replaymacro",bindKey:i("Ctrl-Shift-E","Command-Shift-E"),exec:function(n){n.commands.replay(n)},readOnly:!0},{name:"jumptomatching",bindKey:i("Ctrl-P","Ctrl-P"),exec:function(n){n.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:i("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(n){n.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:i("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(n){n.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:i(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(){},readOnly:!0},{name:"cut",exec:function(n){var t=n.getSelectionRange();n._emit("cut",t);n.selection.isEmpty()||(n.session.remove(t),n.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(n,t){n.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:i("Ctrl-D","Command-D"),exec:function(n){n.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:i("Ctrl-Shift-D","Command-Shift-D"),exec:function(n){n.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:i("Ctrl-Alt-S","Command-Alt-S"),exec:function(n){n.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:i("Ctrl-/","Command-/"),exec:function(n){n.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:i("Ctrl-Shift-/","Command-Shift-/"),exec:function(n){n.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:i("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(n){n.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:i("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(n){n.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:i("Ctrl-H","Command-Option-F"),exec:function(n){r.loadModule("ace/ext/searchbox",function(t){t.Search(n,!0)})}},{name:"undo",bindKey:i("Ctrl-Z","Command-Z"),exec:function(n){n.undo()}},{name:"redo",bindKey:i("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(n){n.redo()}},{name:"copylinesup",bindKey:i("Alt-Shift-Up","Command-Option-Up"),exec:function(n){n.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:i("Alt-Up","Option-Up"),exec:function(n){n.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:i("Alt-Shift-Down","Command-Option-Down"),exec:function(n){n.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:i("Alt-Down","Option-Down"),exec:function(n){n.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:i("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(n){n.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:i("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(n){n.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:i("Shift-Delete",null),exec:function(n){return n.selection.isEmpty()?void n.remove("left"):!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:i("Alt-Backspace","Command-Backspace"),exec:function(n){n.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:i("Alt-Delete","Ctrl-K"),exec:function(n){n.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:i("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(n){n.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:i("Ctrl-Delete","Alt-Delete"),exec:function(n){n.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:i("Shift-Tab","Shift-Tab"),exec:function(n){n.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:i("Tab","Tab"),exec:function(n){n.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:i("Ctrl-[","Ctrl-["),exec:function(n){n.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:i("Ctrl-]","Ctrl-]"),exec:function(n){n.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(n,t){n.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(n,t){n.insert(f.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:i(null,"Ctrl-O"),exec:function(n){n.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:i("Ctrl-T","Ctrl-T"),exec:function(n){n.transposeLetters()},multiSelectAction:function(n){n.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:i("Ctrl-U","Ctrl-U"),exec:function(n){n.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:i("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(n){n.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:i("Ctrl-Shift-L","Command-Shift-L"),exec:function(n){var t=n.selection.getRange();t.start.column=t.end.column=0;t.end.row++;n.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:i(null,null),exec:function(n){for(var r,h=n.selection.isBackwards(),t=h?n.selection.getSelectionLead():n.selection.getSelectionAnchor(),e=h?n.selection.getSelectionAnchor():n.selection.getSelectionLead(),i=n.session.doc.getLine(t.row).length,l=n.session.doc.getTextRange(n.selection.getRange()),c=l.replace(/\n\s*/," ").length,o=n.session.doc.getLine(t.row),s=t.row+1;s<=e.row+1;s++)r=f.stringTrimLeft(f.stringTrimRight(n.session.doc.getLine(s))),0!==r.length&&(r=" "+r),o+=r;e.row+1<n.session.doc.getLength()-1&&(o+=n.session.doc.getNewLineCharacter());n.clearSelection();n.session.doc.replace(new u(t.row,0,e.row+2,0),o);c>0?(n.selection.moveCursorTo(t.row,t.column),n.selection.selectTo(t.row,t.column+c)):(i=n.session.doc.getLine(t.row).length>i?i+1:i,n.selection.moveCursorTo(t.row,i))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:i(null,null),exec:function(n){var f=n.session.doc.getLength()-1,e=n.session.doc.getLine(f).length,i=n.selection.rangeList.ranges,r=[],t;for(i.length<1&&(i=[n.selection.getRange()]),t=0;t<i.length;t++)t==i.length-1&&(i[t].end.row!==f||i[t].end.column!==e)&&r.push(new u(i[t].end.row,i[t].end.column,f,e)),0===t?(0!==i[t].start.row||0!==i[t].start.column)&&r.push(new u(0,0,i[t].start.row,i[t].start.column)):r.push(new u(i[t-1].end.row,i[t-1].end.column,i[t].start.row,i[t].start.column));for(n.exitMultiSelectMode(),n.clearSelection(),t=0;t<r.length;t++)n.selection.addRange(r[t],!1)},readOnly:!0,scrollIntoView:"none"}]});ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(n,t){"use strict";n("./lib/fixoldbrowsers");var e=n("./lib/oop"),o=n("./lib/dom"),u=n("./lib/lang"),h=n("./lib/useragent"),c=n("./keyboard/textinput").TextInput,l=n("./mouse/mouse_handler").MouseHandler,a=n("./mouse/fold_handler").FoldHandler,v=n("./keyboard/keybinding").KeyBinding,y=n("./edit_session").EditSession,p=n("./search").Search,i=n("./range").Range,w=n("./lib/event_emitter").EventEmitter,b=n("./commands/command_manager").CommandManager,k=n("./commands/default_commands").commands,r=n("./config"),s=n("./token_iterator").TokenIterator,f=function(n,t){var i=n.getContainerElement();this.container=i;this.renderer=n;this.commands=new b(h.isMac?"mac":"win",k);this.textInput=new c(n.getTextAreaContainer(),this);this.renderer.textarea=this.textInput.getElement();this.keyBinding=new v(this);this.$mouseHandler=new l(this);new a(this);this.$blockScrolling=0;this.$search=(new p).set({wrap:!0});this.$historyTracker=this.$historyTracker.bind(this);this.commands.on("exec",this.$historyTracker);this.$initOperationListeners();this._$emitInputEvent=u.delayedCall(function(){this._signal("input",{});this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this));this.on("change",function(n,t){t._$emitInputEvent.schedule(31)});this.setSession(t||new y(""));r.resetOptions(this);r._signal("editor",this)};(function(){e.implement(this,w);this.$initOperationListeners=function(){this.selections=[];this.commands.on("exec",this.startOperation.bind(this),!0);this.commands.on("afterExec",this.endOperation.bind(this),!0);this.$opResetTimer=u.delayedCall(this.endOperation.bind(this));this.on("change",function(){this.curOp||this.startOperation();this.curOp.docChanged=!0}.bind(this),!0);this.on("changeSelection",function(){this.curOp||this.startOperation();this.curOp.selectionChanged=!0}.bind(this),!0)};this.curOp=null;this.prevOp={};this.startOperation=function(n){if(this.curOp){if(!n||this.curOp.command)return;this.prevOp=this.curOp}n||(this.previousCommand=null,n={});this.$opResetTimer.schedule();this.curOp={command:n.command||{},args:n.args,scrollTop:this.renderer.scrollTop};this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++};this.endOperation=function(n){var i,t,r,u;if(this.curOp){if(n&&n.returnValue===!1)return this.curOp=null;if(this._signal("beforeEndOperation"),i=this.curOp.command,i.name&&this.$blockScrolling>0&&this.$blockScrolling--,t=i&&i.scrollIntoView,t){switch(t){case"center-animate":t="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":r=this.selection.getRange();u=this.renderer.layerConfig;(r.start.row>=u.lastRow||r.end.row<=u.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==t&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp;this.curOp=null}};this.$mergeableCommands=["backspace","del","insertstring"];this.$historyTracker=function(n){var u;if(this.$mergeUndoDeltas){var i=this.prevOp,r=this.$mergeableCommands,t=i.command&&n.command.name==i.command.name;"insertstring"==n.command.name?(u=n.args,void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),t=t&&this.mergeNextCommand&&(!/\s/.test(u)||/\s/.test(i.args)),this.mergeNextCommand=!0):t=t&&-1!==r.indexOf(n.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(t=!1);t?this.session.mergeUndoDeltas=!0:-1!==r.indexOf(n.command.name)&&(this.sequenceStartTime=Date.now())}};this.setKeyboardHandler=function(n,t){if(n&&"string"==typeof n){this.$keybindingId=n;var i=this;r.loadModule(["keybinding",n],function(r){i.$keybindingId==n&&i.keyBinding.setKeyboardHandler(r&&r.handler);t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(n),t&&t()};this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()};this.setSession=function(n){var t,i;this.session!=n&&(this.curOp&&this.endOperation(),this.curOp={},t=this.session,t&&(this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),i=this.session.getSelection(),i.off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)),this.session=n,n?(this.$onDocumentChange=this.onDocumentChange.bind(this),n.on("change",this.$onDocumentChange),this.renderer.setSession(n),this.$onChangeMode=this.onChangeMode.bind(this),n.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),n.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),n.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),n.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),n.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),n.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=n.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(n)),this._signal("changeSession",{session:n,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),n&&n._signal("changeEditor",{editor:this}))};this.getSession=function(){return this.session};this.setValue=function(n,t){return this.session.doc.setValue(n),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),n};this.getValue=function(){return this.session.getValue()};this.getSelection=function(){return this.selection};this.resize=function(n){this.renderer.onResize(n)};this.setTheme=function(n,t){this.renderer.setTheme(n,t)};this.getTheme=function(){return this.renderer.getTheme()};this.setStyle=function(n){this.renderer.setStyle(n)};this.unsetStyle=function(n){this.renderer.unsetStyle(n)};this.getFontSize=function(){return this.getOption("fontSize")||o.computedStyle(this.container,"fontSize")};this.setFontSize=function(n){this.setOption("fontSize",n)};this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var n=this;this.$highlightPending=!0;setTimeout(function(){var t,r,u;n.$highlightPending=!1;t=n.session;t&&t.bgTokenizer&&(r=t.findMatchingBracket(n.getCursorPosition()),r?u=new i(r.row,r.column,r.row,r.column+1):t.$mode.getMatching&&(u=t.$mode.getMatching(n.session)),u&&(t.$bracketHighlight=t.addMarker(u,"ace_bracket","text")))},50)}};this.$highlightTags=function(){if(!this.$highlightTagPending){var n=this;this.$highlightTagPending=!0;setTimeout(function(){var t;if(n.$highlightTagPending=!1,t=n.session,t&&t.bgTokenizer){var h=n.getCursorPosition(),f=new s(n.session,h.row,h.column),r=f.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1==r.type.indexOf("tag-open")||(r=f.stepForward())){var c=r.value,e=0,u=f.stepBackward();if("<"==u.value){do u=r,r=f.stepForward(),r&&r.value===c&&-1!==r.type.indexOf("tag-name")&&("<"===u.value?e++:"<\/"===u.value&&e--);while(r&&e>=0)}else{do r=u,u=f.stepBackward(),r&&r.value===c&&-1!==r.type.indexOf("tag-name")&&("<"===u.value?e++:"<\/"===u.value&&e--);while(u&&0>=e);f.stepForward()}if(!r)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var l=f.getCurrentTokenRow(),a=f.getCurrentTokenColumn(),o=new i(l,a,l,a+r.value.length);t.$tagHighlight&&0!==o.compareRange(t.$backMarkers[t.$tagHighlight].range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null);o&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(o,"ace_bracket","text"))}}},50)}};this.focus=function(){var n=this;setTimeout(function(){n.textInput.focus()});this.textInput.focus()};this.isFocused=function(){return this.textInput.isFocused()};this.blur=function(){this.textInput.blur()};this.onFocus=function(n){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",n))};this.onBlur=function(n){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",n))};this.$cursorChange=function(){this.renderer.updateCursor()};this.onDocumentChange=function(n){var t=this.session.$useWrapMode,i=n.start.row==n.end.row?n.end.row:1/0;this.renderer.updateLines(n.start.row,i,t);this._signal("change",n);this.$cursorChange();this.$updateHighlightActiveLine()};this.onTokenizerUpdate=function(n){var t=n.data;this.renderer.updateLines(t.first,t.last)};this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())};this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())};this.onCursorChange=function(){this.$cursorChange();this.$blockScrolling||(r.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView());this.$highlightBrackets();this.$highlightTags();this.$updateHighlightActiveLine();this._signal("changeSelection")};this.$updateHighlightActiveLine=function(){var n,t=this.getSession(),r;(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(n=this.getCursorPosition()),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(n=!1)),t.$highlightLineMarker&&!n)?(t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null):!t.$highlightLineMarker&&n?(r=new i(n.row,n.column,n.row,1/0),r.id=t.addMarker(r,"ace_active-line","screenLine"),t.$highlightLineMarker=r):n&&(t.$highlightLineMarker.start.row=n.row,t.$highlightLineMarker.end.row=n.row,t.$highlightLineMarker.start.column=n.column,t._signal("changeBackMarker"))};this.onSelectionChange=function(){var n=this.session,t,i,r;(n.$selectionMarker&&n.removeMarker(n.$selectionMarker),n.$selectionMarker=null,this.selection.isEmpty())?this.$updateHighlightActiveLine():(t=this.selection.getRange(),i=this.getSelectionStyle(),n.$selectionMarker=n.addMarker(t,"ace_selection",i));r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r);this._signal("changeSelection")};this.$getSelectionHighLightRegexp=function(){var e=this.session,n=this.getSelectionRange();if(!n.isEmpty()&&!n.isMultiLine()){var r=n.start.column-1,u=n.end.column+1,i=e.getLine(n.start.row),f=i.length,t=i.substring(Math.max(r,0),Math.min(u,f));if(!(r>=0&&/^[\w\d]/.test(t)||f>=u&&/[\w\d]$/.test(t))&&(t=i.substring(n.start.column,n.end.column),/^[\w\d]+$/.test(t)))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:t})}};this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()};this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()};this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()};this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())};this.onChangeMode=function(n){this.renderer.updateText();this._emit("changeMode",n)};this.onChangeWrapLimit=function(){this.renderer.updateFull()};this.onChangeWrapMode=function(){this.renderer.onResize(!0)};this.onChangeFold=function(){this.$updateHighlightActiveLine();this.renderer.updateFull()};this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())};this.getCopyText=function(){var n=this.getSelectedText();return this._signal("copy",n),n};this.onCopy=function(){this.commands.exec("copy",this)};this.onCut=function(){this.commands.exec("cut",this)};this.onPaste=function(n,t){var i={text:n,event:t};this.commands.exec("paste",this,i)};this.$handlePaste=function(n){var i,t,r,u,f;if("string"==typeof n&&(n={text:n}),this._signal("paste",n),i=n.text,!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(i);else{if(t=i.split(/\r\n|\r|\n/),r=this.selection.rangeList.ranges,t.length>r.length||t.length<2||!t[1])return this.commands.exec("insertstring",this,i);for(u=r.length;u--;)f=r[u],f.isEmpty()||this.session.remove(f),this.session.insert(f.start,t[u])}};this.execCommand=function(n,t){return this.commands.exec(n,this,t)};this.insert=function(n,t){var f=this.session,s=f.getMode(),r=this.getCursorPosition(),u,e,o,c,a;this.getBehavioursEnabled()&&!t&&(u=s.transformAction(f.getState(r.row),"insertion",this,f,n),u&&(n!==u.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),n=u.text));("\t"==n&&(n=this.session.getTabString()),this.selection.isEmpty())?this.session.getOverwrite()&&(e=new i.fromPoints(r,r),e.end.column+=n.length,this.session.remove(e)):(e=this.getSelectionRange(),r=this.session.remove(e),this.clearSelection());("\n"==n||"\r\n"==n)&&(o=f.getLine(r.row),r.column>o.search(/\S|$/)&&(c=o.substr(r.column).search(/\S|$/),f.doc.removeInLine(r.row,r.column,r.column+c)));this.clearSelection();var l=r.column,h=f.getState(r.row),o=f.getLine(r.row),v=s.checkOutdent(h,o,n);f.insert(r,n);(u&&u.selection&&(2==u.selection.length?this.selection.setSelectionRange(new i(r.row,l+u.selection[0],r.row,l+u.selection[1])):this.selection.setSelectionRange(new i(r.row+u.selection[0],u.selection[1],r.row+u.selection[2],u.selection[3]))),f.getDocument().isNewLine(n))&&(a=s.getNextLineIndent(h,o.slice(0,r.column),f.getTabString()),f.insert({row:r.row+1,column:0},a));v&&s.autoOutdent(h,f,r.row)};this.onTextInput=function(n){this.keyBinding.onTextInput(n)};this.onCommandKey=function(n,t,i){this.keyBinding.onCommandKey(n,t,i)};this.setOverwrite=function(n){this.session.setOverwrite(n)};this.getOverwrite=function(){return this.session.getOverwrite()};this.toggleOverwrite=function(){this.session.toggleOverwrite()};this.setScrollSpeed=function(n){this.setOption("scrollSpeed",n)};this.getScrollSpeed=function(){return this.getOption("scrollSpeed")};this.setDragDelay=function(n){this.setOption("dragDelay",n)};this.getDragDelay=function(){return this.getOption("dragDelay")};this.setSelectionStyle=function(n){this.setOption("selectionStyle",n)};this.getSelectionStyle=function(){return this.getOption("selectionStyle")};this.setHighlightActiveLine=function(n){this.setOption("highlightActiveLine",n)};this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")};this.setHighlightGutterLine=function(n){this.setOption("highlightGutterLine",n)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.setHighlightSelectedWord=function(n){this.setOption("highlightSelectedWord",n)};this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord};this.setAnimatedScroll=function(n){this.renderer.setAnimatedScroll(n)};this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()};this.setShowInvisibles=function(n){this.renderer.setShowInvisibles(n)};this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()};this.setDisplayIndentGuides=function(n){this.renderer.setDisplayIndentGuides(n)};this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()};this.setShowPrintMargin=function(n){this.renderer.setShowPrintMargin(n)};this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()};this.setPrintMarginColumn=function(n){this.renderer.setPrintMarginColumn(n)};this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()};this.setReadOnly=function(n){this.setOption("readOnly",n)};this.getReadOnly=function(){return this.getOption("readOnly")};this.setBehavioursEnabled=function(n){this.setOption("behavioursEnabled",n)};this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")};this.setWrapBehavioursEnabled=function(n){this.setOption("wrapBehavioursEnabled",n)};this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")};this.setShowFoldWidgets=function(n){this.setOption("showFoldWidgets",n)};this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")};this.setFadeFoldWidgets=function(n){this.setOption("fadeFoldWidgets",n)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.remove=function(n){var t,r,u;if(this.selection.isEmpty()&&("left"==n?this.selection.selectLeft():this.selection.selectRight()),t=this.getSelectionRange(),this.getBehavioursEnabled()){var i=this.session,e=i.getState(t.start.row),f=i.getMode().transformAction(e,"deletion",this,i,t);0===t.end.column&&(r=i.getTextRange(t),"\n"==r[r.length-1]&&(u=i.getLine(t.end.row),/^\s+$/.test(u)&&(t.end.column=u.length)));f&&(t=f)}this.session.remove(t);this.clearSelection()};this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var n=this.getSelectionRange();n.start.column==n.end.column&&n.start.row==n.end.row&&(n.end.column=0,n.end.row++);this.session.remove(n);this.clearSelection()};this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var n=this.getCursorPosition();this.insert("\n");this.moveCursorToPosition(n)};this.transposeLetters=function(){var t,n,u,f,r;this.selection.isEmpty()&&(t=this.getCursorPosition(),n=t.column,0!==n&&(r=this.session.getLine(t.row),n<r.length?(u=r.charAt(n)+r.charAt(n-1),f=new i(t.row,n-1,t.row,n+1)):(u=r.charAt(n-1)+r.charAt(n-2),f=new i(t.row,n-2,t.row,n)),this.session.replace(f,u)))};this.toLowerCase=function(){var i=this.getSelectionRange(),n,t;this.selection.isEmpty()&&this.selection.selectWord();n=this.getSelectionRange();t=this.session.getTextRange(n);this.session.replace(n,t.toLowerCase());this.selection.setSelectionRange(i)};this.toUpperCase=function(){var i=this.getSelectionRange(),n,t;this.selection.isEmpty()&&this.selection.selectWord();n=this.getSelectionRange();t=this.session.getTextRange(n);this.session.replace(n,t.toUpperCase());this.selection.setSelectionRange(i)};this.indent=function(){var t=this.session,n=this.getSelectionRange(),o,r,e,i;if(n.start.row<n.end.row||n.start.column<n.end.column&&(o=t.getTextRange(n),!/^\s+$/.test(o)))return r=this.$getSelectedRows(),void t.indentRows(r.first,r.last,"\t");var c=t.getLine(n.start.row),s=n.start,f=t.getTabSize(),h=t.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())i=f-h%f,e=u.stringRepeat(" ",i);else{for(i=h%f;" "==c[n.start.column-1]&&i;)n.start.column--,i--;this.selection.setSelectionRange(n);e="\t"}return this.insert(e)};this.blockIndent=function(){var n=this.$getSelectedRows();this.session.indentRows(n.first,n.last,"\t")};this.blockOutdent=function(){var n=this.session.getSelection();this.session.outdentRows(n.getRange())};this.sortLines=function(){for(var t=this.$getSelectedRows(),u=this.session,f=[],r,e,n=t.first;n<=t.last;n++)f.push(u.getLine(n));for(f.sort(function(n,t){return n.toLowerCase()<t.toLowerCase()?-1:n.toLowerCase()>t.toLowerCase()?1:0}),r=new i(0,0,0,0),n=t.first;n<=t.last;n++)e=u.getLine(n),r.start.row=n,r.end.row=n,r.end.column=e.length,u.replace(r,f[n-t.first])};this.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),n=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,n.first,n.last)};this.toggleBlockComment=function(){var n=this.getCursorPosition(),t=this.session.getState(n.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,i,n)};this.getNumberAt=function(n,t){var r=/[\-]?[0-9]+(?:\.[0-9]+)?/g,u,i;for(r.lastIndex=0,u=this.session.getLine(n);r.lastIndex<t;)if(i=r.exec(u),i.index<=t&&i.index+i[0].length>=t)return{value:i[0],start:i.index,end:i.index+i[0].length};return null};this.modifyNumber=function(n){var u=this.selection.getCursor().row,r=this.selection.getCursor().column,l=new i(u,r-1,u,r),h=this.session.getTextRange(l),t,s,c;if(!isNaN(parseFloat(h))&&isFinite(h)&&(t=this.getNumberAt(u,r),t)){var e=t.value.indexOf(".")>=0?t.start+t.value.indexOf(".")+1:t.end,o=t.start+t.value.length-e,f=parseFloat(t.value);f*=Math.pow(10,o);n*=e!==t.end&&e>r?Math.pow(10,t.end-r-1):Math.pow(10,t.end-r);f+=n;f/=Math.pow(10,o);s=f.toFixed(o);c=new i(u,t.start,u,t.end);this.session.replace(c,s);this.moveCursorTo(u,Math.max(t.start+1,r+s.length-t.value.length))}};this.removeLines=function(){var n=this.$getSelectedRows();this.session.removeFullLines(n.first,n.last);this.clearSelection()};this.duplicateSelection=function(){var t=this.selection,i=this.session,n=t.getRange(),f=t.isBackwards(),r,u,e;n.isEmpty()?(r=n.start.row,i.duplicateLines(r,r)):(u=f?n.start:n.end,e=i.insert(u,i.getTextRange(n),!1),n.start=u,n.end=e,t.setSelectionRange(n,f))};this.moveLinesDown=function(){this.$moveLines(1,!1)};this.moveLinesUp=function(){this.$moveLines(-1,!1)};this.moveText=function(n,t,i){return this.session.moveText(n,t,i)};this.copyLinesUp=function(){this.$moveLines(-1,!0)};this.copyLinesDown=function(){this.$moveLines(1,!0)};this.$moveLines=function(n,t){var f,l,r=this.selection,h,u,o,y,s,c;if(!r.inMultiSelectMode||this.inVirtualSelectionMode)h=r.toOrientedRange(),f=this.$getSelectedRows(h),l=this.session.$moveLines(f.first,f.last,t?0:n),t&&-1==n&&(l=0),h.moveBy(l,0),r.fromOrientedRange(h);else{u=r.rangeList.ranges;r.rangeList.detach(this.session);this.inVirtualSelectionMode=!0;for(var e=0,a=0,v=u.length,i=0;v>i;i++){for(o=i,u[i].moveBy(e,0),f=this.$getSelectedRows(u[i]),y=f.first,s=f.last;++i<v;){if(a&&u[i].moveBy(a,0),c=this.$getSelectedRows(u[i]),t&&c.first!=s)break;if(!t&&c.first>s+1)break;s=c.last}for(i--,e=this.session.$moveLines(y,s,t?0:n),t&&-1==n&&(o=i+1);i>=o;)u[o].moveBy(e,0),o++;t||(e=0);a+=e}r.fromOrientedRange(r.ranges[0]);r.rangeList.attach(this.session);this.inVirtualSelectionMode=!1}};this.$getSelectedRows=function(n){return n=(n||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(n.start.row),last:this.session.getRowFoldEnd(n.end.row)}};this.onCompositionStart=function(){this.renderer.showComposition(this.getCursorPosition())};this.onCompositionUpdate=function(n){this.renderer.setCompositionText(n)};this.onCompositionEnd=function(){this.renderer.hideComposition()};this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()};this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()};this.isRowVisible=function(n){return n>=this.getFirstVisibleRow()&&n<=this.getLastVisibleRow()};this.isRowFullyVisible=function(n){return n>=this.renderer.getFirstFullyVisibleRow()&&n<=this.renderer.getLastFullyVisibleRow()};this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1};this.$moveByPage=function(n,t){var i=this.renderer,r=this.renderer.layerConfig,u=n*Math.floor(r.height/r.lineHeight),f;this.$blockScrolling++;t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(u,0)}):t===!1&&(this.selection.moveCursorBy(u,0),this.selection.clearSelection());this.$blockScrolling--;f=i.scrollTop;i.scrollBy(0,u*r.lineHeight);null!=t&&i.scrollCursorIntoView(null,.5);i.animateScrolling(f)};this.selectPageDown=function(){this.$moveByPage(1,!0)};this.selectPageUp=function(){this.$moveByPage(-1,!0)};this.gotoPageDown=function(){this.$moveByPage(1,!1)};this.gotoPageUp=function(){this.$moveByPage(-1,!1)};this.scrollPageDown=function(){this.$moveByPage(1)};this.scrollPageUp=function(){this.$moveByPage(-1)};this.scrollToRow=function(n){this.renderer.scrollToRow(n)};this.scrollToLine=function(n,t,i,r){this.renderer.scrollToLine(n,t,i,r)};this.centerSelection=function(){var n=this.getSelectionRange(),t={row:Math.floor(n.start.row+(n.end.row-n.start.row)/2),column:Math.floor(n.start.column+(n.end.column-n.start.column)/2)};this.renderer.alignCursor(t,.5)};this.getCursorPosition=function(){return this.selection.getCursor()};this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())};this.getSelectionRange=function(){return this.selection.getRange()};this.selectAll=function(){this.$blockScrolling+=1;this.selection.selectAll();this.$blockScrolling-=1};this.clearSelection=function(){this.selection.clearSelection()};this.moveCursorTo=function(n,t){this.selection.moveCursorTo(n,t)};this.moveCursorToPosition=function(n){this.selection.moveCursorToPosition(n)};this.jumpToMatching=function(n,t){var c=this.getCursorPosition(),e=new s(this.session,c.row,c.column),h=e.getCurrentToken(),r=h||e.stepForward(),u,f,p;if(r){var y,v,l=!1,o={},a=c.column-r.start,w={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(r.value.match(/[{}()\[\]]/g)){for(;a<r.value.length&&!l;a++)if(w[r.value[a]])switch(v=w[r.value[a]]+"."+r.type.replace("rparen","lparen"),isNaN(o[v])&&(o[v]=0),r.value[a]){case"(":case"[":case"{":o[v]++;break;case")":case"]":case"}":o[v]--;-1===o[v]&&(y="bracket",l=!0)}}else r&&-1!==r.type.indexOf("tag-name")&&(isNaN(o[r.value])&&(o[r.value]=0),"<"===h.value?o[r.value]++:"<\/"===h.value&&o[r.value]--,-1===o[r.value]&&(y="tag",l=!0));l||(h=r,r=e.stepForward(),a=0)}while(r&&!l);if(y){if("bracket"===y)u=this.session.getBracketRange(c),u||(u=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn()+a-1,e.getCurrentTokenRow(),e.getCurrentTokenColumn()+a-1),f=u.start,(t||f.row===c.row&&Math.abs(f.column-c.column)<2)&&(u=this.session.getBracketRange(f)));else if("tag"===y){if(!r||-1===r.type.indexOf("tag-name"))return;if(p=r.value,u=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn()-2,e.getCurrentTokenRow(),e.getCurrentTokenColumn()-2),0===u.compare(c.row,c.column)){l=!1;do r=h,h=e.stepBackward(),h&&(-1!==h.type.indexOf("tag-close")&&u.setEnd(e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1),r.value===p&&-1!==r.type.indexOf("tag-name")&&("<"===h.value?o[p]++:"<\/"===h.value&&o[p]--,0===o[p]&&(l=!0)));while(h&&!l)}r&&r.type.indexOf("tag-name")&&(f=u.start,f.row==c.row&&Math.abs(f.column-c.column)<2&&(f=u.end))}f=u&&u.cursor||f;f&&(n?u&&t?this.selection.setRange(u):u&&u.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}};this.gotoLine=function(n,t,i){this.selection.clearSelection();this.session.unfold({row:n-1,column:t||0});this.$blockScrolling+=1;this.exitMultiSelectMode&&this.exitMultiSelectMode();this.moveCursorTo(n-1,t||0);this.$blockScrolling-=1;this.isRowFullyVisible(n-1)||this.scrollToLine(n-1,!0,i)};this.navigateTo=function(n,t){this.selection.moveTo(n,t)};this.navigateUp=function(n){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection();this.selection.moveCursorBy(-n||-1,0)};this.navigateDown=function(n){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection();this.selection.moveCursorBy(n||1,0)};this.navigateLeft=function(n){if(this.selection.isEmpty())for(n=n||1;n--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()};this.navigateRight=function(n){if(this.selection.isEmpty())for(n=n||1;n--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()};this.navigateLineStart=function(){this.selection.moveCursorLineStart();this.clearSelection()};this.navigateLineEnd=function(){this.selection.moveCursorLineEnd();this.clearSelection()};this.navigateFileEnd=function(){this.selection.moveCursorFileEnd();this.clearSelection()};this.navigateFileStart=function(){this.selection.moveCursorFileStart();this.clearSelection()};this.navigateWordRight=function(){this.selection.moveCursorWordRight();this.clearSelection()};this.navigateWordLeft=function(){this.selection.moveCursorWordLeft();this.clearSelection()};this.replace=function(n,t){t&&this.$search.set(t);var i=this.$search.find(this.session),r=0;return i?(this.$tryReplace(i,n)&&(r=1),null!==i&&(this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end)),r):r};this.replaceAll=function(n,t){var i,r,f,u;if(t&&this.$search.set(t),i=this.$search.findAll(this.session),r=0,!i.length)return r;for(this.$blockScrolling+=1,f=this.getSelectionRange(),this.selection.moveTo(0,0),u=i.length-1;u>=0;--u)this.$tryReplace(i[u],n)&&r++;return this.selection.setSelectionRange(f),this.$blockScrolling-=1,r};this.$tryReplace=function(n,t){var i=this.session.getTextRange(n);return t=this.$search.replace(i,t),null!==t?(n.end=this.session.replace(n,t),n):null};this.getLastSearchOptions=function(){return this.$search.getOptions()};this.find=function(n,t,i){var r,u;return t||(t={}),"string"==typeof n||n instanceof RegExp?t.needle=n:"object"==typeof n&&e.mixin(t,n),r=this.selection.getRange(),null==t.needle&&(n=this.session.getTextRange(r)||this.$search.$options.needle,n||(r=this.session.getWordRange(r.start.row,r.start.column),n=this.session.getTextRange(r)),this.$search.set({needle:n})),this.$search.set(t),t.start||this.$search.set({start:r}),u=this.$search.find(this.session),t.preventScroll?u:u?(this.revealRange(u,i),u):(t.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))};this.findNext=function(n,t){this.find({skipCurrent:!0,backwards:!1},n,t)};this.findPrevious=function(n,t){this.find(n,{skipCurrent:!0,backwards:!0},t)};this.revealRange=function(n,t){this.$blockScrolling+=1;this.session.unfold(n);this.selection.setSelectionRange(n);this.$blockScrolling-=1;var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(n.start,n.end,.5);t!==!1&&this.renderer.animateScrolling(i)};this.undo=function(){this.$blockScrolling++;this.session.getUndoManager().undo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,.5)};this.redo=function(){this.$blockScrolling++;this.session.getUndoManager().redo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,.5)};this.destroy=function(){this.renderer.destroy();this._signal("destroy",this);this.session&&this.session.destroy()};this.setAutoScrollEditorIntoView=function(n){var u,r,t,i;if(n){r=this;t=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));i=this.$scrollAnchor;i.style.cssText="position:absolute";this.container.insertBefore(i,this.container.firstChild);var f=this.on("changeSelection",function(){t=!0}),e=this.renderer.on("beforeRender",function(){t&&(u=r.renderer.container.getBoundingClientRect())}),o=this.renderer.on("afterRender",function(){if(t&&u&&(r.isFocused()||r.searchBox&&r.searchBox.isFocused())){var e=r.renderer,n=e.$cursorLayer.$pixelPos,f=e.layerConfig,o=n.top-f.offset;t=n.top>=0&&o+u.top<0?!0:n.top<f.height&&n.top+u.top+f.lineHeight>window.innerHeight?!1:null;null!=t&&(i.style.top=o+"px",i.style.left=n.left+"px",i.style.height=f.lineHeight+"px",i.scrollIntoView(t));t=u=null}});this.setAutoScrollEditorIntoView=function(n){n||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",f),this.renderer.off("afterRender",o),this.renderer.off("beforeRender",e))}}};this.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",n=this.renderer.$cursorLayer;n&&(n.setSmoothBlinking(/smooth/.test(t)),n.isBlinking=!this.$readOnly&&"wide"!=t,o.setCssClass(n.element,"ace_slim-cursors",/slim/.test(t)))}}).call(f.prototype);r.defineOptions(f.prototype,"editor",{selectionStyle:{set:function(n){this.onSelectionChange();this._signal("changeSelectionStyle",{data:n})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(n){this.setAutoScrollEditorIntoView(n)}},keyboardHandler:{set:function(n){this.setKeyboardHandler(n)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});t.Editor=f});ace.define("ace/undomanager",["require","exports","module"],function(n,t){"use strict";var i=function(){this.reset()};(function(){function t(n){return{action:n.action,start:n.start,end:n.end,lines:1==n.lines.length?null:n.lines,text:1==n.lines.length?n.lines[0]:null}}function i(n){return{action:n.action,start:n.start,end:n.end,lines:n.lines||[n.text]}}function n(n,t){for(var o,f=new Array(n.length),i=0;i<n.length;i++){for(var r=n[i],e={group:r.group,deltas:new Array(r.length)},u=0;u<r.deltas.length;u++)o=r.deltas[u],e.deltas[u]=t(o);f[i]=e}return f}this.execute=function(n){var t=n.args[0];this.$doc=n.args[1];n.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t));this.$undoStack.push(t);this.$redoStack=[];this.dirtyCounter<0&&(this.dirtyCounter=NaN);this.dirtyCounter++};this.undo=function(n){var t=this.$undoStack.pop(),i=null;return t&&(i=this.$doc.undoChanges(t,n),this.$redoStack.push(t),this.dirtyCounter--),i};this.redo=function(n){var t=this.$redoStack.pop(),i=null;return t&&(i=this.$doc.redoChanges(this.$deserializeDeltas(t),n),this.$undoStack.push(t),this.dirtyCounter++),i};this.reset=function(){this.$undoStack=[];this.$redoStack=[];this.dirtyCounter=0};this.hasUndo=function(){return this.$undoStack.length>0};this.hasRedo=function(){return this.$redoStack.length>0};this.markClean=function(){this.dirtyCounter=0};this.isClean=function(){return 0===this.dirtyCounter};this.$serializeDeltas=function(i){return n(i,t)};this.$deserializeDeltas=function(t){return n(t,i)}}).call(i.prototype);t.UndoManager=i});ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(n,t){"use strict";var i=n("../lib/dom"),u=n("../lib/oop"),f=n("../lib/lang"),e=n("../lib/event_emitter").EventEmitter,r=function(n){this.element=i.createElement("div");this.element.className="ace_layer ace_gutter-layer";n.appendChild(this.element);this.setShowFoldWidgets(this.$showFoldWidgets);this.gutterWidth=0;this.$annotations=[];this.$updateAnnotations=this.$updateAnnotations.bind(this);this.$cells=[]};(function(){u.implement(this,e);this.setSession=function(n){this.session&&this.session.removeEventListener("change",this.$updateAnnotations);this.session=n;n&&n.on("change",this.$updateAnnotations)};this.addGutterDecoration=function(n,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration");this.session.addGutterDecoration(n,t)};this.removeGutterDecoration=function(n,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration");this.session.removeGutterDecoration(n,t)};this.setAnnotations=function(n){var r,i,e;for(this.$annotations=[],r=0;r<n.length;r++){var u=n[r],o=u.row,t=this.$annotations[o];t||(t=this.$annotations[o]={text:[]});i=u.text;i=i?f.escapeHTML(i):u.html||"";-1===t.text.indexOf(i)&&t.text.push(i);e=u.type;"error"==e?t.className=" ace_error":"warning"==e&&" ace_error"!=t.className?t.className=" ace_warning":"info"==e&&!t.className&&(t.className=" ace_info")}};this.$updateAnnotations=function(n){var t,i,r;this.$annotations.length&&(t=n.start.row,i=n.end.row-t,0!==i&&("remove"==n.action?this.$annotations.splice(t,i+1,null):(r=new Array(i+1),r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r))))};this.update=function(n){for(var s,f,o,p,h,w,u=this.session,b=n.firstRow,nt=Math.min(n.lastRow+n.gutterOffset,u.getLength()-1),e=u.getNextFoldLine(b),a=e?e.start.row:1/0,v=this.$showFoldWidgets&&u.foldWidgets,k=u.$breakpoints,d=u.$decorations,g=u.$firstLineNumber,c=0,l=u.gutterRenderer||this.$renderer,t=null,y=-1,r=b;;){if(r>a&&(r=e.end.row+1,e=u.getNextFoldLine(r,e),a=e?e.start.row:1/0),r>nt){for(;this.$cells.length>y+1;)t=this.$cells.pop(),this.element.removeChild(t.element);break}t=this.$cells[++y];t||(t={element:null,textNode:null,foldWidget:null},t.element=i.createElement("div"),t.textNode=document.createTextNode(""),t.element.appendChild(t.textNode),this.element.appendChild(t.element),this.$cells[y]=t);f="ace_gutter-cell ";k[r]&&(f+=k[r]);d[r]&&(f+=d[r]);this.$annotations[r]&&(f+=this.$annotations[r].className);t.element.className!=f&&(t.element.className=f);o=u.getRowLength(r)*n.lineHeight+"px";(o!=t.element.style.height&&(t.element.style.height=o),v)&&(s=v[r],null==s&&(s=v[r]=u.getFoldWidget(r)));s?(t.foldWidget||(t.foldWidget=i.createElement("span"),t.element.appendChild(t.foldWidget)),f="ace_fold-widget ace_"+s,f+="start"==s&&r==a&&r<e.end.row?" ace_closed":" ace_open",t.foldWidget.className!=f&&(t.foldWidget.className=f),o=n.lineHeight+"px",t.foldWidget.style.height!=o&&(t.foldWidget.style.height=o)):t.foldWidget&&(t.element.removeChild(t.foldWidget),t.foldWidget=null);p=c=l?l.getText(u,r):r+g;p!=t.textNode.data&&(t.textNode.data=p);r++}this.element.style.height=n.minHeight+"px";(this.$fixedWidth||u.$useWrapMode)&&(c=u.getLength()+g);h=l?l.getWidth(u,c,n):c.toString().length*n.characterWidth;w=this.$padding||this.$computePadding();h+=w.left+w.right;h===this.gutterWidth||isNaN(h)||(this.gutterWidth=h,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",h))};this.$fixedWidth=!1;this.$showLineNumbers=!0;this.$renderer="";this.setShowLineNumbers=function(n){this.$renderer=!n&&{getWidth:function(){return""},getText:function(){return""}}};this.getShowLineNumbers=function(){return this.$showLineNumbers};this.$showFoldWidgets=!0;this.setShowFoldWidgets=function(n){n?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled");this.$showFoldWidgets=n;this.$padding=null};this.getShowFoldWidgets=function(){return this.$showFoldWidgets};this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var n=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(n.paddingLeft)+1||0,this.$padding.right=parseInt(n.paddingRight)||0,this.$padding};this.getRegion=function(n){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return n.x<t.left+i.left?"markers":this.$showFoldWidgets&&n.x>i.right-t.right?"foldWidgets":void 0}}).call(r.prototype);t.Gutter=r});ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(n,t){"use strict";var r=n("../range").Range,u=n("../lib/dom"),i=function(n){this.element=u.createElement("div");this.element.className="ace_layer ace_marker-layer";n.appendChild(this.element)};(function(){function n(n,t,i,r){return(n?1:0)|(t?2:0)|(i?4:0)|(r?8:0)}this.$padding=0;this.setPadding=function(n){this.$padding=n};this.setSession=function(n){this.session=n};this.setMarkers=function(n){this.markers=n};this.update=function(n){var n=n||this.config,r,u,t,i,f,e;if(n){this.config=n;r=[];for(u in this.markers)t=this.markers[u],t.range?(i=t.range.clipRows(n.firstRow,n.lastRow),i.isEmpty()||((i=i.toScreenRange(this.session),t.renderer)?(f=this.$getTop(i.start.row,n),e=this.$padding+i.start.column*n.characterWidth,t.renderer(r,i,e,f,n)):"fullLine"==t.type?this.drawFullLineMarker(r,i,t.clazz,n):"screenLine"==t.type?this.drawScreenLineMarker(r,i,t.clazz,n):i.isMultiLine()?"text"==t.type?this.drawTextMarker(r,i,t.clazz,n):this.drawMultiLineMarker(r,i,t.clazz,n):this.drawSingleLineMarker(r,i,t.clazz+" ace_start ace_br15",n))):t.update(r,this,this.session,n);this.element.innerHTML=r.join("")}};this.$getTop=function(n,t){return(n-t.firstRowScreen)*t.lineHeight};this.drawTextMarker=function(t,i,u,f,e){for(var v=this.session,s=i.start.row,h=i.end.row,o=s,y=0,c=0,a=v.getScreenLastRowColumn(o),l=new r(o,i.start.column,o,c);h>=o;o++)l.start.row=l.end.row=o,l.start.column=o==s?i.start.column:v.getRowWrapIndent(o),l.end.column=a,y=c,c=a,a=h>o+1?v.getScreenLastRowColumn(o+1):o==h?0:i.end.column,this.drawSingleLineMarker(t,l,u+(o==s?" ace_start":"")+" ace_br"+n(o==s||o==s+1&&i.start.column,c>y,c>a,o==h),f,o==h?0:1,e)};this.drawMultiLineMarker=function(n,t,i,r,u){var o=this.$padding,f=r.lineHeight,e=this.$getTop(t.start.row,r),c=o+t.start.column*r.characterWidth,h,s;u=u||"";n.push("<div class='",i," ace_br1 ace_start' style='","height:",f,"px;","right:0;","top:",e,"px;","left:",c,"px;",u,"'><\/div>");e=this.$getTop(t.end.row,r);h=t.end.column*r.characterWidth;(n.push("<div class='",i," ace_br12' style='","height:",f,"px;","width:",h,"px;","top:",e,"px;","left:",o,"px;",u,"'><\/div>"),f=(t.end.row-t.start.row-1)*r.lineHeight,0>=f)||(e=this.$getTop(t.start.row+1,r),s=(t.start.column?1:0)|(t.end.column?0:8),n.push("<div class='",i,s?" ace_br"+s:"","' style='","height:",f,"px;","right:0;","top:",e,"px;","left:",o,"px;",u,"'><\/div>"))};this.drawSingleLineMarker=function(n,t,i,r,u,f){var e=r.lineHeight,o=(t.end.column+(u||0)-t.start.column)*r.characterWidth,s=this.$getTop(t.start.row,r),h=this.$padding+t.start.column*r.characterWidth;n.push("<div class='",i,"' style='","height:",e,"px;","width:",o,"px;","top:",s,"px;","left:",h,"px;",f||"","'><\/div>")};this.drawFullLineMarker=function(n,t,i,r,u){var f=this.$getTop(t.start.row,r),e=r.lineHeight;t.start.row!=t.end.row&&(e+=this.$getTop(t.end.row,r)-f);n.push("<div class='",i,"' style='","height:",e,"px;","top:",f,"px;","left:0;right:0;",u||"","'><\/div>")};this.drawScreenLineMarker=function(n,t,i,r,u){var f=this.$getTop(t.start.row,r),e=r.lineHeight;n.push("<div class='",i,"' style='","height:",e,"px;","top:",f,"px;","left:0;right:0;",u||"","'><\/div>")}}).call(i.prototype);t.Marker=i});ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(n,t){"use strict";var f=n("../lib/oop"),r=n("../lib/dom"),i=n("../lib/lang"),e=(n("../lib/useragent"),n("../lib/event_emitter").EventEmitter),u=function(n){this.element=r.createElement("div");this.element.className="ace_layer ace_text-layer";n.appendChild(this.element);this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){f.implement(this,e);this.EOF_CHAR="¶";this.EOL_CHAR_LF="¬";this.EOL_CHAR_CRLF="¤";this.EOL_CHAR=this.EOL_CHAR_LF;this.TAB_CHAR="—";this.SPACE_CHAR="·";this.$padding=0;this.$updateEolChar=function(){var n="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=n)return(this.EOL_CHAR=n,!0)};this.setPadding=function(n){this.$padding=n;this.element.style.padding="0 "+n+"px"};this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0};this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0};this.$setFontMetrics=function(n){this.$fontMetrics=n;this.$fontMetrics.on("changeCharacterSize",function(n){this._signal("changeCharacterSize",n)}.bind(this));this.$pollSizeChanges()};this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()};this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()};this.setSession=function(n){this.session=n;n&&this.$computeTabString()};this.showInvisibles=!1;this.setShowInvisibles=function(n){return this.showInvisibles==n?!1:(this.showInvisibles=n,this.$computeTabString(),!0)};this.displayIndentGuides=!0;this.setDisplayIndentGuides=function(n){return this.displayIndentGuides==n?!1:(this.displayIndentGuides=n,this.$computeTabString(),!0)};this.$tabStrings=[];this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize(),r,n,t,f;for(this.tabSize=e,r=this.$tabStrings=[0],n=1;e+1>n;n++)this.showInvisibles?r.push("<span class='ace_invisible ace_invisible_tab'>"+i.stringRepeat(this.TAB_CHAR,n)+"<\/span>"):r.push(i.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var u="ace_indent-guide",o="",s="";this.showInvisibles?(u+=" ace_invisible",o=" ace_invisible_space",s=" ace_invisible_tab",t=i.stringRepeat(this.SPACE_CHAR,this.tabSize),f=i.stringRepeat(this.TAB_CHAR,this.tabSize)):(t=i.stringRepeat(" ",this.tabSize),f=t);this.$tabStrings[" "]="<span class='"+u+o+"'>"+t+"<\/span>";this.$tabStrings["\t"]="<span class='"+u+s+"'>"+f+"<\/span>"}};this.updateLines=function(n,t,i){var u,e,s;(this.config.lastRow!=n.lastRow||this.config.firstRow!=n.firstRow)&&this.scrollLines(n);this.config=n;for(var f=Math.max(t,n.firstRow),c=Math.min(i,n.lastRow),l=this.element.childNodes,h=0,r=n.firstRow;f>r;r++){if(u=this.session.getFoldLine(r),u){if(u.containsRow(f)){f=u.start.row;break}r=u.end.row}h++}for(var r=f,u=this.session.getNextFoldLine(r),o=u?u.start.row:1/0;r>o&&(r=u.end.row+1,u=this.session.getNextFoldLine(r,u),o=u?u.start.row:1/0),!(r>c);)e=l[h++],e&&(s=[],this.$renderLine(s,r,!this.$useLineGroups(),r==o?u:!1),e.style.height=n.lineHeight*this.session.getRowLength(r)+"px",e.innerHTML=s.join("")),r++};this.scrollLines=function(n){var t=this.config,i,r,u;if((this.config=n,!t||t.lastRow<n.firstRow)||n.lastRow<t.firstRow)return this.update(n);if(i=this.element,t.firstRow<n.firstRow)for(r=this.session.getFoldedRowCount(t.firstRow,n.firstRow-1);r>0;r--)i.removeChild(i.firstChild);if(t.lastRow>n.lastRow)for(r=this.session.getFoldedRowCount(n.lastRow+1,t.lastRow);r>0;r--)i.removeChild(i.lastChild);n.firstRow<t.firstRow&&(u=this.$renderLinesFragment(n,n.firstRow,t.firstRow-1),i.firstChild?i.insertBefore(u,i.firstChild):i.appendChild(u));n.lastRow>t.lastRow&&(u=this.$renderLinesFragment(n,t.lastRow+1,n.lastRow),i.appendChild(u))};this.$renderLinesFragment=function(n,t,i){for(var e,h,o=this.element.ownerDocument.createDocumentFragment(),u=t,f=this.session.getNextFoldLine(u),s=f?f.start.row:1/0;u>s&&(u=f.end.row+1,f=this.session.getNextFoldLine(u,f),s=f?f.start.row:1/0),!(u>i);){if(e=r.createElement("div"),h=[],this.$renderLine(h,u,!1,u==s?f:!1),e.innerHTML=h.join(""),this.$useLineGroups())e.className="ace_line_group",o.appendChild(e),e.style.height=n.lineHeight*this.session.getRowLength(u)+"px";else for(;e.firstChild;)o.appendChild(e.firstChild);u++}return o};this.update=function(n){this.config=n;for(var r=[],f=n.firstRow,e=n.lastRow,t=f,i=this.session.getNextFoldLine(t),u=i?i.start.row:1/0;t>u&&(t=i.end.row+1,i=this.session.getNextFoldLine(t,i),u=i?i.start.row:1/0),!(t>e);)this.$useLineGroups()&&r.push("<div class='ace_line_group' style='height:",n.lineHeight*this.session.getRowLength(t),"px'>"),this.$renderLine(r,t,!1,t==u?i:!1),this.$useLineGroups()&&r.push("<\/div>"),t++;this.element.innerHTML=r.join("")};this.$textToken={text:!0,rparen:!0,lparen:!0};this.$renderToken=function(n,t,r,u){var f=this,h=function(n,r,u,e){var o,s,h;return r?f.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+i.stringRepeat(f.SPACE_CHAR,n.length)+"<\/span>":n:"&"==n?"&#38;":"<"==n?"&#60;":">"==n?"&#62;":"\t"==n?(o=f.session.getScreenTabSize(t+e),t+=o-1,f.$tabStrings[o]):"　"==n?(s=f.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",h=f.showInvisibles?f.SPACE_CHAR:"",t+=1,"<span class='"+s+"' style='width:"+2*f.config.characterWidth+"px'>"+h+"<\/span>"):u?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+f.SPACE_CHAR+"<\/span>":(t+=1,"<span class='ace_cjk' style='width:"+2*f.config.characterWidth+"px'>"+n+"<\/span>")},o=u.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,h),s,e;return this.$textToken[r.type]?n.push(o):(s="ace_"+r.type.replace(/\./g," ace_"),e="","fold"==r.type&&(e=" style='width:"+r.value.length*this.config.characterWidth+"px;' "),n.push("<span class='",s,"'",e,">",o,"<\/span>")),t+u.length};this.renderIndentGuide=function(n,t,r){var u=t.search(this.$indentGuideRe);return 0>=u||u>=r?t:" "==t[0]?(u-=u%this.tabSize,n.push(i.stringRepeat(this.$tabStrings[" "],u/this.tabSize)),t.substr(u)):"\t"==t[0]?(n.push(i.stringRepeat(this.$tabStrings["\t"],u)),t.substr(u)):t};this.$renderWrappedLine=function(n,t,r,u){for(var h,f,e=0,l=0,o=r[0],s=0,c=0;c<t.length;c++){if(h=t[c],f=h.value,0==c&&this.displayIndentGuides){if(e=f.length,f=this.renderIndentGuide(n,f,o),!f)continue;e-=f.length}if(e+f.length<o)s=this.$renderToken(n,s,h,f),e+=f.length;else{for(;e+f.length>=o;)s=this.$renderToken(n,s,h,f.substring(0,o-e)),f=f.substring(o-e),e=o,u||n.push("<\/div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),n.push(i.stringRepeat(" ",r.indent)),l++,s=0,o=r[l]||Number.MAX_VALUE;0!=f.length&&(e+=f.length,s=this.$renderToken(n,s,h,f))}}};this.$renderSimpleLine=function(n,t){var u=0,r=t[0],i=r.value,f;for(this.displayIndentGuides&&(i=this.renderIndentGuide(n,i)),i&&(u=this.$renderToken(n,u,r,i)),f=1;f<t.length;f++)r=t[f],i=r.value,u=this.$renderToken(n,u,r,i)};this.$renderLine=function(n,t,i,r){var u,f;u=(!r&&0!=r&&(r=this.session.getFoldLine(t)),r)?this.$getFoldLineTokens(t,r):this.session.getTokens(t);(i||n.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),u.length)&&(f=this.session.getRowSplitData(t),f&&f.length?this.$renderWrappedLine(n,u,f,i):this.$renderSimpleLine(n,u));this.showInvisibles&&(r&&(t=r.end.row),n.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"<\/span>"));i||n.push("<\/div>")};this.$getFoldLineTokens=function(n,t){function f(n,t,r){for(var e,u=0,f=0;f+n[u].value.length<t;)if(f+=n[u].value.length,u++,u==n.length)return;for(f!=t&&(e=n[u].value.substring(t-f),e.length>r-t&&(e=e.substring(0,r-t)),i.push({type:n[u].type,value:e}),f=t+e.length,u+=1);r>f&&u<n.length;)e=n[u].value,e.length+f>r?i.push({type:n[u].type,value:e.substring(0,r-f)}):i.push(n[u]),f+=e.length,u+=1}var u=this.session,i=[],r=u.getTokens(n);return t.walk(function(n,t,e,o,s){null!=n?i.push({type:"fold",value:n}):(s&&(r=u.getTokens(t)),r.length&&f(r,o,e))},t.end.row,this.session.getLine(t.end.row).length),i};this.$useLineGroups=function(){return this.session.getUseWrapMode()};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode);delete this.$measureNode}}).call(u.prototype);t.Text=u});ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";var r,i=n("../lib/dom"),u=function(n){this.element=i.createElement("div");this.element.className="ace_layer ace_cursor-layer";n.appendChild(this.element);void 0===r&&(r=!("opacity"in this.element.style));this.isVisible=!1;this.isBlinking=!0;this.blinkInterval=1e3;this.smoothBlinking=!1;this.cursors=[];this.cursor=this.addCursor();i.addCssClass(this.element,"ace_hidden-cursors");this.$updateCursors=(r?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(n){for(var t=this.cursors,i=t.length;i--;)t[i].style.visibility=n?"":"hidden"};this.$updateOpacity=function(n){for(var t=this.cursors,i=t.length;i--;)t[i].style.opacity=n?"":"0"};this.$padding=0;this.setPadding=function(n){this.$padding=n};this.setSession=function(n){this.session=n};this.setBlinking=function(n){n!=this.isBlinking&&(this.isBlinking=n,this.restartTimer())};this.setBlinkInterval=function(n){n!=this.blinkInterval&&(this.blinkInterval=n,this.restartTimer())};this.setSmoothBlinking=function(n){n==this.smoothBlinking||r||(this.smoothBlinking=n,i.setCssClass(this.element,"ace_smooth-blinking",n),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())};this.addCursor=function(){var n=i.createElement("div");return n.className="ace_cursor",this.element.appendChild(n),this.cursors.push(n),n};this.removeCursor=function(){if(this.cursors.length>1){var n=this.cursors.pop();return n.parentNode.removeChild(n),n}};this.hideCursor=function(){this.isVisible=!1;i.addCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.showCursor=function(){this.isVisible=!0;i.removeCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.restartTimer=function(){var n=this.$updateCursors,t;(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&i.removeCssClass(this.element,"ace_smooth-blinking"),n(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)&&(this.smoothBlinking&&setTimeout(function(){i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this)),t=function(){this.timeoutId=setTimeout(function(){n(!1)},.6*this.blinkInterval)}.bind(this),this.intervalId=setInterval(function(){n(!0);t()},this.blinkInterval),t())};this.getPixelPosition=function(n,t){if(!this.config||!this.session)return{left:0,top:0};n||(n=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(n),r=this.$padding+i.column*this.config.characterWidth,u=(i.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:u}};this.update=function(n){var r,e,t,u,o;this.config=n;var i=this.session.$selectionMarkers,r=0,f=0;for(void 0!==i&&0!==i.length||(i=[{cursor:null}]),r=0,e=i.length;e>r;r++)t=this.getPixelPosition(i[r].cursor,!0),(t.top>n.height+n.offset||t.top<0)&&r>1||(u=(this.cursors[f++]||this.addCursor()).style,this.drawCursor?this.drawCursor(u,t,n,i[r],this.session):(u.left=t.left+"px",u.top=t.top+"px",u.width=n.characterWidth+"px",u.height=n.lineHeight+"px"));for(;this.cursors.length>f;)this.removeCursor();o=this.session.getOverwrite();this.$setOverwrite(o);this.$pixelPos=t;this.restartTimer()};this.drawCursor=null;this.$setOverwrite=function(n){n!=this.overwrite&&(this.overwrite=n,n?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))};this.destroy=function(){clearInterval(this.intervalId);clearTimeout(this.timeoutId)}}).call(u.prototype);t.Cursor=u});ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,t){"use strict";var f=n("./lib/oop"),e=n("./lib/dom"),o=n("./lib/event"),h=n("./lib/event_emitter").EventEmitter,s=32768,r=function(n){this.element=e.createElement("div");this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix;this.inner=e.createElement("div");this.inner.className="ace_scrollbar-inner";this.element.appendChild(this.inner);n.appendChild(this.element);this.setVisible(!1);this.skipEvent=!1;o.addListener(this.element,"scroll",this.onScroll.bind(this));o.addListener(this.element,"mousedown",o.preventDefault)},i,u;(function(){f.implement(this,h);this.setVisible=function(n){this.element.style.display=n?"":"none";this.isVisible=n;this.coeff=1}}).call(r.prototype);i=function(n,t){r.call(this,n);this.scrollTop=0;this.scrollHeight=0;t.$scrollbarWidth=this.width=e.scrollbarWidth(n.ownerDocument);this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};f.inherits(i,r),function(){this.classSuffix="-v";this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var n=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-n)/(this.coeff-n)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1};this.getWidth=function(){return this.isVisible?this.width:0};this.setHeight=function(n){this.element.style.height=n+"px"};this.setInnerHeight=this.setScrollHeight=function(n){this.scrollHeight=n;n>s?(this.coeff=s/n,n=s):1!=this.coeff&&(this.coeff=1);this.inner.style.height=n+"px"};this.setScrollTop=function(n){this.scrollTop!=n&&(this.skipEvent=!0,this.scrollTop=n,this.element.scrollTop=n*this.coeff)}}.call(i.prototype);u=function(n,t){r.call(this,n);this.scrollLeft=0;this.height=t.$scrollbarWidth;this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};f.inherits(u,r),function(){this.classSuffix="-h";this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft}));this.skipEvent=!1};this.getHeight=function(){return this.isVisible?this.height:0};this.setWidth=function(n){this.element.style.width=n+"px"};this.setInnerWidth=function(n){this.inner.style.width=n+"px"};this.setScrollWidth=function(n){this.inner.style.width=n+"px"};this.setScrollLeft=function(n){this.scrollLeft!=n&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=n)}}.call(u.prototype);t.ScrollBar=i;t.ScrollBarV=i;t.ScrollBarH=u;t.VScrollBar=i;t.HScrollBar=u});ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(n,t){"use strict";var r=n("./lib/event"),i=function(n,t){this.onRender=n;this.pending=!1;this.changes=0;this.window=t||window};(function(){this.schedule=function(n){if(this.changes=this.changes|n,!this.pending&&this.changes){this.pending=!0;var t=this;r.nextFrame(function(){t.pending=!1;for(var n;n=t.changes;)t.changes=0,t.onRender(n)},this.window)}}}).call(i.prototype);t.RenderLoop=i});ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(n,t){var f=n("../lib/oop"),r=n("../lib/dom"),u=n("../lib/lang"),e=n("../lib/useragent"),o=n("../lib/event_emitter").EventEmitter,i=0,s=t.FontMetrics=function(n){this.el=r.createElement("div");this.$setMeasureNodeStyles(this.el.style,!0);this.$main=r.createElement("div");this.$setMeasureNodeStyles(this.$main.style);this.$measureNode=r.createElement("div");this.$setMeasureNodeStyles(this.$measureNode.style);this.el.appendChild(this.$main);this.el.appendChild(this.$measureNode);n.appendChild(this.el);i||this.$testFractionalRect();this.$measureNode.innerHTML=u.stringRepeat("X",i);this.$characterSize={width:0,height:0};this.checkForSizeChanges()};(function(){f.implement(this,o);this.$characterSize={width:0,height:0};this.$testFractionalRect=function(){var n=r.createElement("div"),t;this.$setMeasureNodeStyles(n.style);n.style.width="0.2px";document.documentElement.appendChild(n);t=n.getBoundingClientRect().width;i=t>0&&1>t?50:100;n.parentNode.removeChild(n)};this.$setMeasureNodeStyles=function(n,t){n.width=n.height="auto";n.left=n.top="0px";n.visibility="hidden";n.position="absolute";n.whiteSpace="pre";e.isIE<8?n["font-family"]="inherit":n.font="inherit";n.overflow=t?"hidden":"visible"};this.checkForSizeChanges=function(){var n=this.$measureSizes(),t;n&&(this.$characterSize.width!==n.width||this.$characterSize.height!==n.height)&&(this.$measureNode.style.fontWeight="bold",t=this.$measureSizes(),this.$measureNode.style.fontWeight="",this.$characterSize=n,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===n.width&&t.height===n.height,this._emit("changeCharacterSize",{data:n}))};this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var n=this;return this.$pollSizeChangesTimer=setInterval(function(){n.checkForSizeChanges()},500)};this.setPolling=function(n){n?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)};this.$measureSizes=function(){var n,t;if(50===i){n=null;try{n=this.$measureNode.getBoundingClientRect()}catch(r){n={width:0,height:0}}t={height:n.height,width:n.width/i}}else t={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/i};return 0===t.width||0===t.height?null:t};this.$measureCharWidth=function(n){this.$main.innerHTML=u.stringRepeat(n,i);var t=this.$main.getBoundingClientRect();return t.width/i};this.getCharacterWidth=function(n){var t=this.charSizes[n];return void 0===t&&(t=this.charSizes[n]=this.$measureCharWidth(n)/this.$characterSize.width),t};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(s.prototype)});ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(n,t){"use strict";var e=n("./lib/oop"),i=n("./lib/dom"),r=n("./config"),o=n("./lib/useragent"),s=n("./layer/gutter").Gutter,f=n("./layer/marker").Marker,h=n("./layer/text").Text,c=n("./layer/cursor").Cursor,l=n("./scrollbar").HScrollBar,a=n("./scrollbar").VScrollBar,v=n("./renderloop").RenderLoop,y=n("./layer/font_metrics").FontMetrics,p=n("./lib/event_emitter").EventEmitter,u;i.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}',"ace_editor.css");u=function(n,t){var u=this,e;this.container=n||i.createElement("div");this.$keepTextAreaAtCursor=!o.isOldIE;i.addCssClass(this.container,"ace_editor");this.setTheme(t);this.$gutter=i.createElement("div");this.$gutter.className="ace_gutter";this.container.appendChild(this.$gutter);this.scroller=i.createElement("div");this.scroller.className="ace_scroller";this.container.appendChild(this.scroller);this.content=i.createElement("div");this.content.className="ace_content";this.scroller.appendChild(this.content);this.$gutterLayer=new s(this.$gutter);this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this));this.$markerBack=new f(this.content);e=this.$textLayer=new h(this.content);this.canvas=e.element;this.$markerFront=new f(this.content);this.$cursorLayer=new c(this.content);this.$horizScroll=!1;this.$vScroll=!1;this.scrollBar=this.scrollBarV=new a(this.container,this);this.scrollBarH=new l(this.container,this);this.scrollBarV.addEventListener("scroll",function(n){u.$scrollAnimation||u.session.setScrollTop(n.data-u.scrollMargin.top)});this.scrollBarH.addEventListener("scroll",function(n){u.$scrollAnimation||u.session.setScrollLeft(n.data-u.scrollMargin.left)});this.scrollTop=0;this.scrollLeft=0;this.cursorPos={row:0,column:0};this.$fontMetrics=new y(this.container);this.$textLayer.$setFontMetrics(this.$fontMetrics);this.$textLayer.addEventListener("changeCharacterSize",function(n){u.updateCharacterSize();u.onResize(!0,u.gutterWidth,u.$size.width,u.$size.height);u._signal("changeCharacterSize",n)});this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0};this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1};this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.$loop=new v(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView);this.$loop.schedule(this.CHANGE_FULL);this.updateCharacterSize();this.setPadding(4);r.resetOptions(this);r._emit("renderer",this)},function(){this.CHANGE_CURSOR=1;this.CHANGE_MARKER=2;this.CHANGE_GUTTER=4;this.CHANGE_SCROLL=8;this.CHANGE_LINES=16;this.CHANGE_TEXT=32;this.CHANGE_SIZE=64;this.CHANGE_MARKER_BACK=128;this.CHANGE_MARKER_FRONT=256;this.CHANGE_FULL=512;this.CHANGE_H_SCROLL=1024;e.implement(this,p);this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts));this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth();this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight();this.$updatePrintMargin()};this.setSession=function(n){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode);this.session=n;n&&this.scrollMargin.top&&n.getScrollTop()<=0&&n.setScrollTop(-this.scrollMargin.top);this.$cursorLayer.setSession(n);this.$markerBack.setSession(n);this.$markerFront.setSession(n);this.$gutterLayer.setSession(n);this.$textLayer.setSession(n);n&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))};this.updateLines=function(n,t,i){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>n&&(this.$changedLines.firstRow=n),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:n,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)};this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT);this.$textLayer.$updateEolChar()};this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER);this.$textLayer.onChangeTabSize()};this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)};this.updateFull=function(n){n?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)};this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()};this.$changes=0;this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()};this.onResize=function(n,t,i,r){var u,f;if(!(this.resizing>2))return this.resizing>0?this.resizing++:this.resizing=n?1:0,u=this.container,r||(r=u.clientHeight||u.scrollHeight),i||(i=u.clientWidth||u.scrollWidth),f=this.$updateCachedSize(n,t,i,r),this.$size.scrollerHeight&&(i||r)?(n&&(this.$gutterLayer.$padding=null),n?this.$renderChanges(f|this.$changes,!0):this.$loop.schedule(f|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null,void 0):this.resizing=0};this.$updateCachedSize=function(n,t,i,r){r-=this.$extraHeight||0;var f=0,u=this.$size,e={width:u.width,height:u.height,scrollerHeight:u.scrollerHeight,scrollerWidth:u.scrollerWidth};return r&&(n||u.height!=r)&&(u.height=r,f|=this.CHANGE_SIZE,u.scrollerHeight=u.height,this.$horizScroll&&(u.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",f|=this.CHANGE_SCROLL),i&&(n||u.width!=i)&&(f|=this.CHANGE_SIZE,u.width=i,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",u.scrollerWidth=Math.max(0,i-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||n)&&(f|=this.CHANGE_FULL)),u.$dirty=!i||!r,f&&this._signal("resize",e),f};this.onGutterResize=function(){var n=this.$showGutter?this.$gutter.offsetWidth:0;n!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,n,this.$size.width,this.$size.height));this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))};this.adjustWrapLimit=function(){var n=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(n/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)};this.setAnimatedScroll=function(n){this.setOption("animatedScroll",n)};this.getAnimatedScroll=function(){return this.$animatedScroll};this.setShowInvisibles=function(n){this.setOption("showInvisibles",n)};this.getShowInvisibles=function(){return this.getOption("showInvisibles")};this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")};this.setDisplayIndentGuides=function(n){this.setOption("displayIndentGuides",n)};this.setShowPrintMargin=function(n){this.setOption("showPrintMargin",n)};this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")};this.setPrintMarginColumn=function(n){this.setOption("printMarginColumn",n)};this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")};this.getShowGutter=function(){return this.getOption("showGutter")};this.setShowGutter=function(n){return this.setOption("showGutter",n)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.setFadeFoldWidgets=function(n){this.setOption("fadeFoldWidgets",n)};this.setHighlightGutterLine=function(n){this.setOption("highlightGutterLine",n)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.$updateGutterLineHighlight=function(){var t=this.$cursorLayer.$pixelPos,i=this.layerConfig.lineHeight,n;this.session.getUseWrapMode()&&(n=this.session.selection.getCursor(),n.column=0,t=this.$cursorLayer.getPixelPosition(n,!0),i*=this.session.getRowLength(n.row));this.$gutterLineHighlight.style.top=t.top-this.layerConfig.offset+"px";this.$gutterLineHighlight.style.height=i+"px"};this.$updatePrintMargin=function(){var n,t;(this.$showPrintMargin||this.$printMarginEl)&&(this.$printMarginEl||(n=i.createElement("div"),n.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",n.appendChild(this.$printMarginEl),this.content.insertBefore(n,this.content.firstChild)),t=this.$printMarginEl.style,t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit())};this.getContainerElement=function(){return this.container};this.getMouseEventTarget=function(){return this.scroller};this.getTextAreaContainer=function(){return this.container};this.$moveTextAreaToCursor=function(){var n,r,t,e;if(this.$keepTextAreaAtCursor){var f=this.layerConfig,u=this.$cursorLayer.$pixelPos.top,i=this.$cursorLayer.$pixelPos.left;if(u-=f.offset,n=this.textarea.style,r=this.lineHeight,0>u||u>f.height-r)return void(n.top=n.left="0");t=this.characterWidth;this.$composition&&(e=this.textarea.value.replace(/^\x01+/,""),t*=this.session.$getStringScreenWidth(e)[0]+2,r+=2);i-=this.scrollLeft;i>this.$size.scrollerWidth-t&&(i=this.$size.scrollerWidth-t);i+=this.gutterWidth;n.height=r+"px";n.width=t+"px";n.left=Math.min(i,this.$size.scrollerWidth-t)+"px";n.top=Math.min(u,this.$size.height-r)+"px"}};this.getFirstVisibleRow=function(){return this.layerConfig.firstRow};this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)};this.getLastFullyVisibleRow=function(){var n=this.layerConfig,t=n.lastRow,i=this.session.documentToScreenRow(t,0)*n.lineHeight;return i-this.session.getScrollTop()>n.height-n.lineHeight?t-1:t};this.getLastVisibleRow=function(){return this.layerConfig.lastRow};this.$padding=null;this.setPadding=function(n){this.$padding=n;this.$textLayer.setPadding(n);this.$cursorLayer.setPadding(n);this.$markerFront.setPadding(n);this.$markerBack.setPadding(n);this.$loop.schedule(this.CHANGE_FULL);this.$updatePrintMargin()};this.setScrollMargin=function(n,t,i,r){var u=this.scrollMargin;u.top=0|n;u.bottom=0|t;u.right=0|r;u.left=0|i;u.v=u.top+u.bottom;u.h=u.left+u.right;u.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-u.top);this.updateFull()};this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible};this.setHScrollBarAlwaysVisible=function(n){this.setOption("hScrollBarAlwaysVisible",n)};this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible};this.setVScrollBarAlwaysVisible=function(n){this.setOption("vScrollBarAlwaysVisible",n)};this.$updateScrollBarV=function(){var n=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(n-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>n-t&&(n=this.scrollTop+t,this.scrollBarV.scrollTop=null));this.scrollBarV.setScrollHeight(n+this.scrollMargin.v);this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)};this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h);this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)};this.$frozen=!1;this.freeze=function(){this.$frozen=!0};this.unfreeze=function(){this.$frozen=!1};this.$renderChanges=function(n,t){var i,r;return(this.$changes&&(n|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!n&&!t)?void(this.$changes|=n):this.$size.$dirty?(this.$changes|=n,this.onResize(!0)):(this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),i=this.layerConfig,(n&this.CHANGE_FULL||n&this.CHANGE_SIZE||n&this.CHANGE_TEXT||n&this.CHANGE_LINES||n&this.CHANGE_SCROLL||n&this.CHANGE_H_SCROLL)&&((n|=this.$computeLayerConfig(),i.firstRow!=this.layerConfig.firstRow&&i.firstRowScreen==this.layerConfig.firstRowScreen)&&(r=this.scrollTop+(i.firstRow-this.layerConfig.firstRow)*this.lineHeight,r>0&&(this.scrollTop=r,n|=this.CHANGE_SCROLL,n|=this.$computeLayerConfig())),i=this.layerConfig,this.$updateScrollBarV(),n&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-i.offset+"px",this.content.style.marginTop=-i.offset+"px",this.content.style.width=i.width+2*this.$padding+"px",this.content.style.height=i.minHeight+"px"),n&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),n&this.CHANGE_FULL?(this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this._signal("afterRender"),void 0):n&this.CHANGE_SCROLL?(n&this.CHANGE_TEXT||n&this.CHANGE_LINES?this.$textLayer.update(i):this.$textLayer.scrollLines(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),this._signal("afterRender"),void 0):(n&this.CHANGE_TEXT?(this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i)):n&this.CHANGE_LINES?(this.$updateLines()||n&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(i):(n&this.CHANGE_TEXT||n&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(i),n&this.CHANGE_CURSOR&&(this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),n&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(i),n&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(i),this._signal("afterRender"),void 0))};this.$autosize=function(){var i=this.session.getScreenLength()*this.lineHeight,r=this.$maxLines*this.lineHeight,n=Math.min(r,Math.max((this.$minLines||1)*this.lineHeight,i))+this.scrollMargin.v+(this.$extraHeight||0),t,u;this.$horizScroll&&(n+=this.scrollBarH.getHeight());this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);t=i>r;(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||t!=this.$vScroll)&&(t!=this.$vScroll&&(this.$vScroll=t,this.scrollBarV.setVisible(t)),u=this.container.clientWidth,this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,u,n),this.desiredHeight=n,this._signal("autosize"))};this.$computeLayerConfig=function(){var i=this.session,n=this.$size,w=n.height<=2*this.lineHeight,nt=this.session.getScreenLength(),e=nt*this.lineHeight,f=this.$getLongestLine(),a=!w&&(this.$hScrollBarAlwaysVisible||n.scrollerWidth-f-2*this.$padding<0),b=this.$horizScroll!==a,k,r,s,h,p,l;b&&(this.$horizScroll=a,this.scrollBarH.setVisible(a));k=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var o=this.scrollTop%this.lineHeight,v=n.scrollerHeight+this.lineHeight,d=!this.$maxLines&&this.$scrollPastEnd?(n.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;e+=d;r=this.scrollMargin;this.session.setScrollTop(Math.max(-r.top,Math.min(this.scrollTop,e-n.scrollerHeight+r.bottom)));this.session.setScrollLeft(Math.max(-r.left,Math.min(this.scrollLeft,f+2*this.$padding-n.scrollerWidth+r.right)));s=!w&&(this.$vScrollBarAlwaysVisible||n.scrollerHeight-e+d<0||this.scrollTop>r.top);h=k!==s;h&&(this.$vScroll=s,this.scrollBarV.setVisible(s));var y,g,tt=Math.ceil(v/this.lineHeight)-1,t=Math.max(0,Math.round((this.scrollTop-o)/this.lineHeight)),c=t+tt,u=this.lineHeight;return t=i.screenToDocumentRow(t,0),p=i.getFoldLine(t),p&&(t=p.start.row),y=i.documentToScreenRow(t,0),g=i.getRowLength(t)*u,c=Math.min(i.screenToDocumentRow(c,0),i.getLength()-1),v=n.scrollerHeight+i.getRowLength(c)*u+g,o=this.scrollTop-y*u,l=0,this.layerConfig.width!=f&&(l=this.CHANGE_H_SCROLL),(b||h)&&(l=this.$updateCachedSize(!0,this.gutterWidth,n.width,n.height),this._signal("scrollbarVisibilityChanged"),h&&(f=this.$getLongestLine())),this.layerConfig={width:f,padding:this.$padding,firstRow:t,firstRowScreen:y,lastRow:c,lineHeight:u,characterWidth:this.characterWidth,minHeight:v,maxHeight:e,offset:o,gutterOffset:u?Math.max(0,Math.ceil((o+n.height-n.scrollerHeight)/u)):0,height:this.$size.scrollerHeight},l};this.$updateLines=function(){var i=this.$changedLines.firstRow,t=this.$changedLines.lastRow,n;return this.$changedLines=null,n=this.layerConfig,(i>n.lastRow+1||t<n.firstRow)?void 0:t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,i,t),!0)};this.$getLongestLine=function(){var n=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(n+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(n*this.characterWidth))};this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0));this.$loop.schedule(this.CHANGE_MARKER_FRONT)};this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers());this.$loop.schedule(this.CHANGE_MARKER_BACK)};this.addGutterDecoration=function(n,t){this.$gutterLayer.addGutterDecoration(n,t)};this.removeGutterDecoration=function(n,t){this.$gutterLayer.removeGutterDecoration(n,t)};this.updateBreakpoints=function(){this.$loop.schedule(this.CHANGE_GUTTER)};this.setAnnotations=function(n){this.$gutterLayer.setAnnotations(n);this.$loop.schedule(this.CHANGE_GUTTER)};this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)};this.hideCursor=function(){this.$cursorLayer.hideCursor()};this.showCursor=function(){this.$cursorLayer.showCursor()};this.scrollSelectionIntoView=function(n,t,i){this.scrollCursorIntoView(n,i);this.scrollCursorIntoView(t,i)};this.scrollCursorIntoView=function(n,t,i){var f;if(0!==this.$size.scrollerHeight){var o=this.$cursorLayer.getPixelPosition(n),u=o.left,r=o.top,s=i&&i.top||0,h=i&&i.bottom||0,e=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;e+s>r?(t&&e+s>r+this.lineHeight&&(r-=t*this.$size.scrollerHeight),0===r&&(r=-this.scrollMargin.top),this.session.setScrollTop(r)):e+this.$size.scrollerHeight-h<r+this.lineHeight&&(t&&e+this.$size.scrollerHeight-h<r-this.lineHeight&&(r+=t*this.$size.scrollerHeight),this.session.setScrollTop(r+this.lineHeight-this.$size.scrollerHeight));f=this.scrollLeft;f>u?(u<this.$padding+2*this.layerConfig.characterWidth&&(u=-this.scrollMargin.left),this.session.setScrollLeft(u)):f+this.$size.scrollerWidth<u+this.characterWidth?this.session.setScrollLeft(Math.round(u+this.characterWidth-this.$size.scrollerWidth)):f<=this.$padding&&u-f<this.characterWidth&&this.session.setScrollLeft(0)}};this.getScrollTop=function(){return this.session.getScrollTop()};this.getScrollLeft=function(){return this.session.getScrollLeft()};this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight};this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)};this.scrollToRow=function(n){this.session.setScrollTop(n*this.lineHeight)};this.alignCursor=function(n,t){"number"==typeof n&&(n={row:n,column:0});var r=this.$cursorLayer.getPixelPosition(n),u=this.$size.scrollerHeight-this.lineHeight,i=r.top-u*(t||0);return this.session.setScrollTop(i),i};this.STEPS=8;this.$calcSteps=function(n,t){for(var i=0,u=this.STEPS,r=[],f=function(n,t,i){return i*(Math.pow(n-1,3)+1)+t},i=0;u>i;++i)r.push(f(i/this.STEPS,n,t-n));return r};this.scrollToLine=function(n,t,i,r){var e=this.$cursorLayer.getPixelPosition({row:n,column:0}),u=e.top,f;t&&(u-=this.$size.scrollerHeight/2);f=this.scrollTop;this.session.setScrollTop(u);i!==!1&&this.animateScrolling(f,r)};this.animateScrolling=function(n,t){var r=this.scrollTop,i,f,u;if(this.$animatedScroll&&(i=this,n!=r)){if(this.$scrollAnimation&&(f=this.$scrollAnimation.steps,f.length&&(n=f[0],n==r)))return;u=i.$calcSteps(n,r);this.$scrollAnimation={from:n,to:r,steps:u};clearInterval(this.$timer);i.session.setScrollTop(u.shift());i.session.$scrollTop=r;this.$timer=setInterval(function(){u.length?(i.session.setScrollTop(u.shift()),i.session.$scrollTop=r):null!=r?(i.session.$scrollTop=-1,i.session.setScrollTop(r),r=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,t&&t())},10)}};this.scrollToY=function(n){this.scrollTop!==n&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=n)};this.scrollToX=function(n){this.scrollLeft!==n&&(this.scrollLeft=n);this.$loop.schedule(this.CHANGE_H_SCROLL)};this.scrollTo=function(n,t){this.session.setScrollTop(t);this.session.setScrollLeft(t)};this.scrollBy=function(n,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t);n&&this.session.setScrollLeft(this.session.getScrollLeft()+n)};this.isScrollableBy=function(n,t){return 0>t&&this.session.getScrollTop()>=1-this.scrollMargin.top?!0:t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom?!0:0>n&&this.session.getScrollLeft()>=1-this.scrollMargin.left?!0:n>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right?!0:void 0};this.pixelToScreenCoordinates=function(n,t){var i=this.scroller.getBoundingClientRect(),r=(n+this.scrollLeft-i.left-this.$padding)/this.characterWidth,f=Math.floor((t+this.scrollTop-i.top)/this.lineHeight),u=Math.round(r);return{row:f,column:u,side:r-u>0?1:-1}};this.screenToTextCoordinates=function(n,t){var i=this.scroller.getBoundingClientRect(),r=Math.round((n+this.scrollLeft-i.left-this.$padding)/this.characterWidth),u=(t+this.scrollTop-i.top)/this.lineHeight;return this.session.screenToDocumentPosition(u,Math.max(r,0))};this.textToScreenCoordinates=function(n,t){var i=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(n,t),u=this.$padding+Math.round(r.column*this.characterWidth),f=r.row*this.lineHeight;return{pageX:i.left+u-this.scrollLeft,pageY:i.top+f-this.scrollTop}};this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")};this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")};this.showComposition=function(){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText});this.$keepTextAreaAtCursor=!0;i.addCssClass(this.textarea,"ace_composition");this.textarea.style.cssText="";this.$moveTextAreaToCursor()};this.setCompositionText=function(){this.$moveTextAreaToCursor()};this.hideComposition=function(){this.$composition&&(i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)};this.setTheme=function(n,t){function f(r){if(u.$themeId!=n)return t&&t();if(!r||!r.cssClass)throw new Error("couldn't load module "+n+" or it didn't call define");i.importCssString(r.cssText,r.cssClass,u.container.ownerDocument);u.theme&&i.removeCssClass(u.container,u.theme.cssClass);var f="padding"in r?r.padding:"padding"in(u.theme||{})?4:u.$padding;u.$padding&&f!=u.$padding&&u.setPadding(f);u.$theme=r.cssClass;u.theme=r;i.addCssClass(u.container,r.cssClass);i.setCssClass(u.container,"ace_dark",r.isDark);u.$size&&(u.$size.width=0,u.$updateSizeAsync());u._dispatchEvent("themeLoaded",{theme:r});t&&t()}var u=this,e;(this.$themeId=n,u._dispatchEvent("themeChange",{theme:n}),n&&"string"!=typeof n)?f(n):(e=n||this.$options.theme.initialValue,r.loadModule(["theme",e],f))};this.getTheme=function(){return this.$themeId};this.setStyle=function(n,t){i.setCssClass(this.container,n,t!==!1)};this.unsetStyle=function(n){i.removeCssClass(this.container,n)};this.setCursorStyle=function(n){this.scroller.style.cursor!=n&&(this.scroller.style.cursor=n)};this.setMouseCursor=function(n){this.scroller.style.cursor=n};this.destroy=function(){this.$textLayer.destroy();this.$cursorLayer.destroy()}}.call(u.prototype);r.defineOptions(u.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(n){this.$textLayer.setShowInvisibles(n)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(n){"number"==typeof n&&(this.$printMarginColumn=n);this.$showPrintMargin=!!n;this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(n){this.$gutter.style.display=n?"block":"none";this.$loop.schedule(this.CHANGE_FULL);this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(n){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",n)},initialValue:!1},showFoldWidgets:{set:function(n){this.$gutterLayer.setShowFoldWidgets(n)},initialValue:!0},showLineNumbers:{set:function(n){this.$gutterLayer.setShowLineNumbers(n);this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(n){this.$textLayer.setDisplayIndentGuides(n)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(n){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=n?"":"none",void(this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight())):(this.$gutterLineHighlight=i.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",this.$gutter.appendChild(this.$gutterLineHighlight),void 0)},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(n){"number"==typeof n&&(n+="px");this.container.style.fontSize=n;this.updateFontSize()},initialValue:12},fontFamily:{set:function(n){this.container.style.fontFamily=n;this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.updateFull()}},maxPixelHeight:{set:function(){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(n){n=+n||0;this.$scrollPastEnd!=n&&(this.$scrollPastEnd=n,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(n){this.$gutterLayer.$fixedWidth=!!n;this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(n){this.setTheme(n)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}});t.VirtualRenderer=u});ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(n,t){"use strict";var o=n("../lib/oop"),f=n("../lib/net"),e=n("../lib/event_emitter").EventEmitter,i=n("../config"),r=function(t,r,u,f){var e,o;(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),n.nameToUrl&&!n.toUrl&&(n.toUrl=n.nameToUrl),i.get("packaged")||!n.toUrl)?f=f||i.moduleUrl(r,"worker"):(e=this.$normalizePath,f=f||e(n.toUrl("ace/worker/worker.js",null,"_")),o={},t.forEach(function(t){o[t]=e(n.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}));try{this.$worker=new Worker(f)}catch(s){if(!(s instanceof window.DOMException))throw s;var l=this.$workerBlob(f),h=window.URL||window.webkitURL,c=h.createObjectURL(l);this.$worker=new Worker(c);h.revokeObjectURL(c)}this.$worker.postMessage({init:!0,tlns:o,module:r,classname:u});this.callbackId=1;this.callbacks={};this.$worker.onmessage=this.onMessage},u;(function(){o.implement(this,e);this.onMessage=function(n){var t=n.data,i;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":i=this.callbacks[t.id];i&&(i(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}};this.reportError=function(n){window.console&&console.error&&console.error(n)};this.$normalizePath=function(n){return f.qualifyURL(n)};this.terminate=function(){this._signal("terminate",{});this.deltaQueue=null;this.$worker.terminate();this.$worker=null;this.$doc&&this.$doc.off("change",this.changeListener);this.$doc=null};this.send=function(n,t){this.$worker.postMessage({command:n,args:t})};this.call=function(n,t,i){if(i){var r=this.callbackId++;this.callbacks[r]=i;t.push(r)}this.send(n,t)};this.emit=function(n,t){try{this.$worker.postMessage({event:n,data:{data:t.data}})}catch(i){console.error(i.stack)}};this.attachToDocument=function(n){this.$doc&&this.terminate();this.$doc=n;this.call("setValue",[n.getValue()]);n.on("change",this.changeListener)};this.changeListener=function(n){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0));"insert"==n.action?this.deltaQueue.push(n.start,n.lines):this.deltaQueue.push(n.start,n.end)};this.$sendDeltaQueue=function(){var n=this.deltaQueue;n&&(this.deltaQueue=null,n.length>50&&n.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:n}))};this.$workerBlob=function(n){var i="importScripts('"+f.qualifyURL(n)+"');",r,t;try{return new Blob([i],{type:"application/javascript"})}catch(u){return r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,t=new r,t.append(i),t.getBlob("application/javascript")}}}).call(r.prototype);u=function(n,t,r){var s;this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.callbackId=1;this.callbacks={};this.messageBuffer=[];var f=null,h=!1,u=Object.create(e),o=this;this.$worker={};this.$worker.terminate=function(){};this.$worker.postMessage=function(n){o.messageBuffer.push(n);f&&(h?setTimeout(s):s())};this.setEmitSync=function(n){h=n};s=function(){var n=o.messageBuffer.shift();n.command?f[n.command].apply(f,n.args):n.event&&u._signal(n.event,n.data)};u.postMessage=function(n){o.onMessage({data:n})};u.callback=function(n,t){this.postMessage({type:"call",id:t,data:n})};u.emit=function(n,t){this.postMessage({type:"event",name:n,data:t})};i.loadModule(["worker",t],function(n){for(f=new n[r](u);o.messageBuffer.length;)s()})};u.prototype=r.prototype;t.UIWorkerClient=u;t.WorkerClient=r});ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(n,t){"use strict";var i=n("./range").Range,u=n("./lib/event_emitter").EventEmitter,f=n("./lib/oop"),r=function(n,t,i,r,u,f){var o=this,e;this.length=t;this.session=n;this.doc=n.getDocument();this.mainClass=u;this.othersClass=f;this.$onUpdate=this.onUpdate.bind(this);this.doc.on("change",this.$onUpdate);this.$others=r;this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})};this.$pos=i;e=n.getUndoManager().$undoStack||n.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=e.length;this.setup();n.selection.on("changeCursor",this.$onCursorChange)};(function(){f.implement(this,u);this.setup=function(){var u=this,r=this.doc,t=this.session,n;this.selectionBefore=t.selection.toJSON();t.selection.inMultiSelectMode&&t.selection.toSingleRange();this.pos=r.createAnchor(this.$pos.row,this.$pos.column);n=this.pos;n.$insertRight=!0;n.detach();n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+this.length),this.mainClass,null,!1);this.others=[];this.$others.forEach(function(n){var t=r.createAnchor(n.row,n.column);t.$insertRight=!0;t.detach();u.others.push(t)});t.setUndoSelect(!1)};this.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,n=this;this.othersActive=!0;this.others.forEach(function(r){r.markerId=t.addMarker(new i(r.row,r.column,r.row,r.column+n.length),n.othersClass,null,!1)})}};this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var n=0;n<this.others.length;n++)this.session.removeMarker(this.others[n].markerId)}};this.onUpdate=function(n){var t,r,f,u;if(this.$updating)return this.updateAnchors(n);if(t=n,t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var e="insert"===n.action?t.end.column-t.start.column:t.start.column-t.end.column,o=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,s=t.start.column-this.pos.column;if(this.updateAnchors(n),o&&(this.length+=e),o&&!this.session.$fromUndo)if("insert"===n.action)for(r=this.others.length-1;r>=0;r--)f=this.others[r],u={row:f.row,column:f.column+s},this.doc.insertMergedLines(u,n.lines);else if("remove"===n.action)for(r=this.others.length-1;r>=0;r--)f=this.others[r],u={row:f.row,column:f.column+s},this.doc.remove(new i(u.row,u.column,u.row,u.column-e));this.$updating=!1;this.updateMarkers()}};this.updateAnchors=function(n){this.pos.onChange(n);for(var t=this.others.length;t--;)this.others[t].onChange(n);this.updateMarkers()};this.updateMarkers=function(){var n;if(!this.$updating){var u=this,t=this.session,r=function(n,r){t.removeMarker(n.markerId);n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+u.length),r,null,!1)};for(r(this.pos,this.mainClass),n=this.others.length;n--;)r(this.others[n],this.othersClass)}};this.onCursorChange=function(n){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",n)):(this.hideOtherMarkers(),this._emit("cursorLeave",n))}};this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId);this.hideOtherMarkers();this.doc.removeEventListener("change",this.$onUpdate);this.session.selection.removeEventListener("changeCursor",this.$onCursorChange);this.session.setUndoSelect(!0);this.session=null};this.cancel=function(){if(-1!==this.$undoStackDepth){for(var n=this.session.getUndoManager(),i=(n.$undoStack||n.$undostack).length-this.$undoStackDepth,t=0;i>t;t++)n.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(r.prototype);t.PlaceHolder=r});ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,t){function i(n,t){return n.row==t.row&&n.column==t.column}function u(n){var c=n.domEvent,h=c.altKey,l=c.shiftKey,k=c.ctrlKey,a=n.getAccelKey(),p=n.getButton(),o,b,y,e,rt,ut,ft,et;if(k&&r.isMac&&(p=c.button),n.editor.inMultiSelectMode&&2==p)return void n.editor.textInput.onContextMenu(n.domEvent);if(!k&&!h&&!a)return void(0===p&&n.editor.inMultiSelectMode&&n.editor.exitMultiSelectMode());if(0===p){var s,t=n.editor,u=t.selection,v=t.inMultiSelectMode,d=n.getDocumentPosition(),ot=u.getCursor(),st=n.inSelection()||u.isEmpty()&&i(d,ot),g=n.x,nt=n.y,ht=function(n){g=n.clientX;nt=n.clientY},it=t.session,tt=t.renderer.pixelToScreenCoordinates(g,nt),w=tt;if(t.$mouseHandler.$enableJumpToDef)k&&h||a&&h?s=l?"block":"add":h&&t.$blockSelectEnabled&&(s="block");else if(a&&!h){if(s="add",!v&&l)return}else h&&t.$blockSelectEnabled&&(s="block");if(s&&r.isMac&&c.ctrlKey&&t.$mouseHandler.cancelContextMenu(),"add"==s){if(!v&&st)return;v||(o=u.toOrientedRange(),t.addSelectionMarker(o));b=u.rangeList.rangeAtPoint(d);t.$blockScrolling++;t.inVirtualSelectionMode=!0;l&&(b=null,o=u.ranges[0]||o,t.removeSelectionMarker(o));t.once("mouseup",function(){var n=u.toOrientedRange();b&&n.isEmpty()&&i(b.cursor,n.cursor)?u.substractPoint(n.cursor):(l?u.substractPoint(o.cursor):o&&(t.removeSelectionMarker(o),u.addRange(o)),u.addRange(n));t.$blockScrolling--;t.inVirtualSelectionMode=!1})}else if("block"==s)return n.stop(),t.inVirtualSelectionMode=!0,e=[],rt=function(){var n=t.renderer.pixelToScreenCoordinates(g,nt),r=it.screenToDocumentPosition(n.row,n.column);i(w,n)&&i(r,u.lead)||(w=n,t.$blockScrolling++,t.selection.moveToPosition(r),t.renderer.scrollCursorIntoView(),t.removeSelectionMarkers(e),e=u.rectangularRangeBlock(w,tt),t.$mouseHandler.$clickSelection&&1==e.length&&e[0].isEmpty()&&(e[0]=t.$mouseHandler.$clickSelection.clone()),e.forEach(t.addSelectionMarker,t),t.updateSelectionMarkers(),t.$blockScrolling--)},t.$blockScrolling++,v&&!a?u.toSingleRange():!v&&a&&(y=u.toOrientedRange(),t.addSelectionMarker(y)),l?tt=it.documentToScreenPosition(u.lead):u.moveToPosition(d),t.$blockScrolling--,w={row:-1,column:-1},ut=function(){clearInterval(et);t.removeSelectionMarkers(e);e.length||(e=[u.toOrientedRange()]);t.$blockScrolling++;y&&(t.removeSelectionMarker(y),u.toSingleRange(y));for(var n=0;n<e.length;n++)u.addRange(e[n]);t.inVirtualSelectionMode=!1;t.$mouseHandler.$clickSelection=null;t.$blockScrolling--},ft=rt,f.capture(t.container,ht,ut),et=setInterval(function(){ft()},20),n.preventDefault()}}var f=n("../lib/event"),r=n("../lib/useragent");t.onMouseDown=u});ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(n,t){t.defaultCommands=[{name:"addCursorAbove",exec:function(n){n.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(n){n.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(n){n.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(n){n.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(n){n.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(n){n.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(n){n.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(n){n.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(n){n.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(n){n.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(n){n.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}];t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(n){n.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(n){return n&&n.inMultiSelectMode}}];var i=n("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)});ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(n,t){function l(n,t,i){return u.$options.wrap=!0,u.$options.needle=t,u.$options.backwards=-1==i,u.find(n)}function a(n,t){return n.row==t.row&&n.column==t.column}function s(n){n.$multiselectOnSessionChange||(n.$onAddRange=n.$onAddRange.bind(n),n.$onRemoveRange=n.$onRemoveRange.bind(n),n.$onMultiSelect=n.$onMultiSelect.bind(n),n.$onSingleSelect=n.$onSingleSelect.bind(n),n.$multiselectOnSessionChange=t.onSessionChange.bind(n),n.$checkMultiselectChange=n.$checkMultiselectChange.bind(n),n.$multiselectOnSessionChange(n),n.on("changeSession",n.$multiselectOnSessionChange),n.on("mousedown",f),n.commands.addCommands(r.defaultCommands),v(n))}function v(n){function i(){t&&(n.renderer.setMouseCursor(""),t=!1)}var r=n.textInput.getElement(),t=!1;e.addListener(r,"keydown",function(r){var u=18==r.keyCode&&!(r.ctrlKey||r.shiftKey||r.metaKey);n.$blockSelectEnabled&&u?t||(n.renderer.setMouseCursor("crosshair"),t=!0):t&&i()});e.addListener(r,"keyup",i);e.addListener(r,"blur",i)}var y=n("./range_list").RangeList,i=n("./range").Range,h=n("./selection").Selection,f=n("./mouse/multi_select_handler").onMouseDown,e=n("./lib/event"),c=n("./lib/lang"),r=n("./commands/multi_select_commands"),o;t.commands=r.defaultCommands.concat(r.multiSelectCommands);var p=n("./search").Search,u=new p,w=n("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(w.prototype),function(){this.ranges=null;this.rangeList=null;this.addRange=function(n,t){var i,r;if(n){if(!this.inMultiSelectMode&&0===this.rangeCount){if(i=this.toOrientedRange(),this.rangeList.add(i),this.rangeList.add(n),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(n);this.rangeList.removeAll();this.rangeList.add(i);this.$onAddRange(i)}return n.cursor||(n.cursor=n.end),r=this.rangeList.add(n),this.$onAddRange(n),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(n)}};this.toSingleRange=function(n){n=n||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t);n&&this.fromOrientedRange(n)};this.substractPoint=function(n){var t=this.rangeList.substractPoint(n);if(t)return(this.$onRemoveRange(t),t[0])};this.mergeOverlappingRanges=function(){var n=this.rangeList.merge();n.length?this.$onRemoveRange(n):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])};this.$onAddRange=function(n){this.rangeCount=this.rangeList.ranges.length;this.ranges.unshift(n);this._signal("addRange",{range:n})};this.$onRemoveRange=function(n){var t,i,r;for((this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode)&&(t=this.rangeList.ranges.pop(),n.push(t),this.rangeCount=0),i=n.length;i--;)r=this.ranges.indexOf(n[i]),this.ranges.splice(r,1);this._signal("removeRange",{ranges:n});0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session));t=t||this.ranges[0];t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)};this.$initRangeList=function(){this.rangeList||(this.rangeList=new y,this.ranges=[],this.rangeCount=0)};this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]};this.splitIntoLines=function(){var u,f,r,t,e;if(this.rangeCount>1){var o=this.rangeList.ranges,s=o[o.length-1],n=i.fromPoints(o[0].start,s.end);this.toSingleRange();this.setSelectionRange(n,s.cursor==s.start)}else{var n=this.getRange(),l=this.isBackwards(),h=n.start.row,c=n.end.row;if(h==c)return l?(u=n.end,f=n.start):(u=n.start,f=n.end),this.addRange(i.fromPoints(f,f)),void this.addRange(i.fromPoints(u,u));for(r=[],t=this.getLineRange(h,!0),t.start.column=n.start.column,r.push(t),e=h+1;c>e;e++)r.push(this.getLineRange(e,!0));t=this.getLineRange(c,!0);t.end.column=n.end.column;r.push(t);r.forEach(this.addRange,this)}};this.toggleBlockSelection=function(){if(this.rangeCount>1){var n=this.rangeList.ranges,t=n[n.length-1],r=i.fromPoints(n[0].start,t.end);this.toSingleRange();this.setSelectionRange(r,t.cursor==t.start)}else{var u=this.session.documentToScreenPosition(this.selectionLead),f=this.session.documentToScreenPosition(this.selectionAnchor),e=this.rectangularRangeBlock(u,f);e.forEach(this.addRange,this)}};this.rectangularRangeBlock=function(n,t,r){var u=[],b=n.column<t.column,s,y,p,e,l,h,f,w,o,v,c;for(b?(s=n.column,y=t.column):(s=t.column,y=n.column),p=n.row<t.row,p?(e=n.row,l=t.row):(e=t.row,l=n.row),0>s&&(s=0),0>e&&(e=0),e==l&&(r=!0),h=e;l>=h;h++){if(f=i.fromPoints(this.session.screenToDocumentPosition(h,s),this.session.screenToDocumentPosition(h,y)),f.isEmpty()){if(w&&a(f.end,w))break;w=f.end}f.cursor=b?f.start:f.end;u.push(f)}if(p&&u.reverse(),!r){for(o=u.length-1;u[o].isEmpty()&&o>0;)o--;if(o>0)for(v=0;u[v].isEmpty();)v++;for(c=o;c>=v;c--)u[c].isEmpty()&&u.splice(c,1)}return u}}.call(h.prototype);o=n("./editor").Editor,function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.addSelectionMarker=function(n){n.cursor||(n.cursor=n.end);var t=this.getSelectionStyle();return n.marker=this.session.addMarker(n,"ace_selection",t),this.session.$selectionMarkers.push(n),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,n};this.removeSelectionMarker=function(n){if(n.marker){this.session.removeMarker(n.marker);var t=this.session.$selectionMarkers.indexOf(n);-1!=t&&this.session.$selectionMarkers.splice(t,1);this.session.selectionMarkerCount=this.session.$selectionMarkers.length}};this.removeSelectionMarkers=function(n){for(var i,u,t=this.session.$selectionMarkers,r=n.length;r--;)i=n[r],i.marker&&(this.session.removeMarker(i.marker),u=t.indexOf(i),-1!=u&&t.splice(u,1));this.session.selectionMarkerCount=t.length};this.$onAddRange=function(n){this.addSelectionMarker(n.range);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onRemoveRange=function(n){this.removeSelectionMarkers(n.ranges);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(r.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())};this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(r.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))};this.$onMultiSelectExec=function(n){var i=n.command,t=n.editor,r;if(t.multiSelect)return i.multiSelectAction?"forEach"==i.multiSelectAction?r=t.forEachSelection(i,n.args):"forEachLine"==i.multiSelectAction?r=t.forEachSelection(i,n.args,!0):"single"==i.multiSelectAction?(t.exitMultiSelectMode(),r=i.exec(t,n.args||{})):r=i.multiSelectAction(t,n.args||{}):(r=i.exec(t,n.args||{}),t.multiSelect.addRange(t.multiSelect.toOrientedRange()),t.multiSelect.mergeOverlappingRanges()),r};this.forEachSelection=function(n,t,i){var a,e,r,l,o;if(!this.inVirtualSelectionMode){var s,v=i&&i.keepOrder,y=1==i||i&&i.$byLines,c=this.session,u=this.selection,p=u.rangeList,f=(v?u:p).ranges;if(!f.length)return n.exec?n.exec(this,t||{}):n(this,t||{});for(a=u._eventRegistry,u._eventRegistry={},e=new h(c),this.inVirtualSelectionMode=!0,r=f.length;r--;){if(y)for(;r>0&&f[r].start.row==f[r-1].end.row;)r--;e.fromOrientedRange(f[r]);e.index=r;this.selection=c.selection=e;l=n.exec?n.exec(this,t||{}):n(this,t||{});s||void 0===l||(s=l);e.toOrientedRange(f[r])}return e.detach(),this.selection=c.selection=u,this.inVirtualSelectionMode=!1,u._eventRegistry=a,u.mergeOverlappingRanges(),o=this.renderer.$scrollAnimation,this.onCursorChange(),this.onSelectionChange(),o&&o.from==o.to&&this.renderer.animateScrolling(o.from),s}};this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()};this.getSelectedText=function(){var n="",r;if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var u=this.multiSelect.rangeList.ranges,t=[],i=0;i<u.length;i++)t.push(this.session.getTextRange(u[i]));r=this.session.getDocument().getNewLineCharacter();n=t.join(r);n.length==(t.length-1)*r.length&&(n="")}else this.selection.isEmpty()||(n=this.session.getTextRange(this.getSelectionRange()));return n};this.$checkMultiselectChange=function(n,t){var i,r;if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){if(i=this.multiSelect.ranges[0],this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;r=t==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;(r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}};this.findAll=function(n,t,i){var u,r,f,e;if((t=t||{},t.needle=n||t.needle,void 0==t.needle)&&(u=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange(),t.needle=this.session.getTextRange(u)),this.$search.set(t),r=this.$search.findAll(this.session),!r.length)return 0;for(this.$blockScrolling+=1,f=this.multiSelect,i||f.toSingleRange(r[0]),e=r.length;e--;)f.addRange(r[e],!0);return u&&f.rangeList.rangeAtPoint(u.start)&&f.addRange(u,!0),this.$blockScrolling-=1,r.length};this.selectMoreLines=function(n,t){var r=this.selection.toOrientedRange(),c=r.cursor==r.end,f=this.session.documentToScreenPosition(r.cursor),e,s,o,u,h;this.selection.$desiredColumn&&(f.column=this.selection.$desiredColumn);e=this.session.screenToDocumentPosition(f.row+n,f.column);r.isEmpty()?o=e:(s=this.session.documentToScreenPosition(c?r.end:r.start),o=this.session.screenToDocumentPosition(s.row+n,s.column));c?(u=i.fromPoints(e,o),u.cursor=u.start):(u=i.fromPoints(o,e),u.cursor=u.end);(u.desiredColumn=f.column,this.selection.inMultiSelectMode)?t&&(h=r.cursor):this.selection.addRange(r);this.selection.addRange(u);h&&this.selection.substractPoint(h)};this.transposeSelections=function(n){for(var u,t,r,e=this.session,o=e.multiSelect,f=o.ranges,i=f.length;i--;)t=f[i],t.isEmpty()&&(r=e.getWordRange(t.start.row,t.start.column),t.start.row=r.start.row,t.start.column=r.start.column,t.end.row=r.end.row,t.end.column=r.end.column);for(o.mergeOverlappingRanges(),u=[],i=f.length;i--;)t=f[i],u.unshift(e.getTextRange(t));for(0>n?u.unshift(u.pop()):u.push(u.shift()),i=f.length;i--;)t=f[i],r=t.clone(),e.replace(t,u[i]),t.start.row=r.start.row,t.start.column=r.start.column};this.selectMore=function(n,t,i){var f=this.session,o=f.multiSelect,r=o.toOrientedRange(),e,u;r.isEmpty()&&(r=f.getWordRange(r.start.row,r.start.column),r.cursor=-1==n?r.start:r.end,this.multiSelect.addRange(r),i)||(e=f.getTextRange(r),u=l(f,e,n),u&&(u.cursor=-1==n?u.start:u.end,this.$blockScrolling+=1,this.session.unfold(u),this.multiSelect.addRange(u),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(r.cursor))};this.alignCursors=function(){var e=this.session,l=e.multiSelect,t=l.ranges,y=-1,p=t.filter(function(n){return n.cursor.row==y?!0:void(y=n.cursor.row)}),s,h,u;if(t.length&&p.length!=t.length-1){p.forEach(function(n){l.substractPoint(n.cursor)});var o=0,a=1/0,w=t.map(function(n){var i=n.cursor,r=e.getLine(i.row),t=r.substr(i.column).search(/\S/g);return-1==t&&(t=0),i.column>o&&(o=i.column),a>t&&(a=t),t});t.forEach(function(n,t){var r=n.cursor,u=o-r.column,f=w[t]-a;u>f?e.insert(r,c.stringRepeat(" ",u-f)):e.remove(new i(r.row,r.column,r.row,r.column-u+f));n.start.column=n.end.column=o;n.start.row=n.end.row=r.row;n.cursor=n.end});l.fromOrientedRange(t[0]);this.renderer.updateCursor();this.renderer.updateBackMarkers()}else{var f=this.selection.getRange(),n=f.start.row,r=f.end.row,v=n==r;if(v){h=this.session.getLength();do s=this.session.getLine(r);while(/[=:]/.test(s)&&++r<h);do s=this.session.getLine(n);while(/[=:]/.test(s)&&--n>0);0>n&&(n=0);r>=h&&(r=h-1)}u=this.session.removeFullLines(n,r);u=this.$reAlignText(u,v);this.session.insert({row:n,column:0},u.join("\n")+"\n");v||(f.start.column=0,f.end.column=u[u.length-1].length);this.selection.setRange(f)}};this.$reAlignText=function(n,t){function u(n){return c.stringRepeat(" ",n)}function e(n){return n[2]?u(i)+n[2]+u(f-n[2].length+r)+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}function h(n){return n[2]?u(i+f-n[2].length)+n[2]+u(r," ")+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}function l(n){return n[2]?u(i)+n[2]+u(r)+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}var i,f,r,o=!0,s=!0;return n.map(function(n){var t=n.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==i?(i=t[1].length,f=t[2].length,r=t[3].length,t):(i+f+r!=t[1].length+t[2].length+t[3].length&&(s=!1),i!=t[1].length&&(o=!1),i>t[1].length&&(i=t[1].length),f<t[2].length&&(f=t[2].length),r>t[3].length&&(r=t[3].length),t):[n]}).map(t?e:o?s?h:e:l)}}.call(o.prototype);t.onSessionChange=function(n){var t=n.session,i;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection);this.multiSelect=t&&t.multiSelect;i=n.oldSession;i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange));t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange));t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};t.MultiSelect=s;n("./config").defineOptions(o.prototype,"editor",{enableMultiselect:{set:function(n){s(this);n?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",f)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",f))},value:!0},enableBlockSelect:{set:function(n){this.$blockSelectEnabled=n},value:!0}})});ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(n,t){"use strict";var i=n("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null;this.foldingStopMarker=null;this.getFoldWidget=function(n,t,i){var r=n.getLine(i);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""};this.getFoldWidgetRange=function(){return null};this.indentationBlock=function(n,t,r){var e=/\S/,o=n.getLine(t),s=o.search(e),f,c;if(-1!=s){for(var l=r||o.length,a=n.getLength(),h=t,u=t;++t<a;)if(f=n.getLine(t).search(e),-1!=f){if(s>=f)break;u=t}if(u>h)return c=n.getLine(u).length,new i(h,l,u,c)}};this.openingBracketBlock=function(n,t,r,u,f){var s={row:r,column:u+1},e=n.$findClosingBracket(t,s,f),o;if(e)return o=n.foldWidgets[e.row],null==o&&(o=n.getFoldWidget(e.row)),"start"==o&&e.row>s.row&&(e.row--,e.column=n.getLine(e.row).length),i.fromPoints(s,e)};this.closingBracketBlock=function(n,t,r,u){var f={row:r,column:u},e=n.$findOpeningBracket(t,f);if(e)return e.column++,f.column--,i.fromPoints(e,f)}}).call(r.prototype)});ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";t.isDark=!1;t.cssClass="ace-tm";t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var i=n("../lib/dom");i.importCssString(t.cssText,t.cssClass)});ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(n,t){"use strict";function i(n){this.session=n;this.session.widgetManager=this;this.session.getRowLength=this.getRowLength;this.session.$getWidgetScreenLength=this.$getWidgetScreenLength;this.updateOnChange=this.updateOnChange.bind(this);this.renderWidgets=this.renderWidgets.bind(this);this.measureWidgets=this.measureWidgets.bind(this);this.session._changedWidgets=[];this.$onChangeEditor=this.$onChangeEditor.bind(this);this.session.on("change",this.updateOnChange);this.session.on("changeFold",this.updateOnFold);this.session.on("changeEditor",this.$onChangeEditor)}var r=(n("./lib/oop"),n("./lib/dom"));n("./range").Range,function(){this.getRowLength=function(n){var t;return t=this.lineWidgets?this.lineWidgets[n]&&this.lineWidgets[n].rowCount||0:0,this.$useWrapMode&&this.$wrapData[n]?this.$wrapData[n].length+1+t:1+t};this.$getWidgetScreenLength=function(){var n=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(n+=t.rowCount)}),n};this.$onChangeEditor=function(n){this.attach(n.editor)};this.attach=function(n){n&&n.widgetManager&&n.widgetManager!=this&&n.widgetManager.detach();this.editor!=n&&(this.detach(),this.editor=n,n&&(n.widgetManager=this,n.renderer.on("beforeRender",this.measureWidgets),n.renderer.on("afterRender",this.renderWidgets)))};this.detach=function(){var n=this.editor,t;n&&(this.editor=null,n.widgetManager=null,n.renderer.off("beforeRender",this.measureWidgets),n.renderer.off("afterRender",this.renderWidgets),t=this.session.lineWidgets,t&&t.forEach(function(n){n&&n.el&&n.el.parentNode&&(n._inDocument=!1,n.el.parentNode.removeChild(n.el))}))};this.updateOnFold=function(n,t){var i=t.lineWidgets;if(i&&n.action){for(var o=n.data,u=o.start.row,r=o.end.row,f="add"==n.action,e=u+1;r>e;e++)i[e]&&(i[e].hidden=f);i[r]&&(f?i[u]?i[r].hidden=f:i[u]=i[r]:(i[u]==i[r]&&(i[u]=void 0),i[r].hidden=f))}};this.updateOnChange=function(n){var t=this.session.lineWidgets,i,r,f,u;t&&(i=n.start.row,r=n.end.row-i,0!==r&&("remove"==n.action?(f=t.splice(i+1,r),f.forEach(function(n){n&&this.removeLineWidget(n)},this),this.$updateRows()):(u=new Array(r),u.unshift(i,0),t.splice.apply(t,u),this.$updateRows())))};this.$updateRows=function(){var t=this.session.lineWidgets,n;t&&(n=!0,t.forEach(function(t,i){if(t)for(n=!1,t.row=i;t.$oldWidget;)t.$oldWidget.row=i,t=t.$oldWidget}),n&&(this.session.lineWidgets=null))};this.addLineWidget=function(n){var t,u,i,f;return this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength())),t=this.session.lineWidgets[n.row],t&&(n.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[n.row]=n,n.session=this.session,u=this.editor.renderer,n.html&&!n.el&&(n.el=r.createElement("div"),n.el.innerHTML=n.html),n.el&&(r.addCssClass(n.el,"ace_lineWidgetContainer"),n.el.style.position="absolute",n.el.style.zIndex=5,u.container.appendChild(n.el),n._inDocument=!0),n.coverGutter||(n.el.style.zIndex=3),null==n.pixelHeight&&(n.pixelHeight=n.el.offsetHeight),null==n.rowCount&&(n.rowCount=n.pixelHeight/u.layerConfig.lineHeight),i=this.session.getFoldAt(n.row,0),(n.$fold=i,i)&&(f=this.session.lineWidgets,n.row!=i.end.row||f[i.start.row]?n.hidden=!0:f[i.start.row]=n),this.session._emit("changeFold",{data:{start:{row:n.row}}}),this.$updateRows(),this.renderWidgets(null,u),this.onWidgetChanged(n),n};this.removeLineWidget=function(n){if(n._inDocument=!1,n.session=null,n.el&&n.el.parentNode&&n.el.parentNode.removeChild(n.el),n.editor&&n.editor.destroy)try{n.editor.destroy()}catch(i){}if(this.session.lineWidgets){var t=this.session.lineWidgets[n.row];if(t==n)this.session.lineWidgets[n.row]=n.$oldWidget,n.$oldWidget&&this.onWidgetChanged(n.$oldWidget);else for(;t;){if(t.$oldWidget==n){t.$oldWidget=n.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:n.row}}});this.$updateRows()};this.getWidgetsAtRow=function(n){for(var i=this.session.lineWidgets,t=i&&i[n],r=[];t;)r.push(t),t=t.$oldWidget;return r};this.onWidgetChanged=function(n){this.session._changedWidgets.push(n);this.editor&&this.editor.renderer.updateFull()};this.measureWidgets=function(n,t){var f=this.session._changedWidgets,o=t.layerConfig,u,e,i,r;if(f&&f.length){for(u=1/0,e=0;e<f.length;e++)if(i=f[e],i&&i.el&&i.session==this.session){if(!i._inDocument){if(this.session.lineWidgets[i.row]!=i)continue;i._inDocument=!0;t.container.appendChild(i.el)}i.h=i.el.offsetHeight;i.fixedWidth||(i.w=i.el.offsetWidth,i.screenWidth=Math.ceil(i.w/o.characterWidth));r=i.h/o.lineHeight;i.coverLine&&(r-=this.session.getRowLineCount(i.row),0>r&&(r=0));i.rowCount!=r&&(i.rowCount=r,i.row<u&&(u=i.row))}u!=1/0&&(this.session._emit("changeFold",{data:{start:{row:u}}}),this.session.lineWidgetWidth=null);this.session._changedWidgets=[]}};this.renderWidgets=function(n,t){var r=t.layerConfig,e=this.session.lineWidgets,u,h,f,i,o,s;if(e){for(u=Math.min(this.firstRow,r.firstRow),h=Math.max(this.lastRow,r.lastRow,e.length);u>0&&!e[u];)u--;for(this.firstRow=r.firstRow,this.lastRow=r.lastRow,t.$cursorLayer.config=r,f=u;h>=f;f++)i=e[f],i&&i.el&&(i.hidden?i.el.style.top=-100-(i.pixelHeight||0)+"px":(i._inDocument||(i._inDocument=!0,t.container.appendChild(i.el)),o=t.$cursorLayer.getPixelPosition({row:f,column:0},!0).top,i.coverLine||(o+=r.lineHeight*this.session.getRowLineCount(i.row)),i.el.style.top=o-r.offset+"px",s=i.coverGutter?0:t.gutterWidth,i.fixedWidth||(s-=t.scrollLeft),i.el.style.left=s+"px",i.fullWidth&&i.screenWidth&&(i.el.style.minWidth=r.width+2*r.padding+"px"),i.el.style.right=i.fixedWidth?t.scrollBar.getWidth()+"px":""))}}}.call(i.prototype);t.LineWidgets=i});ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(n,t){"use strict";function u(n,t,i){for(var u,e,r=0,f=n.length-1;f>=r;)if(u=r+f>>1,e=i(t,n[u]),e>0)r=u+1;else{if(!(0>e))return u;f=u-1}return-(r+1)}function f(n,t,i){var o=n.getAnnotations().sort(r.comparePoints),e,f,s;if(o.length&&(e=u(o,{row:t,column:-1},r.comparePoints),0>e&&(e=-e-1),e>=o.length?e=i>0?0:o.length-1:0===e&&0>i&&(e=o.length-1),f=o[e],f&&i)){if(f.row===t){do f=o[e+=i];while(f&&f.row===t);if(!f)return o.slice()}s=[];t=f.row;do s[0>i?"unshift":"push"](f),f=o[e+=i];while(f&&f.row==t);return s.length&&s}}var e=n("../line_widgets").LineWidgets,i=n("../lib/dom"),r=n("../range").Range;t.showErrorMarker=function(n,t){var o=n.session,h,a,s,w,y;o.widgetManager||(o.widgetManager=new e(o),o.widgetManager.attach(n));var u=n.getCursorPosition(),c=u.row,l=o.widgetManager.getWidgetsAtRow(c).filter(function(n){return"errorMarker"==n.type})[0];if(l?l.destroy():c-=t,a=f(o,c,t),a)s=a[0],u.column=(s.pos&&"number"!=typeof s.column?s.pos.sc:s.column)||0,u.row=s.row,h=n.renderer.$gutterLayer.$annotations[u.row];else{if(l)return;h={text:["Looks good!"],className:"ace_ok"}}n.session.unfold(u.row);n.selection.moveToPosition(u);var r={row:u.row,fixedWidth:!0,coverGutter:!0,el:i.createElement("div"),type:"errorMarker"},v=r.el.appendChild(i.createElement("div")),p=r.el.appendChild(i.createElement("div"));p.className="error_widget_arrow "+h.className;w=n.renderer.$cursorLayer.getPixelPosition(u).left;p.style.left=w+n.renderer.gutterWidth-5+"px";r.el.className="error_widget_wrapper";v.className="error_widget "+h.className;v.innerHTML=h.text.join("<br>");v.appendChild(i.createElement("div"));y=function(n,t,i){if(0===t&&("esc"===i||"return"===i))return(r.destroy(),{command:"null"})};r.destroy=function(){n.$mouseHandler.isMousePressed||(n.keyBinding.removeKeyboardHandler(y),o.widgetManager.removeLineWidget(r),n.off("changeSelection",r.destroy),n.off("changeSession",r.destroy),n.off("mouseup",r.destroy),n.off("change",r.destroy))};n.keyBinding.addKeyboardHandler(y);n.on("changeSelection",r.destroy);n.on("changeSession",r.destroy);n.on("mouseup",r.destroy);n.on("change",r.destroy);n.session.widgetManager.addLineWidget(r);r.el.onmousedown=n.focus.bind(n);n.renderer.scrollCursorIntoView(null,.5,{bottom:r.el.offsetHeight})};i.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")});ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(n,t){"use strict";n("./lib/fixoldbrowsers");var i=n("./lib/dom"),r=n("./lib/event"),u=n("./editor").Editor,f=n("./edit_session").EditSession,e=n("./undomanager").UndoManager,o=n("./virtual_renderer").VirtualRenderer;n("./worker/worker_client");n("./keyboard/hash_handler");n("./placeholder");n("./multi_select");n("./mode/folding/fold_mode");n("./theme/textmate");n("./ext/error_marker");t.config=n("./config");t.require=n;"function"==typeof define&&(t.define=define);t.edit=function(n){var c,h,e,l,f,s;if("string"==typeof n&&(c=n,n=document.getElementById(c),!n))throw new Error("ace.edit can't find div #"+c);return n&&n.env&&n.env.editor instanceof u?n.env.editor:(h="",n&&/input|textarea/i.test(n.tagName)?(e=n,h=e.value,n=i.createElement("pre"),e.parentNode.replaceChild(n,e)):n&&(h=i.getInnerText(n),n.innerHTML=""),l=t.createEditSession(h),f=new u(new o(n)),f.setSession(l),s={document:l,editor:f,onResize:f.resize.bind(f,null)},e&&(s.textarea=e),r.addListener(window,"resize",s.onResize),f.on("destroy",function(){r.removeListener(window,"resize",s.onResize);s.editor.container.env=null}),f.container.env=f.env=s,f)};t.createEditSession=function(n,t){var i=new f(n,t);return i.setUndoManager(new e),i};t.EditSession=f;t.UndoManager=e;t.version="1.2.5"}),function(){ace.require(["ace/ace"],function(n){n&&(n.config.init(!0),n.define=ace.define);window.ace||(window.ace=n);for(var t in n)n.hasOwnProperty(t)&&(window.ace[t]=n[t])})}();angular.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(n){if(angular.isUndefined(window.ace))throw new Error("ui-ace need ace to work... (o rly?)");var t=function(n,t,i){var f,r,u;if(angular.isDefined(i.workerPath)&&(f=window.ace.require("ace/config"),f.set("workerPath",i.workerPath)),angular.isDefined(i.require)&&i.require.forEach(function(n){window.ace.require(n)}),angular.isDefined(i.showGutter)&&n.renderer.setShowGutter(i.showGutter),angular.isDefined(i.useWrapMode)&&t.setUseWrapMode(i.useWrapMode),angular.isDefined(i.showInvisibles)&&n.renderer.setShowInvisibles(i.showInvisibles),angular.isDefined(i.showIndentGuides)&&n.renderer.setDisplayIndentGuides(i.showIndentGuides),angular.isDefined(i.useSoftTabs)&&t.setUseSoftTabs(i.useSoftTabs),angular.isDefined(i.showPrintMargin)&&n.setShowPrintMargin(i.showPrintMargin),angular.isDefined(i.disableSearch)&&i.disableSearch&&n.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return!1},readOnly:!0}]),angular.isString(i.theme)&&n.setTheme("ace/theme/"+i.theme),angular.isString(i.mode)&&t.setMode("ace/mode/"+i.mode),angular.isDefined(i.firstLineNumber)&&(angular.isNumber(i.firstLineNumber)?t.setOption("firstLineNumber",i.firstLineNumber):angular.isFunction(i.firstLineNumber)&&t.setOption("firstLineNumber",i.firstLineNumber())),angular.isDefined(i.advanced))for(r in i.advanced)u={name:r,value:i.advanced[r]},n.setOption(u.name,u.value);if(angular.isDefined(i.rendererOptions))for(r in i.rendererOptions)u={name:r,value:i.rendererOptions[r]},n.renderer.setOption(u.name,u.value);angular.forEach(i.callbacks,function(t){angular.isFunction(t)&&t(n)})};return{restrict:"EA",require:"?ngModel",link:function(i,r,u,f){var c,l,s=n.ace||{},o=angular.extend({},s,i.$eval(u.uiAce)),e=window.ace.edit(r[0]),h=e.getSession(),v=function(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);angular.isDefined(n)&&i.$evalAsync(function(){if(!angular.isFunction(n))throw new Error("ui-ace use a function as callback.");n(t)})},y={onChange:function(n){return function(t){var r=h.getValue();!f||r===f.$viewValue||i.$$phase||i.$root.$$phase||i.$evalAsync(function(){f.$setViewValue(r)});v(n,t,e)}},onBlur:function(n){return function(){v(n,e)}}},a;u.$observe("readonly",function(n){e.setReadOnly(!!n||""===n)});f&&(f.$formatters.push(function(n){if(angular.isUndefined(n)||null===n)return"";if(angular.isObject(n)||angular.isArray(n))throw new Error("ui-ace cannot use an object or an array as a model");return n}),f.$render=function(){h.setValue(f.$viewValue)});a=function(n,r){n!==r&&(o=angular.extend({},s,i.$eval(u.uiAce)),o.callbacks=[o.onLoad],o.onLoad!==s.onLoad&&o.callbacks.unshift(s.onLoad),h.removeListener("change",c),c=y.onChange(o.onChange),h.on("change",c),e.removeListener("blur",l),l=y.onBlur(o.onBlur),e.on("blur",l),t(e,h,o))};i.$watch(u.uiAce,a,!0);a(s);r.on("$destroy",function(){e.session.$stopWorker();e.destroy()});i.$watch(function(){return[r[0].offsetWidth,r[0].offsetHeight]},function(){e.resize();e.renderer.updateFull()},!0)}}}]);ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],function(n,t){"use strict";var l=n("./lib/oop"),a=n("./lib/event_emitter").EventEmitter,h=n("./lib/lang"),f=n("./range").Range,v=n("./anchor").Anchor,y=n("./keyboard/hash_handler").HashHandler,p=n("./tokenizer").Tokenizer,r=f.comparePoints,i=function(){this.snippetMap={};this.snippetNameMap={}},e,u,o,s,c;(function(){l.implement(this,a);this.getTokenizer=function(){function t(n,t,i){return n=n.substr(1),/^\d+$/.test(n)&&!i.inFormatString?[{tabstopId:parseInt(n,10)}]:[{text:n}]}function n(n){return"(?:[^\\\\"+n+"]|\\\\.)"}return i.$tokenizer=new p({start:[{regex:/:/,onMatch:function(n,t,i){return i.length&&i[0].expectIf?(i[0].expectIf=!1,i[0].elseBranch=i[0],[i[0]]):":"}},{regex:/\\./,onMatch:function(n,t,i){var r=n[1];return"}"==r&&i.length?n=r:-1!="`$\\".indexOf(r)?n=r:i.inFormatString&&("n"==r?n="\n":"t"==r?n="\n":-1!="ulULE".indexOf(r)&&(n={changeCase:r,local:r>"a"})),[n]}},{regex:/}/,onMatch:function(n,t,i){return[i.length?i.shift():n]}},{regex:/\$(?:\d+|\w+)/,onMatch:t},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(n,i,r){var u=t(n.substr(1),i,r);return r.unshift(u[0]),u},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+n("\\|")+"*\\|",onMatch:function(n,t,i){i[0].choices=n.slice(1,-1).split(",")},next:"start"},{regex:"/("+n("/")+"+)/(?:("+n("/")+"*)/)(\\w*):?",onMatch:function(n,t,i){var r=i[0];return r.fmtString=n,n=this.splitRegex.exec(n),r.guard=n[1],r.fmt=n[2],r.flag=n[3],""},next:"start"},{regex:"`"+n("`")+"*`",onMatch:function(n,t,i){return i[0].code=n.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(n,t,i){i[0]&&(i[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+n("/")+"+)/",token:"regex"},{regex:"",onMatch:function(n,t,i){i.inFormatString=!0},next:"start"}]}),i.prototype.getTokenizer=function(){return i.$tokenizer},i.$tokenizer};this.tokenizeTmSnippet=function(n,t){return this.getTokenizer().getLineTokens(n,t).tokens.map(function(n){return n.value||n})};this.$getDefaultValue=function(n,t){var r,i,u;if(/^[A-Z]\d+$/.test(t))return r=t.substr(1),(this.variables[t[0]+"__"]||{})[r];if(/^\d+$/.test(t))return(this.variables.__||{})[t];if(t=t.replace(/^TM_/,""),n){i=n.session;switch(t){case"CURRENT_WORD":u=i.getWordRange();case"SELECTION":case"SELECTED_TEXT":return i.getTextRange(u);case"CURRENT_LINE":return i.getLine(n.getCursorPosition().row);case"PREV_LINE":return i.getLine(n.getCursorPosition().row-1);case"LINE_INDEX":return n.getCursorPosition().column;case"LINE_NUMBER":return n.getCursorPosition().row+1;case"SOFT_TABS":return i.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return i.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}}};this.variables={};this.getVariableValue=function(n,t){return this.variables.hasOwnProperty(t)?this.variables[t](n,t)||"":this.$getDefaultValue(n,t)||""};this.tmStrFormat=function(n,t,i){var f=t.flag||"",r=t.guard;r=new RegExp(r,f.replace(/[^gi]/,""));var e=this.tokenizeTmSnippet(t.fmt,"formatString"),u=this,o=n.replace(r,function(){var r,f;u.variables.__=arguments;for(var n=u.resolveVariables(e,i),o="E",t=0;t<n.length;t++)r=n[t],"object"==typeof r?(n[t]="",r.changeCase&&r.local)?(f=n[t+1],f&&"string"==typeof f&&(n[t]="u"==r.changeCase?f[0].toUpperCase():f[0].toLowerCase(),n[t+1]=f.substr(1))):r.changeCase&&(o=r.changeCase):"U"==o?n[t]=r.toUpperCase():"L"==o&&(n[t]=r.toLowerCase());return n.join("")});return this.variables.__=null,o};this.resolveVariables=function(n,t){function e(t){var i=n.indexOf(t,r+1);-1!=i&&(r=i)}for(var i,u,f=[],r=0;r<n.length;r++)if(i=n[r],"string"==typeof i)f.push(i);else{if("object"!=typeof i)continue;if(i.skip)e(i);else{if(i.processed<r)continue;i.text?(u=this.getVariableValue(t,i.text),u&&i.fmtString&&(u=this.tmStrFormat(u,i)),i.processed=r,null==i.expectIf?u&&(f.push(u),e(i)):u?i.skip=i.elseBranch:e(i)):null!=i.tabstopId?f.push(i):null!=i.changeCase&&f.push(i)}}return f};this.insertSnippetForSelection=function(n,t){function k(n){for(var t,u,r=[],i=0;i<n.length;i++){if(t=n[i],"object"==typeof t){if(o[t.tabstopId])continue;u=n.lastIndexOf(t,i-1);t=r[u]||{tabstopId:t.tabstopId}}r[i]=t}return r}var v=n.getCursorPosition(),d=n.session.getLine(v.row),g=n.session.getTabString(),c=d.match(/^\s*/)[0],i,f,o,u,r,s,p,h,l;for(v.column<c.length&&(c=c.slice(0,v.column)),t=t.replace(/\r/g,""),i=this.tokenizeTmSnippet(t),i=this.resolveVariables(i,n),i=i.map(function(n){return"\n"==n?n+c:"string"==typeof n?n.replace(/\t/g,g):n}),f=[],i.forEach(function(n,t){var e,r,o,u,s;"object"==typeof n&&(e=n.tabstopId,r=f[e],(r||(r=f[e]=[],r.index=e,r.value=""),-1===r.indexOf(n))&&(r.push(n),o=i.indexOf(n,t+1),-1!==o&&(u=i.slice(t+1,o),s=u.some(function(n){return"object"==typeof n}),s&&!r.value?r.value=u:u.length&&(!r.value||"string"!=typeof r.value)&&(r.value=u.join("")))))}),f.forEach(function(n){n.length=0}),o={},u=0;u<i.length;u++)r=i[u],"object"==typeof r&&(s=r.tabstopId,p=i.indexOf(r,u+1),o[s]?o[s]===r&&(o[s]=null):(h=f[s],l="string"==typeof h.value?[h.value]:k(h.value),l.unshift(u+1,Math.max(0,p-u)),l.push(r),o[s]=r,i.splice.apply(i,l),-1===h.indexOf(r)&&h.push(r)));var y=0,a=0,w="";i.forEach(function(n){if("string"==typeof n){var t=n.split("\n");t.length>1?(a=t[t.length-1].length,y+=t.length-1):a+=n.length;w+=n}else n.start?n.end={row:y,column:a}:n.start={row:y,column:a}});var b=n.getSelectionRange(),nt=n.session.replace(b,w),tt=new e(n),it=n.inVirtualSelectionMode&&n.selection.index;tt.addTabstops(f,b.start,nt,it)};this.insertSnippet=function(n,t){var i=this;return n.inVirtualSelectionMode?i.insertSnippetForSelection(n,t):(n.forEachSelection(function(){i.insertSnippetForSelection(n,t)},null,{keepOrder:!0}),void(n.tabstopManager&&n.tabstopManager.tabNext()))};this.$getScope=function(n){var t=n.session.$mode.$id||"",r,i;return(t=t.split("/").pop(),"html"===t||"php"===t)&&("php"!==t||n.session.$mode.inlinePhp||(t="html"),r=n.getCursorPosition(),i=n.session.getState(r.row),"object"==typeof i&&(i=i[0]),i.substring&&("js-"==i.substring(0,3)?t="javascript":"css-"==i.substring(0,4)?t="css":"php-"==i.substring(0,4)&&(t="php"))),t};this.getActiveScopes=function(n){var t=this.$getScope(n),i=[t],r=this.snippetMap;return r[t]&&r[t].includeScopes&&i.push.apply(i,r[t].includeScopes),i.push("_"),i};this.expandWithTab=function(n,t){var r=this,i=n.forEachSelection(function(){return r.expandSnippetForSelection(n,t)},null,{keepOrder:!0});return i&&n.tabstopManager&&n.tabstopManager.tabNext(),i};this.expandSnippetForSelection=function(n,t){var i,r=n.getCursorPosition(),u=n.session.getLine(r.row),f=u.substring(0,r.column),e=u.substr(r.column),o=this.snippetMap;return this.getActiveScopes(n).some(function(n){var t=o[n];return t&&(i=this.findMatchingSnippet(t,f,e)),!!i},this),i?t&&t.dryRun?!0:(n.session.doc.removeInLine(r.row,r.column-i.replaceBefore.length,r.column+i.replaceAfter.length),this.variables.M__=i.matchBefore,this.variables.T__=i.matchAfter,this.insertSnippetForSelection(n,i.content),this.variables.M__=this.variables.T__=null,!0):!1};this.findMatchingSnippet=function(n,t,i){for(var r,u=n.length;u--;)if(r=n[u],(!r.startRe||r.startRe.test(t))&&(!r.endRe||r.endRe.test(i))&&(r.startRe||r.endRe))return r.matchBefore=r.startRe?r.startRe.exec(t):[""],r.matchAfter=r.endRe?r.endRe.exec(i):[""],r.replaceBefore=r.triggerRe?r.triggerRe.exec(t)[0]:"",r.replaceAfter=r.endTriggerRe?r.endTriggerRe.exec(i)[0]:"",r};this.snippetMap={};this.snippetNameMap={};this.register=function(n,t){function r(n){return n&&!/^\^?\(.*\)\$?$|^\\b$/.test(n)&&(n="(?:"+n+")"),n||""}function u(n,t,i){return n=r(n),t=r(t),i?(n=t+n,n&&"$"!=n[n.length-1]&&(n+="$")):(n+=t,n&&"^"!=n[0]&&(n="^"+n)),new RegExp(n)}function f(n){var r,f;n.scope||(n.scope=t||"_");t=n.scope;i[t]||(i[t]=[],e[t]={});r=e[t];n.name&&(f=r[n.name],f&&o.unregister(f),r[n.name]=n);i[t].push(n);n.tabTrigger&&!n.trigger&&(!n.guard&&/^\w/.test(n.tabTrigger)&&(n.guard="\\b"),n.trigger=h.escapeRegExp(n.tabTrigger));(n.trigger||n.guard||n.endTrigger||n.endGuard)&&(n.startRe=u(n.trigger,n.guard,!0),n.triggerRe=new RegExp(n.trigger,"",!0),n.endRe=u(n.endTrigger,n.endGuard,!0),n.endTriggerRe=new RegExp(n.endTrigger,"",!0))}var i=this.snippetMap,e=this.snippetNameMap,o=this;n||(n=[]);n&&n.content?f(n):Array.isArray(n)&&n.forEach(f);this._signal("registerSnippets",{scope:t})};this.unregister=function(n,t){function i(n){var f=u[n.scope||t],i,e;f&&f[n.name]&&(delete f[n.name],i=r[n.scope||t],e=i&&i.indexOf(n),e>=0&&i.splice(e,1))}var r=this.snippetMap,u=this.snippetNameMap;n.content?i(n):Array.isArray(n)&&n.forEach(i)};this.parseSnippetFile=function(n){var f,i,u;n=n.replace(/\r/g,"");for(var r,e=[],t={},o=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;r=o.exec(n);){if(r[1])try{t=JSON.parse(r[1]);e.push(t)}catch(s){}r[4]?(t.content=r[4].replace(/^\t/gm,""),e.push(t),t={}):(f=r[2],i=r[3],"regex"==f?(u=/\/((?:[^\/\\]|\\.)*)|$/g,t.guard=u.exec(i)[1],t.trigger=u.exec(i)[1],t.endTrigger=u.exec(i)[1],t.endGuard=u.exec(i)[1]):"snippet"==f?(t.tabTrigger=i.match(/^\S*/)[0],t.name||(t.name=i)):t[f]=i)}return e};this.getSnippetByName=function(n,t){var i,r=this.snippetNameMap;return this.getActiveScopes(t).some(function(t){var u=r[t];return u&&(i=u[n]),!!i},this),i}}).call(i.prototype);e=function(n){return n.tabstopManager?n.tabstopManager:(n.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=h.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(n),void 0)},function(){this.attach=function(n){this.index=0;this.ranges=[];this.tabstops=[];this.$openTabstops=null;this.selectedTabstop=null;this.editor=n;this.editor.on("change",this.$onChange);this.editor.on("changeSelection",this.$onChangeSelection);this.editor.on("changeSession",this.$onChangeSession);this.editor.commands.on("afterExec",this.$onAfterExec);this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)};this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this);this.ranges=null;this.tabstops=null;this.selectedTabstop=null;this.editor.removeListener("change",this.$onChange);this.editor.removeListener("changeSelection",this.$onChangeSelection);this.editor.removeListener("changeSession",this.$onChangeSession);this.editor.commands.removeListener("afterExec",this.$onAfterExec);this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.tabstopManager=null;this.editor=null};this.onChange=function(n){var c="r"==n.action[0],i=n.start,e=n.end,u=i.row,v=e.row,o=v-u,s=e.column-i.column,l,a,h,f,t;if((c&&(o=-o,s=-s),!this.$inChange&&c)&&(l=this.selectedTabstop,a=l&&!l.some(function(n){return r(n.start,i)<=0&&r(n.end,e)>=0}),a))return this.detach();for(h=this.ranges,f=0;f<h.length;f++)t=h[f],t.end.row<i.row||(c&&r(i,t.start)<0&&r(e,t.end)>0?(this.removeRange(t),f--):(t.start.row==u&&t.start.column>i.column&&(t.start.column+=s),t.end.row==u&&t.end.column>=i.column&&(t.end.column+=s),t.start.row>=u&&(t.start.row+=o),t.end.row>=u&&(t.end.row+=o),r(t.start,t.end)>0&&this.removeRange(t)));h.length||this.detach()};this.updateLinkedFields=function(){var n=this.selectedTabstop,i,f;if(n&&n.hasLinkedRanges){this.$inChange=!0;for(var r=this.editor.session,e=r.getTextRange(n.firstNonLinked),u=n.length;u--;)i=n[u],i.linked&&(f=t.snippetManager.tmStrFormat(e,i.original),r.replace(i,f));this.$inChange=!1}};this.onAfterExec=function(n){n.command&&!n.command.readOnly&&this.updateLinkedFields()};this.onChangeSelection=function(){var r,u;if(this.editor){for(var t=this.editor.selection.lead,i=this.editor.selection.anchor,f=this.editor.selection.isEmpty(),n=this.ranges.length;n--;)if(!this.ranges[n].linked&&(r=this.ranges[n].contains(t.row,t.column),u=f||this.ranges[n].contains(i.row,i.column),r&&u))return;this.detach()}};this.onChangeSession=function(){this.detach()};this.tabNext=function(n){var i=this.tabstops.length,t=this.index+(n||1);t=Math.min(Math.max(t,1),i);t==i&&(t=0);this.selectTabstop(t);0===t&&this.detach()};this.selectTabstop=function(n){var t,i,r;if(this.$openTabstops=null,t=this.tabstops[this.index],t&&this.addTabstopMarkers(t),this.index=n,t=this.tabstops[this.index],t&&t.length){if(this.selectedTabstop=t,this.editor.inVirtualSelectionMode)this.editor.selection.setRange(t.firstNonLinked);else{for(i=this.editor.multiSelect,i.toSingleRange(t.firstNonLinked.clone()),r=t.length;r--;)t.hasLinkedRanges&&t[r].linked||i.addRange(t[r].clone(),!0);i.ranges[0]&&i.addRange(i.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)}};this.addTabstops=function(n,t,i){var u;(this.$openTabstops||(this.$openTabstops=[]),n[0])||(u=f.fromPoints(i,i),s(u.start,t),s(u.end,t),n[0]=[u],n[0].index=0);var e=this.index,r=[e+1,0],h=this.ranges;n.forEach(function(n,i){for(var s,e,u=this.$openTabstops[i]||n,c=n.length;c--;)s=n[c],e=f.fromPoints(s.start,s.end||s.start),o(e.start,t),o(e.end,t),e.original=s,e.tabstop=u,h.push(e),u!=n?u.unshift(e):u[c]=e,s.fmtString?(e.linked=!0,u.hasLinkedRanges=!0):u.firstNonLinked||(u.firstNonLinked=e);u.firstNonLinked||(u.hasLinkedRanges=!1);u===n&&(r.push(u),this.$openTabstops[i]=u);this.addTabstopMarkers(u)},this);r.length>2&&(this.tabstops.length&&r.push(r.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,r))};this.addTabstopMarkers=function(n){var t=this.editor.session;n.forEach(function(n){n.markerId||(n.markerId=t.addMarker(n,"ace_snippet-marker","text"))})};this.removeTabstopMarkers=function(n){var t=this.editor.session;n.forEach(function(n){t.removeMarker(n.markerId);n.markerId=null})};this.removeRange=function(n){var t=n.tabstop.indexOf(n);n.tabstop.splice(t,1);t=this.ranges.indexOf(n);this.ranges.splice(t,1);this.editor.session.removeMarker(n.markerId);n.tabstop.length||(t=this.tabstops.indexOf(n.tabstop),-1!=t&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())};this.keyboardHandler=new y;this.keyboardHandler.bindKeys({Tab:function(n){t.snippetManager&&t.snippetManager.expandWithTab(n)||n.tabstopManager.tabNext(1)},"Shift-Tab":function(n){n.tabstopManager.tabNext(-1)},Esc:function(n){n.tabstopManager.detach()},Return:function(){return!1}})}.call(e.prototype);u={};u.onChange=v.prototype.onChange;u.setPosition=function(n,t){this.pos.row=n;this.pos.column=t};u.update=function(n,t,i){this.$insertRight=i;this.pos=n;this.onChange(t)};o=function(n,t){0==n.row&&(n.column+=t.column);n.row+=t.row};s=function(n,t){n.row==t.row&&(n.column-=t.column);n.row-=t.row};n("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}");t.snippetManager=new i;c=n("./editor").Editor,function(){this.insertSnippet=function(n,i){return t.snippetManager.insertSnippet(this,n,i)};this.expandSnippet=function(n){return t.snippetManager.expandWithTab(this,n)}}.call(c.prototype)});ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(n,t){"use strict";var u=n("../virtual_renderer").VirtualRenderer,f=n("../editor").Editor,r=n("../range").Range,e=n("../lib/event"),o=n("../lib/lang"),i=n("../lib/dom"),s=function(n){var i=new u(n),t;return i.$maxLines=4,t=new f(i),t.setHighlightActiveLine(!1),t.setShowPrintMargin(!1),t.renderer.setShowGutter(!1),t.renderer.setHighlightGutterLine(!1),t.$mouseHandler.$focusWaitTimout=0,t.$highlightTagPending=!0,t},h=function(n){var y=i.createElement("div"),t=new s(y),c,f,u,h,l,a,v;return n&&n.appendChild(y),y.style.display="none",t.renderer.content.style.cursor="default",t.renderer.setStyle("ace_autocomplete"),t.setOption("displayIndentGuides",!1),t.setOption("dragDelay",150),c=function(){},t.focus=c,t.$isFocused=!0,t.renderer.$cursorLayer.restartTimer=c,t.renderer.$cursorLayer.element.style.opacity=0,t.renderer.$maxLines=8,t.renderer.$keepTextAreaAtCursor=!1,t.setHighlightActiveLine(!1),t.session.highlight(""),t.session.$searchHighlight.clazz="ace_highlight-marker",t.on("mousedown",function(n){var i=n.getDocumentPosition();t.selection.moveToPosition(i);h.start.row=h.end.row=i.row;n.stop()}),u=new r(-1,0,-1,1/0),h=new r(-1,0,-1,1/0),h.id=t.session.addMarker(h,"ace_active-line","fullLine"),t.setSelectOnHover=function(n){n?u.id&&(t.session.removeMarker(u.id),u.id=null):u.id=t.session.addMarker(u,"ace_line-hover","fullLine")},t.setSelectOnHover(!1),t.on("mousemove",function(n){if(!f)return void(f=n);if(f.x!=n.x||f.y!=n.y){f=n;f.scrollTop=t.renderer.scrollTop;var i=f.getDocumentPosition().row;u.start.row!=i&&(u.id||t.setRow(i),a(i))}}),t.renderer.on("beforeRender",function(){if(f&&-1!=u.start.row){f.$pos=null;var n=f.getDocumentPosition().row;u.id||t.setRow(n);a(n,!0)}}),t.renderer.on("afterRender",function(){var u=t.getRow(),n=t.renderer.$textLayer,r=n.element.childNodes[u-n.config.firstRow];r!=n.selectedNode&&(n.selectedNode&&i.removeCssClass(n.selectedNode,"ace_selected"),n.selectedNode=r,r&&i.addCssClass(r,"ace_selected"))}),l=function(){a(-1)},a=function(n,i){n!==u.start.row&&(u.start.row=u.end.row=n,i||t.session._emit("changeBackMarker"),t._emit("changeHoverMarker"))},t.getHoveredRow=function(){return u.start.row},e.addListener(t.container,"mouseout",l),t.on("hide",l),t.on("changeSelection",l),t.session.doc.getLength=function(){return t.data.length},t.session.doc.getLine=function(n){var i=t.data[n];return"string"==typeof i?i:i&&i.value||""},v=t.session.bgTokenizer,v.$tokenizeRow=function(n){var i=t.data[n],r=[],e,o,s,u,h,f;if(!i)return r;for("string"==typeof i&&(i={value:i}),i.caption||(i.caption=i.value||i.name),s=-1,u=0;u<i.caption.length;u++)o=i.caption[u],e=i.matchMask&1<<u?1:0,s!==e?(r.push({type:i.className||""+(e?"completion-highlight":""),value:o}),s=e):r[r.length-1].value+=o;return i.meta&&(h=t.renderer.$size.scrollerWidth/t.renderer.layerConfig.characterWidth,f=i.meta,f.length+i.caption.length>h-2&&(f=f.substr(0,h-i.caption.length-3)+"…"),r.push({type:"rightAlignedText",value:f})),r},v.$updateOnChange=c,v.start=c,t.session.$computeWidth=function(){return this.screenWidth=0},t.$blockScrolling=1/0,t.isOpen=!1,t.isTopdown=!1,t.data=[],t.setData=function(n){t.setValue(o.stringRepeat("\n",n.length),-1);t.data=n||[];t.setRow(0)},t.getData=function(n){return t.data[n]},t.getRow=function(){return h.start.row},t.setRow=function(n){n=Math.max(0,Math.min(this.data.length,n));h.start.row!=n&&(t.selection.clearSelection(),h.start.row=h.end.row=n||0,t.session._emit("changeBackMarker"),t.moveCursorTo(n||0,0),t.isOpen&&t._signal("select"))},t.on("changeSelection",function(){t.isOpen&&t.setRow(t.selection.lead.row);t.renderer.scrollCursorIntoView()}),t.hide=function(){this.container.style.display="none";this._signal("hide");t.isOpen=!1},t.show=function(n,i,r){var u=this.container,o=window.innerHeight,c=window.innerWidth,h=this.renderer,l=h.$maxLines*i*1.4,e=n.top+this.$borderSize,a=e>o/2&&!r,s;a&&e+i+l>o?(h.$maxPixelHeight=e-2*this.$borderSize,u.style.top="",u.style.bottom=o-e+"px",t.isTopdown=!1):(e+=i,h.$maxPixelHeight=o-e-.2*i,u.style.top=e+"px",u.style.bottom="",t.isTopdown=!0);u.style.display="";this.renderer.$textLayer.checkForSizeChanges();s=n.left;s+u.offsetWidth>c&&(s=c-u.offsetWidth);u.style.left=s+"px";this._signal("show");f=null;t.isOpen=!0},t.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},t.$imageSize=0,t.$borderSize=1,t};i.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}");t.AcePopup=h});ace.define("ace/autocomplete/util",["require","exports","module"],function(n,t){"use strict";t.parForEach=function(n,t,i){var f=0,u=n.length,r;for(0===u&&i(),r=0;u>r;r++)t(n[r],function(n,t){f++;f===u&&i(n,t)})};var i=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;t.retrievePrecedingIdentifier=function(n,t,r){r=r||i;for(var f=[],u=t-1;u>=0&&r.test(n[u]);u--)f.push(n[u]);return f.reverse().join("")};t.retrieveFollowingIdentifier=function(n,t,r){r=r||i;for(var f=[],u=t;u<n.length&&r.test(n[u]);u++)f.push(n[u]);return f};t.getCompletionPrefix=function(n){var t,i=n.getCursorPosition(),r=n.session.getLine(i.row);return n.completers.forEach(function(n){n.identifierRegexps&&n.identifierRegexps.forEach(function(n){!t&&n&&(t=this.retrievePrecedingIdentifier(r,i.column,n))}.bind(this))}.bind(this)),t||this.retrievePrecedingIdentifier(r,i.column)}});ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],function(n,t){"use strict";var f=n("./keyboard/hash_handler").HashHandler,e=n("./autocomplete/popup").AcePopup,o=n("./autocomplete/util"),u=(n("./lib/event"),n("./lib/lang")),s=n("./lib/dom"),h=n("./snippets").snippetManager,i=function(){this.autoInsert=!1;this.autoSelect=!0;this.exactMatch=!1;this.gatherCompletionsId=0;this.keyboardHandler=new f;this.keyboardHandler.bindKeys(this.commands);this.blurListener=this.blurListener.bind(this);this.changeListener=this.changeListener.bind(this);this.mousedownListener=this.mousedownListener.bind(this);this.mousewheelListener=this.mousewheelListener.bind(this);this.changeTimer=u.delayedCall(function(){this.updateCompletions(!0)}.bind(this));this.tooltipTimer=u.delayedCall(this.updateDocTooltip.bind(this),50)},r;(function(){this.$init=function(){return this.popup=new e(document.body||document.documentElement),this.popup.on("click",function(n){this.insertMatch();n.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup};this.getPopup=function(){return this.popup||this.$init()};this.openPopup=function(n,t,i){var u,e,r,f;this.popup||this.$init();this.popup.setData(this.completions.filtered);n.keyBinding.addKeyboardHandler(this.keyboardHandler);u=n.renderer;(this.popup.setRow(this.autoSelect?0:-1),i)?i&&!t&&this.detach():(this.popup.setTheme(n.getTheme()),this.popup.setFontSize(n.getFontSize()),e=u.layerConfig.lineHeight,r=u.$cursorLayer.getPixelPosition(this.base,!0),r.left-=this.popup.getTextLeftOffset(),f=n.container.getBoundingClientRect(),r.top+=f.top-u.layerConfig.offset,r.left+=f.left-n.renderer.scrollLeft,r.left+=u.gutterWidth,this.popup.show(r,e))};this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.off("changeSelection",this.changeListener);this.editor.off("blur",this.blurListener);this.editor.off("mousedown",this.mousedownListener);this.editor.off("mousewheel",this.mousewheelListener);this.changeTimer.cancel();this.hideDocTooltip();this.gatherCompletionsId+=1;this.popup&&this.popup.isOpen&&this.popup.hide();this.base&&this.base.detach();this.activated=!1;this.completions=this.base=null};this.changeListener=function(){var n=this.editor.selection.lead;(n.row!=this.base.row||n.column<this.base.column)&&this.detach();this.activated?this.changeTimer.schedule():this.detach()};this.blurListener=function(n){var t=document.activeElement,i=this.editor.textInput.getElement(),r=n.relatedTarget&&n.relatedTarget==this.tooltipNode,u=this.popup&&this.popup.container;t==i||t.parentNode==u||r||t==this.tooltipNode||n.relatedTarget==i||this.detach()};this.mousedownListener=function(){this.detach()};this.mousewheelListener=function(){this.detach()};this.goTo=function(n){var t=this.popup.getRow(),i=this.popup.session.getLength()-1;switch(n){case"up":t=0>=t?i:t-1;break;case"down":t=t>=i?-1:t+1;break;case"start":t=0;break;case"end":t=i}this.popup.setRow(t)};this.insertMatch=function(n){if(n||(n=this.popup.getData(this.popup.getRow())),!n)return!1;if(n.completer&&n.completer.insertMatch)n.completer.insertMatch(this.editor,n);else{if(this.completions.filterText)for(var t,r=this.editor.selection.getAllRanges(),i=0;t=r[i];i++)t.start.column-=this.completions.filterText.length,this.editor.session.remove(t);n.snippet?h.insertSnippet(this.editor,n.snippet):this.editor.execCommand("insertstring",n.value||n)}this.detach()};this.commands={Up:function(n){n.completer.goTo("up")},Down:function(n){n.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(n){n.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(n){n.completer.goTo("end")},Esc:function(n){n.completer.detach()},Return:function(n){return n.completer.insertMatch()},"Shift-Return":function(n){n.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(n){var t=n.completer.insertMatch();return t||n.tabstopManager?t:void n.completer.goTo("down")},PageUp:function(n){n.completer.popup.gotoPageUp()},PageDown:function(n){n.completer.popup.gotoPageDown()}};this.gatherCompletions=function(n,t){var i=n.getSession(),r=n.getCursorPosition(),f=(i.getLine(r.row),o.getCompletionPrefix(n)),u,e;return this.base=i.doc.createAnchor(r.row,r.column-f.length),this.base.$insertRight=!0,u=[],e=n.completers.length,n.completers.forEach(function(o){o.getCompletions(n,i,r,f,function(r,o){!r&&o&&(u=u.concat(o));var s=n.getCursorPosition();i.getLine(s.row);t(null,{prefix:f,matches:u,finished:0==--e})})}),!0};this.showPopup=function(n){this.editor&&this.detach();this.activated=!0;this.editor=n;n.completer!=this&&(n.completer&&n.completer.detach(),n.completer=this);n.on("changeSelection",this.changeListener);n.on("blur",this.blurListener);n.on("mousedown",this.mousedownListener);n.on("mousewheel",this.mousewheelListener);this.updateCompletions()};this.updateCompletions=function(n){var i,t,u;if(n&&this.base&&this.completions)return(i=this.editor.getCursorPosition(),t=this.editor.session.getTextRange({start:this.base,end:i}),t==this.completions.filterText)?void 0:(this.completions.setFilter(t),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=t||this.completions.filtered[0].snippet)?void this.openPopup(this.editor,t,n):this.detach());u=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(t,i){var s=function(){if(i.finished)return this.detach()}.bind(this),e=i.prefix,o=i&&i.matches,f;return!o||!o.length?s():0===e.indexOf(i.prefix)&&u==this.gatherCompletionsId?(this.completions=new r(o),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(e),f=this.completions.filtered,f.length&&(1!=f.length||f[0].value!=e||f[0].snippet)?this.autoInsert&&1==f.length&&i.finished?this.insertMatch(f[0]):void this.openPopup(this.editor,e,n):s()):void 0}.bind(this))};this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()};this.updateDocTooltip=function(){var t=this.popup,i=t.data,r=i&&(i[t.getHoveredRow()]||i[t.getRow()]),n=null;return r&&this.editor&&this.popup.isOpen?(this.editor.completers.some(function(t){return t.getDocTooltip&&(n=t.getDocTooltip(r)),n}),n||(n=r),"string"==typeof n&&(n={docText:n}),n&&(n.docHTML||n.docText)?void this.showDocTooltip(n):this.hideDocTooltip()):this.hideDocTooltip()};this.showDocTooltip=function(n){var t,i,r;this.tooltipNode||(this.tooltipNode=s.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this));t=this.tooltipNode;n.docHTML?t.innerHTML=n.docHTML:n.docText&&(t.textContent=n.docText);t.parentNode||document.body.appendChild(t);i=this.popup;r=i.container.getBoundingClientRect();t.style.top=i.container.style.top;t.style.bottom=i.container.style.bottom;window.innerWidth-r.right<320?(t.style.right=window.innerWidth-r.left+"px",t.style.left=""):(t.style.left=r.right+1+"px",t.style.right="");t.style.display="block"};this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var n=this.tooltipNode;this.editor.isFocused()||document.activeElement!=n||this.editor.focus();this.tooltipNode=null;n.parentNode&&n.parentNode.removeChild(n)}}}).call(i.prototype);i.startCommand={name:"startAutocomplete",exec:function(n){n.completer||(n.completer=new i);n.completer.autoInsert=!1;n.completer.autoSelect=!0;n.completer.showPopup(n);n.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};r=function(n,t){this.all=n;this.filtered=n;this.filterText=t||"";this.exactMatch=!1},function(){this.setFilter=function(n){var t,i;t=n.length>this.filterText&&0===n.lastIndexOf(this.filterText,0)?this.filtered:this.all;this.filterText=n;t=this.filterCompletions(t,this.filterText);t=t.sort(function(n,t){return t.exactMatch-n.exactMatch||t.score-n.score});i=null;t=t.filter(function(n){var t=n.snippet||n.caption||n.value;return t===i?!1:(i=t,!0)});this.filtered=t};this.filterCompletions=function(n,t){var a=[],y=t.toUpperCase(),p=t.toLowerCase(),i,c,r,e,s,h;n:for(c=0;i=n[c];c++)if(r=i.value||i.caption||i.snippet,r){var u,l,f=-1,v=0,o=0;if(this.exactMatch){if(t!==r.substr(0,t.length))continue n}else for(e=0;e<t.length;e++){if(s=r.indexOf(p[e],f+1),h=r.indexOf(y[e],f+1),u=s>=0&&(0>h||h>s)?s:h,0>u)continue n;l=u-f-1;l>0&&(-1===f&&(o+=10),o+=l);v|=1<<u;f=u}i.matchMask=v;i.exactMatch=o?0:1;i.score=(i.score||0)-o;a.push(i)}return a}}.call(r.prototype);t.Autocomplete=i;t.FilteredList=r});ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(n,t){function r(n,t){var r=n.getTextRange(f.fromPoints({row:0,column:0},t));return r.split(i).length-1}function u(n,t){var e=r(n,t),f=n.getValue().split(i),u=Object.create(null),o=f[e];return f.forEach(function(n,t){if(n&&n!==o){var r=Math.abs(e-t),i=f.length-r;u[n]=u[n]?Math.max(i,u[n]):i}}),u}var f=n("../range").Range,i=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;t.getCompletions=function(n,t,i,r,f){var e=u(t,i,r),o=Object.keys(e);f(null,o.map(function(n){return{caption:n,value:n,score:e[n],meta:"local"}}))}});ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(n,t){"use strict";var i=n("../snippets").snippetManager,u=n("../autocomplete").Autocomplete,p=n("../config"),e=n("../lib/lang"),o=n("../autocomplete/util"),s=n("../autocomplete/text_completer"),h={getCompletions:function(n,t,i,r,u){if(t.$mode.completer)return t.$mode.completer.getCompletions(n,t,i,r,u);var f=n.session.getState(i.row),e=t.$mode.getCompletions(f,t,i,r);u(null,e)}},c={getCompletions:function(n,t,r,u,f){var o=i.snippetMap,e=[];i.getActiveScopes(n).forEach(function(n){for(var t,u,i=o[n]||[],r=i.length;r--;)t=i[r],u=t.name||t.tabTrigger,u&&e.push({caption:u,snippet:t.content,meta:t.tabTrigger&&!t.name?t.tabTrigger+"⇥ ":"snippet",type:"snippet"})},this);f(null,e)},getDocTooltip:function(n){"snippet"!=n.type||n.docHTML||(n.docHTML=["<b>",e.escapeHTML(n.caption),"<\/b>","<hr><\/hr>",e.escapeHTML(n.snippet)].join(""))}},r=[c,s,h];t.setCompleters=function(n){r.length=0;n&&r.push.apply(r,n)};t.addCompleter=function(n){r.push(n)};t.textCompleter=s;t.keyWordCompleter=h;t.snippetCompleter=c;var l={name:"expandSnippet",exec:function(n){return i.expandWithTab(n)},bindKey:"Tab"},f=function(n,t){a(t.session.$mode)},a=function(n){var t=n.$id;i.files||(i.files={});v(t);n.modes&&n.modes.forEach(a)},v=function(n){if(n&&!i.files[n]){var t=n.replace("mode","snippets");i.files[n]={};p.loadModule(t,function(t){t&&(i.files[n]=t,!t.snippets&&t.snippetText&&(t.snippets=i.parseSnippetFile(t.snippetText)),i.register(t.snippets||[],t.scope),t.includeScopes&&(i.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach(function(n){v("ace/mode/"+n)})))})}},y=function(n){var t=n.editor,i=t.completer&&t.completer.activated,r;"backspace"===n.command.name?i&&!o.getCompletionPrefix(t)&&t.completer.detach():"insertstring"===n.command.name&&(r=o.getCompletionPrefix(t),r&&!i&&(t.completer||(t.completer=new u),t.completer.autoInsert=!1,t.completer.showPopup(t)))},w=n("../editor").Editor;n("../config").defineOptions(w.prototype,"editor",{enableBasicAutocompletion:{set:function(n){n?(this.completers||(this.completers=Array.isArray(n)?n:r),this.commands.addCommand(u.startCommand)):this.commands.removeCommand(u.startCommand)},value:!1},enableLiveAutocompletion:{set:function(n){n?(this.completers||(this.completers=Array.isArray(n)?n:r),this.commands.on("afterExec",y)):this.commands.removeListener("afterExec",y)},value:!1},enableSnippets:{set:function(n){n?(this.commands.addCommand(l),this.on("changeMode",f),f(null,this)):(this.commands.removeCommand(l),this.off("changeMode",f))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(){})}(),function(){var n,t=[].indexOf||function(n){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===n)return t;return-1};n=angular.module("angularBootstrapNavTree",[]);n.directive("abnTree",["$timeout",function(n){return{restrict:"E",template:'<ul class="nav nav-list nav-pills nav-stacked abn-tree">\n  <li ng-repeat="row in tree_rows | filter:{visible:true} track by row.branch.uid" ng-animate="\'abn-tree-animate\'" ng-class="\'level-\' + {{ row.level }} + (row.branch.selected ? \' active\':\'\') + \' \' +row.classes.join(\' \')" class="abn-tree-row"><a ng-click="user_clicks_branch(row.branch)"><i ng-class="row.tree_icon" ng-click="row.branch.expanded = !row.branch.expanded" class="indented tree-icon"> <\/i><span class="indented tree-label">{{ row.label }} <\/span><\/a><\/li>\n<\/ul>',replace:!0,scope:{treeData:"=",onSelect:"&",initialSelection:"@",treeControl:"="},link:function(i,r,u){var p,a,v,c,s,l,o,y,h,e,f;if(p=function(n){console.log("ERROR:"+n)},null==u.iconExpand&&(u.iconExpand="icon-plus  glyphicon glyphicon-plus  fa fa-plus"),null==u.iconCollapse&&(u.iconCollapse="icon-minus glyphicon glyphicon-minus fa fa-minus"),null==u.iconLeaf&&(u.iconLeaf="icon-file  glyphicon glyphicon-file  fa fa-file"),null==u.expandLevel&&(u.expandLevel="3"),v=parseInt(u.expandLevel,10),!i.treeData)return void alert("no treeData defined for the tree!");if(null==i.treeData.length){if(null==treeData.label)return void alert("treeData should be an array of root branches");i.treeData=[treeData]}return s=function(n){var r,e,t,o,u,f;for(r=function(t,i){var o,u,s,f,e;if(n(t,i),null!=t.children){for(f=t.children,e=[],u=0,s=f.length;s>u;u++)o=f[u],e.push(r(o,i+1));return e}},u=i.treeData,f=[],t=0,o=u.length;o>t;t++)e=u[t],f.push(r(e,1));return f},e=null,h=function(t){if(!t)return null!=e&&(e.selected=!1),void(e=null);if(t!==e){if(null!=e&&(e.selected=!1),t.selected=!0,e=t,a(t),null!=t.onSelect)return n(function(){return t.onSelect(t)});if(null!=i.onSelect)return n(function(){return i.onSelect({branch:t})})}},i.user_clicks_branch=function(n){if(n!==e)return h(n)},l=function(n){var t;return t=void 0,n.parent_uid&&s(function(i){if(i.uid===n.parent_uid)return t=i}),t},c=function(n,t){var i;return i=l(n),null!=i?(t(i),c(i,t)):void 0},a=function(n){return c(n,function(n){return n.expanded=!0})},i.tree_rows=[],y=function(){var r,o,n,h,f,e;for(s(function(n){if(!n.uid)return n.uid=""+Math.random()}),console.log("UIDs are set."),s(function(n){var u,t,f,i,r;if(angular.isArray(n.children)){for(i=n.children,r=[],t=0,f=i.length;f>t;t++)u=i[t],r.push(u.parent_uid=n.uid);return r}}),i.tree_rows=[],s(function(n){var t,i;return n.children?n.children.length>0?(i=function(n){return"string"==typeof n?{label:n,children:[]}:n},n.children=function(){var r,e,u,f;for(u=n.children,f=[],r=0,e=u.length;e>r;r++)t=u[r],f.push(i(t));return f}()):void 0:n.children=[]}),r=function(n,f,e){var l,a,s,o,v,h,c;if(null==f.expanded&&(f.expanded=!1),null==f.classes&&(f.classes=[]),f.noLeaf||f.children&&0!==f.children.length?s=f.expanded?u.iconCollapse:u.iconExpand:(s=u.iconLeaf,t.call(f.classes,"leaf")<0&&f.classes.push("leaf")),i.tree_rows.push({level:n,branch:f,label:f.label,classes:f.classes,tree_icon:s,visible:e}),null!=f.children){for(h=f.children,c=[],o=0,v=h.length;v>o;o++)l=h[o],a=e&&f.expanded,c.push(r(n+1,l,a));return c}},f=i.treeData,e=[],n=0,h=f.length;h>n;n++)o=f[n],e.push(r(1,o,!0));return e},i.$watch("treeData",y,!0),null!=u.initialSelection&&s(function(t){if(t.label===u.initialSelection)return n(function(){return h(t)})}),o=i.treeData.length,console.log("num root branches = "+o),s(function(n,t){return n.level=t,n.expanded=n.level<v}),null!=i.treeControl&&angular.isObject(i.treeControl)?(f=i.treeControl,f.expand_all=function(){return s(function(n){return n.expanded=!0})},f.collapse_all=function(){return s(function(n){return n.expanded=!1})},f.get_first_branch=function(){return o=i.treeData.length,o>0?i.treeData[0]:void 0},f.select_first_branch=function(){var n;return n=f.get_first_branch(),f.select_branch(n)},f.get_selected_branch=function(){return e},f.get_parent_branch=function(n){return l(n)},f.select_branch=function(n){return h(n),n},f.get_children=function(n){return n.children},f.select_parent_branch=function(n){var t;return null==n&&(n=f.get_selected_branch()),null!=n&&(t=f.get_parent_branch(n),null!=t)?(f.select_branch(t),t):void 0},f.add_branch=function(n,t){return null!=n?(n.children.push(t),n.expanded=!0):i.treeData.push(t),t},f.add_root_branch=function(n){return f.add_branch(null,n),n},f.expand_branch=function(n){return null==n&&(n=f.get_selected_branch()),null!=n?(n.expanded=!0,n):void 0},f.collapse_branch=function(n){return null==n&&(n=e),null!=n?(n.expanded=!1,n):void 0},f.get_siblings=function(n){var t,r;return null==n&&(n=e),null!=n?(t=f.get_parent_branch(n),r=t?t.children:i.treeData):void 0},f.get_next_sibling=function(n){var i,t;return null==n&&(n=e),null!=n&&(t=f.get_siblings(n),o=t.length,i=t.indexOf(n),o>i)?t[i+1]:void 0},f.get_prev_sibling=function(n){var i,t;return null==n&&(n=e),t=f.get_siblings(n),o=t.length,i=t.indexOf(n),i>0?t[i-1]:void 0},f.select_next_sibling=function(n){var t;return null==n&&(n=e),null!=n&&(t=f.get_next_sibling(n),null!=t)?f.select_branch(t):void 0},f.select_prev_sibling=function(n){var t;return null==n&&(n=e),null!=n&&(t=f.get_prev_sibling(n),null!=t)?f.select_branch(t):void 0},f.get_first_child=function(n){var t;return null==n&&(n=e),null!=n&&(null!=(t=n.children)?t.length:void 0)>0?n.children[0]:void 0},f.get_closest_ancestor_next_sibling=function(n){var t,i;return t=f.get_next_sibling(n),null!=t?t:(i=f.get_parent_branch(n),f.get_closest_ancestor_next_sibling(i))},f.get_next_branch=function(n){var t;return null==n&&(n=e),null!=n?(t=f.get_first_child(n),null!=t?t:t=f.get_closest_ancestor_next_sibling(n)):void 0},f.select_next_branch=function(n){var t;return null==n&&(n=e),null!=n&&(t=f.get_next_branch(n),null!=t)?(f.select_branch(t),t):void 0},f.last_descendant=function(n){var t;return o=n.children.length,0===o?n:(t=n.children[o-1],f.last_descendant(t))},f.get_prev_branch=function(n){var i,t;return null==n&&(n=e),null!=n?(t=f.get_prev_sibling(n),null!=t?f.last_descendant(t):i=f.get_parent_branch(n)):void 0},f.select_prev_branch=function(n){var t;return null==n&&(n=e),null!=n&&(t=f.get_prev_branch(n),null!=t)?(f.select_branch(t),t):void 0}):void 0}}}])}.call(this),function(n,t){"use strict";function tt(){this.$get=["$$sanitizeUri",function(n){return function(t){"undefined"!=typeof arguments[1]&&(arguments[1].version="taSanitize");var i=[];return rt(t,e(i,function(t,i){return!/^unsafe/.test(n(t,i))})),i.join("")}}]}function it(n){var i=[],r=e(i,t.noop);return r.chars(n),i.join("")}function i(n){for(var i={},r=n.split(","),t=0;t<r.length;t++)i[r[t]]=!0;return i}function rt(n,i){function nt(n,r,e,o){if(r=t.lowercase(r),w[r])for(;f.last()&&b[f.last()];)v("",f.last());p[r]&&f.last()==r&&v("",r);o=a[r]||!!o;o||f.push(r);var s={};e.replace(ot,function(n,t,i,r,f){var e=i||r||f||"";s[t]=u(e)});i.start&&i.start(r,s,o)}function v(n,r){var e,u=0;if(r=t.lowercase(r))for(u=f.length-1;u>=0&&f[u]!=r;u--);if(u>=0){for(e=f.length-1;e>=u;e--)i.end&&i.end(f[e]);f.length=u}}"string"!=typeof n&&(n=null===n||"undefined"==typeof n?"":""+n);var y,e,r,d,f=[],g=n;for(f.last=function(){return f[f.length-1]};n;){if((d="",e=!0,f.last()&&k[f.last()])?(n=n.replace(new RegExp("([^]*)<\\s*\\/\\s*"+f.last()+"[^>]*>","i"),function(n,t){return t=t.replace(ct,"$1").replace(lt,"$1"),i.chars&&i.chars(u(t)),""}),v("",f.last())):(l.test(n)?(r=n.match(l))&&(r[0],i.whitespace&&i.whitespace(r[0]),n=n.replace(r[0],""),e=!1):h.test(n)?(r=n.match(h),r&&(i.comment&&i.comment(r[1]),n=n.replace(r[0],""),e=!1)):c.test(n)?(r=n.match(c),r&&(n=n.replace(r[0],""),e=!1)):ht.test(n)?(r=n.match(s),r&&(n=n.substring(r[0].length),r[0].replace(s,v),e=!1)):st.test(n)&&(r=n.match(o),r?(r[4]&&(n=n.substring(r[0].length),r[0].replace(o,nt)),e=!1):(d+="<",n=n.substring(1))),e&&(y=n.indexOf("<"),d+=0>y?n:n.substring(0,y),n=0>y?"":n.substring(y),i.chars&&i.chars(u(d)))),n==g)throw et("badparse","The sanitizer was unable to parse the following block of html: {0}",n);g=n}v()}function u(n){if(!n)return"";var i=kt.exec(n),u=i[1],f=i[3],t=i[2];return t&&(r.innerHTML=t.replace(/</g,"&lt;"),t="textContent"in r?r.textContent:r.innerText),u+t+f}function f(n){return n.replace(/&/g,"&amp;").replace(at,function(n){var t=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+(1024*(t-55296)+(i-56320)+65536)+";"}).replace(vt,function(n){var t=n.charCodeAt(0);return 159>=t||173==t||t>=1536&&1540>=t||1807==t||6068==t||6069==t||t>=8204&&8207>=t||t>=8232&&8239>=t||t>=8288&&8303>=t||65279==t||t>=65520&&65535>=t?"&#"+t+";":n}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ut(n){var i="",r=n.split(";");return t.forEach(r,function(n){var u=n.split(":"),r,n;2==u.length&&(r=nt(t.lowercase(u[0])),n=nt(t.lowercase(u[1])),(("color"===r||"background-color"===r)&&(n.match(/^rgb\([0-9%,\. ]*\)$/i)||n.match(/^rgba\([0-9%,\. ]*\)$/i)||n.match(/^hsl\([0-9%,\. ]*\)$/i)||n.match(/^hsla\([0-9%,\. ]*\)$/i)||n.match(/^#[0-9a-f]{3,6}$/i)||n.match(/^[a-z]*$/i))||"text-align"===r&&("left"===n||"right"===n||"center"===n||"justify"===n)||"text-decoration"===r&&("underline"===n||"line-through"===n)||"font-weight"===r&&"bold"===n||"font-style"===r&&"italic"===n||"float"===r&&("left"===n||"right"===n||"none"===n)||"font-size"===r&&n.match(/[0-9\.]*(px|em|rem|%)/)||("width"===r||"height"===r)&&n.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===r&&n.match(/^ltr|rtl|initial|inherit$/))&&(i+=r+": "+n+";"))}),i}function ft(n,t,i,r){return!("img"!==n||!t["ta-insert-video"]||"ta-insert-video"!==i&&"allowfullscreen"!==i&&"frameborder"!==i&&("contenteditable"!==i||"false"!==r))}function e(n,i){var u=!1,r=t.bind(n,n.push);return{start:function(n,e,o){n=t.lowercase(n);!u&&k[n]&&(u=n);u||d[n]!==!0||(r("<"),r(n),t.forEach(e,function(u,o){var s=t.lowercase(o),h="img"===n&&"src"===s||"background"===s;("style"===s&&""!==(u=ut(u))||ft(n,e,s,u)||bt[s]===!0&&(g[s]!==!0||i(u,h)))&&(r(" "),r(o),r('="'),r(f(u)),r('"'))}),r(o?"/>":">"))},comment:function(n){r(n)},whitespace:function(n){r(f(n))},end:function(n){n=t.lowercase(n);u||d[n]!==!0||(r("<\/"),r(n),r(">"));n==u&&(u=!1)},chars:function(n){u||r(f(n))}}}var et=t.$$minErr("$sanitize"),o=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,s=/^<\/\s*([\w:-]+)[^>]*>/,ot=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,st=/^</,ht=/^<\//,ct=/<!--(.*?)-->/g,h=/(^<!--.*?-->)/,c=/<!DOCTYPE([^>]*?)>/i,lt=/<!\[CDATA\[(.*?)]]>/g,at=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vt=/([^\#-~| |!])/g,l=/^(\s+)/,a=i("area,br,col,hr,img,wbr,input"),v=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),y=i("rp,rt"),p=t.extend({},y,v),w=t.extend({},v,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),b=t.extend({},y,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),yt=i("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),k=i("script,style"),d=t.extend({},a,w,b,p,yt),g=i("background,cite,href,longdesc,src,usemap,xlink:href"),pt=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),wt=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),bt=t.extend({},g,wt,pt),r=document.createElement("pre"),kt=/^(\s*)([\s\S]*?)(\s*)$/,nt=function(){return String.prototype.trim?function(n){return t.isString(n)?n.trim():n}:function(n){return t.isString(n)?n.replace(/^\s\s*/,"").replace(/\s\s*$/,""):n}}();t.module("ngSanitize",[]).provider("$sanitize",tt);t.module("ngSanitize").filter("linky",["$sanitize",function(n){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,r=/^mailto:/;return function(u,f){function c(n){n&&o.push(it(n))}function a(n,i){o.push("<a ");t.isDefined(f)&&o.push('target="',f,'" ');o.push('href="',n.replace(/"/g,"&quot;"),'">');c(i);o.push("<\/a>")}if(!u)return u;for(var e,h,l,s=u,o=[];e=s.match(i);)h=e[0],e[2]||e[4]||(h=(e[3]?"http://":"mailto:")+h),l=e.index,c(s.substr(0,l)),a(h,e[0].replace(r,"")),s=s.substring(l+e[0].length);return c(s),n(o.join(""))}}])}(window,window.angular);var textAngularVersion="v1.5.12",_browserDetect={ie:function(){for(var i,n=3,t=document.createElement("div"),r=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+ ++n+"]><i><\/i><![endif]-->",r[0];);return n>4?n:i}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent),isFirefox:navigator.userAgent.toLowerCase().indexOf("firefox")>-1},performance=performance||{};performance.now=function(){return performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()}}();var BLOCKELEMENTS=/^(address|article|aside|audio|blockquote|canvas|center|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,LISTELEMENTS=/^(ul|li|ol)$/i,VALIDELEMENTS=/^(#text|span|address|article|aside|audio|blockquote|canvas|center|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;if(String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),_browserDetect.ie>8||void 0===_browserDetect.ie){for(_sheets=document.styleSheets,i=0;i<_sheets.length;i++)if((0===_sheets[i].media.length||_sheets[i].media.mediaText.match(/(all|screen)/gi))&&_sheets[i].href&&_sheets[i].href.match(/textangular\.(min\.|)css/gi)){sheet=_sheets[i];break}sheet||(sheet=function(){var n=document.createElement("style");return _browserDetect.webkit&&n.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(n),n.sheet}());addCSSRule=function(n,t){return _addCSSRule(sheet,n,t)};_addCSSRule=function(n,t,i){var r,u;return n.cssRules?r=Math.max(n.cssRules.length-1,0):n.rules&&(r=Math.max(n.rules.length-1,0)),n.insertRule?n.insertRule(t+"{"+i+"}",r):n.addRule(t,i,r),sheet.rules?u=sheet.rules[r]:sheet.cssRules&&(u=sheet.cssRules[r]),u};_getRuleIndex=function(n,t){for(var r,i=0;i<t.length;i++)if(t[i].cssText===n.cssText){r=i;break}return r};removeCSSRule=function(n){_removeCSSRule(sheet,n)};_removeCSSRule=function(n,t){var i=n.cssRules||n.rules,r;i&&0!==i.length&&(r=_getRuleIndex(t,i),n.removeRule?n.removeRule(r):n.deleteRule(r))}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(n){return n?""===n?void 0===_browserDetect.ie?"div":_browserDetect.ie<=8?"P":"p":_browserDetect.ie<=8?n.toUpperCase():n:_browserDetect.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(n,t){return function(i){var r=angular.element("<div><\/div>");return r[0].innerHTML=i,angular.forEach(n,function(n){var i=[];n.selector&&""!==n.selector?i=r.find(n.selector):n.customAttribute&&""!==n.customAttribute&&(i=t.getByAttribute(r,n.customAttribute));angular.forEach(i,function(t){t=angular.element(t);n.selector&&""!==n.selector&&n.customAttribute&&""!==n.customAttribute?void 0!==t.attr(n.customAttribute)&&n.renderLogic(t):n.renderLogic(t)})}),r[0].innerHTML}}]).factory("taFixChrome",function(){return function(n){if(!n||!angular.isString(n)||n.length<=0)return n;for(var t,r,f,e,o=/<([^>\/]+?)style=("([^\"]+)"|'([^']+)')([^>]*)>/gi,s=/<span class="Apple-converted-space">([^<]+)<\/span>/gi,u="",i=0;t=s.exec(n);)f=t[1],f=f.replace(/&nbsp;/gi," "),u+=n.substring(i,t.index)+f,i=t.index+t[0].length;for(i&&(u+=n.substring(i),n=u,u="",i=0);t=o.exec(n);)r=t[3]||t[4],r&&r.match(/line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;|color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);|background-color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);/i)&&(r=r.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;|( |)color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);|( |)background-color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);/gi,""),e="<"+t[1].trim(),r.trim().length>0&&(e+=" style="+t[2].substring(0,1)+r+t[2].substring(0,1)),e+=t[5].trim()+">",u+=n.substring(i,t.index)+e,i=t.index+t[0].length);return u+=n.substring(i),i>0?u.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1"):n}}).factory("taSanitize",["$sanitize",function(n){function e(n,t){for(var i,r=0,u=0,f=/<[^>]*>/gi;i=f.exec(n);)if(u=i.index,"/"===i[0].substr(1,1)){if(0===r)break;r--}else r++;return t+n.substring(0,u)+angular.element(t)[0].outerHTML.substring(t.length)+n.substring(u)}function o(n){var y,p;if(!n||!angular.isString(n)||n.length<=0)return n;for(var u,i,v,r,l,a,w=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,s="",h="",c=0;i=w.exec(n);)if(r=i[3]||i[4],y=new RegExp(f,"i"),angular.isString(r)&&y.test(r)){for(l="",p=new RegExp(f,"ig");v=p.exec(r);)for(u=0;u<t.length;u++)v[2*u+2]&&(l+="<"+t[u].tag+">");a=o(n.substring(c,i.index));h+=s.length>0?e(a,s):a;r=r.replace(new RegExp(f,"ig"),"");h+="<"+i[1].trim();r.length>0&&(h+=' style="'+r+'"');h+=i[5]+">";c=i.index+i[0].length;s=l}return h+(s.length>0?e(n.substring(c),s):n.substring(c))}function c(n){var i;if(!n||!angular.isString(n)||n.length<=0)return n;for(var t,f=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,r="",u=0;t=f.exec(n);)r+=n.substring(u,t.index),u=t.index+t[0].length,i="<"+t[1]+t[5],/style=("([^"]+)"|'([^']+)')/gi.test(i)?i=i.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(t[3]||t[4])+';"'):i+=' style="text-align:'+(t[3]||t[4])+';"',i+=">",r+=i;return r+n.substring(u)}for(var r,u,t=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],s=[],i=0;i<t.length;i++){for(r="("+t[i].property+":\\s*(",u=0;u<t[i].values.length;u++)u>0&&(r+="|"),r+=t[i].values[u];r+=");)";s.push(r)}var f="("+s.join("|")+")",h=new RegExp(/<span id="selectionBoundary_\d+_\d+" class="rangySelectionBoundary">[^<>]+?<\/span>/gi),l=new RegExp(/<span class="rangySelectionBoundary" id="selectionBoundary_\d+_\d+">[^<>]+?<\/span>/gi),a=new RegExp(/<span id="selectionBoundary_\d+_\d+" class="rangySelectionBoundary">[^<>]+?<\/span>/gi);return function(t,i,r){var u;if(!r)try{t=o(t)}catch(w){}if(t=c(t))try{t=t.replace(h,"");t=t.replace(l,"");t=t.replace(h,"");t=t.replace(a,"")}catch(w){}try{u=n(t);r&&(u=t)}catch(w){u=i||""}var f,y=u.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),e=u.replace(/(&#(9|10);)*/gi,""),p=/<pre[^>]*>.*?<\/pre[^>]*>/gi,s=0,v=0;for(u="";null!==(f=p.exec(e))&&s<y.length;)u+=e.substring(v,f.index)+y[s],v=f.index+f[0].length,s++;return u+e.substring(v)}}]).factory("taToolExecuteAction",["$q","$log",function(n,t){return function(i){void 0!==i&&(this.$editor=function(){return i});var r,u=n.defer(),e=u.promise,f=this.$editor();try{r=this.action(u,f.startAction());e["finally"](function(){f.endAction.call(f)})}catch(o){t.error(o)}(r||void 0===r)&&u.resolve()}}]);angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(n,t,i){var r=function(t,i){for(var u,f=t.find("li"),r=f.length-1;r>=0;r--)u=angular.element("<"+i+">"+f[r].innerHTML+"<\/"+i+">"),t.after(u);t.remove();n.setSelectionToElementEnd(u[0])},f=function(i,r,u,f,e){for(var h,p,w,y,s=i.find("li"),c,l,a,v,o=0;o<s.length;o++)if(s[o].outerHTML===r[0].outerHTML){y=o;o>0&&(p=s[o-1]);o+1<s.length&&(w=s[o+1]);break}if(c="",f?c+="<"+e+">"+r[0].innerHTML+"<\/"+e+">":(c+="<"+t(u)+">",c+="<li>"+r[0].innerHTML+"<\/li>",c+="<\/"+t(u)+">"),h=angular.element(c),!p)return r.remove(),i.after(angular.element(i[0].outerHTML)),i.after(h),i.remove(),void n.setSelectionToElementEnd(h[0]);if(w){for(l=(i.parent(),""),a=i[0].nodeName.toLowerCase(),l+="<"+a+">",o=0;y>o;o++)l+="<li>"+s[o].innerHTML+"<\/li>";for(l+="<\/"+a+">",v="",v+="<"+a+">",o=y+1;o<s.length;o++)v+="<li>"+s[o].innerHTML+"<\/li>";v+="<\/"+a+">";i.after(angular.element(v));i.after(h);i.after(angular.element(l));i.remove();n.setSelectionToElementEnd(h[0])}else r.remove(),i.after(h),n.setSelectionToElementEnd(h[0])},h=function(i,r,u,f,e){for(var c,o,w,b,h=i.find("li"),l=[],a,v,y,p,s=0;s<h.length;s++)for(o=0;o<r.length;o++)h[s].isEqualNode(r[o])&&(l[o]=s);if(l[0]>0&&(w=h[l[0]-1]),l[r.length-1]+1<h.length&&(b=h[l[r.length-1]+1]),a="",f)for(o=0;o<r.length;o++)a+="<"+e+">"+r[o].innerHTML+"<\/"+e+">",r[o].remove();else{for(a+="<"+t(u)+">",o=0;o<r.length;o++)a+=r[o].outerHTML,r[o].remove();a+="<\/"+t(u)+">"}if(c=angular.element(a),!w)return i.after(angular.element(i[0].outerHTML)),i.after(c),i.remove(),void n.setSelectionToElementEnd(c[0]);if(!b)return i.after(c),void n.setSelectionToElementEnd(c[0]);for(v="",y=i[0].nodeName.toLowerCase(),v+="<"+y+">",s=0;s<l[0];s++)v+="<li>"+h[s].innerHTML+"<\/li>";for(v+="<\/"+y+">",p="",p+="<"+y+">",s=l[r.length-1]+1;s<h.length;s++)p+="<li>"+h[s].innerHTML+"<\/li>";p+="<\/"+y+">";i.after(angular.element(p));i.after(c);i.after(angular.element(v));i.remove();n.setSelectionToElementEnd(c[0])},e=function(t){/(<br(|\/)>)$/i.test(t.innerHTML.trim())?n.setSelectionBeforeElement(angular.element(t).find("br")[0]):n.setSelectionToElementEnd(t)},u=function(n,t){var i=angular.element("<"+t+">"+n[0].innerHTML+"<\/"+t+">");n.after(i);n.remove();e(i.find("li")[0])},o=function(n,i,r){for(var o,f="",u=0;u<n.length;u++)f+="<"+t("li")+">"+n[u].innerHTML+"<\/"+t("li")+">";o=angular.element("<"+r+">"+f+"<\/"+r+">");i.after(o);i.remove();e(o.find("li")[0])},s=function(n,t){for(var r,u,i=0;i<n.childNodes.length;i++)r=n.childNodes[i],r.tagName&&r.tagName.match(BLOCKELEMENTS)&&s(r,t);return null===n.parentNode?n:(u=angular.element(t),u[0].innerHTML=n.innerHTML,n.parentNode.insertBefore(u[0],n),n.parentNode.removeChild(n),u)};return function(e,c){return e=t(e),function(l,a,v,y){var w,k,ut,p,yt,ft,d,tt,et=angular.element("<"+e+">"),b,ct,g,it,nt,rt,vt,lt,ht,at,pt,ot,st,kt;try{n.getSelection&&(tt=n.getSelection());d=n.getSelectionElement();void 0!==d.tagName&&("div"===d.tagName.toLowerCase()&&/taTextElement.+/.test(d.id)&&tt&&tt.start&&1===tt.start.offset&&1===tt.end.offset?(b=d.innerHTML,/<br>/i.test(b)&&(b=b.replace(/<br>/i,"&#8203;")),/<br\/>/i.test(b)&&(b=b.replace(/<br\/>/i,"&#8203;")),/<span>(<span>)+/i.test(b)&&(b=__.replace(/<span>(<span>)+/i,"<span>")),/<\/span>(<\/span>)+/i.test(b)&&(b=__.replace(/<\/span>(<\/span>)+/i,"<\/span>")),/<span><\/span>/i.test(b)&&(b=b.replace(/<span><\/span>/i,"")),ct="<div>"+b+"<\/div>",d.innerHTML=ct,n.setSelectionToElementEnd(d.childNodes[0]),d=n.getSelectionElement()):"span"===d.tagName.toLowerCase()&&tt&&tt.start&&1===tt.start.offset&&1===tt.end.offset?(b=d.innerHTML,/<br>/i.test(b)&&(b=b.replace(/<br>/i,"&#8203;")),/<br\/>/i.test(b)&&(b=b.replace(/<br\/>/i,"&#8203;")),/<span>(<span>)+/i.test(b)&&(b=__.replace(/<span>(<span>)+/i,"<span>")),/<\/span>(<\/span>)+/i.test(b)&&(b=__.replace(/<\/span>(<\/span>)+/i,"<\/span>")),/<span><\/span>/i.test(b)&&(b=b.replace(/<span><\/span>/i,"")),ct="<div>"+b+"<\/div>",d.innerHTML=ct,n.setSelectionToElementEnd(d.childNodes[0]),d=n.getSelectionElement()):"p"===d.tagName.toLowerCase()&&tt&&tt.start&&1===tt.start.offset&&1===tt.end.offset?(b=d.innerHTML,/<br>/i.test(b)&&(b=b.replace(/<br>/i,"&#8203;"),d.innerHTML=b,n.setSelectionToElementEnd(d.childNodes[0]),d=n.getSelectionElement())):"li"===d.tagName.toLowerCase()&&tt&&tt.start&&tt.start.offset===tt.end.offset&&(b=d.innerHTML,/<br>/i.test(b)&&(b=b.replace(/<br>/i,""),d.innerHTML=b,n.setSelectionToElementEnd(d.childNodes[0]),d=n.getSelectionElement())))}catch(gt){}if(g=angular.element(d),it=d.tagName&&d.tagName.toLowerCase()||"","insertorderedlist"===l.toLowerCase()||"insertunorderedlist"===l.toLowerCase()){if(nt=t("insertorderedlist"===l.toLowerCase()?"ol":"ul"),rt=n.getOnlySelectedElements(),rt.length>1&&("ol"===it||"ul"===it))return h(g,rt,nt,nt===it,e);if(it===nt)return g[0].childNodes.length!==rt.length&&1===rt.length?(g=angular.element(rt[0]),f(g.parent(),g,nt,!0,e)):r(g,e);if("li"===it&&g.parent()[0].tagName.toLowerCase()===nt&&1===g.parent().children().length)return r(g.parent(),e);if("li"===it&&g.parent()[0].tagName.toLowerCase()!==nt&&1===g.parent().children().length)return u(g.parent(),nt);if(it.match(BLOCKELEMENTS)&&!g.hasClass("ta-bind"))return rt.length&&g[0].childNodes.length!==rt.length&&1===rt.length?(g=angular.element(rt[0]),f(g.parent(),g,nt,nt===it,e)):"ol"===it||"ul"===it?u(g,nt):(vt=!1,angular.forEach(g.children(),function(n){n.tagName.match(BLOCKELEMENTS)&&(vt=!0)}),vt?o(g.children(),g,nt):o([angular.element("<div>"+d.innerHTML+"<\/div>")[0]],g,nt));if(it.match(BLOCKELEMENTS)){if(p=n.getOnlySelectedElements(),0===p.length)k=angular.element("<"+nt+"><li>"+d.innerHTML+"<\/li><\/"+nt+">"),g.html(""),g.append(k);else{if(1===p.length&&("ol"===p[0].tagName.toLowerCase()||"ul"===p[0].tagName.toLowerCase()))return p[0].tagName.toLowerCase()===nt?r(angular.element(p[0]),e):u(angular.element(p[0]),nt);for(ut="",lt=[],w=0;w<p.length;w++)if(3!==p[w].nodeType){if(ht=angular.element(p[w]),"li"===p[w].tagName.toLowerCase())continue;ut+="ol"===p[w].tagName.toLowerCase()||"ul"===p[w].tagName.toLowerCase()?ht[0].innerHTML:"span"!==p[w].tagName.toLowerCase()||"ol"!==p[w].childNodes[0].tagName.toLowerCase()&&"ul"!==p[w].childNodes[0].tagName.toLowerCase()?"<"+t("li")+">"+ht[0].innerHTML+"<\/"+t("li")+">":ht[0].childNodes[0].innerHTML;lt.unshift(ht)}k=angular.element("<"+nt+">"+ut+"<\/"+nt+">");lt.pop().replaceWith(k);angular.forEach(lt,function(n){n.remove()})}return void n.setSelectionToElementEnd(k[0])}}else{if("formatblock"===l.toLowerCase()){for(ft=v.toLowerCase().replace(/[<>]/gi,""),"default"===ft.trim()&&(ft=e,v="<"+e+">"),k="li"===it?g.parent():g;!k[0].tagName||!k[0].tagName.match(BLOCKELEMENTS)&&!k.parent().attr("contenteditable");)k=k.parent(),it=(k[0].tagName||"").toLowerCase();if(it===ft){for(p=k.children(),at=!1,w=0;w<p.length;w++)at=at||p[w].tagName.match(BLOCKELEMENTS);at?(k.after(p),yt=k.next(),k.remove(),k=yt):(et.append(k[0].childNodes),k.after(et),k.remove(),k=et)}else if(k.parent()[0].tagName.toLowerCase()!==ft||k.parent().hasClass("ta-bind"))if(it.match(LISTELEMENTS))k.wrap(v);else{for(p=n.getOnlySelectedElements(),0===p.length&&(p=[k[0]]),w=0;w<p.length;w++)if(3===p[w].nodeType||!p[w].tagName.match(BLOCKELEMENTS))for(;3===p[w].nodeType||!p[w].tagName||!p[w].tagName.match(BLOCKELEMENTS);)p[w]=p[w].parentNode;if(p=p.filter(function(n,t,i){return i.indexOf(n)===t}),p.length>1&&(p=p.filter(function(n){return!("div"===n.nodeName.toLowerCase()&&/^taTextElement/.test(n.id))})),angular.element(p[0]).hasClass("ta-bind"))k=angular.element(v),k[0].innerHTML=p[0].innerHTML,p[0].innerHTML=k[0].outerHTML;else if("blockquote"===ft){for(ut="",w=0;w<p.length;w++)ut+=p[w].outerHTML;for(k=angular.element(v),k[0].innerHTML=ut,p[0].parentNode.insertBefore(k[0],p[0]),w=p.length-1;w>=0;w--)p[w].parentNode&&p[w].parentNode.removeChild(p[w])}else if("pre"===ft&&n.getStateShiftKey()){for(ut="",w=0;w<p.length;w++)ut+=p[w].outerHTML;for(k=angular.element(v),k[0].innerHTML=ut,p[0].parentNode.insertBefore(k[0],p[0]),w=p.length-1;w>=0;w--)p[w].parentNode&&p[w].parentNode.removeChild(p[w])}else for(w=0;w<p.length;w++)pt=s(p[w],v),p[w]===k[0]&&(k=angular.element(pt))}else{for(ot=k.parent(),st=ot.contents(),w=0;w<st.length;w++)ot.parent().hasClass("ta-bind")&&3===st[w].nodeType&&(et=angular.element("<"+e+">"),et[0].innerHTML=st[w].outerHTML,st[w]=et[0]),ot.parent()[0].insertBefore(st[w],ot[0]);ot.remove()}return n.setSelectionToElementEnd(k[0]),void k[0].focus()}if("createlink"===l.toLowerCase()){if("a"===it)return void(n.getSelectionElement().href=v);var wt='<a href="'+v+'" target="'+(y.a.target?y.a.target:"")+'">',bt="<\/a>",dt=n.getSelection();dt.collapsed?n.insertHtml(wt+v+bt,c):rangy.getSelection().getRangeAt(0).canSurroundContents()&&(kt=angular.element(wt+bt)[0],rangy.getSelection().getRangeAt(0).surroundContents(kt));return}if("inserthtml"===l.toLowerCase())return void n.insertHtml(v,c)}try{i[0].execCommand(l,a,v)}catch(gt){}}}}]).service("taSelection",["$document","taDOM","$log",function(n,t){var u,r=n[0],f=function(n,t){return n.tagName&&n.tagName.match(/^br$/i)&&0===t&&!n.previousSibling?{element:n.parentNode,offset:0}:{element:n,offset:t}},i={getSelection:function(){var i,n,t;try{i=rangy.getSelection().getRangeAt(0)}catch(r){return}return n=i.commonAncestorContainer,t={start:f(i.startContainer,i.startOffset),end:f(i.endContainer,i.endOffset),collapsed:i.collapsed},3===n.nodeType&&("div"===n.parentNode.nodeName.toLowerCase()&&/^taTextElement/.test(n.parentNode.id)||(n=n.parentNode)),"div"===n.nodeName.toLowerCase()&&/^taTextElement/.test(n.id)?(t.start.element=n.childNodes[t.start.offset],t.end.element=n.childNodes[t.end.offset],t.container=n):t.container=n.parentNode===t.start.element||n.parentNode===t.end.element?n.parentNode:n,t},updateLeftArrowKey:function(){var t=rangy.getSelection().getRangeAt(0),n,o,u,e,r,f;if(t&&t.collapsed){if(n=i.getFlattenedDom(t),!n.findIndex)return;if(e=t.startContainer,r=n.findIndex(function(n){if(n.node===e)return!0;var t=n.parents.indexOf(e);return-1!==t}),n.forEach(function(n){n.parents.forEach(function(){})}),r+1<n.length&&(u=n[r+1].node),u&&u.textContent&&(o=/^\ufeff([^\ufeff]*)$/.exec(u.textContent)))return;if(r>0&&(f=n[r-1].node),0===t.startOffset&&f&&(o=/^\ufeff([^\ufeff]*)$/.exec(f.textContent)))return void i.setSelectionToElementEnd(f)}},updateRightArrowKey:function(){},getFlattenedDom:function(n){function u(n){if(n.node.childNodes.length){var t=Array.prototype.slice.call(n.node.childNodes);t.forEach(function(t){var i=n.parents.slice();i.slice(-1)[0]!==n.node&&i.push(n.node);u({parents:i,node:t})})}else i.push({parents:n.parents,node:n.node})}var t=n.commonAncestorContainer.parentNode,i,r;return t?(i=Array.prototype.slice.call(t.childNodes),r=i.indexOf(n.startContainer),r+1<i.length&&r>0||t.parentNode&&(t=t.parentNode),i=[],u({parents:[t],node:t}),i):n.commonAncestorContainer.childNodes},getOnlySelectedElements:function(){var t=rangy.getSelection().getRangeAt(0),n=t.commonAncestorContainer;return n=3===n.nodeType?n.parentNode:n,t.getNodes([1],function(t){return t.parentNode===n})},getAllSelectedElements:function(){var r=rangy.getSelection().getRangeAt(0),n=r.commonAncestorContainer,t,i,u,f;if(n=3===n.nodeType?n.parentNode:n,t=r.getNodes([1],function(t){return t.parentNode===n}),i=n.innerHTML,i=i.replace(/<span id=.selectionBoundary[^>]+>\ufeff?<\/span>/gi,""),i===r.toHtml()&&("div"!==n.nodeName.toLowerCase()||!/^taTextElement/.test(n.id))){for(u=[],f=t.length;f--;u.unshift(t[f]));t=u;t.push(n)}return t},getSelectionElement:function(){var n=i.getSelection();if(n)return i.getSelection().container},setSelection:function(n,t,i,r){var u=rangy.createRange();u.setStart(n,i);u.setEnd(t,r);rangy.getSelection().setSingleRange(u)},setSelectionBeforeElement:function(n){var t=rangy.createRange();t.selectNode(n);t.collapse(!0);rangy.getSelection().setSingleRange(t)},setSelectionAfterElement:function(n){var t=rangy.createRange();t.selectNode(n);t.collapse(!1);rangy.getSelection().setSingleRange(t)},setSelectionToElementStart:function(n){var t=rangy.createRange();t.selectNodeContents(n);t.collapse(!0);rangy.getSelection().setSingleRange(t)},setSelectionToElementEnd:function(n){var t=rangy.createRange();t.selectNodeContents(n);t.collapse(!1);n.childNodes&&n.childNodes[n.childNodes.length-1]&&"br"===n.childNodes[n.childNodes.length-1].nodeName&&(t.startOffset=t.endOffset=t.startOffset-1);rangy.getSelection().setSingleRange(t)},setStateShiftKey:function(n){u=n},getStateShiftKey:function(){return u},insertHtml:function(n,u){var f,o,y,p,c,s,b,l=angular.element("<div>"+n+"<\/div>"),e=rangy.getSelection().getRangeAt(0),h=r.createDocumentFragment(),k=l[0].childNodes,a=!0,v,w,d;if(k.length>0){for(p=[],y=0;y<k.length;y++)v=k[y],"p"===v.nodeName.toLowerCase()&&""===v.innerHTML.trim()||(a=a&&!BLOCKELEMENTS.test(v.nodeName),p.push(v));for(w=0;w<p.length;w++)s=h.appendChild(p[w]);!a&&e.collapsed&&/^(|<br(|\/)>)$/i.test(e.startContainer.innerHTML)&&e.selectNode(e.startContainer)}else a=!0,s=h=r.createTextNode(n);if(a)e.deleteContents();else if(e.collapsed&&e.startContainer!==u)if(e.startContainer.innerHTML&&e.startContainer.innerHTML.match(/^<[^>]*>$/i))f=e.startContainer,1===e.startOffset?(e.setStartAfter(f),e.setEndAfter(f)):(e.setStartBefore(f),e.setEndBefore(f));else{if(3===e.startContainer.nodeType&&e.startContainer.parentNode!==u)for(f=e.startContainer.parentNode,o=f.cloneNode(),t.splitNodes(f.childNodes,f,o,e.startContainer,e.startOffset);!VALIDELEMENTS.test(f.nodeName);)angular.element(f).after(o),f=f.parentNode,d=o,o=f.cloneNode(),t.splitNodes(f.childNodes,f,o,d);else f=e.startContainer,o=f.cloneNode(),t.splitNodes(f.childNodes,f,o,void 0,void 0,e.startOffset);if(angular.element(f).after(o),e.setStartAfter(f),e.setEndAfter(f),/^(|<br(|\/)>)$/i.test(f.innerHTML.trim())&&(e.setStartBefore(f),e.setEndBefore(f),angular.element(f).remove()),/^(|<br(|\/)>)$/i.test(o.innerHTML.trim())&&angular.element(o).remove(),"li"===f.nodeName.toLowerCase()){for(b=r.createDocumentFragment(),c=0;c<h.childNodes.length;c++)l=angular.element("<li>"),t.transferChildNodes(h.childNodes[c],l[0]),t.transferNodeAttributes(h.childNodes[c],l[0]),b.appendChild(l[0]);h=b;s&&(s=h.childNodes[h.childNodes.length-1],s=s.childNodes[s.childNodes.length-1])}}else e.deleteContents();e.insertNode(h);s&&i.setSelectionToElementEnd(s)}};return i}]).service("taDOM",function(){var n={getByAttribute:function(t,i){var r=[],u=t.children();return u.length&&angular.forEach(u,function(t){r=r.concat(n.getByAttribute(angular.element(t),i))}),void 0!==t.attr(i)&&r.push(t),r},transferChildNodes:function(n,t){for(t.innerHTML="";n.childNodes.length>0;)t.appendChild(n.childNodes[0]);return t},splitNodes:function(t,i,r,u,f,e){if(!u&&isNaN(e))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var o=document.createDocumentFragment(),s=document.createDocumentFragment(),h=0;t.length>0&&(isNaN(e)||e!==h)&&t[0]!==u;)o.appendChild(t[0]),h++;for(!isNaN(f)&&f>=0&&t[0]&&(o.appendChild(document.createTextNode(t[0].nodeValue.substring(0,f))),t[0].nodeValue=t[0].nodeValue.substring(f));t.length>0;)s.appendChild(t[0]);n.transferChildNodes(o,i);n.transferChildNodes(s,r)},transferNodeAttributes:function(n,t){for(var i=0;i<n.attributes.length;i++)t.setAttribute(n.attributes[i].name,n.attributes[i].value);return t}};return n});angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){var u=parseInt(n.$eval(i.taMaxText));if(isNaN(u))throw"Max text must be an integer";i.$observe("taMaxText",function(n){if(u=parseInt(n),isNaN(u))throw"Max text must be an integer";r.$dirty&&r.$validate()});r.$validators.taMaxText=function(n){var t=angular.element("<div/>");return t.html(n),t.text().length<=u}}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){var u=parseInt(n.$eval(i.taMinText));if(isNaN(u))throw"Min text must be an integer";i.$observe("taMinText",function(n){if(u=parseInt(n),isNaN(u))throw"Min text must be an integer";r.$dirty&&r.$validate()});r.$validators.taMinText=function(n){var t=angular.element("<div/>");return t.html(n),!t.text().length||t.text().length>=u}}}});angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){return function(n){if(!n)return!0;var t=stripHtmlToText(n);return""===t?!/<img[^>]+>/.test(n):!1}}]).directive("taButton",[function(){return{link:function(n,t){t.attr("unselectable","on");t.on("mousedown",function(n,t){return t&&angular.extend(n,t),n.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM","textAngularManager",function(n,t,i,r,u,f,e,o,s,h,c,l,a){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(u,v,y,p){function ai(n){var t;return ki.forEach(function(i){if(i.keyCode===n.keyCode){var r=(n.metaKey?it:0)+(n.ctrlKey?tt:0)+(n.shiftKey?ut:0)+(n.altKey?rt:0);if(i.forbiddenModifiers&r)return;i.mustHaveModifiers.every(function(n){return r&n})&&(t=i.specialKey)}}),t}var fi,wt,d,ei,w=p[0],bt=p[1]||{},k=void 0!==v.attr("contenteditable")&&v.attr("contenteditable"),oi=k||"textarea"===v[0].tagName.toLowerCase()||"input"===v[0].tagName.toLowerCase(),b=!1,ot=!1,at=!1,si=y.taUnsafeSanitizer||s.disableSanitizer,vi=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,yi=/^(8|13|32|46|59|61|107|109|173|186|187|188|189|190|191|192|219|220|221|222)$/i,tt=1,it=2,rt=4,ut=8,kt=13,pi=16,vt=9,wi=37,bi=39,ki=[{specialKey:"UndoKey",forbiddenModifiers:rt+ut,mustHaveModifiers:[it+tt],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:rt,mustHaveModifiers:[it+tt,ut],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:rt+ut,mustHaveModifiers:[it+tt],keyCode:89},{specialKey:"TabKey",forbiddenModifiers:it+ut+rt+tt,mustHaveModifiers:[],keyCode:vt},{specialKey:"ShiftTabKey",forbiddenModifiers:it+rt+tt,mustHaveModifiers:[ut],keyCode:vt}],dt,st,ni,lt,ti,ii,ri,hi,yt,et,pt;void 0===y.taDefaultWrap&&(y.taDefaultWrap="p");""===y.taDefaultWrap?(d="",ei=void 0===_browserDetect.ie?"<div><br><\/div>":_browserDetect.ie>=11?"<p><br><\/p>":_browserDetect.ie<=8?"<P>&nbsp;<\/P>":"<p>&nbsp;<\/p>"):(d=void 0===_browserDetect.ie||_browserDetect.ie>=11?"br"===y.taDefaultWrap.toLowerCase()?"<BR><BR>":"<"+y.taDefaultWrap+"><br><\/"+y.taDefaultWrap+">":_browserDetect.ie<=8?"<"+y.taDefaultWrap.toUpperCase()+"><\/"+y.taDefaultWrap.toUpperCase()+">":"<"+y.taDefaultWrap+"><\/"+y.taDefaultWrap+">",ei=void 0===_browserDetect.ie||_browserDetect.ie>=11?"br"===y.taDefaultWrap.toLowerCase()?"<br><br>":"<"+y.taDefaultWrap+"><br><\/"+y.taDefaultWrap+">":_browserDetect.ie<=8?"<"+y.taDefaultWrap.toUpperCase()+">&nbsp;<\/"+y.taDefaultWrap.toUpperCase()+">":"<"+y.taDefaultWrap+">&nbsp;<\/"+y.taDefaultWrap+">");bt.$options||(bt.$options={});dt=function(n){var o,t,r,s,i,u,f,e;if(h(n))return n;if(o=angular.element("<div>"+n+"<\/div>"),0===o.children().length)n="<"+y.taDefaultWrap+">"+n+"<\/"+y.taDefaultWrap+">";else{for(r=o[0].childNodes,s=!1,t=0;t<r.length&&!(s=r[t].nodeName.toLowerCase().match(BLOCKELEMENTS));t++);if(s)for(n="",t=0;t<r.length;t++)i=r[t],u=i.nodeName.toLowerCase(),"#comment"===u?n+="<!--"+i.nodeValue+"-->":"#text"===u?(f=i.textContent,n+=f.trim()?"<"+y.taDefaultWrap+">"+f+"<\/"+y.taDefaultWrap+">":f):u.match(BLOCKELEMENTS)?n+=i.outerHTML:(e=i.outerHTML||i.nodeValue,n+=""!==e.trim()?"<"+y.taDefaultWrap+">"+e+"<\/"+y.taDefaultWrap+">":e);else n="<"+y.taDefaultWrap+">"+n+"<\/"+y.taDefaultWrap+">"}return n};y.taPaste&&(wt=c(y.taPaste));v.addClass("ta-bind");u["$undoManager"+(y.id||"")]=w.$undoManager={_stack:[],_index:0,_max:1e3,push:function(n){return"undefined"==typeof n||null===n||"undefined"!=typeof this.current()&&null!==this.current()&&n===this.current()?n:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(n),st&&t.cancel(st),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,n)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(n){if(!(0>n)&&!(n>this._stack.length-1))return(this._index=n,this.current())},current:function(){return this._stack[this._index]}};var ft,g=function(){if(k)return v[0].innerHTML;if(oi)return v.val();throw"textAngular Error: attempting to update non-editable taBind";},ht=function(n){return u.$emit("ta-element-select",this),n.preventDefault(),!1},gt=u["reApplyOnSelectorHandlers"+(y.id||"")]=function(){b||angular.forEach(e,function(n){v.find(n).off("click",ht).on("click",ht)})},nt=function(n,t,i){at=i||!1;"undefined"!=typeof t&&null!==t||(t=k);"undefined"!=typeof n&&null!==n||(n=g());h(n)?(""!==w.$viewValue&&w.$setViewValue(""),t&&""!==w.$undoManager.current()&&w.$undoManager.push("")):(gt(),w.$viewValue!==n&&(w.$setViewValue(n),t&&w.$undoManager.push(n)));w.$render()},ct=function(n){v[0].innerHTML=n},di=u["$undoTaBind"+(y.id||"")]=function(){if(!b&&k){var n=w.$undoManager.undo();"undefined"!=typeof n&&null!==n&&(ct(n),nt(n,!1),ft&&t.cancel(ft),ft=t(function(){v[0].focus();f.setSelectionToElementEnd(v[0])},1))}},gi=u["$redoTaBind"+(y.id||"")]=function(){if(!b&&k){var n=w.$undoManager.redo();"undefined"!=typeof n&&null!==n&&(ct(n),nt(n,!1),ft&&t.cancel(ft),ft=t(function(){v[0].focus();f.setSelectionToElementEnd(v[0])},1))}};if(u["updateTaBind"+(y.id||"")]=function(){b||nt(void 0,void 0,!0)},ni=function(t){return w.$oldViewValue=n(r(t),w.$oldViewValue,si)},v.attr("required")&&(w.$validators.required=function(n,t){return!h(n||t)}),w.$parsers.push(ni),w.$parsers.unshift(dt),w.$formatters.push(ni),w.$formatters.unshift(dt),w.$formatters.unshift(function(n){return w.$undoManager.push(n||"")}),oi)if(u.events={},k){lt=!1;ti=function(i){var ot=void 0!==i?i.match(/content=["']*OneNote.File/i):!1,s,it,c,o,e,p,ft,rt,nt,k,tt,ut;if(i&&i.trim().length){if(i.match(/class=["']*Mso(Normal|List)/i)||i.match(/content=["']*Word.Document/i)||i.match(/content=["']*OneNote.File/i)){s=i.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);s=s?s[1]:i;s=s.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var y=angular.element("<div>"+s+"<\/div>"),h=angular.element("<div><\/div>"),r={element:null,lastIndent:[],lastLi:null,isUl:!1};for(r.lastIndent.peek=function(){var n=this.length;if(n>0)return this[n-1]},it=function(n){r.isUl=n;r.element=angular.element(n?"<ul>":"<ol>");r.lastIndent=[];r.lastIndent.peek=function(){var n=this.length;if(n>0)return this[n-1]};r.lastLevelMatch=null},c=0;c<=y[0].childNodes.length;c++)if(y[0].childNodes[c]&&"#text"!==y[0].childNodes[c].nodeName&&(o=y[0].childNodes[c].tagName.toLowerCase(),"p"===o||"h1"===o||"h2"===o||"h3"===o||"h4"===o||"h5"===o||"h6"===o))if(e=angular.element(y[0].childNodes[c]),p=(e.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i),p){if(e[0].childNodes.length<2||e[0].childNodes[1].childNodes.length<1)continue;var d="bullet"===p[1].toLowerCase()||"number"!==p[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(e[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(e[0].childNodes[1].childNodes[0].innerHTML)),et=(e.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),a=parseFloat(et?et[1]:0),b=(e.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(b&&b[2]&&(a=parseInt(b[2])),(!b||r.lastLevelMatch&&b[1]===r.lastLevelMatch[1])&&p[3]&&"first"!==p[3].toLowerCase()&&null!==r.lastIndent.peek()&&(r.isUl===d||r.lastIndent.peek()!==a)){if(null!=r.lastIndent.peek()&&r.lastIndent.peek()<a)r.element=angular.element(d?"<ul>":"<ol>"),r.lastLi.append(r.element);else if(null!=r.lastIndent.peek()&&r.lastIndent.peek()>a){for(;null!=r.lastIndent.peek()&&r.lastIndent.peek()>a;)if("li"!==r.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(r.element.parent()[0].tagName.toLowerCase()))break;r.element=r.element.parent();r.lastIndent.pop()}else r.element=r.element.parent();r.isUl="ul"===r.element[0].tagName.toLowerCase();d!==r.isUl&&(it(d),h.append(r.element))}}else it(d),h.append(r.element);r.lastLevelMatch=b;a!==r.lastIndent.peek()&&r.lastIndent.push(a);r.lastLi=angular.element("<li>");r.element.append(r.lastLi);r.lastLi.html(e.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,""));e.remove()}else it(!1),h.append(e);ft=function(n){n=angular.element(n);for(var t=n[0].childNodes.length-1;t>=0;t--)n.after(n[0].childNodes[t]);n.remove()};angular.forEach(h.find("span"),function(n){n.removeAttribute("lang");n.attributes.length<=0&&ft(n)});angular.forEach(h.find("font"),ft);i=h.html();ot&&(i=h.html()||y.html());i=i.replace(/\n/g," ")}else{if(i=i.replace(/<(|\/)meta[^>]*?>/gi,""),i.match(/<[^>]*?(ta-bind)[^>]*?>/)){if(i.match(/<[^>]*?(text-angular)[^>]*?>/)){for(rt=angular.element("<div>"+i+"<\/div>"),rt.find("textarea").remove(),nt=l.getByAttribute(rt,"ta-bind"),k=0;k<nt.length;k++){for(tt=nt[k][0].parentNode.parentNode,ut=0;ut<nt[k][0].childNodes.length;ut++)tt.parentNode.insertBefore(nt[k][0].childNodes[ut],tt);tt.parentNode.removeChild(tt)}i=rt.html().replace('<br class="Apple-interchange-newline">',"")}}else i.match(/^<span/)&&(i.match(/<span class=(\"Apple-converted-space\"|\'Apple-converted-space\')>.<\/span>/gi)||(i=i.replace(/<(|\/)span[^>]*?>/gi,"")));i=i.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}/<li(\s.*)?>/i.test(i)&&/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(i)===!1&&(i=i.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&<\/ul>"));i=i.replace(/^[ |\u00A0]+/gm,function(n){for(var t="",i=0;i<n.length;i++)t+="&nbsp;";return t}).replace(/\n|\r\n|\r/g,"<br />").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");wt&&(i=wt(u,{$html:i})||i);i=n(i,"",si);f.insertHtml(i,v[0]);t(function(){w.$setViewValue(g());lt=!1;v.removeClass("processing-paste")},0)}else lt=!1,v.removeClass("processing-paste")};v.on("paste",u.events.paste=function(n,r){var s,u,e,o,h,f;if(r&&angular.extend(n,r),b||lt)return n.stopPropagation(),n.preventDefault(),!1;if(lt=!0,v.addClass("processing-paste"),u=(n.originalEvent||n).clipboardData,u&&u.getData&&u.types.length>0){for(e="",o=0;o<u.types.length;o++)e+=" "+u.types[o];return/text\/html/i.test(e)?s=u.getData("text/html"):/text\/plain/i.test(e)&&(s=u.getData("text/plain")),ti(s),n.stopPropagation(),n.preventDefault(),!1}h=rangy.saveSelection();f=angular.element('<div class="ta-hidden-input" contenteditable="true"><\/div>');i.find("body").append(f);f[0].focus();t(function(){rangy.restoreSelection(h);ti(f[0].innerHTML);v[0].focus();f.remove()},0)});v.on("cut",u.events.cut=function(n){b?n.preventDefault():t(function(){w.$setViewValue(g())},0)});v.on("keydown",u.events.keydown=function(n,t){var h,r,c,i,e,l,o;if(t&&angular.extend(n,t),n.keyCode===pi?f.setStateShiftKey(!0):f.setStateShiftKey(!1),n.specialKey=ai(n),s.keyMappings.forEach(function(t){n.specialKey===t.commandKeyCode&&(n.specialKey=void 0);t.testForKey(n)&&(h=t.commandKeyCode);"UndoKey"!==t.commandKeyCode&&"RedoKey"!==t.commandKeyCode||t.enablePropagation||n.preventDefault()}),"undefined"!=typeof h&&(n.specialKey=h),"undefined"==typeof n.specialKey||"UndoKey"===n.specialKey&&"RedoKey"===n.specialKey||(n.preventDefault(),a.sendKeyCommand(u,n)),!(b||("UndoKey"===n.specialKey&&(di(),n.preventDefault()),"RedoKey"===n.specialKey&&(gi(),n.preventDefault()),n.keyCode!==kt||n.shiftKey||n.ctrlKey||n.metaKey||n.altKey))){if(c=function(n,t){for(var i=0;i<n.length;i++)if(n[i]===t)return!0;return!1},i=f.getSelectionElement(),!i.nodeName.match(VALIDELEMENTS))return;e=angular.element(d);l=["blockquote","ul","ol"];c(l,i.parentNode.tagName.toLowerCase())&&(/^<br(|\/)>$/i.test(i.innerHTML.trim())&&!i.nextSibling&&(r=angular.element(i),o=r.parent(),o.after(e),r.remove(),0===o.children().length&&o.remove(),f.setSelectionToElementStart(e[0]),n.preventDefault()),/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(i.innerHTML.trim())&&(r=angular.element(i),r.after(e),r.remove(),f.setSelectionToElementStart(e[0]),n.preventDefault()))}});v.on("keyup",u.events.keyup=function(n,i){var s,r,e,u,o;if(i&&angular.extend(n,i),f.setStateShiftKey(!1),n.keyCode===vt)return s=f.getSelection(),void(s.start.element===v[0]&&v.children().length&&f.setSelectionToElementStart(v.children()[0]));if((n.keyCode!==wi||n.shiftKey||f.updateLeftArrowKey(v),n.keyCode!==bi||n.shiftKey||f.updateRightArrowKey(v),st&&t.cancel(st),!b&&!vi.test(n.keyCode))&&(n.keyCode!==kt||!(n.ctrlKey||n.metaKey||n.altKey))){if(!(""===d||"<BR><BR>"===d||n.keyCode!==kt||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey)){for(r=f.getSelectionElement();!r.nodeName.match(VALIDELEMENTS)&&r!==v[0];)r=r.parentNode;r.tagName.toLowerCase()!==y.taDefaultWrap&&"li"!==r.tagName.toLowerCase()&&(""===r.innerHTML.trim()||"<br>"===r.innerHTML.trim())&&(e=angular.element(d),angular.element(r).replaceWith(e),f.setSelectionToElementStart(e[0]))}u=g();""===d||""!==u.trim()&&"<br>"!==u.trim()?"<"!==u.substring(0,1)&&""!==y.taDefaultWrap:(ct(d),f.setSelectionToElementStart(v.children()[0]));o=fi!==n.keyCode&&yi.test(n.keyCode);ii&&t.cancel(ii);ii=t(function(){nt(u,o,!0)},bt.$options.debounce||400);o||(st=t(function(){w.$undoManager.push(u)},250));fi=n.keyCode}});if(v.on("input",function(){g()!==w.$viewValue&&(ri&&t.cancel(ri),ri=t(function(){var n=g();n!==w.$viewValue&&nt(n,!0)},1e3))}),v.on("blur",u.events.blur=function(){ot=!1;b?(at=!0,w.$render()):nt(void 0,void 0,!0)}),y.placeholder&&(_browserDetect.ie>8||void 0===_browserDetect.ie)){if(!y.id)throw"textAngular Error: An unique ID is required for placeholders to work";hi=addCSSRule("#"+y.id+".placeholder-text:before",'content: "'+y.placeholder+'"');u.$on("$destroy",function(){removeCSSRule(hi)})}v.on("focus",u.events.focus=function(){ot=!0;v.removeClass("placeholder-text");gt()});v.on("mouseup",u.events.mouseup=function(){var n=f.getSelection();n&&n.start.element===v[0]&&v.children().length&&f.setSelectionToElementStart(v.children()[0])});v.on("mousedown",u.events.mousedown=function(n,t){t&&angular.extend(n,t);n.stopPropagation()})}else{v.on("change blur",u.events.change=u.events.blur=function(){b||w.$setViewValue(g())});v.on("keydown",u.events.keydown=function(n,t){var f,u;if(t&&angular.extend(n,t),n.keyCode===vt){var r=this.selectionStart,e=this.selectionEnd,i=v.val();n.shiftKey?(f=i.lastIndexOf("\n",r),u=i.lastIndexOf("\t",r),-1!==u&&u>=f&&(v.val(i.substring(0,u)+i.substring(u+1)),this.selectionStart=this.selectionEnd=r-1)):(v.val(i.substring(0,r)+"\t"+i.substring(e)),this.selectionStart=this.selectionEnd=r+1);n.preventDefault()}});var ui=function(n,t){for(var i="",r=0;t>r;r++)i+=n;return i},ci=function(n,t,i){for(var r=0;r<n.length;r++)t.call(i,r,n[r])},li=function(n,t){var i="",r=n.childNodes;return t++,i+=ui("\t",t-1)+n.outerHTML.substring(0,4),ci(r,function(n,r){var u=r.nodeName.toLowerCase();return"#comment"===u?void(i+="<!--"+r.nodeValue+"-->"):"#text"===u?void(i+=r.textContent):void(r.outerHTML&&(i+="ul"===u||"ol"===u?"\n"+li(r,t):"\n"+ui("\t",t)+r.outerHTML))}),i+="\n"+ui("\t",t-1)+n.outerHTML.substring(n.outerHTML.lastIndexOf("<"))};w.$formatters.unshift(function(n){var t=angular.element("<div>"+n+"<\/div>")[0].childNodes;return t.length>0&&(n="",ci(t,function(t,i){var r=i.nodeName.toLowerCase();return"#comment"===r?void(n+="<!--"+i.nodeValue+"-->"):"#text"===r?void(n+=i.textContent):void(i.outerHTML&&(n.length>0&&(n+="\n"),n+="ul"===r||"ol"===r?""+li(i,0):""+i.outerHTML))})),n})}et=function(n,i){if(i&&angular.extend(n,i),!dropFired&&!b){dropFired=!0;var r;r=n.originalEvent?n.originalEvent.dataTransfer:n.dataTransfer;u.$emit("ta-drop-event",this,n,r);t(function(){dropFired=!1;nt(void 0,void 0,!0)},100)}};pt=!1;w.$render=function(){if(!pt){pt=!0;var n=w.$viewValue||"";at||(k&&ot&&(v.removeClass("placeholder-text"),yt&&t.cancel(yt),yt=t(function(){ot||(v[0].focus(),f.setSelectionToElementEnd(v.children()[v.children().length-1]));yt=void 0},1)),k?(ct(y.placeholder?""===n?d:n:""===n?d:n),b?v.off("drop",et):(gt(),v.on("drop",et))):"textarea"!==v[0].tagName.toLowerCase()&&"input"!==v[0].tagName.toLowerCase()?ct(o(n)):v.val(n));k&&y.placeholder&&(""===n?ot?v.removeClass("placeholder-text"):v.addClass("placeholder-text"):v.removeClass("placeholder-text"));pt=at=!1}};y.taReadonly&&(b=u.$eval(y.taReadonly),b?(v.addClass("ta-readonly"),"textarea"!==v[0].tagName.toLowerCase()&&"input"!==v[0].tagName.toLowerCase()||v.attr("disabled","disabled"),void 0!==v.attr("contenteditable")&&v.attr("contenteditable")&&v.removeAttr("contenteditable")):(v.removeClass("ta-readonly"),"textarea"===v[0].tagName.toLowerCase()||"input"===v[0].tagName.toLowerCase()?v.removeAttr("disabled"):k&&v.attr("contenteditable","true")),u.$watch(y.taReadonly,function(n,t){t!==n&&(n?(v.addClass("ta-readonly"),"textarea"!==v[0].tagName.toLowerCase()&&"input"!==v[0].tagName.toLowerCase()||v.attr("disabled","disabled"),void 0!==v.attr("contenteditable")&&v.attr("contenteditable")&&v.removeAttr("contenteditable"),angular.forEach(e,function(n){v.find(n).on("click",ht)}),v.off("drop",et)):(v.removeClass("ta-readonly"),"textarea"===v[0].tagName.toLowerCase()||"input"===v[0].tagName.toLowerCase()?v.removeAttr("disabled"):k&&v.attr("contenteditable","true"),angular.forEach(e,function(n){v.find(n).off("click",ht)}),v.on("drop",et)),b=n)}));k&&!b&&(angular.forEach(e,function(n){v.find(n).on("click",ht)}),v.on("drop",et))}}}]);dropFired=!1;textAngular=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]);textAngular.config([function(){angular.forEach(taTools,function(n,t){delete taTools[t]})}]);textAngular.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$document","$animate","$log","$q","$parse",function(n,t,i,r,u,f,e,o,s,h,c){return{require:"?ngModel",scope:{},restrict:"EA",priority:2,link:function(l,a,v,y){var tt,it,rt,ut,ft,et,d,b,at,ot,st,ht,ct,p=v.serial?v.serial:Math.floor(1e16*Math.random()),nt,vt,g,k,lt,w;if(l._name=v.name?v.name:"textAngularEditor"+p,nt=function(n,i,r){t(function(){var t=function(){n.off(i,t);r.apply(this,arguments)};n.on(i,t)},100)},at=u(v.taDefaultWrap),angular.extend(l,angular.copy(i),{wrapSelection:function(n,t,i){"undo"===n.toLowerCase()?l["$undoTaBindtaTextElement"+p]():"redo"===n.toLowerCase()?l["$redoTaBindtaTextElement"+p]():(at(n,!1,t,l.defaultTagAttributes),i&&l["reApplyOnSelectorHandlerstaTextElement"+p](),l.displayElements.text[0].focus())},showHtml:l.$eval(v.taShowHtml)||!1}),v.taFocussedClass&&(l.classes.focussed=v.taFocussedClass),v.taTextEditorClass&&(l.classes.textEditor=v.taTextEditorClass),v.taHtmlEditorClass&&(l.classes.htmlEditor=v.taHtmlEditorClass),v.taDefaultTagAttributes)try{angular.extend(l.defaultTagAttributes,angular.fromJson(v.taDefaultTagAttributes))}catch(yt){s.error(yt)}v.taTextEditorSetup&&(l.setup.textEditorSetup=l.$parent.$eval(v.taTextEditorSetup));v.taHtmlEditorSetup&&(l.setup.htmlEditorSetup=l.$parent.$eval(v.taHtmlEditorSetup));l.fileDropHandler=v.taFileDrop?l.$parent.$eval(v.taFileDrop):l.defaultFileDropHandler;d=a[0].innerHTML;a[0].innerHTML="";l.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea><\/textarea>"),text:angular.element("<div><\/div>"),scrollWindow:angular.element("<div class='ta-scroll-window'><\/div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"><\/div>'),popoverArrow:angular.element('<div class="arrow"><\/div>'),popoverContainer:angular.element('<div class="popover-content"><\/div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"><\/div>'),background:angular.element('<div class="ta-resizer-handle-background"><\/div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"><\/div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"><\/div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"><\/div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"><\/div>')],info:angular.element('<div class="ta-resizer-handle-info"><\/div>')}};l.displayElements.popover.append(l.displayElements.popoverArrow);l.displayElements.popover.append(l.displayElements.popoverContainer);l.displayElements.scrollWindow.append(l.displayElements.popover);l.displayElements.popover.on("mousedown",function(n,t){return t&&angular.extend(n,t),n.preventDefault(),!1});l.handlePopoverEvents=function(){"block"===l.displayElements.popover.css("display")&&(ht&&t.cancel(ht),ht=t(function(){l.reflowPopover(ct);l.reflowResizeOverlay(ct)},100))};angular.element(window).on("resize",function(){l.handlePopoverEvents()});angular.element(window).on("scroll",function(){l.handlePopoverEvents()});vt=function(n){var t,u={vertical:!1,horizontal:!1},i,r;try{if(t=window.getComputedStyle(n),null===t)return u}catch(f){return u}return i=t["overflow-y"],r=t["overflow-x"],{vertical:("scroll"===i||"auto"===i)&&n.scrollHeight>n.clientHeight,horizontal:("scroll"===r||"auto"===r)&&n.scrollWidth>n.clientWidth}};l.getScrollTop=function(n,t){var i=n.scrollTop;return"undefined"==typeof i&&(i=0),t&&vt(n).vertical&&(n.removeEventListener("scroll",l._scrollListener,!1),n.addEventListener("scroll",l._scrollListener,!1)),0!==i?{node:n.nodeName,top:i}:n.parentNode?l.getScrollTop(n.parentNode,t):{node:"<none>",top:0}};l.showPopover=function(n){l.getScrollTop(l.displayElements.scrollWindow[0],!0);l.displayElements.popover.css("display","block");ct=n;l.reflowPopover(n);o.addClass(l.displayElements.popover,"in");nt(e.find("body"),"click keyup",function(){l.hidePopover()})};l._scrollListener=function(){l.handlePopoverEvents()};l.reflowPopover=function(n){var f=l.getScrollTop(l.displayElements.scrollWindow[0],!1),e=n[0].offsetTop-f.top;51>e?(l.displayElements.popover.css("top",n[0].offsetTop+n[0].offsetHeight+l.displayElements.scrollWindow[0].scrollTop+"px"),l.displayElements.popover.removeClass("top").addClass("bottom")):(l.displayElements.popover.css("top",n[0].offsetTop-54+l.displayElements.scrollWindow[0].scrollTop+"px"),l.displayElements.popover.removeClass("bottom").addClass("top"));var i=l.displayElements.text[0].offsetWidth-l.displayElements.popover[0].offsetWidth,t=n[0].offsetLeft+n[0].offsetWidth/2-l.displayElements.popover[0].offsetWidth/2,r=Math.max(0,Math.min(i,t)),u=Math.min(t,Math.max(0,t-i))-11;r+=window.scrollX;u-=window.scrollX;l.displayElements.popover.css("left",r+"px");l.displayElements.popoverArrow.css("margin-left",u+"px")};l.hidePopover=function(){l.displayElements.popover.css("display","none");l.displayElements.popoverContainer.attr("style","");l.displayElements.popoverContainer.attr("class","popover-content");l.displayElements.popover.removeClass("in")};l.displayElements.resize.overlay.append(l.displayElements.resize.background);angular.forEach(l.displayElements.resize.anchors,function(n){l.displayElements.resize.overlay.append(n)});l.displayElements.resize.overlay.append(l.displayElements.resize.info);l.displayElements.scrollWindow.append(l.displayElements.resize.overlay);l.displayElements.resize.background.on("click",function(){l.displayElements.text[0].focus()});l.reflowResizeOverlay=function(n){n=angular.element(n)[0];l.displayElements.resize.overlay.css({display:"block",left:n.offsetLeft-5+"px",top:n.offsetTop-5+"px",width:n.offsetWidth+10+"px",height:n.offsetHeight+10+"px"});l.displayElements.resize.info.text(n.offsetWidth+" x "+n.offsetHeight)};l.showResizeOverlay=function(n){var t=e.find("body");ot=function(i){var r={width:parseInt(n.attr("width")),height:parseInt(n.attr("height")),x:i.clientX,y:i.clientY},u,f;(void 0===r.width||isNaN(r.width))&&(r.width=n[0].offsetWidth);(void 0===r.height||isNaN(r.height))&&(r.height=n[0].offsetHeight);l.hidePopover();u=r.height/r.width;f=function(t){function o(n){return Math.round(Math.max(0,n))}var i={x:Math.max(0,r.width+(t.clientX-r.x)),y:Math.max(0,r.height+(t.clientY-r.y))},s=void 0!==v.taResizeForceAspectRatio,h=v.taResizeMaintainAspectRatio,c=s||h&&!t.shiftKey,f,e;c&&(f=i.y/i.x,i.x=u>f?i.x:i.y/u,i.y=u>f?i.x*u:i.y);e=angular.element(n);e.css("height",o(i.y)+"px");e.css("width",o(i.x)+"px");l.reflowResizeOverlay(n)};t.on("mousemove",f);nt(t,"mouseup",function(n){n.preventDefault();n.stopPropagation();t.off("mousemove",f);l.$apply(function(){l.hidePopover();l.updateTaBindtaTextElement()},100)});i.stopPropagation();i.preventDefault()};l.displayElements.resize.anchors[3].off("mousedown");l.displayElements.resize.anchors[3].on("mousedown",ot);l.reflowResizeOverlay(n);nt(t,"click",function(){l.hideResizeOverlay()})};l.hideResizeOverlay=function(){l.displayElements.resize.anchors[3].off("mousedown",ot);l.displayElements.resize.overlay.css("display","none")};l.setup.htmlEditorSetup(l.displayElements.html);l.setup.textEditorSetup(l.displayElements.text);l.displayElements.html.attr({id:"taHtmlElement"+p,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":a.attr("ng-model-options")});l.displayElements.text.attr({id:"taTextElement"+p,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":a.attr("ng-model-options")});l.displayElements.scrollWindow.attr({"ng-hide":"showHtml"});v.taDefaultWrap&&l.displayElements.text.attr("ta-default-wrap",v.taDefaultWrap);v.taUnsafeSanitizer&&(l.displayElements.text.attr("ta-unsafe-sanitizer",v.taUnsafeSanitizer),l.displayElements.html.attr("ta-unsafe-sanitizer",v.taUnsafeSanitizer));l.displayElements.scrollWindow.append(l.displayElements.text);a.append(l.displayElements.scrollWindow);a.append(l.displayElements.html);l.displayElements.forminput.attr("name",l._name);a.append(l.displayElements.forminput);v.tabindex&&(a.removeAttr("tabindex"),l.displayElements.text.attr("tabindex",v.tabindex),l.displayElements.html.attr("tabindex",v.tabindex));v.placeholder&&(l.displayElements.text.attr("placeholder",v.placeholder),l.displayElements.html.attr("placeholder",v.placeholder));v.taDisabled&&(l.displayElements.text.attr("ta-readonly","disabled"),l.displayElements.html.attr("ta-readonly","disabled"),l.disabled=l.$parent.$eval(v.taDisabled),l.$parent.$watch(v.taDisabled,function(n){l.disabled=n;l.disabled?a.addClass(l.classes.disabled):a.removeClass(l.classes.disabled)}));v.taPaste&&(l._pasteHandler=function(n){return c(v.taPaste)(l.$parent,{$html:n})},l.displayElements.text.attr("ta-paste","_pasteHandler($html)"));n(l.displayElements.scrollWindow)(l);n(l.displayElements.html)(l);l.updateTaBindtaTextElement=l["updateTaBindtaTextElement"+p];l.updateTaBindtaHtmlElement=l["updateTaBindtaHtmlElement"+p];a.addClass("ta-root");l.displayElements.scrollWindow.addClass("ta-text ta-editor "+l.classes.textEditor);l.displayElements.html.addClass("ta-html ta-editor "+l.classes.htmlEditor);g=function(n,t){t!==e[0].queryCommandState(n)&&e[0].execCommand(n,!1,null)};l._actionRunning=!1;k=!1;(l.startAction=function(){var n=!1,t=!1,i=!1,r=!1;return l._actionRunning=!0,n=e[0].queryCommandState("bold"),t=e[0].queryCommandState("italic"),i=e[0].queryCommandState("underline"),r=e[0].queryCommandState("strikeThrough"),k=rangy.saveSelection(),g("bold",n),g("italic",t),g("underline",i),g("strikeThrough",r),function(){k&&rangy.restoreSelection(k)}},l.endAction=function(){l._actionRunning=!1;k&&(l.showHtml?l.displayElements.html[0].focus():l.displayElements.text[0].focus(),rangy.removeMarkers(k));k=!1;l.updateSelectedStyles();l.showHtml||l["updateTaBindtaTextElement"+p]()},ft=function(){l.focussed=!0;a.addClass(l.classes.focussed);b.focus();a.triggerHandler("focus");l.updateSelectedStyles&&!l._bUpdateSelectedStyles&&t(function(){l.updateSelectedStyles()},0)},l.displayElements.html.on("focus",ft),l.displayElements.text.on("focus",ft),et=function(n){return l._actionRunning||e[0].activeElement===l.displayElements.html[0]||e[0].activeElement===l.displayElements.text[0]||(a.removeClass(l.classes.focussed),b.unfocus(),t(function(){l._bUpdateSelectedStyles=!1;a.triggerHandler("blur");l.focussed=!1},0)),n.preventDefault(),!1},l.displayElements.html.on("blur",et),l.displayElements.text.on("blur",et),l.displayElements.text.on("paste",function(n){a.triggerHandler("paste",n)}),l.queryFormatBlockState=function(n){return!l.showHtml&&n.toLowerCase()===e[0].queryCommandValue("formatBlock").toLowerCase()},l.queryCommandState=function(n){return l.showHtml?"":e[0].queryCommandState(n)},l.switchView=function(){l.showHtml=!l.showHtml;o.enabled(!1,l.displayElements.html);o.enabled(!1,l.displayElements.text);l.showHtml?t(function(){return o.enabled(!0,l.displayElements.html),o.enabled(!0,l.displayElements.text),l.displayElements.html[0].focus()},100):t(function(){return o.enabled(!0,l.displayElements.html),o.enabled(!0,l.displayElements.text),l.displayElements.text[0].focus()},100)},v.ngModel)?(lt=!0,y.$render=function(){if(lt){lt=!1;var n=l.$parent.$eval(v.ngModel);(void 0===n||null===n)&&d&&""!==d&&y.$setViewValue(d)}l.displayElements.forminput.val(y.$viewValue);l.html=y.$viewValue||""},a.attr("required")&&(y.$validators.required=function(n,t){var i=n||t;return!(!i||""===i.trim())})):(l.displayElements.forminput.val(d),l.html=d);(l.$watch("html",function(n,t){n!==t&&(v.ngModel&&y.$viewValue!==n&&y.$setViewValue(n),l.displayElements.forminput.val(n))}),v.taTargetToolbars)?b=f.registerEditor(l._name,l,v.taTargetToolbars.split(",")):(w=angular.element('<div text-angular-toolbar name="textAngularToolbar'+p+'">'),v.taToolbar&&w.attr("ta-toolbar",v.taToolbar),v.taToolbarClass&&w.attr("ta-toolbar-class",v.taToolbarClass),v.taToolbarGroupClass&&w.attr("ta-toolbar-group-class",v.taToolbarGroupClass),v.taToolbarButtonClass&&w.attr("ta-toolbar-button-class",v.taToolbarButtonClass),v.taToolbarActiveButtonClass&&w.attr("ta-toolbar-active-button-class",v.taToolbarActiveButtonClass),v.taFocussedClass&&w.attr("ta-focussed-class",v.taFocussedClass),a.prepend(w),n(w)(l.$parent),b=f.registerEditor(l._name,l,["textAngularToolbar"+p]));l.$on("$destroy",function(){f.unregisterEditor(l._name);angular.element(window).off("blur")});l.$on("ta-element-select",function(n,t){b.triggerElementSelect(n,t)&&l["reApplyOnSelectorHandlerstaTextElement"+p]()});l.$on("ta-drop-event",function(n,i,r,u){u&&u.files&&u.files.length>0?(l.displayElements.text[0].focus(),angular.forEach(u.files,function(n){try{h.when(l.fileDropHandler(n,l.wrapSelection)||l.fileDropHandler!==l.defaultFileDropHandler&&h.when(l.defaultFileDropHandler(n,l.wrapSelection))).then(function(){l["updateTaBindtaTextElement"+p]()})}catch(t){s.error(t)}}),r.preventDefault(),r.stopPropagation()):t(function(){l["updateTaBindtaTextElement"+p]()},0)});l._bUpdateSelectedStyles=!1;angular.element(window).on("blur",function(){l._bUpdateSelectedStyles=!1;l.focussed=!1});l.updateSelectedStyles=function(){var n;st&&t.cancel(st);void 0!==(n=r.getSelectionElement())&&n.parentNode!==l.displayElements.text[0]?b.updateSelectedStyles(angular.element(n)):b.updateSelectedStyles();l._bUpdateSelectedStyles&&(st=t(l.updateSelectedStyles,200))};tt=function(){return l.focussed?void(l._bUpdateSelectedStyles||(l._bUpdateSelectedStyles=!0,l.$apply(function(){l.updateSelectedStyles()}))):void(l._bUpdateSelectedStyles=!1)};l.displayElements.html.on("keydown",tt);l.displayElements.text.on("keydown",tt);it=function(){l._bUpdateSelectedStyles=!1};l.displayElements.html.on("keyup",it);l.displayElements.text.on("keyup",it);rt=function(n,t){if(r.getSelection){var i=r.getSelection();r.getSelectionElement()&&"a"===r.getSelectionElement().nodeName.toLowerCase()&&(3===i.start.element.nodeType&&i.start.element.textContent.length===i.end.offset&&r.setSelectionAfterElement(r.getSelectionElement()),3===i.start.element.nodeType&&0===i.start.offset&&r.setSelectionBeforeElement(r.getSelectionElement()))}t&&angular.extend(n,t);l.$apply(function(){if(b.sendKeyCommand(n))return(l._bUpdateSelectedStyles||l.updateSelectedStyles(),n.preventDefault(),!1)})};l.displayElements.html.on("keypress",rt);l.displayElements.text.on("keypress",rt);ut=function(){l._bUpdateSelectedStyles=!1;t(function(){l.updateSelectedStyles()},0)};l.displayElements.html.on("mouseup",ut);l.displayElements.text.on("mouseup",ut)}}}]);textAngular.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool","$interval","$rootScope","$log",function(n,t,i,r,u){var s,e={},f={},h=0,c=function(n){angular.forEach(f,function(t){t.editorFunctions.updateSelectedStyles(n)})},l=50,a=function(){h=Date.now();s=r(function(){c();s=void 0},l,1)},o;return u.$on("destroy",function(){s&&(r.cancel(s),s=void 0)}),o=function(){Math.abs(Date.now()-h)>l&&a()},{registerEditor:function(i,r,u){if(!i||""===i)throw"textAngular Error: An editor requires a name";if(!r)throw"textAngular Error: An editor requires a scope";if(f[i])throw'textAngular Error: An Editor with name "'+i+'" already exists';return f[i]={scope:r,toolbars:u,toolbarScopes:[],_registerToolbarScope:function(n){this.toolbars.indexOf(n.name)>=0&&this.toolbarScopes.push(n)},editorFunctions:{disable:function(){angular.forEach(f[i].toolbarScopes,function(n){n.disabled=!0})},enable:function(){angular.forEach(f[i].toolbarScopes,function(n){n.disabled=!1})},focus:function(){angular.forEach(f[i].toolbarScopes,function(n){n._parent=r;n.disabled=!1;n.focussed=!0});r.focussed=!0},unfocus:function(){angular.forEach(f[i].toolbarScopes,function(n){n.disabled=!0;n.focussed=!1});r.focussed=!1},updateSelectedStyles:function(n){angular.forEach(f[i].toolbarScopes,function(t){angular.forEach(t.tools,function(i){i.activeState&&(t._parent=r,i.active=i.activeState(n))})})},sendKeyCommand:function(u){var e=!1;return(u.ctrlKey||u.metaKey||u.specialKey)&&angular.forEach(t,function(t,o){if(t.commandKeyCode&&(t.commandKeyCode===u.which||t.commandKeyCode===u.specialKey))for(var s=0;s<f[i].toolbarScopes.length;s++)if(void 0!==f[i].toolbarScopes[s].tools[o]){n.call(f[i].toolbarScopes[s].tools[o],r);e=!0;break}}),e},triggerElementSelect:function(n,u){var c=function(n,t){for(var i=!0,r=0;r<t.length;r++)i=i&&n.attr(t[r]);return i},e=[],l={},a=!1,s,o;if(u=angular.element(u),s=!1,angular.forEach(t,function(n,t){n.onElementSelect&&n.onElementSelect.element&&n.onElementSelect.element.toLowerCase()===u[0].tagName.toLowerCase()&&(!n.onElementSelect.filter||n.onElementSelect.filter(u))&&(s=s||angular.isArray(n.onElementSelect.onlyWithAttrs)&&c(u,n.onElementSelect.onlyWithAttrs),n.onElementSelect.onlyWithAttrs&&!c(u,n.onElementSelect.onlyWithAttrs)||(l[t]=n))}),s?(angular.forEach(l,function(n,t){n.onElementSelect.onlyWithAttrs&&c(u,n.onElementSelect.onlyWithAttrs)&&e.push({name:t,tool:n})}),e.sort(function(n,t){return t.tool.onElementSelect.onlyWithAttrs.length-n.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(l,function(n,t){e.push({name:t,tool:n})}),e.length>0)for(o=0;o<e.length;o++){for(var y=e[o].tool,v=e[o].name,h=0;h<f[i].toolbarScopes.length;h++)if(void 0!==f[i].toolbarScopes[h].tools[v]){y.onElementSelect.action.call(f[i].toolbarScopes[h].tools[v],n,u,r);a=!0;break}if(a)break}return a}}},angular.forEach(u,function(n){e[n]&&f[i].toolbarScopes.push(e[n])}),o(),f[i].editorFunctions},retrieveEditor:function(n){return f[n]},unregisterEditor:function(n){delete f[n];o()},registerToolbar:function(n){if(!n)throw"textAngular Error: A toolbar requires a scope";if(!n.name||""===n.name)throw"textAngular Error: A toolbar requires a name";if(e[n.name])throw'textAngular Error: A toolbar with name "'+n.name+'" already exists';e[n.name]=n;angular.forEach(f,function(t){t._registerToolbarScope(n)});o()},retrieveToolbar:function(n){return e[n]},retrieveToolbarsViaEditor:function(n){var t=[],i=this;return angular.forEach(this.retrieveEditor(n).toolbars,function(n){t.push(i.retrieveToolbar(n))}),t},unregisterToolbar:function(n){delete e[n];o()},updateToolsDisplay:function(n){var t=this;angular.forEach(n,function(n,i){t.updateToolDisplay(i,n)})},resetToolsDisplay:function(){var n=this;angular.forEach(t,function(t,i){n.resetToolDisplay(i)});o()},updateToolDisplay:function(n,t){var i=this;angular.forEach(e,function(r,u){i.updateToolbarToolDisplay(u,n,t)});o()},resetToolDisplay:function(n){var t=this;angular.forEach(e,function(i,r){t.resetToolbarToolDisplay(r,n)});o()},updateToolbarToolDisplay:function(n,t,i){if(!e[n])throw'textAngular Error: No Toolbar with name "'+n+'" exists';e[n].updateToolDisplay(t,i)},resetToolbarToolDisplay:function(n,i){if(!e[n])throw'textAngular Error: No Toolbar with name "'+n+'" exists';e[n].updateToolDisplay(i,t[i],!0)},removeTool:function(n){delete t[n];angular.forEach(e,function(t){var r,i,u;for(delete t.tools[n],r=0;r<t.toolbar.length;r++){for(u=0;u<t.toolbar[r].length;u++){if(t.toolbar[r][u]===n){i={group:r,index:u};break}if(void 0!==i)break}void 0!==i&&(t.toolbar[i.group].slice(i.index,1),t._$element.children().eq(i.group).children().eq(i.index).remove())}});o()},addTool:function(n,t,r,u){i(n,t);angular.forEach(e,function(i){i.addTool(n,t,r,u)});o()},addToolToToolbar:function(n,t,r,u,f){i(n,t);e[r].addTool(n,t,u,f);o()},refreshEditor:function(n){if(!f[n])throw'textAngular Error: No Editor with name "'+n+'" exists';f[n].scope.updateTaBindtaTextElement();f[n].scope.$$phase||f[n].scope.$digest();o()},sendKeyCommand:function(n,t){var i=f[n._name];if(i&&i.editorFunctions.sendKeyCommand(t))return(n._bUpdateSelectedStyles||n.updateSelectedStyles(),t.preventDefault(),!1)},updateStyles:c,getVersion:function(){return textAngularVersion},getToolbarScopes:function(){var n=[];return angular.forEach(f,function(t){n=n.concat(t.toolbarScopes)}),n}}}]);textAngular.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(n,t,i,r,u,f){return{scope:{name:"@"},restrict:"EA",link:function(e,o,s){var h,c;if(!e.name||""===e.name)throw"textAngular Error: A toolbar requires a name";angular.extend(e,angular.copy(i));s.taToolbar&&(e.toolbar=e.$parent.$eval(s.taToolbar));s.taToolbarClass&&(e.classes.toolbar=s.taToolbarClass);s.taToolbarGroupClass&&(e.classes.toolbarGroup=s.taToolbarGroupClass);s.taToolbarButtonClass&&(e.classes.toolbarButton=s.taToolbarButtonClass);s.taToolbarActiveButtonClass&&(e.classes.toolbarButtonActive=s.taToolbarActiveButtonClass);s.taFocussedClass&&(e.classes.focussed=s.taFocussedClass);e.disabled=!0;e.focussed=!1;e._$element=o;o[0].innerHTML="";o.addClass("ta-toolbar "+e.classes.toolbar);e.$watch("focussed",function(){e.focussed?o.addClass(e.classes.focussed):o.removeClass(e.classes.focussed)});h=function(t,i){var r,f,u;return(r=t&&t.display?angular.element(t.display):angular.element("<button type='button'>"),t&&t["class"]?r.addClass(t["class"]):r.addClass(e.classes.toolbarButton),r.attr("name",i.name),r.attr("ta-button","ta-button"),r.attr("ng-disabled","isDisabled()"),r.attr("tabindex","-1"),r.attr("ng-click","executeAction()"),r.attr("ng-class","displayActiveToolClass(active)"),t&&t.tooltiptext&&r.attr("title",t.tooltiptext),t&&!t.display&&!i._display&&(r[0].innerHTML="",t.buttontext&&(r[0].innerHTML=t.buttontext),t.iconclass))&&(f=angular.element("<i>"),u=r[0].innerHTML,f.addClass(t.iconclass),r[0].innerHTML="",r.append(f),u&&""!==u&&r.append("&nbsp;"+u)),i._lastToolDefinition=angular.copy(t),n(r)(i)};e.tools={};e._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};c={$window:f,$editor:function(){return e._parent},isDisabled:function(){return"html"===this.name&&e._parent.startAction?!1:"function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled},displayActiveToolClass:function(n){return n?e.classes.toolbarButtonActive:""},executeAction:u};angular.forEach(e.toolbar,function(n){var t=angular.element("<div>");t.addClass(e.classes.toolbarGroup);angular.forEach(n,function(n){e.tools[n]=angular.extend(e.$new(!0),r[n],c,{name:n});e.tools[n].$element=h(r[n],e.tools[n]);t.append(e.tools[n].$element)});o.append(t)});e.updateToolDisplay=function(n,t,i){var r=e.tools[n],u;if(r){if(r._lastToolDefinition&&!i&&(t=angular.extend({},r._lastToolDefinition,t)),null===t.buttontext&&null===t.iconclass&&null===t.display)throw'textAngular Error: Tool Definition for updating "'+n+'" does not have a valid display/iconclass/buttontext value';null===t.buttontext&&delete t.buttontext;null===t.iconclass&&delete t.iconclass;null===t.display&&delete t.display;u=h(t,r);r.$element.replaceWith(u);r.$element=u}};e.addTool=function(n,t,i,u){e.tools[n]=angular.extend(e.$new(!0),r[n],c,{name:n});e.tools[n].$element=h(r[n],e.tools[n]);var f;void 0===i&&(i=e.toolbar.length-1);f=angular.element(o.children()[i]);void 0===u?(f.append(e.tools[n].$element),e.toolbar[i][e.toolbar[i].length-1]=n):(f.children().eq(u).after(e.tools[n].$element),e.toolbar[i][u]=n)};t.registerToolbar(e);e.$on("$destroy",function(){t.unregisterToolbar(e.name)})}}}]);textAngular.directive("textAngularVersion",["textAngularManager",function(n){var t=n.getVersion();return{restrict:"EA",link:function(n,i){i.html(t)}}}]);Object.values||(Object.values=function(n){if(n!==Object(n))throw new TypeError("Object.values called on a non-object");var t,i=[];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&i.push(n[t]);return i}),function(){function n(n,t){function i(n,t){for(var i=0;i<t.length;i+=1)if(t[i]===n)return!0;return!1}function o(n){return n.replace(/^\s+|\s+$/g,"")}function c(n){return n.replace(/^\s+/g,"")}function l(n){n=n||f.before_newline;var t=Object.values(f);if(!i(n,t))throw new Error("Invalid Option Value: The option 'operator_position' must be one of the following values\n"+t+"\nYou passed in: '"+n+"'");return n}function a(n,t){"use strict";function bt(n,t){var i=0;return n&&(i=n.indentation_level,!w.just_added_newline()&&n.line_indent_level>i&&(i=n.line_indent_level)),{mode:t,parent:n,last_text:n?n.last_text:"",last_word:n?n.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:i,line_indent_level:n?n.line_indent_level:i,start_line_index:w.get_line_number(),ternary_depth:0}}function kt(n){var t=n.newlines,u=v.keep_array_indentation&&ut(e.mode),i,r;if(u)for(i=0;t>i;i+=1)b(i>0);else if(v.max_preserve_newlines&&t>v.max_preserve_newlines&&(t=v.max_preserve_newlines),v.preserve_newlines&&n.newlines>1)for(b(),r=1;t>r;r+=1)b(!0);h=n;ni[h.type]()}function ri(n){n=n.replace(u.allLineBreaks,"\n");for(var i=[],t=n.indexOf("\n");-1!==t;)i.push(n.substring(0,t)),n=n.substring(t+1),t=n.indexOf("\n");return n.length&&i.push(n),i}function d(n){var t,r,u,f;if(n=void 0===n?!1:n,!w.just_added_newline())if(t=v.preserve_newlines&&h.wanted_newline||n,r=i(e.last_text,tt.positionable_operators)||i(h.text,tt.positionable_operators),r&&(u=i(e.last_text,tt.positionable_operators)&&i(v.operator_position,s)||i(h.text,tt.positionable_operators),t=t&&u),t)b(!1,!0);else if(v.wrap_line_length){if("TK_RESERVED"===a&&i(e.last_text,ii))return;f=w.current_line.get_character_count()+h.text.length+(w.space_before_token?1:0);f>=v.wrap_line_length&&b(!1,!0)}}function b(n,t){if(!t&&";"!==e.last_text&&","!==e.last_text&&"="!==e.last_text&&"TK_OPERATOR"!==a)for(;e.mode===r.Statement&&!e.if_block&&!e.do_block;)rt();w.add_new_line(n)&&(e.multiline_frame=!0)}function dt(){w.just_added_newline()&&(v.keep_array_indentation&&ut(e.mode)&&h.wanted_newline?(w.current_line.push(h.whitespace_before),w.space_before_token=!1):w.set_indent(e.indentation_level)&&(e.line_indent_level=e.indentation_level))}function k(n){if(w.raw)return void w.add_raw_token(h);if(v.comma_first&&"TK_COMMA"===a&&w.just_added_newline()&&","===w.previous_line.last()){var t=w.previous_line.pop();w.previous_line.is_empty()&&(w.previous_line.push(t),w.trim(!0),w.current_line.pop(),w.trim());dt();w.add_token(",");w.space_before_token=!0}n=n||h.text;dt();w.add_token(n)}function st(){e.indentation_level+=1}function ui(){e.indentation_level>0&&(!e.parent||e.indentation_level>e.parent.indentation_level)&&(e.indentation_level-=1)}function ht(n){e?(yt.push(e),g=e):g=bt(null,n);e=bt(g,n)}function ut(n){return n===r.ArrayLiteral}function ct(n){return i(n,[r.Expression,r.ForInitializer,r.Conditional])}function rt(){yt.length>0&&(g=e,e=yt.pop(),g.mode===r.Statement&&w.remove_redundant_indentation(g))}function lt(){return e.parent.mode===r.ObjectLiteral&&e.mode===r.Statement&&(":"===e.last_text&&0===e.ternary_depth||"TK_RESERVED"===a&&i(e.last_text,["get","set"]))}function ft(){return"TK_RESERVED"===a&&i(e.last_text,["var","let","const"])&&"TK_WORD"===h.type||"TK_RESERVED"===a&&"do"===e.last_text||"TK_RESERVED"===a&&i(e.last_text,["return","throw"])&&!h.wanted_newline||"TK_RESERVED"===a&&"else"===e.last_text&&("TK_RESERVED"!==h.type||"if"!==h.text)||"TK_END_EXPR"===a&&(g.mode===r.ForInitializer||g.mode===r.Conditional)||"TK_WORD"===a&&e.mode===r.BlockStatement&&!e.in_case&&"--"!==h.text&&"++"!==h.text&&"function"!==it&&"TK_WORD"!==h.type&&"TK_RESERVED"!==h.type||e.mode===r.ObjectLiteral&&(":"===e.last_text&&0===e.ternary_depth||"TK_RESERVED"===a&&i(e.last_text,["get","set"]))?(ht(r.Statement),st(),"TK_RESERVED"===a&&i(e.last_text,["var","let","const"])&&"TK_WORD"===h.type&&(e.declaration_statement=!0),lt()||d("TK_RESERVED"===h.type&&i(h.text,["do","for","if","while"])),!0):!1}function fi(n,t){for(var r,i=0;i<n.length;i++)if(r=o(n[i]),r.charAt(0)!==t)return!1;return!0}function ei(n,t){for(var i,r=0,u=n.length;u>r;r++)if(i=n[r],i&&0!==i.indexOf(t))return!1;return!0}function at(n){return i(n,["case","return","do","if","throw","else"])}function et(n){var t=pt+(n||0);return 0>t||t>=wt.length?null:wt[t]}function oi(){ft();var n=r.Expression;if("["===h.text){if("TK_WORD"===a||")"===e.last_text)return"TK_RESERVED"===a&&i(e.last_text,tt.line_starters)&&(w.space_before_token=!0),ht(n),k(),st(),void(v.space_in_paren&&(w.space_before_token=!0));n=r.ArrayLiteral;ut(e.mode)&&("["!==e.last_text&&(","!==e.last_text||"]"!==it&&"}"!==it)||v.keep_array_indentation||b())}else"TK_RESERVED"===a&&"for"===e.last_text?n=r.ForInitializer:"TK_RESERVED"===a&&i(e.last_text,["if","while"])&&(n=r.Conditional);";"===e.last_text||"TK_START_BLOCK"===a?b():"TK_END_EXPR"===a||"TK_START_EXPR"===a||"TK_END_BLOCK"===a||"."===e.last_text?d(h.wanted_newline):"TK_RESERVED"===a&&"("===h.text||"TK_WORD"===a||"TK_OPERATOR"===a?"TK_RESERVED"===a&&("function"===e.last_word||"typeof"===e.last_word)||"*"===e.last_text&&(i(it,["function","yield"])||e.mode===r.ObjectLiteral&&i(it,["{",","]))?v.space_after_anon_function&&(w.space_before_token=!0):"TK_RESERVED"!==a||!i(e.last_text,tt.line_starters)&&"catch"!==e.last_text||v.space_before_conditional&&(w.space_before_token=!0):w.space_before_token=!0;"("===h.text&&"TK_RESERVED"===a&&"await"===e.last_word&&(w.space_before_token=!0);"("===h.text&&("TK_EQUALS"!==a&&"TK_OPERATOR"!==a||lt()||d());"("===h.text&&"TK_WORD"!==a&&"TK_RESERVED"!==a&&d();ht(n);k();v.space_in_paren&&(w.space_before_token=!0);st()}function si(){for(;e.mode===r.Statement;)rt();e.multiline_frame&&d("]"===h.text&&ut(e.mode)&&!v.keep_array_indentation);v.space_in_paren&&("TK_START_EXPR"!==a||v.space_in_empty_paren?w.space_before_token=!0:(w.trim(),w.space_before_token=!1));"]"===h.text&&v.keep_array_indentation?(k(),rt()):(rt(),k());w.remove_redundant_indentation(g);e.do_while&&g.mode===r.Conditional&&(g.mode=r.Expression,e.do_block=!1,e.do_while=!1)}function hi(){var t=et(1),u=et(2),o,s,f,n;if(ht(u&&(i(u.text,[":",","])&&i(t.type,["TK_STRING","TK_WORD","TK_RESERVED"])||i(t.text,["get","set"])&&i(u.type,["TK_WORD","TK_RESERVED"]))?i(it,["class","interface"])?r.BlockStatement:r.ObjectLiteral:"TK_OPERATOR"===a&&"=>"===e.last_text?r.BlockStatement:i(a,["TK_EQUALS","TK_START_EXPR","TK_COMMA","TK_OPERATOR"])||"TK_RESERVED"===a&&i(e.last_text,["return","throw","import","default"])?r.ObjectLiteral:r.BlockStatement),o=!t.comments_before.length&&"}"===t.text,s=o&&"function"===e.last_word&&"TK_END_EXPR"===a,"expand"===v.brace_style||"none"===v.brace_style&&h.wanted_newline)"TK_OPERATOR"!==a&&(s||"TK_EQUALS"===a||"TK_RESERVED"===a&&at(e.last_text)&&"else"!==e.last_text)?w.space_before_token=!0:b(!1,!0);else{if("collapse-preserve-inline"===v.brace_style){f=0;n=null;e.inline_frame=!0;do if(f+=1,n=et(f),n.wanted_newline){e.inline_frame=!1;break}while("TK_EOF"!==n.type&&("TK_END_BLOCK"!==n.type||n.opened!==h))}!ut(g.mode)||"TK_START_EXPR"!==a&&"TK_COMMA"!==a?"TK_OPERATOR"!==a&&"TK_START_EXPR"!==a&&("TK_START_BLOCK"===a?b():w.space_before_token=!0):(("TK_COMMA"===a||v.space_in_paren)&&(w.space_before_token=!0),"collapse-preserve-inline"===v.brace_style&&("TK_COMMA"===a||"TK_START_EXPR"===a&&e.inline_frame)&&(d(),g.multiline_frame=g.multiline_frame||e.multiline_frame,e.multiline_frame=!1))}k();st()}function ci(){for(;e.mode===r.Statement;)rt();var n="TK_START_BLOCK"===a;"expand"===v.brace_style?n||b():n||(e.inline_frame?w.space_before_token=!0:ut(e.mode)&&v.keep_array_indentation?(v.keep_array_indentation=!1,b(),v.keep_array_indentation=!0):b());rt();k()}function gt(){var n,t;if("TK_RESERVED"===h.type&&(i(h.text,["set","get"])&&e.mode!==r.ObjectLiteral?h.type="TK_WORD":i(h.text,["as","from"])&&!e.import_block?h.type="TK_WORD":e.mode===r.ObjectLiteral&&(n=et(1),":"===n.text&&(h.type="TK_WORD"))),ft()||!h.wanted_newline||ct(e.mode)||"TK_OPERATOR"===a&&"--"!==e.last_text&&"++"!==e.last_text||"TK_EQUALS"===a||!v.preserve_newlines&&"TK_RESERVED"===a&&i(e.last_text,["var","let","const","set","get"])||b(),e.do_block&&!e.do_while){if("TK_RESERVED"===h.type&&"while"===h.text)return w.space_before_token=!0,k(),w.space_before_token=!0,void(e.do_while=!0);b();e.do_block=!1}if(e.if_block)if(e.else_block||"TK_RESERVED"!==h.type||"else"!==h.text){for(;e.mode===r.Statement;)rt();e.if_block=!1;e.else_block=!1}else e.else_block=!0;if("TK_RESERVED"===h.type&&("case"===h.text||"default"===h.text&&e.in_case_statement))return b(),(e.case_body||v.jslint_happy)&&(ui(),e.case_body=!1),k(),e.in_case=!0,void(e.in_case_statement=!0);if("TK_RESERVED"===h.type&&"function"===h.text&&((i(e.last_text,["}",";"])||w.just_added_newline()&&!i(e.last_text,["[","{",":","=",","]))&&(w.just_added_blankline()||h.comments_before.length||(b(),b(!0))),"TK_RESERVED"===a||"TK_WORD"===a?"TK_RESERVED"===a&&i(e.last_text,["get","set","new","return","export","async"])?w.space_before_token=!0:"TK_RESERVED"===a&&"default"===e.last_text&&"export"===it?w.space_before_token=!0:b():"TK_OPERATOR"===a||"="===e.last_text?w.space_before_token=!0:(e.multiline_frame||!ct(e.mode)&&!ut(e.mode))&&b()),"TK_COMMA"!==a&&"TK_START_EXPR"!==a&&"TK_EQUALS"!==a&&"TK_OPERATOR"!==a||lt()||d(),"TK_RESERVED"===h.type&&i(h.text,["function","get","set"]))return k(),void(e.last_word=h.text);(nt="NONE","TK_END_BLOCK"===a?"TK_RESERVED"===h.type&&i(h.text,["else","catch","finally","from"])?"expand"===v.brace_style||"end-expand"===v.brace_style||"none"===v.brace_style&&h.wanted_newline?nt="NEWLINE":(nt="SPACE",w.space_before_token=!0):nt="NEWLINE":"TK_SEMICOLON"===a&&e.mode===r.BlockStatement?nt="NEWLINE":"TK_SEMICOLON"===a&&ct(e.mode)?nt="SPACE":"TK_STRING"===a?nt="NEWLINE":"TK_RESERVED"===a||"TK_WORD"===a||"*"===e.last_text&&(i(it,["function","yield"])||e.mode===r.ObjectLiteral&&i(it,["{",","]))?nt="SPACE":"TK_START_BLOCK"===a?nt=e.inline_frame?"SPACE":"NEWLINE":"TK_END_EXPR"===a&&(w.space_before_token=!0,nt="NEWLINE"),"TK_RESERVED"===h.type&&i(h.text,tt.line_starters)&&")"!==e.last_text&&(nt=e.inline_frame||"else"===e.last_text||"export"===e.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===h.type&&i(h.text,["else","catch","finally"]))?"TK_END_BLOCK"!==a||g.mode!==r.BlockStatement||"expand"===v.brace_style||"end-expand"===v.brace_style||"none"===v.brace_style&&h.wanted_newline?b():(w.trim(!0),t=w.current_line,"}"!==t.last()&&b(),w.space_before_token=!0):"NEWLINE"===nt?"TK_RESERVED"===a&&at(e.last_text)?w.space_before_token=!0:"TK_END_EXPR"!==a?"TK_START_EXPR"===a&&"TK_RESERVED"===h.type&&i(h.text,["var","let","const"])||":"===e.last_text||("TK_RESERVED"===h.type&&"if"===h.text&&"else"===e.last_text?w.space_before_token=!0:b()):"TK_RESERVED"===h.type&&i(h.text,tt.line_starters)&&")"!==e.last_text&&b():e.multiline_frame&&ut(e.mode)&&","===e.last_text&&"}"===it?b():"SPACE"===nt&&(w.space_before_token=!0);k();e.last_word=h.text;"TK_RESERVED"===h.type&&("do"===h.text?e.do_block=!0:"if"===h.text?e.if_block=!0:"import"===h.text?e.import_block=!0:e.import_block&&"TK_RESERVED"===h.type&&"from"===h.text&&(e.import_block=!1))}function li(){for(ft()&&(w.space_before_token=!1);e.mode===r.Statement&&!e.if_block&&!e.do_block;)rt();e.import_block&&(e.import_block=!1);k()}function ai(){ft()?w.space_before_token=!0:"TK_RESERVED"===a||"TK_WORD"===a||e.inline_frame?w.space_before_token=!0:"TK_COMMA"===a||"TK_START_EXPR"===a||"TK_EQUALS"===a||"TK_OPERATOR"===a?lt()||d():b();k()}function vi(){ft();e.declaration_statement&&(e.declaration_assignment=!0);w.space_before_token=!0;k();w.space_before_token=!0}function yi(){k();w.space_before_token=!0;e.declaration_statement?(ct(e.parent.mode)&&(e.declaration_assignment=!1),e.declaration_assignment?(e.declaration_assignment=!1,b(!1,!0)):v.comma_first&&d()):e.mode===r.ObjectLiteral||e.mode===r.Statement&&e.parent.mode===r.ObjectLiteral?(e.mode===r.Statement&&rt(),e.inline_frame||b()):v.comma_first&&d()}function pi(){if(ft(),"TK_RESERVED"===a&&at(e.last_text))return w.space_before_token=!0,void k();if("*"===h.text&&"TK_DOT"===a||"::"===h.text)return void k();if("TK_OPERATOR"===a&&i(v.operator_position,s)&&d(),":"===h.text&&e.in_case)return e.case_body=!0,st(),k(),b(),void(e.in_case=!1);var n=!0,t=!0,o=!1,l="*"===h.text&&("TK_RESERVED"===a&&i(e.last_text,["function","yield"])||e.mode===r.ObjectLiteral&&i(a,["TK_START_BLOCK","TK_COMMA"])),y=i(h.text,["-","+"])&&(i(a,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||i(e.last_text,tt.line_starters)||","===e.last_text);if(":"===h.text?0===e.ternary_depth?n=!1:(e.ternary_depth-=1,o=!0):"?"===h.text&&(e.ternary_depth+=1),!y&&!l&&v.preserve_newlines&&i(h.text,tt.positionable_operators)){var u=":"===h.text,p=u&&o,c=u&&!o;switch(v.operator_position){case f.before_newline:return w.space_before_token=!c,k(),u&&!p||d(),void(w.space_before_token=!0);case f.after_newline:return w.space_before_token=!0,!u||p?et(1).wanted_newline?b(!1,!0):d():w.space_before_token=!1,k(),void(w.space_before_token=!0);case f.preserve_newline:return c||d(),n=!(w.just_added_newline()||c),w.space_before_token=n,k(),void(w.space_before_token=!0)}}i(h.text,["--","++","!","~"])||y?(n=!1,t=!1,!h.wanted_newline||"--"!==h.text&&"++"!==h.text||b(!1,!0),";"===e.last_text&&ct(e.mode)&&(n=!0),"TK_RESERVED"===a?n=!0:"TK_END_EXPR"===a?n=!("]"===e.last_text&&("--"===h.text||"++"===h.text)):"TK_OPERATOR"===a&&(n=i(h.text,["--","-","++","+"])&&i(e.last_text,["--","-","++","+"]),i(h.text,["+","-"])&&i(e.last_text,["--","++"])&&(t=!0)),(e.mode!==r.BlockStatement||e.inline_frame)&&e.mode!==r.Statement||"{"!==e.last_text&&";"!==e.last_text||b()):l&&(d(),n=!1,t=!1);w.space_before_token=w.space_before_token||n;k();w.space_before_token=t}function wi(){if(w.raw)return w.add_raw_token(h),void(h.directives&&"end"===h.directives.preserve&&(w.raw=v.test_output_raw));if(h.directives)return b(!1,!0),k(),"start"===h.directives.preserve&&(w.raw=!0),void b(!1,!0);if(!u.newline.test(h.text)&&!h.wanted_newline)return w.space_before_token=!0,k(),void(w.space_before_token=!0);var t,n=ri(h.text),i=!1,r=!1,f=h.whitespace_before,e=f.length;for(b(!1,!0),n.length>1&&(i=fi(n.slice(1),"*"),r=ei(n.slice(1),f)),k(n[0]),t=1;t<n.length;t++)b(!1,!0),i?k(" "+c(n[t])):r&&n[t].length>e?k(n[t].substring(e)):w.add_token(n[t]);b(!1,!0)}function bi(){h.wanted_newline?b(!1,!0):w.trim(!0);w.space_before_token=!0;k();b(!1,!0)}function ki(){ft();"TK_RESERVED"===a&&at(e.last_text)?w.space_before_token=!0:d(")"===e.last_text&&v.break_chained_methods);k()}function di(){k();"\n"===h.text[h.text.length-1]&&b()}function gi(){for(;e.mode===r.Statement;)rt()}var w,pt,tt,h,a,it,vt,e,g,yt,nt,ni,v,wt=[],ti="",ot,ii;for(ni={TK_START_EXPR:oi,TK_END_EXPR:si,TK_START_BLOCK:hi,TK_END_BLOCK:ci,TK_WORD:gt,TK_RESERVED:gt,TK_SEMICOLON:li,TK_STRING:ai,TK_EQUALS:vi,TK_OPERATOR:pi,TK_COMMA:yi,TK_BLOCK_COMMENT:wi,TK_COMMENT:bi,TK_DOT:ki,TK_UNKNOWN:di,TK_EOF:gi},t=t?t:{},v={},void 0!==t.braces_on_own_line&&(v.brace_style=t.braces_on_own_line?"expand":"collapse"),v.brace_style=t.brace_style?t.brace_style:v.brace_style?v.brace_style:"collapse","expand-strict"===v.brace_style&&(v.brace_style="expand"),v.indent_size=t.indent_size?parseInt(t.indent_size,10):4,v.indent_char=t.indent_char?t.indent_char:" ",v.eol=t.eol?t.eol:"auto",v.preserve_newlines=void 0===t.preserve_newlines?!0:t.preserve_newlines,v.break_chained_methods=void 0===t.break_chained_methods?!1:t.break_chained_methods,v.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),v.space_in_paren=void 0===t.space_in_paren?!1:t.space_in_paren,v.space_in_empty_paren=void 0===t.space_in_empty_paren?!1:t.space_in_empty_paren,v.jslint_happy=void 0===t.jslint_happy?!1:t.jslint_happy,v.space_after_anon_function=void 0===t.space_after_anon_function?!1:t.space_after_anon_function,v.keep_array_indentation=void 0===t.keep_array_indentation?!1:t.keep_array_indentation,v.space_before_conditional=void 0===t.space_before_conditional?!0:t.space_before_conditional,v.unescape_strings=void 0===t.unescape_strings?!1:t.unescape_strings,v.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),v.e4x=void 0===t.e4x?!1:t.e4x,v.end_with_newline=void 0===t.end_with_newline?!1:t.end_with_newline,v.comma_first=void 0===t.comma_first?!1:t.comma_first,v.operator_position=l(t.operator_position),v.test_output_raw=void 0===t.test_output_raw?!1:t.test_output_raw,v.jslint_happy&&(v.space_after_anon_function=!0),t.indent_with_tabs&&(v.indent_char="\t",v.indent_size=1),"auto"===v.eol&&(v.eol="\n",n&&u.lineBreak.test(n||"")&&(v.eol=n.match(u.lineBreak)[0])),v.eol=v.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),vt="";v.indent_size>0;)vt+=v.indent_char,v.indent_size-=1;if(ot=0,n&&n.length){for(;" "===n.charAt(ot)||"\t"===n.charAt(ot);)ti+=n.charAt(ot),ot+=1;n=n.substring(ot)}a="TK_START_BLOCK";it="";w=new y(vt,ti);w.raw=v.test_output_raw;yt=[];ht(r.BlockStatement);this.beautify=function(){function u(){return t=et()}var t,i,r;for(tt=new p(n,v,vt),wt=tt.tokenize(),pt=0;u();){for(r=0;r<t.comments_before.length;r++)kt(t.comments_before[r]);kt(t);it=e.last_text;a=t.type;e.last_text=t.text;pt+=1}return i=w.get_code(),v.end_with_newline&&(i+="\n"),"\n"!==v.eol&&(i=i.replace(/[\n]/g,v.eol)),i};ii=["break","continue","return","throw"]}function v(n){var i=0,r=-1,t=[],u=!0;this.set_indent=function(t){i=n.baseIndentLength+t*n.indent_length;r=t};this.get_character_count=function(){return i};this.is_empty=function(){return u};this.last=function(){return this._empty?null:t[t.length-1]};this.push=function(n){t.push(n);i+=n.length;u=!1};this.pop=function(){var n=null;return u||(n=t.pop(),i-=n.length,u=0===t.length),n};this.remove_indent=function(){r>0&&(r-=1,i-=n.indent_length)};this.trim=function(){for(;" "===this.last();)t.pop(),i-=1;u=0===t.length};this.toString=function(){var i="";return this._empty||(r>=0&&(i=n.indent_cache[r]),i+=t.join("")),i}}function y(n,t){t=t||"";this.indent_cache=[t];this.baseIndentLength=t.length;this.indent_length=n.length;this.raw=!1;var i=[];this.baseIndentString=t;this.indent_string=n;this.previous_line=null;this.current_line=null;this.space_before_token=!1;this.add_outputline=function(){this.previous_line=this.current_line;this.current_line=new v(this);i.push(this.current_line)};this.add_outputline();this.get_line_number=function(){return i.length};this.add_new_line=function(n){return 1===this.get_line_number()&&this.just_added_newline()?!1:n||!this.just_added_newline()?(this.raw||this.add_outputline(),!0):!1};this.get_code=function(){return i.join("\n").replace(/[\r\n\t ]+$/,"")};this.set_indent=function(n){if(i.length>1){for(;n>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(n),!0}return this.current_line.set_indent(0),!1};this.add_raw_token=function(n){for(var t=0;t<n.newlines;t++)this.add_outputline();this.current_line.push(n.whitespace_before);this.current_line.push(n.text);this.space_before_token=!1};this.add_token=function(n){this.add_space_before_token();this.current_line.push(n)};this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" ");this.space_before_token=!1};this.remove_redundant_indentation=function(n){if(!n.multiline_frame&&n.mode!==r.ForInitializer&&n.mode!==r.Conditional)for(var t=n.start_line_index,u=i.length;u>t;)i[t].remove_indent(),t++};this.trim=function(r){for(r=void 0===r?!1:r,this.current_line.trim(n,t);r&&i.length>1&&this.current_line.is_empty();)i.pop(),this.current_line=i[i.length-1],this.current_line.trim();this.previous_line=i.length>1?i[i.length-2]:null};this.just_added_newline=function(){return this.current_line.is_empty()};this.just_added_blankline=function(){if(this.just_added_newline()){if(1===i.length)return!0;var n=i[i.length-2];return n.is_empty()}return!1}}function p(n,t){function w(n){var i,t;if(!n.match(ut))return null;for(i={},y.lastIndex=0,t=y.exec(n);t;)i[t[1]]=t[2],t=y.exec(n);return i}function p(){var h,yt=[],n,y,ht,ut,pt,kt,wt,ri,ct,p,at,vt,ni;if(c=0,l="",n=r.next(),null===n)return["","TK_EOF"];for(y=f.length?f[f.length-1]:new e("TK_START_BLOCK","{");i(n,k);)if(u.newline.test(n)?"\n"===n&&"\r"===r.peek(-2)||(c+=1,yt=[]):yt.push(n),n=r.next(),null===n)return["","TK_EOF"];if(yt.length&&(l=yt.join("")),s.test(n)||"."===n&&r.testChar(s)){var lt=!0,bt=!0,ti=s;for("0"===n&&r.testChar(/[XxOoBb]/)?(lt=!1,bt=!1,ti=r.testChar(/[Bb]/)?d:r.testChar(/[Oo]/)?g:nt,n+=r.next()):"."===n?lt=!1:(n="",r.back());r.testChar(ti);)n+=r.next(),lt&&"."===r.peek()?(n+=r.next(),lt=!1):bt&&r.testChar(/[Ee]/)&&(n+=r.next(),r.testChar(/[+-]/)&&(n+=r.next()),bt=!1,lt=!1);return[n,"TK_WORD"]}if(u.isIdentifierStart(r.peekCharCode(-1))){if(r.hasNext())for(;u.isIdentifierChar(r.peekCharCode())&&(n+=r.next(),r.hasNext()););return"TK_DOT"===y.type||"TK_RESERVED"===y.type&&i(y.text,["set","get"])||!i(n,tt)?[n,"TK_WORD"]:"in"===n?[n,"TK_OPERATOR"]:[n,"TK_RESERVED"]}if("("===n||"["===n)return[n,"TK_START_EXPR"];if(")"===n||"]"===n)return[n,"TK_END_EXPR"];if("{"===n)return[n,"TK_START_BLOCK"];if("}"===n)return[n,"TK_END_BLOCK"];if(";"===n)return[n,"TK_SEMICOLON"];if("/"===n){if(ut="","*"===r.peek())return r.next(),ht=r.match(it),ut="/*"+ht[0],pt=w(ut),pt&&"start"===pt.ignore&&(ht=r.match(ft),ut+=ht[0]),ut=ut.replace(u.allLineBreaks,"\n"),[ut,"TK_BLOCK_COMMENT",pt];if("/"===r.peek())return r.next(),ht=r.match(rt),ut="//"+ht[0],[ut,"TK_COMMENT"]}if(kt=/<()([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/g,"`"===n||"'"===n||'"'===n||("/"===n||t.e4x&&"<"===n&&r.test(kt,-1))&&("TK_RESERVED"===y.type&&i(y.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===y.type&&")"===y.text&&y.parent&&"TK_RESERVED"===y.parent.type&&i(y.parent.text,["if","while","for"])||i(y.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var st=n,ot=!1,ii=!1;if(h=n,"/"===st)for(wt=!1;r.hasNext()&&(ot||wt||r.peek()!==st)&&!r.testChar(u.newline);)h+=r.peek(),ot?ot=!1:(ot="\\"===r.peek(),"["===r.peek()?wt=!0:"]"===r.peek()&&(wt=!1)),r.next();else if(t.e4x&&"<"===st){if(ri=/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/g,r.back(),ct="",p=r.match(kt),p){for(var ui=p[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),fi=0===ui.indexOf("{"),dt=0;p;){var ei=!!p[1],gt=p[2],oi=!!p[p.length-1]||"![CDATA["===gt.slice(0,8);if(!oi&&(gt===ui||fi&&gt.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(ei?--dt:++dt),ct+=p[0],0>=dt)break;p=r.match(ri)}return p||(ct+=r.match(/[\s\S]*/g)[0]),ct=ct.replace(u.allLineBreaks,"\n"),[ct,"TK_STRING"]}}else at=function(n,t,i){for(var f;r.hasNext()&&(f=r.peek(),ot||f!==n&&(t||!u.newline.test(f)));)(ot||t)&&u.newline.test(f)?("\r"===f&&"\n"===r.peek(1)&&(r.next(),f=r.peek()),h+="\n"):h+=f,ot?("x"!==f&&"u"!==f||(ii=!0),ot=!1):ot="\\"===f,r.next(),i&&-1!==h.indexOf(i,h.length-i.length)&&("`"===n?at("}",t,"`"):at("`",t,"${"))},"`"===st?at("`",!0,"${"):at(st);if(ii&&t.unescape_strings&&(h=b(h)),r.peek()===st&&(h+=st,r.next(),"/"===st))for(;r.hasNext()&&u.isIdentifierStart(r.peekCharCode());)h+=r.next();return[h,"TK_STRING"]}if("#"===n){if(0===f.length&&"!"===r.peek()){for(h=n;r.hasNext()&&"\n"!==n;)n=r.next(),h+=n;return[o(h)+"\n","TK_UNKNOWN"]}if(vt="#",r.hasNext()&&r.testChar(s)){do n=r.next(),vt+=n;while(r.hasNext()&&"#"!==n&&"="!==n);return"#"===n||("["===r.peek()&&"]"===r.peek(1)?(vt+="[]",r.next(),r.next()):"{"===r.peek()&&"}"===r.peek(1)&&(vt+="{}",r.next(),r.next())),[vt,"TK_WORD"]}}if("<"===n&&("?"===r.peek()||"%"===r.peek())&&(r.back(),ni=r.match(et),ni))return n=ni[0],n=n.replace(u.allLineBreaks,"\n"),[n,"TK_STRING"];if("<"===n&&r.match(/\!--/g)){for(n="<!--";r.hasNext()&&!r.testChar(u.newline);)n+=r.next();return a=!0,[n,"TK_COMMENT"]}if("-"===n&&a&&r.match(/->/g))return a=!1,["-->","TK_COMMENT"];if("."===n)return[n,"TK_DOT"];if(i(n,v)){for(;r.hasNext()&&i(n+r.peek(),v)&&(n+=r.next(),r.hasNext()););return","===n?[n,"TK_COMMA"]:"="===n?[n,"TK_EQUALS"]:[n,"TK_OPERATOR"]}return[n,"TK_UNKNOWN"]}function b(n){for(var u="",t=0,i=new h(n),r=null;i.hasNext();)if(r=i.match(/([\s]|[^\\]|\\\\)+/g),r&&(u+=r[0]),"\\"===i.peek()){if(i.next(),"x"===i.peek())r=i.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==i.peek()){u+="\\";i.hasNext()&&(u+=i.next());continue}r=i.match(/u([0-9A-Fa-f]{4})/g)}if(!r||(t=parseInt(r[1],16),t>126&&255>=t&&0===r[0].indexOf("x")))return n;if(t>=0&&32>t){u+="\\"+r[0];continue}u+=34===t||39===t||92===t?"\\"+String.fromCharCode(t):String.fromCharCode(t)}return u}var k="\n\r\t ".split(""),s=/[0-9]/,d=/[01]/,g=/[01234567]/,nt=/[0123456789abcdefABCDEF]/,v;this.positionable_operators="!= !== % & && * ** + - / : < << <= == === > >= >> >>> ? ^ | ||".split(" ");v=this.positionable_operators.concat("! %= &= *= **= ++ += , -- -= /= :: <<= = => >>= >>>= ^= |= ~".split(" "));this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var c,l,a,f,r,tt=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),it=/([\s\S]*?)((?:\*\/)|$)/g,rt=/([^\n\r\u2028\u2029]*)/g,ut=/\/\* beautify( \w+[:]\w+)+ \*\//g,y=/ (\w+)[:](\w+)/g,ft=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,et=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;this.tokenize=function(){r=new h(n);a=!1;f=[];for(var t,o,u,i=null,v=[],s=[];!o||"TK_EOF"!==o.type;){for(u=p(),t=new e(u[1],u[0],c,l);"TK_COMMENT"===t.type||"TK_BLOCK_COMMENT"===t.type||"TK_UNKNOWN"===t.type;)"TK_BLOCK_COMMENT"===t.type&&(t.directives=u[2]),s.push(t),u=p(),t=new e(u[1],u[0],c,l);s.length&&(t.comments_before=s,s=[]);"TK_START_BLOCK"===t.type||"TK_START_EXPR"===t.type?(t.parent=o,v.push(i),i=t):("TK_END_BLOCK"===t.type||"TK_END_EXPR"===t.type)&&i&&("]"===t.text&&"["===i.text||")"===t.text&&"("===i.text||"}"===t.text&&"{"===i.text)&&(t.parent=i.parent,t.opened=i,i=v.pop());f.push(t);o=t}return f}}var u={};!function(n){var t="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",i=new RegExp("["+t+"]"),r=new RegExp("["+t+"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]");n.newline=/[\n\r\u2028\u2029]/;n.lineBreak=new RegExp("\r\n|"+n.newline.source);n.allLineBreaks=new RegExp(n.lineBreak.source,"g");n.isIdentifierStart=function(n){return 65>n?36===n||64===n:91>n?!0:97>n?95===n:123>n?!0:n>=170&&i.test(String.fromCharCode(n))};n.isIdentifierChar=function(n){return 48>n?36===n:58>n?!0:65>n?!1:91>n?!0:97>n?95===n:123>n?!0:n>=170&&r.test(String.fromCharCode(n))}}(u);var f={before_newline:"before-newline",after_newline:"after-newline",preserve_newline:"preserve-newline"},s=[f.before_newline,f.preserve_newline],r={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},h=function(n){var i=n,r=i.length,t=0;this.back=function(){t-=1};this.hasNext=function(){return r>t};this.next=function(){var n=null;return this.hasNext()&&(n=i.charAt(t),t+=1),n};this.peek=function(n){var u=null;return n=n||0,n+=t,n>=0&&r>n&&(u=i.charAt(n)),u};this.peekCharCode=function(n){var u=0;return n=n||0,n+=t,n>=0&&r>n&&(u=i.charCodeAt(n)),u};this.test=function(n,r){return r=r||0,n.lastIndex=t+r,n.test(i)};this.testChar=function(n,t){var i=this.peek(t);return null!==i&&n.test(i)};this.match=function(n){n.lastIndex=t;var r=n.exec(i);return r&&r.index===t?t+=r[0].length:r=null,r}},e=function(n,t,i,r,u){this.type=n;this.text=t;this.comments_before=[];this.newlines=i||0;this.wanted_newline=i>0;this.whitespace_before=r||"";this.parent=u||null;this.opened=null;this.directives=null},w=new a(n,t);return w.beautify()}"function"==typeof define&&define.amd?define([],function(){return{js_beautify:n}}):"undefined"!=typeof exports?exports.js_beautify=n:"undefined"!=typeof window?window.js_beautify=n:"undefined"!=typeof global&&(global.js_beautify=n)}(),function(){function n(t,i){function o(){return r=t.charAt(++e),r||""}function s(n){var i="",r=e;return n&&h(),i=t.charAt(e+1)||"",e=r-1,o(),i}function y(n){for(var i=e;o();)if("\\"===r)o();else{if(-1!==n.indexOf(r))break;if("\n"===r)break}return t.substring(i,e+1)}function at(n){var t=e,i=y(n);return e=t-1,o(),i}function h(){for(var n="";b.test(s());)o(),n+=r;return n}function vt(){var n="";for(r&&b.test(r)&&(n=r);b.test(o());)n+=r;return n}function ft(n){var i=e;for(n="/"===s(),o();o();){if(!n&&"*"===r&&"/"===s()){o();break}if(n&&"\n"===r)return t.substring(i,e)}return t.substring(i,e)+r}function g(n){return t.substring(e-n.length,e).toLowerCase()===n}function yt(){for(var n,i=0,r=e+1;r<t.length;r++){if(n=t.charAt(r),"{"===n)return!0;if("("===n)i+=1;else if(")"===n){if(0===i)return!1;i-=1}else if(";"===n||"}"===n)return!1}return!1}function pt(){a++;l+=dt}function wt(){a--;l=l.slice(0,-p)}var w,ut,c,v;i=i||{};t=t||"";t=t.replace(/\r\n|[\r\u2028\u2029]/g,"\n");var p=i.indent_size||4,et=i.indent_char||" ",bt=void 0===i.selector_separator_newline?!0:i.selector_separator_newline,kt=void 0===i.end_with_newline?!1:i.end_with_newline,ot=void 0===i.newline_between_rules?!0:i.newline_between_rules,rt=void 0===i.space_around_combinator?!1:i.space_around_combinator;rt=rt||(void 0===i.space_around_selector_separator?!1:i.space_around_selector_separator);w=i.eol?i.eol:"\n";"string"==typeof p&&(p=parseInt(p,10));i.indent_with_tabs&&(et="\t",p=1);w=w.replace(/\\r/,"\r").replace(/\\n/,"\n");var r,b=/^\s+$/,e=-1,nt=0,l=t.match(/^[\t ]*/)[0],dt=new Array(p+1).join(et),a=0,k=0,u={};u["{"]=function(n){u.singleSpace();f.push(n);u.newLine()};u["}"]=function(n){u.newLine();f.push(n);u.newLine()};u._lastCharWhitespace=function(){return b.test(f[f.length-1])};u.newLine=function(n){f.length&&(n||"\n"===f[f.length-1]||u.trim(),f.push("\n"),l&&f.push(l))};u.singleSpace=function(){f.length&&!u._lastCharWhitespace()&&f.push(" ")};u.preserveSingleSpace=function(){gt&&u.singleSpace()};u.trim=function(){for(;u._lastCharWhitespace();)f.pop()};for(var f=[],tt=!1,d=!1,it=!1,st="",ht="";;){var ct=vt(),gt=""!==ct,lt=-1!==ct.indexOf("\n");if(ht=st,st=r,!r)break;"/"===r&&"*"===s()?(ut=0===a,(lt||ut)&&u.newLine(),f.push(ft()),u.newLine(),ut&&u.newLine(!0)):"/"===r&&"/"===s()?(lt||"{"===ht||u.trim(),u.singleSpace(),f.push(ft()),u.newLine()):"@"===r?(u.preserveSingleSpace(),"{"===s())?f.push(y("}")):(f.push(r),c=at(": ,;{}()[]/='\""),c.match(/[ :]$/)&&(o(),c=y(": ").replace(/\s$/,""),f.push(c),u.singleSpace()),c=c.replace(/\s$/,""),c in n.NESTED_AT_RULE&&(k+=1,c in n.CONDITIONAL_GROUP_RULE&&(it=!0))):"#"===r&&"{"===s()?(u.preserveSingleSpace(),f.push(y("}"))):"{"===r?"}"===s(!0)?(h(),o(),u.singleSpace(),f.push("{}"),u.newLine(),ot&&0===a&&u.newLine(!0)):(pt(),u["{"](r),it?(it=!1,tt=a>k):tt=a>=k):"}"===r?(wt(),u["}"](r),tt=!1,d=!1,k&&k--,ot&&0===a&&u.newLine(!0)):":"===r?(h(),!tt&&!it||g("&")||yt()||g("(")?(g(" ")&&" "!==f[f.length-1]&&f.push(" "),":"===s()?(o(),f.push("::")):f.push(":")):(d=!0,f.push(":"),u.singleSpace())):'"'===r||"'"===r?(u.preserveSingleSpace(),f.push(y(r))):";"===r?(d=!1,f.push(r),u.newLine()):"("===r?g("url")?(f.push(r),h(),o()&&(")"!==r&&'"'!==r&&"'"!==r?f.push(y(")")):e--)):(nt++,u.preserveSingleSpace(),f.push(r),h()):")"===r?(f.push(r),nt--):","===r?(f.push(r),h(),bt&&!d&&1>nt?u.newLine():u.singleSpace()):(">"===r||"+"===r||"~"===r)&&!d&&1>nt?rt?(u.singleSpace(),f.push(r),u.singleSpace()):(f.push(r),h(),r&&b.test(r)&&(r="")):"]"===r?f.push(r):"["===r?(u.preserveSingleSpace(),f.push(r)):"="===r?(h(),r="=",f.push(r)):(u.preserveSingleSpace(),f.push(r))}return v="",l&&(v+=l),v+=f.join("").replace(/[\r\n\t ]+$/,""),kt&&(v+="\n"),"\n"!==w&&(v=v.replace(/[\n]/g,w)),v}n.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0};n.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0};"function"==typeof define&&define.amd?define([],function(){return{css_beautify:n}}):"undefined"!=typeof exports?exports.css_beautify=n:"undefined"!=typeof window?window.css_beautify=n:"undefined"!=typeof global&&(global.css_beautify=n)}(),function(){function i(n){return n.replace(/^\s+/g,"")}function t(n){return n.replace(/\s+$/g,"")}function n(n,r,u,f){function pt(){function n(n){var t="",i=function(i){var r=t+i.toLowerCase();t=r.length<=n.length?r:r.substr(r.length-n.length,n.length)},r=function(){return-1===t.indexOf(n)};return{add:i,doesNotMatch:r}}return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=ut,this.indent_body_inner_html=ft,this.indent_head_inner_html=et,this.Utils={whitespace:"\n\r\t ".split(""),single_token:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","?php","basefont","isindex"],extra_liners:at,in_array:function(n,t){for(var i=0;i<t.length;i++)if(n===t[i])return!0;return!1}},this.is_whitespace=function(n){for(var t=0;t<n.length;t++)if(!this.Utils.in_array(n.charAt(t),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var n="";if(n=this.input.charAt(this.pos),this.Utils.in_array(n,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(n,this.Utils.whitespace);)k&&"\n"===n&&this.newlines<=ht&&(this.newlines+=1),this.pos++,n=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(n){return this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,n),this.print_indentation(n),!0):(this.line_char_count++,n.push(" "),!1)},this.get_content=function(){for(var t,i="",n=[];"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return n.length?n.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(n);else{if(o){if(t=this.input.substr(this.pos,3),"{{#"===t||"{{/"===t)break;if("{{!"===t)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}i=this.input.charAt(this.pos);this.pos++;this.line_char_count++;n.push(i)}}return n.length?n.join(""):""},this.get_contents_to=function(n){var i,r,u,t;return this.pos===this.input.length?["","TK_EOF"]:(i="",r=new RegExp("<\/"+n+"\\s*>","igm"),r.lastIndex=this.pos,u=r.exec(this.input),t=u?u.index:this.input.length,this.pos<t&&(i=this.input.substring(this.pos,t),this.pos=t),i)},this.record_tag=function(n){this.tags[n+"count"]?(this.tags[n+"count"]++,this.tags[n+this.tags[n+"count"]]=this.indent_level):(this.tags[n+"count"]=1,this.tags[n+this.tags[n+"count"]]=this.indent_level);this.tags[n+this.tags[n+"count"]+"parent"]=this.tags.parent;this.tags.parent=n+this.tags[n+"count"]},this.retrieve_tag=function(n){if(this.tags[n+"count"]){for(var t=this.tags.parent;t&&n+this.tags[n+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[n+this.tags[n+"count"]],this.tags.parent=this.tags[t+"parent"]);delete this.tags[n+this.tags[n+"count"]+"parent"];delete this.tags[n+this.tags[n+"count"]];1===this.tags[n+"count"]?delete this.tags[n+"count"]:this.tags[n+"count"]--}},this.indent_to_tag=function(n){if(this.tags[n+"count"]){for(var t=this.tags.parent;t&&n+this.tags[n+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[n+this.tags[n+"count"]])}},this.get_tag=function(n){var s,tt,f,i="",t=[],a="",e=!1,v=!0,y=this.pos,b=this.line_char_count,k,c,l,h,g,nt,r,u;n=void 0!==n?n:!1;do{if(this.pos>=this.input.length)return n&&(this.pos=y,this.line_char_count=b),t.length?t.join(""):["","TK_EOF"];if(i=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(i,this.Utils.whitespace))e=!0;else{if("'"!==i&&'"'!==i||(i+=this.get_unformatted(i),e=!0),"="===i&&(e=!1),t.length&&"="!==t[t.length-1]&&">"!==i&&e){if(k=this.space_or_wrap(t),c=k&&"/"!==i&&"force"!==d,e=!1,v||"force"!==d||"/"===i||(this.print_newline(!1,t),this.print_indentation(t),c=!0),c)for(l=0;ct>l;l++)t.push(p);for(h=0;h<t.length;h++)if(" "===t[h]){v=!1;break}}if(o&&"<"===f&&i+this.input.charAt(this.pos)==="{{"&&(i+=this.get_unformatted("}}"),t.length&&" "!==t[t.length-1]&&"<"!==t[t.length-1]&&(i=" "+i),e=!0),"<"!==i||f||(s=this.pos-1,f="<"),o&&!f&&t.length>=2&&"{"===t[t.length-1]&&"{"===t[t.length-2]&&(s="#"===i||"/"===i||"!"===i?this.pos-3:this.pos-2,f="{"),this.line_char_count++,t.push(i),t[1]&&("!"===t[1]||"?"===t[1]||"%"===t[1])){t=[this.get_comment(s)];break}if(o&&t[1]&&"{"===t[1]&&t[2]&&"!"===t[2]){t=[this.get_comment(s)];break}if(o&&"{"===f&&t.length>2&&"}"===t[t.length-2]&&"}"===t[t.length-1])break}}while(">"!==i);return r=t.join(""),g=-1!==r.indexOf(" ")?r.indexOf(" "):"{"===r.charAt(0)?r.indexOf("}"):r.indexOf(">"),nt="<"!==r.charAt(0)&&o?"#"===r.charAt(2)?3:2:1,u=r.substring(nt,g).toLowerCase(),"/"===r.charAt(r.length-2)||this.Utils.in_array(u,this.Utils.single_token)?n||(this.tag_type="SINGLE"):o&&"{"===r.charAt(0)&&"else"===u?n||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(u,w)?(a=this.get_unformatted("<\/"+u+">",r),t.push(a),tt=this.pos-1,this.tag_type="SINGLE"):"script"===u&&(-1===r.search("type")||r.search("type")>-1&&r.search(/\b(text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect)/)>-1)?n||(this.record_tag(u),this.tag_type="SCRIPT"):"style"===u&&(-1===r.search("type")||r.search("type")>-1&&r.search("text/css")>-1)?n||(this.record_tag(u),this.tag_type="STYLE"):"!"===u.charAt(0)?n||(this.tag_type="SINGLE",this.traverse_whitespace()):n||("/"===u.charAt(0)?(this.retrieve_tag(u.substring(1)),this.tag_type="END"):(this.record_tag(u),"html"!==u.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(t),this.Utils.in_array(u,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),n&&(this.pos=y,this.line_char_count=b),t.join("")},this.get_comment=function(n){var t="",i=">",r=!1,u;for(this.pos=n,u=this.input.charAt(this.pos),this.pos++;this.pos<=this.input.length&&(t+=u,t.charAt(t.length-1)!==i.charAt(i.length-1)||-1===t.indexOf(i));)!r&&t.length<10&&(0===t.indexOf("<![if")?(i="<![endif]>",r=!0):0===t.indexOf("<![cdata[")?(i="]\]>",r=!0):0===t.indexOf("<![")?(i="]>",r=!0):0===t.indexOf("<!--")?(i="-->",r=!0):0===t.indexOf("{{!")?(i="}}",r=!0):0===t.indexOf("<?")?(i="?>",r=!0):0===t.indexOf("<%")&&(i="%>",r=!0)),u=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(t,i){if(i&&-1!==i.toLowerCase().indexOf(t))return"";var u="",r="",f=!0,e=n(t);do{if(this.pos>=this.input.length)return r;if(u=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(u,this.Utils.whitespace)){if(!f){this.line_char_count--;continue}if("\n"===u||"\r"===u){r+="\n";this.line_char_count=0;continue}}r+=u;e.add(u);this.line_char_count++;f=!0;o&&"{"===u&&r.length&&"{"===r.charAt(r.length-2)&&(r+=this.get_unformatted("}}"))}while(e.doesNotMatch());return r},this.get_token=function(){var n,t,i;return"TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token?(t=this.last_token.substr(7),n=this.get_contents_to(t),"string"!=typeof n?n:[n,"TK_"+t]):"CONTENT"===this.current_mode?(n=this.get_content(),"string"!=typeof n?n:[n,"TK_CONTENT"]):"TAG"===this.current_mode?(n=this.get_tag(),"string"!=typeof n)?n:(i="TK_TAG_"+this.tag_type,[n,i]):void 0},this.get_full_indent=function(n){return n=this.indent_level+n||0,1>n?"":Array(n+1).join(this.indent_string)},this.is_unformatted=function(n,t){if(!this.Utils.in_array(n,t))return!1;if("a"!==n.toLowerCase()||!this.Utils.in_array("a",t))return!0;var r=this.get_tag(!0),i=(r||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(i&&!this.Utils.in_array(i,t))},this.printer=function(n,r,u,f,e){this.input=n||"";this.input=this.input.replace(/\r\n|[\r\u2028\u2029]/g,"\n");this.output=[];this.indent_character=r;this.indent_string="";this.indent_size=u;this.brace_style=e;this.indent_level=0;this.wrap_line_length=f;this.line_char_count=0;for(var o=0;o<this.indent_size;o++)this.indent_string+=this.indent_character;this.print_newline=function(n,i){this.line_char_count=0;i&&i.length&&(n||"\n"!==i[i.length-1])&&("\n"!==i[i.length-1]&&(i[i.length-1]=t(i[i.length-1])),i.push("\n"))};this.print_indentation=function(n){for(var t=0;t<this.indent_level;t++)n.push(this.indent_string),this.line_char_count+=this.indent_string.length};this.print_token=function(n){this.is_whitespace(n)&&!this.output.length||((n||""!==n)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),n=i(n)),this.print_token_raw(n))};this.print_token_raw=function(n){this.newlines>0&&(n=t(n));n&&""!==n&&(n.length>1&&"\n"===n.charAt(n.length-1)?(this.output.push(n.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(n));for(var i=0;i<this.newlines;i++)this.print_newline(i>0,this.output);this.newlines=0};this.indent=function(){this.indent_level++};this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}var e,ut,ft,et,y,p,ot,st,w,k,ht,o,d,ct,lt,at,h,g,vt,c,nt,tt,l,b,s,a,it,rt,yt,v;for(r=r||{},void 0!==r.wrap_line_length&&0!==parseInt(r.wrap_line_length,10)||void 0===r.max_char||0===parseInt(r.max_char,10)||(r.wrap_line_length=r.max_char),ut=void 0===r.indent_inner_html?!1:r.indent_inner_html,ft=void 0===r.indent_body_inner_html?!0:r.indent_body_inner_html,et=void 0===r.indent_head_inner_html?!0:r.indent_head_inner_html,y=void 0===r.indent_size?4:parseInt(r.indent_size,10),p=void 0===r.indent_char?" ":r.indent_char,st=void 0===r.brace_style?"collapse":r.brace_style,ot=0===parseInt(r.wrap_line_length,10)?32786:parseInt(r.wrap_line_length||250,10),w=r.unformatted||["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","address","big","dt","ins","small","strike","tt","pre"],k=void 0===r.preserve_newlines?!0:r.preserve_newlines,ht=k?isNaN(parseInt(r.max_preserve_newlines,10))?32786:parseInt(r.max_preserve_newlines,10):0,o=void 0===r.indent_handlebars?!1:r.indent_handlebars,d=void 0===r.wrap_attributes?"auto":r.wrap_attributes,ct=isNaN(parseInt(r.wrap_attributes_indent_size,10))?y:parseInt(r.wrap_attributes_indent_size,10),lt=void 0===r.end_with_newline?!1:r.end_with_newline,at="object"==typeof r.extra_liners&&r.extra_liners?r.extra_liners.concat():"string"==typeof r.extra_liners?r.extra_liners.split(","):"head,body,/html".split(","),h=r.eol?r.eol:"\n",r.indent_with_tabs&&(p="\t",y=1),h=h.replace(/\\r/,"\r").replace(/\\n/,"\n"),e=new pt,e.printer(n,p,y,ot,st);;){if(g=e.get_token(),e.token_text=g[0],e.token_type=g[1],"TK_EOF"===e.token_type)break;switch(e.token_type){case"TK_TAG_START":e.print_newline(!1,e.output);e.print_token(e.token_text);e.indent_content&&(!e.indent_body_inner_html&&e.token_text.match(/<body(?:.*)>/)||!e.indent_head_inner_html&&e.token_text.match(/<head(?:.*)>/)||e.indent(),e.indent_content=!1);e.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":e.print_newline(!1,e.output);e.print_token(e.token_text);e.current_mode="CONTENT";break;case"TK_TAG_END":"TK_CONTENT"===e.last_token&&""===e.last_text&&(vt=(e.token_text.match(/\w+/)||[])[0],c=null,e.output.length&&(c=e.output[e.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),null!==c&&(c[1]===vt||e.Utils.in_array(c[1],w))||e.print_newline(!1,e.output));e.print_token(e.token_text);e.current_mode="CONTENT";break;case"TK_TAG_SINGLE":nt=e.token_text.match(/^\s*<([a-z-]+)/i);nt&&e.Utils.in_array(nt[1],w)||e.print_newline(!1,e.output);e.print_token(e.token_text);e.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":for(tt=!1,l=e.output.length-1;l>=0&&"\n"!==e.output[l];l--)if(e.output[l].match(/{{#if/)){tt=!0;break}tt||e.print_newline(!1,e.output);e.print_token(e.token_text);e.indent_content&&(e.indent(),e.indent_content=!1);e.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":e.print_token(e.token_text);e.current_mode="TAG";break;case"TK_CONTENT":e.print_token(e.token_text);e.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==e.token_text){if(e.print_newline(!1,e.output),s=e.token_text,a=1,"TK_SCRIPT"===e.token_type?b="function"==typeof u&&u:"TK_STYLE"===e.token_type&&(b="function"==typeof f&&f),"keep"===r.indent_scripts?a=0:"separate"===r.indent_scripts&&(a=-e.indent_level),it=e.get_full_indent(a),b)rt=function(){this.eol="\n"},rt.prototype=r,yt=new rt,s=b(s.replace(/^\s*/,it),yt);else{var wt=s.match(/^\s*/)[0],bt=wt.match(/[^\n\r]*$/)[0].split(e.indent_string).length-1,kt=e.get_full_indent(a-bt);s=s.replace(/^\s*/,it).replace(/\r\n|\r|\n/g,"\n"+kt).replace(/\s+$/,"")}s&&(e.print_token_raw(s),e.print_newline(!0,e.output))}e.current_mode="TAG";break;default:""!==e.token_text&&e.print_token(e.token_text)}e.last_token=e.token_type;e.last_text=e.token_text}return v=e.output.join("").replace(/[\r\n\t ]+$/,""),lt&&(v+="\n"),"\n"!==h&&(v=v.replace(/[\n]/g,h)),v}if("function"==typeof define&&define.amd)define(["require","./beautify","./beautify-css"],function(t){var i=t("./beautify"),r=t("./beautify-css");return{html_beautify:function(t,u){return n(t,u,i.js_beautify,r.css_beautify)}}});else if("undefined"!=typeof exports){var r=require("./beautify.js"),u=require("./beautify-css.js");exports.html_beautify=function(t,i){return n(t,i,r.js_beautify,u.css_beautify)}}else"undefined"!=typeof window?window.html_beautify=function(t,i){return n(t,i,window.js_beautify,window.css_beautify)}:"undefined"!=typeof global&&(global.html_beautify=function(t,i){return n(t,i,global.js_beautify,global.css_beautify)})}(),function(){"use strict";var n={enter:13,esc:27,left:37,right:39};angular.module("thatisuday.ng-image-gallery",["ngAnimate"]).provider("ngImageGalleryOpts",function(){var n={thumbnails:!0,inline:!1,bubbles:!0,imgBubbles:!1,bgClose:!1,imgAnim:"fadeup"};return{setOpts:function(t){angular.extend(n,t)},$get:function(){return n}}}).directive("ngImageGallery",["$rootScope","$timeout","$q","ngImageGalleryOpts",function(t,i,r,u){return{replace:!0,transclude:!1,restrict:"AE",scope:{images:"=",methods:"=?",conf:"=?",thumbnails:"=?",inline:"=?",bubbles:"=?",imgBubbles:"=?",bgClose:"=?",imgAnim:"@?",onOpen:"&?",onClose:"&?"},template:'<div class="ng-image-gallery img-move-dir-{{imgMoveDirection}}" ng-class="{inline:inline}"><div ng-if="thumbnails && !inline" class="ng-image-gallery-thumbnails"><div class="thumb" ng-repeat="image in images" ng-click="methods.open($index);" ng-style="{ \'background-image\': \'url(\' + (image.thumbUrl || image.url) + \')\' }"  ng-attr-title="{{image.title || undefined}}"><\/div><\/div><div class="ng-image-gallery-modal" ng-show="opened" ng-cloak><div class="ng-image-gallery-backdrop" ng-if="!inline"><\/div><div class="ng-image-gallery-content" ng-show="!imgLoading" ng-click="backgroundClose($event);"><div class="destroy-icons-container"><a class="ext-url" ng-repeat="image in images" ng-if="activeImg == image && image.extUrl" href="{{image.extUrl}}"><\/a><div class="close" ng-click="methods.close();" ng-if="!inline"><\/div><\/div><div class="prev" ng-click="methods.prev();" ng-class="{\'bubbles-on\':bubbles}" ng-hide="images.length == 1"><\/div><div class="next" ng-click="methods.next();" ng-class="{\'bubbles-on\':bubbles}" ng-hide="images.length == 1"><\/div><div class="galleria"><div class="galleria-images img-anim-{{imgAnim}} img-move-dir-{{imgMoveDirection}}"><img class="galleria-image" ng-repeat="image in images" ng-if="activeImg == image" ng-src="{{image.url}}" ondragstart="return false;" oncontextmenu="return false;" ng-attr-title="{{image.title || undefined}}" ng-attr-alt="{{image.alt || undefined}}"/><\/div><div class="galleria-bubbles" ng-if="bubbles && !imgBubbles"  ng-hide="images.length == 1"><span class="galleria-bubble" ng-click="setActiveImg(image);" ng-repeat="image in images" ng-class="{active : (activeImg == image)}"><\/span><\/div><div class="galleria-bubbles" ng-if="bubbles && imgBubbles" ng-hide="images.length == 1"><span class="galleria-bubble img-bubble" ng-click="setActiveImg(image);" ng-repeat="image in images" ng-class="{active : (activeImg == image)}" ng-style="{ \'background-image\': \'url(\' + (image.bubbleUrl || image.thumbUrl || image.url) +\')\' }"><\/span><\/div><\/div><\/div><div class="ng-image-gallery-loader" ng-show="imgLoading"><div class="spinner"><div class="rect1"><\/div><div class="rect2"><\/div><div class="rect3"><\/div><div class="rect4"><\/div><div class="rect5"><\/div><\/div><\/div><\/div><\/div>',link:function(f,e){var s,h,o,c;f.showLoader=function(){f.imgLoading=!0};f.hideLoader=function(){f.imgLoading=!1};f.loadImg=function(n){var t,i;return n?(t=r.defer(),n.hasOwnProperty("cached")||f.showLoader(),i=new Image,i.src=n.url,i.onload=function(){return n.hasOwnProperty("cached")||f.hideLoader(),n.hasOwnProperty("cached")||(n.cached=!0),t.resolve(n)},t.promise):r.reject()};f.setActiveImg=function(n){f.imgMoveDirection=f.images.indexOf(f.activeImg)-f.images.indexOf(n)==f.images.length-1||f.images.indexOf(f.activeImg)-f.images.indexOf(n)<=0&&f.images.indexOf(f.activeImg)-f.images.indexOf(n)!=-(f.images.length-1)?"forward":"backward";f.loadImg(n).then(function(n){f.activeImg=n})};f.images=void 0!=f.images?f.images:[];f.methods=void 0!=f.methods?f.methods:{};f.conf=void 0!=f.conf?f.conf:{};f.$watchCollection("conf",function(n){f.thumbnails=void 0!=n.thumbnails?n.thumbnails:void 0!=f.thumbnails?f.thumbnails:u.thumbnails;f.inline=void 0!=n.inline?n.inline:void 0!=f.inline?f.inline:u.inline;f.bubbles=void 0!=n.bubbles?n.bubbles:void 0!=f.bubbles?f.bubbles:u.bubbles;f.imgBubbles=void 0!=n.imgBubbles?n.imgBubbles:void 0!=f.imgBubbles?f.imgBubbles:u.imgBubbles;f.bgClose=void 0!=n.bgClose?n.bgClose:void 0!=f.bgClose?f.bgClose:u.bgClose;f.imgAnim=void 0!=n.imgAnim?n.imgAnim:void 0!=f.imgAnim?f.imgAnim:u.imgAnim});f.onOpen=void 0!=f.onOpen?f.onOpen:angular.noop;f.onClose=void 0!=f.onClose?f.onClose:angular.noop;s=!0;f.$watch("images",function(){s?s=!1:f.images.length&&f.setActiveImg(f.images[f.activeImageIndex||0])});h=!0;(f.$watch("activeImageIndex",function(n){h?h=!1:f.images.length&&f.setActiveImg(f.images[n])}),f.$watch("inline",function(){i(function(){f.inline&&f.methods.open()})}),f.methods.open=function(n){f.activeImageIndex=n?n:0;f.opened=!0;f.inline||angular.element(document.body).addClass("body-overflow-hidden");i(function(){f.onOpen()},300)},f.methods.close=function(){f.opened=!1;angular.element(document.body).removeClass("body-overflow-hidden");i(function(){f.onClose();f.activeImageIndex=0},300)},f.methods.next=function(){f.activeImageIndex=f.activeImageIndex==f.images.length-1?0:f.activeImageIndex+1},f.methods.prev=function(){0==f.activeImageIndex?f.activeImageIndex=f.images.length-1:f.activeImageIndex--},f.backgroundClose=function(n){if(f.bgClose&&!f.inline)for(var i=["galleria-image","destroy-icons-container","ext-url","close","next","prev","galleria-bubble"],t=0;t<n.target.classList.length&&-1==i.indexOf(n.target.classList[t]);t++)f.methods.close()},angular.element(document).bind("keyup",function(t){f.inline||(t.which==n.right||t.which==n.enter?i(function(){f.methods.next()}):t.which==n.left?i(function(){f.methods.prev()}):t.which==n.esc&&i(function(){f.methods.close()}))}),window.Hammer)&&(o=new Hammer(e[0]),o.on("swiperight",function(){i(function(){f.methods.prev()})}),o.on("swipeleft",function(){i(function(){f.methods.next()})}),o.on("doubletap",function(){f.inline||i(function(){f.methods.close()})}));c=function(){angular.element(document.body).removeClass("body-overflow-hidden")};t.$on("$stateChangeSuccess",c);t.$on("$routeChangeSuccess ",c)}}}])}();!function(n,t,i,r){"use strict";function hi(n,t,i){return setTimeout(ci(n,i),t)}function rt(n,t,i){return Array.isArray(n)?(v(n,i[t],i),!0):!1}function v(n,t,i){var u;if(n)if(n.forEach)n.forEach(t,i);else if(n.length!==r)for(u=0;u<n.length;)t.call(i,n[u],u,n),u++;else for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n)}function fr(t,i,r){var u="DEPRECATED METHOD: "+i+"\n"+r+" AT \n";return function(){var i=new Error("get-stack-trace"),f=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=n.console&&(n.console.warn||n.console.log);return r&&r.call(n.console,u,f),t.apply(this,arguments)}}function o(n,t,i){var r,u=t.prototype;r=n.prototype=Object.create(u);r.constructor=n;r._super=u;i&&w(r,i)}function ci(n,t){return function(){return n.apply(t,arguments)}}function li(n,t){return typeof n==cf?n.apply(t?t[0]||r:r,t):n}function er(n,t){return n===r?t:n}function pt(n,t,i){v(bt(t),function(t){n.addEventListener(t,i,!1)})}function wt(n,t,i){v(bt(t),function(t){n.removeEventListener(t,i,!1)})}function or(n,t){for(;n;){if(n==t)return!0;n=n.parentNode}return!1}function d(n,t){return n.indexOf(t)>-1}function bt(n){return n.trim().split(/\s+/g)}function ut(n,t,i){if(n.indexOf&&!i)return n.indexOf(t);for(var r=0;r<n.length;){if(i&&n[r][i]==t||!i&&n[r]===t)return r;r++}return-1}function kt(n){return Array.prototype.slice.call(n,0)}function sr(n,t,i){for(var f,u=[],e=[],r=0;r<n.length;)f=t?n[r][t]:n[r],ut(e,f)<0&&u.push(n[r]),e[r]=f,r++;return i&&(u=t?u.sort(function(n,i){return n[t]>i[t]}):u.sort()),u}function dt(n,t){for(var i,u,e=t[0].toUpperCase()+t.slice(1),f=0;f<dr.length;){if(i=dr[f],u=i?i+e:t,u in n)return u;f++}return r}function yu(){return af++}function hr(t){var i=t.ownerDocument||t;return i.defaultView||i.parentWindow||n}function s(n,t){var i=this;this.manager=n;this.callback=t;this.element=n.element;this.target=n.options.inputTarget;this.domHandler=function(t){li(n.options.enable,[n])&&i.handler(t)};this.init()}function pu(n){var i,t=n.options.inputClass;return new(i=t?t:vf?vi:yf?ti:nu?yi:ni)(n,wu)}function wu(n,t,i){var r=i.pointers.length,o=i.changedPointers.length,s=t&f&&r-o==0,h=t&(u|e)&&r-o==0;i.isFirst=!!s;i.isFinal=!!h;s&&(n.session={});i.eventType=t;bu(n,i);n.emit("hammer.input",i);n.recognize(i);n.session.prevInput=i}function bu(n,t){var i=n.session,f=t.pointers,o=f.length,r,e;i.firstInput||(i.firstInput=cr(t));o>1&&!i.firstMultiple?i.firstMultiple=cr(t):1===o&&(i.firstMultiple=!1);var s=i.firstInput,u=i.firstMultiple,h=u?u.center:s.center,c=t.center=lr(f);t.timeStamp=nr();t.deltaTime=t.timeStamp-s.timeStamp;t.angle=ai(h,c);t.distance=gt(h,c);ku(i,t);t.offsetDirection=vr(t.deltaX,t.deltaY);r=ar(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=r.x;t.overallVelocityY=r.y;t.overallVelocity=g(r.x)>g(r.y)?r.x:r.y;t.scale=u?nf(u.pointers,f):1;t.rotation=u?gu(u.pointers,f):0;t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length;du(i,t);e=n.element;or(t.srcEvent.target,e)&&(e=t.srcEvent.target);t.target=e}function ku(n,t){var i=t.center,r=n.offsetDelta||{},e=n.prevDelta||{},o=n.prevInput||{};t.eventType!==f&&o.eventType!==u||(e=n.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=n.offsetDelta={x:i.x,y:i.y});t.deltaX=e.x+(i.x-r.x);t.deltaY=e.y+(i.y-r.y)}function du(n,t){var f,o,s,h,i=n.lastInterval||t,c=t.timeStamp-i.timeStamp;if(t.eventType!=e&&(c>pf||i.velocity===r)){var l=t.deltaX-i.deltaX,a=t.deltaY-i.deltaY,u=ar(c,l,a);o=u.x;s=u.y;f=g(u.x)>g(u.y)?u.x:u.y;h=vr(l,a);n.lastInterval=t}else f=i.velocity,o=i.velocityX,s=i.velocityY,h=i.direction;t.velocity=f;t.velocityX=o;t.velocityY=s;t.direction=h}function cr(n){for(var i=[],t=0;t<n.pointers.length;)i[t]={clientX:ft(n.pointers[t].clientX),clientY:ft(n.pointers[t].clientY)},t++;return{timeStamp:nr(),pointers:i,center:lr(i),deltaX:n.deltaX,deltaY:n.deltaY}}function lr(n){var t=n.length;if(1===t)return{x:ft(n[0].clientX),y:ft(n[0].clientY)};for(var r=0,u=0,i=0;t>i;)r+=n[i].clientX,u+=n[i].clientY,i++;return{x:ft(r/t),y:ft(u/t)}}function ar(n,t,i){return{x:t/n||0,y:i/n||0}}function vr(n,t){return n===t?fi:g(n)>=g(t)?0>n?st:ht:0>t?ct:lt}function gt(n,t,i){i||(i=iu);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return Math.sqrt(r*r+u*u)}function ai(n,t,i){i||(i=iu);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return 180*Math.atan2(u,r)/Math.PI}function gu(n,t){return ai(t[1],t[0],ei)+ai(n[1],n[0],ei)}function nf(n,t){return gt(t[0],t[1],ei)/gt(n[0],n[1],ei)}function ni(){this.evEl=bf;this.evWin=kf;this.pressed=!1;s.apply(this,arguments)}function vi(){this.evEl=ru;this.evWin=uu;s.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function yr(){this.evTarget=te;this.evWin=ie;this.started=!1;s.apply(this,arguments)}function tf(n,t){var i=kt(n.touches),r=kt(n.changedTouches);return t&(u|e)&&(i=sr(i.concat(r),"identifier",!0)),[i,r]}function ti(){this.evTarget=eu;this.targetIds={};s.apply(this,arguments)}function rf(n,t){var r=kt(n.touches),o=this.targetIds;if(t&(f|nt)&&1===r.length)return o[r[0].identifier]=!0,[r,r];var i,s,h=kt(n.changedTouches),c=[],l=this.target;if(s=r.filter(function(n){return or(n.target,l)}),t===f)for(i=0;i<s.length;)o[s[i].identifier]=!0,i++;for(i=0;i<h.length;)o[h[i].identifier]&&c.push(h[i]),t&(u|e)&&delete o[h[i].identifier],i++;if(c.length)return[sr(s.concat(c),"identifier",!0),c]}function yi(){s.apply(this,arguments);var n=ci(this.handler,this);this.touch=new ti(this.manager,n);this.mouse=new ni(this.manager,n);this.primaryTouch=null;this.lastTouches=[]}function uf(n,t){n&f?(this.primaryTouch=t.changedPointers[0].identifier,pr.call(this,t)):n&(u|e)&&pr.call(this,t)}function pr(n){var t=n.changedPointers[0],i,r,u;t.identifier===this.primaryTouch&&(i={x:t.clientX,y:t.clientY},this.lastTouches.push(i),r=this.lastTouches,u=function(){var n=r.indexOf(i);n>-1&&r.splice(n,1)},setTimeout(u,ou))}function ff(n){for(var r=n.srcEvent.clientX,u=n.srcEvent.clientY,t=0;t<this.lastTouches.length;t++){var i=this.lastTouches[t],f=Math.abs(r-i.x),e=Math.abs(u-i.y);if(ir>=f&&ir>=e)return!0}return!1}function pi(n,t){this.manager=n;this.set(t)}function ef(n){if(d(n,it))return it;var t=d(n,at),i=d(n,vt);return t&&i?it:t||i?t?at:vt:d(n,rr)?rr:lu}function of(){if(!hu)return!1;var t={},i=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){t[r]=i?n.CSS.supports("touch-action",r):!0}),t}function y(n){this.options=w({},this.defaults,n||{});this.id=yu();this.manager=null;this.options.enable=er(this.options.enable,!0);this.state=si;this.simultaneous={};this.requireFail=[]}function wr(n){return n&yt?"cancel":n&k?"end":n&et?"move":n&h?"start":""}function br(n){return n==lt?"down":n==ct?"up":n==st?"left":n==ht?"right":""}function ii(n,t){var i=t.manager;return i?i.get(n):n}function c(){y.apply(this,arguments)}function ri(){c.apply(this,arguments);this.pX=null;this.pY=null}function wi(){c.apply(this,arguments)}function bi(){y.apply(this,arguments);this._timer=null;this._input=null}function ki(){c.apply(this,arguments)}function di(){c.apply(this,arguments)}function ui(){y.apply(this,arguments);this.pTime=!1;this.pCenter=!1;this._timer=null;this._input=null;this.count=0}function p(n,t){return t=t||{},t.recognizers=er(t.recognizers,p.defaults.preset),new gi(n,t)}function gi(n,t){this.options=w({},p.defaults,t||{});this.options.inputTarget=this.options.inputTarget||n;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps={};this.element=n;this.input=pu(this);this.touchAction=new pi(this,this.options.touchAction);kr(this,!0);v(this.options.recognizers,function(n){var t=this.add(new n[0](n[1]));n[2]&&t.recognizeWith(n[2]);n[3]&&t.requireFailure(n[3])},this)}function kr(n,t){var r=n.element,i;r.style&&(v(n.options.cssProps,function(u,f){i=dt(r.style,f);t?(n.oldCssProps[i]=r.style[i],r.style[i]=u):r.style[i]=n.oldCssProps[i]||""}),t||(n.oldCssProps={}))}function sf(n,i){var r=t.createEvent("Event");r.initEvent(n,!0,!0);r.gesture=i;i.target.dispatchEvent(r)}var w,dr=["","webkit","Moz","MS","ms","o"],hf=t.createElement("div"),cf="function",ft=Math.round,g=Math.abs,nr=Date.now,fu,eu,ou,ir,au,ur,vu;w="function"!=typeof Object.assign?function(n){var f,i,t,u;if(n===r||null===n)throw new TypeError("Cannot convert undefined or null to object");for(f=Object(n),i=1;i<arguments.length;i++)if(t=arguments[i],t!==r&&null!==t)for(u in t)t.hasOwnProperty(u)&&(f[u]=t[u]);return f}:Object.assign;var gr=fr(function(n,t,i){for(var f=Object.keys(t),u=0;u<f.length;)(!i||i&&n[f[u]]===r)&&(n[f[u]]=t[f[u]]),u++;return n},"extend","Use `assign`."),lf=fr(function(n,t){return gr(n,t,!0)},"merge","Use `assign`."),af=1,nu="ontouchstart"in n,vf=dt(n,"PointerEvent")!==r,yf=nu&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ot="touch",tr="mouse",pf=25,f=1,nt=2,u=4,e=8,fi=1,st=2,ht=4,ct=8,lt=16,l=st|ht,tt=ct|lt,tu=l|tt,iu=["x","y"],ei=["clientX","clientY"];s.prototype={handler:function(){},init:function(){this.evEl&&pt(this.element,this.evEl,this.domHandler);this.evTarget&&pt(this.target,this.evTarget,this.domHandler);this.evWin&&pt(hr(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&wt(this.element,this.evEl,this.domHandler);this.evTarget&&wt(this.target,this.evTarget,this.domHandler);this.evWin&&wt(hr(this.element),this.evWin,this.domHandler)}};var wf={mousedown:f,mousemove:nt,mouseup:u},bf="mousedown",kf="mousemove mouseup";o(ni,s,{handler:function(n){var t=wf[n.type];t&f&&0===n.button&&(this.pressed=!0);t&nt&&1!==n.which&&(t=u);this.pressed&&(t&u&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[n],changedPointers:[n],pointerType:tr,srcEvent:n}))}});var df={pointerdown:f,pointermove:nt,pointerup:u,pointercancel:e,pointerout:e},gf={2:ot,3:"pen",4:tr,5:"kinect"},ru="pointerdown",uu="pointermove pointerup pointercancel";n.MSPointerEvent&&!n.PointerEvent&&(ru="MSPointerDown",uu="MSPointerMove MSPointerUp MSPointerCancel");o(vi,s,{handler:function(n){var t=this.store,o=!1,h=n.type.toLowerCase().replace("ms",""),r=df[h],s=gf[n.pointerType]||n.pointerType,c=s==ot,i=ut(t,n.pointerId,"pointerId");r&f&&(0===n.button||c)?0>i&&(t.push(n),i=t.length-1):r&(u|e)&&(o=!0);0>i||(t[i]=n,this.callback(this.manager,r,{pointers:t,changedPointers:[n],pointerType:s,srcEvent:n}),o&&t.splice(i,1))}});var ne={touchstart:f,touchmove:nt,touchend:u,touchcancel:e},te="touchstart",ie="touchstart touchmove touchend touchcancel";o(yr,s,{handler:function(n){var i=ne[n.type],t;(i===f&&(this.started=!0),this.started)&&(t=tf.call(this,n,i),i&(u|e)&&t[0].length-t[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:ot,srcEvent:n}))}});fu={touchstart:f,touchmove:nt,touchend:u,touchcancel:e};eu="touchstart touchmove touchend touchcancel";o(ti,s,{handler:function(n){var i=fu[n.type],t=rf.call(this,n,i);t&&this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:ot,srcEvent:n})}});ou=2500;ir=25;o(yi,s,{handler:function(n,t,i){var u=i.pointerType==ot,r=i.pointerType==tr;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(u)uf.call(this,t,i);else if(r&&ff.call(this,i))return;this.callback(n,t,i)}},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var su=dt(hf.style,"touchAction"),hu=su!==r,cu="compute",lu="auto",rr="manipulation",it="none",at="pan-x",vt="pan-y",oi=of();pi.prototype={set:function(n){n==cu&&(n=this.compute());hu&&this.manager.element.style&&oi[n]&&(this.manager.element.style[su]=n);this.actions=n.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var n=[];return v(this.manager.recognizers,function(t){li(t.options.enable,[t])&&(n=n.concat(t.getTouchAction()))}),ef(n.join(" "))},preventDefaults:function(n){var i=n.srcEvent,r=n.offsetDirection;if(this.manager.session.prevented)return void i.preventDefault();var t=this.actions,u=d(t,it)&&!oi[it],f=d(t,vt)&&!oi[vt],e=d(t,at)&&!oi[at];if(u){var o=1===n.pointers.length,s=n.distance<2,h=n.deltaTime<250;if(o&&s&&h)return}if(!e||!f)return u||f&&r&l||e&&r&tt?this.preventSrc(i):void 0},preventSrc:function(n){this.manager.session.prevented=!0;n.preventDefault()}};var si=1,h=2,et=4,k=8,b=k,yt=16,a=32;y.prototype={defaults:{},set:function(n){return w(this.options,n),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(n){if(rt(n,"recognizeWith",this))return this;var t=this.simultaneous;return n=ii(n,this),t[n.id]||(t[n.id]=n,n.recognizeWith(this)),this},dropRecognizeWith:function(n){return rt(n,"dropRecognizeWith",this)?this:(n=ii(n,this),delete this.simultaneous[n.id],this)},requireFailure:function(n){if(rt(n,"requireFailure",this))return this;var t=this.requireFail;return n=ii(n,this),-1===ut(t,n)&&(t.push(n),n.requireFailure(this)),this},dropRequireFailure:function(n){if(rt(n,"dropRequireFailure",this))return this;n=ii(n,this);var t=ut(this.requireFail,n);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(n){return!!this.simultaneous[n.id]},emit:function(n){function t(t){i.manager.emit(t,n)}var i=this,r=this.state;k>r&&t(i.options.event+wr(r));t(i.options.event);n.additionalEvent&&t(n.additionalEvent);r>=k&&t(i.options.event+wr(r))},tryEmit:function(n){return this.canEmit()?this.emit(n):void(this.state=a)},canEmit:function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(a|si)))return!1;n++}return!0},recognize:function(n){var t=w({},n);return li(this.options.enable,[this,t])?(this.state&(b|yt|a)&&(this.state=si),this.state=this.process(t),void(this.state&(h|et|k|yt)&&this.tryEmit(t))):(this.reset(),void(this.state=a))},process:function(){},getTouchAction:function(){},reset:function(){}};o(c,y,{defaults:{pointers:1},attrTest:function(n){var t=this.options.pointers;return 0===t||n.pointers.length===t},process:function(n){var t=this.state,i=n.eventType,r=t&(h|et),f=this.attrTest(n);return r&&(i&e||!f)?t|yt:r||f?i&u?t|k:t&h?t|et:h:a}});o(ri,c,{defaults:{event:"pan",threshold:10,pointers:1,direction:tu},getTouchAction:function(){var t=this.options.direction,n=[];return t&l&&n.push(vt),t&tt&&n.push(at),n},directionTest:function(n){var i=this.options,r=!0,u=n.distance,t=n.direction,f=n.deltaX,e=n.deltaY;return t&i.direction||(i.direction&l?(t=0===f?fi:0>f?st:ht,r=f!=this.pX,u=Math.abs(n.deltaX)):(t=0===e?fi:0>e?ct:lt,r=e!=this.pY,u=Math.abs(n.deltaY))),n.direction=t,r&&u>i.threshold&&t&i.direction},attrTest:function(n){return c.prototype.attrTest.call(this,n)&&(this.state&h||!(this.state&h)&&this.directionTest(n))},emit:function(n){this.pX=n.deltaX;this.pY=n.deltaY;var t=br(n.direction);t&&(n.additionalEvent=this.options.event+t);this._super.emit.call(this,n)}});o(wi,c,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[it]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&h)},emit:function(n){if(1!==n.scale){var t=n.scale<1?"in":"out";n.additionalEvent=this.options.event+t}this._super.emit.call(this,n)}});o(bi,y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[lu]},process:function(n){var t=this.options,i=n.pointers.length===t.pointers,r=n.distance<t.threshold,o=n.deltaTime>t.time;if(this._input=n,!r||!i||n.eventType&(u|e)&&!o)this.reset();else if(n.eventType&f)this.reset(),this._timer=hi(function(){this.state=b;this.tryEmit()},t.time,this);else if(n.eventType&u)return b;return a},reset:function(){clearTimeout(this._timer)},emit:function(n){this.state===b&&(n&&n.eventType&u?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=nr(),this.manager.emit(this.options.event,this._input)))}});o(ki,c,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[it]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&h)}});o(di,c,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:l|tt,pointers:1},getTouchAction:function(){return ri.prototype.getTouchAction.call(this)},attrTest:function(n){var t,i=this.options.direction;return i&(l|tt)?t=n.overallVelocity:i&l?t=n.overallVelocityX:i&tt&&(t=n.overallVelocityY),this._super.attrTest.call(this,n)&&i&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers==this.options.pointers&&g(t)>this.options.velocity&&n.eventType&u},emit:function(n){var t=br(n.offsetDirection);t&&this.manager.emit(this.options.event+t,n);this.manager.emit(this.options.event,n)}});o(ui,y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[rr]},process:function(n){var t=this.options,o=n.pointers.length===t.pointers,s=n.distance<t.threshold,c=n.deltaTime<t.time,i,r,e;if(this.reset(),n.eventType&f&&0===this.count)return this.failTimeout();if(s&&c&&o){if(n.eventType!=u)return this.failTimeout();if(i=this.pTime?n.timeStamp-this.pTime<t.interval:!0,r=!this.pCenter||gt(this.pCenter,n.center)<t.posThreshold,this.pTime=n.timeStamp,this.pCenter=n.center,r&&i?this.count+=1:this.count=1,this._input=n,e=this.count%t.taps,0===e)return this.hasRequireFailures()?(this._timer=hi(function(){this.state=b;this.tryEmit()},t.interval,this),h):b}return a},failTimeout:function(){return this._timer=hi(function(){this.state=a},this.options.interval,this),a},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==b&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});p.VERSION="2.0.8";p.defaults={domEvents:!1,touchAction:cu,enable:!0,inputTarget:null,inputClass:null,preset:[[ki,{enable:!1}],[wi,{enable:!1},["rotate"]],[di,{direction:l}],[ri,{direction:l},["swipe"]],[ui],[ui,{event:"doubletap",taps:2},["tap"]],[bi]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};au=1;ur=2;gi.prototype={set:function(n){return w(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},stop:function(n){this.session.stopped=n?ur:au},recognize:function(n){var r=this.session,i,f,t,u;if(!r.stopped)for(this.touchAction.preventDefaults(n),f=this.recognizers,t=r.curRecognizer,(!t||t&&t.state&b)&&(t=r.curRecognizer=null),u=0;u<f.length;)i=f[u],r.stopped===ur||t&&i!=t&&!i.canRecognizeWith(t)?i.reset():i.recognize(n),!t&&i.state&(h|et|k)&&(t=r.curRecognizer=i),u++},get:function(n){if(n instanceof y)return n;for(var i=this.recognizers,t=0;t<i.length;t++)if(i[t].options.event==n)return i[t];return null},add:function(n){if(rt(n,"add",this))return this;var t=this.get(n.options.event);return t&&this.remove(t),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},remove:function(n){if(rt(n,"remove",this))return this;if(n=this.get(n)){var t=this.recognizers,i=ut(t,n);-1!==i&&(t.splice(i,1),this.touchAction.update())}return this},on:function(n,t){if(n!==r&&t!==r){var i=this.handlers;return v(bt(n),function(n){i[n]=i[n]||[];i[n].push(t)}),this}},off:function(n,t){if(n!==r){var i=this.handlers;return v(bt(n),function(n){t?i[n]&&i[n].splice(ut(i[n],t),1):delete i[n]}),this}},emit:function(n,t){var i,r;if(this.options.domEvents&&sf(n,t),i=this.handlers[n]&&this.handlers[n].slice(),i&&i.length)for(t.type=n,t.preventDefault=function(){t.srcEvent.preventDefault()},r=0;r<i.length;)i[r](t),r++},destroy:function(){this.element&&kr(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};w(p,{INPUT_START:f,INPUT_MOVE:nt,INPUT_END:u,INPUT_CANCEL:e,STATE_POSSIBLE:si,STATE_BEGAN:h,STATE_CHANGED:et,STATE_ENDED:k,STATE_RECOGNIZED:b,STATE_CANCELLED:yt,STATE_FAILED:a,DIRECTION_NONE:fi,DIRECTION_LEFT:st,DIRECTION_RIGHT:ht,DIRECTION_UP:ct,DIRECTION_DOWN:lt,DIRECTION_HORIZONTAL:l,DIRECTION_VERTICAL:tt,DIRECTION_ALL:tu,Manager:gi,Input:s,TouchAction:pi,TouchInput:ti,MouseInput:ni,PointerEventInput:vi,TouchMouseInput:yi,SingleTouchInput:yr,Recognizer:y,AttrRecognizer:c,Tap:ui,Pan:ri,Swipe:di,Pinch:wi,Rotate:ki,Press:bi,on:pt,off:wt,each:v,merge:lf,extend:gr,assign:w,inherit:o,bindFn:ci,prefixed:dt});vu="undefined"!=typeof n?n:"undefined"!=typeof self?self:{};vu.Hammer=p;"function"==typeof define&&define.amd?define(function(){return p}):"undefined"!=typeof module&&module.exports?module.exports=p:n[i]=p}(window,document,"Hammer"),function(n,t){"use strict";function r(n,i){if(void 0===n||void 0===i)return null;var r;return r=i.indexOf("pan")>-1?new t.Pan:i.indexOf("pinch")>-1?new t.Pinch:i.indexOf("press")>-1?new t.Press:i.indexOf("rotate")>-1?new t.Rotate:i.indexOf("swipe")>-1?new t.Swipe:new t.Tap,n.add(r),r}function e(n,t){return n&&(t.preventGhosts=n.preventGhosts),t}function u(n){return n.indexOf("pan")>-1?"pan":n.indexOf("pinch")>-1?"pinch":n.indexOf("press")>-1?"press":n.indexOf("rotate")>-1?"rotate":n.indexOf("swipe")>-1?"swipe":n.indexOf("tap")>-1?"tap":"custom"}function o(n,t,i){var u,f,e;if(null==n||null==t||null==t.type)return console.error("ERROR: Angular Hammer could not setup the recognizer. Values of the passed manager and options: ",n,t);u=n.get(t._name);(u||(u=r(n,t._name)),t.directions||(t.directions="pan"===t._name||"swipe"===t._name?"DIRECTION_ALL":t._name.indexOf("left")>-1?"DIRECTION_LEFT":t._name.indexOf("right")>-1?"DIRECTION_RIGHT":t._name.indexOf("up")>-1?"DIRECTION_UP":t._name.indexOf("down")>-1?"DIRECTION_DOWN":""),t.direction=s(t.directions),u.set(t),"string"==typeof t.recognizeWith)&&(null==n.get(t.recognizeWith)&&(f=r(n,t.recognizeWith)),null!=f&&u.recognizeWith(f));("string"==typeof t.dropRecognizeWith&&null!=n.get(t.dropRecognizeWith)&&u.dropRecognizeWith(n.get(t.dropRecognizeWith)),"string"==typeof t.requireFailure)&&(null==n.get(t.requireFailure)&&(e=r(n,{type:t.requireFailure})),null!=e&&u.requireFailure(e));"string"==typeof t.dropRequireFailure&&null!=n.get(t.dropRequireFailure)&&u.dropRequireFailure(n.get(t.dropRequireFailure));t.preventGhosts===!0&&null!=i&&h(i)}function s(i){var r=0;return n.forEach(i.split("|"),function(n){t.hasOwnProperty(n)&&(r|=t[n])}),r}function h(n){function i(n){for(var u,f,i=0;i<t.length;i++)if(u=t[i][0],f=t[i][1],Math.abs(n.clientX-u)<r&&Math.abs(n.clientY-f)<r){n.stopPropagation();n.preventDefault();break}}function u(){t=[]}function f(){t.splice(0,1)}function e(n){if(n.touches.length-n.changedTouches.length<=0){var i=n.changedTouches[0];t.push([i.clientX,i.clientY]);setTimeout(f,o)}}if(n){var t=[],r=25,o=2500;"ontouchstart"in window&&(n[0].addEventListener("touchstart",u,!0),n[0].addEventListener("touchend",e,!0),n[0].addEventListener("click",i,!0),n[0].addEventListener("mouseup",i,!0))}}if("undefined"==typeof n)throw Error("angular-hammer: AngularJS (angular) is undefined but is necessary.");if("undefined"==typeof t)throw Error("angular-hammer: HammerJS (Hammer) is undefined but is necessary.");var i="hmTouchEvents",f=n.module("hmTouchEvents",[]);f.provider(i,function(){function e(t){return t=n.copy(t),t.event?"doubletap"==t.event?(t.type="tap",t.taps||(t.taps=2),t._name="doubletap"):t._name=!1:t._name=t.type||!1,t}function c(n){if("custom"==n)throw Error(i+"Provider: no defaults exist for custom events");var t=u(n);return e("doubletap"==n?{type:t,event:"doubletap"}:{type:t})}var f=this,h=!1,o={},s={},r={};r[t.Tap.toString()]="tap";r[t.Pan.toString()]="pan";r[t.Pinch.toString()]="pinch";r[t.Press.toString()]="press";r[t.Rotate.toString()]="rotate";r[t.Swipe.toString()]="swipe";f.applyHammerPresets=function(){var i=t.defaults.preset;n.forEach(i,function(n){var t=n[1];t.type||(t.type=r[n[0]]);t=e(t);t._name&&(o[t._name]=t)})};f.addManagerOption=function(t,i){"object"==typeof t?n.extend(s,t):s[t]=i};f.addRecognizerOption=function(n){if(Array.isArray(n))for(var t=0;t<n.length;t++)f.addRecognizerOption(n[t]);else{if("object"!=typeof n)throw Error(i+"Provider: addRecognizerOption: should be object or array of objects");n=e(n);n._name?o[n.type]=n:n.event||(h=n)}};f.$get=function(){return{extendWithDefaultManagerOpts:function(t){t="object"!=typeof t?{}:n.copy(t);for(var i in s)t[i]||(t[i]=n.copy(s[i]));return t},extendWithDefaultRecognizerOpts:function(t,i){if("object"!=typeof i&&(i=[]),Array.isArray(i)||(i=[i]),"custom"==t)return i;var r,f=u(t),a=o[t]||o[f],s=!1,l=n.extend({},h||{},a||{});return i.forEach(function(i){return i.event||i.type?void(s||(i.event==t?(r=i,s=!0):i.event||i.type!=f||(r=i))):n.extend(l,i)}),r=r?e(r):c(t),[n.extend(l,r)]}}}});n.forEach(["hmCustom:custom","hmSwipe:swipe","hmSwipeleft:swipeleft","hmSwiperight:swiperight","hmSwipeup:swipeup","hmSwipedown:swipedown","hmPan:pan","hmPanstart:panstart","hmPanmove:panmove","hmPanend:panend","hmPancancel:pancancel","hmPanleft:panleft","hmPanright:panright","hmPanup:panup","hmPandown:pandown","hmPress:press","hmPressup:pressup","hmRotate:rotate","hmRotatestart:rotatestart","hmRotatemove:rotatemove","hmRotateend:rotateend","hmRotatecancel:rotatecancel","hmPinch:pinch","hmPinchstart:pinchstart","hmPinchmove:pinchmove","hmPinchend:pinchend","hmPinchcancel:pinchcancel","hmPinchin:pinchin","hmPinchout:pinchout","hmTap:tap","hmDoubletap:doubletap"],function(r){var c=r.split(":"),h=c[0],s=c[1];f.directive(h,["$parse","$window",i,function(r,f,c){return{restrict:"A",scope:!1,link:function(l,a,v){var p,b;if(!t||!f.addEventListener)throw Error(i+": window.Hammer or window.addEventListener not found, can't add event "+h);var y=a.data("hammer"),w=c.extendWithDefaultManagerOpts(l.$eval(v.hmManagerOptions)),k=c.extendWithDefaultRecognizerOpts(s,l.$eval(v.hmRecognizerOptions));y||(y=new t.Manager(a[0],w),a.data("hammer",y),l.$on("$destroy",function(){y.destroy()}));p=r(v[h]).bind(null,l);b=function(t){var r,f,i;t.element=a;r=!0;f=y.get(u(t.type));f&&(i=f.options,i.preventDefault&&t.preventDefault(),i.stopPropagation&&t.srcEvent.stopPropagation(),r=n.isUndefined(i.invokeApply)||i.invokeApply);r?l.$apply(function(){p({$event:t})}):p({$event:t})};n.forEach(k,function(n){"custom"!==s&&("doubletap"===s&&y.get("tap")?n.recognizeWith="tap":"pan"==n.type&&y.get("swipe")?n.recognizeWith="swipe":"pinch"==n.type&&y.get("rotate")&&(n.recognizeWith="rotate"));o(y,e(w,n),a);y.on(s,b)})}}}])})}(angular,Hammer),function(){function t(n){if("function"==typeof n)n=!0;else if(n&&0!==n.length){var t=i(""+n);n=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)}else n=!1;return n}var i=function(n){return"string"==typeof n?n.toLowerCase():n},n=angular.module("AngularPrint",[]);n.directive("printSection",function(){return{restrict:"A",link:function(n,t){t[0].classList.add("printSection")}}});n.directive("printHide",function(){return{restrict:"A",link:function(n,t){t[0].classList.add("printHide")}}});n.directive("printRemove",function(){return{restrict:"A",link:function(n,t){t[0].classList.add("printRemove")}}});n.directive("printOnly",function(){return{restrict:"A",link:{post:function(n,t){t[0].classList.add("printOnly")}}}});n.directive("printAvoidBreak",function(){return{restrict:"A",link:function(n,t){t[0].classList.add("avoidPageBreak")}}});n.directive("printBtn",["$window",function(n){return{restrict:"A",link:function(t,i){i.on("click",function(){n.print()})}}}]);n.directive("printIf",["$animate",function(n){return function(i,r,u){i.$watch(u.printIf,function(i){"printOnly"in u?n[t(i)?"removeClass":"addClass"](r,"printRemove"):n[t(i)?"addClass":"removeClass"](r,"printSection")})}}]);n.directive("printLandscape",function(){return{restrict:"A",link:function(){var n=function(){var n=document.createElement("style");return n.appendChild(document.createTextNode("")),document.head.appendChild(n),n.sheet}();n.insertRule("@page{size:landscape;}",0)}}});n.directive("printTable",function(){return function(n,t,i){n.$watch(i.printTable,function(n){setTimeout(function(){var r,e,f,u,i;if(null!=n){for(r=t[0],r.classList.add("printSection"),r.id="print-table",u=r.getElementsByTagName("td"),i=0;i<u.length;i++)e=u[i].innerHTML,u[i].innerHTML="",f=document.createElement("div"),f.className="avoidPageBreak",f.innerHTML=e,u[i].appendChild(f);t[0]=r}},1e3)})}})}();!function(){"use strict";function n(n,t,i,r,u,f,e){function p(){return o.length}function w(n){if(1!==arguments.length||n)if(n)c(n.toastId);else for(var t=0;t<o.length;t++)c(o[t].toastId)}function b(n,t,i){var r=h().iconClasses.error;return l(r,n,t,i)}function k(n,t,i){var r=h().iconClasses.info;return l(r,n,t,i)}function d(n,t,i){var r=h().iconClasses.success;return l(r,n,t,i)}function g(n,t,i){var r=h().iconClasses.warning;return l(r,n,t,i)}function nt(n,t){n&&n.isOpened&&o.indexOf(n)>=0&&n.scope.refreshTimer(t)}function c(t,i){function u(n){for(var t=0;t<o.length;t++)if(o[t].toastId===n)return o[t]}function h(){return!o.length}var r=u(t);r&&!r.deleting&&(r.deleting=!0,r.isOpened=!1,n.leave(r.el).then(function(){var t,n;r.scope.options.onHidden&&r.scope.options.onHidden(!!i,r);r.scope.$destroy();t=o.indexOf(r);delete v[r.scope.message];o.splice(t,1);n=f.maxOpened;n&&o.length>=n&&o[n-1].open.resolve();h()&&(s.remove(),s=null,a=e.defer())}))}function l(n,t,i,r){return angular.isObject(i)&&(r=i,i=null),it({iconClass:n,message:t,optionsOverride:r,title:i})}function h(){return angular.extend({},f)}function tt(t){if(s)return a.promise;s=angular.element("<div><\/div>");s.attr("id",t.containerId);s.addClass(t.positionClass);s.css({"pointer-events":"auto"});var i=angular.element(document.querySelector(t.target));if(!i||!i.length)throw"Target for toasts doesn't exist";return n.enter(s,i).then(function(){a.resolve()}),a.promise}function it(i){function w(){return f.autoDismiss&&f.maxOpened&&o.length>f.maxOpened}function b(n,t,i){function r(t){if(i[t])return function(){i[t](n)}}i.allowHtml?(n.scope.allowHtml=!0,n.scope.title=u.trustAsHtml(t.title),n.scope.message=u.trustAsHtml(t.message)):(n.scope.title=t.title,n.scope.message=t.message);n.scope.toastType=n.iconClass;n.scope.toastId=n.toastId;n.scope.extraData=i.extraData;n.scope.options={extendedTimeOut:i.extendedTimeOut,messageClass:i.messageClass,onHidden:i.onHidden,onShown:r("onShown"),onTap:r("onTap"),progressBar:i.progressBar,tapToDismiss:i.tapToDismiss,timeOut:i.timeOut,titleClass:i.titleClass,toastClass:i.toastClass};i.closeButton&&(n.scope.options.closeHtml=i.closeHtml)}function k(){function t(n){for(var i=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],t=0,r=i.length;r>t;t++)delete n[i[t]];return n}var n={toastId:rt++,isOpened:!1,scope:r.$new(),open:e.defer()};return n.iconClass=i.iconClass,i.optionsOverride&&(angular.extend(f,t(i.optionsOverride)),n.iconClass=i.optionsOverride.iconClass||n.iconClass),b(n,i,f),n.el=d(n.scope),n}function d(n){var i=angular.element("<div toast><\/div>"),r=t.get("$compile");return r(i)(n)}function g(){return f.maxOpened&&o.length<=f.maxOpened||!f.maxOpened}function nt(){var n=f.preventDuplicates&&i.message===y,t=f.preventOpenDuplicates&&v[i.message];return!(!n&&!t&&(y=i.message,v[i.message]=!0,1))}var f=h(),l;if(!nt()){if(l=k(),o.push(l),w())for(var p=o.slice(0,o.length-f.maxOpened),a=0,it=p.length;it>a;a++)c(p[a].toastId);return g()&&l.open.resolve(),l.open.promise.then(function(){tt(f).then(function(){if(l.isOpened=!0,f.newestOnTop)n.enter(l.el,s).then(function(){l.scope.init()});else{var t=s[0].lastChild?angular.element(s[0].lastChild):null;n.enter(l.el,s,t).then(function(){l.scope.init()})}})}),l}}var s,rt=0,o=[],y="",v={},a=e.defer();return{active:p,clear:w,error:b,info:k,remove:c,success:d,warning:g,refreshTimer:nt}}angular.module("toastr",[]).factory("toastr",n);n.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;<\/button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,onTap:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function n(n){function t(n,t,i,r){function o(){var n=(e-(new Date).getTime())/f*100;t.css("width",n+"%")}var u,f,e;r.progressBar=n;n.start=function(n){u&&clearInterval(u);f=parseFloat(n);e=(new Date).getTime()+f;u=setInterval(o,10)};n.stop=function(){u&&clearInterval(u)};n.$on("$destroy",function(){clearInterval(u)})}return{require:"^toast",templateUrl:function(){return n.templates.progressbar},link:t}}angular.module("toastr").directive("progressBar",n);n.$inject=["toastrConfig"]}(),function(){"use strict";function n(){this.progressBar=null;this.startProgressBar=function(n){this.progressBar&&this.progressBar.start(n)};this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}angular.module("toastr").controller("ToastController",n)}(),function(){"use strict";function n(n,t,i,r){function u(i,u,f,e){function h(n){return e.startProgressBar(n),t(function(){e.stopProgressBar();r.remove(i.toastId)},n,1)}function l(){i.progressBar=!1;e.stopProgressBar()}function a(){return i.options.closeHtml}var o,s,c;(i.toastClass=i.options.toastClass,i.titleClass=i.options.titleClass,i.messageClass=i.options.messageClass,i.progressBar=i.options.progressBar,a())&&(s=angular.element(i.options.closeHtml),c=n.get("$compile"),s.addClass("toast-close-button"),s.attr("ng-click","close(true, $event)"),c(s)(i),u.children().prepend(s));i.init=function(){i.options.timeOut&&(o=h(i.options.timeOut));i.options.onShown&&i.options.onShown()};u.on("mouseenter",function(){l();o&&t.cancel(o)});i.tapToast=function(){angular.isFunction(i.options.onTap)&&i.options.onTap();i.options.tapToDismiss&&i.close(!0)};i.close=function(n,t){t&&angular.isFunction(t.stopPropagation)&&t.stopPropagation();r.remove(i.toastId,n)};i.refreshTimer=function(n){o&&(t.cancel(o),o=h(n||i.options.timeOut))};u.on("mouseleave",function(){0===i.options.timeOut&&0===i.options.extendedTimeOut||(i.$apply(function(){i.progressBar=i.options.progressBar}),o=h(i.options.extendedTimeOut))})}return{templateUrl:function(){return i.templates.toast},controller:"ToastController",link:u}}angular.module("toastr").directive("toast",n);n.$inject=["$injector","$interval","toastrConfig","toastr"]}();angular.module("toastr").run(["$templateCache",function(n){n.put("directives/progressbar/progressbar.html",'<div class="toast-progress"><\/div>\n');n.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}" aria-label="{{title}}">{{title}}<\/div>\n    <div ng-switch-default class="{{messageClass}}" aria-label="{{message}}">{{message}}<\/div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"><\/div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"><\/div>\n  <\/div>\n  <progress-bar ng-if="progressBar"><\/progress-bar>\n<\/div>\n')}]);!function(n){"use strict";function r(){function a(n){return function(){t.waitForVendorCount&&(u[n]||(u[n]=[]),u[n].push(arguments))}}function o(t,i,r){return f[t]||(f[t]=[]),f[t].push(i),l[i]=r,function(){if(!this.settings.optOut){var i=Array.prototype.slice.apply(arguments);return this.$inject(["$q",n.bind(this,function(r){return r.all(f[t].map(function(t){var e=l[t]||{},u,f;return e.async?(u=r.defer(),f=n.copy(i),f.unshift(u.resolve),t.apply(this,f),u.promise):r.when(t.apply(this,i))},this))})])}}}function v(n,t){t?setTimeout(n,t):n()}function y(t,f,e){if(!r.developerMode){i[t]=o(t,f,e);var s=r[t],h=s?s.bufferFlushDelay:null,c=null!==h?h:r.bufferFlushDelay;n.forEach(u[t],function(n,t){v(function(){f.apply(this,n)},t*c)})}}function p(n){return n.replace(/^./,function(n){return n.toUpperCase()})}function s(n){var t="register"+p(n);e[t]=function(t,i){y(n,t,i)};i[n]=o(n,a(n))}function h(t,i,r){n.forEach(i,r);for(var u in t)w[u]=t[u]}var w=this,r={pageTracking:{autoTrackFirstPage:!0,autoTrackVirtualPages:!0,trackRelativePath:!1,trackRoutes:!0,trackStates:!0,autoBasePath:!1,basePath:"",excludedRoutes:[],queryKeysWhitelisted:[],queryKeysBlacklisted:[]},eventTracking:{},bufferFlushDelay:1e3,trackExceptions:!1,optOut:!1,developerMode:!1},c=["pageTrack","eventTrack","exceptionTrack","transactionTrack","setAlias","setUsername","setUserProperties","setUserPropertiesOnce","setSuperProperties","setSuperPropertiesOnce","incrementProperty","userTimings","clearCookies"],u={},f={},l={},i={settings:r};i.setOptOut=function(n){this.settings.optOut=n;k()};i.getOptOut=function(){return this.settings.optOut};var e={$get:["$injector",function(n){return b(n)}],api:i,settings:r,virtualPageviews:function(n){this.settings.pageTracking.autoTrackVirtualPages=n},trackStates:function(n){this.settings.pageTracking.trackStates=n},trackRoutes:function(n){this.settings.pageTracking.trackRoutes=n},excludeRoutes:function(n){this.settings.pageTracking.excludedRoutes=n},queryKeysWhitelist:function(n){this.settings.pageTracking.queryKeysWhitelisted=n},queryKeysBlacklist:function(n){this.settings.pageTracking.queryKeysBlacklisted=n},firstPageview:function(n){this.settings.pageTracking.autoTrackFirstPage=n},withBase:function(t){this.settings.pageTracking.basePath=t?n.element(document).find("base").attr("href"):""},withAutoBase:function(n){this.settings.pageTracking.autoBasePath=n},trackExceptions:function(n){this.settings.trackExceptions=n},developerMode:function(n){this.settings.developerMode=n}},b=function(t){return n.extend(i,{$inject:t.invoke})},k=function(){h(e,c,s)};h(e,c,s)}function u(t,i,r,u){function o(n){for(var i,t=0;t<r.settings.pageTracking.excludedRoutes.length;t++)if(i=r.settings.pageTracking.excludedRoutes[t],i instanceof RegExp&&i.test(n)||n.indexOf(i)>-1)return!0;return!1}function s(n,t){for(var r=[],i=0;i<n.length;i++)-1===t.indexOf(n[i])&&r.push(n[i]);return r}function e(n,t,i){var f,r,h;if(/\?/.test(n)&&t.length>0){for(var c=n.split("?"),l=c[0],u=c[1].split("&"),e=[],o=0;o<t.length;o++)for(f=t[o],r=0;r<u.length;r++)(f instanceof RegExp&&f.test(u[r])||u[r].indexOf(f)>-1)&&e.push(u[r]);return h="white"==i?e:s(u,e),h.length>0?l+"?"+h.join("&"):l}return n}function h(n){return e(n,r.settings.pageTracking.queryKeysWhitelisted,"white")}function c(n){return e(n,r.settings.pageTracking.queryKeysBlacklisted,"black")}function f(n,t){o(n)||(n=h(n),n=c(n),r.pageTrack(n,t))}r.settings.pageTracking.autoTrackFirstPage&&u.invoke(["$location",function(n){var t=!0,e,h,o,c,s;if(u.has("$route"))if(e=u.get("$route"),e)for(h in e.routes){t=!1;break}else null===e&&(t=!1);else if(u.has("$state")){o=u.get("$state");for(c in o.get()){t=!1;break}}t&&((r.settings.pageTracking.autoBasePath&&(r.settings.pageTracking.basePath=i.location.pathname),r.settings.pageTracking.trackRelativePath)?(s=r.settings.pageTracking.basePath+n.url(),f(s,n)):f(n.absUrl(),n))}]);r.settings.pageTracking.autoTrackVirtualPages&&u.invoke(["$location",function(n){var e,o,s;if(r.settings.pageTracking.autoBasePath&&(r.settings.pageTracking.basePath=i.location.pathname+"#"),e=!0,r.settings.pageTracking.trackRoutes&&u.has("$route")){if(o=u.get("$route"),o)for(s in o.routes){e=!1;break}else null===o&&(e=!1);t.$on("$routeChangeSuccess",function(t,i){if(!i||!(i.$$route||i).redirectTo){var u=r.settings.pageTracking.basePath+n.url();f(u,n)}})}r.settings.pageTracking.trackStates&&(u.has("$state")&&!u.has("$transitions")&&(e=!1,t.$on("$stateChangeSuccess",function(){var t=r.settings.pageTracking.basePath+n.url();f(t,n)})),u.has("$state")&&u.has("$transitions")&&(e=!1,u.invoke(["$transitions",function(t){t.onSuccess({},function(t){var u=t.options(),i;u.notify&&(i=r.settings.pageTracking.basePath+n.url(),f(i,n))})}])));e&&t.$on("$locationChangeSuccess",function(t,i){if(!i||!(i.$$route||i).redirectTo)if(r.settings.pageTracking.trackRelativePath){var u=r.settings.pageTracking.basePath+n.url();f(u,n)}else f(n.absUrl(),n)})}]);r.settings.developerMode&&n.forEach(r,function(n,t){"function"==typeof n&&(r[t]=function(){})})}function f(t){return{restrict:"A",link:function(r,u,f){var o=f.analyticsOn||"click",e={};n.forEach(f.$attr,function(n,t){h(t)&&(e[i(t)]=f[t],f.$observe(t,function(n){e[i(t)]=n}))});n.element(u[0]).bind(o,function(i){var o=f.analyticsEvent||s(u[0]);e.eventType=i.type;f.analyticsIf&&!r.$eval(f.analyticsIf)||(f.analyticsProperties&&n.extend(e,r.$eval(f.analyticsProperties)),t.eventTrack(o,e))})}}}function e(n){n.decorator("$exceptionHandler",["$delegate","$injector",function(n,t){return function(i,r){var f=n(i,r),u=t.get("$analytics");return u.settings.trackExceptions&&u.exceptionTrack(i,r),f}}])}function o(n){return["a:","button:","button:button","button:submit","input:button","input:submit"].indexOf(n.tagName.toLowerCase()+":"+(n.type||""))>=0}function s(n){return o(n)?n.innerText||n.value:n.id||n.name||n.tagName}function h(n){return"analytics"===n.substr(0,9)&&-1===["On","Event","If","Properties","EventType"].indexOf(n.substr(9))}function i(n){var t=n.slice(9);return"undefined"!=typeof t&&null!==t&&t.length>0?t.substring(0,1).toLowerCase()+t.substring(1):t}var t=window.angulartics||(window.angulartics={});t.waitForVendorCount=0;t.waitForVendorApi=function(n,i,r,u,f){f||t.waitForVendorCount++;u||(u=r,r=void 0);!Object.prototype.hasOwnProperty.call(window,n)||void 0!==r&&void 0===window[n][r]?setTimeout(function(){t.waitForVendorApi(n,i,r,u,!0)},i):(t.waitForVendorCount--,u(window[n]))};n.module("angulartics",[]).provider("$analytics",r).run(["$rootScope","$window","$analytics","$injector",u]).directive("analyticsOn",["$analytics",f]).config(["$provide",e])}(angular);!function(n,t,i){"use strict";t.module("angulartics.google.analytics",["angulartics"]).config(["$analyticsProvider",function(r){function f(){var t=n.GoogleAnalyticsObject;return t&&n[t]}function e(){return!t.isUndefined(n._gaq)}function o(n){var t,i={};for(t in n)t.indexOf("dimension")&&t.indexOf("metric")||(i[t]=n[t]);return i}r.settings.pageTracking.trackRelativePath=!0;r.settings.ga={additionalAccountNames:i,additionalAccountHitTypes:{pageview:!0,event:!0,exception:!1,ecommerce:!1,userTiming:!1,setUserProperties:!1,userId:!1},disableEventTracking:null,disablePageTracking:null,enhancedEcommerce:!1,transport:null,userId:null};r.registerPageTrack(function(n,i){i=i||{};r.settings.ga.disablePageTracking||u("pageview","send",t.extend({},i,{hitType:"pageview",page:n}))});r.registerEventTrack(function(i,f){if(!r.settings.ga.disableEventTracking&&(i||i+""=="0")){if(f=f||{},f.category=f.category||"Event",f.value){var e=parseInt(f.value,10);f.value=isNaN(e)?0:e}t.isFunction(f.hitCallback)||(f.hitCallback=null);f.nonInteraction=f.nonInteraction||f.noninteraction;u("event","send",t.extend({},f,{hitType:"event",eventCategory:f.category,eventAction:i,eventLabel:f.label,eventValue:f.value,nonInteraction:f.nonInteraction,page:f.page||n.location.hash.substring(1)||n.location.pathname,hitCallback:f.hitCallback}))}});r.registerExceptionTrack(function(t){u("exception","send",{hitType:"event",eventCategory:"Exceptions",eventAction:t.toString(),eventLabel:t.stack,nonInteraction:!0,page:n.location.hash.substring(1)||n.location.pathname,isException:!0})});r.registerSetUsername(function(n){r.settings.ga.userId=n});r.registerSetUserProperties(function(n){n&&u("setUserProperties","set",o(n))});r.registerUserTimings(function(i){return!t.isObject(i)||t.isArray(i)?console.log("Required argument properties is missing or not an object"):(t.forEach(["timingCategory","timingVar","timingValue"],function(n){if(t.isUndefined(i[n]))return console.log("Argument properties missing required property "+n)}),void u("userTiming","send",{hitType:"timing",timingCategory:i.timingCategory,timingVar:i.timingVar,timingValue:i.timingValue,timingLabel:i.timingLabel,optSampleRate:i.optSampleRate,page:i.page||n.location.hash.substring(1)||n.location.pathname}))});r.registerTransactionTrack(function(n){var r,i;if(u("ecommerce","require","ecommerce"),u("ecommerce","ecommerce:addTransaction",n),n.products)for(i=0;i<n.products.length;i++)r=n.products[i],r.sku=r.id,r.id=n.id,u("ecommerce","ecommerce:addItem",n.products[i]);n.currencyCode&&u("ecommerce","_set",n.currencyCode);u("ecommerce","ecommerce:send",t.copy(n))});var u=function(){function o(n,i,f){var o,e,s=r.settings.ga.userId;if("require"===n&&"ecommerce"===i)return e=i,r.settings.ga.enhancedEcommerce&&(e="ec"),u([n,e],f);if(s&&t.isObject(i)&&(i.userId=s),r.settings.ga.transport&&(i.transport=r.settings.ga.transport),n.indexOf("ecommerce:")>-1&&r.settings.ga.enhancedEcommerce)switch(n){case"ecommerce:addTransaction":n=["ec:setAction","purchase"];break;case"ecommerce:addItem":n="ec:addProduct";i.id=i.sku;break;case"ecommerce:send":n="send";i.hitType="event";i.eventCategory="Angulartics Enhanced Ecommerce";i.eventAction="Purchase";i.nonInteraction=!0}o=n instanceof Array?n.concat(i):[n,i];u(o,f)}function u(i,u){var f,o=r.settings.ga.userId,e=n.GoogleAnalyticsObject;n[e].apply(this,i);u&&(f=t.copy(i),o&&!r.settings.ga.additionalAccountHitTypes.userId&&f[2]&&"object"==typeof f[2]&&delete f[2].userId,t.forEach(r.settings.ga.additionalAccountNames,function(t){f[0]=t+"."+f[0];n[e].apply(this,f)}))}function s(i,u,f){if("set"===i)return console.log('Classic Analytics does not support the "set" command or Custom Dimensions. Command ignored.');var e;if("send"===i)switch(u.hitType){case"pageview":e=["_trackPageview",u.page];break;case"event":e=["_trackEvent",u.category,u.action,u.label,u.value,u.nonInteraction];break;case"timing":e=["_trackTiming",u.timingCategory,u.timingVar,u.timingValue,u.timingLabel,u.optSampleRate]}return"ecommerce:addTransaction"===i&&(e=["_addTrans",u.id,u.affiliation,u.revenue,u.tax,u.shipping,u.billingCity,u.billingRegion,u.billingCountry]),"ecommerce:addItem"===i&&(e=["_addItem",u.id,u.sku,u.name,u.category,u.price,u.quantity]),"_set"===i&&(e=["_set","currencyCode",u]),"ecommerce:send"===i&&(e=["_trackTrans"]),e?(n._gaq.push(e),void(f&&t.forEach(r.settings.ga.additionalAccountNames,function(t){var i=[].slice.call(e);i[0]=t+"."+i[0];n._gaq.push(i)}))):console.log("Unable to find command "+i+" or fieldsObj missing required properties. Command ignored.")}var i;return e()&&(i=s),f()&&(i=o),i?function(n,t,u){var f=r.settings.ga.additionalAccountHitTypes[n];i(t,u,f)}:t.noop}()}])}(window,window.angular);!function(n){"use strict";n.module("angulartics.piwik",["angulartics"]).config(["$analyticsProvider","$windowProvider",function(t,i){var r=i.$get();t.settings.pageTracking.trackRelativePath=!0;t.api.setCustomDimension=function(n,t){r._paq&&r._paq.push(["setCustomDimension",n,t])};t.api.deleteCustomDimension=function(n){r._paq&&r._paq.push(["deleteCustomDimension",n])};t.api.setCustomVariable=function(n,t,i,u){r._paq&&(u=u||"page",r._paq.push(["setCustomVariable",n,t,i,u]))};t.api.deleteCustomVariable=function(n,t){r._paq&&(t=t||"page",r._paq.push(["deleteCustomVariable",n,t]))};t.api.trackSiteSearch=function(t,i,u){if(r._paq&&t){var f=["trackSiteSearch",t,i||!1];n.isDefined(u)&&f.push(u);r._paq.push(f)}};t.api.trackGoal=function(n,t){r._paq&&_paq.push(["trackGoal",n,t||0])};t.api.trackLink=function(n,t){var i=t||"link";r._paq&&r._paq.push(["trackLink",n,i])};t.registerSetUsername(function(n){r._paq&&r._paq.push(["setUserId",n])});t.registerPageTrack(function(n){r._paq&&(r._paq.push(["setDocumentTitle",r.document.title]),r._paq.push(["setCustomUrl",n]),r._paq.push(["trackPageView"]))});t.registerEventTrack(function(n,t){if(r._paq){if(t.value){var i=parseInt(t.value,10);t.value=isNaN(i)?0:i}r._paq.push(["trackEvent",t.category,n,t.label,t.value])}});t.registerExceptionTrack(function(n){r._paq&&r._paq.push(["trackEvent","Exceptions",n.toString(),n.stack,0])})}])}(angular);!function(n){"use strict";n.module("angulartics.debug",["angulartics"]).config(["$analyticsProvider",function(n){n.registerPageTrack(function(n){console.log("Page tracking: ",n)});n.registerEventTrack(function(n,t){console.log("Event tracking: ",n,t)})}])}(angular),function(n,t){"use strict";function i(n,i,r){var u=r.baseHref(),f=n[0];return function(n,r,e){var s,o;e=e||{};o=e.expires;s=t.isDefined(e.path)?e.path:u;t.isUndefined(r)&&(o="Thu, 01 Jan 1970 00:00:00 GMT",r="");t.isString(o)&&(o=new Date(o));r=encodeURIComponent(n)+"="+encodeURIComponent(r);r=r+(s?";path="+s:"")+(e.domain?";domain="+e.domain:"");r+=o?";expires="+o.toUTCString():"";r+=e.secure?";secure":"";e=r.length+1;e>4096&&i.warn("Cookie '"+n+"' possibly not set or overflowed because it was too large ("+e+" > 4096 bytes)!");f.cookie=r}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(i,r){return{get:function(n){return i()[n]},getObject:function(n){return(n=this.get(n))?t.fromJson(n):n},getAll:function(){return i()},put:function(i,u,f){r(i,u,f?t.extend({},n,f):n)},putObject:function(n,i,r){this.put(n,t.toJson(i),r)},remove:function(i,u){r(i,void 0,u?t.extend({},n,u):n)}}}]}]);t.module("ngCookies").factory("$cookieStore",["$cookies",function(n){return{get:function(t){return n.getObject(t)},put:function(t,i){n.putObject(t,i)},remove:function(t){n.remove(t)}}}]);i.$inject=["$document","$log","$browser"];t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=i})}(window,window.angular);!function(){function vl(n){return n&&(n.ownerDocument||n.document||n).documentElement}function bt(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function gi(n,t){return t>n?-1:n>t?1:n>=t?0:NaN}function oi(n){return null===n?NaN:+n}function lt(n){return!isNaN(n)}function yl(n){return{left:function(t,i,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var f=r+u>>>1;n(t[f],i)<0?r=f+1:u=f}return r},right:function(t,i,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var f=r+u>>>1;n(t[f],i)>0?u=f:r=f+1}return r}}}function sk(n){return n.length}function hk(n){for(var t=1;n*t%1;)t*=10;return t}function pl(n,t){for(var i in t)Object.defineProperty(n.prototype,i,{value:t[i],enumerable:!1})}function at(){this._=Object.create(null)}function ar(n){return(n+="")===ub||n[0]===ie?ie+n:n}function yu(n){return(n+="")[0]===ie?n.slice(1):n}function wl(n){return ar(n)in this._}function bl(n){return(n=ar(n))in this._&&delete this._[n]}function kl(){var n=[];for(var t in this._)n.push(yu(t));return n}function dl(){var n=0;for(var t in this._)++n;return n}function gl(){for(var n in this._)return!1;return!0}function ho(){this._=Object.create(null)}function v(n){return n}function ck(n,t,i){return function(){var r=i.apply(t,arguments);return r===t?n:r}}function co(n,t){var i,u,r;if(t in n)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0,u=ic.length;u>i;++i)if(r=ic[i]+t,r in n)return r}function l(){}function lo(){}function na(n){function r(){for(var i,r=t,u=-1,f=r.length;++u<f;)(i=r[u].on)&&i.apply(this,arguments);return n}var t=[],i=new at;return r.on=function(r,u){var e,f=i.get(r);return arguments.length<2?f&&f.on:(f&&(f.on=null,t=t.slice(0,e=t.indexOf(f)).concat(t.slice(e+1)),i.remove(r)),u&&t.push(i.set(r,{on:u})),n)},r}function kt(){n.event.preventDefault()}function ao(){for(var i,t=n.event;i=t.sourceEvent;)t=i;return t}function vo(t){for(var i=new lo,r=0,u=arguments.length;++r<u;)i[arguments[r]]=na(i);return i.of=function(r,u){return function(f){try{var e=f.sourceEvent=n.event;f.target=t;n.event=f;i[f.type].apply(r,u)}finally{n.event=e}}},i}function dt(n){return re(n,e),n}function yo(n){return"function"==typeof n?n:function(){return rc(n,this)}}function ta(n){return"function"==typeof n?n:function(){return uc(n,this)}}function ia(t,i){function r(){this.removeAttribute(t)}function u(){this.removeAttributeNS(t.space,t.local)}function f(){this.setAttribute(t,i)}function e(){this.setAttributeNS(t.space,t.local,i)}function o(){var n=i.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=i.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=n.ns.qualify(t),null==i?t.local?u:r:"function"==typeof i?t.local?s:o:t.local?e:f}function ra(n){return n.trim().replace(/\s+/g," ")}function ua(t){return new RegExp("(?:^|\\s+)"+n.requote(t)+"(?:\\s+|$)","g")}function fa(n){return(n+"").trim().split(/^|\s+/)}function ea(n,t){function r(){for(var r=-1;++r<i;)n[r](this,t)}function u(){for(var r=-1,u=t.apply(this,arguments);++r<i;)n[r](this,u)}n=fa(n).map(lk);var i=n.length;return"function"==typeof t?u:r}function lk(n){var t=ua(n);return function(i,r){if(u=i.classList)return r?u.add(n):u.remove(n);var u=i.getAttribute("class")||"";r?(t.lastIndex=0,t.test(u)||i.setAttribute("class",ra(u+" "+n))):i.setAttribute("class",ra(u.replace(t," ")))}}function oa(n,t,i){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,i)}function f(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,i)}return null==t?r:"function"==typeof t?f:u}function sa(n,t){function i(){delete this[n]}function r(){this[n]=t}function u(){var i=t.apply(this,arguments);null==i?delete this[n]:this[n]=i}return null==t?i:"function"==typeof t?u:r}function ha(t){function i(){var n=this.ownerDocument,i=this.namespaceURI;return i===ue&&n.documentElement.namespaceURI===ue?n.createElement(t):n.createElementNS(i,t)}function r(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=n.ns.qualify(t)).local?r:i}function ak(){var n=this.parentNode;n&&n.removeChild(this)}function po(n){return{__data__:n}}function ca(n){return function(){return fc(this,n)}}function vk(n){return arguments.length||(n=gi),function(t,i){return t&&i?n(t.__data__,i.__data__):!t-!i}}function vt(n,t){for(var i=0,u=n.length;u>i;i++)for(var f,e=n[i],r=0,o=e.length;o>r;r++)(f=e[r])&&t(f,r,i);return n}function la(n){return re(n,st),n}function yk(n){var t,i;return function(r,u,f){var e,o=n[f].update,s=o.length;for(f!=i&&(i=f,t=0),u>=t&&(t=u+1);!(e=o[t])&&++t<s;);return e}}function aa(t,i,r){function o(){var n=this[u];n&&(this.removeEventListener(t,n,n.$),delete this[u])}function h(){var n=s(i,ot(arguments));o.call(this);this.addEventListener(t,this[u]=n,n.$=r);n._=i}function c(){var u,f=new RegExp("^__on([^.]+)"+n.requote(t)+"$"),i,r;for(i in this)(u=i.match(f))&&(r=this[i],this.removeEventListener(u[1],r,r.$),delete this[i])}var u="__on"+t,f=t.indexOf("."),s=va,e;return f>0&&(t=t.slice(0,f)),e=ee.get(t),e&&(t=e,s=pk),f?i?h:o:i?l:c}function va(t,i){return function(r){var u=n.event;n.event=r;i[0]=this.__data__;try{t.apply(this,i)}finally{n.event=u}}}function pk(n,t){var i=va(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||i.call(t,n)}}function pu(t){var i=".dragsuppress-"+ ++fb,f="click"+i,u=n.select(bt(t)).on("touchmove"+i,kt).on("dragstart"+i,kt).on("selectstart"+i,kt),r,e;return(null==yi&&(yi="onselectstart"in t?!1:co(t.style,"userSelect")),yi)&&(r=vl(t).style,e=r[yi],r[yi]="none"),function(n){if(u.on(i,null),yi&&(r[yi]=e),n){var t=function(){u.on(f,null)};u.on(f,function(){kt();t()},!0);setTimeout(t,0)}}}function wo(t,i){var u,r,f,e,o;return(i.changedTouches&&(i=i.changedTouches[0]),u=t.ownerSVGElement||t,u.createSVGPoint)?(r=u.createSVGPoint(),0>oe&&(f=bt(t),(f.scrollX||f.scrollY)&&(u=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),e=u[0][0].getScreenCTM(),oe=!(e.f||e.e),u.remove())),oe?(r.x=i.pageX,r.y=i.pageY):(r.x=i.clientX,r.y=i.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]):(o=t.getBoundingClientRect(),[i.clientX-o.left-t.clientLeft,i.clientY-o.top-t.clientTop])}function wk(){return n.event.changedTouches[0].identifier}function ya(n){return n>0?1:0>n?-1:0}function bo(n,t,i){return(t[0]-n[0])*(i[1]-n[1])-(t[1]-n[1])*(i[0]-n[0])}function pa(n){return n>1?0:-1>n?f:Math.acos(n)}function gt(n){return n>1?h:-1>n?-h:Math.asin(n)}function bk(n){return((n=Math.exp(n))-1/n)/2}function wa(n){return((n=Math.exp(n))+1/n)/2}function kk(n){return((n=Math.exp(2*n))-1)/(n+1)}function ba(n){return(n=Math.sin(n/2))*n}function si(){}function ft(n,t,i){return this instanceof ft?(this.h=+n,this.s=+t,void(this.l=+i)):arguments.length<2?n instanceof ft?new ft(n.h,n.s,n.l):nv(""+n,tv,ft):new ft(n,t,i)}function ko(n,t,i){function e(n){return n>360?n-=360:0>n&&(n+=360),60>n?r+(u-r)*n/60:180>n?u:240>n?r+(u-r)*(240-n)/60:r}function f(n){return Math.round(255*e(n))}var r,u;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,i=0>i?0:i>1?1:i,u=.5>=i?i*(1+t):i+t-i*t,r=2*i-u,new b(f(n+120),f(n),f(n-120))}function nt(t,i,r){return this instanceof nt?(this.h=+t,this.c=+i,void(this.l=+r)):arguments.length<2?t instanceof nt?new nt(t.h,t.c,t.l):t instanceof tt?da(t.l,t.a,t.b):da((t=iv((t=n.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new nt(t,i,r)}function go(n,t,i){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new tt(i,Math.cos(n*=u)*t,Math.sin(n)*t)}function tt(n,t,i){return this instanceof tt?(this.l=+n,this.a=+t,void(this.b=+i)):arguments.length<2?n instanceof tt?new tt(n.l,n.a,n.b):n instanceof nt?go(n.h,n.c,n.l):iv((n=b(n)).r,n.g,n.b):new tt(n,t,i)}function ka(n,t,i){var r=(n+16)/116,u=r+t/500,f=r-i/200;return u=ns(u)*ob,r=ns(r)*sb,f=ns(f)*hb,new b(is(3.2404542*u-1.5371385*r-.4985314*f),is(-.969266*u+1.8760108*r+.041556*f),is(.0556434*u-.2040259*r+1.0572252*f))}function da(n,t,i){return n>0?new nt(Math.atan2(i,t)*s,Math.sqrt(t*t+i*i),n):new nt(NaN,NaN,n)}function ns(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function ts(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function is(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function b(n,t,i){return this instanceof b?(this.r=~~n,this.g=~~t,void(this.b=~~i)):arguments.length<2?n instanceof b?new b(n.r,n.g,n.b):nv(""+n,b,ko):new b(n,t,i)}function ga(n){return new b(n>>16,n>>8&255,255&n)}function wu(n){return ga(n)+""}function nr(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function nv(n,t,i){var s,u,r,f=0,e=0,o=0;if(s=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(u=s[2].split(","),s[1]){case"hsl":return i(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(us(u[0]),us(u[1]),us(u[2]))}return(r=eu.get(n))?t(r.r,r.g,r.b):(null==n||"#"!==n.charAt(0)||isNaN(r=parseInt(n.slice(1),16))||(4===n.length?(f=(3840&r)>>4,f=f>>4|f,e=240&r,e=e>>4|e,o=15&r,o=o<<4|o):7===n.length&&(f=(16711680&r)>>16,e=(65280&r)>>8,o=255&r)),t(f,e,o))}function tv(n,t,i){var f,s,e=Math.min(n/=255,t/=255,i/=255),r=Math.max(n,t,i),u=r-e,o=(r+e)/2;return u?(s=.5>o?u/(r+e):u/(2-r-e),f=n==r?(t-i)/u+(i>t?6:0):t==r?(i-n)/u+2:(n-t)/u+4,f*=60):(f=NaN,s=o>0&&1>o?0:f),new ft(f,s,o)}function iv(n,t,i){n=rs(n);t=rs(t);i=rs(i);var u=ts((.4124564*n+.3575761*t+.1804375*i)/ob),r=ts((.2126729*n+.7151522*t+.072175*i)/sb),f=ts((.0193339*n+.119192*t+.9503041*i)/hb);return tt(116*r-16,500*(u-r),200*(r-f))}function rs(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function us(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function o(n){return"function"==typeof n?n:function(){return n}}function fs(n){return function(t,i,r){return 2===arguments.length&&"function"==typeof i&&(r=i,i=null),bu(t,i,n,r)}}function bu(t,i,r,u){function c(){var t,n=e.status;if(!n&&gk(e)||n>=200&&300>n||304===n){try{t=r.call(f,e)}catch(i){return void s.error.call(f,i)}s.load.call(f,t)}else s.error.call(f,e)}var f={},s=n.dispatch("beforesend","progress","load","error"),o={},e=new XMLHttpRequest,h=null;return!this.XDomainRequest||"withCredentials"in e||!/^(http(s)?:)?\/\//.test(t)||(e=new XDomainRequest),"onload"in e?e.onload=e.onerror=c:e.onreadystatechange=function(){e.readyState>3&&c()},e.onprogress=function(t){var i=n.event;n.event=t;try{s.progress.call(f,e)}finally{n.event=i}},f.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?o[n]:(null==t?delete o[n]:o[n]=t+"",f)},f.mimeType=function(n){return arguments.length?(i=null==n?null:n+"",f):i},f.responseType=function(n){return arguments.length?(h=n,f):h},f.response=function(n){return r=n,f},["get","post"].forEach(function(n){f[n]=function(){return f.send.apply(f,[n].concat(ot(arguments)))}}),f.send=function(n,r,u){if(2===arguments.length&&"function"==typeof r&&(u=r,r=null),e.open(n,t,!0),null==i||"accept"in o||(o.accept=i+",*/*"),e.setRequestHeader)for(var c in o)e.setRequestHeader(c,o[c]);return null!=i&&e.overrideMimeType&&e.overrideMimeType(i),null!=h&&(e.responseType=h),null!=u&&f.on("error",u).on("load",function(n){u(null,n)}),s.beforesend.call(f,e),e.send(null==r?null:r),f},f.abort=function(){return e.abort(),f},n.rebind(f,s,"on"),null==u?f:f.get(dk(u))}function dk(n){return 1===n.length?function(t,i){n(null==t?i:null)}:n}function gk(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function ku(n,t,i){var u=arguments.length,f,r;return 2>u&&(t=0),3>u&&(i=Date.now()),f=i+t,r={c:n,t:f,n:null},ye?ye.n=r:ve=r,ye=r,pe||(we=clearTimeout(we),pe=1,cc(es)),r}function es(){var t=rv(),n=uv()-t;n>24?(isFinite(n)&&(clearTimeout(we),we=setTimeout(es,n)),pe=0):(pe=1,cc(es))}function rv(){for(var t=Date.now(),n=ve;n;)t>=n.t&&n.c(t-n.t)&&(n.c=null),n=n.n;return t}function uv(){for(var t,n=ve,i=1/0;n;)n.c?(n.t<i&&(i=n.t),n=(t=n).n):n=t?t.n=n.n:ve=n.n;return ye=t,i}function os(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function nd(n,t){var i=Math.pow(10,3*r(8-t));return{scale:t>8?function(n){return n/i}:function(n){return n*i},symbol:n}}function td(t){var e=t.decimal,r=t.thousands,i=t.grouping,u=t.currency,f=i&&r?function(n,t){for(var f=n.length,o=[],s=0,u=i[0],e=0;f>0&&u>0&&(e+u+1>t&&(u=Math.max(1,t-e)),o.push(n.substring(f-=u,f+u)),!((e+=u+1)>t));)u=i[s=(s+1)%i.length];return o.reverse().join(r)}:v;return function(t){var o=lb.exec(t),y=o[1]||" ",s=o[2]||">",b=o[3]||"-",k=o[4]||"",l=o[5],p=+o[6],w=o[7],r=o[8],i=o[9],h=1,a="",c="",d=!1,g=!0,v;switch(r&&(r=+r.substring(1)),(l||"0"===y&&"="===s)&&(l=y="0",s="="),i){case"n":w=!0;i="g";break;case"%":h=100;c="%";i="f";break;case"p":h=100;c="%";i="r";break;case"b":case"o":case"x":case"X":"#"===k&&(a="0"+i.toLowerCase());case"c":g=!1;case"d":d=!0;r=0;break;case"s":h=-1;i="r"}return"$"===k&&(a=u[0],c=u[1]),"r"!=i||r||(i="g"),null!=r&&("g"==i?r=Math.max(1,Math.min(21,r)):"e"!=i&&"f"!=i||(r=Math.max(0,Math.min(20,r)))),i=uut.get(i)||id,v=l&&w,function(t){var ft=c,k,ut,u,nt,it,rt,tt,o;return d&&t%1?"":(k=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===b?"":b,0>h?(ut=n.formatPrefix(t,r),t=ut.scale(t),ft=ut.symbol+c):t*=h,t=i(t,r),it=t.lastIndexOf("."),0>it?(rt=g?t.lastIndexOf("e"):-1,0>rt?(u=t,nt=""):(u=t.substring(0,rt),nt=t.substring(rt))):(u=t.substring(0,it),nt=e+t.substring(it+1)),!l&&w&&(u=f(u,1/0)),tt=a.length+u.length+nt.length+(v?0:k.length),o=p>tt?new Array(tt=p-tt+1).join(y):"",v&&(u=f(o+u,o.length?p-nt.length:1/0)),k+=a,t=u+nt,("<"===s?k+t+o:">"===s?o+k+t:"^"===s?o.substring(0,tt>>=1)+k+t+o.substring(tt):k+(v?t:o+t))+ft)}}}function id(n){return n+""}function yt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function hi(n,t,i){function e(t){var i=n(t),r=f(i,1);return r-t>t-i?i:r}function u(i){return t(i=n(new y(i-1)),1),i}function f(n,i){return t(n=new y(+n),i),n}function o(n,r,f){var e=u(n),o=[];if(f>1)for(;r>e;)i(e)%f||o.push(new Date(+e)),t(e,1);else for(;r>e;)o.push(new Date(+e)),t(e,1);return o}function s(n,t,i){try{y=yt;var r=new yt;return r._=n,o(r,t,i)}finally{y=Date}}n.floor=n;n.round=e;n.ceil=u;n.offset=f;n.range=o;var r=n.utc=du(n);return r.floor=r,r.round=du(e),r.ceil=du(u),r.offset=du(f),r.range=s,n}function du(n){return function(t,i){try{y=yt;var r=new yt;return r._=t,n(r,i)._}finally{y=Date}}}function rd(t){function r(n){function t(t){for(var f,o,h,e=[],r=-1,s=0;++r<i;)37===n.charCodeAt(r)&&(e.push(n.slice(s,r)),null!=(o=ab[f=n.charAt(++r)])&&(f=n.charAt(++r)),(h=u[f])&&(f=h(t,null==o?"e"===f?" ":"0":o)),e.push(f),s=r+1);return e.push(n.slice(s,r)),e.join("")}var i=n.length;return t.parse=function(t){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},e=f(i,n,t,0),u,r;return e!=t.length?null:("p"in i&&(i.H=i.H%12+12*i.p),u=null!=i.Z&&y!==yt,r=new(u?yt:y),"j"in i?r.setFullYear(i.y,0,i.j):"W"in i||"U"in i?("w"in i||(i.w="W"in i?1:0),r.setFullYear(i.y,0,1),r.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(r.getDay()+5)%7:i.w+7*i.U-(r.getDay()+6)%7)):r.setFullYear(i.y,i.m,i.d),r.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),u?r._:r)},t.toString=function(){return n},t}function f(n,t,i,r){for(var f,e,o,u=0,s=t.length,h=i.length;s>u;){if(r>=h)return-1;if(f=t.charCodeAt(u++),37===f){if(o=t.charAt(u++),e=k[o in ab?t.charAt(u++):o],!e||(r=e(n,i,r))<0)return-1}else if(f!=i.charCodeAt(r++))return-1}return r}function d(n,t,i){v.lastIndex=0;var r=v.exec(t.slice(i));return r?(n.w=ct.get(r[0].toLowerCase()),i+r[0].length):-1}function g(n,t,i){a.lastIndex=0;var r=a.exec(t.slice(i));return r?(n.w=ht.get(r[0].toLowerCase()),i+r[0].length):-1}function nt(n,t,i){b.lastIndex=0;var r=b.exec(t.slice(i));return r?(n.m=at.get(r[0].toLowerCase()),i+r[0].length):-1}function tt(n,t,i){p.lastIndex=0;var r=p.exec(t.slice(i));return r?(n.m=lt.get(r[0].toLowerCase()),i+r[0].length):-1}function it(n,t,i){return f(n,u.c.toString(),t,i)}function rt(n,t,i){return f(n,u.x.toString(),t,i)}function ut(n,t,i){return f(n,u.X.toString(),t,i)}function ft(n,t,i){var r=l.get(t.slice(i,i+=2).toLowerCase());return null==r?-1:(n.p=r,i)}var et=t.dateTime,ot=t.date,st=t.time,c=t.periods,e=t.days,o=t.shortDays,s=t.months,h=t.shortMonths,u,k;r.utc=function(n){function t(n){try{y=yt;var t=new y;return t._=n,i(t)}finally{y=Date}}var i=r(n);return t.parse=function(n){try{y=yt;var t=i.parse(n);return t&&t._}finally{y=Date}},t.toString=i.toString,t};r.multi=r.utc.multi=kd;var l=n.map(),a=gu(e),ht=nf(e),v=gu(o),ct=nf(o),p=gu(s),lt=nf(s),b=gu(h),at=nf(h);return c.forEach(function(n,t){l.set(n.toLowerCase(),t)}),u={a:function(n){return o[n.getDay()]},A:function(n){return e[n.getDay()]},b:function(n){return h[n.getMonth()]},B:function(n){return s[n.getMonth()]},c:r(et),d:function(n,t){return w(n.getDate(),t,2)},e:function(n,t){return w(n.getDate(),t,2)},H:function(n,t){return w(n.getHours(),t,2)},I:function(n,t){return w(n.getHours()%12||12,t,2)},j:function(n,t){return w(1+i.dayOfYear(n),t,3)},L:function(n,t){return w(n.getMilliseconds(),t,3)},m:function(n,t){return w(n.getMonth()+1,t,2)},M:function(n,t){return w(n.getMinutes(),t,2)},p:function(n){return c[+(n.getHours()>=12)]},S:function(n,t){return w(n.getSeconds(),t,2)},U:function(n,t){return w(i.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return w(i.mondayOfYear(n),t,2)},x:r(ot),X:r(st),y:function(n,t){return w(n.getFullYear()%100,t,2)},Y:function(n,t){return w(n.getFullYear()%1e4,t,4)},Z:wd,"%":function(){return"%"}},k={a:d,A:g,b:nt,B:tt,c:it,d:fv,e:fv,H:ev,I:ev,j:ad,L:pd,m:ld,M:vd,p:ft,S:yd,U:fd,w:ud,W:ed,x:rt,X:ut,y:sd,Y:od,Z:hd,"%":bd},r}function w(n,t,i){var u=0>n?"-":"",r=(u?-n:n)+"",f=r.length;return u+(i>f?new Array(i-f+1).join(t)+r:r)}function gu(t){return new RegExp("^(?:"+t.map(n.requote).join("|")+")","i")}function nf(n){for(var i=new at,t=-1,r=n.length;++t<r;)i.set(n[t].toLowerCase(),t);return i}function ud(n,t,i){c.lastIndex=0;var r=c.exec(t.slice(i,i+1));return r?(n.w=+r[0],i+r[0].length):-1}function fd(n,t,i){c.lastIndex=0;var r=c.exec(t.slice(i));return r?(n.U=+r[0],i+r[0].length):-1}function ed(n,t,i){c.lastIndex=0;var r=c.exec(t.slice(i));return r?(n.W=+r[0],i+r[0].length):-1}function od(n,t,i){c.lastIndex=0;var r=c.exec(t.slice(i,i+4));return r?(n.y=+r[0],i+r[0].length):-1}function sd(n,t,i){c.lastIndex=0;var r=c.exec(t.slice(i,i+2));return r?(n.y=cd(+r[0]),i+r[0].length):-1}function hd(n,t,i){return/^[+-]\d{4}$/.test(t=t.slice(i,i+5))?(n.Z=-t,i+5):-1}function cd(n){return n+(n>68?1900:2e3)}function ld(n,t,i){c.lastIndex=0;var r=c.exec(t.slice(i,i+2));return r?(n.m=r[0]-1,i+r[0].length):-1}function fv(n,t,i){c.lastIndex=0;var r=c.exec(t.slice(i,i+2));return r?(n.d=+r[0],i+r[0].length):-1}function ad(n,t,i){c.lastIndex=0;var r=c.exec(t.slice(i,i+3));return r?(n.j=+r[0],i+r[0].length):-1}function ev(n,t,i){c.lastIndex=0;var r=c.exec(t.slice(i,i+2));return r?(n.H=+r[0],i+r[0].length):-1}function vd(n,t,i){c.lastIndex=0;var r=c.exec(t.slice(i,i+2));return r?(n.M=+r[0],i+r[0].length):-1}function yd(n,t,i){c.lastIndex=0;var r=c.exec(t.slice(i,i+2));return r?(n.S=+r[0],i+r[0].length):-1}function pd(n,t,i){c.lastIndex=0;var r=c.exec(t.slice(i,i+3));return r?(n.L=+r[0],i+r[0].length):-1}function wd(n){var t=n.getTimezoneOffset(),i=t>0?"-":"+",u=r(t)/60|0,f=r(t)%60;return i+w(u,"0",2)+w(f,"0",2)}function bd(n,t,i){vb.lastIndex=0;var r=vb.exec(t.slice(i,i+1));return r?i+r[0].length:-1}function kd(n){for(var i=n.length,t=-1;++t<i;)n[t][0]=this(n[t][0]);return function(t){for(var r=0,i=n[r];!i[1](t);)i=n[++r];return i[0](t)}}function ss(){}function ov(n,t,i){var r=i.s=n+t,u=r-n,f=r-u;i.t=n-f+(t-u)}function tf(n,t){n&&vc.hasOwnProperty(n.type)&&vc[n.type](n,t)}function hs(n,t,i){var r,u=-1,f=n.length-i;for(t.lineStart();++u<f;)r=n[u],t.point(r[0],r[1],r[2]);t.lineEnd()}function sv(n,t){var i=-1,r=n.length;for(t.polygonStart();++i<r;)hs(n[i],t,1);t.polygonEnd()}function dd(){function r(r,e){r*=u;e=e*u/2+f/4;var o=r-n,s=o>=0?1:-1,h=s*o,c=Math.cos(e),l=Math.sin(e),a=i*l,v=t*c+a*Math.cos(h),y=a*s*Math.sin(h);ti.add(Math.atan2(y,v));n=r;t=c;i=l}var e,o,n,t,i;k.point=function(s,h){k.point=r;n=(e=s)*u;t=Math.cos(h=(o=h)*u/2+f/4);i=Math.sin(h)};k.lineEnd=function(){r(e,o)}}function ci(n){var t=n[0],i=n[1],r=Math.cos(i);return[r*Math.cos(t),r*Math.sin(t),Math.sin(i)]}function rf(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function tr(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function cs(n,t){n[0]+=t[0];n[1]+=t[1];n[2]+=t[2]}function uf(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function ff(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t;n[1]/=t;n[2]/=t}function ef(n){return[Math.atan2(n[1],n[0]),gt(n[2])]}function of(n,i){return r(n[0]-i[0])<t&&r(n[1]-i[1])<t}function ls(n,t){n*=u;var i=Math.cos(t*=u);vr(i*Math.cos(n),i*Math.sin(n),Math.sin(t))}function vr(n,t,i){++su;pi+=(n-pi)/su;wi+=(t-wi)/su;wt+=(i-wt)/su}function hv(){function r(r,f){r*=u;var c=Math.cos(f*=u),o=c*Math.cos(r),s=c*Math.sin(r),h=Math.sin(f),e=Math.atan2(Math.sqrt((e=t*h-i*s)*e+(e=i*o-n*h)*e+(e=n*s-t*o)*e),n*o+t*s+i*h);ke+=e;ii+=e*(n+(n=o));ri+=e*(t+(t=s));ct+=e*(i+(i=h));vr(n,t,i)}var n,t,i;rt.point=function(f,e){f*=u;var o=Math.cos(e*=u);n=o*Math.cos(f);t=o*Math.sin(f);i=Math.sin(e);rt.point=r;vr(n,t,i)}}function cv(){rt.point=ls}function gd(){function r(r,f){r*=u;var p=Math.cos(f*=u),e=p*Math.cos(r),o=p*Math.sin(r),s=Math.sin(f),c=t*s-i*o,l=i*e-n*s,a=n*o-t*e,v=Math.sqrt(c*c+l*l+a*a),w=n*e+t*o+i*s,y=v&&-pa(w)/v,h=Math.atan2(v,w);sr+=y*c;hr+=y*l;ui+=y*a;ke+=h;ii+=h*(n+(n=e));ri+=h*(t+(t=o));ct+=h*(i+(i=s));vr(n,t,i)}var f,e,n,t,i;rt.point=function(o,s){f=o;e=s;rt.point=r;o*=u;var h=Math.cos(s*=u);n=h*Math.cos(o);t=h*Math.sin(o);i=Math.sin(s);vr(n,t,i)};rt.lineEnd=function(){r(f,e);rt.lineEnd=cv;rt.point=ls}}function lv(n,t){function i(i,r){return i=n(i,r),t(i[0],i[1])}return n.invert&&t.invert&&(i.invert=function(i,r){return i=t.invert(i,r),i&&n.invert(i[0],i[1])}),i}function yr(){return!0}function av(n,t,i,r,u){var h=[],s=[],o,l,v,f,c,a,e;if(n.forEach(function(n){var o,i,f,e,t,r;if(!((o=n.length-1)<=0)){if(i=n[0],f=n[o],of(i,f)){for(u.lineStart(),e=0;o>e;++e)u.point((i=n[e])[0],i[1]);return void u.lineEnd()}t=new sf(i,n,null,!0);r=new sf(i,null,t,!1);t.o=r;h.push(t);s.push(r);t=new sf(f,n,null,!1);r=new sf(f,null,t,!0);t.o=r;h.push(t);s.push(r)}}),s.sort(t),vv(h),vv(s),h.length){for(var e=0,y=i,a=s.length;a>e;++e)s[e].e=y=!y;for(v=h[0];;){for(f=v,c=!0;f.v;)if((f=f.n)===v)return;o=f.z;u.lineStart();do{if(f.v=f.o.v=!0,f.e){if(c)for(e=0,a=o.length;a>e;++e)u.point((l=o[e])[0],l[1]);else r(f.x,f.n.x,1,u);f=f.n}else{if(c)for(o=f.p.z,e=o.length-1;e>=0;--e)u.point((l=o[e])[0],l[1]);else r(f.x,f.p.x,-1,u);f=f.p}f=f.o;o=f.z;c=!c}while(!f.v);u.lineEnd()}}}function vv(n){if(r=n.length){for(var r,t,u=0,i=n[0];++u<r;)i.n=t=n[u],t.p=i,i=t;i.n=t=n[0];t.p=i}}function sf(n,t,i,r){this.x=n;this.z=t;this.o=i;this.e=r;this.v=!1;this.n=this.p=null}function yv(t,i,r,u){return function(f,e){function v(n,i){var r=f(n,i);t(n=r[0],i=r[1])&&e.point(n,i)}function d(n,t){var i=f(n,t);y.point(i[0],i[1])}function p(){o.point=d;y.lineStart()}function w(){o.point=v;y.lineEnd()}function b(n,t){c.push([n,t]);var i=f(n,t);a.point(i[0],i[1])}function g(){a.lineStart();c=[]}function nt(){var f,t,r;b(c[0][0],c[0][1]);a.lineEnd();var i,u=a.clean(),n=k.buffer(),t=n.length;if(c.pop(),l.push(c),c=null,t)if(1&u){if(i=n[0],t=i.length-1,r=-1,t>0){for(s||(e.polygonStart(),s=!0),e.lineStart();++r<t;)e.point((f=i[r])[0],f[1]);e.lineEnd()}}else t>1&&2&u&&n.push(n.pop().concat(n.shift())),h.push(n.filter(ng))}var h,l,c,y=i(e),tt=f.invert(u[0],u[1]),o={point:v,lineStart:p,lineEnd:w,polygonStart:function(){o.point=b;o.lineStart=g;o.lineEnd=nt;h=[];l=[]},polygonEnd:function(){o.point=v;o.lineStart=p;o.lineEnd=w;h=n.merge(h);var t=fg(tt,l);h.length?(s||(e.polygonStart(),s=!0),av(h,tg,t,r,e)):t&&(s||(e.polygonStart(),s=!0),e.lineStart(),r(null,null,1,e),e.lineEnd());s&&(e.polygonEnd(),s=!1);h=l=null},sphere:function(){e.polygonStart();e.lineStart();r(null,null,1,e);e.lineEnd();e.polygonEnd()}},k=pv(),a=i(k),s=!1;return o}}function ng(n){return n.length>1}function pv(){var t,n=[];return{lineStart:function(){n.push(t=[])},point:function(n,i){t.push([n,i])},lineEnd:l,buffer:function(){var i=n;return n=[],t=null,i},rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))}}}function tg(n,i){return((n=n.x)[0]<0?n[1]-h-t:h-n[1])-((i=i.x)[0]<0?i[1]-h-t:h-i[1])}function ig(n){var o,u=NaN,i=NaN,e=NaN;return{lineStart:function(){n.lineStart();o=1},point:function(s,c){var l=s>0?f:-f,a=r(s-u);r(a-f)<t?(n.point(u,i=(i+c)/2>0?h:-h),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(l,i),n.point(s,i),o=0):e!==l&&a>=f&&(r(u-e)<t&&(u-=e*t),r(s-l)<t&&(s-=l*t),i=rg(u,i,s,c),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(l,i),o=0);n.point(u=s,i=c);e=l},lineEnd:function(){n.lineEnd();u=i=NaN},clean:function(){return 2-o}}}function rg(n,i,u,f){var e,o,s=Math.sin(n-u);return r(s)>t?Math.atan((Math.sin(i)*(o=Math.cos(f))*Math.sin(u)-Math.sin(f)*(e=Math.cos(i))*Math.sin(n))/(e*o*s)):(i+f)/2}function ug(n,i,u,e){var o,s;null==n?(o=u*h,e.point(-f,o),e.point(0,o),e.point(f,o),e.point(f,0),e.point(f,-o),e.point(0,-o),e.point(-f,-o),e.point(-f,0),e.point(-f,o)):r(n[0]-i[0])>t?(s=n[0]<i[0]?f:-f,o=u*s/2,e.point(-s,o),e.point(0,o),e.point(s,o)):e.point(i[0],i[1])}function fg(n,i){var e=n[0],nt=n[1],ct=[Math.sin(e),-Math.cos(e),0],a=0,tt=0,o,it,s,v,u,k,g;for(ti.reset(),o=0,it=i.length;it>o;++o)if(s=i[o],v=s.length,v)for(var h=s[0],y=h[0],rt=h[1]/2+f/4,ut=Math.sin(rt),ft=Math.cos(rt),c=1;;){c===v&&(c=0);n=s[c];var p=n[0],et=n[1]/2+f/4,ot=Math.sin(et),st=Math.cos(et),r=p-y,w=r>=0?1:-1,b=w*r,l=b>f,ht=ut*ot;if((ti.add(Math.atan2(ht*w*Math.sin(b),ft*st+ht*Math.cos(b))),a+=l?r+w*d:r,l^y>=e^p>=e)&&(u=tr(ci(h),ci(n)),ff(u),k=tr(ct,u),ff(k),g=(l^r>=0?-1:1)*gt(k[2]),(nt>g||nt===g&&(u[0]||u[1]))&&(tt+=l^r>=0?1:-1)),!c++)break;y=p;ut=ot;ft=st;h=n}return(-t>a||t>a&&-t>ti)^1&tt}function eg(n){function s(n,t){return Math.cos(n)*Math.cos(t)>i}function c(n){var i,a,r,c,u;return{lineStart:function(){c=r=!1;u=1},point:function(v,y){var w,p=[v,y],b=s(v,y),d=e?b?0:h(v,y):b?h(v+(0>v?f:-f),y):0,k;(!i&&(c=r=b)&&n.lineStart(),b!==r&&(w=o(i,p),(of(i,w)||of(p,w))&&(p[0]+=t,p[1]+=t,b=s(p[0],p[1]))),b!==r)?(u=0,b?(n.lineStart(),w=o(p,i),n.point(w[0],w[1])):(w=o(i,p),n.point(w[0],w[1]),n.lineEnd()),i=w):l&&i&&e^b&&(d&a||!(k=o(p,i,!0))||(u=0,e?(n.lineStart(),n.point(k[0][0],k[0][1]),n.point(k[1][0],k[1][1]),n.lineEnd()):(n.point(k[1][0],k[1][1]),n.lineEnd(),n.lineStart(),n.point(k[0][0],k[0][1]))));!b||i&&of(i,p)||n.point(p[0],p[1]);i=p;r=b;a=d},lineEnd:function(){r&&n.lineEnd();i=null},clean:function(){return u|(c&&r)<<1}}}function o(n,u,e){var et=ci(n),ot=ci(u),rt=[1,0,0],a=tr(et,ot),ut=rf(a,a),b=a[0],k=ut-b*b,g,o,it;if(!k)return!e&&n;var st=i*ut/k,ht=-i*b/k,ct=tr(rt,a),s=uf(rt,st),lt=uf(a,ht);cs(s,lt);var v=ct,p=rf(s,v),d=rf(v,v),ft=p*p-d*(rf(s,s)-1);if(!(0>ft)){if(g=Math.sqrt(ft),o=uf(v,(-p-g)/d),cs(o,s),o=ef(o),!e)return o;var w,h=n[0],y=u[0],c=n[1],l=u[1];h>y&&(w=h,h=y,y=w);var nt=y-h,tt=r(nt-f)<t,at=tt||t>nt;if(!tt&&c>l&&(w=c,c=l,l=w),at?tt?c+l>0^o[1]<(r(o[0]-h)<t?c:l):c<=o[1]&&o[1]<=l:nt>f^(h<=o[0]&&o[0]<=y))return it=uf(v,(-p+g)/d),cs(it,s),[o,ef(it)]}}function h(t,i){var u=e?n:f-n,r=0;return-u>t?r|=1:t>u&&(r|=2),-u>i?r|=4:i>u&&(r|=8),r}var i=Math.cos(n),e=i>0,l=r(i)>t,a=ps(n,6*u);return yv(s,c,a,e?[0,-n]:[-f,n-f])}function wv(n,t,i,r){return function(u){var f,a=u.a,v=u.b,c=a.x,l=a.y,y=v.x,p=v.y,e=0,o=1,s=y-c,h=p-l;if(f=n-c,s||!(f>0)){if(f/=s,0>s){if(e>f)return;o>f&&(o=f)}else if(s>0){if(f>o)return;f>e&&(e=f)}if(f=i-c,s||!(0>f)){if(f/=s,0>s){if(f>o)return;f>e&&(e=f)}else if(s>0){if(e>f)return;o>f&&(o=f)}if(f=t-l,h||!(f>0)){if(f/=h,0>h){if(e>f)return;o>f&&(o=f)}else if(h>0){if(f>o)return;f>e&&(e=f)}if(f=r-l,h||!(0>f)){if(f/=h,0>h){if(f>o)return;f>e&&(e=f)}else if(h>0){if(e>f)return;o>f&&(o=f)}return e>0&&(u.a={x:c+e*s,y:l+e*h}),1>o&&(u.b={x:c+o*s,y:l+o*h}),u}}}}}}function bv(i,u,f,e){function o(n,e){return r(n[0]-i)<t?e>0?0:3:r(n[0]-f)<t?e>0?2:1:r(n[1]-u)<t?e>0?1:0:e>0?3:2}function h(n,t){return s(n.x,t.x)}function s(n,t){var i=o(n,1),r=o(t,1);return i!==r?i-r:0===i?t[1]-n[1]:1===i?n[0]-t[0]:2===i?n[1]-t[1]:t[0]-n[0]}return function(t){function ft(n){for(var r=0,s=c.length,u=n[1],f=0;s>f;++f)for(var t,e=1,o=c[f],h=o.length,i=o[0];h>e;++e)t=o[e],i[1]<=u?t[1]>u&&bo(i,t,n)>0&&++r:t[1]<=u&&bo(i,t,n)<0&&--r,i=t;return 0!==r}function d(n,t,r,h){var c=0,l=0;if(null==n||(c=o(n,r))!==(l=o(t,r))||s(n,t)<0^r>0){do h.point(0===c||3===c?i:f,c>1?e:u);while((c=(c+r+4)%4)!==l)}else h.point(t[0],t[1])}function g(n,t){return n>=i&&f>=n&&t>=u&&e>=t}function nt(n,i){g(n,i)&&t.point(n,i)}function et(){k.point=tt;c&&c.push(v=[]);w=!0;l=!1;y=p=NaN}function ot(){r&&(tt(it,rt),ut&&l&&b.rejoin(),r.push(b.buffer()));k.point=nt;l&&t.lineEnd()}function tt(n,i){var r,u;n=Math.max(-de,Math.min(de,n));i=Math.max(-de,Math.min(de,i));r=g(n,i);(c&&v.push([n,i]),w)?(it=n,rt=i,ut=r,w=!1,r&&(t.lineStart(),t.point(n,i))):r&&l?t.point(n,i):(u={a:{x:y,y:p},b:{x:n,y:i}},ht(u)?(l||(t.lineStart(),t.point(u.a.x,u.a.y)),t.point(u.b.x,u.b.y),r||t.lineEnd(),a=!1):r&&(t.lineStart(),t.point(n,i),a=!1));y=n;p=i;l=r}var r,c,v,it,rt,ut,y,p,l,w,a,st=t,b=pv(),ht=wv(i,u,f,e),k={point:nt,lineStart:et,lineEnd:ot,polygonStart:function(){t=b;r=[];c=[];a=!0},polygonEnd:function(){t=st;r=n.merge(r);var u=ft([i,e]),f=a&&u,o=r.length;(f||o)&&(t.polygonStart(),f&&(t.lineStart(),d(null,null,1,t),t.lineEnd()),o&&av(r,h,u,d,t),t.polygonEnd());r=c=v=null}};return k}}function as(n){var t=0,i=f/3,r=vs(n),u=r(t,i);return u.parallels=function(n){return arguments.length?r(t=n[0]*f/180,i=n[1]*f/180):[t/f*180,i/f*180]},u}function kv(n,t){function f(n,t){var r=Math.sqrt(u-2*i*Math.sin(t))/i;return[r*Math.sin(n*=i),e-r*Math.cos(n)]}var r=Math.sin(n),i=(r+Math.sin(t))/2,u=1+r*(2*i-r),e=Math.sqrt(u)/i;return f.invert=function(n,t){var r=e-t;return[Math.atan2(n,r)/i,gt((u-(n*n+r*r)*i*i)/(2*i))]},f}function og(){function i(i,r){pc+=t*i-n*r;n=i;t=r}var r,u,n,t;fi.point=function(f,e){fi.point=i;r=n=f;u=t=e};fi.lineEnd=function(){i(r,u)}}function sg(n,t){ge>n&&(ge=n);n>to&&(to=n);no>t&&(no=t);t>io&&(io=t)}function hg(){function i(n,i){t.push("M",n,",",i,u)}function f(i,r){t.push("M",i,",",r);n.point=e}function e(n,i){t.push("L",n,",",i)}function r(){n.point=i}function o(){t.push("Z")}var u=dv(4.5),t=[],n={point:i,lineStart:function(){n.point=f},lineEnd:r,polygonStart:function(){n.lineEnd=o},polygonEnd:function(){n.lineEnd=r;n.point=i},pointRadius:function(t){return u=dv(t),n},result:function(){if(t.length){var n=t.join("");return t=[],n}}};return n}function dv(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function li(n,t){pi+=n;wi+=t;++wt}function gv(){function i(i,r){var f=i-n,e=r-t,u=Math.sqrt(f*f+e*e);ii+=u*(n+i)/2;ri+=u*(t+r)/2;ct+=u;li(n=i,t=r)}var n,t;ut.point=function(r,u){ut.point=i;li(n=r,t=u)}}function ny(){ut.point=li}function cg(){function i(i,r){var f=i-n,e=r-t,u=Math.sqrt(f*f+e*e);ii+=u*(n+i)/2;ri+=u*(t+r)/2;ct+=u;u=t*i-n*r;sr+=u*(n+i);hr+=u*(t+r);ui+=3*u;li(n=i,t=r)}var r,u,n,t;ut.point=function(f,e){ut.point=i;li(r=n=f,u=t=e)};ut.lineEnd=function(){i(r,u)}}function lg(n){function i(t,i){n.moveTo(t+r,i);n.arc(t,i,r,0,d)}function f(i,r){n.moveTo(i,r);t.point=e}function e(t,i){n.lineTo(t,i)}function u(){t.point=i}function o(){n.closePath()}var r=4.5,t={point:i,lineStart:function(){t.point=f},lineEnd:u,polygonStart:function(){t.lineEnd=o},polygonEnd:function(){t.lineEnd=u;t.point=i},pointRadius:function(n){return r=n,t},result:l};return t}function ty(n){function o(n){return(e?h:s)(n)}function s(t){return ry(t,function(i,r){i=n(i,r);t.point(i[0],i[1])})}function h(t){function y(i,r){i=n(i,r);t.point(i[0],i[1])}function c(){u=NaN;r.point=l;t.lineStart()}function l(r,c){var l=ci([r,c]),a=n(r,c);i(u,f,v,o,s,h,u=a[0],f=a[1],v=r,o=l[0],s=l[1],h=l[2],e,t);t.point(u,f)}function a(){r.point=y;t.lineEnd()}function nt(){c();r.point=tt;r.lineEnd=it}function tt(n,t){l(p=n,rt=t);w=u;b=f;k=o;d=s;g=h;r.point=l}function it(){i(u,f,v,o,s,h,w,b,p,k,d,g,e,t);r.lineEnd=a;a()}var p,rt,w,b,k,d,g,v,u,f,o,s,h,r={point:y,lineStart:c,lineEnd:a,polygonStart:function(){t.polygonStart();r.lineStart=nt},polygonEnd:function(){t.polygonEnd();r.lineStart=c}};return r}function i(u,e,o,s,h,l,a,v,y,p,w,b,k,d){var it=a-u,rt=v-e,et=it*it+rt*rt;if(et>4*f&&k--){var nt=s+p,tt=h+w,g=l+b,ot=Math.sqrt(nt*nt+tt*tt+g*g),vt=Math.asin(g/=ot),st=r(r(g)-1)<t||r(o-y)<t?(o+y)/2:Math.atan2(tt,nt),ht=n(st,vt),ut=ht[0],ft=ht[1],ct=ut-u,lt=ft-e,at=rt*ct-it*lt;(at*at/et>f||r((it*ct+rt*lt)/et-.5)>.3||c>s*p+h*w+l*b)&&(i(u,e,o,s,h,l,ut,ft,st,nt/=ot,tt/=ot,g,k,d),d.point(ut,ft),i(ut,ft,st,nt,tt,g,a,v,y,p,w,b,k,d))}}var f=.5,c=Math.cos(30*u),e=16;return o.precision=function(n){return arguments.length?(e=(f=n*n)>0&&16,o):Math.sqrt(f)},o}function ag(n){var t=ty(function(t,i){return n([t*s,i*s])});return function(n){return uy(t(n))}}function iy(n){this.stream=n}function ry(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function ni(n){return vs(function(){return n})()}function vs(t){function i(n){return n=a(n[0]*u,n[1]*u),[n[0]*r+h,c-n[1]*r]}function et(n){return n=a.invert((n[0]-h)/r,(c-n[1])/r),n&&[n[0]*s,n[1]*s]}function e(){a=lv(tt=ys(k,d,g),o);var n=o(w,b);return h=y-n[0]*r,c=p+n[1]*r,l()}function l(){return f&&(f.valid=!1,f=null),i}var o,tt,a,h,c,f,it=ty(function(n,t){return n=o(n,t),[n[0]*r+h,c-n[1]*r]}),r=150,y=480,p=250,w=0,b=0,k=0,d=0,g=0,rt=yb,ut=v,nt=null,ft=null;return i.stream=function(n){return f&&(f.valid=!1),f=uy(rt(tt,it(ut(n)))),f.valid=!0,f},i.clipAngle=function(n){return arguments.length?(rt=null==n?(nt=n,yb):eg((nt=+n)*u),l()):nt},i.clipExtent=function(n){return arguments.length?(ft=n,ut=n?bv(n[0][0],n[0][1],n[1][0],n[1][1]):v,l()):ft},i.scale=function(n){return arguments.length?(r=+n,e()):r},i.translate=function(n){return arguments.length?(y=+n[0],p=+n[1],e()):[y,p]},i.center=function(n){return arguments.length?(w=n[0]%360*u,b=n[1]%360*u,e()):[w*s,b*s]},i.rotate=function(n){return arguments.length?(k=n[0]%360*u,d=n[1]%360*u,g=n.length>2?n[2]%360*u:0,e()):[k*s,d*s,g*s]},n.rebind(i,it,"precision"),function(){return o=t.apply(this,arguments),i.invert=o.invert&&et,e()}}function uy(n){return ry(n,function(t,i){n.point(t*u,i*u)})}function pr(n,t){return[n,t]}function fy(n,t){return[n>f?n-d:-f>n?n+d:n,t]}function ys(n,t,i){return n?t||i?lv(oy(n),sy(t,i)):oy(n):t||i?sy(t,i):fy}function ey(n){return function(t,i){return t+=n,[t>f?t-d:-f>t?t+d:t,i]}}function oy(n){var t=ey(n);return t.invert=ey(-n),t}function sy(n,t){function e(n,t){var e=Math.cos(t),o=Math.cos(n)*e,s=Math.sin(n)*e,h=Math.sin(t),c=h*i+o*r;return[Math.atan2(s*u-c*f,o*i-h*r),gt(c*u+s*f)]}var i=Math.cos(n),r=Math.sin(n),u=Math.cos(t),f=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),o=Math.cos(n)*e,s=Math.sin(n)*e,h=Math.sin(t),c=h*u-s*f;return[Math.atan2(s*u+h*f,o*i+c*r),gt(c*i-o*r)]},e}function ps(n,t){var i=Math.cos(n),r=Math.sin(n);return function(u,f,e,o){var h=e*t,c,s;for(null!=u?(u=hy(i,u),f=hy(i,f),(e>0?f>u:u>f)&&(u+=e*d)):(u=n+e*d,f=n-.5*h),s=u;e>0?s>f:f>s;s-=h)o.point((c=ef([i,-r*Math.cos(s),-r*Math.sin(s)]))[0],c[1])}}function hy(n,i){var r=ci(i),u;return r[0]-=n,ff(r),u=pa(-r[1]),((-r[2]<0?-u:u)+2*Math.PI-t)%(2*Math.PI)}function cy(i,r,u){var f=n.range(i,r-t,u).concat(r);return function(n){return f.map(function(t){return[n,t]})}}function ly(i,r,u){var f=n.range(i,r-t,u).concat(r);return function(n){return f.map(function(t){return[t,n]})}}function ws(n){return n.source}function bs(n){return n.target}function vg(n,t,i,r){var f=Math.cos(t),c=Math.sin(t),e=Math.cos(r),l=Math.sin(r),a=f*Math.cos(n),v=f*Math.sin(n),y=e*Math.cos(i),p=e*Math.sin(i),u=2*Math.asin(Math.sqrt(ba(r-t)+f*e*ba(i-n))),o=1/Math.sin(u),h=u?function(n){var t=Math.sin(n*=u)*o,i=Math.sin(u-n)*o,r=i*a+t*y,f=i*v+t*p,e=i*c+t*l;return[Math.atan2(f,r)*s,Math.atan2(e,Math.sqrt(r*r+f*f))*s]}:function(){return[n*s,t*s]};return h.distance=u,h}function yg(){function f(f,e){var h=Math.sin(e*=u),s=Math.cos(e),o=r((f*=u)-i),c=Math.cos(o);wc+=Math.atan2(Math.sqrt((o=s*Math.sin(o))*o+(o=t*h-n*s*c)*o),n*h+t*s*c);i=f;n=h;t=s}var i,n,t;bi.point=function(r,e){i=r*u;n=Math.sin(e*=u);t=Math.cos(e);bi.point=f};bi.lineEnd=function(){bi.point=bi.lineEnd=l}}function wr(n,t){function i(t,i){var f=Math.cos(t),r=Math.cos(i),u=n(f*r);return[u*r*Math.sin(t),u*Math.sin(i)]}return i.invert=function(n,i){var r=Math.sqrt(n*n+i*i),u=t(r),f=Math.sin(u),e=Math.cos(u);return[Math.atan2(n*f,r*e),Math.asin(r&&i*f/r)]},i}function ay(n,i){function o(n,i){u>0?-h+t>i&&(i=-h+t):i>h-t&&(i=h-t);var f=u/Math.pow(e(i),r);return[f*Math.sin(r*n),u-f*Math.cos(r*n)]}var s=Math.cos(n),e=function(n){return Math.tan(f/4+n/2)},r=n===i?Math.sin(n):Math.log(s/Math.cos(i))/Math.log(e(i)/e(n)),u=s*Math.pow(e(n),r)/r;return r?(o.invert=function(n,t){var i=u-t,f=ya(r)*Math.sqrt(n*n+i*i);return[Math.atan2(n,i)/r,2*Math.atan(Math.pow(u/f,1/r))-h]},o):hf}function vy(n,i){function e(n,t){var i=f-t;return[i*Math.sin(u*n),f-i*Math.cos(u*n)]}var o=Math.cos(n),u=n===i?Math.sin(n):(o-Math.cos(i))/(i-n),f=o/u+n;return r(u)<t?pr:(e.invert=function(n,t){var i=f-t;return[Math.atan2(n,i)/u,f-ya(u)*Math.sqrt(n*n+i*i)]},e)}function hf(n,t){return[n,Math.log(Math.tan(f/4+t/2))]}function yy(n){var i,t=ni(n),r=t.scale,u=t.translate,e=t.clipExtent;return t.scale=function(){var n=r.apply(t,arguments);return n===t?i?t.clipExtent(null):t:n},t.translate=function(){var n=u.apply(t,arguments);return n===t?i?t.clipExtent(null):t:n},t.clipExtent=function(n){var h=e.apply(t,arguments),o,s;return h===t?(i=null==n)&&(o=f*r(),s=u(),e([[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]])):i&&(h=null),h},t.clipExtent(null)}function ks(n,t){return[Math.log(Math.tan(f/4+t/2)),-n]}function ir(n){return n[0]}function br(n){return n[1]}function py(n){for(var u=n.length,i=[0,1],t=2,r=2;u>r;r++){for(;t>1&&bo(n[i[t-2]],n[i[t-1]],n[r])<=0;)--t;i[t++]=r}return i.slice(0,t)}function pg(n,t){return n[0]-t[0]||n[1]-t[1]}function ds(n,t,i){return(i[0]-t[0])*(n[1]-t[1])<(i[1]-t[1])*(n[0]-t[0])}function gs(n,t,i,r){var u=n[0],e=i[0],o=t[0]-u,s=r[0]-e,f=n[1],h=i[1],c=t[1]-f,l=r[1]-h,a=(s*(f-h)-l*(u-e))/(l*o-s*c);return[u+a*o,f+a*c]}function wy(n){var t=n[0],i=n[n.length-1];return!(t[0]-i[0]||t[1]-i[1])}function wg(){af(this);this.edge=this.site=this.circle=null}function by(n){var t=il.pop()||new wg;return t.site=n,t}function nh(n){ur(n);lr.remove(n);il.push(n);af(n)}function bg(n){var a=n.circle,o=a.x,s=a.cy,v={x:o,y:s},h=n.P,c=n.N,f=[n],u,i,e,l;for(nh(n),u=h;u.circle&&r(o-u.circle.x)<t&&r(s-u.circle.cy)<t;)h=u.P,f.unshift(u),nh(u),u=h;for(f.unshift(u),ur(u),i=c;i.circle&&r(o-i.circle.x)<t&&r(s-i.circle.cy)<t;)c=i.N,f.push(i),nh(i),i=c;for(f.push(i),ur(i),l=f.length,e=1;l>e;++e)i=f[e],u=f[e-1],cf(i.edge,u.site,i.site,v);u=f[0];i=f[l-1];i.edge=kr(u.site,i.site,null,v);rr(u);rr(i)}function kg(n){for(var f,i,r,a,v,b=n.x,k=n.y,u=lr._;u;)if(a=ky(u,k)-b,a>t)u=u.L;else{if(v=b-dg(u,k),!(v>t)){a>-t?(i=u.P,r=u):v>-t?(i=u,r=u.N):i=r=u;break}if(!u.R){i=u;break}u=u.R}if(f=by(n),lr.insert(i,f),i||r){if(i===r)return ur(i),r=by(i.site),lr.insert(f,r),f.edge=r.edge=kr(i.site,f.site),rr(i),void rr(r);if(!r)return void(f.edge=kr(i.site,f.site));ur(i);ur(r);var e=i.site,y=e.x,p=e.y,o=n.x-y,s=n.y-p,h=r.site,c=h.x-y,l=h.y-p,d=2*(o*l-s*c),g=o*o+s*s,nt=c*c+l*l,w={x:(l*g-s*nt)/d+y,y:(o*nt-c*g)/d+p};cf(r.edge,e,h,w);f.edge=kr(e,n,null,w);r.edge=kr(n,h,null,w);rr(i);rr(r)}}function ky(n,t){var i=n.site,u=i.x,l=i.y,f=l-t,e;if(!f)return u;if(e=n.P,!e)return-(1/0);i=e.site;var o=i.x,a=i.y,r=a-t;if(!r)return o;var s=o-u,h=1/f-1/r,c=s/r;return h?(-c+Math.sqrt(c*c-2*h*(s*s/(-2*r)-a+r/2+l-f/2)))/h+u:(u+o)/2}function dg(n,t){var r=n.N,i;return r?ky(r,t):(i=n.site,i.y===t?i.x:1/0)}function dy(n){this.site=n;this.edges=[]}function gg(n){for(var i,u,f,e,o,s,h,y,w,p,c=n[0][0],l=n[1][0],a=n[0][1],v=n[1][1],b=ki,k=b.length;k--;)if(o=b[k],o&&o.prepare())for(h=o.edges,y=h.length,s=0;y>s;)p=h[s].end(),f=p.x,e=p.y,w=h[++s%y].start(),i=w.x,u=w.y,(r(f-i)>t||r(e-u)>t)&&(h.splice(s,0,new lf(un(o.site,p,r(f-c)<t&&v-e>t?{x:c,y:r(i-c)<t?u:v}:r(e-v)<t&&l-f>t?{x:r(u-v)<t?i:l,y:v}:r(f-l)<t&&e-a>t?{x:l,y:r(i-l)<t?u:a}:r(e-a)<t&&f-c>t?{x:r(u-a)<t?i:c,y:a}:null),o.site,null)),++y)}function gy(n,t){return t.angle-n.angle}function nn(){af(this);this.x=this.y=this.arc=this.site=this.cy=null}function rr(n){var w=n.P,b=n.N,u,t;if(w&&b){var s=w.site,h=n.site,c=b.site;if(s!==c){var l=h.x,a=h.y,f=s.x-l,e=s.y-a,o=c.x-l,r=c.y-a,v=2*(f*r-e*o);if(!(v>=-se)){var k=f*f+e*e,d=o*o+r*r,y=(r*k-e*d)/v,p=(f*d-o*k)/v,r=p+a,i=rl.pop()||new nn;for(i.arc=n,i.site=h,i.x=y+l,i.y=r+Math.sqrt(y*y+p*p),i.cy=r,n.circle=i,u=null,t=cu._;t;)if(i.y<t.y||i.y===t.y&&i.x<=t.x){if(!t.L){u=t.P;break}t=t.L}else{if(!t.R){u=t;break}t=t.R}cu.insert(u,i);u||(tl=i)}}}}function ur(n){var t=n.circle;t&&(t.P||(tl=t.N),cu.remove(t),rl.push(t),af(t),n.circle=null)}function tn(n){for(var i,u=cr,e=wv(n[0][0],n[0][1],n[1][0],n[1][1]),f=u.length;f--;)i=u[f],(!rn(i,n)||!e(i)||r(i.a.x-i.b.x)<t&&r(i.a.y-i.b.y)<t)&&(i.a=i.b=null,u.splice(f,1))}function rn(n,t){var f=n.b;if(f)return!0;var r,u,i=n.a,h=t[0][0],c=t[1][0],e=t[0][1],o=t[1][1],p=n.l,w=n.r,l=p.x,a=p.y,v=w.x,y=w.y,s=(l+v)/2,b=(a+y)/2;if(y===a){if(h>s||s>=c)return;if(l>v){if(i){if(i.y>=o)return}else i={x:s,y:e};f={x:s,y:o}}else{if(i){if(i.y<e)return}else i={x:s,y:o};f={x:s,y:e}}}else if(r=(l-v)/(y-a),u=b-r*s,-1>r||r>1)if(l>v){if(i){if(i.y>=o)return}else i={x:(e-u)/r,y:e};f={x:(o-u)/r,y:o}}else{if(i){if(i.y<e)return}else i={x:(o-u)/r,y:o};f={x:(e-u)/r,y:e}}else if(y>a){if(i){if(i.x>=c)return}else i={x:h,y:r*h+u};f={x:c,y:r*c+u}}else{if(i){if(i.x<h)return}else i={x:c,y:r*c+u};f={x:h,y:r*h+u}}return n.a=i,n.b=f,!0}function np(n,t){this.l=n;this.r=t;this.a=this.b=null}function kr(n,t,i,r){var u=new np(n,t);return cr.push(u),i&&cf(u,n,t,i),r&&cf(u,t,n,r),ki[n.i].edges.push(new lf(u,n,t)),ki[t.i].edges.push(new lf(u,t,n)),u}function un(n,t,i){var r=new np(n,null);return r.a=t,r.b=i,cr.push(r),r}function cf(n,t,i,r){n.a||n.b?n.l===i?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=i)}function lf(n,t,i){var r=n.a,u=n.b;this.edge=n;this.site=t;this.angle=i?Math.atan2(i.y-t.y,i.x-t.x):n.l===t?Math.atan2(u.x-r.x,r.y-u.y):Math.atan2(r.x-u.x,u.y-r.y)}function th(){this._=null}function af(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function dr(n,t){var i=t,r=t.R,u=i.U;u?u.L===i?u.L=r:u.R=r:n._=r;r.U=u;i.U=r;i.R=r.L;i.R&&(i.R.U=i);r.L=i}function gr(n,t){var i=t,r=t.L,u=i.U;u?u.L===i?u.L=r:u.R=r:n._=r;r.U=u;i.U=r;i.L=r.R;i.L&&(i.L.U=i);r.R=i}function tp(n){for(;n.L;)n=n.L;return n}function ih(n,t){var u,f,r,i=n.sort(fn).pop(),e;for(cr=[],ki=new Array(n.length),lr=new th,cu=new th;;)if(r=tl,i&&(!r||i.y<r.y||i.y===r.y&&i.x<r.x))i.x===u&&i.y===f||(ki[i.i]=new dy(i),kg(i),u=i.x,f=i.y),i=n.pop();else{if(!r)break;bg(r.arc)}return t&&(tn(t),gg(t)),e={cells:ki,edges:cr},lr=cu=cr=ki=null,e}function fn(n,t){return t.y-n.y||t.x-n.x}function en(n,t,i){return(n.x-i.x)*(t.y-n.y)-(n.x-t.x)*(i.y-n.y)}function on(n){return n.x}function sn(n){return n.y}function ip(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function nu(n,t,i,r,u,f){if(!n(t,i,r,u,f)){var o=.5*(i+u),s=.5*(r+f),e=t.nodes;e[0]&&nu(n,e[0],i,r,o,s);e[1]&&nu(n,e[1],o,r,u,s);e[2]&&nu(n,e[2],i,s,o,f);e[3]&&nu(n,e[3],o,s,u,f)}}function hn(n,t,i,r,u,f,e){var s,h=1/0;return function o(n,c,l,a,v){var y;if(!(c>f||l>e||r>a||u>v)){if(k=n.point){var k,d=t-n.x,g=i-n.y,nt=d*d+g*g;h>nt&&(y=Math.sqrt(h=nt),r=t-y,u=i-y,f=t+y,e=i+y,s=k)}for(var tt=n.nodes,p=.5*(c+a),w=.5*(l+v),it=t>=p,rt=i>=w,b=rt<<1|it,ut=b+4;ut>b;++b)if(n=tt[3&b])switch(3&b){case 0:o(n,c,l,p,w);break;case 1:o(n,p,l,a,w);break;case 2:o(n,c,w,p,v);break;case 3:o(n,p,w,a,v)}}}(n,r,u,f,e),s}function rh(t,i){t=n.rgb(t);i=n.rgb(i);var r=t.r,u=t.g,f=t.b,e=i.r-r,o=i.g-u,s=i.b-f;return function(n){return"#"+nr(Math.round(r+e*n))+nr(Math.round(u+o*n))+nr(Math.round(f+s*n))}}function rp(n,t){var i,u={},r={};for(i in n)i in t?u[i]=ai(n[i],t[i]):r[i]=n[i];for(i in t)i in n||(r[i]=t[i]);return function(n){for(i in u)r[i]=u[i](n);return r}}function pt(n,t){return n=+n,t=+t,function(i){return n*(1-i)+t*i}}function up(n,t){var s,f,u,e=ro.lastIndex=uo.lastIndex=0,r=-1,i=[],o=[];for(n+="",t+="";(s=ro.exec(n))&&(f=uo.exec(t));)(u=f.index)>e&&(u=t.slice(e,u),i[r]?i[r]+=u:i[++r]=u),(s=s[0])===(f=f[0])?i[r]?i[r]+=f:i[++r]=f:(i[++r]=null,o.push({i:r,x:pt(s,f)})),e=uo.lastIndex;return e<t.length&&(u=t.slice(e),i[r]?i[r]+=u:i[++r]=u),i.length<2?o[0]?(t=o[0].x,function(n){return t(n)+""}):function(){return t}:(t=o.length,function(n){for(var u,r=0;t>r;++r)i[(u=o[r]).i]=u.x(n);return i.join("")})}function ai(t,i){for(var r,u=n.interpolators.length;--u>=0&&!(r=n.interpolators[u](t,i)););return r}function vf(n,t){for(var u=[],r=[],e=n.length,o=t.length,f=Math.min(n.length,t.length),i=0;f>i;++i)u.push(ai(n[i],t[i]));for(;e>i;++i)r[i]=n[i];for(;o>i;++i)r[i]=t[i];return function(n){for(i=0;f>i;++i)r[i]=u[i](n);return r}}function cn(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}function fp(n){return function(t){return 1-n(1-t)}}function ep(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}function ln(n){return n*n}function an(n){return n*n*n}function vn(n){if(0>=n)return 0;if(n>=1)return 1;var t=n*n,i=t*n;return 4*(.5>n?i:3*(n-t)+i-.75)}function yn(n){return function(t){return Math.pow(t,n)}}function pn(n){return 1-Math.cos(n*h)}function wn(n){return Math.pow(2,10*(n-1))}function bn(n){return 1-Math.sqrt(1-n*n)}function kn(n,t){var i;return arguments.length<2&&(t=.45),arguments.length?i=t/d*Math.asin(1/n):(n=1,i=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-i)*d/t)}}function dn(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function gn(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function ntt(t,i){t=n.hcl(t);i=n.hcl(i);var u=t.h,f=t.c,o=t.l,r=i.h-u,e=i.c-f,s=i.l-o;return isNaN(e)&&(e=0,f=isNaN(f)?i.c:f),isNaN(r)?(r=0,u=isNaN(u)?i.h:u):r>180?r-=360:-180>r&&(r+=360),function(n){return go(u+r*n,f+e*n,o+s*n)+""}}function ttt(t,i){t=n.hsl(t);i=n.hsl(i);var u=t.h,f=t.s,o=t.l,r=i.h-u,e=i.s-f,s=i.l-o;return isNaN(e)&&(e=0,f=isNaN(f)?i.s:f),isNaN(r)?(r=0,u=isNaN(u)?i.h:u):r>180?r-=360:-180>r&&(r+=360),function(n){return ko(u+r*n,f+e*n,o+s*n)+""}}function itt(t,i){t=n.lab(t);i=n.lab(i);var r=t.l,u=t.a,f=t.b,e=i.l-r,o=i.a-u,s=i.b-f;return function(n){return ka(r+e*n,u+o*n,f+s*n)+""}}function op(n,t){return t-=n,function(i){return Math.round(n+t*i)}}function sp(n){var t=[n.a,n.b],i=[n.c,n.d],r=cp(t),u=hp(t,i),f=cp(rtt(i,t,-u))||0;t[0]*i[1]<i[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,u*=-1);this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-i[0],i[1]))*s;this.translate=[n.e,n.f];this.scale=[r,f];this.skew=f?Math.atan2(u,f)*s:0}function hp(n,t){return n[0]*t[0]+n[1]*t[1]}function cp(n){var t=Math.sqrt(hp(n,n));return t&&(n[0]/=t,n[1]/=t),t}function rtt(n,t,i){return n[0]+=i*t[0],n[1]+=i*t[1],n}function fr(n){return n.length?n.pop()+",":""}function utt(n,t,i,r){if(n[0]!==t[0]||n[1]!==t[1]){var u=i.push("translate(",null,",",null,")");r.push({i:u-4,x:pt(n[0],t[0])},{i:u-2,x:pt(n[1],t[1])})}else(t[0]||t[1])&&i.push("translate("+t+")")}function ftt(n,t,i,r){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),r.push({i:i.push(fr(i)+"rotate(",null,")")-2,x:pt(n,t)})):t&&i.push(fr(i)+"rotate("+t+")")}function ett(n,t,i,r){n!==t?r.push({i:i.push(fr(i)+"skewX(",null,")")-2,x:pt(n,t)}):t&&i.push(fr(i)+"skewX("+t+")")}function ott(n,t,i,r){if(n[0]!==t[0]||n[1]!==t[1]){var u=i.push(fr(i)+"scale(",null,",",null,")");r.push({i:u-4,x:pt(n[0],t[0])},{i:u-2,x:pt(n[1],t[1])})}else 1===t[0]&&1===t[1]||i.push(fr(i)+"scale("+t+")")}function lp(t,i){var r=[],u=[];return t=n.transform(t),i=n.transform(i),utt(t.translate,i.translate,r,u),ftt(t.rotate,i.rotate,r,u),ett(t.skew,i.skew,r,u),ott(t.scale,i.scale,r,u),t=i=null,function(n){for(var t,i=-1,f=u.length;++i<f;)r[(t=u[i]).i]=t.x(n);return r.join("")}}function stt(n,t){return t=(t-=n=+n)||1/t,function(i){return(i-n)/t}}function htt(n,t){return t=(t-=n=+n)||1/t,function(i){return Math.max(0,Math.min(1,(i-n)/t))}}function ctt(n){for(var f,t=n.source,i=n.target,u=ltt(t,i),r=[t];t!==u;)t=t.parent,r.push(t);for(f=r.length;i!==u;)r.splice(f,0,i),i=i.parent;return r}function ap(n){for(var i=[],t=n.parent;null!=t;)i.push(n),n=t,t=t.parent;return i.push(n),i}function ltt(n,t){if(n===t)return n;for(var r=ap(n),u=ap(t),i=r.pop(),f=u.pop(),e=null;i===f;)e=i,i=r.pop(),f=u.pop();return e}function att(n){n.fixed|=2}function vtt(n){n.fixed&=-7}function ytt(n){n.fixed|=4;n.px=n.x;n.py=n.y}function ptt(n){n.fixed&=-5}function vp(n,t,i){var f=0,e=0,u;if(n.charge=0,!n.leaf)for(var r,o=n.nodes,h=o.length,s=-1;++s<h;)r=o[s],null!=r&&(vp(r,t,i),n.charge+=r.charge,f+=r.charge*r.cx,e+=r.charge*r.cy);n.point&&(n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5),u=t*i[n.point.index],n.charge+=n.pointCharge=u,f+=u*n.point.x,e+=u*n.point.y);n.cx=f/n.charge;n.cy=e/n.charge}function tu(t,i){return n.rebind(t,i,"sort","children","value"),t.nodes=t,t.links=dtt,t}function iu(n,t){for(var r,u,i=[n];null!=(n=i.pop());)if(t(n),(u=n.children)&&(r=u.length))for(;--r>=0;)i.push(u[r])}function et(n,t){for(var e,u,f,i=[n],r=[];null!=(n=i.pop());)if(r.push(n),(u=n.children)&&(e=u.length))for(f=-1;++f<e;)i.push(u[f]);for(;null!=(n=r.pop());)t(n)}function wtt(n){return n.children}function btt(n){return n.value}function ktt(n,t){return t.value-n.value}function dtt(t){return n.merge(t.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function gtt(n){return n.x}function nit(n){return n.y}function tit(n,t,i){n.y0=t;n.y=i}function uh(t){return n.range(t.length)}function fh(n){for(var t=-1,r=n[0].length,i=[];++t<r;)i[t]=0;return i}function iit(n){for(var i,t=1,r=0,u=n[0][1],f=n.length;f>t;++t)(i=n[t][1])>u&&(r=t,u=i);return r}function rit(n){return n.reduce(uit,0)}function uit(n,t){return n+t[1]}function fit(n,t){return yp(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function yp(n,t){for(var i=-1,r=+n[0],f=(n[1]-r)/t,u=[];++i<=t;)u[i]=f*i+r;return u}function eit(t){return[n.min(t),n.max(t)]}function oit(n,t){return n.value-t.value}function eh(n,t){var i=n._pack_next;n._pack_next=t;t._pack_prev=n;t._pack_next=i;i._pack_prev=t}function pp(n,t){n._pack_next=t;t._pack_prev=n}function wp(n,t){var i=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return.999*u*u>i*i+r*r}function bp(n){function h(n){c=Math.min(n.x-n.r,c);l=Math.max(n.x+n.r,l);a=Math.min(n.y-n.r,a);v=Math.max(n.y+n.r,v)}if((u=n.children)&&(s=u.length)){var u,i,r,t,f,e,o,s,c=1/0,l=-(1/0),a=1/0,v=-(1/0);if(u.forEach(sit),i=u[0],i.x=-i.r,i.y=0,h(i),s>1&&(r=u[1],r.x=r.r,r.y=0,h(r),s>2))for(t=u[2],dp(i,r,t),h(t),eh(i,t),i._pack_prev=t,eh(t,r),r=i._pack_next,f=3;s>f;f++){dp(i,r,t=u[f]);var y=0,p=1,w=1;for(e=r._pack_next;e!==r;e=e._pack_next,p++)if(wp(e,t)){y=1;break}if(1==y)for(o=i._pack_prev;o!==e._pack_prev&&!wp(o,t);o=o._pack_prev,w++);y?(w>p||p==w&&r.r<i.r?pp(i,r=e):pp(i=o,r),f--):(eh(i,t),r=t,h(t))}var k=(c+l)/2,d=(a+v)/2,b=0;for(f=0;s>f;f++)t=u[f],t.x-=k,t.y-=d,b=Math.max(b,t.r+Math.sqrt(t.x*t.x+t.y*t.y));n.r=b;u.forEach(hit)}}function sit(n){n._pack_next=n._pack_prev=n}function hit(n){delete n._pack_next;delete n._pack_prev}function kp(n,t,i,r){var u=n.children,f,e;if(n.x=t+=r*n.x,n.y=i+=r*n.y,n.r*=r,u)for(f=-1,e=u.length;++f<e;)kp(u[f],t,i,r)}function dp(n,t,i){var r=n.r+i.r,f=t.x-n.x,e=t.y-n.y,u,o,s,h;r&&(f||e)?(u=t.r+i.r,o=f*f+e*e,u*=u,r*=r,s=.5+(r-u)/(2*o),h=Math.sqrt(Math.max(0,2*u*(r+o)-(r-=o)*r-u*u))/(2*o),i.x=n.x+s*f+h*e,i.y=n.y+s*e-h*f):(i.x=n.x+r,i.y=n.y)}function gp(n,t){return n.parent==t.parent?1:2}function oh(n){var t=n.children;return t.length?t[0]:n.t}function sh(n){var t,i=n.children;return(t=i.length)?i[t-1]:n.t}function cit(n,t,i){var r=i/(t.i-n.i);t.c-=r;t.s+=i;n.c+=r;t.z+=i;t.m+=i}function lit(n){for(var t,i=0,f=0,r=n.children,u=r.length;--u>=0;)t=r[u],t.z+=i,t.m+=i,i+=t.s+(f+=t.c)}function ait(n,t,i){return n.a.parent===t.parent?n.a:i}function vit(t){return 1+n.max(t,function(n){return n.y})}function yit(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function nw(n){var t=n.children;return t&&t.length?nw(t[0]):n}function tw(n){var i,t=n.children;return t&&(i=t.length)?tw(t[i-1]):n}function hh(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function iw(n,t){var u=n.x+t[3],f=n.y+t[0],i=n.dx-t[1]-t[3],r=n.dy-t[0]-t[2];return 0>i&&(u+=i/2,i=0),0>r&&(f+=r/2,r=0),{x:u,y:f,dx:i,dy:r}}function er(n){var t=n[0],i=n[n.length-1];return i>t?[t,i]:[i,t]}function yf(n){return n.rangeExtent?n.rangeExtent():er(n.range())}function pit(n,t,i,r){var u=i(n[0],n[1]),f=r(t[0],t[1]);return function(n){return f(u(n))}}function pf(n,t){var i,r=0,u=n.length-1,f=n[r],e=n[u];return f>e&&(i=r,r=u,u=i,i=f,f=e,e=i),n[r]=t.floor(f),n[u]=t.ceil(e),n}function rw(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:db}function wit(t,i,r,u){var o=[],s=[],f=0,e=Math.min(t.length,i.length)-1;for(t[e]<t[0]&&(t=t.slice().reverse(),i=i.slice().reverse());++f<=e;)o.push(r(t[f-1],t[f])),s.push(u(i[f-1],i[f]));return function(i){var r=n.bisect(t,i,1,e)-1;return s[r](o[r](i))}}function uw(n,t,i,r){function f(){var f=Math.min(n.length,t.length)>2?wit:pit,s=r?htt:stt;return e=f(n,t,s,i),o=f(t,n,s,ai),u}function u(n){return e(n)}var e,o;return u.invert=function(n){return o(n)},u.domain=function(t){return arguments.length?(n=t.map(Number),f()):n},u.range=function(n){return arguments.length?(t=n,f()):t},u.rangeRound=function(n){return u.range(n).interpolate(op)},u.clamp=function(n){return arguments.length?(r=n,f()):r},u.interpolate=function(n){return arguments.length?(i=n,f()):i},u.ticks=function(t){return lh(n,t)},u.tickFormat=function(t,i){return ah(n,t,i)},u.nice=function(t){return fw(n,t),f()},u.copy=function(){return uw(n,t,i,r)},f()}function ch(t,i){return n.rebind(t,i,"range","rangeRound","interpolate","clamp")}function fw(n,t){return pf(n,rw(or(n,t)[2])),pf(n,rw(or(n,t)[2])),n}function or(n,t){null==t&&(t=10);var r=er(n),f=r[1]-r[0],i=Math.pow(10,Math.floor(Math.log(f/t)/Math.LN10)),u=t/f*i;return.15>=u?i*=10:.35>=u?i*=5:.75>=u&&(i*=2),r[0]=Math.ceil(r[0]/i)*i,r[1]=Math.floor(r[1]/i)*i+.5*i,r[2]=i,r}function lh(t,i){return n.range.apply(n,or(t,i))}function ah(t,i,u){var e=or(t,i),f,o;if(u){if(f=lb.exec(u),f.shift(),"s"===f[8])return o=n.formatPrefix(Math.max(r(e[0]),r(e[1]))),f[7]||(f[7]="."+wf(o.scale(e[2]))),f[8]="f",u=n.format(f.join("")),function(n){return u(o.scale(n))+o.symbol};f[7]||(f[7]="."+bit(f[8],e));u=f.join("")}else u=",."+wf(e[2])+"f";return n.format(u)}function wf(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function bit(n,t){var i=wf(t[2]);return n in gb?Math.abs(i-wf(Math.max(r(t[0]),r(t[1]))))+ +("e"!==n):i-2*("%"===n)}function ew(t,i,r,u){function e(n){return(r?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(i)}function o(n){return r?Math.pow(i,n):-Math.pow(i,-n)}function f(n){return t(e(n))}return f.invert=function(n){return o(t.invert(n))},f.domain=function(n){return arguments.length?(r=n[0]>=0,t.domain((u=n.map(Number)).map(e)),f):u},f.base=function(n){return arguments.length?(i=+n,t.domain(u.map(e)),f):i},f.nice=function(){var n=pf(u.map(e),r?Math:nk);return t.domain(n),u=n.map(o),f},f.ticks=function(){var h=er(u),t=[],c=h[0],l=h[1],n=Math.floor(e(c)),s=Math.ceil(e(l)),a=i%1?2:i,f;if(isFinite(s-n)){if(r){for(;s>n;n++)for(f=1;a>f;f++)t.push(o(n)*f);t.push(o(n))}else for(t.push(o(n));n++<s;)for(f=a-1;f>0;f--)t.push(o(n)*f);for(n=0;t[n]<c;n++);for(s=t.length;t[s-1]>l;s--);t=t.slice(n,s)}return t},f.tickFormat=function(t,r){if(!arguments.length)return fl;arguments.length<2?r=fl:"function"!=typeof r&&(r=n.format(r));var u=Math.max(1,i*t/f.ticks().length);return function(n){var t=n/o(Math.round(e(n)));return i-.5>t*i&&(t*=i),u>=t?r(n):""}},f.copy=function(){return ew(t.copy(),i,r,u)},ch(f,t)}function ow(n,t,i){function r(t){return n(u(t))}var u=bf(t),f=bf(1/t);return r.invert=function(t){return f(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((i=t.map(Number)).map(u)),r):i},r.ticks=function(n){return lh(i,n)},r.tickFormat=function(n,t){return ah(i,n,t)},r.nice=function(n){return r.domain(fw(i,n))},r.exponent=function(e){return arguments.length?(u=bf(t=e),f=bf(1/t),n.domain(i.map(u)),r):t},r.copy=function(){return ow(n.copy(),t,i)},ch(r,n)}function bf(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}function sw(t,i){function r(n){return u[((e.get(n)||("range"===i.t?e.set(n,t.push(n)):NaN))-1)%u.length]}function o(i,r){return n.range(t.length).map(function(n){return i+r*n})}var e,u,f;return r.domain=function(n){if(!arguments.length)return t;t=[];e=new at;for(var u,f=-1,o=n.length;++f<o;)e.has(u=n[f])||e.set(u,t.push(u));return r[i.t].apply(r,i.a)},r.range=function(n){return arguments.length?(u=n,f=0,i={t:"range",a:arguments},r):u},r.rangePoints=function(n,e){arguments.length<2&&(e=0);var s=n[0],h=n[1],c=t.length<2?(s=(s+h)/2,0):(h-s)/(t.length-1+e);return u=o(s+c*e/2,c),f=0,i={t:"rangePoints",a:arguments},r},r.rangeRoundPoints=function(n,e){arguments.length<2&&(e=0);var s=n[0],h=n[1],c=t.length<2?(s=h=Math.round((s+h)/2),0):(h-s)/(t.length-1+e)|0;return u=o(s+Math.round(c*e/2+(h-s-(t.length-1+e)*c)/2),c),f=0,i={t:"rangeRoundPoints",a:arguments},r},r.rangeBands=function(n,e,s){arguments.length<2&&(e=0);arguments.length<3&&(s=e);var h=n[1]<n[0],l=n[+h],a=n[1-h],c=(a-l)/(t.length-e+2*s);return u=o(l+c*s,c),h&&u.reverse(),f=c*(1-e),i={t:"rangeBands",a:arguments},r},r.rangeRoundBands=function(n,e,s){arguments.length<2&&(e=0);arguments.length<3&&(s=e);var h=n[1]<n[0],c=n[+h],a=n[1-h],l=Math.floor((a-c)/(t.length-e+2*s));return u=o(c+Math.round((a-c-(t.length-e)*l)/2),l),h&&u.reverse(),f=Math.round(l*(1-e)),i={t:"rangeRoundBands",a:arguments},r},r.rangeBand=function(){return f},r.rangeExtent=function(){return er(i.a[0])},r.copy=function(){return sw(t,i)},r.domain(t)}function hw(t,i){function f(){var f=0,e=i.length;for(r=[];++f<e;)r[f-1]=n.quantile(t,f/e);return u}function u(t){if(!isNaN(t=+t))return i[n.bisect(r,t)]}var r;return u.domain=function(n){return arguments.length?(t=n.map(oi).filter(lt).sort(gi),f()):t},u.range=function(n){return arguments.length?(i=n,f()):i},u.quantiles=function(){return r},u.invertExtent=function(n){return n=i.indexOf(n),0>n?[NaN,NaN]:[n>0?r[n-1]:t[0],n<r.length?r[n]:t[t.length-1]]},u.copy=function(){return hw(t,i)},f()}function cw(n,t,i){function r(t){return i[Math.max(0,Math.min(e,Math.floor(u*(t-n))))]}function f(){return u=i.length/(t-n),e=i.length-1,r}var u,e;return r.domain=function(i){return arguments.length?(n=+i[0],t=+i[i.length-1],f()):[n,t]},r.range=function(n){return arguments.length?(i=n,f()):i},r.invertExtent=function(t){return t=i.indexOf(t),t=0>t?NaN:t/u+n,[t,t+1/u]},r.copy=function(){return cw(n,t,i)},f()}function lw(t,i){function r(r){if(r>=r)return i[n.bisect(t,r)]}return r.domain=function(n){return arguments.length?(t=n,r):t},r.range=function(n){return arguments.length?(i=n,r):i},r.invertExtent=function(n){return n=i.indexOf(n),[t[n-1],t[n]]},r.copy=function(){return lw(t,i)},r}function aw(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(n=i.map(t),t):n},t.ticks=function(t){return lh(n,t)},t.tickFormat=function(t,i){return ah(n,t,i)},t.copy=function(){return aw(n)},t}function kit(){return 0}function dit(n){return n.innerRadius}function git(n){return n.outerRadius}function vw(n){return n.startAngle}function yw(n){return n.endAngle}function nrt(n){return n&&n.padAngle}function kf(n,t,i,r){return(n-i)*t-(t-r)*n>0?0:1}function df(n,t,i,r,u){var v=n[0]-t[0],y=n[1]-t[1],nt=(u?r:-r)/Math.sqrt(v*v+y*y),p=nt*y,w=-nt*v,b=n[0]+p,k=n[1]+w,d=t[0]+p,g=t[1]+w,tt=(b+d)/2,it=(k+g)/2,e=d-b,f=g-k,s=e*e+f*f,h=i-r,o=b*g-d*k,c=(0>f?-1:1)*Math.sqrt(Math.max(0,h*h*s-o*o)),l=(o*f-e*c)/s,a=(-o*e-f*c)/s,rt=(o*f+e*c)/s,ut=(-o*e+f*c)/s,ft=l-tt,et=a-it,ot=rt-tt,st=ut-it;return ft*ft+et*et>ot*ot+st*st&&(l=rt,a=ut),[[l-p,a-w],[l*i/h,a*i/h]]}function pw(n){function t(t){function a(){l.push("M",i(n(s),e))}for(var c,l=[],s=[],h=-1,v=t.length,y=o(r),p=o(u);++h<v;)f.call(this,c=t[h],h)?s.push([+y.call(this,c,h),+p.call(this,c,h)]):s.length&&(a(),s=[]);return s.length&&a(),l.length?l.join(""):null}var r=ir,u=br,f=yr,i=it,s=i.key,e=.7;return t.x=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(u=n,t):u},t.defined=function(n){return arguments.length?(f=n,t):f},t.interpolate=function(n){return arguments.length?(s="function"==typeof n?i=n:(i=fo.get(n)||it).key,t):s},t.tension=function(n){return arguments.length?(e=n,t):e},t}function it(n){return n.length>1?n.join("L"):n+"Z"}function ww(n){return n.join("L")+"Z"}function trt(n){for(var r=0,u=n.length,t=n[0],i=[t[0],",",t[1]];++r<u;)i.push("H",(t[0]+(t=n[r])[0])/2,"V",t[1]);return u>1&&i.push("H",t[0]),i.join("")}function vh(n){for(var i=0,u=n.length,t=n[0],r=[t[0],",",t[1]];++i<u;)r.push("V",(t=n[i])[1],"H",t[0]);return r.join("")}function yh(n){for(var i=0,u=n.length,t=n[0],r=[t[0],",",t[1]];++i<u;)r.push("H",(t=n[i])[0],"V",t[1]);return r.join("")}function irt(n,t){return n.length<4?it(n):n[1]+gf(n.slice(1,-1),ph(n,t))}function rrt(n,t){return n.length<3?ww(n):n[0]+gf((n.push(n[0]),n),ph([n[n.length-2]].concat(n,[n[1]]),t))}function urt(n,t){return n.length<3?it(n):n[0]+gf(n,ph(n,t))}function gf(n,t){var o,h;if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return it(n);var c=n.length!=t.length,f="",s=n[0],i=n[1],e=t[0],r=e,u=1;if(c&&(f+="Q"+(i[0]-2*e[0]/3)+","+(i[1]-2*e[1]/3)+","+i[0]+","+i[1],s=n[1],u=2),t.length>1)for(r=t[1],i=n[u],u++,f+="C"+(s[0]+e[0])+","+(s[1]+e[1])+","+(i[0]-r[0])+","+(i[1]-r[1])+","+i[0]+","+i[1],o=2;o<t.length;o++,u++)i=n[u],r=t[o],f+="S"+(i[0]-r[0])+","+(i[1]-r[1])+","+i[0]+","+i[1];return c&&(h=n[u],f+="Q"+(i[0]+2*r[0]/3)+","+(i[1]+2*r[1]/3)+","+h[0]+","+h[1]),f}function ph(n,t){for(var r,u=[],f=(1-t)/2,e=n[0],i=n[1],o=1,s=n.length;++o<s;)r=e,e=i,i=n[o],u.push([f*(i[0]-r[0]),f*(i[1]-r[1])]);return u}function bw(n){if(n.length<3)return it(n);var o=1,s=n.length,t=n[0],i=t[0],r=t[1],u=[i,i,i,(t=n[1])[0]],f=[r,r,r,t[1]],e=[i,",",r,"L",g(ei,u),",",g(ei,f)];for(n.push(n[s-1]);++o<=s;)t=n[o],u.shift(),u.push(t[0]),f.shift(),f.push(t[1]),wh(e,u,f);return n.pop(),e.push("L",t),e.join("")}function frt(n){if(n.length<4)return it(n);for(var t,f=[],i=-1,e=n.length,r=[0],u=[0];++i<3;)t=n[i],r.push(t[0]),u.push(t[1]);for(f.push(g(ei,r)+","+g(ei,u)),--i;++i<e;)t=n[i],r.shift(),r.push(t[0]),u.shift(),u.push(t[1]),wh(f,r,u);return f.join("")}function ert(n){for(var f,t,i=-1,e=n.length,o=e+4,r=[],u=[];++i<4;)t=n[i%e],r.push(t[0]),u.push(t[1]);for(f=[g(ei,r),",",g(ei,u)],--i;++i<o;)t=n[i%e],r.shift(),r.push(t[0]),u.shift(),u.push(t[1]),wh(f,r,u);return f.join("")}function ort(n,t){var i=n.length-1;if(i)for(var r,u,e=n[0][0],o=n[0][1],s=n[i][0]-e,h=n[i][1]-o,f=-1;++f<=i;)r=n[f],u=f/i,r[0]=t*r[0]+(1-t)*(e+u*s),r[1]=t*r[1]+(1-t)*(o+u*h);return bw(n)}function g(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function wh(n,t,i){n.push("C",g(tk,t),",",g(tk,i),",",g(ik,t),",",g(ik,i),",",g(ei,t),",",g(ei,i))}function bh(n,t){return(t[1]-n[1])/(t[0]-n[0])}function srt(n){for(var t=0,e=n.length-1,i=[],f=n[0],r=n[1],u=i[0]=bh(f,r);++t<e;)i[t]=(u+(u=bh(f=r,r=n[t+1])))/2;return i[t]=u,i}function hrt(n){for(var e,o,s,u,c=[],f=srt(n),i=-1,h=n.length-1;++i<h;)e=bh(n[i],n[i+1]),r(e)<t?f[i]=f[i+1]=0:(o=f[i]/e,s=f[i+1]/e,u=o*o+s*s,u>9&&(u=3*e/Math.sqrt(u),f[i]=u*o,f[i+1]=u*s));for(i=-1;++i<=h;)u=(n[Math.min(h,i+1)][0]-n[Math.max(0,i-1)][0])/(6*(1+f[i]*f[i])),c.push([u||0,f[i]*u||0]);return c}function crt(n){return n.length<3?it(n):n[0]+gf(n,hrt(n))}function kw(n){for(var t,i,r,u=-1,f=n.length;++u<f;)t=n[u],i=t[0],r=t[1]-h,t[0]=i*Math.cos(r),t[1]=i*Math.sin(r);return n}function dw(n){function t(t){function b(){p.push("M",i(n(w),s),a,l(n(y.reverse()),s),"Z")}for(var v,k,d,p=[],y=[],w=[],c=-1,g=t.length,nt=o(f),tt=o(e),it=f===r?function(){return k}:o(r),rt=e===u?function(){return d}:o(u);++c<g;)h.call(this,v=t[c],c)?(y.push([k=+nt.call(this,v,c),d=+tt.call(this,v,c)]),w.push([+it.call(this,v,c),+rt.call(this,v,c)])):y.length&&(b(),y=[],w=[]);return y.length&&b(),p.length?p.join(""):null}var f=ir,r=ir,e=0,u=br,h=yr,i=it,c=i.key,l=i,a="L",s=.7;return t.x=function(n){return arguments.length?(f=r=n,t):r},t.x0=function(n){return arguments.length?(f=n,t):f},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(e=u=n,t):u},t.y0=function(n){return arguments.length?(e=n,t):e},t.y1=function(n){return arguments.length?(u=n,t):u},t.defined=function(n){return arguments.length?(h=n,t):h},t.interpolate=function(n){return arguments.length?(c="function"==typeof n?i=n:(i=fo.get(n)||it).key,l=i.reverse||i,a=i.closed?"M":"L",t):c},t.tension=function(n){return arguments.length?(s=n,t):s},t}function lrt(n){return n.radius}function gw(n){return[n.x,n.y]}function art(n){return function(){var t=n.apply(this,arguments),i=t[0],r=t[1]-h;return[i*Math.cos(r),i*Math.sin(r)]}}function vrt(){return 64}function yrt(){return"circle"}function nb(n){var t=Math.sqrt(n/f);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function tb(n){return function(){var t,r,i;(t=this[n])&&(i=t[r=t.active])&&(i.timer.c=null,i.timer.t=NaN,--t.count?delete t[r]:delete this[n],t.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function ru(n,t,i){return re(n,a),n.namespace=t,n.id=i,n}function kh(n,t,i,r){var u=n.id,f=n.namespace;return vt(n,"function"==typeof i?function(n,e,o){n[f][u].tween.set(t,r(i.call(n,n.__data__,e,o)))}:(i=r(i),function(n){n[f][u].tween.set(t,i)}))}function prt(n){return null==n&&(n=""),function(){this.textContent=n}}function dh(n){return null==n?"__transition__":"__transition_"+n+"__"}function ne(n,t,i,r,u){function y(n){var t=e.delay;return o.t=t+s,n>=t?c(n-t):void(o.c=c)}function c(i){var p=f.active,u=f[p],c,y;u&&(u.timer.c=null,u.timer.t=NaN,--f.count,delete f[p],u.event&&u.event.interrupt.call(n,n.__data__,u.index));for(c in f)r>+c&&(y=f[c],y.timer.c=null,y.timer.t=NaN,--f.count,delete f[c]);o.c=l;ku(function(){return o.c&&l(i||1)&&(o.c=null,o.t=NaN),1},0,s);f.active=r;e.event&&e.event.start.call(n,n.__data__,t);h=[];e.tween.forEach(function(i,r){(r=r.call(n,n.__data__,t))&&h.push(r)});v=e.ease;a=e.duration}function l(u){for(var o=u/a,c=v(o),s=h.length;s>0;)h[--s].call(n,c);if(o>=1)return(e.event&&e.event.end.call(n,n.__data__,t),--f.count?delete f[r]:delete n[i],1)}var s,o,a,v,h,f=n[i]||(n[i]={active:0,count:0}),e=f[r];e||(s=u.time,o=ku(y,0,s),e=f[r]={tween:new at,time:s,timer:o,delay:u.delay,duration:u.duration,ease:u.ease,index:t},u=null,++f.count)}function wrt(n,t,i){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:i(n))+",0)"})}function brt(n,t,i){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:i(n))+")"})}function gh(n){return n.toISOString()}function nc(t,i,r){function u(n){return t(n)}function f(t,r){var e=t[1]-t[0],f=e/r,u=n.bisect(so,f);return u==so.length?[i.year,or(t.map(function(n){return n/31536e6}),r)[2]]:u?i[f/so[u-1]<so[u]/f?u-1:u]:[but,or(t,r)[2]]}return u.invert=function(n){return vi(t.invert(n))},u.domain=function(n){return arguments.length?(t.domain(n),u):t.domain().map(vi)},u.nice=function(n,t){function r(i){return!isNaN(i)&&!n.range(i,vi(+i+1),t).length}var e=u.domain(),o=er(e),i=null==n?f(o,10):"number"==typeof n&&f(o,n);return i&&(n=i[0],t=i[1]),u.domain(pf(e,t>1?{floor:function(t){for(;r(t=n.floor(t));)t=vi(t-1);return t},ceil:function(t){for(;r(t=n.ceil(t));)t=vi(+t+1);return t}}:n))},u.ticks=function(n,t){var i=er(u.domain()),r=null==n?f(i,10):"number"==typeof n?f(i,n):!n.range&&[{range:n},t];return r&&(n=r[0],t=r[1]),n.range(i[0],vi(+i[1]+1),1>t?1:t)},u.tickFormat=function(){return r},u.copy=function(){return nc(t.copy(),i,r)},ch(u,t)}function vi(n){return new Date(n)}function krt(n){return JSON.parse(n.responseText)}function drt(n){var t=p.createRange();return t.selectNode(p.body),t.createContextualFragment(n.responseText)}var n={version:"3.5.17"},ib=[].slice,ot=function(n){return ib.call(n)},p=this.document,tc,r,ub,ie,ic,e,ue,fe,st,ee,yi,fb,oe,he,oc,sc,ce,le,fu,eu,ve,ye,pe,we,cc,cb,ht,lc,ou,ac,vc,be,ti,k,wc,bi,bc,kc,dc,gc,nl,hu,cr,ki,lr,tl,cu,il,rl,lu,ro,uo,wb,ul,bb,kb,db,gb,fl,nk,au,fo,el,vu,ol,sl,uk,al,ok;if(p)try{ot(p.documentElement.childNodes)[0].nodeType}catch(kut){ot=function(n){for(var t=n.length,i=new Array(t);t--;)i[t]=n[t];return i}}if(Date.now||(Date.now=function(){return+new Date}),p)try{p.createElement("DIV").style.setProperty("opacity",0,"")}catch(dut){var te=this.Element.prototype,grt=te.setAttribute,nut=te.setAttributeNS,rb=this.CSSStyleDeclaration.prototype,tut=rb.setProperty;te.setAttribute=function(n,t){grt.call(this,n,t+"")};te.setAttributeNS=function(n,t,i){nut.call(this,n,t,i+"")};rb.setProperty=function(n,t,i){tut.call(this,n,t+"",i)}}n.ascending=gi;n.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:NaN};n.min=function(n,t){var u,i,r=-1,f=n.length;if(1===arguments.length){for(;++r<f;)if(null!=(i=n[r])&&i>=i){u=i;break}for(;++r<f;)null!=(i=n[r])&&u>i&&(u=i)}else{for(;++r<f;)if(null!=(i=t.call(n,n[r],r))&&i>=i){u=i;break}for(;++r<f;)null!=(i=t.call(n,n[r],r))&&u>i&&(u=i)}return u};n.max=function(n,t){var u,i,r=-1,f=n.length;if(1===arguments.length){for(;++r<f;)if(null!=(i=n[r])&&i>=i){u=i;break}for(;++r<f;)null!=(i=n[r])&&i>u&&(u=i)}else{for(;++r<f;)if(null!=(i=t.call(n,n[r],r))&&i>=i){u=i;break}for(;++r<f;)null!=(i=t.call(n,n[r],r))&&i>u&&(u=i)}return u};n.extent=function(n,t){var u,i,f,r=-1,e=n.length;if(1===arguments.length){for(;++r<e;)if(null!=(i=n[r])&&i>=i){u=f=i;break}for(;++r<e;)null!=(i=n[r])&&(u>i&&(u=i),i>f&&(f=i))}else{for(;++r<e;)if(null!=(i=t.call(n,n[r],r))&&i>=i){u=f=i;break}for(;++r<e;)null!=(i=t.call(n,n[r],r))&&(u>i&&(u=i),i>f&&(f=i))}return[u,f]};n.sum=function(n,t){var r,u=0,f=n.length,i=-1;if(1===arguments.length)for(;++i<f;)lt(r=+n[i])&&(u+=r);else for(;++i<f;)lt(r=+t.call(n,n[i],i))&&(u+=r);return u};n.mean=function(n,t){var r,f=0,e=n.length,i=-1,u=e;if(1===arguments.length)for(;++i<e;)lt(r=oi(n[i]))?f+=r:--u;else for(;++i<e;)lt(r=oi(t.call(n,n[i],i)))?f+=r:--u;if(u)return f/u};n.quantile=function(n,t){var u=(n.length-1)*t+1,i=Math.floor(u),r=+n[i-1],f=u-i;return f?r+f*(n[i]-r):r};n.median=function(t,i){var u,f=[],e=t.length,r=-1;if(1===arguments.length)for(;++r<e;)lt(u=oi(t[r]))&&f.push(u);else for(;++r<e;)lt(u=oi(i.call(t,t[r],r)))&&f.push(u);if(f.length)return n.quantile(f.sort(gi),.5)};n.variance=function(n,t){var i,r,s=n.length,u=0,o=0,f=-1,e=0;if(1===arguments.length)for(;++f<s;)lt(i=oi(n[f]))&&(r=i-u,u+=r/++e,o+=r*(i-u));else for(;++f<s;)lt(i=oi(t.call(n,n[f],f)))&&(r=i-u,u+=r/++e,o+=r*(i-u));if(e>1)return o/(e-1)};n.deviation=function(){var t=n.variance.apply(this,arguments);return t?Math.sqrt(t):t};tc=yl(gi);n.bisectLeft=tc.left;n.bisect=n.bisectRight=tc.right;n.bisector=function(n){return yl(1===n.length?function(t,i){return gi(n(t),i)}:n)};n.shuffle=function(n,t,i){(r=arguments.length)<3&&(i=n.length,2>r&&(t=0));for(var f,u,r=i-t;r;)u=Math.random()*r--|0,f=n[r+t],n[r+t]=n[u+t],n[u+t]=f;return n};n.permute=function(n,t){for(var i=t.length,r=new Array(i);i--;)r[i]=n[t[i]];return r};n.pairs=function(n){for(var f,t=0,i=n.length-1,r=n[0],u=new Array(0>i?0:i);i>t;)u[t]=[f=r,r=n[++t]];return u};n.transpose=function(t){var u,i,o;if(!(u=t.length))return[];for(var r=-1,f=n.min(t,sk),e=new Array(f);++r<f;)for(i=-1,o=e[r]=new Array(u);++i<u;)o[i]=t[i][r];return e};n.zip=function(){return n.transpose(arguments)};n.keys=function(n){var t=[];for(var i in n)t.push(i);return t};n.values=function(n){var t=[];for(var i in n)t.push(n[i]);return t};n.entries=function(n){var t=[];for(var i in n)t.push({key:i,value:n[i]});return t};n.merge=function(n){for(var t,i,r,u=n.length,e=-1,f=0;++e<u;)f+=n[e].length;for(i=new Array(f);--u>=0;)for(r=n[u],t=r.length;--t>=0;)i[--f]=r[t];return i};r=Math.abs;n.range=function(n,t,i){if(arguments.length<3&&(i=1,arguments.length<2&&(t=n,n=0)),(t-n)/i==1/0)throw new Error("infinite range");var f,e=[],u=hk(r(i)),o=-1;if(n*=u,t*=u,i*=u,0>i)for(;(f=n+i*++o)>t;)e.push(f/u);else for(;(f=n+i*++o)<t;)e.push(f/u);return e};n.map=function(n,t){var r=new at,e,i,u,f;if(n instanceof at)n.forEach(function(n,t){r.set(n,t)});else if(Array.isArray(n))if(i=-1,u=n.length,1===arguments.length)for(;++i<u;)r.set(i,n[i]);else for(;++i<u;)r.set(t.call(n,e=n[i],i),e);else for(f in n)r.set(f,n[f]);return r};ub="__proto__";ie="\x00";pl(at,{has:wl,get:function(n){return this._[ar(n)]},set:function(n,t){return this._[ar(n)]=t},remove:bl,keys:kl,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:yu(t),value:this._[t]});return n},size:dl,empty:gl,forEach:function(n){for(var t in this._)n.call(this,yu(t),this._[t])}});n.nest=function(){function r(n,e,o){if(o>=i.length)return f?f.call(t,e):u?e.sort(u):e;for(var l,s,h,a,v=-1,y=e.length,p=i[o++],c=new at;++v<y;)(a=c.get(l=p(s=e[v])))?a.push(s):c.set(l,[s]);return n?(s=n(),h=function(t,i){s.set(t,r(n,i,o))}):(s={},h=function(t,i){s[t]=r(n,i,o)}),c.forEach(h),s}function e(n,t){if(t>=i.length)return n;var r=[],u=o[t++];return n.forEach(function(n,i){r.push({key:n,values:e(i,t)})}),u?r.sort(function(n,t){return u(n.key,t.key)}):r}var u,f,t={},i=[],o=[];return t.map=function(n,t){return r(t,n,0)},t.entries=function(t){return e(r(n.map,t,0),0)},t.key=function(n){return i.push(n),t},t.sortKeys=function(n){return o[i.length-1]=n,t},t.sortValues=function(n){return u=n,t},t.rollup=function(n){return f=n,t},t};n.set=function(n){var i=new ho,t,r;if(n)for(t=0,r=n.length;r>t;++t)i.add(n[t]);return i};pl(ho,{has:wl,add:function(n){return this._[ar(n+="")]=!0,n},remove:bl,values:kl,size:dl,empty:gl,forEach:function(n){for(var t in this._)n.call(this,yu(t))}});n.behavior={};n.rebind=function(n,t){for(var i,r=1,u=arguments.length;++r<u;)n[i=arguments[r]]=ck(n,t,t[i]);return n};ic=["webkit","ms","moz","Moz","o","O"];n.dispatch=function(){for(var n=new lo,t=-1,i=arguments.length;++t<i;)n[arguments[t]]=na(n);return n};lo.prototype.on=function(n,t){var r=n.indexOf("."),i="";if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n)return arguments.length<2?this[n].on(i):this[n].on(i,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(i,null);return this}};n.event=null;n.requote=function(n){return n.replace(iut,"\\$&")};var iut=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,re={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var i in t)n[i]=t[i]},rc=function(n,t){return t.querySelector(n)},uc=function(n,t){return t.querySelectorAll(n)},fc=function(n,t){var i=n.matches||n[co(n,"matchesSelector")];return(fc=function(n,t){return i.call(n,t)})(n,t)};"function"==typeof Sizzle&&(rc=function(n,t){return Sizzle(n,t)[0]||null},uc=Sizzle,fc=Sizzle.matchesSelector);n.selection=function(){return n.select(p.documentElement)};e=n.selection.prototype=[];e.select=function(n){var i,f,e,t,o=[],r,s,u,h;for(n=yo(n),r=-1,s=this.length;++r<s;)for(o.push(i=[]),i.parentNode=(e=this[r]).parentNode,u=-1,h=e.length;++u<h;)(t=e[u])?(i.push(f=n.call(t,t.__data__,u,r)),f&&"__data__"in t&&(f.__data__=t.__data__)):i.push(null);return dt(o)};e.selectAll=function(n){var u,t,f=[],i,e;for(n=ta(n),i=-1,e=this.length;++i<e;)for(var o=this[i],r=-1,s=o.length;++r<s;)(t=o[r])&&(f.push(u=ot(n.call(t,t.__data__,r,i))),u.parentNode=t);return dt(f)};ue="http://www.w3.org/1999/xhtml";fe={svg:"http://www.w3.org/2000/svg",xhtml:ue,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};n.ns={prefix:fe,qualify:function(n){var t=n.indexOf(":"),i=n;return t>=0&&"xmlns"!==(i=n.slice(0,t))&&(n=n.slice(t+1)),fe.hasOwnProperty(i)?{space:fe[i],local:n}:n}};e.attr=function(t,i){if(arguments.length<2){if("string"==typeof t){var r=this.node();return t=n.ns.qualify(t),t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(i in t)this.each(ia(i,t[i]));return this}return this.each(ia(t,i))};e.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var r=this.node(),u=(n=fa(n)).length,i=-1;if(t=r.classList){for(;++i<u;)if(!t.contains(n[i]))return!1}else for(t=r.getAttribute("class");++i<u;)if(!ua(n[i]).test(t))return!1;return!0}for(t in n)this.each(ea(t,n[t]));return this}return this.each(ea(n,t))};e.style=function(n,t,i){var r=arguments.length,u;if(3>r){if("string"!=typeof n){2>r&&(t="");for(i in n)this.each(oa(i,n[i],t));return this}if(2>r)return u=this.node(),bt(u).getComputedStyle(u,null).getPropertyValue(n);i=""}return this.each(oa(n,t,i))};e.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(sa(t,n[t]));return this}return this.each(sa(n,t))};e.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent};e.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML};e.append=function(n){return n=ha(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})};e.insert=function(n,t){return n=ha(n),t=yo(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})};e.remove=function(){return this.each(ak)};e.data=function(n,t){function e(n,i){var r,u,e,o=n.length,a=i.length,b=Math.min(o,a),v=new Array(a),c=new Array(a),y=new Array(o),p,l,w;if(t){for(l=new at,w=new Array(o),r=-1;++r<o;)(u=n[r])&&(l.has(p=t.call(u,u.__data__,r))?y[r]=u:l.set(p,u),w[r]=p);for(r=-1;++r<a;)(u=l.get(p=t.call(i,e=i[r],r)))?u!==!0&&(v[r]=u,u.__data__=e):c[r]=po(e),l.set(p,!0);for(r=-1;++r<o;)r in w&&l.get(w[r])!==!0&&(y[r]=n[r])}else{for(r=-1;++r<b;)u=n[r],e=i[r],u?(u.__data__=e,v[r]=u):c[r]=po(e);for(;a>r;++r)c[r]=po(i[r]);for(;o>r;++r)y[r]=n[r]}c.update=v;c.parentNode=v.parentNode=y.parentNode=n.parentNode;s.push(c);f.push(v);h.push(y)}var r,o,i=-1,u=this.length;if(!arguments.length){for(n=new Array(u=(r=this[0]).length);++i<u;)(o=r[i])&&(n[i]=o.__data__);return n}var s=la([]),f=dt([]),h=dt([]);if("function"==typeof n)for(;++i<u;)e(r=this[i],n.call(r,r.parentNode.__data__,i));else for(;++i<u;)e(r=this[i],n);return f.enter=function(){return s},f.exit=function(){return h},f};e.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")};e.filter=function(n){var u,f,r,e=[],t,o,i,s;for("function"!=typeof n&&(n=ca(n)),t=0,o=this.length;o>t;t++)for(e.push(u=[]),u.parentNode=(f=this[t]).parentNode,i=0,s=f.length;s>i;i++)(r=f[i])&&n.call(r,r.__data__,i,t)&&u.push(r);return dt(e)};e.order=function(){for(var i=-1,f=this.length;++i<f;)for(var t,r=this[i],u=r.length-1,n=r[u];--u>=0;)(t=r[u])&&(n&&n!==t.nextSibling&&n.parentNode.insertBefore(t,n),n=t);return this};e.sort=function(n){n=vk.apply(this,arguments);for(var t=-1,i=this.length;++t<i;)this[t].sort(n);return this.order()};e.each=function(n){return vt(this,function(t,i,r){n.call(t,t.__data__,i,r)})};e.call=function(n){var t=ot(arguments);return n.apply(t[0]=this,t),this};e.empty=function(){return!this.node()};e.node=function(){for(var i,n=0,r=this.length;r>n;n++)for(var u=this[n],t=0,f=u.length;f>t;t++)if(i=u[t],i)return i;return null};e.size=function(){var n=0;return vt(this,function(){++n}),n};st=[];n.selection.enter=la;n.selection.enter.prototype=st;st.append=e.append;st.empty=e.empty;st.node=e.node;st.call=e.call;st.size=e.size;st.select=function(n){for(var i,h,r,e,o,t,u,s=[],f=-1,c=this.length;++f<c;)for(o=(t=this[f]).update,s.push(r=[]),r.parentNode=t.parentNode,i=-1,h=t.length;++i<h;)(u=t[i])?(r.push(o[i]=e=n.call(t.parentNode,u.__data__,i,f)),e.__data__=u.__data__):r.push(null);return dt(s)};st.insert=function(n,t){return arguments.length<2&&(t=yk(this)),e.insert.call(this,n,t)};n.select=function(n){var t;return"string"==typeof n?(t=[rc(n,p)],t.parentNode=p.documentElement):(t=[n],t.parentNode=vl(n)),dt([t])};n.selectAll=function(n){var t;return"string"==typeof n?(t=ot(uc(n,p)),t.parentNode=p.documentElement):(t=ot(n),t.parentNode=null),dt([t])};e.on=function(n,t,i){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t=!1);for(i in n)this.each(aa(i,n[i],t));return this}if(2>r)return(r=this.node()["__on"+n])&&r._;i=!1}return this.each(aa(n,t,i))};ee=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});p&&ee.forEach(function(n){"on"+n in p&&ee.remove(n)});fb=0;n.mouse=function(n){return wo(n,ao())};oe=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;n.touch=function(n,t,i){if(arguments.length<3&&(i=t,t=ao().changedTouches),t)for(var u,r=0,f=t.length;f>r;++r)if((u=t[r]).identifier===i)return wo(n,u)};n.behavior.drag=function(){function t(){this.on("mousedown.drag",f).on("touchstart.drag",e)}function r(t,r,f,e,o){return function(){function b(){var t,i,n=r(v,h);n&&(t=n[0]-c[0],i=n[1]-c[1],w|=t|i,c=n,y({type:"drag",x:n[0]+s[0],y:n[1]+s[1],dx:t,dy:i}))}function k(){r(v,h)&&(d.on(e+l,null).on(o+l,null),g(w),y({type:"dragend"}))}var s,a=this,p=n.event.target.correspondingElement||n.event.target,v=a.parentNode,y=u.of(a,arguments),w=0,h=t(),l=".drag"+(null==h?"":"-"+h),d=n.select(f(p)).on(e+l,b).on(o+l,k),g=pu(p),c=r(v,h);i?(s=i.apply(a,arguments),s=[s.x-c[0],s.y-c[1]]):s=[0,0];y({type:"dragstart"})}}var u=vo(t,"drag","dragstart","dragend"),i=null,f=r(l,n.mouse,bt,"mousemove","mouseup"),e=r(wk,n.touch,v,"touchmove","touchend");return t.origin=function(n){return arguments.length?(i=n,t):i},n.rebind(t,u,"on")};n.touches=function(n,t){return arguments.length<2&&(t=ao().touches),t?ot(t).map(function(t){var i=wo(n,t);return i.identifier=t.identifier,i}):[]};var t=1e-6,se=t*t,f=Math.PI,d=2*f,rut=d-t,h=f/2,u=f/180,s=180/f,uu=Math.SQRT2,ec=2,eb=4;n.interpolateZoom=function(n,t){var e,u,c=n[0],l=n[1],i=n[2],p=t[0],w=t[1],r=t[2],o=p-c,s=w-l,h=o*o+s*s;if(se>h)u=Math.log(r/i)/uu,e=function(n){return[c+n*o,l+n*s,i*Math.exp(uu*n*u)]};else{var a=Math.sqrt(h),v=(r*r-i*i+eb*h)/(2*i*ec*a),y=(r*r-i*i-eb*h)/(2*r*ec*a),f=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(y*y+1)-y);u=(b-f)/uu;e=function(n){var t=n*u,r=wa(f),e=i/(ec*a)*(r*kk(uu*t+f)-bk(f));return[c+e*o,l+e*s,i*r/wa(uu*t+f)]}}return e.duration=1e3*u,e};n.behavior.zoom=function(){function i(n){n.on(it,ft).on(oc+".zoom",at).on("dblclick.zoom",vt).on(rt,et)}function s(n){return[(n[0]-t.x)/t.k,(n[1]-t.y)/t.k]}function lt(n){return[n[0]*t.k+t.x,n[1]*t.k+t.y]}function h(n){t.k=Math.max(w[0],Math.min(w[1],n))}function c(n,i){i=lt(i);t.x+=n[0]-i[0];t.y+=n[1]-i[1]}function ut(u,f,e,o){u.__chart__={x:t.x,y:t.y,k:t.k};h(Math.pow(2,o));c(r=f,e);u=n.select(u);b>0&&(u=u.transition().duration(b));u.call(i.event)}function k(){a&&a.domain(nt.range().map(function(n){return(n-t.x)/t.k}).map(nt.invert));v&&v.domain(tt.range().map(function(n){return(n-t.y)/t.k}).map(tt.invert))}function f(n){st++||n({type:"zoomstart"})}function e(n){k();n({type:"zoom",scale:t.k,translate:[t.x,t.y]})}function u(n){--st||(n({type:"zoomend"}),r=null)}function ft(){function h(){r=1;c(n.mouse(t),v);e(i)}function l(){a.on(ht,null).on(ct,null);y(r);u(i)}var t=this,i=o.of(t,arguments),r=0,a=n.select(bt(t)).on(ht,h).on(ct,l),v=s(n.mouse(t)),y=pu(t);oo.call(t);f(i)}function et(){function y(){var u=n.touches(i);return w=t.k,u.forEach(function(n){n.identifier in r&&(r[n.identifier]=s(n))}),u}function p(){var s=n.event.target,u,o,f;n.select(s).on(tt,d).on(ot,nt);b.push(s);for(var h=n.event.changedTouches,e=0,p=h.length;p>e;++e)r[h[e].identifier]=null;if(u=y(),o=Date.now(),1===u.length)500>o-g&&(f=u[0],ut(i,f,r[f.identifier],Math.floor(Math.log(t.k)/Math.LN2)+1),kt()),g=o;else if(u.length>1){var f=u[0],c=u[1],l=f[0]-c[0],v=f[1]-c[1];a=l*l+v*v}}function d(){var t,f,u,o,y=n.touches(i),v,p,s,b;for(oo.call(i),v=0,p=y.length;p>v;++v,o=null)if(u=y[v],o=r[u.identifier]){if(f)break;t=u;f=o}o&&(s=(s=u[0]-t[0])*s+(s=u[1]-t[1])*s,b=a&&Math.sqrt(s/a),t=[(t[0]+u[0])/2,(t[1]+u[1])/2],f=[(f[0]+o[0])/2,(f[1]+o[1])/2],h(b*w));g=null;c(t,f);e(l)}function nt(){var e;if(n.event.touches.length){for(var i=n.event.changedTouches,t=0,f=i.length;f>t;++t)delete r[i[t].identifier];for(e in r)return void y()}n.selectAll(b).on(v,null);k.on(it,ft).on(rt,et);st();u(l)}var w,i=this,l=o.of(i,arguments),r={},a=0,v=".zoom-"+n.event.changedTouches[0].identifier,tt="touchmove"+v,ot="touchend"+v,b=[],k=n.select(i),st=pu(i);p();f(l);k.on(it,null).on(rt,p)}function at(){var i=o.of(this,arguments);l?clearTimeout(l):(oo.call(this),ot=s(r=d||n.mouse(this)),f(i));l=setTimeout(function(){l=null;u(i)},50);kt();h(Math.pow(2,.002*he())*t.k);c(r,ot);e(i)}function vt(){var i=n.mouse(this),r=Math.log(t.k)/Math.LN2;ut(this,i,s(i),n.event.shiftKey?Math.ceil(r)-1:Math.floor(r)+1)}var ot,r,d,l,g,nt,a,tt,v,t={x:0,y:0,k:1},y=[960,500],w=sc,b=250,st=0,it="mousedown.zoom",ht="mousemove.zoom",ct="mouseup.zoom",rt="touchstart.zoom",o=vo(i,"zoomstart","zoom","zoomend");return oc||(oc="onwheel"in p?(he=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in p?(he=function(){return n.event.wheelDelta},"mousewheel"):(he=function(){return-n.event.detail},"MozMousePixelScroll")),i.event=function(i){i.each(function(){var i=o.of(this,arguments),s=t;di?n.select(this).transition().each("start.zoom",function(){t=this.__chart__||{x:0,y:0,k:1};f(i)}).tween("zoom:zoom",function(){var u=y[0],h=y[1],f=r?r[0]:u/2,o=r?r[1]:h/2,c=n.interpolateZoom([(f-t.x)/t.k,(o-t.y)/t.k,u/t.k],[(f-s.x)/s.k,(o-s.y)/s.k,u/s.k]);return function(n){var r=c(n),s=u/r[2];this.__chart__=t={x:f-r[0]*s,y:o-r[1]*s,k:s};e(i)}}).each("interrupt.zoom",function(){u(i)}).each("end.zoom",function(){u(i)}):(this.__chart__=t,f(i),e(i),u(i))})},i.translate=function(n){return arguments.length?(t={x:+n[0],y:+n[1],k:t.k},k(),i):[t.x,t.y]},i.scale=function(n){return arguments.length?(t={x:t.x,y:t.y,k:null},h(+n),k(),i):t.k},i.scaleExtent=function(n){return arguments.length?(w=null==n?sc:[+n[0],+n[1]],i):w},i.center=function(n){return arguments.length?(d=n&&[+n[0],+n[1]],i):d},i.size=function(n){return arguments.length?(y=n&&[+n[0],+n[1]],i):y},i.duration=function(n){return arguments.length?(b=+n,i):b},i.x=function(n){return arguments.length?(a=n,nt=n.copy(),t={x:0,y:0,k:1},i):a},i.y=function(n){return arguments.length?(v=n,tt=n.copy(),t={x:0,y:0,k:1},i):v},n.rebind(i,o,"on")};sc=[0,1/0];n.color=si;si.prototype.toString=function(){return this.rgb()+""};n.hsl=ft;ce=ft.prototype=new si;ce.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new ft(this.h,this.s,this.l/n)};ce.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new ft(this.h,this.s,n*this.l)};ce.rgb=function(){return ko(this.h,this.s,this.l)};n.hcl=nt;le=nt.prototype=new si;le.brighter=function(n){return new nt(this.h,this.c,Math.min(100,this.l+ae*(arguments.length?n:1)))};le.darker=function(n){return new nt(this.h,this.c,Math.max(0,this.l-ae*(arguments.length?n:1)))};le.rgb=function(){return go(this.h,this.c,this.l).rgb()};n.lab=tt;var ae=18,ob=.95047,sb=1,hb=1.08883,hc=tt.prototype=new si;hc.brighter=function(n){return new tt(Math.min(100,this.l+ae*(arguments.length?n:1)),this.a,this.b)};hc.darker=function(n){return new tt(Math.max(0,this.l-ae*(arguments.length?n:1)),this.a,this.b)};hc.rgb=function(){return ka(this.l,this.a,this.b)};n.rgb=b;fu=b.prototype=new si;fu.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var i=this.r,r=this.g,u=this.b,t=30;return i||r||u?(i&&t>i&&(i=t),r&&t>r&&(r=t),u&&t>u&&(u=t),new b(Math.min(255,i/n),Math.min(255,r/n),Math.min(255,u/n))):new b(t,t,t)};fu.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new b(n*this.r,n*this.g,n*this.b)};fu.hsl=function(){return tv(this.r,this.g,this.b)};fu.toString=function(){return"#"+nr(this.r)+nr(this.g)+nr(this.b)};eu=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});eu.forEach(function(n,t){eu.set(n,ga(t))});n.functor=o;n.xhr=fs(v);n.dsv=function(n,t){function i(n,i,r){arguments.length<3&&(r=i,i=null);var e=bu(n,t,null==i?u:f(i),r);return e.row=function(n){return arguments.length?e.response(null==(i=n)?u:f(n)):i},e}function u(n){return i.parse(n.responseText)}function f(n){return function(t){return i.parse(t.responseText,n)}}function e(t){return t.map(r).join(n)}function r(n){return o.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var o=new RegExp('["'+n+"\n]"),s=n.charCodeAt(0);return i.parse=function(n,t){var r;return i.parseRows(n,function(n,i){if(r)return r(n,i-1);var u=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,i){return t(u(n),i)}:u})},i.parseRows=function(n,t){function h(){var f,t,u,h;if(i>=o)return e;if(r)return r=!1,c;if(f=i,34===n.charCodeAt(f)){for(t=f;t++<o;)if(34===n.charCodeAt(t)){if(34!==n.charCodeAt(t+1))break;++t}return i=t+2,u=n.charCodeAt(t+1),13===u?(r=!0,10===n.charCodeAt(t+2)&&++i):10===u&&(r=!0),n.slice(f+1,t).replace(/""/g,'"')}for(;o>i;){if(u=n.charCodeAt(i++),h=1,10===u)r=!0;else if(13===u)r=!0,10===n.charCodeAt(i)&&(++i,++h);else if(u!==s)continue;return n.slice(f,i-h)}return n.slice(f)}for(var f,u,r,c={},e={},l=[],o=n.length,i=0,a=0;(u=h())!==e;){for(f=[];u!==c&&u!==e;)f.push(u),u=h();t&&null==(f=t(f,a++))||l.push(f)}return l},i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var f=new ho,u=[];return t.forEach(function(n){for(var t in n)f.has(t)||u.push(f.add(t))}),[u.map(r).join(n)].concat(t.map(function(t){return u.map(function(n){return r(t[n])}).join(n)})).join("\n")},i.formatRows=function(n){return n.map(e).join("\n")},i};n.csv=n.dsv(",","text/csv");n.tsv=n.dsv("\t","text/tab-separated-values");cc=this[co(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};n.timer=function(){ku.apply(this,arguments)};n.timer.flush=function(){rv();uv()};n.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};cb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(nd);n.formatPrefix=function(t,i){var r=0;return(t=+t)&&(0>t&&(t*=-1),i&&(t=n.round(t,os(t,i))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),cb[8+r/3]};var lb=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,uut=n.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(t,i){return(t=n.round(t,os(t,i))).toFixed(Math.max(0,Math.min(20,os(t*(1+1e-15),i))))}}),i=n.time={},y=Date;yt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ht.setUTCDate.apply(this._,arguments)},setDay:function(){ht.setUTCDay.apply(this._,arguments)},setFullYear:function(){ht.setUTCFullYear.apply(this._,arguments)},setHours:function(){ht.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ht.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ht.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ht.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ht.setUTCSeconds.apply(this._,arguments)},setTime:function(){ht.setTime.apply(this._,arguments)}};ht=Date.prototype;i.year=hi(function(n){return n=i.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()});i.years=i.year.range;i.years.utc=i.year.utc.range;i.day=hi(function(n){var t=new y(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1});i.days=i.day.range;i.days.utc=i.day.utc.range;i.dayOfYear=function(n){var t=i.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var r=i[n]=hi(function(n){return(n=i.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var r=i.year(n).getDay();return Math.floor((i.dayOfYear(n)+(r+t)%7)/7)-(r!==t)});i[n+"s"]=r.range;i[n+"s"].utc=r.utc.range;i[n+"OfYear"]=function(n){var r=i.year(n).getDay();return Math.floor((i.dayOfYear(n)+(r+t)%7)/7)}});i.week=i.sunday;i.weeks=i.sunday.range;i.weeks.utc=i.sunday.utc.range;i.weekOfYear=i.sundayOfYear;var ab={"-":"",_:" ",0:"0"},c=/^\s*\d+/,vb=/^%/;n.locale=function(n){return{numberFormat:td(n),timeFormat:rd(n)}};lc=n.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});n.format=lc.numberFormat;n.geo={};ss.prototype={s:0,t:0,add:function(n){ov(n,this.t,ou);ov(ou.s,this.s,this);this.s?this.t+=ou.t:this.s=ou.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};ou=new ss;n.geo.stream=function(n,t){n&&ac.hasOwnProperty(n.type)?ac[n.type](n,t):tf(n,t)};ac={Feature:function(n,t){tf(n.geometry,t)},FeatureCollection:function(n,t){for(var i=n.features,r=-1,u=i.length;++r<u;)tf(i[r].geometry,t)}};vc={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates;t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var i=n.coordinates,r=-1,u=i.length;++r<u;)n=i[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){hs(n.coordinates,t,0)},MultiLineString:function(n,t){for(var i=n.coordinates,r=-1,u=i.length;++r<u;)hs(i[r],t,0)},Polygon:function(n,t){sv(n.coordinates,t)},MultiPolygon:function(n,t){for(var i=n.coordinates,r=-1,u=i.length;++r<u;)sv(i[r],t)},GeometryCollection:function(n,t){for(var i=n.geometries,r=-1,u=i.length;++r<u;)tf(i[r],t)}};n.geo.area=function(t){return be=0,n.geo.stream(t,k),be};ti=new ss;k={sphere:function(){be+=4*f},point:l,lineStart:l,lineEnd:l,polygonStart:function(){ti.reset();k.lineStart=dd},polygonEnd:function(){var n=2*ti;be+=0>n?4*f+n:n;k.lineStart=k.lineEnd=k.point=l}};n.geo.bounds=function(){function w(n,t){v.push(l=[i=n,f=n]);o>t&&(o=t);t>h&&(h=t)}function b(n,t){var d=ci([n*u,t*u]),v;if(y){var b=tr(y,d),nt=[b[1],-b[0],0],c=tr(nt,b);ff(c);c=ef(c);var g=n-a,p=g>0?1:-1,l=c[0]*s*p,k=r(g)>180;k^(l>p*a&&p*n>l)?(v=c[1]*s,v>h&&(h=v)):(l=(l+360)%360-180,k^(l>p*a&&p*n>l))?(v=-c[1]*s,o>v&&(o=v)):(o>t&&(o=t),t>h&&(h=t));k?a>n?e(i,n)>e(i,f)&&(f=n):e(n,f)>e(i,f)&&(i=n):f>=i?(i>n&&(i=n),n>f&&(f=n)):n>a?e(i,n)>e(i,f)&&(f=n):e(n,f)>e(i,f)&&(i=n)}else w(n,t);y=d;a=n}function d(){c.point=b}function g(){l[0]=i;l[1]=f;c.point=w;y=null}function nt(n,t){if(y){var i=n-a;p+=r(i)>180?i+(i>0?360:-360):i}else it=n,rt=t;k.point(n,t);b(n,t)}function ut(){k.lineStart()}function ft(){nt(it,rt);k.lineEnd();r(p)>t&&(i=-(f=180));l[0]=i;l[1]=f;y=null}function e(n,t){return(t-=n)<0?t+360:t}function et(n,t){return n[0]-t[0]}function tt(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var i,o,f,h,a,it,rt,y,p,v,l,c={point:w,lineStart:d,lineEnd:g,polygonStart:function(){c.point=nt;c.lineStart=ut;c.lineEnd=ft;p=0;k.polygonStart()},polygonEnd:function(){k.polygonEnd();c.point=w;c.lineStart=d;c.lineEnd=g;0>ti?(i=-(f=180),o=-(h=90)):p>t?h=90:-t>p&&(o=-90);l[0]=i;l[1]=f}};return function(t){var a;if(h=f=-(i=o=1/0),v=[],n.geo.stream(t,c),a=v.length,a){v.sort(et);for(var u,s=1,r=v[0],y=[r];a>s;++s)u=v[s],tt(u[0],r)||tt(u[1],r)?(e(r[0],u[1])>e(r[0],r[1])&&(r[1]=u[1]),e(u[0],r[1])>e(r[0],r[1])&&(r[0]=u[0])):y.push(r=u);for(var p,u,w=-(1/0),a=y.length-1,s=0,r=y[a];a>=s;r=u,++s)u=y[s],(p=e(r[1],u[0]))>w&&(w=p,i=u[0],f=r[1])}return v=l=null,i===1/0||o===1/0?[[NaN,NaN],[NaN,NaN]]:[[i,o],[f,h]]}}();n.geo.centroid=function(i){su=ke=pi=wi=wt=ii=ri=ct=sr=hr=ui=0;n.geo.stream(i,rt);var r=sr,u=hr,f=ui,e=r*r+u*u+f*f;return se>e&&(r=ii,u=ri,f=ct,t>ke&&(r=pi,u=wi,f=wt),e=r*r+u*u+f*f,se>e)?[NaN,NaN]:[Math.atan2(u,r)*s,gt(f/Math.sqrt(e))*s]};var su,ke,pi,wi,wt,ii,ri,ct,sr,hr,ui,rt={sphere:l,point:ls,lineStart:hv,lineEnd:cv,polygonStart:function(){rt.lineStart=gd},polygonEnd:function(){rt.lineStart=hv}},yb=yv(yr,ig,ug,[-f,-f/2]),de=1e9;n.geo.clipExtent=function(){var t,i,r,u,n,f,e={stream:function(t){return n&&(n.valid=!1),n=f(t),n.valid=!0,n},extent:function(o){return arguments.length?(f=bv(t=+o[0][0],i=+o[0][1],r=+o[1][0],u=+o[1][1]),n&&(n.valid=!1,n=null),e):[[t,i],[r,u]]}};return e.extent([[0,0],[960,500]])};(n.geo.conicEqualArea=function(){return as(kv)}).raw=kv;n.geo.albers=function(){return n.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};n.geo.albersUsa=function(){function r(n){var t=n[0],i=n[1];return u=null,s(t,i),u||(h(t,i),u)||c(t,i),u}var u,s,h,c,i=n.geo.albers(),f=n.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),e=n.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o={point:function(n,t){u=[n,t]}};return r.invert=function(n){var u=i.scale(),o=i.translate(),t=(n[0]-o[0])/u,r=(n[1]-o[1])/u;return(r>=.12&&.234>r&&t>=-.425&&-.214>t?f:r>=.166&&.234>r&&t>=-.214&&-.115>t?e:i).invert(n)},r.stream=function(n){var t=i.stream(n),r=f.stream(n),u=e.stream(n);return{point:function(n,i){t.point(n,i);r.point(n,i);u.point(n,i)},sphere:function(){t.sphere();r.sphere();u.sphere()},lineStart:function(){t.lineStart();r.lineStart();u.lineStart()},lineEnd:function(){t.lineEnd();r.lineEnd();u.lineEnd()},polygonStart:function(){t.polygonStart();r.polygonStart();u.polygonStart()},polygonEnd:function(){t.polygonEnd();r.polygonEnd();u.polygonEnd()}}},r.precision=function(n){return arguments.length?(i.precision(n),f.precision(n),e.precision(n),r):i.precision()},r.scale=function(n){return arguments.length?(i.scale(n),f.scale(.35*n),e.scale(n),r.translate(i.translate())):i.scale()},r.translate=function(n){if(!arguments.length)return i.translate();var u=i.scale(),l=+n[0],a=+n[1];return s=i.translate(n).clipExtent([[l-.455*u,a-.238*u],[l+.455*u,a+.238*u]]).stream(o).point,h=f.translate([l-.307*u,a+.201*u]).clipExtent([[l-.425*u+t,a+.12*u+t],[l-.214*u-t,a+.234*u-t]]).stream(o).point,c=e.translate([l-.205*u,a+.212*u]).clipExtent([[l-.214*u+t,a+.166*u+t],[l-.115*u-t,a+.234*u-t]]).stream(o).point,r},r.scale(1070)};var yc,pc,ge,no,to,io,fi={point:l,lineStart:l,lineEnd:l,polygonStart:function(){pc=0;fi.lineStart=og},polygonEnd:function(){fi.lineStart=fi.lineEnd=fi.point=l;yc+=r(pc/2)}},fut={point:sg,lineStart:l,lineEnd:l,polygonStart:l,polygonEnd:l},ut={point:li,lineStart:gv,lineEnd:ny,polygonStart:function(){ut.lineStart=cg},polygonEnd:function(){ut.point=li;ut.lineStart=gv;ut.lineEnd=ny}};n.geo.path=function(){function t(t){return t&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),f&&f.valid||(f=u(i)),n.geo.stream(t,f)),i.result()}function e(){return f=null,t}var o,s,u,i,f,r=4.5;return t.area=function(t){return yc=0,n.geo.stream(t,u(fi)),yc},t.centroid=function(t){return pi=wi=wt=ii=ri=ct=sr=hr=ui=0,n.geo.stream(t,u(ut)),ui?[sr/ui,hr/ui]:ct?[ii/ct,ri/ct]:wt?[pi/wt,wi/wt]:[NaN,NaN]},t.bounds=function(t){return to=io=-(ge=no=1/0),n.geo.stream(t,u(fut)),[[ge,no],[to,io]]},t.projection=function(n){return arguments.length?(u=(o=n)?n.stream||ag(n):v,e()):o},t.context=function(n){return arguments.length?(i=null==(s=n)?new hg:new lg(n),"function"!=typeof r&&i.pointRadius(r),e()):s},t.pointRadius=function(n){return arguments.length?(r="function"==typeof n?n:(i.pointRadius(+n),+n),t):r},t.projection(n.geo.albersUsa()).context(null)};n.geo.transform=function(n){return{stream:function(t){var i=new iy(t);for(var r in n)i[r]=n[r];return i}}};iy.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};n.geo.projection=ni;n.geo.projectionMutator=vs;(n.geo.equirectangular=function(){return ni(pr)}).raw=pr.invert=pr;n.geo.rotation=function(n){function t(t){return t=n(t[0]*u,t[1]*u),t[0]*=s,t[1]*=s,t}return n=ys(n[0]%360*u,n[1]*u,n.length>2?n[2]*u:0),t.invert=function(t){return t=n.invert(t[0]*u,t[1]*u),t[0]*=s,t[1]*=s,t},t};fy.invert=pr;n.geo.circle=function(){function n(){var n="function"==typeof t?t.apply(this,arguments):t,f=ys(-n[0]*u,-n[1]*u,0).invert,i=[];return r(null,null,1,{point:function(n,t){i.push(n=f(n,t));n[0]*=s;n[1]*=s}}),{type:"Polygon",coordinates:[i]}}var i,r,t=[0,0],f=6;return n.origin=function(i){return arguments.length?(t=i,n):t},n.angle=function(t){return arguments.length?(r=ps((i=+t)*u,f*u),n):i},n.precision=function(t){return arguments.length?(r=ps(i*u,(f=+t)*u),n):f},n.angle(90)};n.geo.distance=function(n,t){var i,f=(t[0]-n[0])*u,e=n[1]*u,o=t[1]*u,a=Math.sin(f),s=Math.cos(f),h=Math.sin(e),c=Math.cos(e),l=Math.sin(o),r=Math.cos(o);return Math.atan2(Math.sqrt((i=r*a)*i+(i=c*l-h*r*s)*i),h*l+c*r*s)};n.geo.graticule=function(){function i(){return{type:"MultiLineString",coordinates:d()}}function d(){return n.range(Math.ceil(f/v)*v,u,v).map(b).concat(n.range(Math.ceil(o/y)*y,e,y).map(k)).concat(n.range(Math.ceil(h/a)*a,s,a).filter(function(n){return r(n%v)>t}).map(g)).concat(n.range(Math.ceil(l/w)*w,c,w).filter(function(n){return r(n%y)>t}).map(nt))}var s,h,u,f,c,l,e,o,g,nt,b,k,a=10,w=a,v=90,y=360,p=2.5;return i.lines=function(){return d().map(function(n){return{type:"LineString",coordinates:n}})},i.outline=function(){return{type:"Polygon",coordinates:[b(f).concat(k(e).slice(1),b(u).reverse().slice(1),k(o).reverse().slice(1))]}},i.extent=function(n){return arguments.length?i.majorExtent(n).minorExtent(n):i.minorExtent()},i.majorExtent=function(n){return arguments.length?(f=+n[0][0],u=+n[1][0],o=+n[0][1],e=+n[1][1],f>u&&(n=f,f=u,u=n),o>e&&(n=o,o=e,e=n),i.precision(p)):[[f,o],[u,e]]},i.minorExtent=function(n){return arguments.length?(h=+n[0][0],s=+n[1][0],l=+n[0][1],c=+n[1][1],h>s&&(n=h,h=s,s=n),l>c&&(n=l,l=c,c=n),i.precision(p)):[[h,l],[s,c]]},i.step=function(n){return arguments.length?i.majorStep(n).minorStep(n):i.minorStep()},i.majorStep=function(n){return arguments.length?(v=+n[0],y=+n[1],i):[v,y]},i.minorStep=function(n){return arguments.length?(a=+n[0],w=+n[1],i):[a,w]},i.precision=function(n){return arguments.length?(p=+n,g=cy(l,c,90),nt=ly(h,s,p),b=cy(o,e,90),k=ly(f,u,p),i):p},i.majorExtent([[-180,-90+t],[180,90-t]]).minorExtent([[-180,-80-t],[180,80+t]])};n.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[u||i.apply(this,arguments),f||r.apply(this,arguments)]}}var u,f,i=ws,r=bs;return t.distance=function(){return n.geo.distance(u||i.apply(this,arguments),f||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,u="function"==typeof n?null:n,t):i},t.target=function(n){return arguments.length?(r=n,f="function"==typeof n?null:n,t):r},t.precision=function(){return arguments.length?t:0},t};n.geo.interpolate=function(n,t){return vg(n[0]*u,n[1]*u,t[0]*u,t[1]*u)};n.geo.length=function(t){return wc=0,n.geo.stream(t,bi),wc};bi={sphere:l,point:l,lineStart:yg,lineEnd:l,polygonStart:l,polygonEnd:l};bc=wr(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(n.geo.azimuthalEqualArea=function(){return ni(bc)}).raw=bc;kc=wr(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},v);(n.geo.azimuthalEquidistant=function(){return ni(kc)}).raw=kc;(n.geo.conicConformal=function(){return as(ay)}).raw=ay;(n.geo.conicEquidistant=function(){return as(vy)}).raw=vy;dc=wr(function(n){return 1/n},Math.atan);(n.geo.gnomonic=function(){return ni(dc)}).raw=dc;hf.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-h]};(n.geo.mercator=function(){return yy(hf)}).raw=hf;gc=wr(function(){return 1},Math.asin);(n.geo.orthographic=function(){return ni(gc)}).raw=gc;nl=wr(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(n.geo.stereographic=function(){return ni(nl)}).raw=nl;ks.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-h]};(n.geo.transverseMercator=function(){var n=yy(ks),i=n.center,t=n.rotate;return n.center=function(n){return n?i([-n[1],n[0]]):(n=i(),[n[1],-n[0]])},n.rotate=function(n){return n?t([n[0],n[1],n.length>2?n[2]+90:90]):(n=t(),[n[0],n[1],n[2]-90])},t([0,0,90])}).raw=ks;n.geom={};n.geom.hull=function(n){function t(n){if(n.length<3)return[];for(var l=o(i),a=o(r),h=n.length,u=[],c=[],t=0;h>t;t++)u.push([+l.call(this,n[t],t),+a.call(this,n[t],t),t]);for(u.sort(pg),t=0;h>t;t++)c.push([u[t][0],-u[t][1]]);var f=py(u),e=py(c),v=e[0]===f[0],y=e[e.length-1]===f[f.length-1],s=[];for(t=f.length-1;t>=0;--t)s.push(n[u[f[t]][2]]);for(t=+v;t<e.length-y;++t)s.push(n[u[e[t]][2]]);return s}var i=ir,r=br;return arguments.length?t(n):(t.x=function(n){return arguments.length?(i=n,t):i},t.y=function(n){return arguments.length?(r=n,t):r},t)};n.geom.polygon=function(n){return re(n,hu),n};hu=n.geom.polygon.prototype=[];hu.area=function(){for(var t,i=-1,r=this.length,n=this[r-1],u=0;++i<r;)t=n,n=this[i],u+=t[1]*n[0]-t[0]*n[1];return.5*u};hu.centroid=function(n){var i,r,u=-1,f=this.length,e=0,o=0,t=this[f-1];for(arguments.length||(n=-1/(6*this.area()));++u<f;)i=t,t=this[u],r=i[0]*t[1]-t[0]*i[1],e+=(i[0]+t[0])*r,o+=(i[1]+t[1])*r;return[e*n,o*n]};hu.clip=function(n){for(var f,e,o,t,i,r,s=wy(n),h=-1,c=this.length-wy(this),u=this[c-1];++h<c;){for(f=n.slice(),n.length=0,t=this[h],i=f[(o=f.length-s)-1],e=-1;++e<o;)r=f[e],ds(r,u,t)?(ds(i,u,t)||n.push(gs(i,r,u,t)),n.push(r)):ds(i,u,t)&&n.push(gs(i,r,u,t)),i=r;s&&n.push(n[0]);u=t}return n};il=[];rl=[];dy.prototype.prepare=function(){for(var t,n=this.edges,i=n.length;i--;)t=n[i].edge,t.b&&t.a||n.splice(i,1);return n.sort(gy),n.length};lf.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};th.prototype={insert:function(n,t){var i,r,u;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;i=n}else this._?(n=tp(this._),t.P=null,t.N=n,n.P=n.L=t,i=n):(t.P=t.N=null,this._=t,i=null);for(t.L=t.R=null,t.U=i,t.C=!0,n=t;i&&i.C;)r=i.U,i===r.L?(u=r.R,u&&u.C?(i.C=u.C=!1,r.C=!0,n=r):(n===i.R&&(dr(this,i),n=i,i=n.U),i.C=!1,r.C=!0,gr(this,r))):(u=r.L,u&&u.C?(i.C=u.C=!1,r.C=!0,n=r):(n===i.L&&(gr(this,i),n=i,i=n.U),i.C=!1,r.C=!0,dr(this,r))),i=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P);n.P&&(n.P.N=n.N);n.N=n.P=null;var t,r,e,i=n.U,f=n.L,u=n.R;if(r=f?u?tp(u):f:u,i?i.L===n?i.L=r:i.R=r:this._=r,f&&u?(e=r.C,r.C=n.C,r.L=f,f.U=r,r!==u?(i=r.U,r.U=n.U,n=r.R,i.L=n,r.R=u,u.U=r):(r.U=i,i=r,n=r.R)):(e=n.C,n=r),n&&(n.U=i),!e){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,dr(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,gr(this,t),t=i.R);t.C=i.C;i.C=t.R.C=!1;dr(this,i);n=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,gr(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,dr(this,t),t=i.L);t.C=i.C;i.C=t.L.C=!1;gr(this,i);n=this._;break}t.C=!0;n=i;i=i.U}while(!n.C);n&&(n.C=!1)}}};n.geom.voronoi=function(n){function i(n){var o=new Array(n.length),t=r[0][0],i=r[0][1],f=r[1][0],e=r[1][1];return ih(u(n),r).cells.forEach(function(r,u){var h=r.edges,s=r.site,c=o[u]=h.length?h.map(function(n){var t=n.start();return[t.x,t.y]}):s.x>=t&&s.x<=f&&s.y>=i&&s.y<=e?[[t,e],[f,e],[f,i],[t,i]]:[];c.point=n[u]}),o}function u(n){return n.map(function(n,i){return{x:Math.round(s(n,i)/t)*t,y:Math.round(h(n,i)/t)*t,i:i}})}var f=ir,e=br,s=f,h=e,r=lu;return n?i(n):(i.links=function(n){return ih(u(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},i.triangles=function(n){var t=[];return ih(u(n)).cells.forEach(function(i,r){for(var l,e,o=i.site,s=i.edges.sort(gy),h=-1,c=s.length,u=s[c-1].edge,f=u.l===o?u.r:u.l;++h<c;)l=u,e=f,u=s[h].edge,f=u.l===o?u.r:u.l,r<e.i&&r<f.i&&en(o,e,f)<0&&t.push([n[r],n[e.i],n[f.i]])}),t},i.x=function(n){return arguments.length?(s=o(f=n),i):f},i.y=function(n){return arguments.length?(h=o(e=n),i):e},i.clipExtent=function(n){return arguments.length?(r=null==n?lu:n,i):r===lu?null:r},i.size=function(n){return arguments.length?i.clipExtent(n&&[[0,0],n]):r===lu?null:r&&r[1]},i)};lu=[[-1e6,-1e6],[1e6,1e6]];n.geom.delaunay=function(t){return n.geom.voronoi().triangles(t)};n.geom.quadtree=function(n,t,i,u,f){function e(n){function it(n,t,i,u,f,e,o,s){var h,c,l;isNaN(i)||isNaN(u)||(n.leaf?(h=n.x,c=n.y,null!=h?r(h-i)+r(c-u)<.01?nt(n,t,i,u,f,e,o,s):(l=n.point,n.x=n.y=n.point=null,nt(n,l,h,c,f,e,o,s),nt(n,t,i,u,f,e,o,s)):(n.x=i,n.y=u,n.point=t)):nt(n,t,i,u,f,e,o,s))}function nt(n,t,i,r,u,f,e,o){var s=.5*(u+e),h=.5*(f+o),c=i>=s,l=r>=h,a=l<<1|c;n.leaf=!1;n=n.nodes[a]||(n.nodes[a]=ip());c?u=s:e=s;l?f=h:o=h;it(n,t,i,r,u,f,e,o)}var l,d,g,e,tt,a,v,y,p,ft=o(s),et=o(h),b,k,rt,ut,w;if(null!=t)a=t,v=i,y=u,p=f;else if(y=p=-(a=v=1/0),d=[],g=[],tt=n.length,c)for(e=0;tt>e;++e)l=n[e],l.x<a&&(a=l.x),l.y<v&&(v=l.y),l.x>y&&(y=l.x),l.y>p&&(p=l.y),d.push(l.x),g.push(l.y);else for(e=0;tt>e;++e)b=+ft(l=n[e],e),k=+et(l,e),a>b&&(a=b),v>k&&(v=k),b>y&&(y=b),k>p&&(p=k),d.push(b),g.push(k);if(rt=y-a,ut=p-v,rt>ut?p=v+rt:y=a+ut,w=ip(),w.add=function(n){it(w,n,+ft(n,++e),+et(n,e),a,v,y,p)},w.visit=function(n){nu(n,w,a,v,y,p)},w.find=function(n){return hn(w,n[0],n[1],a,v,y,p)},e=-1,null==t){for(;++e<tt;)it(w,n[e],d[e],g[e],a,v,y,p);--e}else n.forEach(w.add);return d=g=n=l=null,w}var c,s=ir,h=br;return(c=arguments.length)?(s=on,h=sn,3===c&&(f=i,u=t,i=t=0),e(n)):(e.x=function(n){return arguments.length?(s=n,e):s},e.y=function(n){return arguments.length?(h=n,e):h},e.extent=function(n){return arguments.length?(null==n?t=i=u=f=null:(t=+n[0][0],i=+n[0][1],u=+n[1][0],f=+n[1][1]),e):null==t?null:[[t,i],[u,f]]},e.size=function(n){return arguments.length?(null==n?t=i=u=f=null:(t=i=0,u=+n[0],f=+n[1]),e):null==t?null:[u-t,f-i]},e)};n.interpolateRgb=rh;n.interpolateObject=rp;n.interpolateNumber=pt;n.interpolateString=up;ro=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;uo=new RegExp(ro.source,"g");n.interpolate=ai;n.interpolators=[function(n,t){var i=typeof t;return("string"===i?eu.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?rh:up:t instanceof si?rh:Array.isArray(t)?vf:"object"===i&&isNaN(t)?rp:pt)(n,t)}];n.interpolateArray=vf;var pb=function(){return v},eut=n.map({linear:pb,poly:yn,quad:function(){return ln},cubic:function(){return an},sin:function(){return pn},exp:function(){return wn},circle:function(){return bn},elastic:kn,back:dn,bounce:function(){return gn}}),out=n.map({"in":v,out:fp,"in-out":ep,"out-in":function(n){return ep(fp(n))}});n.ease=function(n){var t=n.indexOf("-"),i=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return i=eut.get(i)||pb,r=out.get(r)||v,cn(r(i.apply(null,ib.call(arguments,1))))};n.interpolateHcl=ntt;n.interpolateHsl=ttt;n.interpolateLab=itt;n.interpolateRound=op;n.transform=function(t){var i=p.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(n){if(null!=n){i.setAttribute("transform",n);var t=i.transform.baseVal.consolidate()}return new sp(t?t.matrix:wb)})(t)};sp.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};wb={a:1,b:0,c:0,d:1,e:0,f:0};n.interpolateTransform=lp;n.layout={};n.layout.bundle=function(){return function(n){for(var t=[],i=-1,r=n.length;++i<r;)t.push(ctt(n[i]));return t}};n.layout.chord=function(){function c(){var y,c,tt,t,a,k={},b=[],it=n.range(r),g=[],p,w;for(i=[],u=[],y=0,t=-1;++t<r;){for(c=0,a=-1;++a<r;)c+=f[t][a];b.push(c);g.push(n.range(r));y+=c}for(e&&it.sort(function(n,t){return e(b[n],b[t])}),o&&g.forEach(function(n,t){n.sort(function(n,i){return o(f[t][n],f[t][i])})}),y=(d-h*r)/y,c=0,t=-1;++t<r;){for(tt=c,a=-1;++a<r;){var v=it[t],nt=g[v][a],rt=f[v][nt],ut=c,ft=c+=rt*y;k[v+"-"+nt]={index:v,subindex:nt,startAngle:ut,endAngle:ft,value:rt}}u[v]={index:v,startAngle:tt,endAngle:c,value:b[v]};c+=h}for(t=-1;++t<r;)for(a=t-1;++a<r;)p=k[t+"-"+a],w=k[a+"-"+t],(p.value||w.value)&&i.push(p.value<w.value?{source:w,target:p}:{source:p,target:w});s&&l()}function l(){i.sort(function(n,t){return s((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var i,u,f,r,e,o,s,t={},h=0;return t.matrix=function(n){return arguments.length?(r=(f=n)&&f.length,i=u=null,t):f},t.padding=function(n){return arguments.length?(h=n,i=u=null,t):h},t.sortGroups=function(n){return arguments.length?(e=n,i=u=null,t):e},t.sortSubgroups=function(n){return arguments.length?(o=n,i=null,t):o},t.sortChords=function(n){return arguments.length?(s=n,i&&l(),t):s},t.chords=function(){return i||c(),i},t.groups=function(){return u||c(),u},t};n.layout.force=function(){function g(n){return function(t,i,r,u){var e;if(t.point!==n){var o=t.cx-n.x,s=t.cy-n.y,h=u-i,f=o*o+s*s;if(f>h*h/d)return b>f&&(e=t.charge/f,n.px-=o*e,n.py-=s*e),!0;t.point&&f&&b>f&&(e=t.pointCharge/f,n.px-=o*e,n.py-=s*e)}return!t.charge}}function nt(i){i.px=n.event.x;i.py=n.event.y;t.resume()}var o,l,r,a,y,p,t={},s=n.dispatch("start","tick","end"),f=[1,1],w=.9,h=sut,c=hut,e=-30,b=cut,k=.1,d=.64,i=[],u=[];return t.tick=function(){if((r*=.99)<.005)return o=null,s.end({type:"end",alpha:r=0}),!0;for(var it,t,l,d,nt,c,v,b,tt=i.length,rt=u.length,h=0;rt>h;++h)t=u[h],l=t.source,d=t.target,v=d.x-l.x,b=d.y-l.y,(nt=v*v+b*b)&&(nt=r*y[h]*((nt=Math.sqrt(nt))-a[h])/nt,v*=nt,b*=nt,d.x-=v*(c=l.weight+d.weight?l.weight/(l.weight+d.weight):.5),d.y-=b*c,l.x+=v*(c=1-c),l.y+=b*c);if((c=r*k)&&(v=f[0]/2,b=f[1]/2,h=-1,c))for(;++h<tt;)t=i[h],t.x+=(v-t.x)*c,t.y+=(b-t.y)*c;if(e)for(vp(it=n.geom.quadtree(i),r,p),h=-1;++h<tt;)(t=i[h]).fixed||it.visit(g(t));for(h=-1;++h<tt;)t=i[h],t.fixed?(t.x=t.px,t.y=t.py):(t.x-=(t.px-(t.px=t.x))*w,t.y-=(t.py-(t.py=t.y))*w);s.tick({type:"tick",alpha:r})},t.nodes=function(n){return arguments.length?(i=n,t):i},t.links=function(n){return arguments.length?(u=n,t):u},t.size=function(n){return arguments.length?(f=n,t):f},t.linkDistance=function(n){return arguments.length?(h="function"==typeof n?n:+n,t):h},t.distance=t.linkDistance,t.linkStrength=function(n){return arguments.length?(c="function"==typeof n?n:+n,t):c},t.friction=function(n){return arguments.length?(w=+n,t):w},t.charge=function(n){return arguments.length?(e="function"==typeof n?n:+n,t):e},t.chargeDistance=function(n){return arguments.length?(b=n*n,t):Math.sqrt(b)},t.gravity=function(n){return arguments.length?(k=+n,t):k},t.theta=function(n){return arguments.length?(d=n*n,t):Math.sqrt(d)},t.alpha=function(n){return arguments.length?(n=+n,r?n>0?r=n:(o.c=null,o.t=NaN,o=null,s.end({type:"end",alpha:r=0})):n>0&&(s.start({type:"start",alpha:r=n}),o=ku(t.tick)),t):r},t.start=function(){function v(t,i){var f;if(!o){for(o=new Array(s),r=0;s>r;++r)o[r]=[];for(r=0;l>r;++r)f=u[r],o[f.source.index].push(f.target),o[f.target.index].push(f.source)}for(var e,h=o[n],r=-1,c=h.length;++r<c;)if(!isNaN(e=h[r][t]))return e;return Math.random()*i}for(var o,r,s=i.length,l=u.length,w=f[0],b=f[1],n=0;s>n;++n)(r=i[n]).index=n,r.weight=0;for(n=0;l>n;++n)r=u[n],"number"==typeof r.source&&(r.source=i[r.source]),"number"==typeof r.target&&(r.target=i[r.target]),++r.source.weight,++r.target.weight;for(n=0;s>n;++n)r=i[n],isNaN(r.x)&&(r.x=v("x",w)),isNaN(r.y)&&(r.y=v("y",b)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(a=[],"function"==typeof h)for(n=0;l>n;++n)a[n]=+h.call(this,u[n],n);else for(n=0;l>n;++n)a[n]=h;if(y=[],"function"==typeof c)for(n=0;l>n;++n)y[n]=+c.call(this,u[n],n);else for(n=0;l>n;++n)y[n]=c;if(p=[],"function"==typeof e)for(n=0;s>n;++n)p[n]=+e.call(this,i[n],n);else for(n=0;s>n;++n)p[n]=e;return t.resume()},t.resume=function(){return t.alpha(.1)},t.stop=function(){return t.alpha(0)},t.drag=function(){return l||(l=n.behavior.drag().origin(v).on("dragstart.force",att).on("drag.force",nt).on("dragend.force",vtt)),arguments.length?void this.on("mouseover.force",ytt).on("mouseout.force",ptt).call(l):l},n.rebind(t,s,"on")};var sut=20,hut=1,cut=1/0;n.layout.hierarchy=function(){function n(u){var f,h=[u],c=[],o,e,s;for(u.depth=0;null!=(f=h.pop());)if(c.push(f),(e=r.call(n,f,f.depth))&&(o=e.length)){for(;--o>=0;)h.push(s=e[o]),s.parent=f,s.depth=f.depth+1;t&&(f.value=0);f.children=e}else t&&(f.value=+t.call(n,f,f.depth)||0),delete f.children;return et(u,function(n){var r,u;i&&(r=n.children)&&r.sort(i);t&&(u=n.parent)&&(u.value+=n.value)}),c}var i=ktt,r=wtt,t=btt;return n.sort=function(t){return arguments.length?(i=t,n):i},n.children=function(t){return arguments.length?(r=t,n):r},n.value=function(i){return arguments.length?(t=i,n):t},n.revalue=function(i){return t&&(iu(i,function(n){n.children&&(n.value=0)}),et(i,function(i){var r;i.children||(i.value=+t.call(n,i,i.depth)||0);(r=i.parent)&&(r.value+=i.value)})),i},n};n.layout.partition=function(){function r(n,t,i,u){var f=n.children,o,s,h,e;if(n.x=t,n.y=n.depth*u,n.dx=i,n.dy=u,f&&(o=f.length))for(e=-1,i=n.value?i/n.value:0;++e<o;)r(s=f[e],t,h=s.value*i,u),t+=h}function u(n){var t=n.children,i=0,f,r;if(t&&(f=t.length))for(r=-1;++r<f;)i=Math.max(i,u(t[r]));return 1+i}function i(n,i){var e=f.call(this,n,i);return r(e[0],0,t[0],t[1]/u(e[0])),e}var f=n.layout.hierarchy(),t=[1,1];return i.size=function(n){return arguments.length?(t=n,i):t},tu(i,f)};n.layout.pie=function(){function t(o){var a,h=o.length,s=o.map(function(n,i){return+e.call(t,n,i)}),c=+("function"==typeof r?r.apply(this,arguments):r),l=("function"==typeof u?u.apply(this,arguments):u)-c,v=Math.min(Math.abs(l)/h,+("function"==typeof f?f.apply(this,arguments):f)),y=v*(0>l?-1:1),p=n.sum(s),k=p?(l-h*y)/p:0,w=n.range(h),b=[];return null!=i&&w.sort(i===ul?function(n,t){return s[t]-s[n]}:function(n,t){return i(o[n],o[t])}),w.forEach(function(n){b[n]={data:o[n],value:a=s[n],startAngle:c,endAngle:c+=a*k+y,padAngle:v}}),b}var e=Number,i=ul,r=0,u=d,f=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(n){return arguments.length?(i=n,t):i},t.startAngle=function(n){return arguments.length?(r=n,t):r},t.endAngle=function(n){return arguments.length?(u=n,t):u},t.padAngle=function(n){return arguments.length?(f=n,t):f},t};ul={};n.layout.stack=function(){function t(s,h){var p,v,c,w,b,k;if(!(p=s.length))return s;var a=s.map(function(n,i){return r.call(t,n,i)}),l=a.map(function(n){return n.map(function(n,i){return[e.call(t,n,i),o.call(t,n,i)]})}),y=u.call(t,l,h);for(a=n.permute(a,y),l=n.permute(l,y),b=f.call(t,l,h),k=a[0].length,c=0;k>c;++c)for(i.call(t,a[0][c],w=b[c],l[0][c][1]),v=1;p>v;++v)i.call(t,a[v][c],w+=l[v-1][c][1],l[v][c][1]);return s}var r=v,u=uh,f=fh,i=tit,e=gtt,o=nit;return t.values=function(n){return arguments.length?(r=n,t):r},t.order=function(n){return arguments.length?(u="function"==typeof n?n:bb.get(n)||uh,t):u},t.offset=function(n){return arguments.length?(f="function"==typeof n?n:kb.get(n)||fh,t):f},t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(o=n,t):o},t.out=function(n){return arguments.length?(i=n,t):i},t};bb=n.map({"inside-out":function(t){for(var i,u=t.length,f=t.map(iit),e=t.map(rit),l=n.range(u).sort(function(n,t){return f[n]-f[t]}),o=0,s=0,h=[],c=[],r=0;u>r;++r)i=l[r],s>o?(o+=e[i],h.push(i)):(s+=e[i],c.push(i));return c.reverse().concat(h)},reverse:function(t){return n.range(t.length).reverse()},"default":uh});kb=n.map({silhouette:function(n){for(var r,i,s=n.length,f=n[0].length,e=[],u=0,o=[],t=0;f>t;++t){for(r=0,i=0;s>r;r++)i+=n[r][t][1];i>u&&(u=i);e.push(i)}for(t=0;f>t;++t)o[t]=(u-e[t])/2;return o},wiggle:function(n){var i,t,r,u,h,c,f,e,o,a=n.length,l=n[0],v=l.length,s=[];for(s[0]=e=o=0,t=1;v>t;++t){for(i=0,u=0;a>i;++i)u+=n[i][t][1];for(i=0,h=0,f=l[t][0]-l[t-1][0];a>i;++i){for(r=0,c=(n[i][t][1]-n[i][t-1][1])/(2*f);i>r;++r)c+=(n[r][t][1]-n[r][t-1][1])/f;h+=c*n[i][t][1]}s[t]=e-=u?h/u*f:0;o>e&&(o=e)}for(t=0;v>t;++t)s[t]-=o;return s},expand:function(n){for(var t,r,u=n.length,f=n[0].length,o=1/u,e=[],i=0;f>i;++i){for(t=0,r=0;u>t;t++)r+=n[t][i][1];if(r)for(t=0;u>t;t++)n[t][i][1]/=r;else for(t=0;u>t;t++)n[t][i][1]=o}for(i=0;f>i;++i)e[i]=0;return e},zero:fh});n.layout.histogram=function(){function t(t,e){for(var o,s,l=[],h=t.map(r,this),a=u.call(this,h,e),c=f.call(this,a,h,e),e=-1,y=h.length,v=c.length-1,p=i?1:1/y;++e<v;)o=l[e]=[],o.dx=c[e+1]-(o.x=c[e]),o.y=0;if(v>0)for(e=-1;++e<y;)s=h[e],s>=a[0]&&s<=a[1]&&(o=l[n.bisect(c,s,1,v)-1],o.y+=p,o.push(t[e]));return l}var i=!0,r=Number,u=eit,f=fit;return t.value=function(n){return arguments.length?(r=n,t):r},t.range=function(n){return arguments.length?(u=o(n),t):u},t.bins=function(n){return arguments.length?(f="number"==typeof n?function(t){return yp(t,n)}:o(n),t):f},t.frequency=function(n){return arguments.length?(i=!!n,t):i},t};n.layout.pack=function(){function i(n,i){var c=f.call(this,n,i),e=c[0],o=u[0],s=u[1],l=null==t?Math.sqrt:"function"==typeof t?t:function(){return t},h;return(e.x=e.y=0,et(e,function(n){n.r=+l(n.value)}),et(e,bp),r)&&(h=r*(t?1:Math.max(2*e.r/o,2*e.r/s))/2,et(e,function(n){n.r+=h}),et(e,bp),et(e,function(n){n.r-=h})),kp(e,o/2,s/2,t?1:1/Math.max(2*e.r/o,2*e.r/s)),c}var t,f=n.layout.hierarchy().sort(oit),r=0,u=[1,1];return i.size=function(n){return arguments.length?(u=n,i):u},i.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,i):t},i.padding=function(n){return arguments.length?(r=+n,i):r},tu(i,f)};n.layout.tree=function(){function i(n,i){var p=e.call(this,n,i),c=p[0],v=o(c);if(et(v,s),v.parent.m=-v.z,iu(v,h),u)iu(c,f);else{var l=c,a=c,y=c;iu(c,function(n){n.x<l.x&&(l=n);n.x>a.x&&(a=n);n.depth>y.depth&&(y=n)});var w=r(l,a)/2-l.x,b=t[0]/(a.x+r(a,l)/2+w),k=t[1]/(y.depth||1);iu(c,function(n){n.x=(n.x+w)*b;n.y=n.depth*k})}return p}function o(n){for(var u,f={A:null,children:[n]},e=[f];null!=(u=e.pop());)for(var i,r=u.children,t=0,o=r.length;o>t;++t)e.push((r[t]=i={_:r[t],parent:u,children:(i=r[t].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:t}).a=i);return f.children[0]}function s(n){var i=n.children,f=n.parent.children,t=n.i?f[n.i-1]:null,u;i.length?(lit(n),u=(i[0].z+i[i.length-1].z)/2,t?(n.z=t.z+r(n._,t._),n.m=n.z-u):n.z=u):t&&(n.z=t.z+r(n._,t._));n.parent.A=c(n,t,n.parent.A||f[0])}function h(n){n._.x=n.z+n.parent.m;n.m+=n.parent.m}function c(n,t,i){if(t){for(var s,u=n,e=n,f=t,o=u.parent.children[0],h=u.m,c=e.m,l=f.m,a=o.m;f=sh(f),u=oh(u),f&&u;)o=oh(o),e=sh(e),e.a=n,s=f.z+l-u.z-h+r(f._,u._),s>0&&(cit(ait(f,n,i),n,s),h+=s,c+=s),l+=f.m,h+=u.m,a+=o.m,c+=e.m;f&&!sh(e)&&(e.t=f,e.m+=l-c);u&&!oh(o)&&(o.t=u,o.m+=h-a,i=n)}return i}function f(n){n.x*=t[0];n.y=n.depth*t[1]}var e=n.layout.hierarchy().sort(null).value(null),r=gp,t=[1,1],u=null;return i.separation=function(n){return arguments.length?(r=n,i):r},i.size=function(n){return arguments.length?(u=null==(t=n)?f:null,i):u?null:t},i.nodeSize=function(n){return arguments.length?(u=null==(t=n)?null:f,i):u?t:null},tu(i,e)};n.layout.cluster=function(){function i(n,i){var o,c=f.call(this,n,i),e=c[0],a=0;et(e,function(n){var t=n.children;t&&t.length?(n.x=yit(t),n.y=vit(t)):(n.x=o?a+=r(n,o):0,n.y=0,o=n)});var s=nw(e),h=tw(e),l=s.x-r(s,h)/2,v=h.x+r(h,s)/2;return et(e,u?function(n){n.x=(n.x-e.x)*t[0];n.y=(e.y-n.y)*t[1]}:function(n){n.x=(n.x-l)/(v-l)*t[0];n.y=(1-(e.y?n.y/e.y:1))*t[1]}),c}var f=n.layout.hierarchy().sort(null).value(null),r=gp,t=[1,1],u=!1;return i.separation=function(n){return arguments.length?(r=n,i):r},i.size=function(n){return arguments.length?(u=null==(t=n),i):u?null:t},i.nodeSize=function(n){return arguments.length?(u=null!=(t=n),i):u?t:null},tu(i,f)};n.layout.treemap=function(){function o(n,t){for(var r,i,u=-1,f=n.length;++u<f;)i=(r=n[u]).value*(0>t?0:t),r.area=isNaN(i)||0>=i?0:i}function a(n){var u=n.children;if(u&&u.length){var l,v,y,r=c(n),t=[],f=u.slice(),h=1/0,e="slice"===i?r.dx:"dice"===i?r.dy:"slice-dice"===i?1&n.depth?r.dy:r.dx:Math.min(r.dx,r.dy);for(o(f,r.dx*r.dy/n.value),t.area=0;(y=f.length)>0;)t.push(l=f[y-1]),t.area+=l.area,"squarify"!==i||(v=p(t,e))<=h?(f.pop(),h=v):(t.area-=t.pop().area,s(t,e,r,!1),e=Math.min(r.dx,r.dy),t.length=t.area=0,h=1/0);t.length&&(s(t,e,r,!0),t.length=t.area=0);u.forEach(a)}}function v(n){var u=n.children;if(u&&u.length){var i,r=c(n),f=u.slice(),t=[];for(o(f,r.dx*r.dy/n.value),t.area=0;i=f.pop();)t.push(i),t.area+=i.area,null!=i.z&&(s(t,i.z?r.dx:r.dy,r,!f.length),t.length=t.area=0);u.forEach(v)}}function p(n,t){for(var i,r=n.area,u=0,f=1/0,o=-1,s=n.length;++o<s;)(i=n[o].area)&&(f>i&&(f=i),i>u&&(u=i));return r*=r,t*=t,r?Math.max(t*u*e/r,r/(t*f*e)):1/0}function s(n,t,i,r){var f,h=-1,c=n.length,o=i.x,s=i.y,e=t?u(n.area/t):0;if(t==i.dx){for((r||e>i.dy)&&(e=i.dy);++h<c;)f=n[h],f.x=o,f.y=s,f.dy=e,o+=f.dx=Math.min(i.x+i.dx-o,e?u(f.area/e):0);f.z=!0;f.dx+=i.x+i.dx-o;i.y+=e;i.dy-=e}else{for((r||e>i.dx)&&(e=i.dx);++h<c;)f=n[h],f.x=o,f.y=s,f.dx=e,s+=f.dy=Math.min(i.y+i.dy-s,e?u(f.area/e):0);f.z=!1;f.dy+=i.y+i.dy-s;i.x+=e;i.dx-=e}}function t(n){var i=r||h(n),t=i[0];return t.x=t.y=0,t.value?(t.dx=f[0],t.dy=f[1]):t.dx=t.dy=0,r&&h.revalue(t),o([t],t.dx*t.dy/t.value),(r?v:a)(t),l&&(r=i),i}var r,h=n.layout.hierarchy(),u=Math.round,f=[1,1],y=null,c=hh,l=!1,i="squarify",e=.5*(1+Math.sqrt(5));return t.size=function(n){return arguments.length?(f=n,t):f},t.padding=function(n){function u(i){var r=n.call(t,i,i.depth);return null==r?hh(i):iw(i,"number"==typeof r?[r,r,r,r]:r)}function i(t){return iw(t,n)}if(!arguments.length)return y;var r;return c=null==(y=n)?hh:"function"==(r=typeof n)?u:"number"===r?(n=[n,n,n,n],i):i,t},t.round=function(n){return arguments.length?(u=n?Math.round:Number,t):u!=Number},t.sticky=function(n){return arguments.length?(l=n,r=null,t):l},t.ratio=function(n){return arguments.length?(e=n,t):e},t.mode=function(n){return arguments.length?(i=n+"",t):i},tu(t,h)};n.random={normal:function(n,t){var i=arguments.length;return 2>i&&(t=1),1>i&&(n=0),function(){var r,u,i;do r=2*Math.random()-1,u=2*Math.random()-1,i=r*r+u*u;while(!i||i>1);return n+t*r*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=n.random.normal.apply(n,arguments);return function(){return Math.exp(t())}},bates:function(t){var i=n.random.irwinHall(t);return function(){return i()/t}},irwinHall:function(n){return function(){for(var t=0,i=0;n>i;i++)t+=Math.random();return t}}};n.scale={};db={floor:v,ceil:v};n.scale.linear=function(){return uw([0,1],[0,1],ai,!1)};gb={s:1,g:1,p:1,r:1,e:1};n.scale.log=function(){return ew(n.scale.linear().domain([0,1]),10,!0,[1,10])};fl=n.format(".0e");nk={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};n.scale.pow=function(){return ow(n.scale.linear(),1,[0,1])};n.scale.sqrt=function(){return n.scale.pow().exponent(.5)};n.scale.ordinal=function(){return sw([],{t:"range",a:[[]]})};n.scale.category10=function(){return n.scale.ordinal().range(lut)};n.scale.category20=function(){return n.scale.ordinal().range(aut)};n.scale.category20b=function(){return n.scale.ordinal().range(vut)};n.scale.category20c=function(){return n.scale.ordinal().range(yut)};var lut=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(wu),aut=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(wu),vut=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(wu),yut=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(wu);n.scale.quantile=function(){return hw([],[])};n.scale.quantize=function(){return cw(0,1,[0,1])};n.scale.threshold=function(){return lw([.5],[0,1])};n.scale.identity=function(){return aw([0,1])};n.svg={};n.svg.arc=function(){function n(){var n=Math.max(0,+i.apply(this,arguments)),o=Math.max(0,+r.apply(this,arguments)),it=e.apply(this,arguments)-h,rt=s.apply(this,arguments)-h,pt=Math.abs(rt-it),v=it>rt?0:1,kt,dt,ni,ti,nt,tt,lt,at,vt,yt;if(n>o&&(ut=o,o=n,n=ut),pt>=rut)return a(o,v)+(n?a(n,1-v):"")+"Z";var ut,st,wt,bt,y,p,w,ft,k,d,g,ht,ct=0,et=0,b=[];if(((bt=(+l.apply(this,arguments)||0)/2)&&(wt=u===au?Math.sqrt(n*n+o*o):+u.apply(this,arguments),v||(et*=-1),o&&(et=gt(wt/o*Math.sin(bt))),n&&(ct=gt(wt/n*Math.sin(bt)))),o)?(y=o*Math.cos(it+et),p=o*Math.sin(it+et),w=o*Math.cos(rt-et),ft=o*Math.sin(rt-et),kt=Math.abs(rt-it-2*et)<=f?0:1,et&&kf(y,p,w,ft)===v^kt&&(dt=(it+rt)/2,y=o*Math.cos(dt),p=o*Math.sin(dt),w=ft=null)):y=p=0,n?(k=n*Math.cos(rt-ct),d=n*Math.sin(rt-ct),g=n*Math.cos(it+ct),ht=n*Math.sin(it+ct),ni=Math.abs(it-rt+2*ct)<=f?0:1,ct&&kf(k,d,g,ht)===1-v^ni&&(ti=(it+rt)/2,k=n*Math.cos(ti),d=n*Math.sin(ti),g=ht=null)):k=d=0,pt>t&&(ut=Math.min(Math.abs(o-n)/2,+c.apply(this,arguments)))>.001){if(st=o>n^v?0:1,nt=ut,tt=ut,f>pt){var ot=null==g?[k,d]:null==w?[y,p]:gs([y,p],[g,ht],[w,ft],[k,d]),ii=y-ot[0],ri=p-ot[1],ui=w-ot[0],fi=ft-ot[1],ei=1/Math.sin(Math.acos((ii*ui+ri*fi)/(Math.sqrt(ii*ii+ri*ri)*Math.sqrt(ui*ui+fi*fi)))/2),oi=Math.sqrt(ot[0]*ot[0]+ot[1]*ot[1]);tt=Math.min(ut,(n-oi)/(ei-1));nt=Math.min(ut,(o-oi)/(ei+1))}null!=w?(lt=df(null==g?[k,d]:[g,ht],[y,p],o,nt,v),at=df([w,ft],[k,d],o,nt,v),ut===nt?b.push("M",lt[0],"A",nt,",",nt," 0 0,",st," ",lt[1],"A",o,",",o," 0 ",1-v^kf(lt[1][0],lt[1][1],at[1][0],at[1][1]),",",v," ",at[1],"A",nt,",",nt," 0 0,",st," ",at[0]):b.push("M",lt[0],"A",nt,",",nt," 0 1,",st," ",at[0])):b.push("M",y,",",p);null!=g?(vt=df([y,p],[g,ht],n,-tt,v),yt=df([k,d],null==w?[y,p]:[w,ft],n,-tt,v),ut===tt?b.push("L",yt[0],"A",tt,",",tt," 0 0,",st," ",yt[1],"A",n,",",n," 0 ",v^kf(yt[1][0],yt[1][1],vt[1][0],vt[1][1]),",",1-v," ",vt[1],"A",tt,",",tt," 0 0,",st," ",vt[0]):b.push("L",yt[0],"A",tt,",",tt," 0 0,",st," ",vt[0])):b.push("L",k,",",d)}else b.push("M",y,",",p),null!=w&&b.push("A",o,",",o," 0 ",kt,",",v," ",w,",",ft),b.push("L",k,",",d),null!=g&&b.push("A",n,",",n," 0 ",ni,",",1-v," ",g,",",ht);return b.push("Z"),b.join("")}function a(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var i=dit,r=git,c=kit,u=au,e=vw,s=yw,l=nrt;return n.innerRadius=function(t){return arguments.length?(i=o(t),n):i},n.outerRadius=function(t){return arguments.length?(r=o(t),n):r},n.cornerRadius=function(t){return arguments.length?(c=o(t),n):c},n.padRadius=function(t){return arguments.length?(u=t==au?au:o(t),n):u},n.startAngle=function(t){return arguments.length?(e=o(t),n):e},n.endAngle=function(t){return arguments.length?(s=o(t),n):s},n.padAngle=function(t){return arguments.length?(l=o(t),n):l},n.centroid=function(){var n=(+i.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+e.apply(this,arguments)+ +s.apply(this,arguments))/2-h;return[Math.cos(t)*n,Math.sin(t)*n]},n};au="auto";n.svg.line=function(){return pw(v)};fo=n.map({linear:it,"linear-closed":ww,step:trt,"step-before":vh,"step-after":yh,basis:bw,"basis-open":frt,"basis-closed":ert,bundle:ort,cardinal:urt,"cardinal-open":irt,"cardinal-closed":rrt,monotone:crt});fo.forEach(function(n,t){t.key=n;t.closed=/-closed$/.test(n)});var tk=[0,2/3,1/3,0],ik=[0,1/3,2/3,0],ei=[0,1/6,2/3,1/6];n.svg.line.radial=function(){var n=pw(kw);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n};vh.reverse=yh;yh.reverse=vh;n.svg.area=function(){return dw(v)};n.svg.area.radial=function(){var n=dw(kw);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n};n.svg.chord=function(){function n(n,u){var f=c(this,i,n,u),e=c(this,r,n,u);return"M"+f.p0+l(f.r,f.p1,f.a1-f.a0)+(a(f,e)?t(f.r,f.p1,f.r,f.p0):t(f.r,f.p1,e.r,e.p0)+l(e.r,e.p1,e.a1-e.a0)+t(e.r,e.p1,f.r,f.p0))+"Z"}function c(n,t,i,r){var o=t.call(n,i,r),f=u.call(n,o,r),c=e.call(n,o,r)-h,l=s.call(n,o,r)-h;return{r:f,a0:c,a1:l,p0:[f*Math.cos(c),f*Math.sin(c)],p1:[f*Math.cos(l),f*Math.sin(l)]}}function a(n,t){return n.a0==t.a0&&n.a1==t.a1}function l(n,t,i){return"A"+n+","+n+" 0 "+ +(i>f)+",1 "+t}function t(n,t,i,r){return"Q 0,0 "+r}var i=ws,r=bs,u=lrt,e=vw,s=yw;return n.radius=function(t){return arguments.length?(u=o(t),n):u},n.source=function(t){return arguments.length?(i=o(t),n):i},n.target=function(t){return arguments.length?(r=o(t),n):r},n.startAngle=function(t){return arguments.length?(e=o(t),n):e},n.endAngle=function(t){return arguments.length?(s=o(t),n):s},n};n.svg.diagonal=function(){function n(n,u){var e=t.call(this,n,u),o=i.call(this,n,u),s=(e.y+o.y)/2,f=[e,{x:e.x,y:s},{x:o.x,y:s},o];return f=f.map(r),"M"+f[0]+"C"+f[1]+" "+f[2]+" "+f[3]}var t=ws,i=bs,r=gw;return n.source=function(i){return arguments.length?(t=o(i),n):t},n.target=function(t){return arguments.length?(i=o(t),n):i},n.projection=function(t){return arguments.length?(r=t,n):r},n};n.svg.diagonal.radial=function(){var t=n.svg.diagonal(),i=gw,r=t.projection;return t.projection=function(n){return arguments.length?r(art(i=n)):i},t};n.svg.symbol=function(){function n(n,r){return(el.get(t.call(this,n,r))||nb)(i.call(this,n,r))}var t=yrt,i=vrt;return n.type=function(i){return arguments.length?(t=o(i),n):t},n.size=function(t){return arguments.length?(i=o(t),n):i},n};el=n.map({circle:nb,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*ol)),i=t*ol;return"M0,"+-t+"L"+i+",0 0,"+t+" "+-i+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/vu),i=t*vu/2;return"M0,"+i+"L"+t+","+-i+" "+-t+","+-i+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/vu),i=t*vu/2;return"M0,"+-i+"L"+t+","+i+" "+-t+","+i+"Z"}});n.svg.symbolTypes=el.keys();vu=Math.sqrt(3);ol=Math.tan(30*u);e.transition=function(n){for(var r,t,u=di||++rk,f=dh(n),e=[],h=eo||{time:Date.now(),ease:vn,delay:0,duration:250},o=-1,c=this.length;++o<c;){e.push(r=[]);for(var s=this[o],i=-1,l=s.length;++i<l;)(t=s[i])&&ne(t,i,f,u,h),r.push(t)}return ru(e,f,u)};e.interrupt=function(n){return this.each(null==n?oo:tb(dh(n)))};var di,eo,oo=tb(dh()),a=[],rk=0;a.call=e.call;a.empty=e.empty;a.node=e.node;a.size=e.size;n.transition=function(t,i){return t&&t.transition?di?t.transition(i):t:n.selection().transition(t)};n.transition.prototype=a;a.select=function(n){var f,i,t,e=this.id,o=this.namespace,s=[],r,h;for(n=yo(n),r=-1,h=this.length;++r<h;){s.push(f=[]);for(var c=this[r],u=-1,l=c.length;++u<l;)(t=c[u])&&(i=n.call(t,t.__data__,u,r))?("__data__"in t&&(i.__data__=t.__data__),ne(i,u,o,e,t[o][e]),f.push(i)):f.push(null)}return ru(s,o,e)};a.selectAll=function(n){var h,u,t,f,c,e=this.id,o=this.namespace,l=[],i,a,r,y;for(n=ta(n),i=-1,a=this.length;++i<a;)for(var v=this[i],s=-1,p=v.length;++s<p;)if(t=v[s])for(c=t[o][e],u=n.call(t,t.__data__,s,i),l.push(h=[]),r=-1,y=u.length;++r<y;)(f=u[r])&&ne(f,r,o,e,c),h.push(f);return ru(l,o,e)};a.filter=function(n){var u,f,i,e=[],t,o;for("function"!=typeof n&&(n=ca(n)),t=0,o=this.length;o>t;t++){e.push(u=[]);for(var f=this[t],r=0,s=f.length;s>r;r++)(i=f[r])&&n.call(i,i.__data__,r,t)&&u.push(i)}return ru(e,this.namespace,this.id)};a.tween=function(n,t){var i=this.id,r=this.namespace;return arguments.length<2?this.node()[r][i].tween.get(n):vt(this,null==t?function(t){t[r][i].tween.remove(n)}:function(u){u[r][i].tween.set(n,t)})};a.attr=function(t,i){function f(){this.removeAttribute(r)}function e(){this.removeAttributeNS(r.space,r.local)}function o(n){return null==n?f:(n+="",function(){var t,i=this.getAttribute(r);return i!==n&&(t=u(i,n),function(n){this.setAttribute(r,t(n))})})}function s(n){return null==n?e:(n+="",function(){var t,i=this.getAttributeNS(r.space,r.local);return i!==n&&(t=u(i,n),function(n){this.setAttributeNS(r.space,r.local,t(n))})})}if(arguments.length<2){for(i in t)this.attr(i,t[i]);return this}var u="transform"==t?lp:ai,r=n.ns.qualify(t);return kh(this,"attr."+t,i,r.local?s:o)};a.attrTween=function(t,i){function u(n,t){var u=i.call(this,n,t,this.getAttribute(r));return u&&function(n){this.setAttribute(r,u(n))}}function f(n,t){var u=i.call(this,n,t,this.getAttributeNS(r.space,r.local));return u&&function(n){this.setAttributeNS(r.space,r.local,u(n))}}var r=n.ns.qualify(t);return this.tween("attr."+t,r.local?f:u)};a.style=function(n,t,i){function u(){this.style.removeProperty(n)}function f(t){return null==t?u:(t+="",function(){var r,u=bt(this).getComputedStyle(this,null).getPropertyValue(n);return u!==t&&(r=ai(u,t),function(t){this.style.setProperty(n,r(t),i)})})}var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t="");for(i in n)this.style(i,n[i],t);return this}i=""}return kh(this,"style."+n,t,f)};a.styleTween=function(n,t,i){function r(r,u){var f=t.call(this,r,u,bt(this).getComputedStyle(this,null).getPropertyValue(n));return f&&function(t){this.style.setProperty(n,f(t),i)}}return arguments.length<3&&(i=""),this.tween("style."+n,r)};a.text=function(n){return kh(this,"text",n,prt)};a.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})};a.ease=function(t){var i=this.id,r=this.namespace;return arguments.length<1?this.node()[r][i].ease:("function"!=typeof t&&(t=n.ease.apply(n,arguments)),vt(this,function(n){n[r][i].ease=t}))};a.delay=function(n){var t=this.id,i=this.namespace;return arguments.length<1?this.node()[i][t].delay:vt(this,"function"==typeof n?function(r,u,f){r[i][t].delay=+n.call(r,r.__data__,u,f)}:(n=+n,function(r){r[i][t].delay=n}))};a.duration=function(n){var t=this.id,i=this.namespace;return arguments.length<1?this.node()[i][t].duration:vt(this,"function"==typeof n?function(r,u,f){r[i][t].duration=Math.max(1,n.call(r,r.__data__,u,f))}:(n=Math.max(1,n),function(r){r[i][t].duration=n}))};a.each=function(t,i){var r=this.id,u=this.namespace,f,e;if(arguments.length<2){f=eo;e=di;try{di=r;vt(this,function(n,i,f){eo=n[u][r];t.call(n,n.__data__,i,f)})}finally{eo=f;di=e}}else vt(this,function(f){var e=f[u][r];(e.event||(e.event=n.dispatch("start","end","interrupt"))).on(t,i)});return this};a.transition=function(){for(var f,e,t,n,h=this.id,o=++rk,r=this.namespace,s=[],u=0,c=this.length;c>u;u++){s.push(f=[]);for(var e=this[u],i=0,l=e.length;l>i;i++)(t=e[i])&&(n=t[r][h],ne(t,i,r,o,{time:n.time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration})),f.push(t)}return ru(s,r,o)};n.svg.axis=function(){function i(i){i.each(function(){var a,rt=n.select(this),y=this.__chart__||o,i=this.__chart__=o.copy(),ht=null==h?i.ticks?i.ticks.apply(i,s):i.domain():h,ct=null==e?i.tickFormat?i.tickFormat.apply(i,s):v:e,w=rt.selectAll(".tick").data(ht,i),p=w.enter().insert("g",".domain").attr("class","tick").style("opacity",t),lt=n.transition(w.exit()).style("opacity",t).remove(),g=n.transition(w.order()).style("opacity",1),ut=Math.max(r,0)+c,b=yf(i),ft=rt.selectAll(".domain").data([0]),et=(ft.enter().append("path").attr("class","domain"),n.transition(ft)),it,st;p.append("line");p.append("text");var nt,tt,k,d,at=p.select("line"),vt=g.select("line"),ot=w.select("text").text(ct),yt=p.select("text"),pt=g.select("text"),l="top"===f||"left"===f?-1:1;("bottom"===f||"top"===f?(a=wrt,nt="x",k="y",tt="x2",d="y2",ot.attr("dy",0>l?"0em":".71em").style("text-anchor","middle"),et.attr("d","M"+b[0]+","+l*u+"V0H"+b[1]+"V"+l*u)):(a=brt,nt="y",k="x",tt="y2",d="x2",ot.attr("dy",".32em").style("text-anchor",0>l?"end":"start"),et.attr("d","M"+l*u+","+b[0]+"H0V"+b[1]+"H"+l*u)),at.attr(d,l*r),yt.attr(k,l*ut),vt.attr(tt,0).attr(d,l*r),pt.attr(nt,0).attr(k,l*ut),i.rangeBand)?(it=i,st=it.rangeBand()/2,y=i=function(n){return it(n)+st}):y.rangeBand?y=i:lt.call(a,i,y);p.call(a,y,i);g.call(a,i,i)})}var e,o=n.scale.linear(),f=sl,r=6,u=6,c=3,s=[10],h=null;return i.scale=function(n){return arguments.length?(o=n,i):o},i.orient=function(n){return arguments.length?(f=n in uk?n+"":sl,i):f},i.ticks=function(){return arguments.length?(s=ot(arguments),i):s},i.tickValues=function(n){return arguments.length?(h=n,i):h},i.tickFormat=function(n){return arguments.length?(e=n,i):e},i.tickSize=function(n){var t=arguments.length;return t?(r=+n,u=+arguments[t-1],i):r},i.innerTickSize=function(n){return arguments.length?(r=+n,i):r},i.outerTickSize=function(n){return arguments.length?(u=+n,i):u},i.tickPadding=function(n){return arguments.length?(c=+n,i):c},i.tickSubdivide=function(){return arguments.length&&i},i};sl="bottom";uk={top:1,right:1,bottom:1,left:1};n.svg.brush=function(){function f(t){t.each(function(){var i=n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",w).on("touchstart.brush",w),h=i.selectAll(".background").data([0]),e,t,o,s;h.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");e=i.selectAll(".resize").data(l,v);e.exit().remove();e.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return put[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");e.style("display",f.empty()?"none":null);o=n.transition(i);s=n.transition(h);r&&(t=yf(r),s.attr("x",t[0]).attr("width",t[1]-t[0]),y(o));u&&(t=yf(u),s.attr("y",t[0]).attr("height",t[1]-t[0]),p(o));a(o)})}function a(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+t[+/e$/.test(n)]+","+i[+/^s/.test(n)]+")"})}function y(n){n.select(".extent").attr("x",t[0]);n.selectAll(".extent,.n>rect,.s>rect").attr("width",t[1]-t[0])}function p(n){n.select(".extent").attr("y",i[0]);n.selectAll(".extent,.e>rect,.w>rect").attr("height",i[1]-i[0])}function w(){function st(){32==n.event.keyCode&&(w||(v=null,l[0]-=t[1],l[1]-=i[1],w=2),kt())}function ht(){32==n.event.keyCode&&2==w&&(l[0]+=t[1],l[1]+=i[1],w=0,kt())}function g(){var f=n.mouse(b),e=!1;nt&&(f[0]+=nt[0],f[1]+=nt[1]);w||(n.event.altKey?(v||(v=[(t[0]+t[1])/2,(i[0]+i[1])/2]),l[0]=t[+(f[0]<v[0])],l[1]=i[+(f[1]<v[1])]):v=null);ct&&et(f,r,0)&&(y(k),e=!0);lt&&et(f,u,1)&&(p(k),e=!0);e&&(a(k),it({type:"brush",mode:w?"move":"resize"}))}function et(n,r,u){var f,y,k=yf(r),p=k[0],b=k[1],c=l[u],a=u?i:t,d=a[1]-a[0];return w&&(p-=c,b-=d+c),f=(u?h:s)?Math.max(p,Math.min(b,n[u])):n[u],w?y=(f+=c)+d:(v&&(c=Math.max(p,Math.min(b,2*v[u]-f))),f>c?(y=f,f=c):y=c),a[0]!=f||a[1]!=y?(u?o=null:e=null,a[0]=f,a[1]=y,!0):void 0}function ot(){g();k.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null);n.select("body").style("cursor",null);rt.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);at();it({type:"brushend"})}var v,nt,b=this,tt=n.select(n.event.target),it=c.of(b,arguments),k=n.select(b),d=tt.datum(),ct=!/^(n|s)$/.test(d)&&r,lt=!/^(e|w)$/.test(d)&&u,w=tt.classed("extent"),at=pu(b),l=n.mouse(b),rt=n.select(bt(b)).on("keydown.brush",st).on("keyup.brush",ht),ut,ft;(n.event.changedTouches?rt.on("touchmove.brush",g).on("touchend.brush",ot):rt.on("mousemove.brush",g).on("mouseup.brush",ot),k.interrupt().selectAll("*").interrupt(),w)?(l[0]=t[0]-l[0],l[1]=i[0]-l[1]):d?(ut=+/w$/.test(d),ft=+/^n/.test(d),nt=[t[1-ut]-l[0],i[1-ft]-l[1]],l[0]=t[ut],l[1]=i[ft]):n.event.altKey&&(v=l.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null);n.select("body").style("cursor",tt.style("cursor"));it({type:"brushstart"});g()}var e,o,c=vo(f,"brushstart","brush","brushend"),r=null,u=null,t=[0,0],i=[0,0],s=!0,h=!0,l=hl[0];return f.event=function(r){r.each(function(){var u=c.of(this,arguments),r={x:t,y:i,i:e,j:o},f=this.__chart__||r;this.__chart__=r;di?n.select(this).transition().each("start.brush",function(){e=f.i;o=f.j;t=f.x;i=f.y;u({type:"brushstart"})}).tween("brush:brush",function(){var n=vf(t,r.x),f=vf(i,r.y);return e=o=null,function(e){t=r.x=n(e);i=r.y=f(e);u({type:"brush",mode:"resize"})}}).each("end.brush",function(){e=r.i;o=r.j;u({type:"brush",mode:"resize"});u({type:"brushend"})}):(u({type:"brushstart"}),u({type:"brush",mode:"resize"}),u({type:"brushend"}))})},f.x=function(n){return arguments.length?(r=n,l=hl[!r<<1|!u],f):r},f.y=function(n){return arguments.length?(u=n,l=hl[!r<<1|!u],f):u},f.clamp=function(n){return arguments.length?(r&&u?(s=!!n[0],h=!!n[1]):r?s=!!n:u&&(h=!!n),f):r&&u?[s,h]:r?s:u?h:null},f.extent=function(n){var s,h,c,l,a;return arguments.length?(r&&(s=n[0],h=n[1],u&&(s=s[0],h=h[0]),e=[s,h],r.invert&&(s=r(s),h=r(h)),s>h&&(a=s,s=h,h=a),s==t[0]&&h==t[1]||(t=[s,h])),u&&(c=n[0],l=n[1],r&&(c=c[1],l=l[1]),o=[c,l],u.invert&&(c=u(c),l=u(l)),c>l&&(a=c,c=l,l=a),c==i[0]&&l==i[1]||(i=[c,l])),f):(r&&(e?(s=e[0],h=e[1]):(s=t[0],h=t[1],r.invert&&(s=r.invert(s),h=r.invert(h)),s>h&&(a=s,s=h,h=a))),u&&(o?(c=o[0],l=o[1]):(c=i[0],l=i[1],u.invert&&(c=u.invert(c),l=u.invert(l)),c>l&&(a=c,c=l,l=a))),r&&u?[[s,c],[h,l]]:r?[s,h]:u&&[c,l])},f.clear=function(){return f.empty()||(t=[0,0],i=[0,0],e=o=null),f},f.empty=function(){return!!r&&t[0]==t[1]||!!u&&i[0]==i[1]},n.rebind(f,c,"on")};var put={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},hl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],cl=i.format=lc.timeFormat,fk=cl.utc,ek=fk("%Y-%m-%dT%H:%M:%S.%LZ");cl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?gh:ek;gh.parse=function(n){var t=new Date(n);return isNaN(t)?null:t};gh.toString=ek.toString;i.second=hi(function(n){return new y(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()});i.seconds=i.second.range;i.seconds.utc=i.second.utc.range;i.minute=hi(function(n){return new y(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()});i.minutes=i.minute.range;i.minutes.utc=i.minute.utc.range;i.hour=hi(function(n){var t=n.getTimezoneOffset()/60;return new y(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()});i.hours=i.hour.range;i.hours.utc=i.hour.utc.range;i.month=hi(function(n){return n=i.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()});i.months=i.month.range;i.months.utc=i.month.utc.range;var so=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ll=[[i.second,1],[i.second,5],[i.second,15],[i.second,30],[i.minute,1],[i.minute,5],[i.minute,15],[i.minute,30],[i.hour,1],[i.hour,3],[i.hour,6],[i.hour,12],[i.day,1],[i.day,2],[i.week,1],[i.month,1],[i.month,3],[i.year,1]],wut=cl.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",yr]]),but={range:function(t,i,r){return n.range(Math.ceil(t/r)*r,+i,r).map(vi)},floor:v,ceil:v};ll.year=i.year;i.scale=function(){return nc(n.scale.linear(),ll,wut)};al=ll.map(function(n){return[n[0].utc,n[1]]});ok=fk.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",yr]]);al.year=i.year.utc;i.scale.utc=function(){return nc(n.scale.linear(),al,ok)};n.text=fs(function(n){return n.responseText});n.json=function(n,t){return bu(n,"application/json",krt,t)};n.html=function(n,t){return bu(n,"text/html",drt,t)};n.xml=fs(function(n){return n.responseXML});"function"==typeof define&&define.amd?(this.d3=n,define(n)):"object"==typeof module&&module.exports?module.exports=n:this.d3=n}();!function(){var n={};n.dev=!1;n.tooltip=n.tooltip||{};n.utils=n.utils||{};n.models=n.models||{};n.charts={};n.logs={};n.dom={};"undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"==typeof d3&&(d3=require("d3"));n.dispatch=d3.dispatch("render_start","render_end");Function.prototype.bind||(Function.prototype.bind=function(n){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var r=Array.prototype.slice.call(arguments,1),u=this,t=function(){},i=function(){return u.apply(this instanceof t&&n?this:n,r.concat(Array.prototype.slice.call(arguments)))};return t.prototype=this.prototype,i.prototype=new t,i});n.dev&&(n.dispatch.on("render_start",function(){n.logs.startTime=+new Date}),n.dispatch.on("render_end",function(){n.logs.endTime=+new Date;n.logs.totalTime=n.logs.endTime-n.logs.startTime;n.log("total",n.logs.totalTime)}));n.log=function(){if(n.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(n.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}return arguments[arguments.length-1]};n.deprecated=function(n,t){console&&console.warn&&console.warn("nvd3 warning: `"+n+"` has been deprecated. ",t||"")};n.render=function(t){t=t||1;n.render.active=!0;n.dispatch.render_start();var i=function(){for(var f,r,u=0;t>u&&(r=n.render.queue[u]);u++)f=r.generate(),typeof r.callback==typeof Function&&r.callback(f);n.render.queue.splice(0,u);n.render.queue.length?setTimeout(i):(n.dispatch.render_end(),n.render.active=!1)};setTimeout(i)};n.render.active=!1;n.render.queue=[];n.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]});n.render.queue.push(t);n.render.active||n.render()};"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=n);"undefined"!=typeof window&&(window.nv=n);n.dom.write=function(n){return void 0!==window.fastdom?fastdom.mutate(n):n()};n.dom.read=function(n){return void 0!==window.fastdom?fastdom.measure(n):n()};n.interactiveGuideline=function(){"use strict";function t(l){l.each(function(l){function a(){var n=d3.event.clientX-this.getBoundingClientRect().left,e=d3.event.clientY-this.getBoundingClientRect().top,s=!0,h=!1,l,o,a;if(c&&(n=d3.event.offsetX,e=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(s=!1),d3.event.target.className.baseVal.match("nv-legend")&&(h=!0)),s&&(n-=u.left,e-=u.top),"mouseout"===d3.event.type||0>n||0>e||n>w||e>v||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||h)return c&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(f.nvPointerEventsClass))?void 0:(r.elementMouseout({mouseX:n,mouseY:e}),t.renderGuideLine(null),void f.hidden(!0));if(f.hidden(!1),l="function"==typeof i.rangeBands,o=void 0,l){if(a=d3.bisect(i.range(),n)-1,!(i.range()[a]+i.rangeBand()>=n))return r.elementMouseout({mouseX:n,mouseY:e}),t.renderGuideLine(null),void f.hidden(!0);o=i.domain()[d3.bisect(i.range(),n)-1]}else o=i.invert(n);r.elementMousemove({mouseX:n,mouseY:e,pointXValue:o});"dblclick"===d3.event.type&&r.elementDblclick({mouseX:n,mouseY:e,pointXValue:o});"click"===d3.event.type&&r.elementClick({mouseX:n,mouseY:e,pointXValue:o});"mousedown"===d3.event.type&&r.elementMouseDown({mouseX:n,mouseY:e,pointXValue:o});"mouseup"===d3.event.type&&r.elementMouseUp({mouseX:n,mouseY:e,pointXValue:o})}var p=d3.select(this),w=o||960,v=s||400,y=p.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([l]),b=y.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");b.append("g").attr("class","nv-interactiveGuideLine");e&&(e.on("touchmove",a).on("mousemove",a,!0).on("mouseout",a,!0).on("mousedown",a,!0).on("mouseup",a,!0).on("dblclick",a).on("click",a),t.guideLine=null,t.renderGuideLine=function(i){h&&(t.guideLine&&t.guideLine.attr("x1")===i||n.dom.write(function(){var t=y.select(".nv-interactiveGuideLine").selectAll("line").data(null!=i?[n.utils.NaNtoZero(i)]:[],String);t.enter().append("line").attr("class","nv-guideline").attr("x1",function(n){return n}).attr("x2",function(n){return n}).attr("y1",v).attr("y2",0);t.exit().remove()}))})})}var u={left:0,top:0},o=null,s=null,i=d3.scale.linear(),r=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),h=!0,e=null,f=n.models.tooltip(),c=window.ActiveXObject;return f.duration(0).hideDelay(0).hidden(!1),t.dispatch=r,t.tooltip=f,t.margin=function(n){return arguments.length?(u.top="undefined"!=typeof n.top?n.top:u.top,u.left="undefined"!=typeof n.left?n.left:u.left,t):u},t.width=function(n){return arguments.length?(o=n,t):o},t.height=function(n){return arguments.length?(s=n,t):s},t.xScale=function(n){return arguments.length?(i=n,t):i},t.showGuideLine=function(n){return arguments.length?(h=n,t):h},t.svgContainer=function(n){return arguments.length?(e=n,t):e},t};n.interactiveBisect=function(n,t,i){"use strict";var u,e,o;if(!(n instanceof Array))return null;u="function"!=typeof i?function(n){return n.x}:i;var s=function(n,t){return u(n)-t},h=d3.bisector(s).left,r=d3.max([0,h(n,t)-1]),f=u(n[r]);return("undefined"==typeof f&&(f=r),f===t)?r:(e=d3.min([r+1,n.length-1]),o=u(n[e]),"undefined"==typeof o&&(o=e),Math.abs(o-t)>=Math.abs(f-t)?r:e)};n.nearestValueIndex=function(n,t,i){"use strict";var r=1/0,u=null;return n.forEach(function(n,f){var e=Math.abs(t-n);null!=n&&r>=e&&i>e&&(r=e,u=f)}),u};n.models.tooltip=function(){"use strict";function nt(){if(!t||!t.node())t=d3.select(document.body).select("#"+s).data([1]),t.enter().append("div").attr("class","nvtooltip "+(f?f:"xy-tooltip")).attr("id",s).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(y,!0).classed(y,!0),t.exit().remove()}function r(){if(l&&tt(u))return(n.dom.write(function(){nt();var n=k(u,t.node());n&&(t.node().innerHTML=n);rt()}),r)}var s="nvtooltip-"+Math.floor(1e5*Math.random()),u=null,h="w",i=25,g=0,f=null,e=!0,c=200,t=null,o={left:null,top:null},l=!0,a=100,v=!0,y="nv-pointer-events-none",p=function(n){return n},w=function(n){return n},b=function(n){return n},k=function(n){var i,u,f,t,r;return null===n?"":(i=d3.select(document.createElement("table")),v&&(u=i.selectAll("thead").data([n]).enter().append("thead"),u.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(w(n.value))),f=i.selectAll("tbody").data([n]).enter().append("tbody"),t=f.selectAll("tr").data(function(n){return n.series}).enter().append("tr").classed("highlight",function(n){return n.highlight}),t.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(n){return n.color}),t.append("td").classed("key",!0).classed("total",function(n){return!!n.total}).html(function(n,t){return b(n.key,t)}),t.append("td").classed("value",!0).html(function(n,t){return p(n.value,t,n)}),t.filter(function(n){return void 0!==n.percent}).append("td").classed("percent",!0).html(function(n){return"("+d3.format("%")(n.percent)+")"}),t.selectAll("td").each(function(n){if(n.highlight){var t=d3.scale.linear().domain([0,1]).range(["#fff",n.color]),i=.6;d3.select(this).style("border-bottom-color",t(i)).style("border-top-color",t(i))}}),r=i.node().outerHTML,void 0!==n.footer&&(r+="<div class='footer'>"+n.footer+"<\/div>"),r)},d=function(){var n={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0},t;return"none"!=getComputedStyle(document.body).transform&&(t=document.body.getBoundingClientRect(),n.left-=t.left,n.top-=t.top),n},tt=function(t){if(t&&t.series){if(n.utils.isArray(t.series))return!0;if(n.utils.isObject(t.series))return t.series=[t.series],!0}return!1},it=function(n){var r,u,f,e=t.node().offsetHeight,o=t.node().offsetWidth,s=document.documentElement.clientWidth,c=document.documentElement.clientHeight;switch(h){case"e":r=-o-i;u=-(e/2);n.left+r<0&&(r=i);(f=n.top+u)<0&&(u-=f);(f=n.top+u+e)>c&&(u-=f-c);break;case"w":r=i;u=-(e/2);n.left+r+o>s&&(r=-o-i);(f=n.top+u)<0&&(u-=f);(f=n.top+u+e)>c&&(u-=f-c);break;case"n":r=-(o/2)-5;u=i;n.top+u+e>c&&(u=-e-i);(f=n.left+r)<0&&(r-=f);(f=n.left+r+o)>s&&(r-=f-s);break;case"s":r=-(o/2);u=-e-i;n.top+u<0&&(u=i);(f=n.left+r)<0&&(r-=f);(f=n.left+r+o)>s&&(r-=f-s);break;case"center":r=-(o/2);u=-(e/2);break;default:r=0;u=0}return{left:r,top:u}},rt=function(){n.dom.read(function(){var n=d(),i=it(n),r=n.left+i.left,u=n.top+i.top;if(e)t.interrupt().transition().delay(c).duration(0).style("opacity",0);else{var h="translate("+o.left+"px, "+o.top+"px)",f="translate("+Math.round(r)+"px, "+Math.round(u)+"px)",s=d3.interpolateString(h,f),l=t.style("opacity")<.1;t.interrupt().transition().duration(l?0:a).styleTween("transform",function(){return s},"important").styleTween("-webkit-transform",function(){return s}).style("-ms-transform",f).style("opacity",1)}o.left=r;o.top=u})};return r.nvPointerEventsClass=y,r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{duration:{get:function(){return a},set:function(n){a=n}},gravity:{get:function(){return h},set:function(n){h=n}},distance:{get:function(){return i},set:function(n){i=n}},snapDistance:{get:function(){return g},set:function(n){g=n}},classes:{get:function(){return f},set:function(n){f=n}},enabled:{get:function(){return l},set:function(n){l=n}},hideDelay:{get:function(){return c},set:function(n){c=n}},contentGenerator:{get:function(){return k},set:function(n){k=n}},valueFormatter:{get:function(){return p},set:function(n){p=n}},headerFormatter:{get:function(){return w},set:function(n){w=n}},keyFormatter:{get:function(){return b},set:function(n){b=n}},headerEnabled:{get:function(){return v},set:function(n){v=n}},position:{get:function(){return d},set:function(n){d=n}},chartContainer:{get:function(){return document.body},set:function(){n.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(){n.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(){n.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return e},set:function(n){e!=n&&(e=!!n,r())}},data:{get:function(){return u},set:function(n){n.point&&(n.value=n.point.x,n.series=n.series||{},n.series.value=n.point.y,n.series.color=n.point.color||n.series.color);u=n}},node:{get:function(){return t.node()},set:function(){}},id:{get:function(){return s},set:function(){}}}),n.utils.initOptions(r),r};n.utils.windowSize=function(){var n={width:640,height:480};return window.innerWidth&&window.innerHeight?(n.width=window.innerWidth,n.height=window.innerHeight,n):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(n.width=document.documentElement.offsetWidth,n.height=document.documentElement.offsetHeight,n):document.body&&document.body.offsetWidth?(n.width=document.body.offsetWidth,n.height=document.body.offsetHeight,n):n};n.utils.isArray=Array.isArray;n.utils.isObject=function(n){return null!==n&&"object"==typeof n};n.utils.isFunction=function(n){return"function"==typeof n};n.utils.isDate=function(n){return"[object Date]"===toString.call(n)};n.utils.isNumber=function(n){return!isNaN(n)&&"number"==typeof n};n.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):n.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}};n.utils.getColor=function(t){if(void 0===t)return n.utils.defaultColor();if(n.utils.isArray(t)){var i=d3.scale.ordinal().range(t);return function(n,t){var r=void 0===t?n:t;return n.color||i(r)}}return t};n.utils.defaultColor=function(){return n.utils.getColor(d3.scale.category20().range())};n.utils.customTheme=function(t,i,r){i=i||function(n){return n.key};r=r||d3.scale.category20().range();var u=r.length;return function(f){var e=i(f);return n.utils.isFunction(t[e])?t[e]():void 0!==t[e]?t[e]:(u||(u=r.length),u-=1,r[u])}};n.utils.pjax=function(t,i){var r=function(r){d3.html(r,function(r){var u=d3.select(i).node();u.parentNode.replaceChild(d3.select(r).select(i).node(),u);n.utils.pjax(t,i)})};d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href);r(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&r(d3.event.state)})};n.utils.calcApproxTextWidth=function(t){if(n.utils.isFunction(t.style)&&n.utils.isFunction(t.text)){var i=parseInt(t.style("font-size").replace("px",""),10),r=t.text().length;return n.utils.NaNtoZero(r*i*.5)}return 0};n.utils.NaNtoZero=function(t){return!n.utils.isNumber(t)||isNaN(t)||null===t||t===1/0||t===-(1/0)?0:t};d3.selection.prototype.watchTransition=function(n){var t=[this].concat([].slice.call(arguments,1));return n.transition.apply(n,t)};n.utils.renderWatch=function(t,i){if(!(this instanceof n.utils.renderWatch))return new n.utils.renderWatch(t,i);var u=void 0!==i?i:250,r=[],f=this;this.models=function(n){return n=[].slice.call(arguments,0),n.forEach(function(n){n.__rendered=!1,function(n){n.dispatch.on("renderEnd",function(){n.__rendered=!0;f.renderEnd("model")})}(n);r.indexOf(n)<0&&r.push(n)}),this};this.reset=function(n){void 0!==n&&(u=n);r=[]};this.transition=function(n,t,i){if(t=arguments.length>1?[].slice.call(arguments,1):[],i=t.length>1?t.pop():void 0!==u?u:250,n.__rendered=!1,r.indexOf(n)<0&&r.push(n),0===i)return n.__rendered=!0,n.delay=function(){return this},n.duration=function(){return this},n;n.__rendered=0===n.length?!0:n.every(function(n){return!n.length})?!0:!1;var e=0;return n.transition().duration(i).each(function(){++e}).each("end",function(){0==--e&&(n.__rendered=!0,f.renderEnd.apply(this,t))})};this.renderEnd=function(){r.every(function(n){return n.__rendered})&&(r.forEach(function(n){n.__rendered=!1}),t.renderEnd.apply(this,arguments))}};n.utils.deepExtend=function(t){var i=arguments.length>1?[].slice.call(arguments,1):[];i.forEach(function(i){for(var r in i){var u=n.utils.isArray(t[r]),f=n.utils.isObject(t[r]),e=n.utils.isObject(i[r]);f&&!u&&e?n.utils.deepExtend(t[r],i[r]):t[r]=i[r]}})};n.utils.state=function(){var f;if(!(this instanceof n.utils.state))return new n.utils.state;var i={},r=function(){},u=function(){return{}},t=null,e=null;this.dispatch=d3.dispatch("change","set");this.dispatch.on("set",function(n){r(n,!0)});this.getter=function(n){return u=n,this};this.setter=function(n,t){return t||(t=function(){}),r=function(i,r){n(i);r&&t()},this};this.init=function(i){t=t||{};n.utils.deepExtend(t,i)};f=function(){var t=u(),n;if(JSON.stringify(t)===JSON.stringify(i))return!1;for(n in t)void 0===i[n]&&(i[n]={}),i[n]=t[n],e=!0;return!0};this.update=function(){t&&(r(t,!1),t=null);f.call(this)&&this.dispatch.change(i)}};n.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,i){n.utils.isFunction(this[t])&&this[t](i)}.bind(this)),this};n.utils.calcTicksX=function(t,i){var r=1,u=0,f;for(u;u<i.length;u+=1)f=i[u]&&i[u].values?i[u].values.length:0,r=f>r?f:r;return n.log("Requested number of ticks: ",t),n.log("Calculated max values to be: ",r),t=t>r?t=r-1:t,t=1>t?1:t,t=Math.floor(t),n.log("Calculating tick count as: ",t),t};n.utils.calcTicksY=function(t,i){return n.utils.calcTicksX(t,i)};n.utils.initOption=function(n,t){n._calls&&n._calls[t]?n[t]=n._calls[t]:(n[t]=function(i){return arguments.length?(n._overrides[t]=!0,n._options[t]=i,n):n._options[t]},n["_"+t]=function(i){return arguments.length?(n._overrides[t]||(n._options[t]=i),n):n._options[t]})};n.utils.initOptions=function(t){var i,r,u;t._overrides=t._overrides||{};i=Object.getOwnPropertyNames(t._options||{});r=Object.getOwnPropertyNames(t._calls||{});i=i.concat(r);for(u in i)n.utils.initOption(t,i[u])};n.utils.inheritOptionsD3=function(n,t,i){n._d3options=i.concat(n._d3options||[]);n._d3options=(n._d3options||[]).filter(function(n,t,i){return i.indexOf(n)===t});i.unshift(t);i.unshift(n);d3.rebind.apply(this,i)};n.utils.arrayUnique=function(n){return n.sort().filter(function(t,i){return!i||t!=n[i-1]})};n.utils.symbolMap=d3.map();n.utils.symbol=function(){function t(t,u){var f=i.call(this,t,u),e=r.call(this,t,u);return-1!==d3.svg.symbolTypes.indexOf(f)?d3.svg.symbol().type(f).size(e)():n.utils.symbolMap.get(f)(e)}var i,r=64;return t.type=function(n){return arguments.length?(i=d3.functor(n),t):i},t.size=function(n){return arguments.length?(r=d3.functor(n),t):r},t};n.utils.inheritOptions=function(t,i){var r=Object.getOwnPropertyNames(i._options||{}),f=Object.getOwnPropertyNames(i._calls||{}),e=i._inherited||[],o=i._d3options||[],u=r.concat(f).concat(e).concat(o);u.unshift(i);u.unshift(t);d3.rebind.apply(this,u);t._inherited=n.utils.arrayUnique(r.concat(f).concat(e).concat(r).concat(t._inherited||[]));t._d3options=n.utils.arrayUnique(o.concat(t._d3options||[]))};n.utils.initSVG=function(n){n.classed({"nvd3-svg":!0})};n.utils.sanitizeHeight=function(n,t){return n||parseInt(t.style("height"),10)||400};n.utils.sanitizeWidth=function(n,t){return n||parseInt(t.style("width"),10)||960};n.utils.availableHeight=function(t,i,r){return Math.max(0,n.utils.sanitizeHeight(t,i)-r.top-r.bottom)};n.utils.availableWidth=function(t,i,r){return Math.max(0,n.utils.sanitizeWidth(t,i)-r.left-r.right)};n.utils.noData=function(t,i){var f=t.options(),r=f.margin(),e=f.noData(),o=null==e?["No Data Available."]:[e],s=n.utils.availableHeight(null,i,r),h=n.utils.availableWidth(null,i,r),c=r.left+h/2,l=r.top+s/2,u;i.selectAll("g").remove();u=i.selectAll(".nv-noData").data(o);u.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");u.attr("x",c).attr("y",l).text(function(n){return n})};n.utils.wrapTicks=function(n,t){n.each(function(){for(var r,n=d3.select(this),o=n.text().split(/\s+/).reverse(),i=[],s=0,f=n.attr("y"),e=parseFloat(n.attr("dy")),u=n.text(null).append("tspan").attr("x",0).attr("y",f).attr("dy",e+"em");r=o.pop();)i.push(r),u.text(i.join(" ")),u.node().getComputedTextLength()>t&&(i.pop(),u.text(i.join(" ")),i=[r],u=n.append("tspan").attr("x",0).attr("y",f).attr("dy",++s*1.1+e+"em").text(r))})};n.utils.arrayEquals=function(t,i){if(t===i)return!0;if(!t||!i||t.length!=i.length)return!1;for(var r=0,u=t.length;u>r;r++)if(t[r]instanceof Array&&i[r]instanceof Array){if(!n.arrayEquals(t[r],i[r]))return!1}else if(t[r]!=i[r])return!1;return!0};n.models.axis=function(){"use strict";function r(p){return e.reset(),p.each(function(r){var st=d3.select(this),tt,k,ft,p,d,ot,it;n.utils.initSVG(st);var g=st.selectAll("g.nv-wrap.nv-axis").data([r]),ct=g.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),nt=(ct.append("g"),g.select("g"));null!==v?i.ticks(v):("top"==i.orient()||"bottom"==i.orient())&&i.ticks(Math.abs(t.range()[1]-t.range()[0])/100);nt.watchTransition(e,"axis").call(i);l=l||i.scale();tt=i.tickFormat();null==tt&&(tt=l.tickFormat());k=nt.selectAll("text.nv-axislabel").data([w||null]);k.exit().remove();void 0!==y&&nt.selectAll("g").select("text").style("font-size",y);switch(i.orient()){case"top":k.enter().append("text").attr("class","nv-axislabel");d=0;1===t.range().length?d=h?2*t.range()[0]+t.rangeBand():0:2===t.range().length?d=h?t.range()[0]+t.range()[1]+t.rangeBand():t.range()[1]:t.range().length>2&&(d=t.range()[t.range().length-1]+(t.range()[1]-t.range()[0]));k.attr("text-anchor","middle").attr("y",0).attr("x",d/2);o&&(p=g.selectAll("g.nv-axisMaxMin").data(t.domain()),p.enter().append("g").attr("class",function(n,t){return["nv-axisMaxMin","nv-axisMaxMin-x",0==t?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),p.exit().remove(),p.attr("transform",function(i){return"translate("+n.utils.NaNtoZero(t(i))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-i.tickPadding()).attr("text-anchor","middle").text(function(n){var t=tt(n);return(""+t).match("NaN")?"":t}),p.watchTransition(e,"min-max top").attr("transform",function(i,r){return"translate("+n.utils.NaNtoZero(t.range()[r])+",0)"}));break;case"bottom":ft=c+36;var ut=30,ht=0,rt=nt.selectAll("g").select("text"),et="";s%360?(rt.attr("transform",""),rt.each(function(){var n=this.getBoundingClientRect(),t=n.width;ht=n.height;t>ut&&(ut=t)}),et="rotate("+s+" 0,"+(ht/2+i.tickPadding())+")",ot=Math.abs(Math.sin(s*Math.PI/180)),ft=(ot?ot*ut:ut)+30,rt.attr("transform",et).style("text-anchor",s%360>0?"start":"end")):b?rt.attr("transform",function(n,t){return"translate(0,"+(t%2==0?"0":"12")+")"}):rt.attr("transform","translate(0,0)");k.enter().append("text").attr("class","nv-axislabel");d=0;1===t.range().length?d=h?2*t.range()[0]+t.rangeBand():0:2===t.range().length?d=h?t.range()[0]+t.range()[1]+t.rangeBand():t.range()[1]:t.range().length>2&&(d=t.range()[t.range().length-1]+(t.range()[1]-t.range()[0]));k.attr("text-anchor","middle").attr("y",ft).attr("x",d/2);o&&(p=g.selectAll("g.nv-axisMaxMin").data([t.domain()[0],t.domain()[t.domain().length-1]]),p.enter().append("g").attr("class",function(n,t){return["nv-axisMaxMin","nv-axisMaxMin-x",0==t?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),p.exit().remove(),p.attr("transform",function(i){return"translate("+n.utils.NaNtoZero(t(i)+(h?t.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",i.tickPadding()).attr("transform",et).style("text-anchor",s?s%360>0?"start":"end":"middle").text(function(n){var t=tt(n);return(""+t).match("NaN")?"":t}),p.watchTransition(e,"min-max bottom").attr("transform",function(i){return"translate("+n.utils.NaNtoZero(t(i)+(h?t.rangeBand()/2:0))+",0)"}));break;case"right":k.enter().append("text").attr("class","nv-axislabel");k.style("text-anchor",f?"middle":"begin").attr("transform",f?"rotate(90)":"").attr("y",f?-Math.max(u.right,a)+12-(c||0):-10).attr("x",f?d3.max(t.range())/2:i.tickPadding());o&&(p=g.selectAll("g.nv-axisMaxMin").data(t.domain()),p.enter().append("g").attr("class",function(n,t){return["nv-axisMaxMin","nv-axisMaxMin-y",0==t?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),p.exit().remove(),p.attr("transform",function(i){return"translate(0,"+n.utils.NaNtoZero(t(i))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",i.tickPadding()).style("text-anchor","start").text(function(n){var t=tt(n);return(""+t).match("NaN")?"":t}),p.watchTransition(e,"min-max right").attr("transform",function(i,r){return"translate(0,"+n.utils.NaNtoZero(t.range()[r])+")"}).select("text").style("opacity",1));break;case"left":k.enter().append("text").attr("class","nv-axislabel");k.style("text-anchor",f?"middle":"end").attr("transform",f?"rotate(-90)":"").attr("y",f?-Math.max(u.left,a)+25-(c||0):-10).attr("x",f?-d3.max(t.range())/2:-i.tickPadding());o&&(p=g.selectAll("g.nv-axisMaxMin").data(t.domain()),p.enter().append("g").attr("class",function(n,t){return["nv-axisMaxMin","nv-axisMaxMin-y",0==t?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),p.exit().remove(),p.attr("transform",function(t){return"translate(0,"+n.utils.NaNtoZero(l(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-i.tickPadding()).attr("text-anchor","end").text(function(n){var t=tt(n);return(""+t).match("NaN")?"":t}),p.watchTransition(e,"min-max right").attr("transform",function(i,r){return"translate(0,"+n.utils.NaNtoZero(t.range()[r])+")"}).select("text").style("opacity",1))}(k.text(function(n){return n}),!o||"left"!==i.orient()&&"right"!==i.orient()||(nt.selectAll("g").each(function(n){d3.select(this).select("text").attr("opacity",1);(t(n)<t.range()[1]+10||t(n)>t.range()[0]-10)&&((n>1e-10||-1e-10>n)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),t.domain()[0]==t.domain()[1]&&0==t.domain()[0]&&g.selectAll("g.nv-axisMaxMin").style("opacity",function(n,t){return t?0:1})),o&&("top"===i.orient()||"bottom"===i.orient()))&&(it=[],g.selectAll("g.nv-axisMaxMin").each(function(n,i){try{i?it.push(t(n)-this.getBoundingClientRect().width-4):it.push(t(n)+this.getBoundingClientRect().width+4)}catch(r){i?it.push(t(n)-4):it.push(t(n)+4)}}),nt.selectAll("g").each(function(n){(t(n)<it[0]||t(n)>it[1])&&(n>1e-10||-1e-10>n?d3.select(this).remove():d3.select(this).select("text").remove())}));nt.selectAll(".tick").filter(function(n){return!parseFloat(Math.round(1e5*n)/1e6)&&void 0!==n}).classed("zero",!0);l=t.copy()}),e.renderEnd("axis immediate"),r}var i=d3.svg.axis(),t=d3.scale.linear(),u={top:0,right:0,bottom:0,left:0},a=75,k=60,w=null,o=!0,s=0,f=!0,b=!1,h=!1,v=null,c=0,y=void 0,p=250,d=d3.dispatch("renderEnd"),l,e;return i.scale(t).orient("bottom").tickFormat(function(n){return n}),e=n.utils.renderWatch(d,p),r.axis=i,r.dispatch=d,r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{axisLabelDistance:{get:function(){return c},set:function(n){c=n}},staggerLabels:{get:function(){return b},set:function(n){b=n}},rotateLabels:{get:function(){return s},set:function(n){s=n}},rotateYLabel:{get:function(){return f},set:function(n){f=n}},showMaxMin:{get:function(){return o},set:function(n){o=n}},axisLabel:{get:function(){return w},set:function(n){w=n}},height:{get:function(){return k},set:function(n){k=n}},ticks:{get:function(){return v},set:function(n){v=n}},width:{get:function(){return a},set:function(n){a=n}},fontSize:{get:function(){return y},set:function(n){y=n}},margin:{get:function(){return u},set:function(n){u.top=void 0!==n.top?n.top:u.top;u.right=void 0!==n.right?n.right:u.right;u.bottom=void 0!==n.bottom?n.bottom:u.bottom;u.left=void 0!==n.left?n.left:u.left}},duration:{get:function(){return p},set:function(n){p=n;e.reset(p)}},scale:{get:function(){return t},set:function(u){t=u;i.scale(t);h="function"==typeof t.rangeBands;n.utils.inheritOptionsD3(r,t,["domain","range","rangeBand","rangeBands"])}}}),n.utils.initOptions(r),n.utils.inheritOptionsD3(r,i,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),n.utils.inheritOptionsD3(r,t,["domain","range","rangeBand","rangeBands"]),r};n.models.boxPlot=function(){"use strict";function l(ht){return h.reset(),ht.each(function(l){var gt=ft-u.left-u.right,ni=et-u.top-u.bottom,yt,bt,kt,ct,vt,ht,lt,at;ot=d3.select(this);n.utils.initSVG(ot);r.domain(nt||l.map(function(n,t){return s(n,t)})).rangeBands(tt||[0,gt],.1);yt=[];b||(ct=[],l.forEach(function(n){var t=a(n),i=c(n),r=o(n),u=y(n),f=k(n);f&&f.forEach(function(n,t){ct.push(d(n,t,void 0))});r&&ct.push(r);t&&ct.push(t);i&&ct.push(i);u&&ct.push(u)}),bt=d3.min(ct),kt=d3.max(ct),yt=[bt,kt]);t.domain(b||yt);t.range(it||[ni,0]);rt=rt||r;ut=ut||t.copy().range([t(0),t(0)]);vt=ot.selectAll("g.nv-wrap").data([l]);vt.enter().append("g").attr("class","nvd3 nv-wrap");vt.attr("transform","translate("+u.left+","+u.top+")");ht=vt.selectAll(".nv-boxplot").data(function(n){return n});lt=ht.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);ht.attr("class","nv-boxplot").attr("transform",function(n,t){return"translate("+(r(s(n,t))+.05*r.rangeBand())+", 0)"}).classed("hover",function(n){return n.hover});ht.watchTransition(h,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(n,t){return t*w/l.length}).attr("transform",function(n,t){return"translate("+(r(s(n,t))+.05*r.rangeBand())+", 0)"});ht.exit().remove();lt.each(function(n,t){var r=d3.select(this);[o,y].forEach(function(u){if(void 0!==u(n)&&null!==u(n)){var e=u===o?"low":"high";r.append("line").style("stroke",f(n)||i(n,t)).attr("class","nv-boxplot-whisker nv-boxplot-"+e);r.append("line").style("stroke",f(n)||i(n,t)).attr("class","nv-boxplot-tick nv-boxplot-"+e)}})});var pt=function(){return null===st?.9*r.rangeBand():Math.min(75,.9*r.rangeBand())},wt=function(){return.45*r.rangeBand()-pt()/2},dt=function(){return.45*r.rangeBand()+pt()/2};[o,y].forEach(function(n){var i=n===o?"low":"high",u=n===o?a:c;ht.select("line.nv-boxplot-whisker.nv-boxplot-"+i).watchTransition(h,"nv-boxplot: boxplots").attr("x1",.45*r.rangeBand()).attr("y1",function(i){return t(n(i))}).attr("x2",.45*r.rangeBand()).attr("y2",function(n){return t(u(n))});ht.select("line.nv-boxplot-tick.nv-boxplot-"+i).watchTransition(h,"nv-boxplot: boxplots").attr("x1",wt).attr("y1",function(i){return t(n(i))}).attr("x2",dt).attr("y2",function(i){return t(n(i))})});[o,y].forEach(function(n){var t=n===o?"low":"high";lt.selectAll(".nv-boxplot-"+t).on("mouseover",function(t,r,u){d3.select(this).classed("hover",!0);e.elementMouseover({series:{key:n(t),color:f(t)||i(t,u)},e:d3.event})}).on("mouseout",function(t,r,u){d3.select(this).classed("hover",!1);e.elementMouseout({series:{key:n(t),color:f(t)||i(t,u)},e:d3.event})}).on("mousemove",function(){e.elementMousemove({e:d3.event})})});lt.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(n,t){d3.select(this).classed("hover",!0);e.elementMouseover({key:s(n),value:s(n),series:[{key:"Q3",value:c(n),color:f(n)||i(n,t)},{key:"Q2",value:v(n),color:f(n)||i(n,t)},{key:"Q1",value:a(n),color:f(n)||i(n,t)}],data:n,index:t,e:d3.event})}).on("mouseout",function(n,t){d3.select(this).classed("hover",!1);e.elementMouseout({key:s(n),value:s(n),series:[{key:"Q3",value:c(n),color:f(n)||i(n,t)},{key:"Q2",value:v(n),color:f(n)||i(n,t)},{key:"Q1",value:a(n),color:f(n)||i(n,t)}],data:n,index:t,e:d3.event})}).on("mousemove",function(){e.elementMousemove({e:d3.event})});ht.select("rect.nv-boxplot-box").watchTransition(h,"nv-boxplot: boxes").attr("y",function(n){return t(c(n))}).attr("width",pt).attr("x",wt).attr("height",function(n){return Math.abs(t(c(n))-t(a(n)))||1}).style("fill",function(n,t){return f(n)||i(n,t)}).style("stroke",function(n,t){return f(n)||i(n,t)});lt.append("line").attr("class","nv-boxplot-median");ht.select("line.nv-boxplot-median").watchTransition(h,"nv-boxplot: boxplots line").attr("x1",wt).attr("y1",function(n){return t(v(n))}).attr("x2",dt).attr("y2",function(n){return t(v(n))});at=ht.selectAll(".nv-boxplot-outlier").data(function(n){return k(n)||[]});at.enter().append("circle").style("fill",function(n,t,r){return p(n,t,r)||i(n,r)}).style("stroke",function(n,t,r){return p(n,t,r)||i(n,r)}).style("z-index",9e3).on("mouseover",function(n,t,r){d3.select(this).classed("hover",!0);e.elementMouseover({series:{key:g(n,t,r),color:p(n,t,r)||i(n,r)},e:d3.event})}).on("mouseout",function(n,t,r){d3.select(this).classed("hover",!1);e.elementMouseout({series:{key:g(n,t,r),color:p(n,t,r)||i(n,r)},e:d3.event})}).on("mousemove",function(){e.elementMousemove({e:d3.event})});at.attr("class","nv-boxplot-outlier");at.watchTransition(h,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*r.rangeBand()).attr("cy",function(n,i,r){return t(d(n,i,r))}).attr("r","3");at.exit().remove();rt=r.copy();ut=t.copy()}),h.renderEnd("nv-boxplot immediate"),l}var nt,tt,b,it,rt,ut,u={top:0,right:0,bottom:0,left:0},ft=960,et=500,ht=Math.floor(1e4*Math.random()),r=d3.scale.ordinal(),t=d3.scale.linear(),s=function(n){return n.label},a=function(n){return n.values.Q1},v=function(n){return n.values.Q2},c=function(n){return n.values.Q3},o=function(n){return n.values.whisker_low},y=function(n){return n.values.whisker_high},f=function(n){return n.color},k=function(n){return n.values.outliers},d=function(n){return n},g=function(n){return n},p=function(){},i=n.utils.defaultColor(),ot=null,e=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),w=250,st=null,h=n.utils.renderWatch(e,w);return l.dispatch=e,l.options=n.utils.optionsFunc.bind(l),l._options=Object.create({},{width:{get:function(){return ft},set:function(n){ft=n}},height:{get:function(){return et},set:function(n){et=n}},maxBoxWidth:{get:function(){return st},set:function(n){st=n}},x:{get:function(){return s},set:function(n){s=n}},q1:{get:function(){return a},set:function(n){a=n}},q2:{get:function(){return v},set:function(n){v=n}},q3:{get:function(){return c},set:function(n){c=n}},wl:{get:function(){return o},set:function(n){o=n}},wh:{get:function(){return y},set:function(n){y=n}},itemColor:{get:function(){return f},set:function(n){f=n}},outliers:{get:function(){return k},set:function(n){k=n}},outlierValue:{get:function(){return d},set:function(n){d=n}},outlierLabel:{get:function(){return g},set:function(n){g=n}},outlierColor:{get:function(){return p},set:function(n){p=n}},xScale:{get:function(){return r},set:function(n){r=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return nt},set:function(n){nt=n}},yDomain:{get:function(){return b},set:function(n){b=n}},xRange:{get:function(){return tt},set:function(n){tt=n}},yRange:{get:function(){return it},set:function(n){it=n}},id:{get:function(){return ht},set:function(n){ht=n}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return u},set:function(n){u.top=void 0!==n.top?n.top:u.top;u.right=void 0!==n.right?n.right:u.right;u.bottom=void 0!==n.bottom?n.bottom:u.bottom;u.left=void 0!==n.left?n.left:u.left}},color:{get:function(){return i},set:function(t){i=n.utils.getColor(t)}},duration:{get:function(){return w},set:function(n){w=n;h.reset(w)}}}),n.utils.initOptions(l),l};n.models.boxPlotChart=function(){"use strict";function i(e){return o.reset(),o.models(r),a&&o.models(s),v&&o.models(f),e.each(function(e){var b=d3.select(this),g,nt,it,ut,ft;if(n.utils.initSVG(b),g=(p||parseInt(b.style("width"))||960)-t.left-t.right,nt=(w||parseInt(b.style("height"))||400)-t.top-t.bottom,i.update=function(){d.beforeUpdate();b.transition().duration(u).call(i)},i.container=this,!e||!e.length)return it=b.selectAll(".nv-noData").data([k]),it.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),it.attr("x",t.left+g/2).attr("y",t.top+nt/2).text(function(n){return n}),i;b.selectAll(".nv-noData").remove();l=r.xScale();h=r.yScale().clamp(!0);var rt=b.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([e]),tt=rt.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),et=tt.append("defs"),o=rt.select("g");tt.append("g").attr("class","nv-x nv-axis");tt.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");tt.append("g").attr("class","nv-barsWrap");o.attr("transform","translate("+t.left+","+t.top+")");y&&o.select(".nv-y.nv-axis").attr("transform","translate("+g+",0)");r.width(g).height(nt);ut=o.select(".nv-barsWrap").datum(e.filter(function(n){return!n.disabled}));(ut.transition().call(r),et.append("clipPath").attr("id","nv-x-label-clip-"+r.id()).append("rect"),o.select("#nv-x-label-clip-"+r.id()+" rect").attr("width",l.rangeBand()*(c?2:1)).attr("height",16).attr("x",-l.rangeBand()/(c?1:2)),a)&&(s.scale(l).ticks(n.utils.calcTicksX(g/100,e)).tickSize(-nt,0),o.select(".nv-x.nv-axis").attr("transform","translate(0,"+h.range()[0]+")"),o.select(".nv-x.nv-axis").call(s),ft=o.select(".nv-x.nv-axis").selectAll("g"),c&&ft.selectAll("text").attr("transform",function(n,t,i){return"translate(0,"+(i%2==0?"5":"17")+")"}));v&&(f.scale(h).ticks(Math.floor(nt/36)).tickSize(-g,0),o.select(".nv-y.nv-axis").call(f));o.select(".nv-zeroLine line").attr("x1",0).attr("x2",g).attr("y1",h(0)).attr("y2",h(0))}),o.renderEnd("nv-boxplot chart immediate"),i}var l,h,r=n.models.boxPlot(),s=n.models.axis(),f=n.models.axis(),t={top:15,right:10,bottom:50,left:60},p=null,w=null,b=n.utils.getColor(),a=!0,v=!0,y=!1,c=!1,e=n.models.tooltip(),k="No Data Available.",d=d3.dispatch("beforeUpdate","renderEnd"),u=250,o;return s.orient("bottom").showMaxMin(!1).tickFormat(function(n){return n}),f.orient(y?"right":"left").tickFormat(d3.format(",.1f")),e.duration(0),o=n.utils.renderWatch(d,u),r.dispatch.on("elementMouseover.tooltip",function(n){e.data(n).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(n){e.data(n).hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(){e()}),i.dispatch=d,i.boxplot=r,i.xAxis=s,i.yAxis=f,i.tooltip=e,i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return p},set:function(n){p=n}},height:{get:function(){return w},set:function(n){w=n}},staggerLabels:{get:function(){return c},set:function(n){c=n}},showXAxis:{get:function(){return a},set:function(n){a=n}},showYAxis:{get:function(){return v},set:function(n){v=n}},tooltipContent:{get:function(){return e},set:function(n){e=n}},noData:{get:function(){return k},set:function(n){k=n}},margin:{get:function(){return t},set:function(n){t.top=void 0!==n.top?n.top:t.top;t.right=void 0!==n.right?n.right:t.right;t.bottom=void 0!==n.bottom?n.bottom:t.bottom;t.left=void 0!==n.left?n.left:t.left}},duration:{get:function(){return u},set:function(n){u=n;o.reset(u);r.duration(u);s.duration(u);f.duration(u)}},color:{get:function(){return b},set:function(t){b=n.utils.getColor(t);r.color(b)}},rightAlignYAxis:{get:function(){return y},set:function(n){y=n;f.orient(n?"right":"left")}}}),n.utils.inheritOptions(i,r),n.utils.initOptions(i),i};n.models.bullet=function(){"use strict";function f(n,t){var i=n.slice();n.sort(function(n,r){var u=i.indexOf(n),f=i.indexOf(r);return d3.descending(t[u],t[f])})}function r(e){return e.each(function(r,e){var kt=l-t.left-t.right,ft=a-t.top-t.bottom,w,lt,at,et,wt,bt;v=d3.select(this);n.utils.initSVG(v);var ut=o.call(this,r,e).slice(),vt=s.call(this,r,e).slice(),yt=k.call(this,r,e).slice(),rt=h.call(this,r,e).slice(),pt=d.call(this,r,e).slice(),dt=g.call(this,r,e).slice(),gt=nt.call(this,r,e).slice(),ot=tt.call(this,r,e).slice();f(pt,ut);f(dt,vt);f(gt,yt);f(ot,rt);ut.sort(d3.descending);vt.sort(d3.descending);yt.sort(d3.descending);rt.sort(d3.descending);w=d3.scale.linear().domain(d3.extent(d3.merge([c,ut]))).range(p?[kt,0]:[0,kt]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(w.range());this.__chart__=w;for(var st=(d3.min(ut),d3.max(ut),ut[1],v.selectAll("g.nv-wrap.nv-bullet").data([r])),ii=st.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),ht=ii.append("g"),ct=st.select("g"),e=0,ni=ut.length;ni>e;e++)lt="nv-range nv-range"+e,2>=e&&(lt=lt+" nv-range"+it[e]),ht.append("rect").attr("class",lt);ht.append("rect").attr("class","nv-measure");st.attr("transform","translate("+t.left+","+t.top+")");for(var ri=function(n){return Math.abs(w(n)-w(0))},ti=function(n){return w(0>n?n:0)},e=0,ni=ut.length;ni>e;e++)at=ut[e],ct.select("rect.nv-range"+e).datum(at).attr("height",ft).transition().duration(u).attr("width",ri(at)).attr("x",ti(at));ct.select("rect.nv-measure").style("fill",y).attr("height",ft/3).attr("y",ft/3).on("mouseover",function(){i.elementMouseover({value:rt[0],label:ot[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){i.elementMousemove({value:rt[0],label:ot[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){i.elementMouseout({value:rt[0],label:ot[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(u).attr("width",0>rt?w(0)-w(rt[0]):w(rt[0])-w(0)).attr("x",ti(rt));et=ft/6;wt=vt.map(function(n,t){return{value:n,label:dt[t]}});ht.selectAll("path.nv-markerTriangle").data(wt).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+et+"L"+et+","+-et+" "+-et+","+-et+"Z").on("mouseover",function(n){i.elementMouseover({value:n.value,label:n.label||"Previous",color:d3.select(this).style("fill"),pos:[w(n.value),ft/2]})}).on("mousemove",function(n){i.elementMousemove({value:n.value,label:n.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(n){i.elementMouseout({value:n.value,label:n.label||"Previous",color:d3.select(this).style("fill")})});ct.selectAll("path.nv-markerTriangle").data(wt).transition().duration(u).attr("transform",function(n){return"translate("+w(n.value)+","+ft/2+")"});bt=yt.map(function(n,t){return{value:n,label:gt[t]}});ht.selectAll("line.nv-markerLine").data(bt).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(n){return w(n.value)}).attr("y1","2").attr("x2",function(n){return w(n.value)}).attr("y2",ft-2).on("mouseover",function(n){i.elementMouseover({value:n.value,label:n.label||"Previous",color:d3.select(this).style("fill"),pos:[w(n.value),ft/2]})}).on("mousemove",function(n){i.elementMousemove({value:n.value,label:n.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(n){i.elementMouseout({value:n.value,label:n.label||"Previous",color:d3.select(this).style("fill")})});ct.selectAll("line.nv-markerLine").data(bt).transition().duration(u).attr("x1",function(n){return w(n.value)}).attr("x2",function(n){return w(n.value)});st.selectAll(".nv-range").on("mouseover",function(n,t){var r=pt[t]||b[t];i.elementMouseover({value:n,label:r,color:d3.select(this).style("fill")})}).on("mousemove",function(){i.elementMousemove({value:rt[0],label:ot[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(n,t){var r=pt[t]||b[t];i.elementMouseout({value:n,label:r,color:d3.select(this).style("fill")})})}),r}var t={top:0,right:0,bottom:0,left:0},e="left",p=!1,o=function(n){return n.ranges},s=function(n){return n.markers?n.markers:[]},k=function(n){return n.markerLines?n.markerLines:[0]},h=function(n){return n.measures},d=function(n){return n.rangeLabels?n.rangeLabels:[]},g=function(n){return n.markerLabels?n.markerLabels:[]},nt=function(n){return n.markerLineLabels?n.markerLineLabels:[]},tt=function(n){return n.measureLabels?n.measureLabels:[]},c=[0],l=380,a=30,v=null,w=null,y=n.utils.getColor(["#1f77b4"]),i=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),b=["Maximum","Mean","Minimum"],it=["Max","Avg","Min"],u=1e3;return r.dispatch=i,r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{ranges:{get:function(){return o},set:function(n){o=n}},markers:{get:function(){return s},set:function(n){s=n}},measures:{get:function(){return h},set:function(n){h=n}},forceX:{get:function(){return c},set:function(n){c=n}},width:{get:function(){return l},set:function(n){l=n}},height:{get:function(){return a},set:function(n){a=n}},tickFormat:{get:function(){return w},set:function(n){w=n}},duration:{get:function(){return u},set:function(n){u=n}},margin:{get:function(){return t},set:function(n){t.top=void 0!==n.top?n.top:t.top;t.right=void 0!==n.right?n.right:t.right;t.bottom=void 0!==n.bottom?n.bottom:t.bottom;t.left=void 0!==n.left?n.left:t.left}},orient:{get:function(){return e},set:function(n){e=n;p="right"==e||"bottom"==e}},color:{get:function(){return y},set:function(t){y=n.utils.getColor(t)}}}),n.utils.initOptions(r),r};n.models.bulletChart=function(){"use strict";function i(u){return u.each(function(f,y){var k=d3.select(this),b,p,w,ut,nt,ft,it;if(n.utils.initSVG(k),b=n.utils.availableWidth(l,k,t),p=o-t.top-t.bottom,i.update=function(){i(u)},i.container=this,!f||!e.call(this,f,y))return n.utils.noData(i,k),i;k.selectAll(".nv-noData").remove();var st=e.call(this,f,y).slice().sort(d3.descending),ht=h.call(this,f,y).slice().sort(d3.descending),ct=c.call(this,f,y).slice().sort(d3.descending),d=k.selectAll("g.nv-wrap.nv-bulletChart").data([f]),lt=d.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),g=lt.append("g"),rt=d.select("g");g.append("g").attr("class","nv-bulletWrap");g.append("g").attr("class","nv-titles");d.attr("transform","translate("+t.left+","+t.top+")");w=d3.scale.linear().domain([0,Math.max(st[0],ht[0]||0,ct[0])]).range(v?[b,0]:[0,b]);ut=this.__chart__||d3.scale.linear().domain([0,1/0]).range(w.range());this.__chart__=w;nt=g.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(o-t.top-t.bottom)/2+")");nt.append("text").attr("class","nv-title").text(function(n){return n.title});nt.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(n){return n.subtitle});r.width(b).height(p);ft=rt.select(".nv-bulletWrap");d3.transition(ft).call(r);var et=a||w.tickFormat(b/100),tt=rt.selectAll("g.nv-tick").data(w.ticks(s?s:b/50),function(n){return this.textContent||et(n)}),ot=tt.enter().append("g").attr("class","nv-tick").attr("transform",function(n){return"translate("+ut(n)+",0)"}).style("opacity",1e-6);ot.append("line").attr("y1",p).attr("y2",7*p/6);ot.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*p/6).text(et);it=d3.transition(tt).transition().duration(r.duration()).attr("transform",function(n){return"translate("+w(n)+",0)"}).style("opacity",1);it.select("line").attr("y1",p).attr("y2",7*p/6);it.select("text").attr("y",7*p/6);d3.transition(tt.exit()).transition().duration(r.duration()).attr("transform",function(n){return"translate("+w(n)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),i}var r=n.models.bullet(),u=n.models.tooltip(),f="left",v=!1,t={top:5,right:40,bottom:20,left:120},e=function(n){return n.ranges},h=function(n){return n.markers?n.markers:[]},c=function(n){return n.measures},l=null,o=55,a=null,s=null,y=null,p=d3.dispatch();return u.duration(0).headerEnabled(!1),r.dispatch.on("elementMouseover.tooltip",function(n){n.series={key:n.label,value:n.value,color:n.color};u.data(n).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(){u()}),i.bullet=r,i.dispatch=p,i.tooltip=u,i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{ranges:{get:function(){return e},set:function(n){e=n}},markers:{get:function(){return h},set:function(n){h=n}},measures:{get:function(){return c},set:function(n){c=n}},width:{get:function(){return l},set:function(n){l=n}},height:{get:function(){return o},set:function(n){o=n}},tickFormat:{get:function(){return a},set:function(n){a=n}},ticks:{get:function(){return s},set:function(n){s=n}},noData:{get:function(){return y},set:function(n){y=n}},margin:{get:function(){return t},set:function(n){t.top=void 0!==n.top?n.top:t.top;t.right=void 0!==n.right?n.right:t.right;t.bottom=void 0!==n.bottom?n.bottom:t.bottom;t.left=void 0!==n.left?n.left:t.left}},orient:{get:function(){return f},set:function(n){f=n;v="right"==f||"bottom"==f}}}),n.utils.inheritOptions(i,r),n.utils.initOptions(i),i};n.models.candlestickBar=function(){"use strict";function u(it){return it.each(function(u){var rt,ot,it,ft,st;o=d3.select(this);rt=n.utils.availableWidth(k,o,r);ot=n.utils.availableHeight(d,o,r);n.utils.initSVG(o);it=rt/u[0].values.length*.45;i.domain(p||d3.extent(u[0].values.map(s).concat(g)));nt?i.range(a||[.5*rt/u[0].values.length,rt*(u[0].values.length-.5)/u[0].values.length]):i.range(a||[5+it/2,rt-it/2-5]);t.domain(w||[d3.min(u[0].values.map(l).concat(y)),d3.max(u[0].values.map(c).concat(y))]).range(b||[ot,0]);i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]-.01*i.domain()[0],i.domain()[1]+.01*i.domain()[1]]):i.domain([-1,1]));t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]+.01*t.domain()[0],t.domain()[1]-.01*t.domain()[1]]):t.domain([-1,1]));var et=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([u[0].values]),ht=et.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),ct=ht.append("defs"),lt=ht.append("g"),at=et.select("g");lt.append("g").attr("class","nv-ticks");et.attr("transform","translate("+r.left+","+r.top+")");o.on("click",function(n,t){ut.chartClick({data:n,index:t,pos:d3.event,id:h})});ct.append("clipPath").attr("id","nv-chart-clip-path-"+h).append("rect");et.select("#nv-chart-clip-path-"+h+" rect").attr("width",rt).attr("height",ot);at.attr("clip-path",tt?"url(#nv-chart-clip-path-"+h+")":"");ft=et.select(".nv-ticks").selectAll(".nv-tick").data(function(n){return n});ft.exit().remove();st=ft.enter().append("g");ft.attr("class",function(n,t,i){return(f(n,t)>e(n,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+i+"-"+t});st.append("line").attr("class","nv-candlestick-lines").attr("transform",function(n,t){return"translate("+i(s(n,t))+",0)"}).attr("x1",0).attr("y1",function(n,i){return t(c(n,i))}).attr("x2",0).attr("y2",function(n,i){return t(l(n,i))});st.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(n,r){return"translate("+(i(s(n,r))-it/2)+","+(t(v(n,r))-(f(n,r)>e(n,r)?t(e(n,r))-t(f(n,r)):0))+")"}).attr("x",0).attr("y",0).attr("width",it).attr("height",function(n,i){var r=f(n,i),u=e(n,i);return r>u?t(u)-t(r):t(r)-t(u)});ft.select(".nv-candlestick-lines").transition().attr("transform",function(n,t){return"translate("+i(s(n,t))+",0)"}).attr("x1",0).attr("y1",function(n,i){return t(c(n,i))}).attr("x2",0).attr("y2",function(n,i){return t(l(n,i))});ft.select(".nv-candlestick-rects").transition().attr("transform",function(n,r){return"translate("+(i(s(n,r))-it/2)+","+(t(v(n,r))-(f(n,r)>e(n,r)?t(e(n,r))-t(f(n,r)):0))+")"}).attr("x",0).attr("y",0).attr("width",it).attr("height",function(n,i){var r=f(n,i),u=e(n,i);return r>u?t(u)-t(r):t(r)-t(u)})}),u}var o,p,w,a,b,r={top:0,right:0,bottom:0,left:0},k=null,d=null,h=Math.floor(1e4*Math.random()),i=d3.scale.linear(),t=d3.scale.linear(),s=function(n){return n.x},v=function(n){return n.y},f=function(n){return n.open},e=function(n){return n.close},c=function(n){return n.high},l=function(n){return n.low},g=[],y=[],nt=!1,tt=!0,it=n.utils.defaultColor(),rt=!1,ut=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return u.highlightPoint=function(n,t){u.clearHighlights();o.select(".nv-candlestickBar .nv-tick-0-"+n).classed("hover",t)},u.clearHighlights=function(){o.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},u.dispatch=ut,u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return k},set:function(n){k=n}},height:{get:function(){return d},set:function(n){d=n}},xScale:{get:function(){return i},set:function(n){i=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return p},set:function(n){p=n}},yDomain:{get:function(){return w},set:function(n){w=n}},xRange:{get:function(){return a},set:function(n){a=n}},yRange:{get:function(){return b},set:function(n){b=n}},forceX:{get:function(){return g},set:function(n){g=n}},forceY:{get:function(){return y},set:function(n){y=n}},padData:{get:function(){return nt},set:function(n){nt=n}},clipEdge:{get:function(){return tt},set:function(n){tt=n}},id:{get:function(){return h},set:function(n){h=n}},interactive:{get:function(){return rt},set:function(n){rt=n}},x:{get:function(){return s},set:function(n){s=n}},y:{get:function(){return v},set:function(n){v=n}},open:{get:function(){return f()},set:function(n){f=n}},close:{get:function(){return e()},set:function(n){e=n}},high:{get:function(){return c},set:function(n){c=n}},low:{get:function(){return l},set:function(n){l=n}},margin:{get:function(){return r},set:function(n){r.top=void 0!=n.top?n.top:r.top;r.right=void 0!=n.right?n.right:r.right;r.bottom=void 0!=n.bottom?n.bottom:r.bottom;r.left=void 0!=n.left?n.left:r.left}},color:{get:function(){return it},set:function(t){it=n.utils.getColor(t)}}}),n.utils.initOptions(u),u};n.models.cumulativeLineChart=function(){"use strict";function t(g){return p.reset(),p.models(u),it&&p.models(h),rt&&p.models(o),g.each(function(p){function hi(){d3.select(t.container).style("cursor","ew-resize")}function ci(){r.x=d3.event.x;r.i=Math.round(y.invert(r.x));ti()}function li(){d3.select(t.container).style("cursor","auto");i.index=r.i;c.stateChange(i)}function ti(){gt.data([r]);var n=t.duration();t.duration(0);t.update();t.duration(n)}var ct=d3.select(this),nt,at,dt,ei,ii,oi,si,ri,ui,gt;if(n.utils.initSVG(ct),ct.classed("nv-chart-"+yt,!0),nt=n.utils.availableWidth(ot,ct,f),at=n.utils.availableHeight(tt,ct,f),t.update=function(){0===s?ct.call(t):ct.transition().duration(s).call(t)},t.container=this,i.setter(wt(p),t.update).getter(pt(p)).update(),i.disabled=p.map(function(n){return!!n.disabled}),!v){v={};for(dt in i)v[dt]=i[dt]instanceof Array?i[dt].slice(0):i[dt]}if(ei=d3.behavior.drag().on("dragstart",hi).on("drag",ci).on("dragend",li),!(p&&p.length&&p.filter(function(n){return n.values.length}).length))return n.utils.noData(t,ct),t;(ct.selectAll(".nv-noData").remove(),et=u.xScale(),w=u.yScale(),e)?u.yDomain(null):(ii=p.filter(function(n){return!n.disabled}).map(function(n){var t=d3.extent(n.values,u.y());return t[0]<-.95&&(t[0]=-.95),[(t[0]-t[1])/(1+t[1]),(t[1]-t[0])/(1+t[0])]}),oi=[d3.min(ii,function(n){return n[0]}),d3.max(ii,function(n){return n[1]})],u.yDomain(oi));y.domain([0,p[0].values.length-1]).range([0,nt]).clamp(!0);var p=vt(r.i,p),ai=ft?"none":"all",kt=ct.selectAll("g.nv-wrap.nv-cumulativeLine").data([p]),bt=kt.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),g=kt.select("g");(bt.append("g").attr("class","nv-interactive"),bt.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),bt.append("g").attr("class","nv-y nv-axis"),bt.append("g").attr("class","nv-background"),bt.append("g").attr("class","nv-linesWrap").style("pointer-events",ai),bt.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),bt.append("g").attr("class","nv-legendWrap"),bt.append("g").attr("class","nv-controlsWrap"),st?(l.width(nt),g.select(".nv-legendWrap").datum(p).call(l),lt||l.height()===f.top||(f.top=l.height(),at=n.utils.availableHeight(tt,ct,f)),g.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")):g.select(".nv-legendWrap").selectAll("*").remove(),ht)?(si=[{key:"Re-scale y-axis",disabled:!e}],b.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),g.select(".nv-controlsWrap").datum(si).attr("transform","translate(0,"+-f.top+")").call(b)):g.select(".nv-controlsWrap").selectAll("*").remove();kt.attr("transform","translate("+f.left+","+f.top+")");ut&&g.select(".nv-y.nv-axis").attr("transform","translate("+nt+",0)");ri=p.filter(function(n){return n.tempDisabled});kt.select(".tempDisabled").remove();ri.length&&kt.append("text").attr("class","tempDisabled").attr("x",nt/2).attr("y","-.71em").style("text-anchor","end").text(ri.map(function(n){return n.key}).join(", ")+" values cannot be calculated for this time period.");ft&&(a.width(nt).height(at).margin({left:f.left,top:f.top}).svgContainer(ct).xScale(et),kt.select(".nv-interactive").call(a));bt.select(".nv-background").append("rect");g.select(".nv-background rect").attr("width",nt).attr("height",at);u.y(function(n){return n.display.y}).width(nt).height(at).color(p.map(function(n,t){return n.color||k(n,t)}).filter(function(n,t){return!p[t].disabled&&!p[t].tempDisabled}));ui=g.select(".nv-linesWrap").datum(p.filter(function(n){return!n.disabled&&!n.tempDisabled}));ui.call(u);p.forEach(function(n,t){n.seriesIndex=t});var vi=p.filter(function(n){return!n.disabled&&!!d(n)}),fi=g.select(".nv-avgLinesWrap").selectAll("line").data(vi,function(n){return n.key}),ni=function(n){var t=w(d(n));return 0>t?0:t>at?at:t};fi.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(n){return u.color()(n,n.seriesIndex)}).attr("x1",0).attr("x2",nt).attr("y1",ni).attr("y2",ni);fi.style("stroke-opacity",function(n){var t=w(d(n));return 0>t||t>at?0:1}).attr("x1",0).attr("x2",nt).attr("y1",ni).attr("y2",ni);fi.exit().remove();gt=ui.selectAll(".nv-indexLine").data([r]);gt.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(ei);gt.attr("transform",function(n){return"translate("+y(n.i)+",0)"}).attr("height",at);it&&(h.scale(et)._ticks(n.utils.calcTicksX(nt/70,p)).tickSize(-at,0),g.select(".nv-x.nv-axis").attr("transform","translate(0,"+w.range()[0]+")"),g.select(".nv-x.nv-axis").call(h));rt&&(o.scale(w)._ticks(n.utils.calcTicksY(at/36,p)).tickSize(-nt,0),g.select(".nv-y.nv-axis").call(o));g.select(".nv-background rect").on("click",function(){r.x=d3.mouse(this)[0];r.i=Math.round(y.invert(r.x));i.index=r.i;c.stateChange(i);ti()});u.dispatch.on("elementClick",function(n){r.i=n.pointIndex;r.x=y(r.i);i.index=r.i;c.stateChange(i);ti()});b.dispatch.on("legendClick",function(n){n.disabled=!n.disabled;e=!n.disabled;i.rescaleY=e;c.stateChange(i);t.update()});l.dispatch.on("stateChange",function(n){for(var r in n)i[r]=n[r];c.stateChange(i);t.update()});a.dispatch.on("elementMousemove",function(i){var e,r,s,f,l;if(u.clearHighlights(),f=[],p.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(o,h){r=n.interactiveBisect(o.values,i.pointXValue,t.x());u.highlightPoint(h,r,!0);var c=o.values[r];"undefined"!=typeof c&&("undefined"==typeof e&&(e=c),"undefined"==typeof s&&(s=t.xScale()(t.x()(c,r))),f.push({key:o.key,value:t.y()(c,r),color:k(o,o.seriesIndex)}))}),f.length>2){var v=t.yScale().invert(i.mouseY),y=Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),w=.03*y,c=n.nearestValueIndex(f.map(function(n){return n.value}),v,w);null!==c&&(f[c].highlight=!0)}l=h.tickFormat()(t.x()(e,r),r);a.tooltip.valueFormatter(function(n){return o.tickFormat()(n)}).data({value:l,series:f})();a.renderGuideLine(s)});a.dispatch.on("elementMouseout",function(){u.clearHighlights()});c.on("changeState",function(n){"undefined"!=typeof n.disabled&&(p.forEach(function(t,i){t.disabled=n.disabled[i]}),i.disabled=n.disabled);"undefined"!=typeof n.index&&(r.i=n.index,r.x=y(r.i),i.index=n.index,gt.data([r]));"undefined"!=typeof n.rescaleY&&(e=n.rescaleY);t.update()})}),p.renderEnd("cumulativeLineChart immediate"),t}function vt(n,t){return g||(g=u.y()),t.map(function(t){var r,i;return t.values?(r=t.values[n],null==r)?t:(i=g(r,n),-.95>i&&!ct?(t.tempDisabled=!0,t):(t.tempDisabled=!1,t.values=t.values.map(function(n,t){return n.display={y:(g(n,t)-i)/(1+i)},n}),t)):t})}var et,w,u=n.models.line(),h=n.models.axis(),o=n.models.axis(),l=n.models.legend(),b=n.models.legend(),a=n.interactiveGuideline(),nt=n.models.tooltip(),f={top:30,right:30,bottom:50,left:60},lt=null,k=n.utils.defaultColor(),ot=null,tt=null,st=!0,it=!0,rt=!0,ut=!1,ht=!0,ft=!1,e=!0,yt=u.id(),i=n.utils.state(),v=null,at=null,d=function(n){return n.average},c=d3.dispatch("stateChange","changeState","renderEnd"),s=250,ct=!1,g;i.index=0;i.rescaleY=e;h.orient("bottom").tickPadding(7);o.orient(ut?"right":"left");nt.valueFormatter(function(n,t){return o.tickFormat()(n,t)}).headerFormatter(function(n,t){return h.tickFormat()(n,t)});b.updateState(!1);var y=d3.scale.linear(),r={i:0,x:0},p=n.utils.renderWatch(c,s),pt=function(n){return function(){return{active:n.map(function(n){return!n.disabled}),index:r.i,rescaleY:e}}},wt=function(n){return function(t){void 0!==t.index&&(r.i=t.index);void 0!==t.rescaleY&&(e=t.rescaleY);void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};return u.dispatch.on("elementMouseover.tooltip",function(n){var i={x:t.x()(n.point),y:t.y()(n.point),color:n.point.color};n.point=i;nt.data(n).hidden(!1)}),u.dispatch.on("elementMouseout.tooltip",function(){nt.hidden(!0)}),g=null,t.dispatch=c,t.lines=u,t.legend=l,t.controls=b,t.xAxis=h,t.yAxis=o,t.interactiveLayer=a,t.state=i,t.tooltip=nt,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return ot},set:function(n){ot=n}},height:{get:function(){return tt},set:function(n){tt=n}},rescaleY:{get:function(){return e},set:function(n){e=n}},showControls:{get:function(){return ht},set:function(n){ht=n}},showLegend:{get:function(){return st},set:function(n){st=n}},average:{get:function(){return d},set:function(n){d=n}},defaultState:{get:function(){return v},set:function(n){v=n}},noData:{get:function(){return at},set:function(n){at=n}},showXAxis:{get:function(){return it},set:function(n){it=n}},showYAxis:{get:function(){return rt},set:function(n){rt=n}},noErrorCheck:{get:function(){return ct},set:function(n){ct=n}},margin:{get:function(){return f},set:function(n){void 0!==n.top&&(f.top=n.top,lt=n.top);f.right=void 0!==n.right?n.right:f.right;f.bottom=void 0!==n.bottom?n.bottom:f.bottom;f.left=void 0!==n.left?n.left:f.left}},color:{get:function(){return k},set:function(t){k=n.utils.getColor(t);l.color(k)}},useInteractiveGuideline:{get:function(){return ft},set:function(n){ft=n;n===!0&&(t.interactive(!1),t.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return ut},set:function(n){ut=n;o.orient(n?"right":"left")}},duration:{get:function(){return s},set:function(n){s=n;u.duration(s);h.duration(s);o.duration(s);p.reset(s)}}}),n.utils.inheritOptions(t,u),n.utils.initOptions(t),t};n.models.discreteBar=function(){"use strict";function e(y){return f.reset(),y.each(function(e){var st=d-i.left-i.right,ot=g-i.top-i.bottom,ft,rt,y,et;p=d3.select(this);n.utils.initSVG(p);e.forEach(function(n,t){n.values.forEach(function(n){n.series=t})});ft=h&&c?[]:e.map(function(n){return n.values.map(function(n,t){return{x:s(n,t),y:u(n,t),y0:n.y0}})});r.domain(h||d3.merge(ft).map(function(n){return n.x})).rangeBands(w||[0,st],.1);t.domain(c||d3.extent(d3.merge(ft).map(function(n){return n.y}).concat(nt)));v?t.range(l||[ot-(t.domain()[0]<0?12:0),t.domain()[1]>0?12:0]):t.range(l||[ot,0]);b=b||r;k=k||t.copy().range([t(0),t(0)]);var ut=p.selectAll("g.nv-wrap.nv-discretebar").data([e]),ht=ut.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),ct=ht.append("g");ut.select("g");ct.append("g").attr("class","nv-groups");ut.attr("transform","translate("+i.left+","+i.top+")");rt=ut.select(".nv-groups").selectAll(".nv-group").data(function(n){return n},function(n){return n.key});rt.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);rt.exit().watchTransition(f,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();rt.attr("class",function(n,t){return"nv-group nv-series-"+t}).classed("hover",function(n){return n.hover});rt.watchTransition(f,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);y=rt.selectAll("g.nv-bar").data(function(n){return n.values});y.exit().remove();et=y.enter().append("g").attr("transform",function(n,i){return"translate("+(r(s(n,i))+.05*r.rangeBand())+", "+t(0)+")"}).on("mouseover",function(n,t){d3.select(this).classed("hover",!0);o.elementMouseover({data:n,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(n,t){d3.select(this).classed("hover",!1);o.elementMouseout({data:n,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(n,t){o.elementMousemove({data:n,index:t,color:d3.select(this).style("fill")})}).on("click",function(n,t){var i=this;o.elementClick({data:n,index:t,color:d3.select(this).style("fill"),event:d3.event,element:i});d3.event.stopPropagation()}).on("dblclick",function(n,t){o.elementDblClick({data:n,index:t,color:d3.select(this).style("fill")});d3.event.stopPropagation()});et.append("rect").attr("height",0).attr("width",.9*r.rangeBand()/e.length);v?(et.append("text").attr("text-anchor","middle"),y.select("text").text(function(n,t){return tt(u(n,t))}).watchTransition(f,"discreteBar: bars text").attr("x",.9*r.rangeBand()/2).attr("y",function(n,i){return u(n,i)<0?t(u(n,i))-t(0)+12:-4})):y.selectAll("text").remove();y.attr("class",function(n,t){return u(n,t)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(n,t){return n.color||a(n,t)}).style("stroke",function(n,t){return n.color||a(n,t)}).select("rect").attr("class",it).watchTransition(f,"discreteBar: bars rect").attr("width",.9*r.rangeBand()/e.length);y.watchTransition(f,"discreteBar: bars").attr("transform",function(n,i){var f=r(s(n,i))+.05*r.rangeBand(),e=u(n,i)<0?t(0):t(0)-t(u(n,i))<1?t(0)-1:t(u(n,i));return"translate("+f+", "+e+")"}).select("rect").attr("height",function(n,i){return Math.max(Math.abs(t(u(n,i))-t(0)),1)});b=r.copy();k=t.copy()}),f.renderEnd("discreteBar immediate"),e}var p,h,c,w,l,b,k,i={top:0,right:0,bottom:0,left:0},d=960,g=500,rt=Math.floor(1e4*Math.random()),r=d3.scale.ordinal(),t=d3.scale.linear(),s=function(n){return n.x},u=function(n){return n.y},nt=[0],a=n.utils.defaultColor(),v=!1,tt=d3.format(",.2f"),o=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),it="discreteBar",y=250,f=n.utils.renderWatch(o,y);return e.dispatch=o,e.options=n.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(n){d=n}},height:{get:function(){return g},set:function(n){g=n}},forceY:{get:function(){return nt},set:function(n){nt=n}},showValues:{get:function(){return v},set:function(n){v=n}},x:{get:function(){return s},set:function(n){s=n}},y:{get:function(){return u},set:function(n){u=n}},xScale:{get:function(){return r},set:function(n){r=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return h},set:function(n){h=n}},yDomain:{get:function(){return c},set:function(n){c=n}},xRange:{get:function(){return w},set:function(n){w=n}},yRange:{get:function(){return l},set:function(n){l=n}},valueFormat:{get:function(){return tt},set:function(n){tt=n}},id:{get:function(){return rt},set:function(n){rt=n}},rectClass:{get:function(){return it},set:function(n){it=n}},margin:{get:function(){return i},set:function(n){i.top=void 0!==n.top?n.top:i.top;i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left}},color:{get:function(){return a},set:function(t){a=n.utils.getColor(t)}},duration:{get:function(){return y},set:function(n){y=n;f.reset(y)}}}),n.utils.initOptions(e),e};n.models.discreteBarChart=function(){"use strict";function t(c){return o.reset(),o.models(r),b&&o.models(e),k&&o.models(u),c.each(function(o){var w=d3.select(this),rt,ut,st,ot;if(n.utils.initSVG(w),rt=n.utils.availableWidth(d,w,i),ut=n.utils.availableHeight(p,w,i),t.update=function(){tt.beforeUpdate();w.transition().duration(f).call(t)},t.container=this,!(o&&o.length&&o.filter(function(n){return n.values.length}).length))return n.utils.noData(t,w),t;w.selectAll(".nv-noData").remove();y=r.xScale();s=r.yScale().clamp(!0);var et=w.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([o]),ft=et.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),ht=ft.append("defs"),c=et.select("g");ft.append("g").attr("class","nv-x nv-axis");ft.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");ft.append("g").attr("class","nv-barsWrap");ft.append("g").attr("class","nv-legendWrap");c.attr("transform","translate("+i.left+","+i.top+")");g?(h.width(rt),c.select(".nv-legendWrap").datum(o).call(h),it||h.height()===i.top||(i.top=h.height(),ut=n.utils.availableHeight(p,w,i)),et.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")")):c.select(".nv-legendWrap").selectAll("*").remove();l&&c.select(".nv-y.nv-axis").attr("transform","translate("+rt+",0)");r.width(rt).height(ut);st=c.select(".nv-barsWrap").datum(o.filter(function(n){return!n.disabled}));(st.transition().call(r),ht.append("clipPath").attr("id","nv-x-label-clip-"+r.id()).append("rect"),c.select("#nv-x-label-clip-"+r.id()+" rect").attr("width",y.rangeBand()*(a?2:1)).attr("height",16).attr("x",-y.rangeBand()/(a?1:2)),b)&&(e.scale(y)._ticks(n.utils.calcTicksX(rt/100,o)).tickSize(-ut,0),c.select(".nv-x.nv-axis").attr("transform","translate(0,"+(s.range()[0]+(r.showValues()&&s.domain()[0]<0?16:0))+")"),c.select(".nv-x.nv-axis").call(e),ot=c.select(".nv-x.nv-axis").selectAll("g"),a&&ot.selectAll("text").attr("transform",function(n,t,i){return"translate(0,"+(i%2==0?"5":"17")+")"}),v&&ot.selectAll(".tick text").attr("transform","rotate("+v+" 0,0)").style("text-anchor",v>0?"start":"end"),nt&&c.selectAll(".tick text").call(n.utils.wrapTicks,t.xAxis.rangeBand()));k&&(u.scale(s)._ticks(n.utils.calcTicksY(ut/36,o)).tickSize(-rt,0),c.select(".nv-y.nv-axis").call(u));c.select(".nv-zeroLine line").attr("x1",0).attr("x2",l?-rt:rt).attr("y1",s(0)).attr("y2",s(0))}),o.renderEnd("discreteBar chart immediate"),t}var y,s,r=n.models.discreteBar(),e=n.models.axis(),u=n.models.axis(),h=n.models.legend(),c=n.models.tooltip(),i={top:15,right:10,bottom:50,left:60},it=null,d=null,p=null,w=n.utils.getColor(),g=!1,b=!0,k=!0,l=!1,a=!1,nt=!1,v=0,rt=null,tt=d3.dispatch("beforeUpdate","renderEnd"),f=250,o;return e.orient("bottom").showMaxMin(!1).tickFormat(function(n){return n}),u.orient(l?"right":"left").tickFormat(d3.format(",.1f")),c.duration(0).headerEnabled(!1).valueFormatter(function(n,t){return u.tickFormat()(n,t)}).keyFormatter(function(n,t){return e.tickFormat()(n,t)}),o=n.utils.renderWatch(tt,f),r.dispatch.on("elementMouseover.tooltip",function(n){n.series={key:t.x()(n.data),value:t.y()(n.data),color:n.color};c.data(n).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(){c.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(){c()}),t.dispatch=tt,t.discretebar=r,t.legend=h,t.xAxis=e,t.yAxis=u,t.tooltip=c,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return d},set:function(n){d=n}},height:{get:function(){return p},set:function(n){p=n}},showLegend:{get:function(){return g},set:function(n){g=n}},staggerLabels:{get:function(){return a},set:function(n){a=n}},rotateLabels:{get:function(){return v},set:function(n){v=n}},wrapLabels:{get:function(){return nt},set:function(n){nt=!!n}},showXAxis:{get:function(){return b},set:function(n){b=n}},showYAxis:{get:function(){return k},set:function(n){k=n}},noData:{get:function(){return rt},set:function(n){rt=n}},margin:{get:function(){return i},set:function(n){void 0!==n.top&&(i.top=n.top,it=n.top);i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left}},duration:{get:function(){return f},set:function(n){f=n;o.reset(f);r.duration(f);e.duration(f);u.duration(f)}},color:{get:function(){return w},set:function(t){w=n.utils.getColor(t);r.color(w);h.color(w)}},rightAlignYAxis:{get:function(){return l},set:function(n){l=n;u.orient(n?"right":"left")}}}),n.utils.inheritOptions(t,r),n.utils.initOptions(t),t};n.models.distribution=function(){"use strict";function t(s){return o.reset(),s.each(function(t){var y=(h-("x"===r?i.left+i.right:i.top+i.bottom),"x"==r?"y":"x"),p=d3.select(this),s,a;n.utils.initSVG(p);e=e||f;var v=p.selectAll("g.nv-distribution").data([t]),w=v.enter().append("g").attr("class","nvd3 nv-distribution"),b=(w.append("g"),v.select("g"));v.attr("transform","translate("+i.left+","+i.top+")");s=b.selectAll("g.nv-dist").data(function(n){return n},function(n){return n.key});s.enter().append("g");s.attr("class",function(n,t){return"nv-dist nv-series-"+t}).style("stroke",function(n,t){return l(n,t)});a=s.selectAll("line.nv-dist"+r).data(function(n){return n.values});a.enter().append("line").attr(r+"1",function(n,t){return e(u(n,t))}).attr(r+"2",function(n,t){return e(u(n,t))});o.transition(s.exit().selectAll("line.nv-dist"+r),"dist exit").attr(r+"1",function(n,t){return f(u(n,t))}).attr(r+"2",function(n,t){return f(u(n,t))}).style("stroke-opacity",0).remove();a.attr("class",function(n,t){return"nv-dist"+r+" nv-dist"+r+"-"+t}).attr(y+"1",0).attr(y+"2",c);o.transition(a,"dist").attr(r+"1",function(n,t){return f(u(n,t))}).attr(r+"2",function(n,t){return f(u(n,t))});e=f.copy()}),o.renderEnd("distribution immediate"),t}var e,i={top:0,right:0,bottom:0,left:0},h=400,c=8,r="x",u=function(n){return n[r]},l=n.utils.defaultColor(),f=d3.scale.linear(),s=250,a=d3.dispatch("renderEnd"),o=n.utils.renderWatch(a,s);return t.options=n.utils.optionsFunc.bind(t),t.dispatch=a,t.margin=function(n){return arguments.length?(i.top="undefined"!=typeof n.top?n.top:i.top,i.right="undefined"!=typeof n.right?n.right:i.right,i.bottom="undefined"!=typeof n.bottom?n.bottom:i.bottom,i.left="undefined"!=typeof n.left?n.left:i.left,t):i},t.width=function(n){return arguments.length?(h=n,t):h},t.axis=function(n){return arguments.length?(r=n,t):r},t.size=function(n){return arguments.length?(c=n,t):c},t.getData=function(n){return arguments.length?(u=d3.functor(n),t):u},t.scale=function(n){return arguments.length?(f=n,t):f},t.color=function(i){return arguments.length?(l=n.utils.getColor(i),t):l},t.duration=function(n){return arguments.length?(s=n,o.reset(s),t):s},t};n.models.focus=function(t){"use strict";function i(g){return c.reset(),c.models(t),y&&c.models(h),p&&c.models(o),g.each(function(c){function ct(n){var r=+("e"==n),i=r?1:-1,t=g/3;return"M"+.5*i+","+t+"A6,6 0 0 "+r+" "+6.5*i+","+(t+6)+"V"+(2*t-6)+"A6,6 0 0 "+r+" "+.5*i+","+2*t+"ZM"+2.5*i+","+(t+8)+"V"+(2*t-8)+"M"+4.5*i+","+(t+8)+"V"+(2*t-8)}function lt(){r.empty()||r.extent(s);ft.data([r.empty()?f.domain():s]).each(function(n){var t=f(n[0])-f.range()[0],i=tt-f(n[1]);d3.select(this).select(".left").attr("width",0>t?0:t);d3.select(this).select(".right").attr("x",f(n[1])).attr("width",0>i?0:i)})}function st(n){s=r.empty()?null:r.extent();var t=r.empty()?f.domain():r.extent();l.brush({extent:t,brush:r});lt();n&&l.onBrush(t)}var rt=d3.select(this),tt,g,ht,ft,et,ot;n.utils.initSVG(rt);tt=n.utils.availableWidth(k,rt,u);g=d-u.top-u.bottom;i.update=function(){0===e?rt.call(i):rt.transition().duration(e).call(i)};i.container=this;f=t.xScale();a=t.yScale();var ut=rt.selectAll("g.nv-focus").data([c]),it=ut.enter().append("g").attr("class","nvd3 nv-focus").append("g"),nt=ut.select("g");ut.attr("transform","translate("+u.left+","+u.top+")");it.append("g").attr("class","nv-background").append("rect");it.append("g").attr("class","nv-x nv-axis");it.append("g").attr("class","nv-y nv-axis");it.append("g").attr("class","nv-contentWrap");it.append("g").attr("class","nv-brushBackground");it.append("g").attr("class","nv-x nv-brush");w&&nt.select(".nv-y.nv-axis").attr("transform","translate("+tt+",0)");nt.select(".nv-background rect").attr("width",tt).attr("height",g);t.width(tt).height(g).color(c.map(function(n,t){return n.color||v(n,t)}).filter(function(n,t){return!c[t].disabled}));ht=nt.select(".nv-contentWrap").datum(c.filter(function(n){return!n.disabled}));d3.transition(ht).call(t);r.x(f).on("brush",function(){st(b)});r.on("brushend",function(){b||l.onBrush(r.empty()?f.domain():r.extent())});s&&r.extent(s);ft=nt.select(".nv-brushBackground").selectAll("g").data([s||r.extent()]);et=ft.enter().append("g");et.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",g);et.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",g);ot=nt.select(".nv-x.nv-brush").call(r);ot.selectAll("rect").attr("height",g);ot.selectAll(".resize").append("path").attr("d",ct);st(!0);nt.select(".nv-background rect").attr("width",tt).attr("height",g);y&&(h.scale(f)._ticks(n.utils.calcTicksX(tt/100,c)).tickSize(-g,0),nt.select(".nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),d3.transition(nt.select(".nv-x.nv-axis")).call(h));p&&(o.scale(a)._ticks(n.utils.calcTicksY(g/36,c)).tickSize(-tt,0),d3.transition(nt.select(".nv-y.nv-axis")).call(o));nt.select(".nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")")}),c.renderEnd("focus immediate"),i}var f,a,t=t||n.models.line(),h=n.models.axis(),o=n.models.axis(),r=d3.svg.brush(),u={top:10,right:0,bottom:30,left:0},v=n.utils.defaultColor(),k=null,d=70,y=!0,p=!1,w=!1,s=null,e=250,l=d3.dispatch("brush","onBrush","renderEnd"),b=!0,c;return t.interactive(!1),t.pointActive(function(){return!1}),c=n.utils.renderWatch(l,e),i.dispatch=l,i.content=t,i.brush=r,i.xAxis=h,i.yAxis=o,i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return k},set:function(n){k=n}},height:{get:function(){return d},set:function(n){d=n}},showXAxis:{get:function(){return y},set:function(n){y=n}},showYAxis:{get:function(){return p},set:function(n){p=n}},brushExtent:{get:function(){return s},set:function(n){s=n}},syncBrushing:{get:function(){return b},set:function(n){b=n}},margin:{get:function(){return u},set:function(n){u.top=void 0!==n.top?n.top:u.top;u.right=void 0!==n.right?n.right:u.right;u.bottom=void 0!==n.bottom?n.bottom:u.bottom;u.left=void 0!==n.left?n.left:u.left}},duration:{get:function(){return e},set:function(n){e=n;c.reset(e);t.duration(e);h.duration(e);o.duration(e)}},color:{get:function(){return v},set:function(i){v=n.utils.getColor(i);t.color(v)}},interpolate:{get:function(){return t.interpolate()},set:function(n){t.interpolate(n)}},xTickFormat:{get:function(){return h.tickFormat()},set:function(n){h.tickFormat(n)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(n){o.tickFormat(n)}},x:{get:function(){return t.x()},set:function(n){t.x(n)}},y:{get:function(){return t.y()},set:function(n){t.y(n)}},rightAlignYAxis:{get:function(){return w},set:function(n){w=n;o.orient(w?"right":"left")}}}),n.utils.inheritOptions(i,t),n.utils.initOptions(i),i};n.models.forceDirectedGraph=function(){"use strict";function r(k){return tt.reset(),k.each(function(k){var d,g,nt;if(t=d3.select(this),n.utils.initSVG(t),d=n.utils.availableWidth(e,t,i),g=n.utils.availableHeight(o,t,i),t.attr("width",d).attr("height",g),!(k&&k.links&&k.nodes))return n.utils.noData(r,t),r;t.selectAll(".nv-noData").remove();t.selectAll("*").remove();nt=new Set;k.nodes.forEach(function(n){var t=Object.keys(n);t.forEach(function(n){nt.add(n)})});var it=d3.layout.force().nodes(k.nodes).links(k.links).size([d,g]).linkStrength(s).friction(h).linkDistance(c).charge(l).gravity(a).theta(v).alpha(y).start(),rt=t.selectAll(".link").data(k.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(n){return Math.sqrt(n.value)}),tt=t.selectAll(".node").data(k.nodes).enter().append("g").attr("class","nv-force-node").call(it.drag);tt.append("circle").attr("r",p).style("fill",function(n){return u(n)}).on("mouseover",function(n){t.select(".nv-series-"+n.seriesIndex+" .nv-distx-"+n.pointIndex).attr("y1",n.py);t.select(".nv-series-"+n.seriesIndex+" .nv-disty-"+n.pointIndex).attr("x2",n.px);var i=u(n);n.series=[];nt.forEach(function(t){n.series.push({color:i,key:t,value:n[t]})});f.data(n).hidden(!1)}).on("mouseout",function(){f.hidden(!0)});f.headerFormatter(function(){return"Node"});b(rt);w(tt);it.on("tick",function(){rt.attr("x1",function(n){return n.source.x}).attr("y1",function(n){return n.source.y}).attr("x2",function(n){return n.target.x}).attr("y2",function(n){return n.target.y});tt.attr("transform",function(n){return"translate("+n.x+", "+n.y+")"})})}),r}var i={top:2,right:0,bottom:2,left:0},e=400,o=32,t=null,k=d3.dispatch("renderEnd"),u=n.utils.getColor(["#000"]),f=n.models.tooltip(),d=null,s=.1,h=.9,c=30,l=-120,a=.1,v=.8,y=.1,p=5,w=function(){},b=function(){},g=d3.functor(0),nt=d3.functor(0),tt=n.utils.renderWatch(k);return r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return e},set:function(n){e=n}},height:{get:function(){return o},set:function(n){o=n}},linkStrength:{get:function(){return s},set:function(n){s=n}},friction:{get:function(){return h},set:function(n){h=n}},linkDist:{get:function(){return c},set:function(n){c=n}},charge:{get:function(){return l},set:function(n){l=n}},gravity:{get:function(){return a},set:function(n){a=n}},theta:{get:function(){return v},set:function(n){v=n}},alpha:{get:function(){return y},set:function(n){y=n}},radius:{get:function(){return p},set:function(n){p=n}},x:{get:function(){return g},set:function(n){g=d3.functor(n)}},y:{get:function(){return nt},set:function(n){nt=d3.functor(n)}},margin:{get:function(){return i},set:function(n){i.top=void 0!==n.top?n.top:i.top;i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left}},color:{get:function(){return u},set:function(t){u=n.utils.getColor(t)}},noData:{get:function(){return d},set:function(n){d=n}},nodeExtras:{get:function(){return w},set:function(n){w=n}},linkExtras:{get:function(){return b},set:function(n){b=n}}}),r.dispatch=k,r.tooltip=f,n.utils.initOptions(r),r};n.models.furiousLegend=function(){"use strict";function u(b){function k(n,t){return"furious"!=i?"#000":r?n.disengaged?o(n,t):"#fff":r?void 0:n.disabled?o(n,t):"#fff"}function d(n,t){return r&&"furious"==i?n.disengaged?"#fff":o(n,t):n.disabled?"#fff":o(n,t)}return b.each(function(u){var pt=h-t.left-t.right,wt=d3.select(this),st,rt,ht,b,ut,bt,at,ft,nt,tt;n.utils.initSVG(wt);st=wt.selectAll("g.nv-legend").data([u]);rt=(st.enter().append("g").attr("class","nvd3 nv-legend").append("g"),st.select("g"));st.attr("transform","translate("+t.left+","+t.top+")");b=rt.selectAll(".nv-series").data(function(n){return"furious"!=i?n:n.filter(function(n){return r?!0:!n.disengaged})});ut=b.enter().append("g").attr("class","nv-series");"classic"==i?(ut.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),ht=b.select("circle")):"furious"==i&&(ut.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),ht=b.select("rect"),ut.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"><\/path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"><\/path>').attr("transform","translate(-10,-8)scale(0.5)"),bt=b.select(".nv-check-box"),bt.each(function(n,t){d3.select(this).selectAll("path").attr("stroke",k(n,t))}));ut.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");at=b.select("text.nv-legend-text");b.on("mouseover",function(n,t){s.legendMouseover(n,t)}).on("mouseout",function(n,t){s.legendMouseout(n,t)}).on("click",function(n,t){var u,f;s.legendClick(n,t);u=b.data();v&&("classic"==i?w?(u.forEach(function(n){n.disabled=!0}),n.disabled=!1):(n.disabled=!n.disabled,u.every(function(n){return n.disabled})&&u.forEach(function(n){n.disabled=!1})):"furious"==i&&(r?(n.disengaged=!n.disengaged,n.userDisabled=void 0==n.userDisabled?!!n.disabled:n.userDisabled,n.disabled=n.disengaged||n.userDisabled):r||(n.disabled=!n.disabled,n.userDisabled=n.disabled,f=u.filter(function(n){return!n.disengaged}),f.every(function(n){return n.userDisabled})&&u.forEach(function(n){n.disabled=n.userDisabled=!1}))),s.stateChange({disabled:u.map(function(n){return!!n.disabled}),disengaged:u.map(function(n){return!!n.disengaged})}))}).on("dblclick",function(n,t){if(("furious"!=i||!r)&&(s.legendDblclick(n,t),v)){var u=b.data();u.forEach(function(n){n.disabled=!0;"furious"==i&&(n.userDisabled=n.disabled)});n.disabled=!1;"furious"==i&&(n.userDisabled=n.disabled);s.stateChange({disabled:u.map(function(n){return!!n.disabled})})}});b.classed("nv-disabled",function(n){return n.userDisabled});b.exit().remove();at.attr("fill",k).text(function(n){return e(f(n))});switch(i){case"furious":ft=23;break;case"classic":ft=20}if(y){nt=[];b.each(function(t){var i,u,r;e(f(t))&&e(f(t)).length>l?(u=e(f(t)).substring(0,l),i=d3.select(this).select("text").text(u+"..."),d3.select(this).append("svg:title").text(e(f(t)))):i=d3.select(this).select("text");try{if(r=i.node().getComputedTextLength(),0>=r)throw Error();}catch(o){r=n.utils.calcApproxTextWidth(i)}nt.push(r+a)});for(var g=0,et=0,it=[];pt>et&&g<nt.length;)it[g]=nt[g],et+=nt[g++];for(0===g&&(g=1);et>pt&&g>1;){for(it=[],g--,tt=0;tt<nt.length;tt++)nt[tt]>(it[tt%g]||0)&&(it[tt%g]=nt[tt]);et=it.reduce(function(n,t){return n+t})}for(var kt=[],ct=0,dt=0;g>ct;ct++)kt[ct]=dt,dt+=it[ct];b.attr("transform",function(n,t){return"translate("+kt[t%g]+","+(5+Math.floor(t/g)*ft)+")"});p?rt.attr("transform","translate("+(h-t.right-et)+","+t.top+")"):rt.attr("transform","translate(0,"+t.top+")");c=t.top+t.bottom+Math.ceil(nt.length/g)*ft}else{var lt,vt=5,ot=5,yt=0;b.attr("transform",function(){var n=d3.select(this).select("text").node().getComputedTextLength()+a;return lt=ot,h<t.left+t.right+lt+n&&(ot=lt=5,vt+=ft),ot+=n,ot>yt&&(yt=ot),"translate("+lt+","+vt+")"});rt.attr("transform","translate("+(h-t.right-yt)+","+t.top+")");c=t.top+t.bottom+vt+15}"furious"==i&&ht.attr("width",function(n,t){return at[0][t].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15);ht.style("fill",d).style("stroke",function(n,t){return n.color||o(n,t)})}),u}var t={top:5,right:0,bottom:5,left:0},h=400,c=20,f=function(n){return n.key},e=function(n){return n},o=n.utils.getColor(),l=20,y=!0,a=28,p=!0,v=!0,w=!1,r=!1,s=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),i="classic";return u.dispatch=s,u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return h},set:function(n){h=n}},height:{get:function(){return c},set:function(n){c=n}},key:{get:function(){return f},set:function(n){f=n}},keyFormatter:{get:function(){return e},set:function(n){e=n}},align:{get:function(){return y},set:function(n){y=n}},rightAlign:{get:function(){return p},set:function(n){p=n}},maxKeyLength:{get:function(){return l},set:function(n){l=n}},padding:{get:function(){return a},set:function(n){a=n}},updateState:{get:function(){return v},set:function(n){v=n}},radioButtonMode:{get:function(){return w},set:function(n){w=n}},expanded:{get:function(){return r},set:function(n){r=n}},vers:{get:function(){return i},set:function(n){i=n}},margin:{get:function(){return t},set:function(n){t.top=void 0!==n.top?n.top:t.top;t.right=void 0!==n.right?n.right:t.right;t.bottom=void 0!==n.bottom?n.bottom:t.bottom;t.left=void 0!==n.left?n.left:t.left}},color:{get:function(){return o},set:function(t){o=n.utils.getColor(t)}}}),n.utils.initOptions(u),u};n.models.historicalBar=function(){"use strict";function f(it){return it.each(function(f){var it,ft,ut;a.reset();o=d3.select(this);it=n.utils.availableWidth(w,o,r);ft=n.utils.availableHeight(b,o,r);n.utils.initSVG(o);i.domain(v||d3.extent(f[0].values.map(c).concat(k)));g?i.range(l||[.5*it/f[0].values.length,it*(f[0].values.length-.5)/f[0].values.length]):i.range(l||[0,it]);t.domain(y||d3.extent(f[0].values.map(u).concat(d))).range(p||[ft,0]);i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]-.01*i.domain()[0],i.domain()[1]+.01*i.domain()[1]]):i.domain([-1,1]));t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]+.01*t.domain()[0],t.domain()[1]-.01*t.domain()[1]]):t.domain([-1,1]));var rt=o.selectAll("g.nv-wrap.nv-historicalBar-"+e).data([f[0].values]),et=rt.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+e),ot=et.append("defs"),st=et.append("g"),ht=rt.select("g");st.append("g").attr("class","nv-bars");rt.attr("transform","translate("+r.left+","+r.top+")");o.on("click",function(n,t){s.chartClick({data:n,index:t,pos:d3.event,id:e})});ot.append("clipPath").attr("id","nv-chart-clip-path-"+e).append("rect");rt.select("#nv-chart-clip-path-"+e+" rect").attr("width",it).attr("height",ft);ht.attr("clip-path",nt?"url(#nv-chart-clip-path-"+e+")":"");ut=rt.select(".nv-bars").selectAll(".nv-bar").data(function(n){return n},function(n,t){return c(n,t)});ut.exit().remove();ut.enter().append("rect").attr("x",0).attr("y",function(i,r){return n.utils.NaNtoZero(t(Math.max(0,u(i,r))))}).attr("height",function(i,r){return n.utils.NaNtoZero(Math.abs(t(u(i,r))-t(0)))}).attr("transform",function(n,t){return"translate("+(i(c(n,t))-it/f[0].values.length*.45)+",0)"}).on("mouseover",function(n,t){h&&(d3.select(this).classed("hover",!0),s.elementMouseover({data:n,index:t,color:d3.select(this).style("fill")}))}).on("mouseout",function(n,t){h&&(d3.select(this).classed("hover",!1),s.elementMouseout({data:n,index:t,color:d3.select(this).style("fill")}))}).on("mousemove",function(n,t){h&&s.elementMousemove({data:n,index:t,color:d3.select(this).style("fill")})}).on("click",function(n,t){if(h){var i=this;s.elementClick({data:n,index:t,color:d3.select(this).style("fill"),event:d3.event,element:i});d3.event.stopPropagation()}}).on("dblclick",function(n,t){h&&(s.elementDblClick({data:n,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation())});ut.attr("fill",function(n,t){return tt(n,t)}).attr("class",function(n,t,i){return(u(n,t)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+i+"-"+t}).watchTransition(a,"bars").attr("transform",function(n,t){return"translate("+(i(c(n,t))-it/f[0].values.length*.45)+",0)"}).attr("width",it/f[0].values.length*.9);ut.watchTransition(a,"bars").attr("y",function(i,r){var f=u(i,r)<0?t(0):t(0)-t(u(i,r))<1?t(0)-1:t(u(i,r));return n.utils.NaNtoZero(f)}).attr("height",function(i,r){return n.utils.NaNtoZero(Math.max(Math.abs(t(u(i,r))-t(0)),1))})}),a.renderEnd("historicalBar immediate"),f}var v,y,l,p,r={top:0,right:0,bottom:0,left:0},w=null,b=null,e=Math.floor(1e4*Math.random()),o=null,i=d3.scale.linear(),t=d3.scale.linear(),c=function(n){return n.x},u=function(n){return n.y},k=[],d=[0],g=!1,nt=!0,tt=n.utils.defaultColor(),s=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),h=!0,a=n.utils.renderWatch(s,0);return f.highlightPoint=function(n,t){o.select(".nv-bars .nv-bar-0-"+n).classed("hover",t)},f.clearHighlights=function(){o.select(".nv-bars .nv-bar.hover").classed("hover",!1)},f.dispatch=s,f.options=n.utils.optionsFunc.bind(f),f._options=Object.create({},{width:{get:function(){return w},set:function(n){w=n}},height:{get:function(){return b},set:function(n){b=n}},forceX:{get:function(){return k},set:function(n){k=n}},forceY:{get:function(){return d},set:function(n){d=n}},padData:{get:function(){return g},set:function(n){g=n}},x:{get:function(){return c},set:function(n){c=n}},y:{get:function(){return u},set:function(n){u=n}},xScale:{get:function(){return i},set:function(n){i=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return v},set:function(n){v=n}},yDomain:{get:function(){return y},set:function(n){y=n}},xRange:{get:function(){return l},set:function(n){l=n}},yRange:{get:function(){return p},set:function(n){p=n}},clipEdge:{get:function(){return nt},set:function(n){nt=n}},id:{get:function(){return e},set:function(n){e=n}},interactive:{get:function(){return h},set:function(n){h=n}},margin:{get:function(){return r},set:function(n){r.top=void 0!==n.top?n.top:r.top;r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},color:{get:function(){return tt},set:function(t){tt=n.utils.getColor(t)}}}),n.utils.initOptions(f),f};n.models.historicalBarChart=function(t){"use strict";function i(t){return t.each(function(p){var ft,et,st,ct,at;if(c.reset(),c.models(u),b&&c.models(o),k&&c.models(e),ft=d3.select(this),n.utils.initSVG(ft),et=n.utils.availableWidth(tt,ft,r),st=n.utils.availableHeight(w,ft,r),i.update=function(){ft.transition().duration(y).call(i)},i.container=this,f.disabled=p.map(function(n){return!!n.disabled}),!a){a={};for(ct in f)a[ct]=f[ct]instanceof Array?f[ct].slice(0):f[ct]}if(!(p&&p.length&&p.filter(function(n){return n.values.length}).length))return n.utils.noData(i,ft),i;ft.selectAll(".nv-noData").remove();g=u.xScale();nt=u.yScale();var ht=ft.selectAll("g.nv-wrap.nv-historicalBarChart").data([p]),lt=ht.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),ot=ht.select("g");lt.append("g").attr("class","nv-x nv-axis");lt.append("g").attr("class","nv-y nv-axis");lt.append("g").attr("class","nv-barsWrap");lt.append("g").attr("class","nv-legendWrap");lt.append("g").attr("class","nv-interactive");it?(s.width(et),ot.select(".nv-legendWrap").datum(p).call(s),ut||s.height()===r.top||(r.top=s.height(),st=n.utils.availableHeight(w,ft,r)),ht.select(".nv-legendWrap").attr("transform","translate(0,"+-r.top+")")):ot.select(".nv-legendWrap").selectAll("*").remove();ht.attr("transform","translate("+r.left+","+r.top+")");d&&ot.select(".nv-y.nv-axis").attr("transform","translate("+et+",0)");rt&&(h.width(et).height(st).margin({left:r.left,top:r.top}).svgContainer(ft).xScale(g),ht.select(".nv-interactive").call(h));u.width(et).height(st).color(p.map(function(n,t){return n.color||l(n,t)}).filter(function(n,t){return!p[t].disabled}));at=ot.select(".nv-barsWrap").datum(p.filter(function(n){return!n.disabled}));at.transition().call(u);b&&(o.scale(g)._ticks(n.utils.calcTicksX(et/100,p)).tickSize(-st,0),ot.select(".nv-x.nv-axis").attr("transform","translate(0,"+nt.range()[0]+")"),ot.select(".nv-x.nv-axis").transition().call(o));k&&(e.scale(nt)._ticks(n.utils.calcTicksY(st/36,p)).tickSize(-et,0),ot.select(".nv-y.nv-axis").transition().call(e));h.dispatch.on("elementMousemove",function(t){var f,r,s,c,a;u.clearHighlights();c=[];p.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(e){r=n.interactiveBisect(e.values,t.pointXValue,i.x());u.highlightPoint(r,!0);var o=e.values[r];void 0!==o&&(void 0===f&&(f=o),void 0===s&&(s=i.xScale()(i.x()(o,r))),c.push({key:e.key,value:i.y()(o,r),color:l(e,e.seriesIndex),data:e.values[r]}))});a=o.tickFormat()(i.x()(f,r));h.tooltip.valueFormatter(function(n){return e.tickFormat()(n)}).data({value:a,index:r,series:c})();h.renderGuideLine(s)});h.dispatch.on("elementMouseout",function(){v.tooltipHide();u.clearHighlights()});s.dispatch.on("legendClick",function(n){n.disabled=!n.disabled;p.filter(function(n){return!n.disabled}).length||p.map(function(n){return n.disabled=!1,ht.selectAll(".nv-series").classed("disabled",!1),n});f.disabled=p.map(function(n){return!!n.disabled});v.stateChange(f);t.transition().call(i)});s.dispatch.on("legendDblclick",function(n){p.forEach(function(n){n.disabled=!0});n.disabled=!1;f.disabled=p.map(function(n){return!!n.disabled});v.stateChange(f);i.update()});v.on("changeState",function(n){"undefined"!=typeof n.disabled&&(p.forEach(function(t,i){t.disabled=n.disabled[i]}),f.disabled=n.disabled);i.update()})}),c.renderEnd("historicalBarChart immediate"),i}var g,nt,u=t||n.models.historicalBar(),o=n.models.axis(),e=n.models.axis(),s=n.models.legend(),h=n.interactiveGuideline(),p=n.models.tooltip(),r={top:30,right:90,bottom:50,left:90},ut=null,l=n.utils.defaultColor(),tt=null,w=null,it=!1,b=!0,k=!0,d=!1,rt=!1,f={},a=null,ft=null,v=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),y=250,c;return o.orient("bottom").tickPadding(7),e.orient(d?"right":"left"),p.duration(0).headerEnabled(!1).valueFormatter(function(n,t){return e.tickFormat()(n,t)}).headerFormatter(function(n,t){return o.tickFormat()(n,t)}),c=n.utils.renderWatch(v,0),u.dispatch.on("elementMouseover.tooltip",function(n){n.series={key:i.x()(n.data),value:i.y()(n.data),color:n.color};p.data(n).hidden(!1)}),u.dispatch.on("elementMouseout.tooltip",function(){p.hidden(!0)}),u.dispatch.on("elementMousemove.tooltip",function(){p()}),i.dispatch=v,i.bars=u,i.legend=s,i.xAxis=o,i.yAxis=e,i.interactiveLayer=h,i.tooltip=p,i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return tt},set:function(n){tt=n}},height:{get:function(){return w},set:function(n){w=n}},showLegend:{get:function(){return it},set:function(n){it=n}},showXAxis:{get:function(){return b},set:function(n){b=n}},showYAxis:{get:function(){return k},set:function(n){k=n}},defaultState:{get:function(){return a},set:function(n){a=n}},noData:{get:function(){return ft},set:function(n){ft=n}},margin:{get:function(){return r},set:function(n){void 0!==n.top&&(r.top=n.top,ut=n.top);r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},color:{get:function(){return l},set:function(t){l=n.utils.getColor(t);s.color(l);u.color(l)}},duration:{get:function(){return y},set:function(n){y=n;c.reset(y);e.duration(y);o.duration(y)}},rightAlignYAxis:{get:function(){return d},set:function(n){d=n;e.orient(n?"right":"left")}},useInteractiveGuideline:{get:function(){return rt},set:function(n){rt=n;n===!0&&i.interactive(!1)}}}),n.utils.inheritOptions(i,u),n.utils.initOptions(i),i};n.models.ohlcBarChart=function(){var t=n.models.historicalBarChart(n.models.ohlcBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(n){var i=n.series[0].data,r=i.open<i.close?"2ca02c":"d62728";return'<h3 style="color: #'+r+'">'+n.value+"<\/h3><table><tr><td>open:<\/td><td>"+t.yAxis.tickFormat()(i.open)+"<\/td><\/tr><tr><td>close:<\/td><td>"+t.yAxis.tickFormat()(i.close)+"<\/td><\/tr><tr><td>high<\/td><td>"+t.yAxis.tickFormat()(i.high)+"<\/td><\/tr><tr><td>low:<\/td><td>"+t.yAxis.tickFormat()(i.low)+"<\/td><\/tr><\/table>"}),t};n.models.candlestickBarChart=function(){var t=n.models.historicalBarChart(n.models.candlestickBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(n){var i=n.series[0].data,r=i.open<i.close?"2ca02c":"d62728";return'<h3 style="color: #'+r+'">'+n.value+"<\/h3><table><tr><td>open:<\/td><td>"+t.yAxis.tickFormat()(i.open)+"<\/td><\/tr><tr><td>close:<\/td><td>"+t.yAxis.tickFormat()(i.close)+"<\/td><\/tr><tr><td>high<\/td><td>"+t.yAxis.tickFormat()(i.high)+"<\/td><\/tr><tr><td>low:<\/td><td>"+t.yAxis.tickFormat()(i.low)+"<\/td><\/tr><\/table>"}),t};n.models.legend=function(){"use strict";function u(k){function d(n,t){return"furious"!=i?"#000":r?n.disengaged?"#000":"#fff":r?void 0:(n.color||(n.color=c(n,t)),n.disabled?n.color:"#fff")}function g(n,t){return r&&"furious"==i&&n.disengaged?"#eee":n.color||c(n,t)}function nt(n){return r&&"furious"==i?1:n.disabled?0:1}return k.each(function(u){var wt=s-t.left-t.right,bt=d3.select(this),at,rt,k,st,kt,yt,tt,it,c,ut,ft,ni;n.utils.initSVG(bt);var lt=bt.selectAll("g.nv-legend").data([u]),ti=lt.enter().append("g").attr("class","nvd3 nv-legend").append("g"),ot=lt.select("g");v?lt.attr("transform","translate("+-t.right+","+t.top+")"):lt.attr("transform","translate("+t.left+","+t.top+")");k=ot.selectAll(".nv-series").data(function(n){return"furious"!=i?n:n.filter(function(n){return r?!0:!n.disengaged})});st=k.enter().append("g").attr("class","nv-series");switch(i){case"furious":rt=23;break;case"classic":rt=20}if("classic"==i?(st.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),at=k.select(".nv-legend-symbol")):"furious"==i&&(st.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),at=k.select(".nv-legend-symbol"),st.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"><\/path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"><\/path>').attr("transform","translate(-10,-8)scale(0.5)"),kt=k.select(".nv-check-box"),kt.each(function(n,t){d3.select(this).selectAll("path").attr("stroke",d(n,t))})),st.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),yt=k.select("text.nv-legend-text"),k.on("mouseover",function(n,t){o.legendMouseover(n,t)}).on("mouseout",function(n,t){o.legendMouseout(n,t)}).on("click",function(n,t){var u,f;o.legendClick(n,t);u=k.data();y&&("classic"==i?b?(u.forEach(function(n){n.disabled=!0}),n.disabled=!1):(n.disabled=!n.disabled,u.every(function(n){return n.disabled})&&u.forEach(function(n){n.disabled=!1})):"furious"==i&&(r?(n.disengaged=!n.disengaged,n.userDisabled=void 0==n.userDisabled?!!n.disabled:n.userDisabled,n.disabled=n.disengaged||n.userDisabled):r||(n.disabled=!n.disabled,n.userDisabled=n.disabled,f=u.filter(function(n){return!n.disengaged}),f.every(function(n){return n.userDisabled})&&u.forEach(function(n){n.disabled=n.userDisabled=!1}))),o.stateChange({disabled:u.map(function(n){return!!n.disabled}),disengaged:u.map(function(n){return!!n.disengaged})}))}).on("dblclick",function(n,t){if(w){if("furious"==i&&r)return;if(o.legendDblclick(n,t),y){var u=k.data();u.forEach(function(n){n.disabled=!0;"furious"==i&&(n.userDisabled=n.disabled)});n.disabled=!1;"furious"==i&&(n.userDisabled=n.disabled);o.stateChange({disabled:u.map(function(n){return!!n.disabled})})}}}),k.classed("nv-disabled",function(n){return n.userDisabled}),k.exit().remove(),yt.attr("fill",d).text(function(n){return e(f(n))}),tt=0,p){for(it=[],k.each(function(t){var i,u,r;e(f(t))&&e(f(t)).length>l?(u=e(f(t)).substring(0,l),i=d3.select(this).select("text").text(u+"..."),d3.select(this).append("svg:title").text(e(f(t)))):i=d3.select(this).select("text");try{if(r=i.node().getComputedTextLength(),0>=r)throw Error();}catch(o){r=n.utils.calcApproxTextWidth(i)}it.push(r+a)}),c=0,ut=[],tt=0;wt>tt&&c<it.length;)ut[c]=it[c],tt+=it[c++];for(0===c&&(c=1);tt>wt&&c>1;){for(ut=[],c--,ft=0;ft<it.length;ft++)it[ft]>(ut[ft%c]||0)&&(ut[ft%c]=it[ft]);tt=ut.reduce(function(n,t){return n+t})}for(var dt=[],vt=0,gt=0;c>vt;vt++)dt[vt]=gt,gt+=ut[vt];k.attr("transform",function(n,t){return"translate("+dt[t%c]+","+(5+Math.floor(t/c)*rt)+")"});v?ot.attr("transform","translate("+(s-t.right-tt)+","+t.top+")"):ot.attr("transform","translate(0,"+t.top+")");h=t.top+t.bottom+Math.ceil(it.length/c)*rt}else{var et,pt=5,ht=5,ct=0;k.attr("transform",function(){var n=d3.select(this).select("text").node().getComputedTextLength()+a;return et=ht,s<t.left+t.right+et+n&&(ht=et=5,pt+=rt),ht+=n,ht>ct&&(ct=ht),et+ct>tt&&(tt=et+ct),"translate("+et+","+pt+")"});ot.attr("transform","translate("+(s-t.right-ct)+","+t.top+")");h=t.top+t.bottom+pt+15}"furious"==i&&(at.attr("width",function(n,t){return yt[0][t].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),ti.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),ni=ot.select(".nv-legend-bg"),ni.transition().duration(300).attr("x",-rt).attr("width",tt+rt-12).attr("height",h+10).attr("y",-t.top-10).attr("opacity",r?1:0));at.style("fill",g).style("fill-opacity",nt).style("stroke",g)}),u}var t={top:5,right:0,bottom:5,left:0},s=400,h=20,f=function(n){return n.key},e=function(n){return n},c=n.utils.getColor(),l=20,p=!0,a=32,v=!0,y=!0,w=!0,b=!1,r=!1,o=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),i="classic";return u.dispatch=o,u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return s},set:function(n){s=n}},height:{get:function(){return h},set:function(n){h=n}},key:{get:function(){return f},set:function(n){f=n}},keyFormatter:{get:function(){return e},set:function(n){e=n}},align:{get:function(){return p},set:function(n){p=n}},maxKeyLength:{get:function(){return l},set:function(n){l=n}},rightAlign:{get:function(){return v},set:function(n){v=n}},padding:{get:function(){return a},set:function(n){a=n}},updateState:{get:function(){return y},set:function(n){y=n}},enableDoubleClick:{get:function(){return w},set:function(n){w=n}},radioButtonMode:{get:function(){return b},set:function(n){b=n}},expanded:{get:function(){return r},set:function(n){r=n}},vers:{get:function(){return i},set:function(n){i=n}},margin:{get:function(){return t},set:function(n){t.top=void 0!==n.top?n.top:t.top;t.right=void 0!==n.right?n.right:t.right;t.bottom=void 0!==n.bottom?n.bottom:t.bottom;t.left=void 0!==n.left?n.left:t.left}},color:{get:function(){return c},set:function(t){c=n.utils.getColor(t)}}}),n.utils.initOptions(u),u};n.models.line=function(){"use strict";function u(y){return e.reset(),e.models(t),y.each(function(u){var it,tt,rt,y,ut,ft;a=d3.select(this);it=n.utils.availableWidth(k,a,r);tt=n.utils.availableHeight(d,a,r);n.utils.initSVG(a);l=t.xScale();i=t.yScale();w=w||l;c=c||i;var p=a.selectAll("g.nv-wrap.nv-line").data([u]),et=p.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),st=et.append("defs"),ot=et.append("g"),ht=p.select("g");ot.append("g").attr("class","nv-groups");ot.append("g").attr("class","nv-scatterWrap");p.attr("transform","translate("+r.left+","+r.top+")");t.width(it).height(tt);rt=p.select(".nv-scatterWrap");rt.call(t);st.append("clipPath").attr("id","nv-edge-clip-"+t.id()).append("rect");p.select("#nv-edge-clip-"+t.id()+" rect").attr("width",it).attr("height",tt>0?tt:0);ht.attr("clip-path",b?"url(#nv-edge-clip-"+t.id()+")":"");rt.attr("clip-path",b?"url(#nv-edge-clip-"+t.id()+")":"");y=p.select(".nv-groups").selectAll(".nv-group").data(function(n){return n},function(n){return n.key});y.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(n){return n.strokeWidth||nt}).style("fill-opacity",1e-6);y.exit().remove();y.attr("class",function(n,t){return(n.classed||"")+" nv-group nv-series-"+t}).classed("hover",function(n){return n.hover}).style("fill",function(n,t){return v(n,t)}).style("stroke",function(n,t){return v(n,t)});y.watchTransition(e,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(n){return n.fillOpacity||.5});ut=y.selectAll("path.nv-area").data(function(n){return g(n)?[n]:[]});ut.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(h).defined(s).x(function(t,i){return n.utils.NaNtoZero(w(o(t,i)))}).y0(function(t,i){return n.utils.NaNtoZero(c(f(t,i)))}).y1(function(){return c(i.domain()[0]<=0?i.domain()[1]>=0?0:i.domain()[1]:i.domain()[0])}).apply(this,[t.values])});y.exit().selectAll("path.nv-area").remove();ut.watchTransition(e,"line: areaPaths").attr("d",function(t){return d3.svg.area().interpolate(h).defined(s).x(function(t,i){return n.utils.NaNtoZero(l(o(t,i)))}).y0(function(t,r){return n.utils.NaNtoZero(i(f(t,r)))}).y1(function(){return i(i.domain()[0]<=0?i.domain()[1]>=0?0:i.domain()[1]:i.domain()[0])}).apply(this,[t.values])});ft=y.selectAll("path.nv-line").data(function(n){return[n.values]});ft.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(h).defined(s).x(function(t,i){return n.utils.NaNtoZero(w(o(t,i)))}).y(function(t,i){return n.utils.NaNtoZero(c(f(t,i)))}));ft.watchTransition(e,"line: linePaths").attr("d",d3.svg.line().interpolate(h).defined(s).x(function(t,i){return n.utils.NaNtoZero(l(o(t,i)))}).y(function(t,r){return n.utils.NaNtoZero(i(f(t,r)))}));w=l.copy();c=i.copy()}),e.renderEnd("line immediate"),u}var l,i,t=n.models.scatter(),r={top:0,right:0,bottom:0,left:0},k=960,d=500,a=null,nt=1.5,v=n.utils.defaultColor(),o=function(n){return n.x},f=function(n){return n.y},s=function(n,t){return!isNaN(f(n,t))&&null!==f(n,t)},g=function(n){return n.area},b=!1,h="linear",y=250,p=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd"),w,c,e;return t.pointSize(16).pointDomain([16,256]),e=n.utils.renderWatch(p,y),u.dispatch=p,u.scatter=t,t.dispatch.on("elementClick",function(){p.elementClick.apply(this,arguments)}),t.dispatch.on("elementMouseover",function(){p.elementMouseover.apply(this,arguments)}),t.dispatch.on("elementMouseout",function(){p.elementMouseout.apply(this,arguments)}),u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return k},set:function(n){k=n}},height:{get:function(){return d},set:function(n){d=n}},defined:{get:function(){return s},set:function(n){s=n}},interpolate:{get:function(){return h},set:function(n){h=n}},clipEdge:{get:function(){return b},set:function(n){b=n}},margin:{get:function(){return r},set:function(n){r.top=void 0!==n.top?n.top:r.top;r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},duration:{get:function(){return y},set:function(n){y=n;e.reset(y);t.duration(y)}},isArea:{get:function(){return g},set:function(n){g=d3.functor(n)}},x:{get:function(){return o},set:function(n){o=n;t.x(n)}},y:{get:function(){return f},set:function(n){f=n;t.y(n)}},color:{get:function(){return v},set:function(i){v=n.utils.getColor(i);t.color(v)}}}),n.utils.inheritOptions(u,t),n.utils.initOptions(u),u};n.models.lineChart=function(){"use strict";function t(nt){return y.reset(),y.models(r),w&&y.models(e),b&&y.models(o),nt.each(function(y){function bt(){w&&ct.select(".nv-focus .nv-x.nv-axis").transition().duration(f).call(e)}function kt(){b&&ct.select(".nv-focus .nv-y.nv-axis").transition().duration(f).call(o)}function dt(n){var t=ct.select(".nv-focus .nv-linesWrap").datum(y.filter(function(n){return!n.disabled}).map(function(t){return{key:t.key,area:t.area,classed:t.classed,values:t.values.filter(function(t,i){return r.x()(t,i)>=n[0]&&r.x()(t,i)<=n[1]}),disableTooltip:t.disableTooltip}}));t.transition().duration(f).call(r);bt();kt()}var nt=d3.select(this),lt,ot,vt,at,gt,wt;if(n.utils.initSVG(nt),lt=n.utils.availableWidth(rt,nt,u),ot=n.utils.availableHeight(p,nt,u)-(a?i.height():0),t.update=function(){0===f?nt.call(t):nt.transition().duration(f).call(t)},t.container=this,h.setter(ht(y),t.update).getter(st(y)).update(),h.disabled=y.map(function(n){return!!n.disabled}),!v){v={};for(vt in h)v[vt]=h[vt]instanceof Array?h[vt].slice(0):h[vt]}if(!(y&&y.length&&y.filter(function(n){return n.values.length}).length))return n.utils.noData(t,nt),t;nt.selectAll(".nv-noData").remove();i.dispatch.on("onBrush",function(n){dt(n)});g=r.xScale();ft=r.yScale();var yt=nt.selectAll("g.nv-wrap.nv-lineChart").data([y]),pt=yt.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),ct=yt.select("g");pt.append("g").attr("class","nv-legendWrap");at=pt.append("g").attr("class","nv-focus");at.append("g").attr("class","nv-background").append("rect");at.append("g").attr("class","nv-x nv-axis");at.append("g").attr("class","nv-y nv-axis");at.append("g").attr("class","nv-linesWrap");at.append("g").attr("class","nv-interactive");pt.append("g").attr("class","nv-focusWrap");ut?(c.width(lt),ct.select(".nv-legendWrap").datum(y).call(c),"bottom"===tt?(u.bottom=e.height()+c.height(),ot=n.utils.availableHeight(p,nt,u),ct.select(".nv-legendWrap").attr("transform","translate(0,"+(ot+e.height())+")")):"top"===tt&&(et||c.height()===u.top||(u.top=c.height(),ot=n.utils.availableHeight(p,nt,u)-(a?i.height():0)),yt.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")"))):ct.select(".nv-legendWrap").selectAll("*").remove();yt.attr("transform","translate("+u.left+","+u.top+")");k&&ct.select(".nv-y.nv-axis").attr("transform","translate("+lt+",0)");it&&(s.width(lt).height(ot).margin({left:u.left,top:u.top}).svgContainer(nt).xScale(g),yt.select(".nv-interactive").call(s));ct.select(".nv-focus .nv-background rect").attr("width",lt).attr("height",ot);r.width(lt).height(ot).color(y.map(function(n,t){return n.color||l(n,t)}).filter(function(n,t){return!y[t].disabled}));gt=ct.select(".nv-linesWrap").datum(y.filter(function(n){return!n.disabled}));(w&&e.scale(g)._ticks(n.utils.calcTicksX(lt/100,y)).tickSize(-ot,0),b&&o.scale(ft)._ticks(n.utils.calcTicksY(ot/36,y)).tickSize(-lt,0),ct.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+ot+")"),a||null!==i.brush.extent())?(i.width(lt),ct.select(".nv-focusWrap").style("display",a?"initial":"none").attr("transform","translate(0,"+(ot+u.bottom+i.margin().top)+")").call(i),wt=i.brush.empty()?i.xDomain():i.brush.extent(),null!==wt&&dt(wt)):(gt.call(r),bt(),kt());c.dispatch.on("stateChange",function(n){for(var i in n)h[i]=n[i];d.stateChange(h);t.update()});s.dispatch.on("elementMousemove",function(u){var h,f,c,e,v;if(r.clearHighlights(),e=[],y.filter(function(n,t){return n.seriesIndex=t,!n.disabled&&!n.disableTooltip}).forEach(function(o,s){var a=null!==i.brush.extent()?i.brush.empty()?i.xScale().domain():i.brush.extent():g.domain(),p=o.values.filter(function(n,t){return a[0]<=a[1]?r.x()(n,t)>=a[0]&&r.x()(n,t)<=a[1]:r.x()(n,t)>=a[1]&&r.x()(n,t)<=a[0]}),v,y;f=n.interactiveBisect(p,u.pointXValue,r.x());v=p[f];y=t.y()(v,f);null!==y&&r.highlightPoint(s,f,!0);void 0!==v&&(void 0===h&&(h=v),void 0===c&&(c=t.xScale()(t.x()(v,f))),e.push({key:o.key,value:y,color:l(o,o.seriesIndex),data:v}))}),e.length>2){var p=t.yScale().invert(u.mouseY),w=Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),b=.03*w,a=n.nearestValueIndex(e.map(function(n){return n.value}),p,b);null!==a&&(e[a].highlight=!0)}v=function(n){return null==n?"N/A":o.tickFormat()(n)};s.tooltip.valueFormatter(s.tooltip.valueFormatter()||v).data({value:t.x()(h,f),index:f,series:e})();s.renderGuideLine(c)});s.dispatch.on("elementClick",function(i){var u,f=[];y.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(r){var e=n.interactiveBisect(r.values,i.pointXValue,t.x()),o=r.values[e],s;"undefined"!=typeof o&&("undefined"==typeof u&&(u=t.xScale()(t.x()(o,e))),s=t.yScale()(t.y()(o,e)),f.push({point:o,pointIndex:e,pos:[u,s],seriesIndex:r.seriesIndex,series:r}))});r.dispatch.elementClick(f)});s.dispatch.on("elementMouseout",function(){r.clearHighlights()});d.on("changeState",function(n){"undefined"!=typeof n.disabled&&y.length===n.disabled.length&&(y.forEach(function(t,i){t.disabled=n.disabled[i]}),h.disabled=n.disabled);t.update()})}),y.renderEnd("lineChart immediate"),t}var g,ft,r=n.models.line(),e=n.models.axis(),o=n.models.axis(),c=n.models.legend(),s=n.interactiveGuideline(),nt=n.models.tooltip(),i=n.models.focus(n.models.line()),u={top:30,right:20,bottom:50,left:60},et=null,l=n.utils.defaultColor(),rt=null,p=null,ut=!0,tt="top",w=!0,b=!0,k=!1,it=!1,a=!1,h=n.utils.state(),v=null,ot=null,d=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),f=250;e.orient("bottom").tickPadding(7);o.orient(k?"right":"left");r.clipEdge(!0).duration(0);nt.valueFormatter(function(n,t){return o.tickFormat()(n,t)}).headerFormatter(function(n,t){return e.tickFormat()(n,t)});s.tooltip.valueFormatter(function(n,t){return o.tickFormat()(n,t)}).headerFormatter(function(n,t){return e.tickFormat()(n,t)});var y=n.utils.renderWatch(d,f),st=function(n){return function(){return{active:n.map(function(n){return!n.disabled})}}},ht=function(n){return function(t){void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};return r.dispatch.on("elementMouseover.tooltip",function(n){n.series.disableTooltip||nt.data(n).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(){nt.hidden(!0)}),t.dispatch=d,t.lines=r,t.legend=c,t.focus=i,t.xAxis=e,t.x2Axis=i.xAxis,t.yAxis=o,t.y2Axis=i.yAxis,t.interactiveLayer=s,t.tooltip=nt,t.state=h,t.dispatch=d,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return rt},set:function(n){rt=n}},height:{get:function(){return p},set:function(n){p=n}},showLegend:{get:function(){return ut},set:function(n){ut=n}},legendPosition:{get:function(){return tt},set:function(n){tt=n}},showXAxis:{get:function(){return w},set:function(n){w=n}},showYAxis:{get:function(){return b},set:function(n){b=n}},defaultState:{get:function(){return v},set:function(n){v=n}},noData:{get:function(){return ot},set:function(n){ot=n}},focusEnable:{get:function(){return a},set:function(n){a=n}},focusHeight:{get:function(){return i.height()},set:function(n){i.height(n)}},focusShowAxisX:{get:function(){return i.showXAxis()},set:function(n){i.showXAxis(n)}},focusShowAxisY:{get:function(){return i.showYAxis()},set:function(n){i.showYAxis(n)}},brushExtent:{get:function(){return i.brushExtent()},set:function(n){i.brushExtent(n)}},focusMargin:{get:function(){return i.margin},set:function(n){void 0!==n.top&&(u.top=n.top,et=n.top);i.margin.right=void 0!==n.right?n.right:i.margin.right;i.margin.bottom=void 0!==n.bottom?n.bottom:i.margin.bottom;i.margin.left=void 0!==n.left?n.left:i.margin.left}},margin:{get:function(){return u},set:function(n){u.top=void 0!==n.top?n.top:u.top;u.right=void 0!==n.right?n.right:u.right;u.bottom=void 0!==n.bottom?n.bottom:u.bottom;u.left=void 0!==n.left?n.left:u.left}},duration:{get:function(){return f},set:function(n){f=n;y.reset(f);r.duration(f);i.duration(f);e.duration(f);o.duration(f)}},color:{get:function(){return l},set:function(t){l=n.utils.getColor(t);c.color(l);r.color(l);i.color(l)}},interpolate:{get:function(){return r.interpolate()},set:function(n){r.interpolate(n);i.interpolate(n)}},xTickFormat:{get:function(){return e.tickFormat()},set:function(n){e.tickFormat(n);i.xTickFormat(n)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(n){o.tickFormat(n);i.yTickFormat(n)}},x:{get:function(){return r.x()},set:function(n){r.x(n);i.x(n)}},y:{get:function(){return r.y()},set:function(n){r.y(n);i.y(n)}},rightAlignYAxis:{get:function(){return k},set:function(n){k=n;o.orient(k?"right":"left")}},useInteractiveGuideline:{get:function(){return it},set:function(n){it=n;it&&(r.interactive(!1),r.useVoronoi(!1))}}}),n.utils.inheritOptions(t,r),n.utils.initOptions(t),t};n.models.lineWithFocusChart=function(){return n.models.lineChart().margin({bottom:30}).focusEnable(!0)};n.models.linePlusBarChart=function(){"use strict";function t(g){return g.each(function(g){function fr(n){var r=+("e"==n),i=r?1:-1,t=oi/3;return"M"+.5*i+","+t+"A6,6 0 0 "+r+" "+6.5*i+","+(t+6)+"V"+(2*t-6)+"A6,6 0 0 "+r+" "+.5*i+","+2*t+"ZM"+2.5*i+","+(t+8)+"V"+(2*t-8)+"M"+4.5*i+","+(t+8)+"V"+(2*t-8)}function er(){o.empty()||o.extent(b);bi.data([o.empty()?e.domain():b]).each(function(n){var t=e(n[0])-e.range()[0],i=e.range()[1]-e(n[1]);d3.select(this).select(".left").attr("width",0>t?0:t);d3.select(this).select(".right").attr("x",e(n[1])).attr("width",0>i?0:i)})}function gi(){var t,i;b=o.empty()?null:o.extent();w=o.empty()?e.domain():o.extent();ht.brush({extent:w,brush:o});er();f.width(ri).height(li).color(g.map(function(n,t){return n.color||nt(n,t)}).filter(function(n,t){return!g[t].disabled&&g[t].bar}));u.width(ri).height(li).color(g.map(function(n,t){return n.color||nt(n,t)}).filter(function(n,t){return!g[t].disabled&&!g[t].bar}));t=ii.select(".nv-focus .nv-barsWrap").datum(ui.length?ui.map(function(n){return{key:n.key,values:n.values.filter(function(n,t){return f.x()(n,t)>=w[0]&&f.x()(n,t)<=w[1]})}}):[{values:[]}]);i=ii.select(".nv-focus .nv-linesWrap").datum(dt(si)?[{values:[]}]:si.filter(function(n){return!n.disabled}).map(function(n){return{area:n.area,fillOpacity:n.fillOpacity,strokeWidth:n.strokeWidth,key:n.key,values:n.values.filter(function(n,t){return u.x()(n,t)>=w[0]&&u.x()(n,t)<=w[1]})}}));it=ui.length&&!r?f.xScale():u.xScale();tt.scale(it)._ticks(n.utils.calcTicksX(ri/100,g)).tickSize(-li,0);tt.domain([Math.ceil(w[0]),Math.floor(w[1])]);ii.select(".nv-x.nv-axis").transition().duration(k).call(tt);t.transition().duration(k).call(f);i.transition().duration(k).call(u);ii.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+vt.range()[0]+")");l.scale(vt)._ticks(n.utils.calcTicksY(li/36,g)).tickSize(-ri,0);h.scale(gt)._ticks(n.utils.calcTicksY(li/36,g));r?h.tickSize(si.length?0:-ri,0):h.tickSize(ui.length?0:-ri,0);var s=ui.length?1:0,c=si.length&&!dt(si)?1:0,a=r?c:s,v=r?s:c;ii.select(".nv-focus .nv-y1.nv-axis").style("opacity",a);ii.select(".nv-focus .nv-y2.nv-axis").style("opacity",v).attr("transform","translate("+it.range()[1]+",0)");ii.select(".nv-focus .nv-y1.nv-axis").transition().duration(k).call(l);ii.select(".nv-focus .nv-y2.nv-axis").transition().duration(k).call(h)}var hi=d3.select(this),vi,ui,si,nr,tr,ai,ci,wi,ir,rr,ur,bi,ki,di;n.utils.initSVG(hi);var ri=n.utils.availableWidth(pt,hi,i),li=n.utils.availableHeight(ft,hi,i)-(st?ut:0),oi=ut-s.top-s.bottom;if(t.update=function(){hi.transition().duration(k).call(t)},t.container=this,p.setter(ei(g),t.update).getter(fi(g)).update(),p.disabled=g.map(function(n){return!!n.disabled}),!ct){ct={};for(vi in p)ct[vi]=p[vi]instanceof Array?p[vi].slice(0):p[vi]}if(!(g&&g.length&&g.filter(function(n){return n.values.length}).length))return n.utils.noData(t,hi),t;hi.selectAll(".nv-noData").remove();ui=g.filter(function(n){return!n.disabled&&n.bar});si=g.filter(function(n){return!n.bar});it=ui.length&&!r?f.xScale():u.xScale();e=rt.scale();vt=r?u.yScale():f.yScale();gt=r?f.yScale():u.yScale();yt=r?c.yScale():d.yScale();ni=r?d.yScale():c.yScale();nr=g.filter(function(n){return!n.disabled&&(r?!n.bar:n.bar)}).map(function(n){return n.values.map(function(n,t){return{x:et(n,t),y:ot(n,t)}})});tr=g.filter(function(n){return!n.disabled&&(r?n.bar:!n.bar)}).map(function(n){return n.values.map(function(n,t){return{x:et(n,t),y:ot(n,t)}})});it.range([0,ri]);e.domain(d3.extent(d3.merge(nr.concat(tr)),function(n){return n.x})).range([0,ri]);var yi=hi.selectAll("g.nv-wrap.nv-linePlusBar").data([g]),pi=yi.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),ii=yi.select("g");pi.append("g").attr("class","nv-legendWrap");ai=pi.append("g").attr("class","nv-focus");ai.append("g").attr("class","nv-x nv-axis");ai.append("g").attr("class","nv-y1 nv-axis");ai.append("g").attr("class","nv-y2 nv-axis");ai.append("g").attr("class","nv-barsWrap");ai.append("g").attr("class","nv-linesWrap");ci=pi.append("g").attr("class","nv-context");(ci.append("g").attr("class","nv-x nv-axis"),ci.append("g").attr("class","nv-y1 nv-axis"),ci.append("g").attr("class","nv-y2 nv-axis"),ci.append("g").attr("class","nv-barsWrap"),ci.append("g").attr("class","nv-linesWrap"),ci.append("g").attr("class","nv-brushBackground"),ci.append("g").attr("class","nv-x nv-brush"),wt)?(wi=y.align()?ri/2:ri,ir=y.align()?wi:0,y.width(wi),ii.select(".nv-legendWrap").datum(g.map(function(n){return n.originalKey=void 0===n.originalKey?n.key:n.originalKey,n.key=r?n.originalKey+(n.bar?at:lt):n.originalKey+(n.bar?lt:at),n})).call(y),ti||y.height()===i.top||(i.top=y.height(),li=n.utils.availableHeight(ft,hi,i)-ut),ii.select(".nv-legendWrap").attr("transform","translate("+ir+","+-i.top+")")):ii.select(".nv-legendWrap").selectAll("*").remove();yi.attr("transform","translate("+i.left+","+i.top+")");ii.select(".nv-context").style("display",st?"initial":"none");d.width(ri).height(oi).color(g.map(function(n,t){return n.color||nt(n,t)}).filter(function(n,t){return!g[t].disabled&&g[t].bar}));c.width(ri).height(oi).color(g.map(function(n,t){return n.color||nt(n,t)}).filter(function(n,t){return!g[t].disabled&&!g[t].bar}));rr=ii.select(".nv-context .nv-barsWrap").datum(ui.length?ui:[{values:[]}]);ur=ii.select(".nv-context .nv-linesWrap").datum(dt(si)?[{values:[]}]:si.filter(function(n){return!n.disabled}));ii.select(".nv-context").attr("transform","translate(0,"+(li+i.bottom+s.top)+")");rr.transition().call(d);ur.transition().call(c);kt&&(rt._ticks(n.utils.calcTicksX(ri/100,g)).tickSize(-oi,0),ii.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+yt.range()[0]+")"),ii.select(".nv-context .nv-x.nv-axis").transition().call(rt));bt&&(a.scale(yt)._ticks(oi/36).tickSize(-ri,0),v.scale(ni)._ticks(oi/36).tickSize(ui.length?0:-ri,0),ii.select(".nv-context .nv-y3.nv-axis").style("opacity",ui.length?1:0).attr("transform","translate(0,"+e.range()[0]+")"),ii.select(".nv-context .nv-y2.nv-axis").style("opacity",si.length?1:0).attr("transform","translate("+e.range()[1]+",0)"),ii.select(".nv-context .nv-y1.nv-axis").transition().call(a),ii.select(".nv-context .nv-y2.nv-axis").transition().call(v));o.x(e).on("brush",gi);b&&o.extent(b);bi=ii.select(".nv-brushBackground").selectAll("g").data([b||o.extent()]);ki=bi.enter().append("g");ki.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",oi);ki.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",oi);di=ii.select(".nv-x.nv-brush").call(o);di.selectAll("rect").attr("height",oi);di.selectAll(".resize").append("path").attr("d",fr);y.dispatch.on("stateChange",function(n){for(var i in n)p[i]=n[i];ht.stateChange(p);t.update()});ht.on("changeState",function(n){"undefined"!=typeof n.disabled&&(g.forEach(function(t,i){t.disabled=n.disabled[i]}),p.disabled=n.disabled);t.update()});gi()}),t}var w,it,e,vt,gt,yt,ni,u=n.models.line(),c=n.models.line(),f=n.models.historicalBar(),d=n.models.historicalBar(),tt=n.models.axis(),rt=n.models.axis(),l=n.models.axis(),h=n.models.axis(),a=n.models.axis(),v=n.models.axis(),y=n.models.legend(),o=d3.svg.brush(),g=n.models.tooltip(),i={top:30,right:30,bottom:30,left:60},ti=null,s={top:0,right:30,bottom:20,left:60},pt=null,ft=null,et=function(n){return n.x},ot=function(n){return n.y},nt=n.utils.defaultColor(),wt=!0,st=!0,bt=!1,kt=!0,ut=50,b=null,ii=null,ht=d3.dispatch("brush","stateChange","changeState"),k=0,p=n.utils.state(),ct=null,lt=" (left axis)",at=" (right axis)",r=!1;u.clipEdge(!0);c.interactive(!1);c.pointActive(function(){return!1});tt.orient("bottom").tickPadding(5);l.orient("left");h.orient("right");rt.orient("bottom").tickPadding(5);a.orient("left");v.orient("right");g.headerEnabled(!0).headerFormatter(function(n,t){return tt.tickFormat()(n,t)});var ri=function(){return r?{main:h,focus:v}:{main:l,focus:a}},ui=function(){return r?{main:l,focus:a}:{main:h,focus:v}},fi=function(n){return function(){return{active:n.map(function(n){return!n.disabled})}}},ei=function(n){return function(t){void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}},dt=function(n){return n.every(function(n){return n.disabled})};return u.dispatch.on("elementMouseover.tooltip",function(n){g.duration(100).valueFormatter(function(n,t){return ui().main.tickFormat()(n,t)}).data(n).hidden(!1)}),u.dispatch.on("elementMouseout.tooltip",function(){g.hidden(!0)}),f.dispatch.on("elementMouseover.tooltip",function(n){n.value=t.x()(n.data);n.series={value:t.y()(n.data),color:n.color};g.duration(0).valueFormatter(function(n,t){return ri().main.tickFormat()(n,t)}).data(n).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(){g.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(){g()}),t.dispatch=ht,t.legend=y,t.lines=u,t.lines2=c,t.bars=f,t.bars2=d,t.xAxis=tt,t.x2Axis=rt,t.y1Axis=l,t.y2Axis=h,t.y3Axis=a,t.y4Axis=v,t.tooltip=g,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return pt},set:function(n){pt=n}},height:{get:function(){return ft},set:function(n){ft=n}},showLegend:{get:function(){return wt},set:function(n){wt=n}},brushExtent:{get:function(){return b},set:function(n){b=n}},noData:{get:function(){return ii},set:function(n){ii=n}},focusEnable:{get:function(){return st},set:function(n){st=n}},focusHeight:{get:function(){return ut},set:function(n){ut=n}},focusShowAxisX:{get:function(){return kt},set:function(n){kt=n}},focusShowAxisY:{get:function(){return bt},set:function(n){bt=n}},legendLeftAxisHint:{get:function(){return lt},set:function(n){lt=n}},legendRightAxisHint:{get:function(){return at},set:function(n){at=n}},margin:{get:function(){return i},set:function(n){void 0!==n.top&&(i.top=n.top,ti=n.top);i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left}},focusMargin:{get:function(){return s},set:function(n){s.top=void 0!==n.top?n.top:s.top;s.right=void 0!==n.right?n.right:s.right;s.bottom=void 0!==n.bottom?n.bottom:s.bottom;s.left=void 0!==n.left?n.left:s.left}},duration:{get:function(){return k},set:function(n){k=n}},color:{get:function(){return nt},set:function(t){nt=n.utils.getColor(t);y.color(nt)}},x:{get:function(){return et},set:function(n){et=n;u.x(n);c.x(n);f.x(n);d.x(n)}},y:{get:function(){return ot},set:function(n){ot=n;u.y(n);c.y(n);f.y(n);d.y(n)}},switchYAxisOrder:{get:function(){return r},set:function(n){var t,i;r!==n&&(t=l,l=h,h=t,i=a,a=v,v=i);r=n;l.orient("left");h.orient("right");a.orient("left");v.orient("right")}}}),n.utils.inheritOptions(t,u),n.utils.initOptions(t),t};n.models.multiBar=function(){"use strict";function h(ct){return w.reset(),ct.each(function(h){var kt=tt-r.left-r.right,dt=it-r.top-r.bottom,ct,lt,pt,vt,wt,at,bt;rt=d3.select(this);n.utils.initSVG(rt);ct=0;(o&&h.length&&(o=[{values:h[0].values.map(function(n){return{x:n.x,y:0,series:n.series,size:.01}})}]),f)&&(lt=d3.layout.stack().offset(et).values(function(n){return n.values}).y(u)(!h.length&&o?o:h),lt.forEach(function(n,t){n.nonStackable?(h[t].nonStackableSeries=ct++,lt[t]=h[t]):t>0&&lt[t-1].nonStackable&&lt[t].values.map(function(n,i){n.y0-=lt[t-1].values[i].y;n.y1=n.y0+n.y})}),h=lt);h.forEach(function(n,t){n.values.forEach(function(i){i.series=t;i.key=n.key})});f&&h.length>0&&h[0].values.map(function(n,t){var i=0,r=0;h.map(function(n,u){if(!h[u].nonStackable){var f=n.values[t];f.size=Math.abs(f.y);f.y<0?(f.y1=r,r-=f.size):(f.y1=f.size+i,i+=f.size)}})});pt=b&&k?[]:h.map(function(n,t){return n.values.map(function(n,i){return{x:y(n,i),y:u(n,i),y0:n.y0,y1:n.y1,idx:t}})});i.domain(b||d3.merge(pt).map(function(n){return n.x})).rangeBands(d||[0,kt],ot);t.domain(k||d3.extent(d3.merge(pt).map(function(n){var t=n.y;return f&&!h[n.idx].nonStackable&&(t=n.y>0?n.y1:n.y1+n.y),t}).concat(ut))).range(g||[dt,0]);i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]-.01*i.domain()[0],i.domain()[1]+.01*i.domain()[1]]):i.domain([-1,1]));t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]+.01*t.domain()[0],t.domain()[1]-.01*t.domain()[1]]):t.domain([-1,1]));nt=nt||i;l=l||t;var yt=rt.selectAll("g.nv-wrap.nv-multibar").data([h]),gt=yt.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),ni=gt.append("defs"),ti=gt.append("g"),ii=yt.select("g");ti.append("g").attr("class","nv-groups");yt.attr("transform","translate("+r.left+","+r.top+")");ni.append("clipPath").attr("id","nv-edge-clip-"+v).append("rect");yt.select("#nv-edge-clip-"+v+" rect").attr("width",kt).attr("height",dt);ii.attr("clip-path",ft?"url(#nv-edge-clip-"+v+")":"");vt=yt.select(".nv-groups").selectAll(".nv-group").data(function(n){return n},function(n,t){return t});vt.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);wt=w.transition(vt.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,s)).attr("y",function(n){var t=l(0)||0;return f&&h[n.series]&&!h[n.series].nonStackable&&(t=l(n.y0)),t}).attr("height",0).remove();wt.delay&&wt.delay(function(n,t){return t*(s/(ht+1))-t});vt.attr("class",function(n,t){return"nv-group nv-series-"+t}).classed("hover",function(n){return n.hover}).style("fill",function(n,t){return a(n,t)}).style("stroke",function(n,t){return a(n,t)});vt.style("stroke-opacity",1).style("fill-opacity",st);at=vt.selectAll("rect.nv-bar").data(function(n){return o&&!h.length?o.values:n.values});at.exit().remove();at.enter().append("rect").attr("class",function(n,t){return u(n,t)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(n,t,r){return f&&!h[r].nonStackable?0:r*i.rangeBand()/h.length}).attr("y",function(n,t,i){return l(f&&!h[i].nonStackable?n.y0:0)||0}).attr("height",0).attr("width",function(n,t,r){return i.rangeBand()/(f&&!h[r].nonStackable?1:h.length)}).attr("transform",function(n,t){return"translate("+i(y(n,t))+",0)"});at.style("fill",function(n,t,i){return a(n,i,t)}).style("stroke",function(n,t,i){return a(n,i,t)}).on("mouseover",function(n,t,i){d3.select(this).classed("hover",!0);c.elementMouseover({data:n,index:t,series:h[i],color:d3.select(this).style("fill")})}).on("mouseout",function(n,t,i){d3.select(this).classed("hover",!1);c.elementMouseout({data:n,index:t,series:h[i],color:d3.select(this).style("fill")})}).on("mousemove",function(n,t,i){c.elementMousemove({data:n,index:t,series:h[i],color:d3.select(this).style("fill")})}).on("click",function(n,t,i){var r=this;c.elementClick({data:n,index:t,series:h[i],color:d3.select(this).style("fill"),event:d3.event,element:r});d3.event.stopPropagation()}).on("dblclick",function(n,t,i){c.elementDblClick({data:n,index:t,series:h[i],color:d3.select(this).style("fill")});d3.event.stopPropagation()});at.attr("class",function(n,t){return u(n,t)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(n,t){return"translate("+i(y(n,t))+",0)"});p&&(e||(e=h.map(function(){return!0})),at.style("fill",function(n,t,i){return d3.rgb(p(n,t)).darker(e.map(function(n,t){return t}).filter(function(n,t){return!e[t]})[i]).toString()}).style("stroke",function(n,t,i){return d3.rgb(p(n,t)).darker(e.map(function(n,t){return t}).filter(function(n,t){return!e[t]})[i]).toString()}));bt=at.watchTransition(w,"multibar",Math.min(250,s)).delay(function(n,t){return t*s/h[0].values.length});f?bt.attr("y",function(n,i,r){return h[r].nonStackable?u(n,i)<0?t(0):t(0)-t(u(n,i))<-1?t(0)-1:t(u(n,i))||0:t(n.y1)}).attr("height",function(n,i,r){return h[r].nonStackable?Math.max(Math.abs(t(u(n,i))-t(0)),0)||0:Math.max(Math.abs(t(n.y+n.y0)-t(n.y0)),0)}).attr("x",function(n,t,r){var u=0;return h[r].nonStackable&&(u=n.series*i.rangeBand()/h.length,h.length!==ct&&(u=h[r].nonStackableSeries*i.rangeBand()/(2*ct))),u}).attr("width",function(n,t,r){if(h[r].nonStackable){var u=i.rangeBand()/ct;return h.length!==ct&&(u=i.rangeBand()/(2*ct)),u}return i.rangeBand()}):bt.attr("x",function(n){return n.series*i.rangeBand()/h.length}).attr("width",i.rangeBand()/h.length).attr("y",function(n,i){return u(n,i)<0?t(0):t(0)-t(u(n,i))<1?t(0)-1:t(u(n,i))||0}).attr("height",function(n,i){return Math.max(Math.abs(t(u(n,i))-t(0)),1)||0});nt=i.copy();l=t.copy();h[0]&&h[0].values&&(ht=h[0].values.length)}),w.renderEnd("multibar immediate"),h}var e,b,k,d,g,nt,l,r={top:0,right:0,bottom:0,left:0},tt=960,it=500,i=d3.scale.ordinal(),t=d3.scale.linear(),v=Math.floor(1e4*Math.random()),rt=null,y=function(n){return n.x},u=function(n){return n.y},ut=[0],ft=!0,f=!1,et="zero",a=n.utils.defaultColor(),o=!1,p=null,s=500,ot=.1,st=.75,c=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),w=n.utils.renderWatch(c,s),ht=0;return h.dispatch=c,h.options=n.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return tt},set:function(n){tt=n}},height:{get:function(){return it},set:function(n){it=n}},x:{get:function(){return y},set:function(n){y=n}},y:{get:function(){return u},set:function(n){u=n}},xScale:{get:function(){return i},set:function(n){i=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return b},set:function(n){b=n}},yDomain:{get:function(){return k},set:function(n){k=n}},xRange:{get:function(){return d},set:function(n){d=n}},yRange:{get:function(){return g},set:function(n){g=n}},forceY:{get:function(){return ut},set:function(n){ut=n}},stacked:{get:function(){return f},set:function(n){f=n}},stackOffset:{get:function(){return et},set:function(n){et=n}},clipEdge:{get:function(){return ft},set:function(n){ft=n}},disabled:{get:function(){return e},set:function(n){e=n}},id:{get:function(){return v},set:function(n){v=n}},hideable:{get:function(){return o},set:function(n){o=n}},groupSpacing:{get:function(){return ot},set:function(n){ot=n}},fillOpacity:{get:function(){return st},set:function(n){st=n}},margin:{get:function(){return r},set:function(n){r.top=void 0!==n.top?n.top:r.top;r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},duration:{get:function(){return s},set:function(n){s=n;w.reset(s)}},color:{get:function(){return a},set:function(t){a=n.utils.getColor(t)}},barColor:{get:function(){return p},set:function(t){p=t?n.utils.getColor(t):null}}}),n.utils.initOptions(h),h};n.models.multiBarChart=function(){"use strict";function t(yt){return a.reset(),a.models(r),tt&&a.models(f),it&&a.models(e),yt.each(function(a){var bt=d3.select(this),kt,dt,ni,ri,ui,ti,si;if(n.utils.initSVG(bt),kt=n.utils.availableWidth(ft,bt,i),dt=n.utils.availableHeight(p,bt,i),t.update=function(){0===h?bt.call(t):bt.transition().duration(h).call(t)},t.container=this,u.setter(wt(a),t.update).getter(pt(a)).update(),u.disabled=a.map(function(n){return!!n.disabled}),!l){l={};for(ni in u)l[ni]=u[ni]instanceof Array?u[ni].slice(0):u[ni]}if(!(a&&a.length&&a.filter(function(n){return n.values.length}).length))return n.utils.noData(t,bt),t;bt.selectAll(".nv-noData").remove();g=r.xScale();ut=r.yScale();var ii=bt.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([a]),gt=ii.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),yt=ii.select("g");if((gt.append("g").attr("class","nv-x nv-axis"),gt.append("g").attr("class","nv-y nv-axis"),gt.append("g").attr("class","nv-barsWrap"),gt.append("g").attr("class","nv-legendWrap"),gt.append("g").attr("class","nv-controlsWrap"),gt.append("g").attr("class","nv-interactive"),et?"bottom"===ot?(s.width(kt-i.right),yt.select(".nv-legendWrap").datum(a).call(s),i.bottom=f.height()+s.height(),dt=n.utils.availableHeight(p,bt,i),yt.select(".nv-legendWrap").attr("transform","translate(0,"+(dt+f.height())+")")):(s.width(kt-lt()),yt.select(".nv-legendWrap").datum(a).call(s),vt||s.height()===i.top||(i.top=s.height(),dt=n.utils.availableHeight(p,bt,i)),yt.select(".nv-legendWrap").attr("transform","translate("+lt()+","+-i.top+")")):yt.select(".nv-legendWrap").selectAll("*").remove(),nt)?(ri=[{key:c.grouped||"Grouped",disabled:r.stacked()},{key:c.stacked||"Stacked",disabled:!r.stacked()}],v.width(lt()).color(["#444","#444","#444"]),yt.select(".nv-controlsWrap").datum(ri).attr("transform","translate(0,"+-i.top+")").call(v)):yt.select(".nv-controlsWrap").selectAll("*").remove(),ii.attr("transform","translate("+i.left+","+i.top+")"),b&&yt.select(".nv-y.nv-axis").attr("transform","translate("+kt+",0)"),r.disabled(a.map(function(n){return n.disabled})).width(kt).height(dt).color(a.map(function(n,t){return n.color||w(n,t)}).filter(function(n,t){return!a[t].disabled})),ui=yt.select(".nv-barsWrap").datum(a.filter(function(n){return!n.disabled})),ui.call(r),tt){if(f.scale(g)._ticks(n.utils.calcTicksX(kt/100,a)).tickSize(-dt,0),yt.select(".nv-x.nv-axis").attr("transform","translate(0,"+ut.range()[0]+")"),yt.select(".nv-x.nv-axis").call(f),ti=yt.select(".nv-x.nv-axis > g").selectAll("g"),ti.selectAll("line, text").style("opacity",1),ht){var fi=function(n,t){return"translate("+n+","+t+")"},ei=5,oi=17;ti.selectAll("text").attr("transform",function(n,t,i){return fi(0,i%2==0?ei:oi)});si=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;yt.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(n,t){return fi(0,0===t||si%2!=0?oi:ei)})}ct&&yt.selectAll(".tick text").call(n.utils.wrapTicks,t.xAxis.rangeBand());st&&ti.filter(function(n,t){return t%Math.ceil(a[0].values.length/(kt/100))!=0}).selectAll("text, line").style("opacity",0);k&&ti.selectAll(".tick text").attr("transform","rotate("+k+" 0,0)").style("text-anchor",k>0?"start":"end");yt.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}it&&(e.scale(ut)._ticks(n.utils.calcTicksY(dt/36,a)).tickSize(-kt,0),yt.select(".nv-y.nv-axis").call(e));rt&&(o.width(kt).height(dt).margin({left:i.left,top:i.top}).svgContainer(bt).xScale(g),ii.select(".nv-interactive").call(o));s.dispatch.on("stateChange",function(n){for(var i in n)u[i]=n[i];d.stateChange(u);t.update()});v.dispatch.on("legendClick",function(n){if(n.disabled){switch(ri=ri.map(function(n){return n.disabled=!0,n}),n.disabled=!1,n.key){case"Grouped":case c.grouped:r.stacked(!1);break;case"Stacked":case c.stacked:r.stacked(!0)}u.stacked=r.stacked();d.stateChange(u);t.update()}});d.on("changeState",function(n){"undefined"!=typeof n.disabled&&(a.forEach(function(t,i){t.disabled=n.disabled[i]}),u.disabled=n.disabled);"undefined"!=typeof n.stacked&&(r.stacked(n.stacked),u.stacked=n.stacked,at=n.stacked);t.update()});rt?(o.dispatch.on("elementMousemove",function(n){if(void 0!=n.pointXValue){var u,i,r,f,e=[];a.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(o){i=g.domain().indexOf(n.pointXValue);var s=o.values[i];void 0!==s&&(f=s.x,void 0===u&&(u=s),void 0===r&&(r=n.mouseX),e.push({key:o.key,value:t.y()(s,i),color:w(o,o.seriesIndex),data:o.values[i]}))});o.tooltip.data({value:f,index:i,series:e})();o.renderGuideLine(r)}}),o.dispatch.on("elementMouseout",function(){o.tooltip.hidden(!0)})):(r.dispatch.on("elementMouseover.tooltip",function(n){n.value=t.x()(n.data);n.series={key:n.data.key,value:t.y()(n.data),color:n.color};y.data(n).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(){y.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(){y()}))}),a.renderEnd("multibarchart immediate"),t}var g,ut,r=n.models.multiBar(),f=n.models.axis(),e=n.models.axis(),o=n.interactiveGuideline(),s=n.models.legend(),v=n.models.legend(),y=n.models.tooltip(),i={top:30,right:20,bottom:50,left:60},vt=null,ft=null,p=null,w=n.utils.defaultColor(),nt=!0,c={},et=!0,ot=null,tt=!0,it=!0,b=!1,st=!0,ht=!1,ct=!1,k=0,u=n.utils.state(),l=null,yt=null,d=d3.dispatch("stateChange","changeState","renderEnd"),lt=function(){return nt?180:0},h=250,rt=!1;u.stacked=!1;r.stacked(!1);f.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(n){return n});e.orient(b?"right":"left").tickFormat(d3.format(",.1f"));y.duration(0).valueFormatter(function(n,t){return e.tickFormat()(n,t)}).headerFormatter(function(n,t){return f.tickFormat()(n,t)});o.tooltip.valueFormatter(function(n,t){return null==n?"N/A":e.tickFormat()(n,t)}).headerFormatter(function(n,t){return f.tickFormat()(n,t)});o.tooltip.valueFormatter(function(n,t){return null==n?"N/A":e.tickFormat()(n,t)}).headerFormatter(function(n,t){return f.tickFormat()(n,t)});o.tooltip.duration(0).valueFormatter(function(n,t){return e.tickFormat()(n,t)}).headerFormatter(function(n,t){return f.tickFormat()(n,t)});v.updateState(!1);var a=n.utils.renderWatch(d),at=!1,pt=function(n){return function(){return{active:n.map(function(n){return!n.disabled}),stacked:at}}},wt=function(n){return function(t){void 0!==t.stacked&&(at=t.stacked);void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};return t.dispatch=d,t.multibar=r,t.legend=s,t.controls=v,t.xAxis=f,t.yAxis=e,t.state=u,t.tooltip=y,t.interactiveLayer=o,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return ft},set:function(n){ft=n}},height:{get:function(){return p},set:function(n){p=n}},showLegend:{get:function(){return et},set:function(n){et=n}},legendPosition:{get:function(){return ot},set:function(n){ot=n}},showControls:{get:function(){return nt},set:function(n){nt=n}},controlLabels:{get:function(){return c},set:function(n){c=n}},showXAxis:{get:function(){return tt},set:function(n){tt=n}},showYAxis:{get:function(){return it},set:function(n){it=n}},defaultState:{get:function(){return l},set:function(n){l=n}},noData:{get:function(){return yt},set:function(n){yt=n}},reduceXTicks:{get:function(){return st},set:function(n){st=n}},rotateLabels:{get:function(){return k},set:function(n){k=n}},staggerLabels:{get:function(){return ht},set:function(n){ht=n}},wrapLabels:{get:function(){return ct},set:function(n){ct=!!n}},margin:{get:function(){return i},set:function(n){void 0!==n.top&&(i.top=n.top,vt=n.top);i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left}},duration:{get:function(){return h},set:function(n){h=n;r.duration(h);f.duration(h);e.duration(h);a.reset(h)}},color:{get:function(){return w},set:function(t){w=n.utils.getColor(t);s.color(w)}},rightAlignYAxis:{get:function(){return b},set:function(n){b=n;e.orient(b?"right":"left")}},useInteractiveGuideline:{get:function(){return rt},set:function(n){rt=n}},barColor:{get:function(){return r.barColor},set:function(n){r.barColor(n);s.color(function(n,t){return d3.rgb("#ccc").darker(1.5*t).toString()})}}}),n.utils.inheritOptions(t,r),n.utils.initOptions(t),t};n.models.multiBarHorizontal=function(){"use strict";function h(nt){return e.reset(),nt.each(function(h){var yt=rt-u.left-u.right,wt=ut-u.top-u.bottom,vt,st,nt,lt;ht=d3.select(this);n.utils.initSVG(ht);f&&(h=d3.layout.stack().offset("zero").values(function(n){return n.values}).y(i)(h));h.forEach(function(n,t){n.values.forEach(function(i){i.series=t;i.key=n.key})});f&&h[0].values.map(function(n,t){var i=0,r=0;h.map(function(n){var u=n.values[t];u.size=Math.abs(u.y);u.y<0?(u.y1=r-u.size,r-=u.size):(u.y1=i,i+=u.size)})});vt=y&&p?[]:h.map(function(n){return n.values.map(function(n,t){return{x:c(n,t),y:i(n,t),y0:n.y0,y1:n.y1}})});r.domain(y||d3.merge(vt).map(function(n){return n.x})).rangeBands(tt||[0,wt],et);t.domain(p||d3.extent(d3.merge(vt).map(function(n){return f?n.y>0?n.y1+n.y:n.y1:n.y}).concat(ft)));d&&!f?t.range(w||[t.domain()[0]<0?g:0,yt-(t.domain()[1]>0?g:0)]):t.range(w||[0,yt]);it=it||r;b=b||d3.scale.linear().domain(t.domain()).range([t(0),t(0)]);var at=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([h]),pt=at.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),bt=(pt.append("defs"),pt.append("g"));at.select("g");bt.append("g").attr("class","nv-groups");at.attr("transform","translate("+u.left+","+u.top+")");st=at.select(".nv-groups").selectAll(".nv-group").data(function(n){return n},function(n,t){return t});st.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);st.exit().watchTransition(e,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();st.attr("class",function(n,t){return"nv-group nv-series-"+t}).classed("hover",function(n){return n.hover}).style("fill",function(n,t){return k(n,t)}).style("stroke",function(n,t){return k(n,t)});st.watchTransition(e,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",ot);nt=st.selectAll("g.nv-bar").data(function(n){return n.values});nt.exit().remove();lt=nt.enter().append("g").attr("transform",function(n,t,i){return"translate("+b(f?n.y0:0)+","+(f?0:i*r.rangeBand()/h.length+r(c(n,t)))+")"});lt.append("rect").attr("width",0).attr("height",r.rangeBand()/(f?1:h.length));nt.on("mouseover",function(n,t){d3.select(this).classed("hover",!0);s.elementMouseover({data:n,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(n,t){d3.select(this).classed("hover",!1);s.elementMouseout({data:n,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(n,t){s.elementMouseout({data:n,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(n,t){s.elementMousemove({data:n,index:t,color:d3.select(this).style("fill")})}).on("click",function(n,t){var i=this;s.elementClick({data:n,index:t,color:d3.select(this).style("fill"),event:d3.event,element:i});d3.event.stopPropagation()}).on("dblclick",function(n,t){s.elementDblClick({data:n,index:t,color:d3.select(this).style("fill")});d3.event.stopPropagation()});a(h[0],0)&&(lt.append("polyline"),nt.select("polyline").attr("fill","none").attr("points",function(n,i){var u=a(n,i),e=.8*r.rangeBand()/(2*(f?1:h.length)),o;return u=u.length?u:[-Math.abs(u),Math.abs(u)],u=u.map(function(n){return t(n)-t(0)}),o=[[u[0],-e],[u[0],e],[u[0],0],[u[1],0],[u[1],-e],[u[1],e]],o.map(function(n){return n.join(",")}).join(" ")}).attr("transform",function(n,u){var e=r.rangeBand()/(2*(f?1:h.length));return"translate("+(i(n,u)<0?0:t(i(n,u))-t(0))+", "+e+")"}));lt.append("text");d&&!f?(nt.select("text").attr("text-anchor",function(n,t){return i(n,t)<0?"end":"start"}).attr("y",r.rangeBand()/(2*h.length)).attr("dy",".32em").text(function(n,t){var u=l(i(n,t)),r=a(n,t);return void 0===r?u:r.length?u+"+"+l(Math.abs(r[1]))+"-"+l(Math.abs(r[0])):u+"±"+l(Math.abs(r))}),nt.watchTransition(e,"multibarhorizontal: bars").select("text").attr("x",function(n,r){return i(n,r)<0?-4:t(i(n,r))-t(0)+4})):nt.selectAll("text").text("");ct&&!f?(lt.append("text").classed("nv-bar-label",!0),nt.select("text.nv-bar-label").attr("text-anchor",function(n,t){return i(n,t)<0?"start":"end"}).attr("y",r.rangeBand()/(2*h.length)).attr("dy",".32em").text(function(n,t){return c(n,t)}),nt.watchTransition(e,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(n,r){return i(n,r)<0?t(0)-t(i(n,r))+4:-4})):nt.selectAll("text.nv-bar-label").text("");nt.attr("class",function(n,t){return i(n,t)<0?"nv-bar negative":"nv-bar positive"});v&&(o||(o=h.map(function(){return!0})),nt.style("fill",function(n,t,i){return d3.rgb(v(n,t)).darker(o.map(function(n,t){return t}).filter(function(n,t){return!o[t]})[i]).toString()}).style("stroke",function(n,t,i){return d3.rgb(v(n,t)).darker(o.map(function(n,t){return t}).filter(function(n,t){return!o[t]})[i]).toString()}));f?nt.watchTransition(e,"multibarhorizontal: bars").attr("transform",function(n,i){return"translate("+t(n.y1)+","+r(c(n,i))+")"}).select("rect").attr("width",function(n,r){return Math.abs(t(i(n,r)+n.y0)-t(n.y0))||0}).attr("height",r.rangeBand()):nt.watchTransition(e,"multibarhorizontal: bars").attr("transform",function(n,u){return"translate("+t(i(n,u)<0?i(n,u):0)+","+(n.series*r.rangeBand()/h.length+r(c(n,u)))+")"}).select("rect").attr("height",r.rangeBand()/h.length).attr("width",function(n,r){return Math.max(Math.abs(t(i(n,r))-t(0)),1)||0});it=r.copy();b=t.copy()}),e.renderEnd("multibarHorizontal immediate"),h}var o,y,p,tt,w,it,b,u={top:0,right:0,bottom:0,left:0},rt=960,ut=500,st=Math.floor(1e4*Math.random()),ht=null,r=d3.scale.ordinal(),t=d3.scale.linear(),c=function(n){return n.x},i=function(n){return n.y},a=function(n){return n.yErr},ft=[0],k=n.utils.defaultColor(),v=null,f=!1,d=!1,ct=!1,g=60,et=.1,ot=.75,l=d3.format(",.2f"),nt=250,s=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),e=n.utils.renderWatch(s,nt);return h.dispatch=s,h.options=n.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return rt},set:function(n){rt=n}},height:{get:function(){return ut},set:function(n){ut=n}},x:{get:function(){return c},set:function(n){c=n}},y:{get:function(){return i},set:function(n){i=n}},yErr:{get:function(){return a},set:function(n){a=n}},xScale:{get:function(){return r},set:function(n){r=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return y},set:function(n){y=n}},yDomain:{get:function(){return p},set:function(n){p=n}},xRange:{get:function(){return tt},set:function(n){tt=n}},yRange:{get:function(){return w},set:function(n){w=n}},forceY:{get:function(){return ft},set:function(n){ft=n}},stacked:{get:function(){return f},set:function(n){f=n}},showValues:{get:function(){return d},set:function(n){d=n}},disabled:{get:function(){return o},set:function(n){o=n}},id:{get:function(){return st},set:function(n){st=n}},valueFormat:{get:function(){return l},set:function(n){l=n}},valuePadding:{get:function(){return g},set:function(n){g=n}},groupSpacing:{get:function(){return et},set:function(n){et=n}},fillOpacity:{get:function(){return ot},set:function(n){ot=n}},margin:{get:function(){return u},set:function(n){u.top=void 0!==n.top?n.top:u.top;u.right=void 0!==n.right?n.right:u.right;u.bottom=void 0!==n.bottom?n.bottom:u.bottom;u.left=void 0!==n.left?n.left:u.left}},duration:{get:function(){return nt},set:function(n){nt=n;e.reset(nt)}},color:{get:function(){return k},set:function(t){k=n.utils.getColor(t)}},barColor:{get:function(){return v},set:function(t){v=t?n.utils.getColor(t):null}}}),n.utils.initOptions(h),h};n.models.multiBarHorizontalChart=function(){"use strict";function t(p){return y.reset(),y.models(i),tt&&y.models(f),it&&y.models(s),p.each(function(y){var lt=d3.select(this),at,st,vt,pt,bt,kt;if(n.utils.initSVG(lt),at=n.utils.availableWidth(ut,lt,r),st=n.utils.availableHeight(c,lt,r),t.update=function(){lt.transition().duration(o).call(t)},t.container=this,a=i.stacked(),u.setter(ct(y),t.update).getter(ht(y)).update(),u.disabled=y.map(function(n){return!!n.disabled}),!v){v={};for(vt in u)v[vt]=u[vt]instanceof Array?u[vt].slice(0):u[vt]}if(!(y&&y.length&&y.filter(function(n){return n.values.length}).length))return n.utils.noData(t,lt),t;lt.selectAll(".nv-noData").remove();et=i.xScale();b=i.yScale().clamp(!0);var wt=lt.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([y]),yt=wt.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),p=wt.select("g");(yt.append("g").attr("class","nv-x nv-axis"),yt.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),yt.append("g").attr("class","nv-barsWrap"),yt.append("g").attr("class","nv-legendWrap"),yt.append("g").attr("class","nv-controlsWrap"),ft?(e.width(at-rt()),p.select(".nv-legendWrap").datum(y).call(e),"bottom"===nt?(r.bottom=f.height()+e.height(),st=n.utils.availableHeight(c,lt,r),p.select(".nv-legendWrap").attr("transform","translate("+rt()+","+(st+f.height())+")")):"top"===nt&&(ot||e.height()===r.top||(r.top=e.height(),st=n.utils.availableHeight(c,lt,r)),p.select(".nv-legendWrap").attr("transform","translate("+rt()+","+-r.top+")"))):p.select(".nv-legendWrap").selectAll("*").remove(),d)?(pt=[{key:l.grouped||"Grouped",disabled:i.stacked()},{key:l.stacked||"Stacked",disabled:!i.stacked()}],h.width(rt()).color(["#444","#444","#444"]),"bottom"===g?(r.bottom=f.height()+e.height(),st=n.utils.availableHeight(c,lt,r),p.select(".nv-controlsWrap").datum(pt).attr("transform","translate(0,"+(st+f.height())+")").call(h)):"top"===g&&p.select(".nv-controlsWrap").datum(pt).attr("transform","translate(0,"+-r.top+")").call(h)):p.select(".nv-controlsWrap").selectAll("*").remove();wt.attr("transform","translate("+r.left+","+r.top+")");i.disabled(y.map(function(n){return n.disabled})).width(at).height(st).color(y.map(function(n,t){return n.color||k(n,t)}).filter(function(n,t){return!y[t].disabled}));bt=p.select(".nv-barsWrap").datum(y.filter(function(n){return!n.disabled}));(bt.transition().call(i),tt)&&(f.scale(et)._ticks(n.utils.calcTicksY(st/24,y)).tickSize(-at,0),p.select(".nv-x.nv-axis").call(f),kt=p.select(".nv-x.nv-axis").selectAll("g"),kt.selectAll("line, text"));it&&(s.scale(b)._ticks(n.utils.calcTicksX(at/100,y)).tickSize(-st,0),p.select(".nv-y.nv-axis").attr("transform","translate(0,"+st+")"),p.select(".nv-y.nv-axis").call(s));p.select(".nv-zeroLine line").attr("x1",b(0)).attr("x2",b(0)).attr("y1",0).attr("y2",-st);e.dispatch.on("stateChange",function(n){for(var i in n)u[i]=n[i];w.stateChange(u);t.update()});h.dispatch.on("legendClick",function(n){if(n.disabled){switch(pt=pt.map(function(n){return n.disabled=!0,n}),n.disabled=!1,n.key){case"Grouped":case l.grouped:i.stacked(!1);break;case"Stacked":case l.stacked:i.stacked(!0)}u.stacked=i.stacked();w.stateChange(u);a=i.stacked();t.update()}});w.on("changeState",function(n){"undefined"!=typeof n.disabled&&(y.forEach(function(t,i){t.disabled=n.disabled[i]}),u.disabled=n.disabled);"undefined"!=typeof n.stacked&&(i.stacked(n.stacked),u.stacked=n.stacked,a=n.stacked);t.update()})}),y.renderEnd("multibar horizontal chart immediate"),t}var et,b,i=n.models.multiBarHorizontal(),f=n.models.axis(),s=n.models.axis(),e=n.models.legend().height(30),h=n.models.legend().height(30),p=n.models.tooltip(),r={top:30,right:20,bottom:50,left:60},ot=null,ut=null,c=null,k=n.utils.defaultColor(),d=!0,g="top",l={},ft=!0,nt="top",tt=!0,it=!0,a=!1,u=n.utils.state(),v=null,st=null,w=d3.dispatch("stateChange","changeState","renderEnd"),rt=function(){return d?180:0},o=250;u.stacked=!1;i.stacked(a);f.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(n){return n});s.orient("bottom").tickFormat(d3.format(",.1f"));p.duration(0).valueFormatter(function(n,t){return s.tickFormat()(n,t)}).headerFormatter(function(n,t){return f.tickFormat()(n,t)});h.updateState(!1);var ht=function(n){return function(){return{active:n.map(function(n){return!n.disabled}),stacked:a}}},ct=function(n){return function(t){void 0!==t.stacked&&(a=t.stacked);void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}},y=n.utils.renderWatch(w,o);return i.dispatch.on("elementMouseover.tooltip",function(n){n.value=t.x()(n.data);n.series={key:n.data.key,value:t.y()(n.data),color:n.color};p.data(n).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(){p.hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(){p()}),t.dispatch=w,t.multibar=i,t.legend=e,t.controls=h,t.xAxis=f,t.yAxis=s,t.state=u,t.tooltip=p,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return ut},set:function(n){ut=n}},height:{get:function(){return c},set:function(n){c=n}},showLegend:{get:function(){return ft},set:function(n){ft=n}},legendPosition:{get:function(){return nt},set:function(n){nt=n}},controlsPosition:{get:function(){return g},set:function(n){g=n}},showControls:{get:function(){return d},set:function(n){d=n}},controlLabels:{get:function(){return l},set:function(n){l=n}},showXAxis:{get:function(){return tt},set:function(n){tt=n}},showYAxis:{get:function(){return it},set:function(n){it=n}},defaultState:{get:function(){return v},set:function(n){v=n}},noData:{get:function(){return st},set:function(n){st=n}},margin:{get:function(){return r},set:function(n){void 0!==n.top&&(r.top=n.top,ot=n.top);r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},duration:{get:function(){return o},set:function(n){o=n;y.reset(o);i.duration(o);f.duration(o);s.duration(o)}},color:{get:function(){return k},set:function(t){k=n.utils.getColor(t);e.color(k)}},barColor:{get:function(){return i.barColor},set:function(n){i.barColor(n);e.color(function(n,t){return d3.rgb("#ccc").darker(1.5*t).toString()})}}}),n.utils.inheritOptions(t,i),n.utils.initOptions(t),t};n.models.multiChart=function(){"use strict";function t(f){return f.each(function(f){function ei(n){var t=2===n.series.yAxis?b:w;n.value=n.point.x;n.series={value:n.point.y,color:n.point.color,key:n.series.key};u.duration(0).headerFormatter(function(n,t){return p.tickFormat()(n,t)}).valueFormatter(function(n,i){return t.tickFormat()(n,i)}).data(n).hidden(!1)}function oi(n){var t=2===n.series.yAxis?b:w;n.value=n.point.x;n.series={value:n.point.y,color:n.point.color,key:n.series.key};u.duration(100).headerFormatter(function(n,t){return p.tickFormat()(n,t)}).valueFormatter(function(n,i){return t.tickFormat()(n,i)}).data(n).hidden(!1)}function si(n){var t=2===n.series.yAxis?b:w;n.point.x=r.x()(n.point);n.point.y=r.y()(n.point);u.duration(0).headerFormatter(function(n,t){return p.tickFormat()(n,t)}).valueFormatter(function(n,i){return t.tickFormat()(n,i)}).data(n).hidden(!1)}function hi(n){var t=2===n.series.yAxis?b:w;n.value=s.x()(n.data);n.series={value:s.y()(n.data),color:n.color,key:n.data.key};u.duration(0).headerFormatter(function(n,t){return p.tickFormat()(n,t)}).valueFormatter(function(n,i){return t.tickFormat()(n,i)}).data(n).hidden(!1)}function ci(){for(var i,n=0,t=et.length;t>n;n++){i=et[n];try{i.clearHighlights()}catch(r){}}}function ki(n,t,i){for(var f,r=0,u=et.length;u>r;r++){f=et[r];try{f.highlightPoint(n,t,i)}catch(e){}}}var kt=d3.select(this),ii,ri,ui,wt,vt,bt,fi,bi,gt,dt;n.utils.initSVG(kt);t.update=function(){kt.transition().call(t)};t.container=this;var pt=n.utils.availableWidth(ht,kt,i),yt=n.utils.availableHeight(rt,kt,i),li=f.filter(function(n){return"line"==n.type&&1==n.yAxis}),ai=f.filter(function(n){return"line"==n.type&&2==n.yAxis}),vi=f.filter(function(n){return"scatter"==n.type&&1==n.yAxis}),yi=f.filter(function(n){return"scatter"==n.type&&2==n.yAxis}),ni=f.filter(function(n){return"bar"==n.type&&1==n.yAxis}),ti=f.filter(function(n){return"bar"==n.type&&2==n.yAxis}),pi=f.filter(function(n){return"area"==n.type&&1==n.yAxis}),wi=f.filter(function(n){return"area"==n.type&&2==n.yAxis});if(!(f&&f.length&&f.filter(function(n){return n.values.length}).length))return n.utils.noData(t,kt),t;kt.selectAll(".nv-noData").remove();ii=f.filter(function(n){return!n.disabled&&1==n.yAxis}).map(function(n){return n.values.map(function(n){return{x:ut(n),y:ft(n)}})});ri=f.filter(function(n){return!n.disabled&&2==n.yAxis}).map(function(n){return n.values.map(function(n){return{x:ut(n),y:ft(n)}})});g.domain(d3.extent(d3.merge(ii.concat(ri)),function(n){return n.x})).range([0,pt]);ui=kt.selectAll("g.wrap.multiChart").data([f]);wt=ui.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");wt.append("g").attr("class","nv-x nv-axis");wt.append("g").attr("class","nv-y1 nv-axis");wt.append("g").attr("class","nv-y2 nv-axis");wt.append("g").attr("class","stack1Wrap");wt.append("g").attr("class","stack2Wrap");wt.append("g").attr("class","bars1Wrap");wt.append("g").attr("class","bars2Wrap");wt.append("g").attr("class","scatters1Wrap");wt.append("g").attr("class","scatters2Wrap");wt.append("g").attr("class","lines1Wrap");wt.append("g").attr("class","lines2Wrap");wt.append("g").attr("class","legendWrap");wt.append("g").attr("class","nv-interactive");vt=ui.select("g");bt=f.map(function(n,t){return f[t].color||it(n,t)});ct?(fi=k.align()?pt/2:pt,bi=k.align()?fi:0,k.width(fi),k.color(bt),vt.select(".legendWrap").datum(f.map(function(n){return n.originalKey=void 0===n.originalKey?n.key:n.originalKey,n.key=n.originalKey+(1==n.yAxis?"":lt),n})).call(k),at||k.height()===i.top||(i.top=k.height(),yt=n.utils.availableHeight(rt,kt,i)),vt.select(".legendWrap").attr("transform","translate("+bi+","+-i.top+")")):vt.select(".legendWrap").selectAll("*").remove();e.width(pt).height(yt).interpolate(nt).color(bt.filter(function(n,t){return!f[t].disabled&&1==f[t].yAxis&&"line"==f[t].type}));o.width(pt).height(yt).interpolate(nt).color(bt.filter(function(n,t){return!f[t].disabled&&2==f[t].yAxis&&"line"==f[t].type}));c.width(pt).height(yt).color(bt.filter(function(n,t){return!f[t].disabled&&1==f[t].yAxis&&"scatter"==f[t].type}));l.width(pt).height(yt).color(bt.filter(function(n,t){return!f[t].disabled&&2==f[t].yAxis&&"scatter"==f[t].type}));s.width(pt).height(yt).color(bt.filter(function(n,t){return!f[t].disabled&&1==f[t].yAxis&&"bar"==f[t].type}));a.width(pt).height(yt).color(bt.filter(function(n,t){return!f[t].disabled&&2==f[t].yAxis&&"bar"==f[t].type}));r.width(pt).height(yt).interpolate(nt).color(bt.filter(function(n,t){return!f[t].disabled&&1==f[t].yAxis&&"area"==f[t].type}));h.width(pt).height(yt).interpolate(nt).color(bt.filter(function(n,t){return!f[t].disabled&&2==f[t].yAxis&&"area"==f[t].type}));vt.attr("transform","translate("+i.left+","+i.top+")");var di=vt.select(".lines1Wrap").datum(li.filter(function(n){return!n.disabled})),gi=vt.select(".scatters1Wrap").datum(vi.filter(function(n){return!n.disabled})),nr=vt.select(".bars1Wrap").datum(ni.filter(function(n){return!n.disabled})),tr=vt.select(".stack1Wrap").datum(pi.filter(function(n){return!n.disabled})),ir=vt.select(".lines2Wrap").datum(ai.filter(function(n){return!n.disabled})),rr=vt.select(".scatters2Wrap").datum(yi.filter(function(n){return!n.disabled})),ur=vt.select(".bars2Wrap").datum(ti.filter(function(n){return!n.disabled})),fr=vt.select(".stack2Wrap").datum(wi.filter(function(n){return!n.disabled})),gt=[];s.stacked()&&ni.length&&(gt=ni.filter(function(n){return!n.disabled}).map(function(n){return n.values}),gt.length>0&&(gt=gt.reduce(function(n,t){return n.map(function(n,i){return{x:n.x,y:n.y+t[i].y}})}).concat([{x:0,y:0}])));dt=[];a.stacked()&&ti.length&&(dt=ti.filter(function(n){return!n.disabled}).map(function(n){return n.values}),dt.length>0&&(dt=dt.reduce(function(n,t){return n.map(function(n,i){return{x:n.x,y:n.y+t[i].y}})}).concat([{x:0,y:0}])));v.domain(ot||d3.extent(d3.merge(ii).concat(gt),function(n){return n.y})).range([0,yt]);y.domain(st||d3.extent(d3.merge(ri).concat(dt),function(n){return n.y})).range([0,yt]);e.yDomain(v.domain());c.yDomain(v.domain());s.yDomain(v.domain());r.yDomain(v.domain());o.yDomain(y.domain());l.yDomain(y.domain());a.yDomain(y.domain());h.yDomain(y.domain());pi.length&&d3.transition(tr).call(r);wi.length&&d3.transition(fr).call(h);ni.length&&d3.transition(nr).call(s);ti.length&&d3.transition(ur).call(a);li.length&&d3.transition(di).call(e);ai.length&&d3.transition(ir).call(o);vi.length&&d3.transition(gi).call(c);yi.length&&d3.transition(rr).call(l);p._ticks(n.utils.calcTicksX(pt/100,f)).tickSize(-yt,0);vt.select(".nv-x.nv-axis").attr("transform","translate(0,"+yt+")");d3.transition(vt.select(".nv-x.nv-axis")).call(p);w._ticks(n.utils.calcTicksY(yt/36,f)).tickSize(-pt,0);d3.transition(vt.select(".nv-y1.nv-axis")).call(w);b._ticks(n.utils.calcTicksY(yt/36,f)).tickSize(-pt,0);d3.transition(vt.select(".nv-y2.nv-axis")).call(b);vt.select(".nv-y1.nv-axis").classed("nv-disabled",!ii.length).attr("transform","translate("+g.range()[0]+",0)");vt.select(".nv-y2.nv-axis").classed("nv-disabled",!ri.length).attr("transform","translate("+g.range()[1]+",0)");k.dispatch.on("stateChange",function(){t.update()});tt&&(d.width(pt).height(yt).margin({left:i.left,top:i.top}).svgContainer(kt).xScale(g),ui.select(".nv-interactive").call(d));tt?(d.dispatch.on("elementMousemove",function(i){var e,r,o,u,s;ci();u=[];f.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(f,s){var l=g.domain(),a=f.values.filter(function(n,i){return t.x()(n,i)>=l[0]&&t.x()(n,i)<=l[1]}),h,c;r=n.interactiveBisect(a,i.pointXValue,t.x());h=a[r];c=t.y()(h,r);null!==c&&ki(s,r,!0);void 0!==h&&(void 0===e&&(e=h),void 0===o&&(o=g(t.x()(h,r))),u.push({key:f.key,value:c,color:it(f,f.seriesIndex),data:h,yAxis:2==f.yAxis?b:w}))});s=function(n,t){var i=u[t].yAxis;return null==n?"N/A":i.tickFormat()(n)};d.tooltip.headerFormatter(function(n,t){return p.tickFormat()(n,t)}).valueFormatter(d.tooltip.valueFormatter()||s).data({value:t.x()(e,r),index:r,series:u})();d.renderGuideLine(o)}),d.dispatch.on("elementMouseout",function(){ci()})):(e.dispatch.on("elementMouseover.tooltip",ei),o.dispatch.on("elementMouseover.tooltip",ei),e.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),o.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),c.dispatch.on("elementMouseover.tooltip",oi),l.dispatch.on("elementMouseover.tooltip",oi),c.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),l.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),r.dispatch.on("elementMouseover.tooltip",si),h.dispatch.on("elementMouseover.tooltip",si),r.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),h.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),s.dispatch.on("elementMouseover.tooltip",hi),a.dispatch.on("elementMouseover.tooltip",hi),s.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),a.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),s.dispatch.on("elementMousemove.tooltip",function(){u()}),a.dispatch.on("elementMousemove.tooltip",function(){u()}))}),t}var ot,st,i={top:30,right:20,bottom:50,left:60},at=null,it=n.utils.defaultColor(),ht=null,rt=null,ct=!0,vt=null,ut=function(n){return n.x},ft=function(n){return n.y},nt="linear",yt=!0,d=n.interactiveGuideline(),tt=!1,lt=" (right axis)",f=250,g=d3.scale.linear(),v=d3.scale.linear(),y=d3.scale.linear(),e=n.models.line().yScale(v).duration(f),o=n.models.line().yScale(y).duration(f),c=n.models.scatter().yScale(v).duration(f),l=n.models.scatter().yScale(y).duration(f),s=n.models.multiBar().stacked(!1).yScale(v).duration(f),a=n.models.multiBar().stacked(!1).yScale(y).duration(f),r=n.models.stackedArea().yScale(v).duration(f),h=n.models.stackedArea().yScale(y).duration(f),p=n.models.axis().scale(g).orient("bottom").tickPadding(5).duration(f),w=n.models.axis().scale(v).orient("left").duration(f),b=n.models.axis().scale(y).orient("right").duration(f),k=n.models.legend().height(30),u=n.models.tooltip(),pt=d3.dispatch(),et=[e,o,c,l,s,a,r,h];return t.dispatch=pt,t.legend=k,t.lines1=e,t.lines2=o,t.scatters1=c,t.scatters2=l,t.bars1=s,t.bars2=a,t.stack1=r,t.stack2=h,t.xAxis=p,t.yAxis1=w,t.yAxis2=b,t.tooltip=u,t.interactiveLayer=d,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return ht},set:function(n){ht=n}},height:{get:function(){return rt},set:function(n){rt=n}},showLegend:{get:function(){return ct},set:function(n){ct=n}},yDomain1:{get:function(){return ot},set:function(n){ot=n}},yDomain2:{get:function(){return st},set:function(n){st=n}},noData:{get:function(){return vt},set:function(n){vt=n}},interpolate:{get:function(){return nt},set:function(n){nt=n}},legendRightAxisHint:{get:function(){return lt},set:function(n){lt=n}},margin:{get:function(){return i},set:function(n){void 0!==n.top&&(i.top=n.top,at=n.top);i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left}},color:{get:function(){return it},set:function(t){it=n.utils.getColor(t)}},x:{get:function(){return ut},set:function(n){ut=n;e.x(n);o.x(n);c.x(n);l.x(n);s.x(n);a.x(n);r.x(n);h.x(n)}},y:{get:function(){return ft},set:function(n){ft=n;e.y(n);o.y(n);c.y(n);l.y(n);r.y(n);h.y(n);s.y(n);a.y(n)}},useVoronoi:{get:function(){return yt},set:function(n){yt=n;e.useVoronoi(n);o.useVoronoi(n);r.useVoronoi(n);h.useVoronoi(n)}},useInteractiveGuideline:{get:function(){return tt},set:function(n){tt=n;tt&&(e.interactive(!1),e.useVoronoi(!1),o.interactive(!1),o.useVoronoi(!1),r.interactive(!1),r.useVoronoi(!1),h.interactive(!1),h.useVoronoi(!1),c.interactive(!1),l.interactive(!1))}},duration:{get:function(){return f},set:function(n){f=n;[e,o,r,h,c,l,p,w,b].forEach(function(n){n.duration(f)})}}}),n.utils.initOptions(t),t};n.models.ohlcBar=function(){"use strict";function u(rt){return rt.each(function(u){var rt,st,ft,ot;e=d3.select(this);rt=n.utils.availableWidth(d,e,r);st=n.utils.availableHeight(g,e,r);n.utils.initSVG(e);ft=rt/u[0].values.length*.9;i.domain(w||d3.extent(u[0].values.map(l).concat(nt)));tt?i.range(a||[.5*rt/u[0].values.length,rt*(u[0].values.length-.5)/u[0].values.length]):i.range(a||[5+ft/2,rt-ft/2-5]);t.domain(b||[d3.min(u[0].values.map(s).concat(y)),d3.max(u[0].values.map(o).concat(y))]).range(k||[st,0]);i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]-.01*i.domain()[0],i.domain()[1]+.01*i.domain()[1]]):i.domain([-1,1]));t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]+.01*t.domain()[0],t.domain()[1]-.01*t.domain()[1]]):t.domain([-1,1]));var et=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([u[0].values]),ht=et.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),ct=ht.append("defs"),lt=ht.append("g"),at=et.select("g");lt.append("g").attr("class","nv-ticks");et.attr("transform","translate("+r.left+","+r.top+")");e.on("click",function(n,t){ut.chartClick({data:n,index:t,pos:d3.event,id:h})});ct.append("clipPath").attr("id","nv-chart-clip-path-"+h).append("rect");et.select("#nv-chart-clip-path-"+h+" rect").attr("width",rt).attr("height",st);at.attr("clip-path",it?"url(#nv-chart-clip-path-"+h+")":"");ot=et.select(".nv-ticks").selectAll(".nv-tick").data(function(n){return n});ot.exit().remove();ot.enter().append("path").attr("class",function(n,t,i){return(f(n,t)>c(n,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+i+"-"+t}).attr("d",function(n,i){return"m0,0l0,"+(t(f(n,i))-t(o(n,i)))+"l"+-ft/2+",0l"+ft/2+",0l0,"+(t(s(n,i))-t(f(n,i)))+"l0,"+(t(c(n,i))-t(s(n,i)))+"l"+ft/2+",0l"+-ft/2+",0z"}).attr("transform",function(n,r){return"translate("+i(l(n,r))+","+t(o(n,r))+")"}).attr("fill",function(){return p[0]}).attr("stroke",function(){return p[0]}).attr("x",0).attr("y",function(n,i){return t(Math.max(0,v(n,i)))}).attr("height",function(n,i){return Math.abs(t(v(n,i))-t(0))});ot.attr("class",function(n,t,i){return(f(n,t)>c(n,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+i+"-"+t});d3.transition(ot).attr("transform",function(n,r){return"translate("+i(l(n,r))+","+t(o(n,r))+")"}).attr("d",function(n,i){var r=rt/u[0].values.length*.9;return"m0,0l0,"+(t(f(n,i))-t(o(n,i)))+"l"+-r/2+",0l"+r/2+",0l0,"+(t(s(n,i))-t(f(n,i)))+"l0,"+(t(c(n,i))-t(s(n,i)))+"l"+r/2+",0l"+-r/2+",0z"})}),u}var w,b,a,k,r={top:0,right:0,bottom:0,left:0},d=null,g=null,h=Math.floor(1e4*Math.random()),e=null,i=d3.scale.linear(),t=d3.scale.linear(),l=function(n){return n.x},v=function(n){return n.y},f=function(n){return n.open},c=function(n){return n.close},o=function(n){return n.high},s=function(n){return n.low},nt=[],y=[],tt=!1,it=!0,p=n.utils.defaultColor(),rt=!1,ut=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return u.highlightPoint=function(n,t){u.clearHighlights();e.select(".nv-ohlcBar .nv-tick-0-"+n).classed("hover",t)},u.clearHighlights=function(){e.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},u.dispatch=ut,u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return d},set:function(n){d=n}},height:{get:function(){return g},set:function(n){g=n}},xScale:{get:function(){return i},set:function(n){i=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return w},set:function(n){w=n}},yDomain:{get:function(){return b},set:function(n){b=n}},xRange:{get:function(){return a},set:function(n){a=n}},yRange:{get:function(){return k},set:function(n){k=n}},forceX:{get:function(){return nt},set:function(n){nt=n}},forceY:{get:function(){return y},set:function(n){y=n}},padData:{get:function(){return tt},set:function(n){tt=n}},clipEdge:{get:function(){return it},set:function(n){it=n}},id:{get:function(){return h},set:function(n){h=n}},interactive:{get:function(){return rt},set:function(n){rt=n}},x:{get:function(){return l},set:function(n){l=n}},y:{get:function(){return v},set:function(n){v=n}},open:{get:function(){return f()},set:function(n){f=n}},close:{get:function(){return c()},set:function(n){c=n}},high:{get:function(){return o},set:function(n){o=n}},low:{get:function(){return s},set:function(n){s=n}},margin:{get:function(){return r},set:function(n){r.top=void 0!=n.top?n.top:r.top;r.right=void 0!=n.right?n.right:r.right;r.bottom=void 0!=n.bottom?n.bottom:r.bottom;r.left=void 0!=n.left?n.left:r.left}},color:{get:function(){return p},set:function(t){p=n.utils.getColor(t)}}}),n.utils.initOptions(u),u};n.models.parallelCoordinates=function(){"use strict";function l(et){return ft.reset(),et.each(function(l){function lt(n){return rt(h.map(function(i){var f;if(isNaN(n.values[i.key])||isNaN(parseFloat(n.values[i.key]))||bt){var r=t[i.key].domain(),e=t[i.key].range(),u=r[0]-(r[1]-r[0])/9;if(b.indexOf(i.key)<0&&(f=d3.scale.linear().domain([u,r[1]]).range([y-12,e[1]]),t[i.key].brush.y(f),b.push(i.key)),isNaN(n.values[i.key])||isNaN(parseFloat(n.values[i.key])))return[o(i.key),t[i.key](u)]}return void 0!==st&&(b.length>0||bt?(st.style("display","inline"),ht.style("display","inline")):(st.style("display","none"),ht.style("display","none"))),[o(i.key),t[i.key](n.values[i.key])]}))}function dt(n){s.forEach(function(i){var r=t[i.dimension].brush.y().domain();i.hasOnlyNaN&&(i.extent[1]=(t[i.dimension].domain()[1]-r[0])*(i.extent[1]-i.extent[0])/(ti[i.dimension]-i.extent[0])+r[0]);i.hasNaN&&(i.extent[0]=r[0]);n&&t[i.dimension].brush.extent(i.extent)});c.select(".nv-brushBackground").each(function(n){d3.select(this).call(t[n.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16);gt()}function ui(){a===!1&&(a=!0,dt(!0))}function fi(){ct=w.filter(function(n){return!t[n].brush.empty()});et=ct.map(function(n){return t[n].brush.extent()});s=[];ct.forEach(function(n,t){s[t]={dimension:n,extent:et[t],hasNaN:!1,hasOnlyNaN:!1}});u=[];e.style("display",function(n){var i=ct.every(function(i,r){return(isNaN(n.values[i])||isNaN(parseFloat(n.values[i])))&&et[r][0]==t[i].brush.y().domain()[0]?!0:et[r][0]<=n.values[i]&&n.values[i]<=et[r][1]&&!isNaN(parseFloat(n.values[i]))});return i&&u.push(n),i?null:"none"});gt();f.brush({filters:s,active:u})}function ei(){var n=ct.length>0;s.forEach(function(n){n.extent[0]===t[n.dimension].brush.y().domain()[0]&&b.indexOf(n.dimension)>=0&&(n.hasNaN=!0);n.extent[1]<t[n.dimension].domain()[0]&&(n.hasOnlyNaN=!0)});f.brushEnd(u,n)}function gt(){c.select(".nv-axis").each(function(n){var i=s.filter(function(t){return t.dimension==n.key});at[n.key]=t[n.key].domain();0!=i.length&&a&&(at[n.key]=[],i[0].extent[1]>t[n.key].domain()[0]&&(at[n.key]=[i[0].extent[1]]),i[0].extent[0]>=t[n.key].domain()[0]&&at[n.key].push(i[0].extent[0]));d3.select(this).call(ut.scale(t[n.key]).tickFormat(n.format).tickValues(at[n.key]))})}function oi(n){g[n.key]=this.parentNode.__origin__=o(n.key);v.attr("visibility","hidden")}function si(n){g[n.key]=Math.min(p,Math.max(0,this.parentNode.__origin__+=d3.event.x));e.attr("d",lt);h.sort(function(n,t){return pt(n.key)-pt(t.key)});h.forEach(function(n,t){return n.currentPosition=t});o.domain(h.map(function(n){return n.key}));c.attr("transform",function(n){return"translate("+pt(n.key)+")"})}function hi(n){delete this.parentNode.__origin__;delete g[n.key];d3.select(this.parentNode).attr("transform","translate("+o(n.key)+")");e.attr("d",lt);v.attr("d",lt).attr("visibility",null);f.dimensionsOrder(h)}function pt(n){var t=g[n];return null==t?o(n):t}var vt=d3.select(this),wt,ni,st,ht,ii,ft,ri,yt;(p=n.utils.availableWidth(nt,vt,r),y=n.utils.availableHeight(tt,vt,r),n.utils.initSVG(vt),void 0===l[0].values)&&(wt=[],l.forEach(function(n){var t={},i=Object.keys(n);i.forEach(function(i){"name"!==i&&(t[i]=n[i])});wt.push({key:n.name,values:t})}),l=wt);ni=l.map(function(n){return n.values});0===u.length&&(u=l);w=i.sort(function(n,t){return n.currentPosition-t.currentPosition}).map(function(n){return n.key});h=i.filter(function(n){return!n.disabled});o.rangePoints([0,p],1).domain(h.map(function(n){return n.key}));var ti={},bt=!1,at=[];w.forEach(function(n){var f=d3.extent(ni,function(t){return+t[n]}),u=f[0],i=f[1],e=!1,r;(isNaN(u)||isNaN(i))&&(e=!0,u=0,i=0);u===i&&(u-=1,i+=1);r=s.filter(function(t){return t.dimension==n});0!==r.length&&(e?(u=t[n].domain()[0],i=t[n].domain()[1]):!r[0].hasOnlyNaN&&a?(u=u>r[0].extent[0]?r[0].extent[0]:u,i=i<r[0].extent[1]?r[0].extent[1]:i):r[0].hasNaN&&(i=i<r[0].extent[1]?r[0].extent[1]:i,ti[n]=t[n].domain()[1],bt=!0));t[n]=d3.scale.linear().domain([u,i]).range([.9*(y-12),0]);b=[];t[n].brush=d3.svg.brush().y(t[n]).on("brushstart",ui).on("brush",fi).on("brushend",ei)});var ot=vt.selectAll("g.nv-wrap.nv-parallelCoordinates").data([l]),ci=ot.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),kt=ci.append("g"),li=ot.select("g");kt.append("g").attr("class","nv-parallelCoordinates background");kt.append("g").attr("class","nv-parallelCoordinates foreground");kt.append("g").attr("class","nv-parallelCoordinates missingValuesline");ot.attr("transform","translate("+r.left+","+r.top+")");rt.interpolate("cardinal").tension(it);ut.orient("left");ii=d3.behavior.drag().on("dragstart",oi).on("drag",si).on("dragend",hi);ft=o.range()[1]-o.range()[0];(ft=isNaN(ft)?o.range()[0]:ft,isNaN(ft))||(ri=[0+ft/2,y-12,p-ft/2,y-12],st=ot.select(".missingValuesline").selectAll("line").data([ri]),st.enter().append("line"),st.exit().remove(),st.attr("x1",function(n){return n[0]}).attr("y1",function(n){return n[1]}).attr("x2",function(n){return n[2]}).attr("y2",function(n){return n[3]}),ht=ot.select(".missingValuesline").selectAll("text").data([k]),ht.append("text").data([k]),ht.enter().append("text"),ht.exit().remove(),ht.attr("y",y).attr("x",p-92-ft/2).text(function(n){return n}));v=ot.select(".background").selectAll("path").data(l);v.enter().append("path");v.exit().remove();v.attr("d",lt);e=ot.select(".foreground").selectAll("path").data(l);e.enter().append("path");e.exit().remove();e.attr("d",lt).style("stroke-width",function(n){return isNaN(n.strokeWidth)&&(n.strokeWidth=1),n.strokeWidth}).attr("stroke",function(n,t){return n.color||d(n,t)});e.on("mouseover",function(n,t){d3.select(this).classed("hover",!0).style("stroke-width",n.strokeWidth+2+"px").style("stroke-opacity",1);f.elementMouseover({label:n.name,color:n.color||d(n,t),values:n.values,dimensions:h})});e.on("mouseout",function(n,t){d3.select(this).classed("hover",!1).style("stroke-width",n.strokeWidth+"px").style("stroke-opacity",.7);f.elementMouseout({label:n.name,index:t})});e.on("mousemove",function(){f.elementMousemove()});e.on("click",function(n){f.elementClick({id:n.id})});c=li.selectAll(".dimension").data(h);yt=c.enter().append("g").attr("class","nv-parallelCoordinates dimension");c.attr("transform",function(n){return"translate("+o(n.key)+",0)"});yt.append("g").attr("class","nv-axis");yt.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(n){f.elementMouseover({label:n.tooltip||n.key,color:n.color})}).on("mouseout",function(n){f.elementMouseout({label:n.tooltip})}).on("mousemove",function(){f.elementMousemove()}).call(ii);yt.append("g").attr("class","nv-brushBackground");c.exit().remove();c.select(".nv-label").text(function(n){return n.key});dt(a);var ct=w.filter(function(n){return!t[n].brush.empty()}),et=ct.map(function(n){return t[n].brush.extent()}),ai=u.slice(0);u=[];e.style("display",function(n){var i=ct.every(function(i,r){return(isNaN(n.values[i])||isNaN(parseFloat(n.values[i])))&&et[r][0]==t[i].brush.y().domain()[0]?!0:et[r][0]<=n.values[i]&&n.values[i]<=et[r][1]&&!isNaN(parseFloat(n.values[i]))});return i&&u.push(n),i?null:"none"});(s.length>0||!n.utils.arrayEquals(u,ai))&&f.activeChanged(u)}),l}var e,v,c,r={top:30,right:0,bottom:10,left:0},nt=null,tt=null,p=null,y=null,o=d3.scale.ordinal(),t={},k="undefined values",i=[],h=[],w=[],a=!0,d=n.utils.defaultColor(),s=[],u=[],g=[],b=[],it=1,rt=d3.svg.line(),ut=d3.svg.axis(),f=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),ft=n.utils.renderWatch(f);return l.dispatch=f,l.options=n.utils.optionsFunc.bind(l),l._options=Object.create({},{width:{get:function(){return nt},set:function(n){nt=n}},height:{get:function(){return tt},set:function(n){tt=n}},dimensionData:{get:function(){return i},set:function(n){i=n}},displayBrush:{get:function(){return a},set:function(n){a=n}},filters:{get:function(){return s},set:function(n){s=n}},active:{get:function(){return u},set:function(n){u=n}},lineTension:{get:function(){return it},set:function(n){it=n}},undefinedValuesLabel:{get:function(){return k},set:function(n){k=n}},dimensions:{get:function(){return i.map(function(n){return n.key})},set:function(t){n.deprecated("dimensions","use dimensionData instead");0===i.length?t.forEach(function(n){i.push({key:n})}):t.forEach(function(n,t){i[t].key=n})}},dimensionNames:{get:function(){return i.map(function(n){return n.key})},set:function(t){n.deprecated("dimensionNames","use dimensionData instead");w=[];0===i.length?t.forEach(function(n){i.push({key:n})}):t.forEach(function(n,t){i[t].key=n})}},dimensionFormats:{get:function(){return i.map(function(n){return n.format})},set:function(t){n.deprecated("dimensionFormats","use dimensionData instead");0===i.length?t.forEach(function(n){i.push({format:n})}):t.forEach(function(n,t){i[t].format=n})}},margin:{get:function(){return r},set:function(n){r.top=void 0!==n.top?n.top:r.top;r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},color:{get:function(){return d},set:function(t){d=n.utils.getColor(t)}}}),n.utils.initOptions(l),l};n.models.parallelCoordinatesChart=function(){"use strict";function t(h){return w.reset(),w.models(u),h.each(function(h){var a=d3.select(this),k,p,w,rt;if(n.utils.initSVG(a),k=n.utils.availableWidth(v,a,i),p=n.utils.availableHeight(l,a,i),t.update=function(){a.call(t)},t.container=this,f.setter(g(r),t.update).getter(d(r)).update(),f.disabled=r.map(function(n){return!!n.disabled}),r=r.map(function(n){return n.disabled=!!n.disabled,n}),r.forEach(function(n,t){n.originalPosition=isNaN(n.originalPosition)?t:n.originalPosition;n.currentPosition=isNaN(n.currentPosition)?t:n.currentPosition}),!o){o={};for(w in f)o[w]=f[w]instanceof Array?f[w].slice(0):f[w]}if(!h||!h.length)return n.utils.noData(t,a),t;a.selectAll(".nv-noData").remove();var nt=a.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([h]),it=nt.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),tt=nt.select("g");it.append("g").attr("class","nv-parallelCoordinatesWrap");it.append("g").attr("class","nv-legendWrap");tt.select("rect").attr("width",k).attr("height",p>0?p:0);y?(e.width(k).color(function(){return"rgb(188,190,192)"}),tt.select(".nv-legendWrap").datum(r.sort(function(n,t){return n.originalPosition-t.originalPosition})).call(e),b||e.height()===i.top||(i.top=e.height(),p=n.utils.availableHeight(l,a,i)),nt.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-i.top+")")):tt.select(".nv-legendWrap").selectAll("*").remove();nt.attr("transform","translate("+i.left+","+i.top+")");u.width(k).height(p).dimensionData(r).displayBrush(c);rt=tt.select(".nv-parallelCoordinatesWrap ").datum(h);rt.transition().call(u);u.dispatch.on("brushEnd",function(n,t){t?(c=!0,s.brushEnd(n)):c=!1});e.dispatch.on("stateChange",function(n){for(var i in n)f[i]=n[i];s.stateChange(f);t.update()});u.dispatch.on("dimensionsOrder",function(){r.sort(function(n,t){return n.currentPosition-t.currentPosition});var n=!1;r.forEach(function(t,i){t.currentPosition=i;t.currentPosition!==t.originalPosition&&(n=!0)});s.dimensionsOrder(r,n)});s.on("changeState",function(n){"undefined"!=typeof n.disabled&&(r.forEach(function(t,i){t.disabled=n.disabled[i]}),f.disabled=n.disabled);t.update()})}),w.renderEnd("parraleleCoordinateChart immediate"),t}var u=n.models.parallelCoordinates(),e=n.models.legend(),h=n.models.tooltip(),i=(n.models.tooltip(),{top:0,right:0,bottom:0,left:0}),b=null,v=null,l=null,y=!0,a=n.utils.defaultColor(),f=n.utils.state(),r=[],c=!0,o=null,k=null,p="undefined",s=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),w=n.utils.renderWatch(s),d=function(n){return function(){return{active:n.map(function(n){return!n.disabled})}}},g=function(n){return function(t){void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};return h.contentGenerator(function(n){var t='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+n.color+'"><\/div><\/td><td><strong>'+n.key+"<\/strong><\/td><\/tr><\/thead>";return 0!==n.series.length&&(t+='<tbody><tr><td height ="10px"><\/td><\/tr>',n.series.forEach(function(n){t=t+'<tr><td class="legend-color-guide"><div style="background-color:'+n.color+'"><\/div><\/td><td class="key">'+n.key+'<\/td><td class="value">'+n.value+"<\/td><\/tr>"}),t+="<\/tbody>"),t+="<\/table>"}),u.dispatch.on("elementMouseover.tooltip",function(n){var t={key:n.label,color:n.color,series:[]};n.values&&(Object.keys(n.values).forEach(function(i){var r=n.dimensions.filter(function(n){return n.key===i})[0],u;r&&(u=isNaN(n.values[i])||isNaN(parseFloat(n.values[i]))?p:r.format(n.values[i]),t.series.push({idx:r.currentPosition,key:i,value:u,color:r.color}))}),t.series.sort(function(n,t){return n.idx-t.idx}));h.data(t).hidden(!1)}),u.dispatch.on("elementMouseout.tooltip",function(){h.hidden(!0)}),u.dispatch.on("elementMousemove.tooltip",function(){h()}),t.dispatch=s,t.parallelCoordinates=u,t.legend=e,t.tooltip=h,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return v},set:function(n){v=n}},height:{get:function(){return l},set:function(n){l=n}},showLegend:{get:function(){return y},set:function(n){y=n}},defaultState:{get:function(){return o},set:function(n){o=n}},dimensionData:{get:function(){return r},set:function(n){r=n}},displayBrush:{get:function(){return c},set:function(n){c=n}},noData:{get:function(){return k},set:function(n){k=n}},nanValue:{get:function(){return p},set:function(n){p=n}},margin:{get:function(){return i},set:function(n){void 0!==n.top&&(i.top=n.top,b=n.top);i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left}},color:{get:function(){return a},set:function(t){a=n.utils.getColor(t);e.color(a);u.color(a)}}}),n.utils.inheritOptions(t,u),n.utils.initOptions(t),t};n.models.pie=function(){"use strict";function u(ct){return ut.reset(),ct.each(function(u){function ci(n,t){n.endAngle=isNaN(n.endAngle)?0:n.endAngle;n.startAngle=isNaN(n.startAngle)?0:n.startAngle;e||(n.innerRadius=0);var i=d3.interpolate(this._current,n);return this._current=i(0),function(n){return h[t](i(n))}}var ti=ft-t.left-t.right,ii=et-t.top-t.bottom,lt=Math.min(ti,ii)/2,vt=[],dt=[],pt,bt,gt,kt,ni,yt,at,ct;if(g=d3.select(this),0===i.length)for(var li=lt-lt/10,ai=a*lt,ct=0;ct<u[0].length;ct++)vt.push(li),dt.push(ai);else w?(vt=i.map(function(n){return(n.outer-n.outer/10)*lt}),dt=i.map(function(n){return(n.inner-n.inner/10)*lt}),a=d3.min(i.map(function(n){return n.inner-n.inner/10}))):(vt=i.map(function(n){return n.outer*lt}),dt=i.map(function(n){return n.inner*lt}),a=d3.min(i.map(function(n){return n.inner})));n.utils.initSVG(g);var wt=g.selectAll(".nv-wrap.nv-pie").data(u),vi=wt.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+d),ui=vi.append("g"),fi=wt.select("g"),yi=ui.append("g").attr("class","nv-pie");for(ui.append("g").attr("class","nv-pieLabels"),wt.attr("transform","translate("+t.left+","+t.top+")"),fi.select(".nv-pie").attr("transform","translate("+ti/2+","+ii/2+")"),fi.select(".nv-pieLabels").attr("transform","translate("+ti/2+","+ii/2+")"),g.on("click",function(n,t){r.chartClick({data:n,index:t,pos:d3.event,id:d})}),h=[],ht=[],ct=0;ct<u[0].length;ct++)pt=d3.svg.arc().outerRadius(vt[ct]),bt=d3.svg.arc().outerRadius(vt[ct]+5),o!==!1&&(pt.startAngle(o),bt.startAngle(o)),s!==!1&&(pt.endAngle(s),bt.endAngle(s)),e&&(pt.innerRadius(dt[ct]),bt.innerRadius(dt[ct])),pt.cornerRadius&&b&&(pt.cornerRadius(b),bt.cornerRadius(b)),h.push(pt),ht.push(bt);if(gt=d3.layout.pie().sort(null).value(function(n){return n.disabled?0:v(n)}),gt.padAngle&&it&&gt.padAngle(it),e&&p&&(yi.append("text").attr("class","nv-pie-title"),wt.select(".nv-pie-title").style("text-anchor","middle").text(function(){return p}).style("font-size",Math.min(ti,ii)*a*2/(p.length+2)+"px").attr("dy","0.35em").attr("transform",function(){return"translate(0, "+st+")"})),kt=wt.select(".nv-pie").selectAll(".nv-slice").data(gt),ni=wt.select(".nv-pieLabels").selectAll(".nv-label").data(gt),kt.exit().remove(),ni.exit().remove(),yt=kt.enter().append("g"),yt.attr("class","nv-slice"),yt.on("mouseover",function(n,t){d3.select(this).classed("hover",!0);w&&d3.select(this).select("path").transition().duration(70).attr("d",ht[t]);r.elementMouseover({data:n.data,index:t,color:d3.select(this).style("fill"),percent:(n.endAngle-n.startAngle)/(2*Math.PI)})}),yt.on("mouseout",function(n,t){d3.select(this).classed("hover",!1);w&&d3.select(this).select("path").transition().duration(50).attr("d",h[t]);r.elementMouseout({data:n.data,index:t})}),yt.on("mousemove",function(n,t){r.elementMousemove({data:n.data,index:t})}),yt.on("click",function(n,t){var i=this;r.elementClick({data:n.data,index:t,color:d3.select(this).style("fill"),event:d3.event,element:i})}),yt.on("dblclick",function(n,t){r.elementDblClick({data:n.data,index:t,color:d3.select(this).style("fill")})}),kt.attr("fill",function(n,t){return nt(n.data,t)}),kt.attr("stroke",function(n,t){return nt(n.data,t)}),yt.append("path").each(function(n){this._current=n}),kt.select("path").transition().duration(rt).attr("d",function(n,t){return h[t](n)}).attrTween("d",ci),ot){for(at=[],ct=0;ct<u[0].length;ct++)at.push(h[ct]),f?e&&(at[ct]=d3.svg.arc().outerRadius(h[ct].outerRadius()),o!==!1&&at[ct].startAngle(o),s!==!1&&at[ct].endAngle(s)):e||at[ct].innerRadius(0);ni.enter().append("g").classed("nv-label",!0).each(function(n){var t=d3.select(this);t.attr("transform",function(n,t){if(l){n.outerRadius=vt[t]+10;n.innerRadius=vt[t]+15;var i=(n.startAngle+n.endAngle)/2*(180/Math.PI);return(n.startAngle+n.endAngle)/2<Math.PI?i-=90:i+=90,"translate("+at[t].centroid(n)+") rotate("+i+")"}return n.outerRadius=lt+10,n.innerRadius=lt+15,"translate("+at[t].centroid(n)+")"});t.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);t.append("text").style("text-anchor",l?(n.startAngle+n.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var ei={},ri=14,oi=140,si=function(n){return Math.floor(n[0]/oi)*oi+","+Math.floor(n[1]/ri)*ri},hi=function(n){return(n.endAngle-n.startAngle)/(2*Math.PI)};ni.watchTransition(ut,"pie labels").attr("transform",function(n,t){var r,i,u,f;return l?(n.outerRadius=vt[t]+10,n.innerRadius=vt[t]+15,r=(n.startAngle+n.endAngle)/2*(180/Math.PI),(n.startAngle+n.endAngle)/2<Math.PI?r-=90:r+=90,"translate("+at[t].centroid(n)+") rotate("+r+")"):(n.outerRadius=lt+10,n.innerRadius=lt+15,i=at[t].centroid(n),u=hi(n),n.value&&u>=tt&&(f=si(i),ei[f]&&(i[1]-=ri),ei[si(i)]=!0),"translate("+i+")")});ni.select(".nv-label text").style("text-anchor",function(n){return l?(n.startAngle+n.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(n,t){var r=hi(n),i="";if(!n.value||tt>r)return"";if("function"==typeof y)i=y(n,t,{key:k(n.data),value:v(n.data),percent:c(r)});else switch(y){case"key":i=k(n.data);break;case"value":i=c(v(n.data));break;case"percent":i=d3.format("%")(r)}return i})}}),ut.renderEnd("pie immediate"),u}var t={top:0,right:0,bottom:0,left:0},ft=500,et=500,k=function(n){return n.x},v=function(n){return n.y},d=Math.floor(1e4*Math.random()),g=null,nt=n.utils.defaultColor(),c=d3.format(",.2f"),ot=!0,f=!1,y="key",tt=.02,e=!1,p=!1,w=!0,st=0,l=!1,o=!1,it=!1,s=!1,b=0,a=.5,rt=250,i=[],r=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),h=[],ht=[],ut=n.utils.renderWatch(r);return u.dispatch=r,u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{arcsRadius:{get:function(){return i},set:function(n){i=n}},width:{get:function(){return ft},set:function(n){ft=n}},height:{get:function(){return et},set:function(n){et=n}},showLabels:{get:function(){return ot},set:function(n){ot=n}},title:{get:function(){return p},set:function(n){p=n}},titleOffset:{get:function(){return st},set:function(n){st=n}},labelThreshold:{get:function(){return tt},set:function(n){tt=n}},valueFormat:{get:function(){return c},set:function(n){c=n}},x:{get:function(){return k},set:function(n){k=n}},id:{get:function(){return d},set:function(n){d=n}},endAngle:{get:function(){return s},set:function(n){s=n}},startAngle:{get:function(){return o},set:function(n){o=n}},padAngle:{get:function(){return it},set:function(n){it=n}},cornerRadius:{get:function(){return b},set:function(n){b=n}},donutRatio:{get:function(){return a},set:function(n){a=n}},labelsOutside:{get:function(){return f},set:function(n){f=n}},labelSunbeamLayout:{get:function(){return l},set:function(n){l=n}},donut:{get:function(){return e},set:function(n){e=n}},growOnHover:{get:function(){return w},set:function(n){w=n}},pieLabelsOutside:{get:function(){return f},set:function(t){f=t;n.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return f},set:function(t){f=t;n.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return c},set:function(t){c=t;n.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return t},set:function(n){t.top="undefined"!=typeof n.top?n.top:t.top;t.right="undefined"!=typeof n.right?n.right:t.right;t.bottom="undefined"!=typeof n.bottom?n.bottom:t.bottom;t.left="undefined"!=typeof n.left?n.left:t.left}},duration:{get:function(){return rt},set:function(n){rt=n;ut.reset(rt)}},y:{get:function(){return v},set:function(n){v=d3.functor(n)}},color:{get:function(){return nt},set:function(t){nt=n.utils.getColor(t)}},labelType:{get:function(){return y},set:function(n){y=n||"key"}}}),n.utils.initOptions(u),u};n.models.pieChart=function(){"use strict";function t(o){return v.reset(),v.models(r),o.each(function(o){var c=d3.select(this),l,p,k,nt,rt;if(n.utils.initSVG(c),l=n.utils.availableWidth(y,c,i),p=n.utils.availableHeight(s,c,i),t.update=function(){c.transition().call(t)},t.container=this,f.setter(g(o),t.update).getter(d(o)).update(),f.disabled=o.map(function(n){return!!n.disabled}),!e){e={};for(k in f)e[k]=f[k]instanceof Array?f[k].slice(0):f[k]}if(!o||!o.length)return n.utils.noData(t,c),t;c.selectAll(".nv-noData").remove();var v=c.selectAll("g.nv-wrap.nv-pieChart").data([o]),tt=v.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),it=v.select("g");(tt.append("g").attr("class","nv-pieWrap"),tt.append("g").attr("class","nv-legendWrap"),w)?"top"===h?(u.width(l).key(r.x()),v.select(".nv-legendWrap").datum(o).call(u),b||u.height()===i.top||(i.top=u.height(),p=n.utils.availableHeight(s,c,i)),v.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")")):"right"===h?(nt=n.models.legend().width(),nt>l/2&&(nt=l/2),u.height(p).key(r.x()),u.width(nt),l-=u.width(),v.select(".nv-legendWrap").datum(o).call(u).attr("transform","translate("+l+",0)")):"bottom"===h&&(u.width(l).key(r.x()),v.select(".nv-legendWrap").datum(o).call(u),i.bottom=u.height(),p=n.utils.availableHeight(s,c,i),v.select(".nv-legendWrap").attr("transform","translate(0,"+p+")")):it.select(".nv-legendWrap").selectAll("*").remove();v.attr("transform","translate("+i.left+","+i.top+")");r.width(l).height(p);rt=it.select(".nv-pieWrap").datum([o]);d3.transition(rt).call(r);u.dispatch.on("stateChange",function(n){for(var i in n)f[i]=n[i];a.stateChange(f);t.update()});a.on("changeState",function(n){"undefined"!=typeof n.disabled&&(o.forEach(function(t,i){t.disabled=n.disabled[i]}),f.disabled=n.disabled);t.update()})}),v.renderEnd("pieChart immediate"),t}var r=n.models.pie(),u=n.models.legend(),o=n.models.tooltip(),i={top:30,right:20,bottom:20,left:20},b=null,y=null,s=null,p=!1,w=!0,h="top",c=n.utils.defaultColor(),f=n.utils.state(),e=null,k=null,l=250,a=d3.dispatch("stateChange","changeState","renderEnd");o.duration(0).headerEnabled(!1).valueFormatter(function(n,t){return r.valueFormat()(n,t)});var v=n.utils.renderWatch(a),d=function(n){return function(){return{active:n.map(function(n){return!n.disabled})}}},g=function(n){return function(t){void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};return r.dispatch.on("elementMouseover.tooltip",function(n){n.series={key:t.x()(n.data),value:t.y()(n.data),color:n.color,percent:n.percent};p||(delete n.percent,delete n.series.percent);o.data(n).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(){o.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(){o()}),t.legend=u,t.dispatch=a,t.pie=r,t.tooltip=o,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return y},set:function(n){y=n}},height:{get:function(){return s},set:function(n){s=n}},noData:{get:function(){return k},set:function(n){k=n}},showTooltipPercent:{get:function(){return p},set:function(n){p=n}},showLegend:{get:function(){return w},set:function(n){w=n}},legendPosition:{get:function(){return h},set:function(n){h=n}},defaultState:{get:function(){return e},set:function(n){e=n}},color:{get:function(){return c},set:function(n){c=n;u.color(c);r.color(c)}},duration:{get:function(){return l},set:function(n){l=n;v.reset(l);r.duration(l)}},margin:{get:function(){return i},set:function(n){void 0!==n.top&&(i.top=n.top,b=n.top);i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left}}}),n.utils.inheritOptions(t,r),n.utils.initOptions(t),t};n.models.sankey=function(){"use strict";function v(){t.forEach(function(n){n.sourceLinks=[];n.targetLinks=[]});s.forEach(function(n){var i=n.source,r=n.target;"number"==typeof i&&(i=n.source=t[n.source]);"number"==typeof r&&(r=n.target=t[n.target]);i.sourceLinks.push(n);r.targetLinks.push(n)})}function y(){t.forEach(function(n){n.value=Math.max(d3.sum(n.sourceLinks,r),d3.sum(n.targetLinks,r))})}function p(){for(var i,r=t,n=0;r.length&&n<t.length;)i=[],r.forEach(function(t){t.x=n;t.dx=o;t.sourceLinks.forEach(function(n){i.indexOf(n.target)<0&&i.push(n.target)})}),r=i,++n;c&&w(n);b((f[0]-o)/(n-1))}function w(n){t.forEach(function(t){t.sourceLinks.length||(t.x=n-1)})}function b(n){t.forEach(function(t){t.x*=n})}function k(n){function l(){var n=d3.min(u,function(n){return(f[1]-(n.length-1)*i)/d3.sum(n,r)});u.forEach(function(t){t.forEach(function(t,i){t.y=i;t.dy=t.value*n})});s.forEach(function(t){t.dy=t.value*n})}function a(n){function t(n){return(n.source.y+n.sy+n.dy/2)*n.value}u.forEach(function(i){i.forEach(function(i){if(i.targetLinks.length){var u=d3.sum(i.targetLinks,t)/d3.sum(i.targetLinks,r);i.y+=(u-h(i))*n}})})}function v(n){function t(n){return(n.target.y+n.ty+n.dy/2)*n.value}u.slice().reverse().forEach(function(i){i.forEach(function(i){if(i.sourceLinks.length){var u=d3.sum(i.sourceLinks,t)/d3.sum(i.sourceLinks,r);i.y+=(u-h(i))*n}})})}function o(){u.forEach(function(n){var t,r,u,e=0,o=n.length;for(n.sort(y),u=0;o>u;++u)t=n[u],r=e-t.y,r>0&&(t.y+=r),e=t.y+t.dy+i;if(r=e-i-f[1],r>0)for(e=t.y-=r,u=o-2;u>=0;--u)t=n[u],r=t.y+t.dy+i-e,r>0&&(t.y-=r),e=t.y})}function y(n,t){return n.y-t.y}var u=d3.nest().key(function(n){return n.x}).sortKeys(d3.ascending).entries(t).map(function(n){return n.values}),c;for(l(),o(),e(),c=1;n>0;--n)v(c*=.99),o(),e(),a(c),o(),e()}function e(){function n(n,t){return n.source.y-t.source.y}function i(n,t){return n.target.y-t.target.y}t.forEach(function(t){t.sourceLinks.sort(i);t.targetLinks.sort(n)});t.forEach(function(n){var t=0,i=0;n.sourceLinks.forEach(function(n){n.sy=t;t+=n.dy});n.targetLinks.forEach(function(n){n.ty=i;i+=n.dy})})}function r(n){return n.value}var u={},o=24,i=8,f=[1,1],t=[],s=[],c=!0,a=function(n){v();y();p();k(n)},d=function(){e()},l=function(){function t(t){var i=t.source.x+t.source.dx,r=t.target.x,u=d3.interpolateNumber(i,r),o=u(n),s=u(1-n),f=t.source.y+t.sy+t.dy/2,e=t.target.y+t.ty+t.dy/2;return"M"+i+","+f+"C"+o+","+f+" "+s+","+e+" "+r+","+e}var n=.5;return t.curvature=function(i){return arguments.length?(n=+i,t):n},t},h=function(n){return n.y+n.dy/2};return u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{nodeWidth:{get:function(){return o},set:function(n){o=+n}},nodePadding:{get:function(){return i},set:function(n){i=n}},nodes:{get:function(){return t},set:function(n){t=n}},links:{get:function(){return s},set:function(n){s=n}},size:{get:function(){return f},set:function(n){f=n}},sinksRight:{get:function(){return c},set:function(n){c=n}},layout:{get:function(){a(32)},set:function(n){a(n)}},relayout:{get:function(){d()},set:function(){}},center:{get:function(){return h()},set:function(n){"function"==typeof n&&(h=n)}},link:{get:function(){return l()},set:function(n){return"function"==typeof n&&(l=n),l()}}}),n.utils.initOptions(u),u};n.models.sankeyChart=function(){"use strict";function i(n){return n.each(function(t){function g(n){d3.select(this).attr("transform","translate("+n.x+","+(n.y=Math.max(0,Math.min(f-n.dy,d3.event.y)))+")");r.relayout();h.attr("d",e)}var b={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},k=!1,d=!1,i,e,h,w;if(("object"==typeof t.nodes&&t.nodes.length)>=0&&("object"==typeof t.links&&t.links.length)>=0&&(k=!0),t.nodes&&t.nodes.length>0&&t.links&&t.links.length>0&&(d=!0),!k)return console.error("NVD3 Sankey chart error:","invalid data format for",t),console.info("Valid data format is: ",b,JSON.stringify(b)),p(n,"Error loading chart, data is invalid"),!1;if(!d)return p(n,"No data available"),!1;i=n.append("svg").attr("width",u).attr("height",f).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");r.nodeWidth(o).nodePadding(s).size([u,f]);e=r.link();r.nodes(t.nodes).links(t.links).layout(32).center(c);h=i.append("g").selectAll(".link").data(t.links).enter().append("path").attr("class","link").attr("d",e).style("stroke-width",function(n){return Math.max(1,n.dy)}).sort(function(n,t){return t.dy-n.dy});h.append("title").text(l);w=i.append("g").selectAll(".node").data(t.nodes).enter().append("g").attr("class","node").attr("transform",function(n){return"translate("+n.x+","+n.y+")"}).call(d3.behavior.drag().origin(function(n){return n}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",g));w.append("rect").attr("height",function(n){return n.dy}).attr("width",r.nodeWidth()).style("fill",a).style("stroke",v).append("title").text(y);w.append("text").attr("x",-6).attr("y",function(n){return n.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(n){return n.name}).filter(function(n){return n.x<u/2}).attr("x",6+r.nodeWidth()).attr("text-anchor","start")}),i}var t={top:5,right:0,bottom:5,left:0},r=n.models.sankey(),u=600,f=400,o=36,s=40,h="units",c=void 0,w=d3.format(",.0f"),e=function(n){return w(n)+" "+h},b=d3.scale.category20(),l=function(n){return n.source.name+" → "+n.target.name+"\n"+e(n.value)},a=function(n){return n.color=b(n.name.replace(/ .*/,""))},v=function(n){return d3.rgb(n.color).darker(2)},y=function(n){return n.name+"\n"+e(n.value)},p=function(n,t){n.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(t)};return i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{units:{get:function(){return h},set:function(n){h=n}},width:{get:function(){return u},set:function(n){u=n}},height:{get:function(){return f},set:function(n){f=n}},format:{get:function(){return e},set:function(n){e=n}},linkTitle:{get:function(){return l},set:function(n){l=n}},nodeWidth:{get:function(){return o},set:function(n){o=n}},nodePadding:{get:function(){return s},set:function(n){s=n}},center:{get:function(){return c},set:function(n){c=n}},margin:{get:function(){return t},set:function(n){t.top=void 0!==n.top?n.top:t.top;t.right=void 0!==n.right?n.right:t.right;t.bottom=void 0!==n.bottom?n.bottom:t.bottom;t.left=void 0!==n.left?n.left:t.left}},nodeStyle:{get:function(){return{}},set:function(n){a=void 0!==n.fillColor?n.fillColor:a;v=void 0!==n.strokeColor?n.strokeColor:v;y=void 0!==n.title?n.title:y}}}),n.utils.initOptions(i),i};n.models.scatter=function(){"use strict";function hi(n){var t,i;return t=n[0].series+":"+n[1],i=fi[t]=fi[t]||{}}function ci(n){var t;t=n[0].series+":"+n[1];delete fi[t]}function ei(n){for(var i,r,u=hi(n),f=!1,t=1;t<arguments.length;t+=2)i=arguments[t],r=arguments[t+1](n[0],n[1]),u[i]===r&&u.hasOwnProperty(i)||(u[i]=r,f=!0);return f}function o(pt){return c.reset(),pt.each(function(pt){function nr(){var o,b,c,s,g,h;if(w=!1,!d)return!1;if(yt===!0){if(fi.select(".nv-point-paths").selectAll("path").remove(),o=d3.merge(pt.map(function(r,e){return r.values.map(function(r,o){var s=u(r,o),h=f(r,o);return[n.utils.NaNtoZero(t(s))+.0001*Math.random(),n.utils.NaNtoZero(i(h))+.0001*Math.random(),e,o,r]}).filter(function(n,t){return it(n[4],t)})})),0==o.length)return!1;for(o.length<3&&(o.push([t.range()[0]-20,i.range()[0]-20,null,null]),o.push([t.range()[1]+20,i.range()[1]+20,null,null]),o.push([t.range()[0]-20,i.range()[0]+20,null,null]),o.push([t.range()[1]+20,i.range()[1]-20,null,null])),b=d3.geom.polygon([[-10,-10],[-10,a+10],[l+10,a+10],[l+10,-10]]),c=.0001,o=o.sort(function(n,t){return n[0]-t[0]||n[1]-t[1]}),s=0;s<o.length-1;)Math.abs(o[s][0]-o[s+1][0])<c&&Math.abs(o[s][1]-o[s+1][1])<c?o.splice(s+1,1):s++;var nt=d3.geom.voronoi(o).map(function(n,t){return{data:b.clip(n),series:o[t][2],point:o[t][3]}}),k=fi.select(".nv-point-paths").selectAll("path").data(nt),tt=k.enter().append("svg:path").attr("d",function(n){return n&&n.data&&0!==n.data.length?"M"+n.data.join(",")+"Z":"M 0 0"}).attr("id",function(n,t){return"nv-path-"+t}).attr("clip-path",function(n,t){return"url(#nv-clip-"+v+"-"+t+")"});(ti&&tt.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),ht)&&(fi.select(".nv-point-clips").selectAll("*").remove(),g=fi.select(".nv-point-clips").selectAll("clipPath").data(o),g.enter().append("svg:clipPath").attr("id",function(n,t){return"nv-clip-"+v+"-"+t}).append("svg:circle").attr("cx",function(n){return n[0]}).attr("cy",function(n){return n[1]}).attr("r",ii));h=function(n,e,o){var h,s;if(w)return 0;if(h=pt[e.series],void 0!==h){s=h.values[e.point];s.color=p(h,e.series);s.x=u(s);s.y=f(s);var c=y.node().getBoundingClientRect(),l=window.pageYOffset||document.documentElement.scrollTop,a=window.pageXOffset||document.documentElement.scrollLeft,v={left:t(u(s,e.point))+c.left+a+r.left+10,top:i(f(s,e.point))+c.top+l+r.top+10};o({point:s,series:h,pos:v,relativePos:[t(u(s,e.point))+r.left,i(f(s,e.point))+r.top],seriesIndex:e.series,pointIndex:e.point,event:d3.event,element:n})}};k.on("click",function(n){h(this,n,e.elementClick)}).on("dblclick",function(n){h(this,n,e.elementDblClick)}).on("mouseover",function(n){h(this,n,e.elementMouseover)}).on("mouseout",function(n){h(this,n,e.elementMouseout)})}else fi.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(n,o){if(w||!pt[n.series])return 0;var h=pt[n.series],s=h.values[o],c=this;e.elementClick({point:s,series:h,pos:[t(u(s,o))+r.left,i(f(s,o))+r.top],relativePos:[t(u(s,o))+r.left,i(f(s,o))+r.top],seriesIndex:n.series,pointIndex:o,event:d3.event,element:c})}).on("dblclick",function(n,o){if(w||!pt[n.series])return 0;var h=pt[n.series],s=h.values[o];e.elementDblClick({point:s,series:h,pos:[t(u(s,o))+r.left,i(f(s,o))+r.top],relativePos:[t(u(s,o))+r.left,i(f(s,o))+r.top],seriesIndex:n.series,pointIndex:o})}).on("mouseover",function(n,o){if(w||!pt[n.series])return 0;var h=pt[n.series],s=h.values[o];e.elementMouseover({point:s,series:h,pos:[t(u(s,o))+r.left,i(f(s,o))+r.top],relativePos:[t(u(s,o))+r.left,i(f(s,o))+r.top],seriesIndex:n.series,pointIndex:o,color:p(n,o)})}).on("mouseout",function(n,o){if(w||!pt[n.series])return 0;var h=pt[n.series],s=h.values[o];e.elementMouseout({point:s,series:h,pos:[t(u(s,o))+r.left,i(f(s,o))+r.top],relativePos:[t(u(s,o))+r.left,i(f(s,o))+r.top],seriesIndex:n.series,pointIndex:o,color:p(n,o)})})}var ai,yi,tr,vi,ir,ki,di,pi,hi,wi,bi;y=d3.select(this);ai=n.utils.availableWidth(l,y,r);yi=n.utils.availableHeight(a,y,r);n.utils.initSVG(y);pt.forEach(function(n,t){n.values.forEach(function(n){n.series=t})});tr=o.yScale().name===d3.scale.log().name;vi=ct&&rt&&vt?[]:d3.merge(pt.map(function(n){return n.values.map(function(n,t){return{x:u(n,t),y:f(n,t),size:h(n,t)}})}));(t.domain(ct||d3.extent(vi.map(function(n){return n.x}).concat(kt))),gt&&pt[0]?t.range(lt||[(ai*st+ai)/(2*pt[0].values.length),ai-ai*(1+st)/(2*pt[0].values.length)]):t.range(lt||[0,ai]),tr)?(ir=d3.min(vi.map(function(n){if(0!==n.y)return n.y})),i.clamp(!0).domain(rt||d3.extent(vi.map(function(n){return 0!==n.y?n.y:.1*ir}).concat(ot))).range(at||[yi,0])):i.domain(rt||d3.extent(vi.map(function(n){return n.y}).concat(ot))).range(at||[yi,0]);s.domain(vt||d3.extent(vi.map(function(n){return n.size}).concat(dt))).range(ri||li);si=t.domain()[0]===t.domain()[1]||i.domain()[0]===i.domain()[1];t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]-.01*t.domain()[0],t.domain()[1]+.01*t.domain()[1]]):t.domain([-1,1]));i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]-.01*i.domain()[0],i.domain()[1]+.01*i.domain()[1]]):i.domain([-1,1]));isNaN(t.domain()[0])&&t.domain([-1,1]);isNaN(i.domain()[0])&&i.domain([-1,1]);b=b||t;k=k||i;ut=ut||s;ki=t(1)!==b(1)||i(1)!==k(1)||s(1)!==ut(1);ft=ft||l;et=et||a;di=ft!==l||et!==a;g=g||[];pi=g[0]!==t.domain()[0]||g[1]!==t.domain()[1];g=t.domain();nt=nt||[];pi=pi||nt[0]!==i.domain()[0]||nt[1]!==i.domain()[1];nt=i.domain();var fi=y.selectAll("g.nv-wrap.nv-scatter").data([pt]),gi=fi.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+v),ur=gi.append("defs"),rr=gi.append("g"),fr=fi.select("g");fi.classed("nv-single-point",si);rr.append("g").attr("class","nv-groups");rr.append("g").attr("class","nv-point-paths");gi.append("g").attr("class","nv-point-clips");fi.attr("transform","translate("+r.left+","+r.top+")");ur.append("clipPath").attr("id","nv-edge-clip-"+v).append("rect").attr("transform","translate( -10, -10)");fi.select("#nv-edge-clip-"+v+" rect").attr("width",ai+20).attr("height",yi>0?yi+20:0);fr.attr("clip-path",ni?"url(#nv-edge-clip-"+v+")":"");w=!0;hi=fi.select(".nv-groups").selectAll(".nv-group").data(function(n){return n},function(n){return n.key});hi.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);hi.exit().remove();hi.attr("class",function(n,t){return(n.classed||"")+" nv-group nv-series-"+t}).classed("nv-noninteractive",!d).classed("hover",function(n){return n.hover});hi.watchTransition(c,"scatter: groups").style("fill",function(n,t){return p(n,t)}).style("stroke",function(n,t){return n.pointBorderColor||bt||p(n,t)}).style("stroke-opacity",1).style("fill-opacity",.5);wi=hi.selectAll("path.nv-point").data(function(n){return n.values.map(function(n,t){return[n,t]}).filter(function(n,t){return it(n[0],t)})});(wi.enter().append("path").attr("class",function(n){return"nv-point nv-point-"+n[1]}).style("fill",function(n){return n.color}).style("stroke",function(n){return n.color}).attr("transform",function(t){return"translate("+n.utils.NaNtoZero(b(u(t[0],t[1])))+","+n.utils.NaNtoZero(k(f(t[0],t[1])))+")"}).attr("d",n.utils.symbol().type(function(n){return tt(n[0])}).size(function(n){return s(h(n[0],n[1]))})),wi.exit().each(ci).remove(),hi.exit().selectAll("path.nv-point").watchTransition(c,"scatter exit").attr("transform",function(r){return"translate("+n.utils.NaNtoZero(t(u(r[0],r[1])))+","+n.utils.NaNtoZero(i(f(r[0],r[1])))+")"}).remove(),wi.filter(function(n){return ei(n,"x",u,"y",f)||ki||di||pi}).watchTransition(c,"scatter points").attr("transform",function(r){return"translate("+n.utils.NaNtoZero(t(u(r[0],r[1])))+","+n.utils.NaNtoZero(i(f(r[0],r[1])))+")"}),wi.filter(function(n){return ei(n,"shape",tt,"size",h)||ki||di||pi}).watchTransition(c,"scatter points").attr("d",n.utils.symbol().type(function(n){return tt(n[0])}).size(function(n){return s(h(n[0],n[1]))})),ui)&&(bi=hi.selectAll(".nv-label").data(function(n){return n.values.map(function(n,t){return[n,t]}).filter(function(n,t){return it(n[0],t)})}),bi.enter().append("text").style("fill",function(n){return n.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(t){var i=n.utils.NaNtoZero(b(u(t[0],t[1])))+Math.sqrt(s(h(t[0],t[1]))/Math.PI)+2;return"translate("+i+","+n.utils.NaNtoZero(k(f(t[0],t[1])))+")"}).text(function(n){return n[0].label}),bi.exit().remove(),hi.exit().selectAll("path.nv-label").watchTransition(c,"scatter exit").attr("transform",function(r){var e=n.utils.NaNtoZero(t(u(r[0],r[1])))+Math.sqrt(s(h(r[0],r[1]))/Math.PI)+2;return"translate("+e+","+n.utils.NaNtoZero(i(f(r[0],r[1])))+")"}).remove(),bi.each(function(n){d3.select(this).classed("nv-label",!0).classed("nv-label-"+n[1],!1).classed("hover",!1)}),bi.watchTransition(c,"scatter labels").attr("transform",function(r){var e=n.utils.NaNtoZero(t(u(r[0],r[1])))+Math.sqrt(s(h(r[0],r[1]))/Math.PI)+2;return"translate("+e+","+n.utils.NaNtoZero(i(f(r[0],r[1])))+")"}));wt?(clearTimeout(oi),oi=setTimeout(nr,wt)):nr();b=t.copy();k=i.copy();ut=s.copy();ft=l;et=a}),c.renderEnd("scatter immediate"),o}var b,k,ut,g,nt,ft,et,oi,r={top:0,right:0,bottom:0,left:0},l=null,a=null,p=n.utils.defaultColor(),bt=null,v=Math.floor(1e5*Math.random()),y=null,t=d3.scale.linear(),i=d3.scale.linear(),s=d3.scale.linear(),u=function(n){return n.x},f=function(n){return n.y},h=function(n){return n.size||1},tt=function(n){return n.shape||"circle"},kt=[],ot=[],dt=[],d=!0,it=function(n){return!n.notActive},gt=!1,st=.1,ni=!1,ht=!0,ti=!1,ii=function(){return 25},ct=null,rt=null,lt=null,at=null,vt=null,ri=null,si=!1,e=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),yt=!0,pt=250,wt=300,ui=!1,w=!1,c=n.utils.renderWatch(e,pt),li=[16,256],fi={};return o.dispatch=e,o.options=n.utils.optionsFunc.bind(o),o._calls=new function(){this.clearHighlights=function(){return n.dom.write(function(){y.selectAll(".nv-point.hover").classed("hover",!1)}),null};this.highlightPoint=function(t,i,r){n.dom.write(function(){y.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+i).classed("hover",r)})}},e.on("elementMouseover.point",function(n){d&&o._calls.highlightPoint(n.seriesIndex,n.pointIndex,!0)}),e.on("elementMouseout.point",function(n){d&&o._calls.highlightPoint(n.seriesIndex,n.pointIndex,!1)}),o._options=Object.create({},{width:{get:function(){return l},set:function(n){l=n}},height:{get:function(){return a},set:function(n){a=n}},xScale:{get:function(){return t},set:function(n){t=n}},yScale:{get:function(){return i},set:function(n){i=n}},pointScale:{get:function(){return s},set:function(n){s=n}},xDomain:{get:function(){return ct},set:function(n){ct=n}},yDomain:{get:function(){return rt},set:function(n){rt=n}},pointDomain:{get:function(){return vt},set:function(n){vt=n}},xRange:{get:function(){return lt},set:function(n){lt=n}},yRange:{get:function(){return at},set:function(n){at=n}},pointRange:{get:function(){return ri},set:function(n){ri=n}},forceX:{get:function(){return kt},set:function(n){kt=n}},forceY:{get:function(){return ot},set:function(n){ot=n}},forcePoint:{get:function(){return dt},set:function(n){dt=n}},interactive:{get:function(){return d},set:function(n){d=n}},pointActive:{get:function(){return it},set:function(n){it=n}},padDataOuter:{get:function(){return st},set:function(n){st=n}},padData:{get:function(){return gt},set:function(n){gt=n}},clipEdge:{get:function(){return ni},set:function(n){ni=n}},clipVoronoi:{get:function(){return ht},set:function(n){ht=n}},clipRadius:{get:function(){return ii},set:function(n){ii=n}},showVoronoi:{get:function(){return ti},set:function(n){ti=n}},id:{get:function(){return v},set:function(n){v=n}},interactiveUpdateDelay:{get:function(){return wt},set:function(n){wt=n}},showLabels:{get:function(){return ui},set:function(n){ui=n}},pointBorderColor:{get:function(){return bt},set:function(n){bt=n}},x:{get:function(){return u},set:function(n){u=d3.functor(n)}},y:{get:function(){return f},set:function(n){f=d3.functor(n)}},pointSize:{get:function(){return h},set:function(n){h=d3.functor(n)}},pointShape:{get:function(){return tt},set:function(n){tt=d3.functor(n)}},margin:{get:function(){return r},set:function(n){r.top=void 0!==n.top?n.top:r.top;r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},duration:{get:function(){return pt},set:function(n){pt=n;c.reset(pt)}},color:{get:function(){return p},set:function(t){p=n.utils.getColor(t)}},useVoronoi:{get:function(){return yt},set:function(n){yt=n;yt===!1&&(ht=!1)}}}),n.utils.initOptions(o),o};n.models.scatterChart=function(){"use strict";function t(st){return h.reset(),h.models(i),tt&&h.models(y),it&&h.models(l),g&&h.models(v),nt&&h.models(c),st.each(function(st){var yt,wt,kt,ni,dt,gt;if(u=d3.select(this),n.utils.initSVG(u),yt=n.utils.availableWidth(ut,u,r),wt=n.utils.availableHeight(d,u,r),t.update=function(){0===b?u.call(t):u.transition().duration(b).call(t)},t.container=this,s.setter(at(st),t.update).getter(lt(st)).update(),s.disabled=st.map(function(n){return!!n.disabled}),!p){p={};for(kt in s)p[kt]=s[kt]instanceof Array?s[kt].slice(0):s[kt]}if(!(st&&st.length&&st.filter(function(n){return n.values.length}).length))return n.utils.noData(t,u),h.renderEnd("scatter immediate"),t;u.selectAll(".nv-noData").remove();e=i.xScale();o=i.yScale();var pt=u.selectAll("g.nv-wrap.nv-scatterChart").data([st]),ti=pt.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+i.id()),vt=ti.append("g"),bt=pt.select("g");(vt.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),vt.append("g").attr("class","nv-x nv-axis"),vt.append("g").attr("class","nv-y nv-axis"),vt.append("g").attr("class","nv-scatterWrap"),vt.append("g").attr("class","nv-regressionLinesWrap"),vt.append("g").attr("class","nv-distWrap"),vt.append("g").attr("class","nv-legendWrap"),w&&bt.select(".nv-y.nv-axis").attr("transform","translate("+yt+",0)"),ft)?(ni=yt,a.width(ni),pt.select(".nv-legendWrap").datum(st).call(a),ot||a.height()===r.top||(r.top=a.height(),wt=n.utils.availableHeight(d,u,r)),pt.select(".nv-legendWrap").attr("transform","translate(0,"+-r.top+")")):bt.select(".nv-legendWrap").selectAll("*").remove();pt.attr("transform","translate("+r.left+","+r.top+")");i.width(yt).height(wt).color(st.map(function(n,t){return n.color=n.color||f(n,t),n.color}).filter(function(n,t){return!st[t].disabled})).showLabels(et);pt.select(".nv-scatterWrap").datum(st.filter(function(n){return!n.disabled})).call(i);pt.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+i.id()+")");dt=pt.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(n){return n});dt.enter().append("g").attr("class","nv-regLines");gt=dt.selectAll(".nv-regLine").data(function(n){return[n]});gt.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);gt.filter(function(n){return n.intercept&&n.slope}).watchTransition(h,"scatterPlusLineChart: regline").attr("x1",e.range()[0]).attr("x2",e.range()[1]).attr("y1",function(n){return o(e.domain()[0]*n.slope+n.intercept)}).attr("y2",function(n){return o(e.domain()[1]*n.slope+n.intercept)}).style("stroke",function(n,t,i){return f(n,i)}).style("stroke-opacity",function(n){return n.disabled||"undefined"==typeof n.slope||"undefined"==typeof n.intercept?0:1});tt&&(y.scale(e)._ticks(n.utils.calcTicksX(yt/100,st)).tickSize(-wt,0),bt.select(".nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")").call(y));it&&(l.scale(o)._ticks(n.utils.calcTicksY(wt/36,st)).tickSize(-yt,0),bt.select(".nv-y.nv-axis").call(l));g&&(v.getData(i.x()).scale(e).width(yt).color(st.map(function(n,t){return n.color||f(n,t)}).filter(function(n,t){return!st[t].disabled})),vt.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),bt.select(".nv-distributionX").attr("transform","translate(0,"+o.range()[0]+")").datum(st.filter(function(n){return!n.disabled})).call(v));nt&&(c.getData(i.y()).scale(o).width(wt).color(st.map(function(n,t){return n.color||f(n,t)}).filter(function(n,t){return!st[t].disabled})),vt.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),bt.select(".nv-distributionY").attr("transform","translate("+(w?yt:-c.size())+",0)").datum(st.filter(function(n){return!n.disabled})).call(c));a.dispatch.on("stateChange",function(n){for(var i in n)s[i]=n[i];rt.stateChange(s);t.update()});rt.on("changeState",function(n){"undefined"!=typeof n.disabled&&(st.forEach(function(t,i){t.disabled=n.disabled[i]}),s.disabled=n.disabled);t.update()});i.dispatch.on("elementMouseout.tooltip",function(n){k.hidden(!0);u.select(".nv-chart-"+i.id()+" .nv-series-"+n.seriesIndex+" .nv-distx-"+n.pointIndex).attr("y1",0);u.select(".nv-chart-"+i.id()+" .nv-series-"+n.seriesIndex+" .nv-disty-"+n.pointIndex).attr("x2",c.size())});i.dispatch.on("elementMouseover.tooltip",function(n){u.select(".nv-series-"+n.seriesIndex+" .nv-distx-"+n.pointIndex).attr("y1",n.relativePos[1]-wt);u.select(".nv-series-"+n.seriesIndex+" .nv-disty-"+n.pointIndex).attr("x2",n.relativePos[0]+v.size());k.data(n).hidden(!1)});ht=e.copy();ct=o.copy()}),h.renderEnd("scatter with line immediate"),t}var i=n.models.scatter(),y=n.models.axis(),l=n.models.axis(),a=n.models.legend(),v=n.models.distribution(),c=n.models.distribution(),k=n.models.tooltip(),r={top:30,right:20,bottom:50,left:75},ot=null,ut=null,d=null,u=null,f=n.utils.defaultColor(),e=i.xScale(),o=i.yScale(),g=!1,nt=!1,ft=!0,tt=!0,it=!0,w=!1,s=n.utils.state(),p=null,rt=d3.dispatch("stateChange","changeState","renderEnd"),st=null,b=250,et=!1;i.xScale(e).yScale(o);y.orient("bottom").tickPadding(10);l.orient(w?"right":"left").tickPadding(10);v.axis("x");c.axis("y");k.headerFormatter(function(n,t){return y.tickFormat()(n,t)}).valueFormatter(function(n,t){return l.tickFormat()(n,t)});var ht,ct,h=n.utils.renderWatch(rt,b),lt=function(n){return function(){return{active:n.map(function(n){return!n.disabled})}}},at=function(n){return function(t){void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};return t.dispatch=rt,t.scatter=i,t.legend=a,t.xAxis=y,t.yAxis=l,t.distX=v,t.distY=c,t.tooltip=k,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return ut},set:function(n){ut=n}},height:{get:function(){return d},set:function(n){d=n}},container:{get:function(){return u},set:function(n){u=n}},showDistX:{get:function(){return g},set:function(n){g=n}},showDistY:{get:function(){return nt},set:function(n){nt=n}},showLegend:{get:function(){return ft},set:function(n){ft=n}},showXAxis:{get:function(){return tt},set:function(n){tt=n}},showYAxis:{get:function(){return it},set:function(n){it=n}},defaultState:{get:function(){return p},set:function(n){p=n}},noData:{get:function(){return st},set:function(n){st=n}},duration:{get:function(){return b},set:function(n){b=n}},showLabels:{get:function(){return et},set:function(n){et=n}},margin:{get:function(){return r},set:function(n){void 0!==n.top&&(r.top=n.top,ot=n.top);r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},rightAlignYAxis:{get:function(){return w},set:function(n){w=n;l.orient(n?"right":"left")}},color:{get:function(){return f},set:function(t){f=n.utils.getColor(t);a.color(f);v.color(f);c.color(f)}}}),n.utils.inheritOptions(t,i),n.utils.initOptions(t),t};n.models.sparkline=function(){"use strict";function r(b){return d.reset(),b.each(function(r){var nt=a-t.left-t.right,tt=v-t.top-t.bottom,b,g,k,d;y=d3.select(this);n.utils.initSVG(y);f.domain(s||d3.extent(r,e)).range(c||[0,nt]);i.domain(h||d3.extent(r,u)).range(l||[tt,0]);b=y.selectAll("g.nv-wrap.nv-sparkline").data([r]);g=b.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");g.append("g");b.select("g");b.attr("transform","translate("+t.left+","+t.top+")");k=b.selectAll("path").data(function(n){return[n]});k.enter().append("path");k.exit().remove();k.style("stroke",function(n,t){return n.color||p(n,t)}).attr("d",d3.svg.line().x(function(n,t){return f(e(n,t))}).y(function(n,t){return i(u(n,t))}));d=b.selectAll("circle.nv-point").data(function(n){function t(t){if(-1!=t){var i=n[t];return i.pointIndex=t,i}return null}var r=n.map(function(n,t){return u(n,t)}),f=t(r.lastIndexOf(i.domain()[1])),e=t(r.indexOf(i.domain()[0])),s=t(r.length-1);return[o?e:null,o?f:null,w?s:null].filter(function(n){return null!=n})});d.enter().append("circle");d.exit().remove();d.attr("cx",function(n){return f(e(n,n.pointIndex))}).attr("cy",function(n){return i(u(n,n.pointIndex))}).attr("r",2).attr("class",function(n){return e(n,n.pointIndex)==f.domain()[1]?"nv-point nv-currentValue":u(n,n.pointIndex)==i.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),d.renderEnd("sparkline immediate"),r}var s,h,c,l,t={top:2,right:0,bottom:2,left:0},a=400,v=32,y=null,b=!0,f=d3.scale.linear(),i=d3.scale.linear(),e=function(n){return n.x},u=function(n){return n.y},p=n.utils.getColor(["#000"]),o=!0,w=!0,k=d3.dispatch("renderEnd"),d=n.utils.renderWatch(k);return r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return a},set:function(n){a=n}},height:{get:function(){return v},set:function(n){v=n}},xDomain:{get:function(){return s},set:function(n){s=n}},yDomain:{get:function(){return h},set:function(n){h=n}},xRange:{get:function(){return c},set:function(n){c=n}},yRange:{get:function(){return l},set:function(n){l=n}},xScale:{get:function(){return f},set:function(n){f=n}},yScale:{get:function(){return i},set:function(n){i=n}},animate:{get:function(){return b},set:function(n){b=n}},showMinMaxPoints:{get:function(){return o},set:function(n){o=n}},showCurrentPoint:{get:function(){return w},set:function(n){w=n}},x:{get:function(){return e},set:function(n){e=d3.functor(n)}},y:{get:function(){return u},set:function(n){u=d3.functor(n)}},margin:{get:function(){return t},set:function(n){t.top=void 0!==n.top?n.top:t.top;t.right=void 0!==n.right?n.right:t.right;t.bottom=void 0!==n.bottom?n.bottom:t.bottom;t.left=void 0!==n.left?n.left:t.left}},color:{get:function(){return p},set:function(t){p=n.utils.getColor(t)}}}),r.dispatch=k,n.utils.initOptions(r),r};n.models.sparklinePlus=function(){"use strict";function r(w){return y.reset(),y.models(i),w.each(function(y){function rt(){if(!e){var n=b.selectAll(".nv-hoverValue").data(u),r=n.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);n.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();n.attr("transform",function(n){return"translate("+s(i.x()(y[n],n))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);u.length&&(r.append("line").attr("x1",0).attr("y1",-t.top).attr("x2",0).attr("y2",d),r.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-t.top).attr("text-anchor","end").attr("dy",".9em"),b.select(".nv-hoverValue .nv-xValue").text(l(i.x()(y[u[0]],u[0]))),r.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-t.top).attr("text-anchor","start").attr("dy",".9em"),b.select(".nv-hoverValue .nv-yValue").text(o(i.y()(y[u[0]],u[0]))))}}function et(){function n(n,t){for(var u=Math.abs(i.x()(n[0],0)-t),f=0,r=0;r<n.length;r++)Math.abs(i.x()(n[r],r)-t)<u&&(u=Math.abs(i.x()(n[r],r)-t),f=r);return f}if(!e){var r=d3.mouse(this)[0]-t.left;u=[n(y,Math.round(s.invert(r)))];rt()}}var w=d3.select(this),k,d,nt,ut,ft,it;if(n.utils.initSVG(w),k=n.utils.availableWidth(h,w,t),d=n.utils.availableHeight(c,w,t),r.update=function(){w.call(r)},r.container=this,!y||!y.length)return n.utils.noData(r,w),r;w.selectAll(".nv-noData").remove();nt=i.y()(y[y.length-1],y.length-1);s=i.xScale();p=i.yScale();var tt=w.selectAll("g.nv-wrap.nv-sparklineplus").data([y]),ot=tt.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),g=ot.append("g"),b=tt.select("g");g.append("g").attr("class","nv-sparklineWrap");g.append("g").attr("class","nv-valueWrap");g.append("g").attr("class","nv-hoverArea");tt.attr("transform","translate("+t.left+","+t.top+")");ut=b.select(".nv-sparklineWrap");(i.width(k).height(d),ut.call(i),a)&&(ft=b.select(".nv-valueWrap"),it=ft.selectAll(".nv-currentValue").data([nt]),it.enter().append("text").attr("class","nv-currentValue").attr("dx",f?-8:8).attr("dy",".9em").style("text-anchor",f?"end":"start"),it.attr("x",k+(f?t.right:0)).attr("y",v?function(n){return p(n)}:0).style("fill",i.color()(y[y.length-1],y.length-1)).text(o(nt)));g.select(".nv-hoverArea").append("rect").on("mousemove",et).on("click",function(){e=!e}).on("mouseout",function(){u=[];rt()});b.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-t.left+","+-t.top+")"}).attr("width",k+t.left+t.right).attr("height",d+t.top)}),y.renderEnd("sparklinePlus immediate"),r}var s,p,i=n.models.sparkline(),t={top:15,right:100,bottom:10,left:50},h=null,c=null,u=[],e=!1,l=d3.format(",r"),o=d3.format(",.2f"),a=!0,v=!0,f=!1,w=null,b=d3.dispatch("renderEnd"),y=n.utils.renderWatch(b);return r.dispatch=b,r.sparkline=i,r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return h},set:function(n){h=n}},height:{get:function(){return c},set:function(n){c=n}},xTickFormat:{get:function(){return l},set:function(n){l=n}},yTickFormat:{get:function(){return o},set:function(n){o=n}},showLastValue:{get:function(){return a},set:function(n){a=n}},alignValue:{get:function(){return v},set:function(n){v=n}},rightAlignValue:{get:function(){return f},set:function(n){f=n}},noData:{get:function(){return w},set:function(n){w=n}},margin:{get:function(){return t},set:function(n){t.top=void 0!==n.top?n.top:t.top;t.right=void 0!==n.right?n.right:t.right;t.bottom=void 0!==n.bottom?n.bottom:t.bottom;t.left=void 0!==n.left?n.left:t.left}}}),n.utils.inheritOptions(r,i),n.utils.initOptions(r),r};n.models.stackedArea=function(){"use strict";function t(u){return e.reset(),e.models(i),u.each(function(u){var ut=p-r.left-r.right,ft=w-r.top-r.bottom,rt,et,ht;b=d3.select(this);n.utils.initSVG(b);y=i.xScale();h=i.yScale();rt=u;u.forEach(function(n,t){n.seriesIndex=t;n.values=n.values.map(function(n,i){return n.index=i,n.seriesIndex=t,n})});et=u.filter(function(n){return!n.disabled});u=d3.layout.stack().order(d).offset(k).values(function(n){return n.values}).x(o).y(s).out(function(n,t,i){n.display={y:i,y0:t}})(et);var tt=b.selectAll("g.nv-wrap.nv-stackedarea").data([u]),ot=tt.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),ct=ot.append("defs"),st=ot.append("g"),nt=tt.select("g");st.append("g").attr("class","nv-areaWrap");st.append("g").attr("class","nv-scatterWrap");tt.attr("transform","translate("+r.left+","+r.top+")");0==i.forceY().length&&i.forceY().push(0);i.width(ut).height(ft).x(o).y(function(n){if(void 0!==n.display)return n.display.y+n.display.y0}).color(u.map(function(n){return n.color=n.color||c(n,n.seriesIndex),n.color}));ht=nt.select(".nv-scatterWrap").datum(u);ht.call(i);ct.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect");tt.select("#nv-edge-clip-"+l+" rect").attr("width",ut).attr("height",ft);nt.attr("clip-path",g?"url(#nv-edge-clip-"+l+")":"");var lt=d3.svg.area().defined(v).x(function(n,t){return y(o(n,t))}).y0(function(n){return h(n.display.y0)}).y1(function(n){return h(n.display.y+n.display.y0)}).interpolate(a),at=d3.svg.area().defined(v).x(function(n,t){return y(o(n,t))}).y0(function(n){return h(n.display.y0)}).y1(function(n){return h(n.display.y0)}),it=nt.select(".nv-areaWrap").selectAll("path.nv-area").data(function(n){return n});it.enter().append("path").attr("class",function(n,t){return"nv-area nv-area-"+t}).attr("d",function(n){return at(n.values,n.seriesIndex)}).on("mouseover",function(n){d3.select(this).classed("hover",!0);f.areaMouseover({point:n,series:n.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:n.seriesIndex})}).on("mouseout",function(n){d3.select(this).classed("hover",!1);f.areaMouseout({point:n,series:n.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:n.seriesIndex})}).on("click",function(n){d3.select(this).classed("hover",!1);f.areaClick({point:n,series:n.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:n.seriesIndex})});it.exit().remove();it.style("fill",function(n){return n.color||c(n,n.seriesIndex)}).style("stroke",function(n){return n.color||c(n,n.seriesIndex)});it.watchTransition(e,"stackedArea path").attr("d",function(n,t){return lt(n.values,t)});i.dispatch.on("elementMouseover.area",function(n){nt.select(".nv-chart-"+l+" .nv-area-"+n.seriesIndex).classed("hover",!0)});i.dispatch.on("elementMouseout.area",function(n){nt.select(".nv-chart-"+l+" .nv-area-"+n.seriesIndex).classed("hover",!1)});t.d3_stackedOffset_stackPercent=function(n){for(var t,r,u=n.length,f=n[0].length,e=[],i=0;f>i;++i){for(t=0,r=0;t<rt.length;t++)r+=s(rt[t].values[i]);if(r)for(t=0;u>t;t++)n[t][i][1]/=r;else for(t=0;u>t;t++)n[t][i][1]=0}for(i=0;f>i;++i)e[i]=0;return e}}),e.renderEnd("stackedArea immediate"),t}var y,h,r={top:0,right:0,bottom:0,left:0},p=960,w=500,c=n.utils.defaultColor(),l=Math.floor(1e5*Math.random()),b=null,o=function(n){return n.x},s=function(n){return n.y},v=function(n,t){return!isNaN(s(n,t))&&null!==s(n,t)},nt="stack",k="zero",d="default",a="linear",g=!1,i=n.models.scatter(),u=250,f=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout"),e;return i.pointSize(2.2).pointDomain([2.2,2.2]),e=n.utils.renderWatch(f,u),t.dispatch=f,t.scatter=i,i.dispatch.on("elementClick",function(){f.elementClick.apply(this,arguments)}),i.dispatch.on("elementMouseover",function(){f.elementMouseover.apply(this,arguments)}),i.dispatch.on("elementMouseout",function(){f.elementMouseout.apply(this,arguments)}),t.interpolate=function(n){return arguments.length?(a=n,t):a},t.duration=function(n){return arguments.length?(u=n,e.reset(u),i.duration(u),t):u},t.dispatch=f,t.scatter=i,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return p},set:function(n){p=n}},height:{get:function(){return w},set:function(n){w=n}},defined:{get:function(){return v},set:function(n){v=n}},clipEdge:{get:function(){return g},set:function(n){g=n}},offset:{get:function(){return k},set:function(n){k=n}},order:{get:function(){return d},set:function(n){d=n}},interpolate:{get:function(){return a},set:function(n){a=n}},x:{get:function(){return o},set:function(n){o=d3.functor(n)}},y:{get:function(){return s},set:function(n){s=d3.functor(n)}},margin:{get:function(){return r},set:function(n){r.top=void 0!==n.top?n.top:r.top;r.right=void 0!==n.right?n.right:r.right;r.bottom=void 0!==n.bottom?n.bottom:r.bottom;r.left=void 0!==n.left?n.left:r.left}},color:{get:function(){return c},set:function(t){c=n.utils.getColor(t)}},style:{get:function(){return nt},set:function(n){switch(nt=n){case"stack":t.offset("zero");t.order("default");break;case"stream":t.offset("wiggle");t.order("inside-out");break;case"stream-center":t.offset("silhouette");t.order("inside-out");break;case"expand":t.offset("expand");t.order("default");break;case"stack_percent":t.offset(t.d3_stackedOffset_stackPercent);t.order("default")}}},duration:{get:function(){return u},set:function(n){u=n;e.reset(u);i.duration(u)}}}),n.utils.inheritOptions(t,i),n.utils.initOptions(t),t};n.models.stackedAreaChart=function(){"use strict";function i(ut){return tt.reset(),tt.models(t),b&&tt.models(c),it&&tt.models(e),ut.each(function(tt){function li(){b&&ut.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+wt+")").transition().duration(h).call(c)}function ai(){if(it){if("expand"===t.style()||"stack_percent"===t.style()){var n=e.tickFormat();g&&n===kt||(g=n);e.tickFormat(kt)}else g&&(e.tickFormat(g),g=null);ut.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(e)}}function vi(n){var i=ut.select(".nv-focus .nv-stackedWrap").datum(tt.filter(function(n){return!n.disabled}).map(function(i){return{key:i.key,area:i.area,classed:i.classed,values:i.values.filter(function(i,r){return t.x()(i,r)>=n[0]&&t.x()(i,r)<=n[1]}),disableTooltip:i.disableTooltip}}));i.transition().duration(h).call(t);li();ai()}var ni=d3.select(this),ti,wt,ui,ii,oi,si,yi,ri,hi,pi,wi,ci;if(n.utils.initSVG(ni),ti=n.utils.availableWidth(ct,ni,u),wt=n.utils.availableHeight(p,ni,u)-(a?r.height():0),i.update=function(){ni.transition().duration(h).call(i)},i.container=this,f.setter(gt(tt),i.update).getter(dt(tt)).update(),f.disabled=tt.map(function(n){return!!n.disabled}),!k){k={};for(ui in f)k[ui]=f[ui]instanceof Array?f[ui].slice(0):f[ui]}if(!(tt&&tt.length&&tt.filter(function(n){return n.values.length}).length))return n.utils.noData(i,ni),i;ni.selectAll(".nv-noData").remove();ht=t.xScale();yt=t.yScale();var fi=ni.selectAll("g.nv-wrap.nv-stackedAreaChart").data([tt]),ei=fi.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),ut=fi.select("g");ei.append("g").attr("class","nv-legendWrap");ei.append("g").attr("class","nv-controlsWrap");ii=ei.append("g").attr("class","nv-focus");(ii.append("g").attr("class","nv-background").append("rect"),ii.append("g").attr("class","nv-x nv-axis"),ii.append("g").attr("class","nv-y nv-axis"),ii.append("g").attr("class","nv-stackedWrap"),ii.append("g").attr("class","nv-interactive"),ei.append("g").attr("class","nv-focusWrap"),et)?(oi=ft&&"top"===w?ti-vt:ti,(o.width(oi),ut.select(".nv-legendWrap").datum(tt).call(o),"bottom"===w)?(si=(b?12:0)+10,u.bottom=Math.max(o.height()+si,u.bottom),wt=n.utils.availableHeight(p,ni,u)-(a?r.height():0),yi=wt+si,ut.select(".nv-legendWrap").attr("transform","translate(0,"+yi+")")):"top"===w&&(pt||u.top==o.height()||(u.top=o.height(),wt=n.utils.availableHeight(p,ni,u)-(a?r.height():0)),ut.select(".nv-legendWrap").attr("transform","translate("+(ti-oi)+","+-u.top+")"))):ut.select(".nv-legendWrap").selectAll("*").remove();ft?(ri=[{key:d.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=t.style(),style:"stack"},{key:d.stream||"Stream",metaKey:"Stream",disabled:"stream"!=t.style(),style:"stream"},{key:d.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=t.style(),style:"expand"},{key:d.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=t.style(),style:"stack_percent"}],vt=st.length/3*260,ri=ri.filter(function(n){return-1!==st.indexOf(n.metaKey)}),y.width(vt).color(["#444","#444","#444"]),ut.select(".nv-controlsWrap").datum(ri).call(y),hi=Math.max(y.height(),et&&"top"===w?o.height():0),u.top!=hi&&(u.top=hi,wt=n.utils.availableHeight(p,ni,u)-(a?r.height():0)),ut.select(".nv-controlsWrap").attr("transform","translate(0,"+-u.top+")")):ut.select(".nv-controlsWrap").selectAll("*").remove();fi.attr("transform","translate("+u.left+","+u.top+")");rt&&ut.select(".nv-y.nv-axis").attr("transform","translate("+ti+",0)");lt&&(s.width(ti).height(wt).margin({left:u.left,top:u.top}).svgContainer(ni).xScale(ht),fi.select(".nv-interactive").call(s));ut.select(".nv-focus .nv-background rect").attr("width",ti).attr("height",wt);t.width(ti).height(wt).color(tt.map(function(n,t){return n.color||l(n,t)}).filter(function(n,t){return!tt[t].disabled}));pi=ut.select(".nv-focus .nv-stackedWrap").datum(tt.filter(function(n){return!n.disabled}));(b&&c.scale(ht)._ticks(n.utils.calcTicksX(ti/100,tt)).tickSize(-wt,0),it)&&(wi="wiggle"===t.offset()?0:n.utils.calcTicksY(wt/36,tt),e.scale(yt)._ticks(wi).tickSize(-ti,0));a?(r.width(ti),ut.select(".nv-focusWrap").attr("transform","translate(0,"+(wt+u.bottom+r.margin().top)+")").datum(tt.filter(function(n){return!n.disabled})).call(r),ci=r.brush.empty()?r.xDomain():r.brush.extent(),null!==ci&&vi(ci)):(pi.transition().call(t),li(),ai());t.dispatch.on("areaClick.toggle",function(n){1===tt.filter(function(n){return!n.disabled}).length?tt.forEach(function(n){n.disabled=!1}):tt.forEach(function(t,i){t.disabled=i!=n.seriesIndex});f.disabled=tt.map(function(n){return!!n.disabled});v.stateChange(f);i.update()});o.dispatch.on("stateChange",function(n){for(var t in n)f[t]=n[t];v.stateChange(f);i.update()});y.dispatch.on("legendClick",function(n){n.disabled&&(ri=ri.map(function(n){return n.disabled=!0,n}),n.disabled=!1,t.style(n.style),f.style=t.style(),v.stateChange(f),i.update())});s.dispatch.on("elementMousemove",function(r){var e,h,p,o;t.clearHighlights();var c,u,a,f=[],v=0,y=!0;(tt.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(e,o){var s,p,h;u=n.interactiveBisect(e.values,r.pointXValue,i.x());s=e.values[u];p=i.y()(s,u);(null!=p&&p>0&&t.highlightPoint(o,u,!0),o!==tt.length-1||atleastOnePoint||t.highlightPoint(o,u,!0),"undefined"!=typeof s)&&("undefined"==typeof c&&(c=s),"undefined"==typeof a&&(a=i.xScale()(i.x()(s,u))),h="expand"==t.style()?s.display.y:i.y()(s,u),f.push({key:e.key,value:h,color:l(e,e.seriesIndex),point:s}),ot&&"expand"!=t.style()&&null!=h&&(v+=h,y=!1))}),f.reverse(),f.length>2)&&(e=i.yScale().invert(r.mouseY),h=null,f.forEach(function(n,t){e=Math.abs(e);var i=Math.abs(n.point.display.y0),r=Math.abs(n.point.display.y);e>=i&&r+i>=e}),null!=h&&(f[h].highlight=!0));ot&&"expand"!=t.style()&&f.length>=2&&!y&&f.push({key:at,value:v,total:!0});p=i.x()(c,u);o=s.tooltip.valueFormatter();"expand"===t.style()||"stack_percent"===t.style()?(nt||(nt=o),o=d3.format(".1%")):nt&&(o=nt,nt=null);s.tooltip.valueFormatter(o).data({value:p,series:f})();s.renderGuideLine(a)});s.dispatch.on("elementMouseout",function(){t.clearHighlights()});r.dispatch.on("onBrush",function(n){vi(n)});v.on("changeState",function(n){"undefined"!=typeof n.disabled&&tt.length===n.disabled.length&&(tt.forEach(function(t,i){t.disabled=n.disabled[i]}),f.disabled=n.disabled);"undefined"!=typeof n.style&&(t.style(n.style),bt=n.style);i.update()})}),tt.renderEnd("stacked Area chart immediate"),i}var ht,yt,t=n.models.stackedArea(),c=n.models.axis(),e=n.models.axis(),o=n.models.legend(),y=n.models.legend(),s=n.interactiveGuideline(),ut=n.models.tooltip(),r=n.models.focus(n.models.stackedArea()),u={top:10,right:25,bottom:50,left:60},pt=null,ct=null,p=null,l=n.utils.defaultColor(),ft=!0,et=!0,w="top",b=!0,it=!0,rt=!1,a=!1,lt=!1,ot=!0,at="TOTAL",f=n.utils.state(),k=null,wt=null,v=d3.dispatch("stateChange","changeState","renderEnd"),vt=250,st=["Stacked","Stream","Expanded"],d={},h=250,g,nt;f.style=t.style();c.orient("bottom").tickPadding(7);e.orient(rt?"right":"left");ut.headerFormatter(function(n,t){return c.tickFormat()(n,t)}).valueFormatter(function(n,t){return e.tickFormat()(n,t)});s.tooltip.headerFormatter(function(n,t){return c.tickFormat()(n,t)}).valueFormatter(function(n,t){return null==n?"N/A":e.tickFormat()(n,t)});g=null;nt=null;y.updateState(!1);var tt=n.utils.renderWatch(v),bt=t.style(),dt=function(n){return function(){return{active:n.map(function(n){return!n.disabled}),style:t.style()}}},gt=function(n){return function(t){void 0!==t.style&&(bt=t.style);void 0!==t.active&&n.forEach(function(n,i){n.disabled=!t.active[i]})}},kt=d3.format("%");return t.dispatch.on("elementMouseover.tooltip",function(n){n.point.x=t.x()(n.point);n.point.y=t.y()(n.point);ut.data(n).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(){ut.hidden(!0)}),i.dispatch=v,i.stacked=t,i.legend=o,i.controls=y,i.xAxis=c,i.x2Axis=r.xAxis,i.yAxis=e,i.y2Axis=r.yAxis,i.interactiveLayer=s,i.tooltip=ut,i.focus=r,i.dispatch=v,i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return ct},set:function(n){ct=n}},height:{get:function(){return p},set:function(n){p=n}},showLegend:{get:function(){return et},set:function(n){et=n}},legendPosition:{get:function(){return w},set:function(n){w=n}},showXAxis:{get:function(){return b},set:function(n){b=n}},showYAxis:{get:function(){return it},set:function(n){it=n}},defaultState:{get:function(){return k},set:function(n){k=n}},noData:{get:function(){return wt},set:function(n){wt=n}},showControls:{get:function(){return ft},set:function(n){ft=n}},controlLabels:{get:function(){return d},set:function(n){d=n}},controlOptions:{get:function(){return st},set:function(n){st=n}},showTotalInTooltip:{get:function(){return ot},set:function(n){ot=n}},totalLabel:{get:function(){return at},set:function(n){at=n}},focusEnable:{get:function(){return a},set:function(n){a=n}},focusHeight:{get:function(){return r.height()},set:function(n){r.height(n)}},brushExtent:{get:function(){return r.brushExtent()},set:function(n){r.brushExtent(n)}},margin:{get:function(){return u},set:function(n){void 0!==n.top&&(u.top=n.top,pt=n.top);u.right=void 0!==n.right?n.right:u.right;u.bottom=void 0!==n.bottom?n.bottom:u.bottom;u.left=void 0!==n.left?n.left:u.left}},focusMargin:{get:function(){return r.margin},set:function(n){r.margin.top=void 0!==n.top?n.top:r.margin.top;r.margin.right=void 0!==n.right?n.right:r.margin.right;r.margin.bottom=void 0!==n.bottom?n.bottom:r.margin.bottom;r.margin.left=void 0!==n.left?n.left:r.margin.left}},duration:{get:function(){return h},set:function(n){h=n;tt.reset(h);t.duration(h);c.duration(h);e.duration(h)}},color:{get:function(){return l},set:function(i){l=n.utils.getColor(i);o.color(l);t.color(l);r.color(l)}},x:{get:function(){return t.x()},set:function(n){t.x(n);r.x(n)}},y:{get:function(){return t.y()},set:function(n){t.y(n);r.y(n)}},rightAlignYAxis:{get:function(){return rt},set:function(n){rt=n;e.orient(rt?"right":"left")}},useInteractiveGuideline:{get:function(){return lt},set:function(n){lt=!!n;i.interactive(!n);i.useVoronoi(!n);t.scatter.interactive(!n)}}}),n.utils.inheritOptions(i,t),n.utils.initOptions(i),i};n.models.stackedAreaWithFocusChart=function(){return n.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)};n.models.sunburst=function(){"use strict";function ft(n){var t=b(n);return t>90?180:0}function b(n){var t=Math.max(0,Math.min(2*Math.PI,r(n.x))),i=Math.max(0,Math.min(2*Math.PI,r(n.x+n.dx)));return(t+i)/2*(180/Math.PI)-90}function lt(n){var t=Math.max(0,Math.min(2*Math.PI,r(n.x))),i=Math.max(0,Math.min(2*Math.PI,r(n.x+n.dx)));return(i-t)/(2*Math.PI)}function et(n){var t=Math.max(0,Math.min(2*Math.PI,r(n.x))),i=Math.max(0,Math.min(2*Math.PI,r(n.x+n.dx))),u=i-t;return u>it}function at(n,t){var u=d3.interpolate(r.domain(),[s.x,s.x+s.dx]),f=d3.interpolate(i.domain(),[s.y,1]),e=d3.interpolate(i.range(),[s.y?20:0,k]);return 0===t?function(){return w(n)}:function(t){return r.domain(u(t)),i.domain(f(t)).range(e(t)),w(n)}}function vt(n){var t=d3.interpolate({x:n.x0,dx:n.dx0,y:n.y0,dy:n.dy0},n);return function(i){var r=t(i);return n.x0=r.x,n.dx0=r.dx,n.y0=r.y,n.dy0=r.dy,w(r)}}function yt(n){var i=h(n),t;c[i]||(c[i]={});t=c[i];t.dx=n.dx;t.x=n.x;t.dy=n.dy;t.y=n.y}function pt(n){n.forEach(function(n){var i=h(n),t=c[i];t?(n.dx0=t.dx,n.x0=t.x,n.dy0=t.dy,n.y0=t.y):(n.dx0=n.dx,n.x0=n.x,n.dy0=n.dy,n.y0=n.y);yt(n)})}function ot(n){var t=u.selectAll("text"),r=u.selectAll("path");t.transition().attr("opacity",0);s=n;r.transition().duration(e).attrTween("d",at).each("end",function(t){if(t.x>=n.x&&t.x<n.x+n.dx&&t.depth>=n.depth){var r=d3.select(this.parentNode),u=r.select("text");u.transition().duration(e).text(function(n){return p(n)}).attr("opacity",function(n){return et(n)?1:0}).attr("transform",function(){var f=this.getBBox().width,r,u;return 0===t.depth?"translate("+f/-2+",0)":t.depth===n.depth?"translate("+(i(t.y)+5)+",0)":(r=b(t),u=ft(t),0===u?"rotate("+r+")translate("+(i(t.y)+5)+",0)":"rotate("+r+")translate("+(i(t.y)+f+5)+",0)rotate("+u+")")})}})}function f(r){return ct.reset(),r.each(function(r){var s,it,f,rt;u=d3.select(this);l=n.utils.availableWidth(d,u,t);a=n.utils.availableHeight(g,u,t);k=Math.min(l,a)/2;i.range([0,k]);s=u.select("g.nvd3.nv-wrap.nv-sunburst");s[0][0]?s.attr("transform","translate("+(l/2+t.left+t.right)+","+(a/2+t.top+t.bottom)+")"):s=u.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+y).attr("transform","translate("+(l/2+t.left+t.right)+","+(a/2+t.top+t.bottom)+")");u.on("click",function(n,t){o.chartClick({data:n,index:t,pos:d3.event,id:y})});ht.value(st[v]||st.count);it=ht.nodes(r[0]).reverse();pt(it);f=s.selectAll(".arc-container").data(it,h);rt=f.enter().append("g").attr("class","arc-container");rt.append("path").attr("d",w).style("fill",function(n){return n.color?n.color:nt(ut?(n.children?n:n.parent).name:n.name)}).style("stroke","#FFF").on("click",function(n,t){ot(n);o.elementClick({data:n,index:t})}).on("mouseover",function(n){d3.select(this).classed("hover",!0).style("opacity",.8);o.elementMouseover({data:n,color:d3.select(this).style("fill"),percent:lt(n)})}).on("mouseout",function(n){d3.select(this).classed("hover",!1).style("opacity",1);o.elementMouseout({data:n})}).on("mousemove",function(n){o.elementMousemove({data:n})});f.each(function(){d3.select(this).select("path").transition().duration(e).attrTween("d",vt)});tt&&(f.selectAll("text").remove(),f.append("text").text(function(n){return p(n)}).transition().duration(e).attr("opacity",function(n){return et(n)?1:0}).attr("transform",function(n){var u=this.getBBox().width,t,r;return 0===n.depth?"rotate(0)translate("+u/-2+",0)":(t=b(n),r=ft(n),0===r?"rotate("+t+")translate("+(i(n.y)+5)+",0)":"rotate("+t+")translate("+(i(n.y)+u+5)+",0)rotate("+r+")")}));ot(it[it.length-1]);f.exit().transition().duration(e).attr("opacity",0).each("end",function(n){var t=h(n);c[t]=void 0}).remove()}),ct.renderEnd("sunburst immediate"),f}var s,l,a,k,t={top:0,right:0,bottom:0,left:0},d=600,g=600,v="count",st={count:function(){return 1},value:function(n){return n.value||n.size},size:function(n){return n.value||n.size}},y=Math.floor(1e4*Math.random()),u=null,nt=n.utils.defaultColor(),tt=!1,p=function(n){return"count"===v?n.name+" #"+n.value:n.name+" "+(n.value||n.size)},it=.02,rt=function(n,t){return n.name>t.name},h=function(n,t){return void 0!==n.parent?n.name+"-"+n.parent.name+"-"+t:n.name},ut=!0,e=500,o=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),r=d3.scale.linear().range([0,2*Math.PI]),i=d3.scale.sqrt(),ht=d3.layout.partition().sort(rt),c={},w=d3.svg.arc().startAngle(function(n){return Math.max(0,Math.min(2*Math.PI,r(n.x)))}).endAngle(function(n){return Math.max(0,Math.min(2*Math.PI,r(n.x+n.dx)))}).innerRadius(function(n){return Math.max(0,i(n.y))}).outerRadius(function(n){return Math.max(0,i(n.y+n.dy))}),ct=n.utils.renderWatch(o);return f.dispatch=o,f.options=n.utils.optionsFunc.bind(f),f._options=Object.create({},{width:{get:function(){return d},set:function(n){d=n}},height:{get:function(){return g},set:function(n){g=n}},mode:{get:function(){return v},set:function(n){v=n}},id:{get:function(){return y},set:function(n){y=n}},duration:{get:function(){return e},set:function(n){e=n}},groupColorByParent:{get:function(){return ut},set:function(n){ut=!!n}},showLabels:{get:function(){return tt},set:function(n){tt=!!n}},labelFormat:{get:function(){return p},set:function(n){p=n}},labelThreshold:{get:function(){return it},set:function(n){it=n}},sort:{get:function(){return rt},set:function(n){rt=n}},key:{get:function(){return h},set:function(n){h=n}},margin:{get:function(){return t},set:function(n){t.top=void 0!=n.top?n.top:t.top;t.right=void 0!=n.right?n.right:t.right;t.bottom=void 0!=n.bottom?n.bottom:t.bottom;t.left=void 0!=n.left?n.left:t.left}},color:{get:function(){return nt},set:function(t){nt=n.utils.getColor(t)}}}),n.utils.initOptions(f),f};n.models.sunburstChart=function(){"use strict";function t(f){return e.reset(),e.models(r),f.each(function(f){var e=d3.select(this),o,s;return n.utils.initSVG(e),o=n.utils.availableWidth(a,e,i),s=n.utils.availableHeight(v,e,i),t.update=function(){0===u?e.call(t):e.transition().duration(u).call(t)},t.container=e,f&&f.length?(e.selectAll(".nv-noData").remove(),r.width(o).height(s).margin(i),void e.call(r)):(n.utils.noData(t,e),t)}),e.renderEnd("sunburstChart immediate"),t}var r=n.models.sunburst(),f=n.models.tooltip(),i={top:30,right:20,bottom:20,left:20},a=null,v=null,o=n.utils.defaultColor(),s=!1,h=(Math.round(1e5*Math.random()),null),c=null,u=250,l=d3.dispatch("stateChange","changeState","renderEnd"),e=n.utils.renderWatch(l);return f.duration(0).headerEnabled(!1).valueFormatter(function(n){return n}),r.dispatch.on("elementMouseover.tooltip",function(n){n.series={key:n.data.name,value:n.data.value||n.data.size,color:n.color,percent:n.percent};s||(delete n.percent,delete n.series.percent);f.data(n).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(){f.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(){f()}),t.dispatch=l,t.sunburst=r,t.tooltip=f,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{noData:{get:function(){return c},set:function(n){c=n}},defaultState:{get:function(){return h},set:function(n){h=n}},showTooltipPercent:{get:function(){return s},set:function(n){s=n}},color:{get:function(){return o},set:function(n){o=n;r.color(o)}},duration:{get:function(){return u},set:function(n){u=n;e.reset(u);r.duration(u)}},margin:{get:function(){return i},set:function(n){i.top=void 0!==n.top?n.top:i.top;i.right=void 0!==n.right?n.right:i.right;i.bottom=void 0!==n.bottom?n.bottom:i.bottom;i.left=void 0!==n.left?n.left:i.left;r.margin(i)}}}),n.utils.inheritOptions(t,r),n.utils.initOptions(t),t};n.version="1.8.5-dev"}();!function(n){"use strict";var t=n.nv;"undefined"!=typeof exports&&(t=require("nvd3"));angular.module("nvd3",[]).directive("nvd3",["nvd3Utils",function(n){return{restrict:"AE",scope:{data:"=",options:"=",api:"=?",events:"=?",config:"=?",onReady:"&?"},link:function(i,r){function f(n,t,r){n&&t&&angular.forEach(n,function(u,o){"_"===o[0]||("dispatch"===o?(void 0!==t[o]&&null!==t[o]||i._config.extended&&(t[o]={}),e(u,t[o])):"tooltip"===o?(void 0!==t[o]&&null!==t[o]||i._config.extended&&(t[o]={}),f(n[o],t[o],r)):"contentGenerator"===o?t[o]&&n[o](t[o]):-1===["axis","clearHighlights","defined","highlightPoint","nvPointerEventsClass","options","rangeBand","rangeBands","scatter","open","close","node"].indexOf(o)&&(void 0===t[o]||null===t[o]?i._config.extended&&(t[o]=u()):n[o](t[o])))})}function e(n,t){n&&t&&angular.forEach(n,function(r,u){void 0===t[u]||null===t[u]?i._config.extended&&(t[u]=r.on):n.on(u+"._",t[u])})}function u(t){var u=n.deepExtend(c(t),i.options[t]||{}),f;i._config.extended&&(i.options[t]=u);f=angular.element("<div><\/div>").html(u.html||"").addClass(t).addClass(u.className).removeAttr("style").css(u.css);u.html||f.text(u.text);u.enable&&("title"===t?r.prepend(f):"subtitle"===t?angular.element(r[0].querySelector(".title")).after(f):"caption"===t&&r.append(f))}function h(){var t=n.deepExtend(l(),i.options.styles||{});i._config.extended&&(i.options.styles=t);angular.forEach(t.classes,function(n,t){n?r.addClass(t):r.removeClass(t)});r.removeAttr("style").css(t.css)}function c(n){switch(n){case"title":return{enable:!1,text:"Write Your Title",className:"h4",css:{width:i.options.chart.width+"px",textAlign:"center"}};case"subtitle":return{enable:!1,text:"Write Your Subtitle",css:{width:i.options.chart.width+"px",textAlign:"center"}};case"caption":return{enable:!1,text:"Figure 1. Write Your Caption text.",css:{width:i.options.chart.width+"px",textAlign:"center"}}}}function l(){return{classes:{"with-3d-shadow":!0,"with-transitions":!0,gallery:!1},css:{}}}function o(n,t){n!==t&&(i._config.disabled||(i._config.refreshDataOnly?i.api.update():i.api.refresh()))}var s={extended:!1,visible:!0,disabled:!1,refreshDataOnly:!0,deepWatchOptions:!0,deepWatchData:!0,deepWatchDataDepth:2,debounce:10,debounceImmediate:!0};i.isReady=!1;i._config=angular.extend(s,i.config);i.api={refresh:function(){i.api.updateWithOptions();i.isReady=!0},refreshWithTimeout:function(n){setTimeout(function(){i.api.refresh()},n)},update:function(){i.chart&&i.svg?"sunburstChart"===i.options.chart.type?i.svg.datum(angular.copy(i.data)).call(i.chart):i.svg.datum(i.data).call(i.chart):i.api.refresh()},updateWithTimeout:function(n){setTimeout(function(){i.api.update()},n)},updateWithOptions:function(r){if(arguments.length){if(i.options=r,i._config.deepWatchOptions&&!i._config.disabled)return}else r=i.options;i.api.clearElement();angular.isDefined(r)!==!1&&i._config.visible&&(i.chart=t.models[r.chart.type](),i.chart.id=Math.random().toString(36).substr(2,15),angular.forEach(i.chart,function(n,t){"_"===t[0]||["clearHighlights","highlightPoint","id","options","resizeHandler","state","open","close","tooltipContent"].indexOf(t)>=0||("dispatch"===t?(void 0!==r.chart[t]&&null!==r.chart[t]||i._config.extended&&(r.chart[t]={}),e(i.chart[t],r.chart[t])):["bars","bars1","bars2","boxplot","bullet","controls","discretebar","distX","distY","focus","interactiveLayer","legend","lines","lines1","lines2","multibar","pie","scatter","scatters1","scatters2","sparkline","stack1","stack2","sunburst","tooltip","x2Axis","xAxis","y1Axis","y2Axis","y3Axis","y4Axis","yAxis","yAxis1","yAxis2"].indexOf(t)>=0||"stacked"===t&&"stackedAreaChart"===r.chart.type?(void 0!==r.chart[t]&&null!==r.chart[t]||i._config.extended&&(r.chart[t]={}),f(i.chart[t],r.chart[t],r.chart.type)):"focusHeight"===t&&"lineChart"===r.chart.type||"focusHeight"===t&&"lineWithFocusChart"===r.chart.type||("xTickFormat"!==t&&"yTickFormat"!==t||"lineWithFocusChart"!==r.chart.type)&&("tooltips"===t&&"boxPlotChart"===r.chart.type||("tooltipXContent"!==t&&"tooltipYContent"!==t||"scatterChart"!==r.chart.type)&&("x"!==t&&"y"!==t||"forceDirectedGraph"!==r.chart.type)&&(void 0===r.chart[t]||null===r.chart[t]?i._config.extended&&(r.chart[t]="barColor"===t?n()():n()):i.chart[t](r.chart[t]))))}),i.api.updateWithData(),(r.title||i._config.extended)&&u("title"),(r.subtitle||i._config.extended)&&u("subtitle"),(r.caption||i._config.extended)&&u("caption"),(r.styles||i._config.extended)&&h(),t.addGraph(function(){if(i.chart)return(i.chart.resizeHandler&&i.chart.resizeHandler.clear(),i.chart.resizeHandler=t.utils.windowResize(function(){i.chart&&i.chart.update&&i.chart.update()}),void 0!==r.chart.zoom&&["scatterChart","lineChart","candlestickBarChart","cumulativeLineChart","historicalBarChart","ohlcBarChart","stackedAreaChart"].indexOf(r.chart.type)>-1&&n.zoom(i,r),i.chart)},r.chart.callback))},updateWithData:function(n){if(arguments.length){if(i.data=n,i._config.deepWatchData&&!i._config.disabled)return}else n="sunburstChart"===i.options.chart.type?angular.copy(i.data):i.data;if(n){d3.select(r[0]).select("svg").remove();var t,u;i.svg=d3.select(r[0]).insert("svg",".caption");(t=i.options.chart.height)&&(isNaN(+t)||(t+="px"),i.svg.attr("height",t).style({height:t}));(u=i.options.chart.width)?(isNaN(+u)||(u+="px"),i.svg.attr("width",u).style({width:u})):i.svg.attr("width","100%").style({width:"100%"});i.svg.datum(n).call(i.chart);i.chart&&i.chart.zoomRender&&i.chart.zoomRender()}},clearElement:function(){if(r.find(".title").remove(),r.find(".subtitle").remove(),r.find(".caption").remove(),r.empty(),i.chart&&i.chart.tooltip&&i.chart.tooltip.id&&d3.select("#"+i.chart.tooltip.id()).remove(),t.graphs&&i.chart)for(var n=t.graphs.length-1;n>=0;n--)t.graphs[n]&&t.graphs[n].id===i.chart.id&&t.graphs.splice(n,1);t.tooltip&&t.tooltip.cleanup&&t.tooltip.cleanup();i.chart&&i.chart.resizeHandler&&i.chart.resizeHandler.clear();i.chart=null},getScope:function(){return i},getElement:function(){return r}};i._config.deepWatchOptions&&i.$watch("options",n.debounce(function(){i._config.disabled||i.api.refresh()},i._config.debounce,i._config.debounceImmediate),!0);i._config.deepWatchData&&(1===i._config.deepWatchDataDepth?i.$watchCollection("data",o):i.$watch("data",o,2===i._config.deepWatchDataDepth));i.$watch("config",function(n,t){n!==t&&(i._config=angular.extend(s,n),i.api.refresh())},!0);i._config.deepWatchOptions||i._config.deepWatchData||i.api.refresh();angular.forEach(i.events,function(n,t){i.$on(t,function(t,r){return n(t,i,r)})});r.on("$destroy",function(){i.api.clearElement()});i.$watch("isReady",function(n){n&&i.onReady&&"function"==typeof i.onReady()&&i.onReady()(i,r)})}}}]).factory("nvd3Utils",function(){return{debounce:function(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;i||n.apply(u,f)},o=i&&!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(u,f)}},deepExtend:function(n){var t=this;return angular.forEach(arguments,function(i){i!==n&&angular.forEach(i,function(i,r){n[r]&&n[r].constructor&&n[r].constructor===Object?t.deepExtend(n[r],i):n[r]=i})}),n},zoom:function(n,t){var i=t.chart.zoom,nt="undefined"==typeof i.enabled||null===i.enabled?!0:i.enabled;if(nt){var l,f,k,a,d,r=n.chart.xAxis.scale(),u=n.chart.yAxis.scale(),e=n.chart.xDomain||r.domain,o=n.chart.yDomain||u.domain,v=r.domain().slice(),y=u.domain().slice(),p=i.scale||1,w=i.translate||[0,0],b=i.scaleExtent||[1,10],g=i.useFixedDomain||!1,tt=i.useNiceScale||!1,s=i.horizontalOff||!1,h=i.verticalOff||!1,c=i.unzoomEventType||"dblclick.zoom";tt&&(r.nice(),u.nice());l=function(n,t){return n[0]=Math.min(Math.max(n[0],t[0]),t[1]-t[1]/b[1]),n[1]=Math.max(t[0]+t[1]/b[1],Math.min(n[1],t[1])),n};k=function(){if(void 0!==i.zoomed){var t=i.zoomed(r.domain(),u.domain());s||e([t.x1,t.x2]);h||o([t.y1,t.y2])}else s||e(g?l(r.domain(),v):r.domain()),h||o(g?l(u.domain(),y):u.domain());n.chart&&n.chart.update()};a=function(){if(void 0!==i.unzoomed){var t=i.unzoomed(r.domain(),u.domain());s||e([t.x1,t.x2]);h||o([t.y1,t.y2])}else s||e(v),h||o(y);f.scale(p).translate(w);n.chart&&n.chart.update()};d=function(){void 0!==i.zoomend&&i.zoomend()};f=d3.behavior.zoom().x(r).y(u).scaleExtent(b).on("zoom",k).on("zoomend",d);n.svg&&(n.svg.call(f),f.scale(p).translate(w).event(n.svg),"none"!==c&&n.svg.on(c,a));n.chart&&(n.chart.zoomRender=function(){f.scale(p).translate(w);r=n.chart.xAxis.scale();u=n.chart.yAxis.scale();e=n.chart.xDomain||r.domain;o=n.chart.yDomain||u.domain;v=r.domain().slice();y=u.domain().slice();f.x(r).y(u);n.svg.call(f);"none"!==c&&n.svg.on(c,a)})}}}})}(window);duScrollDefaultEasing=function(n){"use strict";return.5>n?Math.pow(2*n,2)/2:1-Math.pow(2*(1-n),2)/2};duScroll=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");"undefined"!=typeof module&&module&&module.exports&&(module.exports=duScroll);angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(n,t,i,r,u,f,e,o){"use strict";var s={},a=function(n){return"undefined"!=typeof HTMLDocument&&n instanceof HTMLDocument||n.nodeType&&n.nodeType===n.DOCUMENT_NODE},v=function(n){return"undefined"!=typeof HTMLElement&&n instanceof HTMLElement||n.nodeType&&n.nodeType===n.ELEMENT_NODE},l=function(n){return v(n)||a(n)?n:n[0]},h,c;s.duScrollTo=function(t,i,r){var u,f;return(angular.isElement(t)?u=this.duScrollToElement:angular.isDefined(r)&&(u=this.duScrollToAnimated),u)?u.apply(this,arguments):(f=l(this),a(f)?n.scrollTo(t,i):(f.scrollLeft=t,void(f.scrollTop=i)))};s.duScrollToAnimated=function(n,f,e,s){var b;e&&!s&&(s=u);var y=this.duScrollLeft(),p=this.duScrollTop(),k=Math.round(n-y),d=Math.round(f-p),w=null,a=0,l=this,v=function(n){(!n||a&&n.which>0)&&(o&&l.unbind(o,v),i(h),c.reject(),h=null)};return(h&&v(),c=t.defer(),0===e||!k&&!d)?(0===e&&l.duScrollTo(n,f),c.resolve(),c.promise):(b=function(n){null===w&&(w=n);a=n-w;var t=a>=e?1:s(a/e);l.scrollTo(y+Math.ceil(k*t),p+Math.ceil(d*t));1>t?h=r(b):(o&&l.unbind(o,v),h=null,c.resolve())},l.duScrollTo(y,p),o&&l.bind(o,v),h=r(b),c.promise)};s.duScrollToElement=function(n,t,i,r){var f=l(this),u;return(!angular.isNumber(t)||isNaN(t))&&(t=e),u=this.duScrollTop()+l(n).getBoundingClientRect().top-t,v(f)&&(u-=f.getBoundingClientRect().top),this.duScrollTo(0,u,i,r)};s.duScrollLeft=function(t,i,r){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),i,r);var u=l(this);return a(u)?n.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:u.scrollLeft};s.duScrollTop=function(t,i,r){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,i,r);var u=l(this);return a(u)?n.scrollY||document.documentElement.scrollTop||document.body.scrollTop:u.scrollTop};s.duScrollToElementAnimated=function(n,t,i,r){return this.duScrollToElement(n,t,i||f,r)};s.duScrollTopAnimated=function(n,t,i){return this.duScrollTop(n,t||f,i)};s.duScrollLeftAnimated=function(n,t,i){return this.duScrollLeft(n,t||f,i)};angular.forEach(s,function(n,t){angular.element.prototype[t]=n;var i=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[i])&&(angular.element.prototype[i]=n)})}]);angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(n){"use strict";var t=["webkit","moz","o","ms"];return function(i,r){if(n[i])return n[i];for(var u,e=i.substr(0,1).toUpperCase()+i.substr(1),f=0;f<t.length;f++)if(u=t[f]+e,n[u])return n[u];return r}}]);angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(n,t){"use strict";var i=0,r=function(n){var r=(new Date).getTime(),u=Math.max(0,16-(r-i)),f=t(function(){n(r+u)},u);return i=r+u,f};return n("requestAnimationFrame",r)}]).factory("cancelAnimation",["polyfill","$timeout",function(n,t){"use strict";var i=function(n){t.cancel(n)};return n("cancelAnimationFrame",i)}]);angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollBottomSpy","duScrollActiveClass",function(n,t,i,r,u,f,e,o,s){"use strict";var y=function(u){var h=!1,c=!1,l=function(){var k,y,l,t,b,p,h,a;c=!1;var v,d=u.container,e=d[0],w=0;for("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE?(w=e.getBoundingClientRect().top,v=Math.round(e.scrollTop+e.clientHeight)>=e.scrollHeight):(k=r[0].body.scrollHeight||r[0].documentElement.scrollHeight,v=Math.round(i.pageYOffset+i.innerHeight)>=k),a=o&&v?"bottom":"top",b=u.spies,l=u.currentlyActive,t=void 0,y=0;y<b.length;y++)p=b[y],h=p.getTargetPosition(),h&&(o&&v||h.top+p.offset-w<20&&(f||-1*h.top+w)<h.height)&&(!t||t[a]<h[a])&&(t={spy:p},t[a]=h[a]);t&&(t=t.spy);l===t||f&&!t||(l&&(l.$element.removeClass(s),n.$broadcast("duScrollspy:becameInactive",l.$element,angular.element(l.getTargetElement()))),t&&(t.$element.addClass(s),n.$broadcast("duScrollspy:becameActive",t.$element,angular.element(t.getTargetElement()))),u.currentlyActive=t)};return e?function(){h?c=!0:(l(),h=t(function(){h=!1;c&&l()},e,!1))}:l},h={},l=function(n){var i=n.$id,t={spies:[]};return t.handler=y(t),h[i]=t,n.$on("$destroy",function(){a(n)}),i},a=function(n){var t=n.$id,i=h[t],r=i.container;r&&r.off("scroll",i.handler);delete h[t]},p=l(n),c=function(n){return h[n.$id]?h[n.$id]:n.$parent?c(n.$parent):h[p]},v=function(n){var t,i,r=n.$scope;if(r)return c(r);for(i in h)if(t=h[i],-1!==t.spies.indexOf(n))return t},w=function(n){for(;n.parentNode;)if(n=n.parentNode,n===document)return!0;return!1},b=function(n){var t=v(n);t&&(t.spies.push(n),t.container&&w(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=u.getContainer(n.$scope),t.container.on("scroll",t.handler).triggerHandler("scroll")))},k=function(t){var i=v(t),r;t===i.currentlyActive&&(n.$broadcast("duScrollspy:becameInactive",i.currentlyActive.$element),i.currentlyActive=null);r=i.spies.indexOf(t);-1!==r&&i.spies.splice(r,1);t.$element=null};return{addSpy:b,removeSpy:k,createContext:l,destroyContext:a,getContextForScope:c}}]);angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(n){"use strict";var t={},r=function(n,i){var r=n.$id;return t[r]=i,r},i=function(n){return t[n.$id]?n.$id:n.$parent?i(n.$parent):void 0},u=function(r){var u=i(r);return u?t[u]:n},f=function(n){var r=i(n);r&&delete t[r]};return{getContainerId:i,getContainer:u,setContainer:r,removeContainer:f}}]);angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(n,t,i){"use strict";return{link:function(r,u,f){u.on("click",function(u){var o,e;if((f.href&&-1!==f.href.indexOf("#")||""!==f.duSmoothScroll)&&(o=f.href?f.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):f.duSmoothScroll,e=document.getElementById(o)||document.getElementsByName(o)[0],e&&e.getBoundingClientRect)){u.stopPropagation&&u.stopPropagation();u.preventDefault&&u.preventDefault();var s=f.offset?parseInt(f.offset,10):t,h=f.duration?parseInt(f.duration,10):n,c=i.getContainer(r);c.duScrollToElement(angular.element(e),isNaN(s)?0:s,isNaN(h)?0:h)}})}}}]);angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(n){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t){n.createContext(t)}}}}}]);angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(n){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,i,r){r.$observe("duScrollContainer",function(r){angular.isString(r)&&(r=document.getElementById(r));r=angular.isElement(r)?angular.element(r):i;n.setContainer(t,r);t.$on("$destroy",function(){n.removeContainer(t)})})}}}}}]);angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(n,t,i,r){"use strict";var u=function(n,t,i,r){angular.isElement(n)?this.target=n:angular.isString(n)&&(this.targetId=n);this.$scope=t;this.$element=i;this.offset=r};return u.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},u.prototype.getTargetPosition=function(){var n=this.getTargetElement();if(n)return n.getBoundingClientRect()},u.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(f,e,o){var s,h=o.ngHref||o.href,c;(h&&-1!==h.indexOf("#")?s=h.replace(/.*(?=#[^\s]+$)/,"").substring(1):o.duScrollspy?s=o.duScrollspy:o.duSmoothScroll&&(s=o.duSmoothScroll),s)&&(c=i(function(){var i=new u(s,f,e,-(o.offset?parseInt(o.offset,10):t)),h;n.addSpy(i);f.$on("$locationChangeSuccess",i.flushTargetCache.bind(i));h=r.$on("$stateChangeSuccess",i.flushTargetCache.bind(i));f.$on("$destroy",function(){n.removeSpy(i);h()})},0,!1),f.$on("$destroy",function(){i.cancel(c)}))}}}]);!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;t.flexibility=n()}}(function(){return function n(t,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!t[f]){if(h="function"==typeof require&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var i=t[f][1][n];return u(i?i:n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e="function"==typeof require&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(n,t){t.exports=function(n){var i,r,t,u=-1;if(n.lines.length>1&&"flex-start"===n.style.alignContent)for(i=0;t=n.lines[++u];)t.crossStart=i,i+=t.cross;else if(n.lines.length>1&&"flex-end"===n.style.alignContent)for(i=n.flexStyle.crossSpace;t=n.lines[++u];)t.crossStart=i,i+=t.cross;else if(n.lines.length>1&&"center"===n.style.alignContent)for(i=n.flexStyle.crossSpace/2;t=n.lines[++u];)t.crossStart=i,i+=t.cross;else if(n.lines.length>1&&"space-between"===n.style.alignContent)for(r=n.flexStyle.crossSpace/(n.lines.length-1),i=0;t=n.lines[++u];)t.crossStart=i,i+=t.cross+r;else if(n.lines.length>1&&"space-around"===n.style.alignContent)for(r=2*n.flexStyle.crossSpace/(2*n.lines.length),i=r/2;t=n.lines[++u];)t.crossStart=i,i+=t.cross+r;else for(r=n.flexStyle.crossSpace/n.lines.length,i=n.flexStyle.crossInnerBefore;t=n.lines[++u];)t.crossStart=i,t.cross+=r,i+=t.cross}},{}],2:[function(n,t){t.exports=function(n){for(var i,t,r=-1;line=n.lines[++r];)for(i=-1;child=line.children[++i];)t=child.style.alignSelf,"auto"===t&&(t=n.style.alignItems),"flex-start"===t?child.flexStyle.crossStart=line.crossStart:"flex-end"===t?child.flexStyle.crossStart=line.crossStart+line.cross-child.flexStyle.crossOuter:"center"===t?child.flexStyle.crossStart=line.crossStart+(line.cross-child.flexStyle.crossOuter)/2:(child.flexStyle.crossStart=line.crossStart,child.flexStyle.crossOuter=line.cross,child.flexStyle.cross=child.flexStyle.crossOuter-child.flexStyle.crossBefore-child.flexStyle.crossAfter)}},{}],3:[function(n,t){t.exports=function(n,t){var i="row"===t||"row-reverse"===t,r=n.mainAxis,u;r?(u=i&&"inline"===r||!i&&"block"===r,u||(n.flexStyle={main:n.flexStyle.cross,cross:n.flexStyle.main,mainOffset:n.flexStyle.crossOffset,crossOffset:n.flexStyle.mainOffset,mainBefore:n.flexStyle.crossBefore,mainAfter:n.flexStyle.crossAfter,crossBefore:n.flexStyle.mainBefore,crossAfter:n.flexStyle.mainAfter,mainInnerBefore:n.flexStyle.crossInnerBefore,mainInnerAfter:n.flexStyle.crossInnerAfter,crossInnerBefore:n.flexStyle.mainInnerBefore,crossInnerAfter:n.flexStyle.mainInnerAfter,mainBorderBefore:n.flexStyle.crossBorderBefore,mainBorderAfter:n.flexStyle.crossBorderAfter,crossBorderBefore:n.flexStyle.mainBorderBefore,crossBorderAfter:n.flexStyle.mainBorderAfter})):(n.flexStyle=i?{main:n.style.width,cross:n.style.height,mainOffset:n.style.offsetWidth,crossOffset:n.style.offsetHeight,mainBefore:n.style.marginLeft,mainAfter:n.style.marginRight,crossBefore:n.style.marginTop,crossAfter:n.style.marginBottom,mainInnerBefore:n.style.paddingLeft,mainInnerAfter:n.style.paddingRight,crossInnerBefore:n.style.paddingTop,crossInnerAfter:n.style.paddingBottom,mainBorderBefore:n.style.borderLeftWidth,mainBorderAfter:n.style.borderRightWidth,crossBorderBefore:n.style.borderTopWidth,crossBorderAfter:n.style.borderBottomWidth}:{main:n.style.height,cross:n.style.width,mainOffset:n.style.offsetHeight,crossOffset:n.style.offsetWidth,mainBefore:n.style.marginTop,mainAfter:n.style.marginBottom,crossBefore:n.style.marginLeft,crossAfter:n.style.marginRight,mainInnerBefore:n.style.paddingTop,mainInnerAfter:n.style.paddingBottom,crossInnerBefore:n.style.paddingLeft,crossInnerAfter:n.style.paddingRight,mainBorderBefore:n.style.borderTopWidth,mainBorderAfter:n.style.borderBottomWidth,crossBorderBefore:n.style.borderLeftWidth,crossBorderAfter:n.style.borderRightWidth},"content-box"===n.style.boxSizing&&("number"==typeof n.flexStyle.main&&(n.flexStyle.main+=n.flexStyle.mainInnerBefore+n.flexStyle.mainInnerAfter+n.flexStyle.mainBorderBefore+n.flexStyle.mainBorderAfter),"number"==typeof n.flexStyle.cross&&(n.flexStyle.cross+=n.flexStyle.crossInnerBefore+n.flexStyle.crossInnerAfter+n.flexStyle.crossBorderBefore+n.flexStyle.crossBorderAfter)));n.mainAxis=i?"inline":"block";n.crossAxis=i?"block":"inline";"number"==typeof n.style.flexBasis&&(n.flexStyle.main=n.style.flexBasis+n.flexStyle.mainInnerBefore+n.flexStyle.mainInnerAfter+n.flexStyle.mainBorderBefore+n.flexStyle.mainBorderAfter);n.flexStyle.mainOuter=n.flexStyle.main;n.flexStyle.crossOuter=n.flexStyle.cross;"auto"===n.flexStyle.mainOuter&&(n.flexStyle.mainOuter=n.flexStyle.mainOffset);"auto"===n.flexStyle.crossOuter&&(n.flexStyle.crossOuter=n.flexStyle.crossOffset);"number"==typeof n.flexStyle.mainBefore&&(n.flexStyle.mainOuter+=n.flexStyle.mainBefore);"number"==typeof n.flexStyle.mainAfter&&(n.flexStyle.mainOuter+=n.flexStyle.mainAfter);"number"==typeof n.flexStyle.crossBefore&&(n.flexStyle.crossOuter+=n.flexStyle.crossBefore);"number"==typeof n.flexStyle.crossAfter&&(n.flexStyle.crossOuter+=n.flexStyle.crossAfter)}},{}],4:[function(n,t){var i=n("../reduce");t.exports=function(n){if(n.mainSpace>0){var t=i(n.children,function(n,t){return n+parseFloat(t.style.flexGrow)},0);t>0&&(n.main=i(n.children,function(i,r){return"auto"===r.flexStyle.main?r.flexStyle.main=r.flexStyle.mainOffset+parseFloat(r.style.flexGrow)/t*n.mainSpace:r.flexStyle.main+=parseFloat(r.style.flexGrow)/t*n.mainSpace,r.flexStyle.mainOuter=r.flexStyle.main+r.flexStyle.mainBefore+r.flexStyle.mainAfter,i+r.flexStyle.mainOuter},0),n.mainSpace=0)}}},{"../reduce":12}],5:[function(n,t){var i=n("../reduce");t.exports=function(n){if(n.mainSpace<0){var t=i(n.children,function(n,t){return n+parseFloat(t.style.flexShrink)},0);t>0&&(n.main=i(n.children,function(i,r){return r.flexStyle.main+=parseFloat(r.style.flexShrink)/t*n.mainSpace,r.flexStyle.mainOuter=r.flexStyle.main+r.flexStyle.mainBefore+r.flexStyle.mainAfter,i+r.flexStyle.mainOuter},0),n.mainSpace=0)}}},{"../reduce":12}],6:[function(n,t){var i=n("../reduce");t.exports=function(n){var t,r,u;for(n.lines=[t={main:0,cross:0,children:[]}],u=-1;r=n.children[++u];)"nowrap"===n.style.flexWrap||0===t.children.length||"auto"===n.flexStyle.main||n.flexStyle.main-n.flexStyle.mainInnerBefore-n.flexStyle.mainInnerAfter-n.flexStyle.mainBorderBefore-n.flexStyle.mainBorderAfter>=t.main+r.flexStyle.mainOuter?(t.main+=r.flexStyle.mainOuter,t.cross=Math.max(t.cross,r.flexStyle.crossOuter)):n.lines.push(t={main:r.flexStyle.mainOuter,cross:r.flexStyle.crossOuter,children:[]}),t.children.push(r);n.flexStyle.mainLines=i(n.lines,function(n,t){return Math.max(n,t.main)},0);n.flexStyle.crossLines=i(n.lines,function(n,t){return n+t.cross},0);"auto"===n.flexStyle.main&&(n.flexStyle.main=Math.max(n.flexStyle.mainOffset,n.flexStyle.mainLines+n.flexStyle.mainInnerBefore+n.flexStyle.mainInnerAfter+n.flexStyle.mainBorderBefore+n.flexStyle.mainBorderAfter));"auto"===n.flexStyle.cross&&(n.flexStyle.cross=Math.max(n.flexStyle.crossOffset,n.flexStyle.crossLines+n.flexStyle.crossInnerBefore+n.flexStyle.crossInnerAfter+n.flexStyle.crossBorderBefore+n.flexStyle.crossBorderAfter));n.flexStyle.crossSpace=n.flexStyle.cross-n.flexStyle.crossInnerBefore-n.flexStyle.crossInnerAfter-n.flexStyle.crossBorderBefore-n.flexStyle.crossBorderAfter-n.flexStyle.crossLines;n.flexStyle.mainOuter=n.flexStyle.main+n.flexStyle.mainBefore+n.flexStyle.mainAfter;n.flexStyle.crossOuter=n.flexStyle.cross+n.flexStyle.crossBefore+n.flexStyle.crossAfter}},{"../reduce":12}],7:[function(n,t){function i(t){for(var u,i,r=-1;u=t.children[++r];)n("./flex-direction")(u,t.style.flexDirection);for(n("./flex-direction")(t,t.style.flexDirection),n("./order")(t),n("./flexbox-lines")(t),n("./align-content")(t),r=-1;i=t.lines[++r];)i.mainSpace=t.flexStyle.main-t.flexStyle.mainInnerBefore-t.flexStyle.mainInnerAfter-t.flexStyle.mainBorderBefore-t.flexStyle.mainBorderAfter-i.main,n("./flex-grow")(i),n("./flex-shrink")(i),n("./margin-main")(i),n("./margin-cross")(i),n("./justify-content")(i,t.style.justifyContent,t);n("./align-items")(t)}t.exports=i},{"./align-content":1,"./align-items":2,"./flex-direction":3,"./flex-grow":4,"./flex-shrink":5,"./flexbox-lines":6,"./justify-content":8,"./margin-cross":9,"./margin-main":10,"./order":11}],8:[function(n,t){t.exports=function(n,t,i){var r,f,u,e=i.flexStyle.mainInnerBefore,o=-1;if("flex-end"===t)for(r=n.mainSpace,r+=e;u=n.children[++o];)u.flexStyle.mainStart=r,r+=u.flexStyle.mainOuter;else if("center"===t)for(r=n.mainSpace/2,r+=e;u=n.children[++o];)u.flexStyle.mainStart=r,r+=u.flexStyle.mainOuter;else if("space-between"===t)for(f=n.mainSpace/(n.children.length-1),r=0,r+=e;u=n.children[++o];)u.flexStyle.mainStart=r,r+=u.flexStyle.mainOuter+f;else if("space-around"===t)for(f=2*n.mainSpace/(2*n.children.length),r=f/2,r+=e;u=n.children[++o];)u.flexStyle.mainStart=r,r+=u.flexStyle.mainOuter+f;else for(r=0,r+=e;u=n.children[++o];)u.flexStyle.mainStart=r,r+=u.flexStyle.mainOuter}},{}],9:[function(n,t){t.exports=function(n){for(var t,i,r,u=-1;t=n.children[++u];)i=0,"auto"===t.flexStyle.crossBefore&&++i,"auto"===t.flexStyle.crossAfter&&++i,r=n.cross-t.flexStyle.crossOuter,"auto"===t.flexStyle.crossBefore&&(t.flexStyle.crossBefore=r/i),"auto"===t.flexStyle.crossAfter&&(t.flexStyle.crossAfter=r/i),t.flexStyle.crossOuter="auto"===t.flexStyle.cross?t.flexStyle.crossOffset+t.flexStyle.crossBefore+t.flexStyle.crossAfter:t.flexStyle.cross+t.flexStyle.crossBefore+t.flexStyle.crossAfter}},{}],10:[function(n,t){t.exports=function(n){for(var t,i=0,r=-1;t=n.children[++r];)"auto"===t.flexStyle.mainBefore&&++i,"auto"===t.flexStyle.mainAfter&&++i;if(i>0){for(r=-1;t=n.children[++r];)"auto"===t.flexStyle.mainBefore&&(t.flexStyle.mainBefore=n.mainSpace/i),"auto"===t.flexStyle.mainAfter&&(t.flexStyle.mainAfter=n.mainSpace/i),t.flexStyle.mainOuter="auto"===t.flexStyle.main?t.flexStyle.mainOffset+t.flexStyle.mainBefore+t.flexStyle.mainAfter:t.flexStyle.main+t.flexStyle.mainBefore+t.flexStyle.mainAfter;n.mainSpace=0}}},{}],11:[function(n,t){var i=/^(column|row)-reverse$/;t.exports=function(n){n.children.sort(function(n,t){return n.style.order-t.style.order||n.index-t.index});i.test(n.style.flexDirection)&&n.children.reverse()}},{}],12:[function(n,t){function i(n,t,i){for(var u=n.length,r=-1;++r<u;)r in n&&(i=t(i,n[r],r));return i}t.exports=i},{}],13:[function(n,t){function u(n){r(i(n))}var f=n("./read"),e=n("./write"),i=n("./readAll"),r=n("./writeAll");t.exports=u;t.exports.read=f;t.exports.write=e;t.exports.readAll=i;t.exports.writeAll=r},{"./read":15,"./readAll":16,"./write":17,"./writeAll":18}],14:[function(n,t){function r(n,t,i){var h=n[t],c=String(h).match(f),l,a,r,s;return c?(r=c[1],s=c[2],"px"===s?1*r:"cm"===s?.3937*r*96:"in"===s?96*r:"mm"===s?.3937*r*96/10:"pc"===s?16*r:"pt"===s?96*r/72:"rem"===s?16*r:u(h,i)):(l=t.match(o),l)?(a=n["border"+l[1]+"Style"],"none"===a?0:e[h]||0):h}function u(n,t){i.style.cssText="border:none!important;clip:rect(0 0 0 0)!important;display:block!important;font-size:1em!important;height:0!important;margin:0!important;padding:0!important;position:relative!important;width:"+n+"!important";t.parentNode.insertBefore(i,t.nextSibling);var r=i.offsetWidth;return t.parentNode.removeChild(i),r}t.exports=r;var f=/^([-+]?\d*\.?\d+)(%|[a-z]+)$/,i=document.createElement("div"),e={medium:4,none:0,thick:6,thin:2},o=/^border(Bottom|Left|Right|Top)Width$/},{}],15:[function(n,t){function i(n){var t={alignContent:"stretch",alignItems:"stretch",alignSelf:"auto",borderBottomStyle:"none",borderBottomWidth:0,borderLeftStyle:"none",borderLeftWidth:0,borderRightStyle:"none",borderRightWidth:0,borderTopStyle:"none",borderTopWidth:0,boxSizing:"content-box",display:"inline",flexBasis:"auto",flexDirection:"row",flexGrow:0,flexShrink:1,flexWrap:"nowrap",justifyContent:"flex-start",height:"auto",marginTop:0,marginRight:0,marginLeft:0,marginBottom:0,paddingTop:0,paddingRight:0,paddingLeft:0,paddingBottom:0,maxHeight:"none",maxWidth:"none",minHeight:0,minWidth:0,order:0,position:"static",width:"auto"},a=n instanceof Element,i,e,c,l,o,h;if(a){i=n.hasAttribute("data-style");e=i?n.getAttribute("data-style"):n.getAttribute("style")||"";i||n.setAttribute("data-style",e);c=window.getComputedStyle&&getComputedStyle(n)||{};f(t,c);l=n.currentStyle||{};r(t,l);u(t,e);for(o in t)t[o]=s(t,o,n);h=n.getBoundingClientRect();t.offsetHeight=h.height||n.offsetHeight;t.offsetWidth=h.width||n.offsetWidth}return{element:n,style:t}}function r(n,t){var i,u,r,f,e;for(i in n)u=i in t,u?n[i]=t[i]:(r=i.replace(/[A-Z]/g,"-$&").toLowerCase(),f=r in t,f&&(n[i]=t[r]));e="-js-display"in t;e&&(n.display=t["-js-display"])}function u(n,t){for(var i,r;i=e.exec(t);)r=i[1].toLowerCase().replace(/-[a-z]/g,function(n){return n.slice(1).toUpperCase()}),n[r]=i[2]}function f(n,t){var i,r;for(i in n)r=i in t,r&&!o.test(i)&&(n[i]=t[i])}t.exports=i;var e=/([^\s:;]+)\s*:\s*([^;]+?)\s*(;|$)/g,o=/^(alignSelf|height|width)$/,s=n("./getComputedLength")},{"./getComputedLength":14}],16:[function(n,t){function u(n){var t=[];return i(n,t),t}function i(n,t){for(var a,s,v,h,c,e,u,o=f(n),l=[],y=-1;u=n.childNodes[++y];)a=3===u.nodeType&&!/^\s*$/.test(u.nodeValue),o&&a&&(s=u,u=n.insertBefore(document.createElement("flex-item"),s),u.appendChild(s)),v=u instanceof Element,v&&(h=i(u,t),o&&(c=u.style,c.display="inline-block",c.position="absolute",h.style=r(u).style,l.push(h)));return e={element:n,children:l},o&&(e.style=r(n).style,t.push(e)),e}function f(n){var t=n instanceof Element,i=t&&n.getAttribute("data-style"),r=t&&n.currentStyle&&n.currentStyle["-js-display"];return e.test(i)||o.test(r)}t.exports=u;var r=n("../read"),e=/(^|;)\s*display\s*:\s*(inline-)?flex\s*(;|$)/i,o=/^(inline-)?flex$/i},{"../read":15}],17:[function(n,t){function r(n){var o,e,t,s,f,r;for(u(n),o=n.element.style,e="inline"===n.mainAxis?["main","cross"]:["cross","main"],o.boxSizing="content-box",o.display="block",o.position="relative",o.width=i(n.flexStyle[e[0]]-n.flexStyle[e[0]+"InnerBefore"]-n.flexStyle[e[0]+"InnerAfter"]-n.flexStyle[e[0]+"BorderBefore"]-n.flexStyle[e[0]+"BorderAfter"]),o.height=i(n.flexStyle[e[1]]-n.flexStyle[e[1]+"InnerBefore"]-n.flexStyle[e[1]+"InnerAfter"]-n.flexStyle[e[1]+"BorderBefore"]-n.flexStyle[e[1]+"BorderAfter"]),s=-1;t=n.children[++s];)f=t.element.style,r="inline"===t.mainAxis?["main","cross"]:["cross","main"],f.boxSizing="content-box",f.display="block",f.position="absolute","auto"!==t.flexStyle[r[0]]&&(f.width=i(t.flexStyle[r[0]]-t.flexStyle[r[0]+"InnerBefore"]-t.flexStyle[r[0]+"InnerAfter"]-t.flexStyle[r[0]+"BorderBefore"]-t.flexStyle[r[0]+"BorderAfter"])),"auto"!==t.flexStyle[r[1]]&&(f.height=i(t.flexStyle[r[1]]-t.flexStyle[r[1]+"InnerBefore"]-t.flexStyle[r[1]+"InnerAfter"]-t.flexStyle[r[1]+"BorderBefore"]-t.flexStyle[r[1]+"BorderAfter"])),f.top=i(t.flexStyle[r[1]+"Start"]),f.left=i(t.flexStyle[r[0]+"Start"]),f.marginTop=i(t.flexStyle[r[1]+"Before"]),f.marginRight=i(t.flexStyle[r[0]+"After"]),f.marginBottom=i(t.flexStyle[r[1]+"After"]),f.marginLeft=i(t.flexStyle[r[0]+"Before"])}function i(n){return"string"==typeof n?n:Math.max(n,0)+"px"}t.exports=r;var u=n("../flexbox")},{"../flexbox":7}],18:[function(n,t){function i(n){for(var t,i=-1;t=n[++i];)r(t)}t.exports=i;var r=n("../write")},{"../write":17}]},{},[13])(13)});Base64={characters:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(n){var e=(Base64.characters,""),u=0;do{var r=n.charCodeAt(u++),t=n.charCodeAt(u++),i=n.charCodeAt(u++);r=r?r:0;t=t?t:0;i=i?i:0;var s=r>>2&63,h=(3&r)<<4|t>>4&15,o=(15&t)<<2|i>>6&3,f=63&i;t?i||(f=64):o=f=64;e+=Base64.characters.charAt(s)+Base64.characters.charAt(h)+Base64.characters.charAt(o)+Base64.characters.charAt(f)}while(u<n.length);return e},decode:function(n){var i=(Base64.characters,""),t=0;do{var o=Base64.characters.indexOf(n.charAt(t++)),r=Base64.characters.indexOf(n.charAt(t++)),u=Base64.characters.indexOf(n.charAt(t++)),s=Base64.characters.indexOf(n.charAt(t++)),h=(63&o)<<2|r>>4&3,f=(15&r)<<4|u>>2&15,e=(3&u)<<6|63&s;i+=String.fromCharCode(h)+(f?String.fromCharCode(f):"")+(e?String.fromCharCode(e):"")}while(t<n.length);return i}};!function(n){function t(n,t,i,r,u){var f=this;this.installing=!1;this.installers=u.list().map(function(n){return n.templateUrl="api/template/admin/"+n.templateUrl,n});this.doInstall=function(u){f.installing=!0;n.post(r.backendUrl+"/api/install",u).then(function(){i.log("success","The install was successful!");f.installing=!1;t.go("login")},function(n){i.log("error",n.data.message)})}}n.InstallerController=t}(AltaiCore||(AltaiCore={}));!function(n){function t(n,t,i,r){n.modules=r;n.installModule=function(n){t.installModule(n)};n.uninstallModule=function(n){t.uninstallModule(n)};n.scanModules=function(){t.listModule(!0).then(function(t){n.modules=t;i.log("success","Modules scan complete")})}}n.ModuleListController=t}(AltaiCore||(AltaiCore={}));!function(n){function t(n,t){this.settings=n;this.updateSettings=function(n){t.update(n)}}n.SettingsController=t}(AltaiCore||(AltaiCore={}));!function(n){function t(){return{scope:!0,replace:!0,restrict:"E",templateUrl:"/api/template/Admin/adminSidebar",controller:i,controllerAs:"vm"}}n.AltaiAdminSidebarDirective=t;var i=function(){function n(n,t,i,r,u,f,e){this.loading=!1;var o=this;o.stateManager=u;o.buildingBlockTypes=f.list();e.listInstance().then(function(n){o.buildingBlockInstances=n});n.startState=config.startState;t.changeMode=function(){n.mode="edit"==n.mode?"manager":"edit"};t.setActiveDrag=function(t,i,r){n.activeDragId=i;n.activeDragType=t;n.activeDragInstance=r};t.hasAccess=!0;n.menu=1;n.mode="manager"}return n}()}(AltaiCore||(AltaiCore={}));!function(n){function t(){return{link:function(n,t,i){i.$observe("altaiBg",function(){var r=i.altaiBg,n,u;i.altaiImagestyleset&&(n=r,n=n.split("/"),n=n[n.length-1].split("."),u=n[n.length-2],n[n.length-1]);"usercontent/"!=r&&r&&u&&t.css({"background-image":"url("+r+")","background-size":"cover"})})}}}n.AltaiBgDirective=t}(AltaiCore||(AltaiCore={}));!function(n){function t(){return{scope:{type:"@type",size:"@size",label:"@label",confirm:"&confirm"},replace:!0,transclude:!0,template:"<button class='btn' ng-class='cssClass'><i ng-class='iconClass'><\/i>&nbsp;<span ng-transclude><\/span><\/button>",controller:function(n){var t=[],i=["fa"];switch(n.size){case"xs":t.push("btn-xs")}switch(n.type){case"cancel":t.push("btn-primary");i.push("fa-reply");break;case"search":t.push("btn-primary");i.push("fa-search");break;case"edit":t.push("btn-primary");i.push("fa-edit");break;case"view":t.push("btn-primary");i.push("fa-eye");break;case"print":t.push("btn-primary");i.push("fa-print");break;case"send":t.push("btn-primary");i.push("fa-envelope-o");break;case"add":t.push("btn-success");i.push("fa-plus");break;case"save":t.push("btn-success");i.push("fa-save");break;case"excel":t.push("btn-success");i.push("fa-file-excel-o");break;case"update":t.push("btn-success");i.push("fa-refresh");break;case"delete":t.push("btn-danger");i.push("fa-times")}n.cssClass=t;n.iconClass=i},link:function(n,t,i){i.confirm&&angular.element(t).bind("click",function(){n.$apply(n.confirm())})}}}n.AltaiButtonDirective=t}(AltaiCore||(AltaiCore={}));!function(n){function t(n){return{restrict:"A",link:function(t,i,r){var u=n(r.altaiDrag);i.on("dragstart",function(n){t.$apply(function(){u(t,{$event:n})})})}}}n.AltaiDragDirective=t}(AltaiCore||(AltaiCore={}));!function(n){function t(n){return{restrict:"A",link:function(t,i,r){var u=n(r.altaiDrop);i.on("drop",function(n){t.$apply(function(){u(t,{$event:n})})})}}}n.AltaiDropDirective=t}(AltaiCore||(AltaiCore={}));!function(n){function t(){return{scope:{pagedResult:"=",switchPage:"&",scrollTo:"@",scrollOffset:"@"},template:'<div><nav class="altai-pagination"><ul class="pagination"><li ng-click="openPage(currentPage-1)">&laquo;<\/li><li ng-repeat="page in pages" ng-class="{\'active\':page.active}" ng-if="$index < 3 || pageCount - $index < 3 || ($index > currentPage - 3 && $index < currentPage + 3)" ng-click="openPage($index)">{{page.id}}<\/li><li ng-click="openPage(currentPage+1)">&raquo;<\/li><\/ul><\/nav><div class="altai-pagination-page-count">{{pagedResult.totalCount > 0 ? pagedResult.pageSize*pagedResult.page + 1 : 0}}-{{(pagedResult.totalCount > (pagedResult.pageSize*(pagedResult.page + 1))) ? pagedResult.pageSize*(pagedResult.page + 1) : pagedResult.totalCount }}/{{pagedResult.totalCount}}<\/div><\/div>',replace:!0,controller:function(n,t){function i(){n.pages=[];n.pagedResult.pageSize||(n.pagedResult.pageSize=25);n.currentPage=n.pagedResult.page;n.pageCount=n.pagedResult.totalCount/n.pagedResult.pageSize;for(var t=0;t<n.pageCount;t++)n.pages.push({id:t+1,active:n.currentPage==t})}n.$watch("pagedResult",function(){n.pagedResult&&i()});n.openPage=function(i){var r,u;0>i||i>=n.pages.length||(r=n.pages.filter(function(n){return n.active})[0],(r&&(r.active=!1),n.pages[i].active=!0,n.currentPage=i,n.switchPage({pageIndex:i}),n.scrollTo)&&(u=angular.element(document.getElementById(n.scrollTo)),u.length>0&&t.scrollToElementAnimated(u,n.scrollOffset?n.scrollOffset:0)))}}}}n.AltaiPaginationDirective=t}(AltaiCore||(AltaiCore={}));!function(n){function t(n,t){return{link:function(i,r){function f(){var n=$(window).scrollTop();n>u?r.hasClass("altai-scrollfix")||r.addClass("altai-scrollfix"):(u=r.offset().top,r.hasClass("altai-scrollfix")&&r.removeClass("altai-scrollfix"));u+r.height()/2<$(window).scrollTop()+$(window).height()&&r.addClass("altai-visible")}t(function(){$(window).resize(function(){r.removeClass("altai-scrollfix");u=r.offset().top;f()})},1e3);var u=r.offset().top;n.$on("$scroll",function(){f()})}}}n.AltaiScrollfixDirective=t}(AltaiCore||(AltaiCore={}));!function(n){function t(n){return{scope:{title:"=pageTitle"},controller:function(t){t.$watch("title",function(){t.title&&n.setTitle(t.title)})}}}n.PageTitleDirective=t}(AltaiCore||(AltaiCore={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/treeList",controller:i,scope:{treeModel:"=",draggable:"=",parentId:"="},bindToController:!0,controllerAs:"vm"}}n.AltaiTreeListDirective=t;var i=function(){function n(n,t){this.$scope=n;this.$rootScope=t;var i=this;this.menuItemSortOptions={axis:"y",stop:function(){i.updateOrder(i.treeModel);i.$rootScope.$broadcast("treeOrderUpdate")}}}return n.prototype.toggleChildrenItems=function(n,t){t.stopPropagation();var i=this.treeModel[n].items;i&&(this.treeModel[n].expanded=!this.treeModel[n].expanded,this.$rootScope.$broadcast("treeExpandChange"))},n.prototype.editItem=function(n){event.stopPropagation();this.$rootScope.$broadcast("editTreeItem",n)},n.prototype.addNewItem=function(n){event.stopPropagation();this.$rootScope.$broadcast("addTreeItem",n)},n.prototype.addChildItem=function(n){event.stopPropagation();this.$rootScope.$broadcast("addChildTreeItem",n)},n.prototype.setSecurityMenuItem=function(n){event.stopPropagation();this.$rootScope.$broadcast("setSecurityTreeItem",n)},n.prototype.updateOrder=function(n){for(var t=0;t<n.length;t++)n[t].order=t,n[t].items&&this.updateOrder(n[t].items)},n}()}(AltaiCore||(AltaiCore={}));!function(n){function t(){return{scope:{machineName:"=altaiMachineName",model:"=ngModel"},require:"ngModel",controller:function(n,t){function i(n){return n?n.replace(/ /g,"").toLowerCase():n}n.$watch("machineName",function(){if(n.machineName)if(n.machineName.translatableValues){var r=n.machineName.translatableValues.filter(function(n){return n.languageCode==t.getCurrentLangCode()})[0];r&&(n.model=i(r.value))}else n.model=i(n.machineName)},!0)}}}n.AltaiMachineNameDirective=t}(AltaiCore||(AltaiCore={}));!function(n){function t(){return{controller:function(n,t,i){n.$on("$stateChangeSuccess",function(){i[0].className=0===t.current.name.indexOf("admin")||0===t.current.name.indexOf("login")||0===t.current.name.indexOf("install")||0===t.current.name.indexOf("createpassword")||0===t.current.name.indexOf("logout")||0===t.current.name.indexOf("lostpassword")||0===t.current.name.indexOf("presenceregistration")||0===t.current.name.indexOf("unsubscribeactu")||0===t.current.name.indexOf("unsubscribe")?"altai-theme-admin":"altai-theme-content"})}}}n.AltaiBodyDirective=t}(AltaiCore||(AltaiCore={}));!function(n){function t(n,t,i,r){return{link:function(n,u){u.on("click",function(n){var u=n.currentTarget.attributes.state.nodeValue,f=n.currentTarget.attributes.anchor.nodeValue,e=n.currentTarget.attributes.offset.nodeValue,o;i.current.name==u?(o=angular.element(document.getElementById(f)),r.scrollToElementAnimated(o,parseInt(e)-100)):i.go(u).then(function(){t(function(){var n=angular.element(document.getElementById(f));r.scrollToElementAnimated(n,parseInt(e))},50)})})}}}n.AltaiSmoothScrollDirective=t}(AltaiCore||(AltaiCore={}));!function(n){function t(n,t){return{scope:{image:"="},link:function(i,r){var u=i.$watch("image",function(){if(i.image){var f=t.staticFileBase+"/"+i.image;r.attr("style","background-image:url("+n.trustAsResourceUrl(f)+")");u()}})}}}n.AltaiSetBackgroundDirective=t}(AltaiCore||(AltaiCore={}));!function(n){function t(){return function(n,t){return"date"===t?new Date(n):n}}n.AltaiCastFilter=t}(AltaiCore||(AltaiCore={}));!function(n){function t(n){return function(t){return t?n("translate")("yes"):n("translate")("no")}}n.BinaryFilter=t}(AltaiCore||(AltaiCore={}));!function(n){function t(){return function(n,t){if(!n)return"";if((t=parseInt(t,10),!t)||n.length<=t)return n;n=n.substr(0,t);var i=n.lastIndexOf(" ");return-1!=i&&("."!=n.charAt(i-1)&&","!=n.charAt(i-1)||(i-=1),n=n.substr(0,i)),n+" …"}}n.AltaiCutoffFilter=t}(AltaiCore||(AltaiCore={}));!function(n){function t(n){return function(t,i,r){if(void 0!=t)return moment(t).locale(r?r:n.getCurrentLangCode()).format(i?i:"D MMMM YYYY")}}n.localDateFilter=t}(AltaiCore||(AltaiCore={}));!function(n){function t(){return function(n){return n?encodeURIComponent(n):""}}n.escapeFilter=t}(AltaiCore||(AltaiCore={}));!function(n){function t(n,t,i,r,u){var e=[],f={};return f.log=function(n,t){"error"==n?u.error(t):"success"==n&&u.success(t)},f.listLog=function(t){var u=n.defer();return i.get(r.backendUrl+"/api/log?take="+t).then(function(n){angular.copy(n.data,e);u.resolve(e)},function(){u.reject()}),u.promise},f}n.logService=t}(AltaiCore||(AltaiCore={}));!function(n){function t(n,t,i,r,u){var f=[],e=function(i){var e=n.defer();return t.get(r.backendUrl+"/api/module?scan="+i).then(function(n){angular.copy(n.data,f);e.resolve(f)},function(){u.log("error","Could not load the modules list");e.reject()}),e.promise},o=function(i){var e=n.defer();return t.get(r.backendUrl+"/api/module/"+i+"/install").then(function(){var n=f.filter(function(n){return n.id==i});n[0].installed=!0;u.log("success","Enjoy the new module");e.resolve()},function(){u.log("error","Could not install the module");e.reject()}),e.promise},s=function(i){var e=n.defer();return t.get(r.backendUrl+"/api/module/"+i+"/unInstall").then(function(){var n=f.filter(function(n){return n.id==i});n[0].installed=!1;u.log("success","Module sucesfully removed");e.resolve()},function(){u.log("error","Could not uninstall the module");e.reject()}),e.promise};return{listModule:e,installModule:o,uninstallModule:s}}n.AltaiModuleManager=t}(AltaiCore||(AltaiCore={}));!function(n){function t(){var n={};return{$get:function(t,i,r){return{get:function(i){var r=t.defer();return this.list().then(function(){r.resolve(n[i])}),r.promise},list:function(){var n=t.defer();return n.resolve(),n.promise},update:function(u){var f=t.defer();return i.put(config.backendUrl+"/api/settings",u).success(function(t){r.log("success","Settings saved");angular.copy(t,n);f.resolve(n)}),f.promise}}}}}n.AltaiSettingsProvider=t}(AltaiCore||(AltaiCore={}));!function(n){function t(){return function(n){for(var t,f,i={},e=window.location.search.substring(1),u=e.split("&"),r=0;r<u.length;r++)t=u[r].split("="),"undefined"==typeof i[t[0]]?i[t[0]]=decodeURIComponent(t[1]):"string"==typeof i[t[0]]?(f=[i[t[0]],decodeURIComponent(t[1])],i[t[0]]=f):i[t[0]].push(decodeURIComponent(t[1]));return i[n]}}function i(){return function(n){var i=[];for(var t in n)n.hasOwnProperty(t)&&i.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return i.join("&")}}n.urlParameterService=t;n.urlSerialization=i}(AltaiCore||(AltaiCore={}));!function(n){var t=function(){function n(n){this.$cookies=n}return n.prototype.set=function(n,t){var i=new Date;i.setSeconds(i.getSeconds()+864e4);"accessToken"!=n&&"refreshToken"!=n&&this.$cookies.put(n,t,{expires:i});localStorage.setItem(n,t)},n.prototype.get=function(n){return localStorage.getItem(n)},n.prototype.remove=function(n){localStorage.removeItem(n)},n}();n.AltaiClientDataStore=t}(AltaiCore||(AltaiCore={}));!function(n){function t(){var n=[],t={};return t.list=function(){return n},{$get:function(){return t},register:function(t){n.push(t)}}}n.AltaiInstallerProvider=t}(AltaiCore||(AltaiCore={}));!function(n){var t=function(){function n(n,t,i,r,u,f){this.enableCaching=!0;this.dataList=[];this.itemDataList=[];this.apiUrl=n;this.objectName=t;this.$http=r;this.altaiHttp=i;this.$q=u;this.notificationFactory=f}return n.prototype.add=function(n){var i=this.$q.defer(),t=this;return this.$http.post(t.apiUrl,n).success(function(n){t.success("Succesfully created new "+t.objectName);t.dataList.push(n);i.resolve(n)}).error(function(n,r){401==r?t.error("You are not authorized to perform this action."):t.error("Could not POST "+t.apiUrl);i.reject()}),i.promise},n.prototype.list=function(){var t=this.$q.defer(),n=this;return n.dataList.length&&n.enableCaching?t.resolve(n.dataList):n.altaiHttp.get(n.apiUrl).then(function(i){angular.copy(i,n.dataList);t.resolve(n.dataList)},function(i,r){401==r?n.error("You are not authorized to perform this action."):n.error("Could not GET "+n.apiUrl);t.reject()}),t.promise},n.prototype.getById=function(n,t){void 0===t&&(t=!0);var i=this.$q.defer(),r=this,u=this.apiUrl+"/"+n,f=r.itemDataList.filter(function(t){return t.id==n});return f.length>0&&this.enableCaching&&t?i.resolve(f[0]):this.altaiHttp.get(u).then(function(n){r.itemDataList.push(n);i.resolve(n)},function(n,t){401==t?r.error("You are not authorized to perform this action."):r.error("Could not GET "+u);i.reject()}),i.promise},n.prototype["delete"]=function(n){var i=this.$q.defer(),t=this,r=this.apiUrl+"/"+n.id;return this.$http["delete"](r).success(function(r){t.success("Succesfully deleted "+t.objectName);t.dataList.splice(t.dataList.indexOf(n),1);i.resolve(r)}).error(function(n,u){401==u?t.error("You are not authorized to perform this action."):t.error("Could not DELETE "+r);i.reject()}),i.promise},n.prototype.update=function(n){var i=this.$q.defer(),t=this,r=this.apiUrl+"/"+n.id;return this.$http.put(r,n).success(function(){t.itemDataList.splice(t.itemDataList.indexOf(t.itemDataList.filter(function(t){return t.id==n.id})[0]),1);t.dataList=[];t.success("Succesfully updated "+t.objectName);i.resolve()}).error(function(n,u){401==u?t.error("You are not authorized to perform this action."):t.error("Could not UPDATE "+r);i.reject()}),i.promise},n.prototype.getCachedDataItem=function(n){var t=this.itemDataList.filter(function(t){return t.id==n});return t[0]},n.prototype.success=function(n){this.notificationFactory.success(n)},n.prototype.error=function(n){this.notificationFactory.error(n)},n.prototype.resetCache=function(){this.dataList=[];this.itemDataList=[]},n}();n.AltaiDataService=t}(AltaiCore||(AltaiCore={}));!function(n){var t=function(){function n(n){this.toastr=n;this.toastPosition="bottom right";this.toastSpeed=3e3}return n.prototype.success=function(n){this.toastr.success(n)},n.prototype.error=function(n){this.toastr.error(n)},n}();n.AltaiNotificationFactory=t}(AltaiCore||(AltaiCore={}));!function(n){var t=function(){function n(n){this.$mdDialog=n}return n.prototype.confirm=function(n){void 0===n&&(n=null);var t=this.$mdDialog.confirm();return n&&(t=t.parent(n)),t=t.title("Are you sure?").ok("Yes").cancel("Cancel"),this.$mdDialog.show(t)},n}();n.AltaiConfirmationService=t}(AltaiCore||(AltaiCore={}));!function(n){function t(n,t){function r(){i>0&&(i--,0===i&&t.$broadcast("loaderHide"))}var i=0;return{request:function(r){return-1==r.url.indexOf("api/backgroundjob")&&(i++,t.$broadcast("loaderShow")),r||n.when(r)},response:function(t){return-1==t.config.url.indexOf("api/backgroundjob")&&r(),t||n.when(t)},responseError:function(t){return t&&t.config&&t.config.url?-1==t.config.url.indexOf("api/backgroundjob")&&r():r(),n.reject(t)}}}n.AltaiSpinnerInterceptor=t}(AltaiCore||(AltaiCore={}));!function(n){var t=function(){function n(n,t,i){this.$http=n;this.$q=t;this.$injector=i;this.requests=[]}return n.prototype.get=function(n){var i=this.$injector.get("authService"),r=this,t;return i.getAccessToken()&&i.isAccessTokenExpired()?(t=r.$q.defer(),i.refreshToken().then(function(){console.debug("[AltaiIdentity] Token expired, getting a new one");r.getAfterTokenValidated(n).then(function(n){t.resolve(n)},function(n){t.reject(n)})}),t.promise):this.getAfterTokenValidated(n)},n.prototype.getAfterTokenValidated=function(n){var t=this,f=this.requests.filter(function(t){return t.url==n})[0],u,r,i;return f?(u=t.$q.defer(),f.listeners.push(u),u.promise):(r=this.$q.defer(),i={url:n,listeners:[]},t.requests.push(i),t.$http.get(n).success(function(n){r.resolve(n);for(var u=0;u<i.listeners.length;u++)i.listeners[u].resolve(n);t.requests.splice(t.requests.indexOf(i),1)}).error(function(n){r.reject(n)}),r.promise)},n.prototype.post=function(n,t){return this.$http.post(n,t)},n.prototype.postNew=function(n,t){var r=this.$injector.get("authService"),u=this,i;return r.getAccessToken()&&r.isAccessTokenExpired()?(i=u.$q.defer(),r.refreshToken().then(function(){console.debug("[AltaiIdentity] Token expired, getting a new one for post");u.postAfterTokenValidated(n,t).then(function(n){i.resolve(n)},function(n){i.reject(n)})}),i.promise):this.postAfterTokenValidated(n,t)},n.prototype.postAfterTokenValidated=function(n,t){var r=this,e=this.requests.filter(function(t){return t.url==n})[0],f,u,i;return e?(f=r.$q.defer(),e.listeners.push(f),f.promise):(u=this.$q.defer(),i={url:n,listeners:[]},r.requests.push(i),r.$http.post(n,t).success(function(n){u.resolve(n);for(var t=0;t<i.listeners.length;t++)i.listeners[t].resolve(n);r.requests.splice(r.requests.indexOf(i),1)}).error(function(n){u.reject(n);for(var t=0;t<i.listeners.length;t++)i.listeners[t].reject(n);r.requests.splice(r.requests.indexOf(i),1)}),u.promise)},n.prototype["delete"]=function(n){return this.$http["delete"](n)},n}();n.AltaiHttp=t}(AltaiCore||(AltaiCore={}));!function(n){var t=function(){function n(){}return n.prototype.toCamel=function(n){var r,i,u,t;if(n instanceof Array){r=[];for(i in n)t=n[i],"object"==typeof t&&(t=this.toCamel(t)),r.push(t)}else{r={};for(i in n)n.hasOwnProperty(i)&&(u=(i.charAt(0).toLowerCase()+i.slice(1)||i).toString(),t=n[i],null!==t&&"object"==typeof t&&(t=this.toCamel(t)),r[u]=t)}return r},n}();n.AltaiJsonFormattingService=t}(AltaiCore||(AltaiCore={}));!function(n){var t=function(){function n(){}return n.prototype.generateGuid=function(){function n(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1).toUpperCase()}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()},n}();n.AltaiGuidService=t}(AltaiCore||(AltaiCore={}));!function(n){var f=function(){function n(){this.bindings={menuModel:"=",languages:"=",useDefaultLangs:"="};this.controller=t;this.restrict="AE";this.templateUrl="/api/template/Admin/AltaiToolbarMenu"}return n}(),t,i,r,u;n.AltaiToolbarMenu=f;t=function(){function n(n,t,i,r){this.$filter=n;this.$interval=t;this.$rootScope=i;this.$scope=r;this.leftMenuGroup=[];this.centerMenuGroup=[];this.rightMenuGroup=[];this.shiftToolbarInWindows(r.$parent);this.initMenuAlignment()}return n.prototype.shiftToolbarInWindows=function(n){n.vm&&n.vm.shiftToolbar?n.vm.shiftToolbar():n.$parent&&this.shiftToolbarInWindows(n.$parent)},n.prototype.initMenuAlignment=function(){var t,n;if(this.menuModel.menuGroups)for(t=0;t<this.menuModel.menuGroups.length;t++)n=this.menuModel.menuGroups[t],"center"==n.align?this.centerMenuGroup.push(n):"right"==n.align?this.rightMenuGroup.push(n):this.leftMenuGroup.push(n)},n.prototype.performAction=function(n,t){t||n.action()},n.prototype.translateLable=function(n){return this.$filter("translate")(n)},n}();i=function(){function n(){}return n}();n.ToolbarMenu=i;r=function(){function n(){}return n}();n.ToolbarMenuGroup=r;u=function(){function n(){}return n}();n.ToolbarMenuItem=u}(AltaiCore||(AltaiCore={}));!function(n){var t=angular.module("altai.core",["ui.router","ngCookies","oc.lazyLoad","toastr"]);t.constant("config",config);t.provider("altaiInstaller",n.AltaiInstallerProvider);t.provider("altaiSettings",n.AltaiSettingsProvider);t.service("altaiClientDataStore",n.AltaiClientDataStore);t.service("altaiNotificationFactory",n.AltaiNotificationFactory);t.factory("altaiModuleManager",n.AltaiModuleManager);t.service("altaiConfirmationService",n.AltaiConfirmationService);t.service("altaiHttp",n.AltaiHttp);t.service("altaiJsonFormattingService",n.AltaiJsonFormattingService);t.service("altaiSpinnerInterceptor",n.AltaiSpinnerInterceptor);t.service("urlParameterService",n.urlParameterService);t.service("urlSerialization",n.urlSerialization);t.service("altaiGuidService",n.AltaiGuidService);t.filter("altaicast",n.AltaiCastFilter);t.filter("binary",n.BinaryFilter);t.filter("altaicutoff",n.AltaiCutoffFilter);t.filter("localDate",n.localDateFilter);t.filter("escape",n.escapeFilter);t.controller("installerController",n.InstallerController);t.controller("moduleListController",n.ModuleListController);t.controller("settingsController",n.SettingsController);t.component("altaiToolbarMenu",new n.AltaiToolbarMenu);t.directive("altaiAdminSidebar",n.AltaiAdminSidebarDirective);t.directive("altaiBg",n.AltaiBgDirective);t.directive("altaiButton",n.AltaiButtonDirective);t.directive("altaiDrag",n.AltaiDragDirective);t.directive("altaiDrop",n.AltaiDropDirective);t.directive("altaiPagination",n.AltaiPaginationDirective);t.directive("altaiScrollfix",n.AltaiScrollfixDirective);t.directive("pageTitle",n.PageTitleDirective);t.directive("altaiMachineName",n.AltaiMachineNameDirective);t.directive("treeList",n.AltaiTreeListDirective);t.directive("altaiBody",n.AltaiBodyDirective);t.directive("altaiSmoothScroll",n.AltaiSmoothScrollDirective);t.directive("altaiBackground",n.AltaiSetBackgroundDirective);t.service("logService",n.logService);t.config(function(n,t,i,r){i.interceptors.push("altaiSpinnerInterceptor");angular.extend(r,{autoDismiss:!1,containerId:"toast-container",maxOpened:0,newestOnTop:!0,positionClass:"toast-bottom-right",preventDuplicates:!1,preventOpenDuplicates:!1,target:"body"});t.html5Mode(!0);n.state("installer",{url:"/install",system:!0,views:{bodyView:{altaiTemplate:"installer",altaiTemplateType:"Admin",controller:"installerController",controllerAs:"vm"}}}).state("admin.module",{url:"/module",system:!0,abstract:!0}).state("admin.module.list",{url:"/list",system:!0,resolve:{modulesList:function(n){return n.listModule(!1)}},views:{"adminContentView@admin":{altaiTemplate:"moduleList",altaiTemplateType:"Admin",controller:"moduleListController"}}}).state("admin.settings",{url:"/settings",system:!0,resolve:{settingsData:function(n){return n.list()}},views:{"adminContentView@admin":{altaiTemplate:"settings",controller:"settingsController",controllerAs:"vm"}}})});t.run(function(n){n.staticFileBase=config.staticFileBase;n.$on("$stateChangeStart",function(t,i){n.setTitle(i.title)});n.download=function(n){window.location.href=n};n.setTitle=function(t){n.pageTitle=t&&n.appname?t+" | "+n.appname:t?t:n.appname}});config.modules.push("altai.core")}(AltaiCore||(AltaiCore={}));!function(n){function t(t){t.createWindow(n.AdminWindows.systemConfig,"System configuration","")}n.SystemConfigController=t}(AltaiAdmin||(AltaiAdmin={}));!function(n){var t=function(){function n(){}return n}();n.AdminDashboardController=t}(AltaiAdmin||(AltaiAdmin={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/Toolbar:adminToolbar",replace:!0,controllerAs:"$ctrl",controller:function(n,t,i,r,u,f,e,o,s,h){function l(){var t=h.getCurrentLangCode();n.languages=n.languages.map(function(n){return n.selected=t==n.code,n})}function a(){o.getUserInfo().then(function(){t.user.authorized=!0;o.isAuthorized("admin.menu").then(function(n){c.showMenu=n;t.user.adminmenu=n});o.isAuthorized("state.list").then(function(n){c.showStates=n});o.isAuthorized("state.build").then(function(n){c.showStateBuilderSwitch=n});n.contentTypes||f.list().then(function(t){n.contentTypes=t.filter(function(n){return n.directCreatePossible})});n.menuItems=s.items(!0)},function(){t.user.authorized=!1})}var c=this;this.loading=!1;this.showMenu=!1;this.showStates=!1;this.showTaskCenter=!0;this.showBackgroundWorkInfoCenter=!0;this.showStateBuilderSwitch=!1;this.logout=function(){window.location.href="/logout"};n.$on("loaderShow",function(){c.loading=!0});n.$on("loaderHide",function(){c.loading=!1});n.user={authorized:!0};n.openState=function(n){i.go(n.state,{},{reload:!0});n.name==i.current.name&&i.reload(n.state)};n.menuItems=s.items(!0);n.openCt=function(n){e.createWindow(AltaiContent.ContentWindows.contentItemCreate,n.name,n.id)};n.openFlowCt=function(n){e.createWindow(AltaiBusinessProcessFlow.BusinessProcessFlowWindows.contentFlowContentItemCreate,n.name,n.id)};n.$on("userInfoChanged",function(){a()});n.selectLang=function(n){h.changeLang(n.code).then(function(){t.$broadcast("refreshWindow");t.$broadcast("languageChanged");l();window.location.reload()})};r.listLanguage().then(function(t){n.languages=t;l()});a()}}}n.AltaiAdminToolbarDirective=t}(AltaiAdmin||(AltaiAdmin={}));!function(n){function t(){return{scope:!0,controllerAs:"vm",controller:function(){var n=this;this.opened=!1;this.toggle=function(){n.opened=!n.opened}}}}n.AltaiAdminToolbarItemDirective=t}(AltaiAdmin||(AltaiAdmin={}));!function(n){function t(){return{scope:!0,template:'<select ng-model="vm.selectedState" ng-options="s as s.name for s in vm.states" ng-change="vm.selectState(vm.selectedState)"><option><\/option><\/select>',controller:i,controllerAs:"vm"}}n.AltaiAdminToolbarStateSelectorDirective=t;var i=function(){function n(n,t,i,r){this.$state=n;this.$scope=t;this.authService=i;this.stateManager=r;var u=this;t.$on("userInfoChanged",function(){u.getStateData()});u.getStateData()}return n.prototype.getStateData=function(){var n=this;!n.states&&n.authService.isAuthorizedSync("state.list")&&n.stateManager.list().then(function(t){n.states=t;n.selectActiveState();n.$scope.$on("$stateChangeSuccess",function(){n.selectActiveState()})})},n.prototype.selectState=function(n){this.$state.go(n.name,{reload:!0})},n.prototype.selectActiveState=function(){var n=this,t=this.states.filter(function(t){return t.name===n.$state.current.name});1===t.length&&(n.selectedState=t[0])},n}()}(AltaiAdmin||(AltaiAdmin={}));!function(n){function t(){return{template:"<md-switch ng-model='editMode' ng-change='vm.altaiEditModeService.toggleEditMode()' aria-label='edit-mode'><\/md-switch>",controllerAs:"vm",controller:function(n){this.altaiEditModeService=n}}}n.AltaiToolbarModeSelectorDirective=t}(AltaiAdmin||(AltaiAdmin={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/Config:System",controller:i,controllerAs:"vm"}}n.AltaiSystemConfigDirective=t;var i=function(){function n(n,t){this.wmContainerFactory=n;this.configManager=t}return n.prototype.clearCache=function(){var n=this;n.configManager.ClearCache()},n.prototype.RecycleAppPool=function(){var n=this;n.configManager.RecycleAppPool()},n}()}(AltaiAdmin||(AltaiAdmin={}));!function(n){function t(n){return function(t){if(t){var i=t.split("-"),r=/Mac OS X/.test(n.navigator.userAgent),u=!r||i.length>2?"+":"",f={M:r?"⌘":"Ctrl",A:r?"Option":"Alt",S:"Shift"};return i.map(function(n,t){var r=t==i.length-1;return r?n:f[n]}).join(u)}}}n.AltaiKeyboardShortcut=t}(AltaiAdmin||(AltaiAdmin={}));!function(n){function t(){var t=[],n=[];return{add:function(i){if("sorted"in i||(i.sorted=!0),t.push(i),i.parent)var r=n.filter(function(n){return n.name==i.parent})[0];r?r.children.push(i):(i.children=[],n.push(i))},$get:function(t,i){var r={};return r.items=function(t){function u(n){return"securable"in n?i.isAuthorizedSync(n.securable):!0}function f(n){n=n.sort(function(n,t){return n.order<t.order?-1:n.order>t.order?1:0});for(var t=0;t<n.length;t++)"children"in n[t]&&n[t].sorted&&(n[t].children=f(n[t].children));return n}var r=[];return angular.copy(n,r),i.getUserInfo().then(function(){for(var o,i,f,s,e=n.length,t=0;e>t;t++)for(u(n[t])||(o=r.indexOf(r.filter(function(i){return i.name==n[t].name&&i.parent==n[t].parent})[0]),r.splice(o,1)),i=0;i<n[t].children.length;i++)u(n[t].children[i])||(f=r.indexOf(r.filter(function(r){return r.name==n[t].children[i].parent})[0]),r[f]&&(s=r[f].children.indexOf(r[f].children.filter(function(r){return r.name==n[t].children[i].name})[0]),r[f].children.splice(s,1)))}),t?f(r):r},r}}}n.AltaiAdminMenuProvider=t}(AltaiAdmin||(AltaiAdmin={}));!function(n){var t=function(){function n(n,t,i){this.$q=t;this.altaiHttp=n;this.notificationFactory=i}return n.prototype.ClearCache=function(){var n=this,t=this.$q.defer();return n.altaiHttp.get(config.backendUrl+"api/cache/reset").then(function(i){i?n.notificationFactory.success("Cleared cache"):n.notificationFactory.error("Could not clear cache");t.resolve(i)},function(){n.notificationFactory.error("Could not clear cache");t.reject()}),t.promise},n.prototype.RecycleAppPool=function(){var n=this,t=n.$q.defer();return n.altaiHttp.get(config.backendUrl+"api/configuration/recycle").then(function(i){i?n.notificationFactory.success("Recycled AppPool"):n.notificationFactory.error("Could not recycle AppPool");t.resolve(i)},function(){n.notificationFactory.error("Could not recycle AppPool");t.reject()}),t.promise},n}();n.ConfigManager=t}(AltaiAdmin||(AltaiAdmin={}));!function(n){var t=angular.module("altai.admin",["ngMaterial"]);t.directive("altaiAdminToolbar",n.AltaiAdminToolbarDirective);t.directive("altaiAdminToolbarItem",n.AltaiAdminToolbarItemDirective);t.directive("altaiAdminToolbarStateSelector",n.AltaiAdminToolbarStateSelectorDirective);t.directive("altaiAdminToolbarModeSelector",n.AltaiToolbarModeSelectorDirective);t.directive("altaiConfigSystem",n.AltaiSystemConfigDirective);t.filter("altaiKeyboardShortcut",n.AltaiKeyboardShortcut);t.provider("altaiAdminMenu",n.AltaiAdminMenuProvider);t.service("configManager",n.ConfigManager);t.config(function(t,i,r,u,f){t.disableWarnings();f.theme("altTheme").primaryPalette("blue");i.state("admin",{url:"/admin",system:!0,resolve:{auth:function(n,t,i,r){var u=i.defer();return r.isAuthorizedSync("admin")?u.resolve():t(function(){console.debug("cannot access admin page");n.go("login");u.resolve()}),u.promise}}}).state("admin.dashboard",{url:"/dashboard",views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.AdminDashboardController}}}).state("admin.config",{url:"/config/system",views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.SystemConfigController}}});u.add({name:"config",label:"configuration",order:5,icon:"mdi mdi-settings menuicontoolbar"});u.add({parent:"config",name:"config.systemconfig",securable:"admin.systemconfig",label:"systemconfig",icon:"mdi mdi-settings menuicon",state:"admin.config"})})}(AltaiAdmin||(AltaiAdmin={}));config.modules.push("altai.admin");!function(n){function t(){return{replace:!0,require:"^wmWindow",template:"<i ng-click='openGenericSidebar()'><\/i>",controllerAs:"vm",link:function(n,t,i,r){n.openGenericSidebar=function(){r.toggleGenericSidebar()}}}}n.wmWindowSidebarGenericHandleDirective=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){function t(n){return{name:"wmContainer",restrict:"E",replace:!0,scope:{},templateUrl:"/api/template/Admin/windowContainer",controllerAs:"vm",controller:function(){this.windows=n.getWindows();this.grid=n.getGrid()}}}n.wmContainerDirective=t;t.$inject=["wmContainerFactory"]}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){function t(n){return{scope:{col:"="},controller:function(t,i){this.col=t.col;n.registerGridCol(t.col,i);this.useHandle=function(i){return n.resizeCol(t.col,i)}}}}n.wmGridColDirective=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){"use strict";function t(){return{restrict:"A",scope:{},controller:function(){}}}n.wmGridDirective=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){"use strict";function t(n,t){return{template:"<div class='wm-grid-hdivider'><\/div>",replace:!0,link:function(i,r){function u(){r.removeClass("dragover")}function f(){r.addClass("dragover")}r.bind("dragover",function(n){n.preventDefault()});r.bind("dragenter",function(n){n.preventDefault();f()});r.bind("dragleave",function(n){n.preventDefault();u()});r.bind("drop",function(){var r=n.getDragWindow(),f=t.getRowOfWindow(i.cols[0].windows[0]);i.$apply(function(){t.moveWindowToNewRow(r,f)});u()})}}}n.wmGridHdividerDirective=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){"use strict";function t(n,t){return{scope:{cols:"="},replace:!0,template:"<div class='wm-grid-row'><div class='wm-grid-row-inner'><div wm-grid-col col='col' class='wm-grid-col' ng-class='{\"maximized\":vm.fullscreenMode(col)}' ng-repeat='col in cols' ng-if='vm.visibleWindowCount(col)'><div class='wm-grid-col-windows'><wm-window window='window' ng-repeat='window in col.windows track by window.id' ng-show='window.visible'><\/wm-window><div wm-grid-col-dropzone><\/div><\/div><div wm-resize-handler class='wm-resize-handler' ng-if='!vm.fullscreenMode(col) || !$last'> <\/div><\/div> <\/div><\/div> ",controllerAs:"vm",link:function(i,r){function f(){o&&h()&&u.animate({scrollLeft:o-l},"250","swing")}function s(){var n=0;return $(r).find(".wm-grid-col").each(function(t,i){n+=$(i).width()}),n}function h(){return s()>window.innerWidth+c}var e,o=0,c=100,u=$("body"),l=$(r).offset().left;n.subscribe("windowCreated",function(){u.animate({scrollLeft:u.width()+9e3},"0","swing")});r.on("drop",function(){t.getDragWindow()});r.on("dragover",function(n){n.preventDefault()});u.on("mousewheel",function(n){clearTimeout(e);u.scrollLeft(u.scrollLeft()-n.originalEvent.wheelDelta);e=setTimeout(f,520)});u.bind("mouseup",f)},controller:function(){this.visibleWindowCount=function(n){return n&&n.windows?n.windows.filter(function(n){return n.visible}).length:0};this.rowVisibleWindowCount=function(n){for(var i=0,t=0;t<n.length;t++)i+=this.visibleWindowCount(n[t]);return i};this.fullscreenMode=function(n){return 0!==n.windows.filter(function(n){return 1===n.state}).length}}}}n.wmGridRowDirective=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){function t(n){return{require:"^wmGridCol",link:function(t,i,r,u){function e(){$(i.parent().parent()).unbind("mousemove")}var f;i.bind("mousedown",function(t){t.preventDefault();f=t.clientX;$(i.parent().parent()).mousemove(function(t){var r=f-t.clientX,e=i.parent()[0].getBoundingClientRect().left,o=n.getMinWidthOfCol(u.col),s=n.getMaxWidthOfCol(u.col);r&&t.clientX>o+e&&t.clientX<s+e&&u.useHandle(r);f=t.clientX})});$("body").bind("mouseup",e)}}}n.wmResizeHandlerDirective=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){function t(t){return{restrict:"E",name:"wmWindow",scope:{window:"="},replace:!0,controllerAs:"vm",templateUrl:"/api/template/Admin/window",controller:function(i,r,u,f){function o(){t.removeFocusOnWindow();r.removeClass("maximized");r.parent().removeClass("maximized");f(function(){r.focus()});i.$emit("wmWindowMaximized")}function s(){t.focusOnWindow(e.window);i.$emit("wmWindowMaximized")}function h(){t.setHalfSize(e.window);i.$emit("wmWindowHalf")}var e=this;this.showRelatedMenu=!1;this.itemSidebar=!1;this.genericSidebarHandle=!1;this.containerInfo=t.containerInfo;this.window=i.window;this.shiftToolbar=function(){e.toolbarShift=!0};this.close=function(){this.window.state==n.wmWindowState.maximized&&o();u.$broadcast("wmWindowClosed",this.window);t.destroyWindow(this.window.id);this.window.state===n.wmWindowState.maximized&&t.removeFocusOnWindow()};this.toggleGenericSidebar=function(){this.genericSidebarHandle=!this.genericSidebarHandle};this.setWindowTitle=function(n){this.window.title=n};this.toggleMaximize=function(){$("body").animate({scrollLeft:r.offset().left-15},"0","swing");this.window.state===n.wmWindowState.maximized?o():s();this.window.toggleMaximize()};this.toggleHalf=function(){$("body").animate({scrollLeft:r.offset().left-15},"0","swing");this.window.state===n.wmWindowState.half?o():h();this.window.toggleHalf()};this.toggleMinimize=function(){e.window.toggleMinimize();t.minimizeWindow(e.window)};this.toggleRelated=function(){this.showRelatedMenu=!this.showRelatedMenu};this.toggleDisplayMode=function(){switch(this.window.toggleDisplayMode(),this.window.displayMode){case n.wmWindowDisplayMode.min:t.setWidthOfWindow(this.window,this.window.windowType.minWidth);break;case n.wmWindowDisplayMode.optimal:t.setWidthOfWindow(this.window,this.window.windowType.optimalWidth);break;case n.wmWindowDisplayMode.max:t.setWidthOfWindow(this.window,this.window.windowType.maxWidth)}};this.openItemSidebar=function(){i.itemSidebar=!i.itemSidebar}}}}n.wmWindowDirective=t;n.wmContainerDirective.$inject=["wmContainerFactory","wmDragFactory","$timeout"]}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){"use strict";function t(n,t){return{link:function(i,r){function u(){r.removeClass("dragover")}r.bind("dragenter",function(){r.addClass("dragover")});r.bind("dragleave",function(){u()});r.bind("dragover",function(n){n.preventDefault()});r.bind("drop",function(){i.$apply(function(){var r=t.getDragWindow();n.addWindowToColumnAfterWindow(i.window,r);u()})})}}}n.wmWindowDropzoneDirective=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){function t(n,t,i){return{link:function(r,u){function e(n){return n.originalEvent.clientX-u.offset().left<u.width()/2}function f(){$(u).children(".dropzone-left").hide();$(u).children(".dropzone-right").hide()}r.lastWindowOfRow=$(u).index()===$(u).parent().children().length-2;u.bind("dragstart",function(){t.setDragWindow(r.window)});u.bind("dragover",function(n){if(t.getDragWindow()==r.window)return void n.preventDefault();var i=n.originalEvent.dataTransfer,f=i.types&&(i.types.indexOf?-1!=i.types.indexOf("Files"):i.types.contains("Files"));f||(e(n)?($(u).children(".dropzone-left").show(),$(u).children(".dropzone-right").hide()):($(u).children(".dropzone-right").show(),$(u).children(".dropzone-left").hide()));n.preventDefault()});u.bind("dragleave",function(){f()});u.bind("drop",function(u){u.stopPropagation();var o=t.getDragWindow(),s=r.window;if(o&&o.id===s.id)return void f();i(function(){r.$apply(function(){n.moveWindow(o,s,e(u))})});f()})}}}n.wmWindowInnerDirective=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){function t(n){return{template:"<div><\/div>",link:function(t,i){function r(){t.$$childHead&&t.$$childHead.$destroy();var u=t.vm.window.windowType.template,f=t.$new(),r=i[0].firstChild;r.innerHTML=u;n(r)(f)}t.vm.refresh=function(){r()};t.$on("refreshWindow",function(){r()});r();i.bind("mousewheel",function(n){i[0].scrollHeight>i.height()&&n.stopPropagation()})}}}n.wmWindowInnerContentDirective=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){function t(){return{name:"wmStopEvent",restrict:"A",link:function(n,t,i){i&&i.eventType&&t.bind(i.eventType,function(n){n.stopPropagation()})}}}n.wmStopEvent=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){function t(n){return{scope:{windowType:"@wmRef",entityId:"=",title:"@"},link:function(t,i){i.bind("click",function(){var i=config.windows.filter(function(n){return n.value==t.windowType})[0];i?t.$apply(function(){n.createWindow(i,t.title,t.entityId)}):console.error("wmType "+t.windowType+" could not be found")})}}}n.wmRefDirective=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){var t=function(){function n(){this.windows=[];this.width=100}return n}();n.wmGridCol=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){var t=function(){function n(){this.cols=[]}return n}();n.wmGridRow=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){var r=function(){function r(r,u,f,e,o){this.visible=!0;this.width=100;this.minimizedWidth=42;this.state=t.normal;this.displayMode=i.min;this.enabled=!0;this.id=r;this.windowType=u;this.title=f;this.entityId=e;this.entityProperties=o;this.windowGroup=new n.wmWindowGroup}return r.prototype.hide=function(){this.visible=!1},r.prototype.show=function(){this.visible=!0},r.prototype.toggleMinimize=function(){this.state===t.minimized?this.state=t.normal:(this.state=t.minimized,this.width=this.minimizedWidth)},r.prototype.toggleMaximize=function(){this.state=this.state===t.maximized?t.normal:t.maximized},r.prototype.toggleHalf=function(){this.state=this.state===t.half?t.normal:t.half},r.prototype.toggleDisplayMode=function(){return this.state===t.minimized?void this.toggleMinimize():void(this.displayMode!=i.max?this.displayMode++:this.displayMode=i.min)},r.prototype.makeDisplayModeLarger=function(){this.displayMode++},r}(),t,i;n.wmWindow=r;!function(n){n[n.normal=0]="normal";n[n.maximized=1]="maximized";n[n.minimized=2]="minimized";n[n.half=3]="half"}(t=n.wmWindowState||(n.wmWindowState={}));!function(n){n[n.min=0]="min";n[n.optimal=1]="optimal";n[n.max=2]="max"}(i=n.wmWindowDisplayMode||(n.wmWindowDisplayMode={}))}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){var t=function(){function n(){var n=["color-orange","color-blue","color-green","color-red","color-grey"],t=Math.random()*n.length+"";this.color=n[parseInt(t)]}return n}();n.wmWindowGroup=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){var t=function(){function n(n,t,i,r,u,f,e){void 0===i&&(i=600);void 0===r&&(r=960);void 0===u&&(u=1600);void 0===f&&(f=!1);void 0===e&&(e=!1);this.value=n;this.template=t;this.minWidth=i;this.optimalWidth=r;this.maxWidth=u;this.translatable=f;this.multiLanguage=e}return n.prototype.toString=function(){return this.value},n}();n.wmWindowType=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){var t=function(){function t(){this.columnCount=0;this.maxColumnsInRow=-1;this.eventCallbacks={noWindows:[],windowCreated:[]};this.windowCounter=0;this.containerInfo={singleWindowMode:!0};this.windows=[];this.grid=[]}return t.prototype.getWindows=function(){return this.windows},t.prototype.getGrid=function(){return this.grid},t.prototype.findWindow=function(n,t){return t?this.windows.filter(function(i){return i.entityId==t&&i.windowType==n})[0]:this.windows.filter(function(t){return t.windowType==n})[0]},t.prototype.createWindow=function(t,i,r,u){var s=this.findWindow(t,r),f,e,o;return s?s:(1===this.windows.length&&(this.containerInfo.singleWindowMode=!1),f=new n.wmWindow(this.windowCounter++,t,i,r,u),this.windows.push(f),e=this.findRowWithAvailableSpots(),o=this.createColumn(),this.fitColumnToAvgRowWidth(o,e),this.addColumnToRow(e,o),o.windows.push(f),this.reDistributeWidthInRow(e),this.runEventCallbacks("windowCreated"),f)},t.prototype.createColumn=function(){this.columnCount++;var t=new n.wmGridCol;return t.id=this.columnCount,t},t.prototype.fitColumnToAvgRowWidth=function(n,t){n.width=this.grid[t].cols.length?100/this.grid[t].cols.length:100},t.prototype.addColumnToRow=function(n,t){this.grid[n].cols.push(t)},t.prototype.addColumnToRowAtPosition=function(n,t,i){this.grid[t].cols.splice(i,0,n)},t.prototype.findRowWithAvailableSpots=function(){for(var n=0;n<this.grid.length;n++)if(this.grid[n].cols.length<this.maxColumnsInRow||this.maxColumnsInRow<0)return n;return this.createRow()},t.prototype.createRow=function(n){var t={id:this.grid.length,cols:[]},i;return void 0!==n?(this.grid.splice(n+1,0,t),n+1):(i=this.grid.push(t),i-1)},t.prototype.destroyWindow=function(n){var t=this.windows.filter(function(t){return t.id===n})[0],r=this.getRowOfWindow(t),u=this.getColOfWindow(t);if(!t)throw alert("could not find the window"),"Could not find the window!";var f=this.windows.indexOf(t),i=this.grid[this.getRowOfWindow(t)].cols[u].windows,e=i.indexOf(t);this.windows.splice(f,1);i.splice(e,1);this.reDistributeWidthInRow(r);this.columnCount--;this.checkSingleWindowMode();this.checkNoWindowMode()},t.prototype.destoryAllWindows=function(){this.grid.splice(0,this.grid.length);this.windows.splice(0,this.windows.length)},t.prototype.destoryRow=function(n){this.grid.splice(n,1)},t.prototype.isEmptyRow=function(n){return this.destroyEmptyColumnsInRow(n),0===this.grid[n].cols.length},t.prototype.checkSingleWindowMode=function(){this.containerInfo.singleWindowMode=1===this.windows.length},t.prototype.checkNoWindowMode=function(){0===this.windows.length&&(this.runEventCallbacks("noWindows"),this.eventCallbacks.noWindows=[])},t.prototype.runEventCallbacks=function(n){this.eventCallbacks[n].forEach(function(n){n.apply()})},t.prototype.subscribe=function(n,t){switch(n){case"noWindows":this.eventCallbacks.noWindows.push(t);break;case"windowCreated":this.eventCallbacks.windowCreated.push(t)}},t.prototype.destroyEmptyRows=function(){for(var n=0;n<this.grid.length;n++)this.isEmptyRow(n)&&this.destoryRow(n)},t.prototype.resizeCol=function(n,t){var i=this.grid[this.getRowOfColumn(n)],u=i.cols.indexOf(n),r=i.cols[u],f=$(r.elementRef).width()-t;return this.setWidthOfCol(r,f)},t.prototype.setWidthOfCol=function(n,t,i){return void 0===i&&(i=!1),t>=this.getMinWidthOfCol(n)&&t<=this.getMaxWidthOfCol(n)||i?(n.width=t,$(n.elementRef).css({width:t}),!0):(console.log("resize too small/large"),!1)},t.prototype.setWidthOfWindow=function(n,t,i){void 0===i&&(i=!1);var r=this.getRowOfWindow(n),u=this.grid[r],f=this.getColOfWindow(n),e=u.cols[f];this.setWidthOfCol(e,t,i)},t.prototype.focusOnWindow=function(n){var t,i;n.previousWidth=n.width;t=this.getColOfWindow(n);i=t==this.columnCount-1?window.innerWidth-70:window.innerWidth-30;this.setWidthOfWindow(n,i,!0)},t.prototype.setHalfSize=function(n){var t,i;n.previousWidth=n.width;t=this.getColOfWindow(n);i=t==this.columnCount-1?window.innerWidth/2-70:window.innerWidth/2-30;this.setWidthOfWindow(n,i,!1)},t.prototype.removeFocusOnWindow=function(){var t=this.getFullScreenWindow();t&&(t.state=n.wmWindowState.normal,this.setWidthOfWindow(t,t.windowType.optimalWidth,!0))},t.prototype.getFullScreenWindow=function(){return this.windows.filter(function(t){return t.state==n.wmWindowState.maximized})[0]},t.prototype.isSameRowTransaction=function(n,t){var i=this.getRowOfWindow(t),r=this.getRowOfWindow(n);return i===r},t.prototype.moveWindow=function(n,t,i){this.isSameRowTransaction(n,t)?this.moveWindowInsideRow(n,t,i):this.moveWindowToExistingRow(n,t,i)},t.prototype.moveWindowInsideRow=function(n,t,i){var r=this.getRowOfWindow(t),u=this.getColOfWindow(t),o=this.getColOfWindow(n),s=(this.grid[r].cols,n),f,e;this.removeWindowFromCol(n);f=this.createColumn();this.fitColumnToAvgRowWidth(f,r);this.addWindowToColumn(s,f);this.destroyEmptyColumnsInRow(r);e=u>o?i?u-1:u:i?u:u+1;this.addColumnToRowAtPosition(f,r,e);this.reDistributeWidthInRow(r)},t.prototype.moveWindowToExistingRow=function(n,t,i){var r=this.getRowOfWindow(t),o=this.getColOfWindow(t),s=this.getRowOfWindow(n),c=this.getColOfWindow(n),l=n;this.destroyColumn(s,c);this.reDistributeWidthInRow(s);for(var h=this.grid[r].cols,f={windows:[l],width:100},e=0,u=0;u<this.grid[r].cols.length;u++)e+=this.grid[r].cols[u].width;e/=u;f.width=e;i?h.splice(o,0,f):h.splice(o+1,0,f);this.reDistributeWidthInRow(r)},t.prototype.moveWindowToNewRow=function(n,t){var e=this.createRow(t),i=this.getRowOfWindow(n),u=this.getColOfWindow(n),f=n,r;f.width=100;this.grid[i].cols[u].windows.splice(this.grid[i].cols[u].windows.indexOf(n),1);r=this.createColumn();r.windows.push(f);this.grid[e].cols.push(r);this.reDistributeWidthInRow(i)},t.prototype.removeWindowFromCol=function(n){var i=this.getColOfWindow(n),r=this.getRowOfWindow(n),t=this.grid[r].cols[i],u=this.getPositionOfWindowInCol(n,t);t.windows.splice(u,1)},t.prototype.getPositionOfWindowInCol=function(n){var t=this.getRowOfWindow(n),i=this.getColOfWindow(n);return this.grid[t].cols[i].windows.indexOf(n)},t.prototype.reDistributeWidthInRow=function(n){var f=0,e=0,t=this.grid[n].cols,r,i,u;for(this.destroyEmptyRows(),this.destroyEmptyColumnsInRow(n),r=0;r<t.length;r++)f+=t[r].width;for(i=0;i<t.length;i++)i===t.length-1?u=100-e:(u=t[i].width/f*100,e+=u),t[i].width=u},t.prototype.destroyEmptyColumnsInRow=function(n){if(this.grid[n])for(var i=this.grid[n].cols,t=0;t<i.length;t++)i[t].windows.length||this.destroyColumn(n,t)},t.prototype.destroyColumn=function(n,t){this.grid[n].cols.splice(t,1)},t.prototype.getRowOfColumn=function(n){for(var t=0;t<this.grid.length;t++)if(this.grid[t].cols.indexOf(n)>-1)return t;throw"could not find column";},t.prototype.getRowOfWindow=function(n){for(var i,t=0;t<this.grid.length;t++)for(i=0;i<this.grid[t].cols.length;i++)if(this.grid[t].cols[i].windows.indexOf(n)>-1)return t;throw"could not find window";},t.prototype.getColOfWindow=function(n){for(var i,t=0;t<this.grid.length;t++)for(i=0;i<this.grid[t].cols.length;i++)if(this.grid[t].cols[i].windows.indexOf(n)>-1)return i;throw"could not find window";},t.prototype.minimizeAll=function(){for(var t=0;t<this.windows.length;t++)this.windows[t].state=n.wmWindowState.minimized},t.prototype.normalizeAll=function(){for(var t=0;t<this.windows.length;t++)this.windows[t].state=n.wmWindowState.normal},t.prototype.isSingleWindowMode=function(){return 1===this.windows.length},t.prototype.addWindowToColumn=function(n,t){t.windows.push(n);this.updateColWidthWhenNewWindowEnters(t)},t.prototype.addWindowToColumnAfterWindow=function(n,t){var r=this.getColOfWindow(n),u=this.getRowOfWindow(n),i=this.getRowOfWindow(t),f=this.getColOfWindow(t),o=this.grid[u].cols[r].windows.indexOf(n),s=t,e=this.grid[u].cols[r];this.grid[i].cols[f].windows.splice(this.grid[i].cols[f].windows.indexOf(t),1);e.windows.splice(o+1,0,s);this.reDistributeWidthInRow(i);this.updateColWidthWhenNewWindowEnters(e)},t.prototype.registerGridCol=function(n,t){var i=this.grid[this.getRowOfColumn(n)],r=i.cols.indexOf(n),n=i.cols[r];n.elementRef=t;this.setWidthOfCol(n,n.windows[0].windowType.optimalWidth)},t.prototype.getMinWidthOfCol=function(n){for(var r,t=0,i=0;i<n.windows.length;i++)r=n.windows[i],t<r.windowType.minWidth&&(t=r.windowType.minWidth);return t},t.prototype.getMaxWidthOfCol=function(n){for(var r,t=Number.MAX_VALUE,i=0;i<n.windows.length;i++)r=n.windows[i],t>r.windowType.maxWidth&&(t=r.windowType.maxWidth);return t},t.prototype.updateColWidthWhenNewWindowEnters=function(n){if(n.elementRef){var i=n.elementRef.width(),t=this.getMinWidthOfCol(n);t>i&&n.elementRef.css({"min-width":t})}},t.prototype.windowExists=function(n){return this.windows.indexOf(n)>=0},t.prototype.minimizeWindow=function(n){var t=this.getColOfWindow(n),i=this.getRowOfWindow(n);this.setWidthOfCol(this.grid[i].cols[t],42,!0)},t}();n.wmContainerFactory=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){var t=function(){function n(){}return n.prototype.setDragWindow=function(n){this.dragWindow=n},n.prototype.getDragWindow=function(){return this.dragWindow},n}();n.wmDragFactory=t}(AltaiWindowManager||(AltaiWindowManager={}));!function(n){var t=angular.module("altai.windowmanager",["ui.layout"]);t.directive("wmWindow",n.wmWindowDirective);t.directive("wmWindowInner",n.wmWindowInnerDirective);t.directive("wmWindowInnerContent",n.wmWindowInnerContentDirective);t.directive("wmContainer",n.wmContainerDirective);t.directive("wmGridHdivider",n.wmGridHdividerDirective);t.directive("wmResizeHandler",n.wmResizeHandlerDirective);t.directive("wmGrid",n.wmGridDirective);t.directive("wmGridCol",n.wmGridColDirective);t.directive("wmStopEvent",n.wmStopEvent);t.directive("wmGridRow",n.wmGridRowDirective);t.directive("wmWindowDropzone",n.wmWindowDropzoneDirective);t.directive("wmWindowSidebarGenericHandle",n.wmWindowSidebarGenericHandleDirective);t.directive("wmRef",n.wmRefDirective);t.service("wmContainerFactory",n.wmContainerFactory);t.service("wmDragFactory",n.wmDragFactory);t.run(function(n,t){n.$on("$stateChangeStart",function(){t.destoryAllWindows()});$(window).resize(function(){n.$apply(function(){t.removeFocusOnWindow()})})})}(AltaiWindowManager||(AltaiWindowManager={}));config.modules.push("altai.windowmanager");!function(n){var t=function(){function n(){}return n}();t.systemConfig=new AltaiWindowManager.wmWindowType("systemSettings","<altai-config-system><\/altai-config-system>",300,600,1600);n.AdminWindows=t}(AltaiAdmin||(AltaiAdmin={}));!function(n){var t=function(){function n(){this.accesses=[];this.r=[];this.s=[]}return n}();n.userInfo=t}(altaiIdentity||(altaiIdentity={}));!function(n){var t=function(){function n(){}return n}();t.userList=new AltaiWindowManager.wmWindowType("userList","<altai-user-list><\/altai-user-list>",500,960,1600);t.userCreate=new AltaiWindowManager.wmWindowType("userCreate","<altai-user-create><\/altai-user-create>",500,960,1600);t.userUpdate=new AltaiWindowManager.wmWindowType("userCreate","<altai-user-update user-id='vm.window.entityId'><\/altai-user-create>",500,960,1600);t.userRoles=new AltaiWindowManager.wmWindowType("userRoles","<altai-user-roles user-id='vm.window.entityId'><\/altai-user-roles>",500,960,1600);t.userGroups=new AltaiWindowManager.wmWindowType("userGroups","<altai-user-groups user-id='vm.window.entityId'><\/altai-user-groups>",500,960,1600);t.roleList=new AltaiWindowManager.wmWindowType("roleList","<altai-role-list><\/altai-role-list>",200,400,800);t.roleCreate=new AltaiWindowManager.wmWindowType("roleCreate","<altai-role-create><\/altai-role-create>",200,400,800);t.rolePermissions=new AltaiWindowManager.wmWindowType("rolePermissions","<altai-role-permissions role-name='vm.window.entityId'><\/altai-role-permissions>",500,500,1600);t.groupList=new AltaiWindowManager.wmWindowType("groupList","<altai-group-list><\/altai-group-list>",500,960,1600);t.groupCreate=new AltaiWindowManager.wmWindowType("groupCreate","<altai-group-create><\/altai-group-create>",500,960,1600);t.groupProfile=new AltaiWindowManager.wmWindowType("groupProfile","<altai-group-profile group-id='vm.window.entityId'><\/altai-group-profile>",500,960,1600);t.groupRoleCreate=new AltaiWindowManager.wmWindowType("groupRoleCreate","<altai-group-role-create group-id='vm.window.entityId'><\/altai-group-role-create>",500,960,1600);t.setSecurableAccesses=new AltaiWindowManager.wmWindowType("setSecurableAccesses","<altai-securable-accesses securable-name='vm.window.entityProperties.securableName' securable-key='vm.window.entityId'><\/altai-securable-accesses>",500,960,3600);t.securableUpdate=new AltaiWindowManager.wmWindowType("securableUpdate","<securable-update><\/securable-update>",500,960,3600);n.IdentityWindows=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl="/api/template/Admin/Identity:AltaiSecurableAccesses";this.bindings={securableName:"=",securableKey:"="}}return n}(),t;n.AltaiSecurableAccessesComponent=i;t=function(){function n(n,t,i,r,u){function o(){var i=n.defer();return t.getRelatedSecurables(f.securableName).then(function(n){f.securables=n;i.resolve()}),i.promise}function s(){var t=n.defer();return f.roleAdminService.list().then(function(n){f.roles=n;t.resolve()}),t.promise}function h(){var t=n.defer();return f.userAdminService.list().then(function(n){f.users=angular.copy(n);t.resolve()}),t.promise}function c(){var t=n.defer();return f.groupAdminFactory.list().then(function(n){f.groups=n;t.resolve()}),t.promise}var f,e;this.authorizationService=t;this.userAdminService=i;this.roleAdminService=r;this.groupAdminFactory=u;this.selectedUsers=[];this.userAccesses={};this.roleAccesses={};this.groupRoleAccesses={};f=this;f.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){f.saveAccesses()},name:"save","class":"altai-button-go"}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1};e=[];e.push(o());e.push(s());e.push(h());e.push(c());n.all(e).then(function(){f.getCurrentAccesses()})}return n.prototype.selectUser=function(n){var t=this;-1==t.selectedUsers.indexOf(n)&&(t.selectedUsers.push(n),t.users.splice(t.users.indexOf(n),1))},n.prototype.selectUserById=function(n){var t=this,i=t.users.filter(function(t){return t.id==n})[0];i&&t.selectUser(i)},n.prototype.getCurrentAccesses=function(){var n=this;n.authorizationService.getSecurableAccesses(n.securableName,n.securableKey).then(function(t){for(var i,r=0;r<t.length;r++)i=t[r],i.roleName?(n.roleAccesses[i.securableName]||(n.roleAccesses[i.securableName]={}),n.roleAccesses[i.securableName][i.roleName]=i.allowAccess?"1":"0"):i.userId?(n.userAccesses[i.securableName]||(n.userAccesses[i.securableName]={}),n.selectUserById(i.userId),n.userAccesses[i.securableName][i.userId]=i.allowAccess?"1":"0"):i.identityGroupRoleId&&(n.groupRoleAccesses[i.securableName]||(n.groupRoleAccesses[i.securableName]={}),n.groupRoleAccesses[i.securableName][i.identityGroupRoleId]=!0)})},n.prototype.saveAccesses=function(){for(var t,e,o,s,h,c,i,l,r,n=this,u=[],f=0;f<n.securables.length;f++){if(t=n.securables[f].name,n.roleAccesses[t])for(e=Object.keys(n.roleAccesses[t]),i=0;i<e.length;i++)o=e[i],r=n.roleAccesses[t][o],r&&u.push({roleName:o,securableKey:n.securableKey,securableName:t,allowAccess:parseInt(r)});if(n.userAccesses[t])for(s=Object.keys(n.userAccesses[t]),i=0;i<s.length;i++)h=s[i],r=n.userAccesses[t][h],r&&u.push({userId:h,securableKey:n.securableKey,securableName:t,allowAccess:parseInt(r)});if(n.groupRoleAccesses[t])for(c=Object.keys(n.groupRoleAccesses[t]),i=0;i<c.length;i++)l=c[i],r=n.groupRoleAccesses[t][l],r&&u.push({identityGroupRoleId:l,securableKey:n.securableKey,securableName:t,allowAccess:parseInt(r)})}n.authorizationService.setSecurableAccesses(n.securableName,n.securableKey,u)},n}()}(AltaiIdentity||(AltaiIdentity={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl="/api/template/Admin/Identity:SecurableUpdate"}return n}(),t;n.SecurableUpdateComponent=i;t=function(){function n(n,t){this.authorizationService=t;var i=this;i.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){i.saveSecurables()},name:"save","class":"altai-button-go"}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0};t.listSecurable().then(function(n){i.securables=n})}return n.prototype.saveSecurables=function(){var n=this;n.authorizationService.updateSecurable(n.securables).then(function(){alert("ok!")})},n}()}(AltaiIdentity||(AltaiIdentity={}));!function(n){var t=function(){function n(n){this.authService=n;this.submitted=!1;this.emailFound=!1}return n.prototype.lostPasswordRequest=function(n){var t=this;t.authService.passwordRecovery(n).then(function(n){t.emailFound=n;t.submitted=!0},function(){})},n}();n.LostPasswordController=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){var t=function(){function n(n,t,i,r,u,f){u.logout();n.loginData={};n.rememberMe=!1;n.loading=!1;var e=i.getObject("identifier");void 0!=e&&(n.loginData=e,n.rememberMe=!0);n.doLogin=function(e){n.loading=!0;n.rememberMe?i.putObject("identifier",n.loginData):i.remove("identifier");u.login(e).then(function(){n.loading=!1;u.isAuthorized("admin.menu").then(function(){window.location.href="/admin/content/type"},function(){r.preLoginState?t.go(r.preLoginState.name,r.preLoginState.stateParams):t.go(f.redirectUserState)})},function(){n.loading=!1})}}return n}();n.LoginController=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(t){t.createWindow(n.IdentityWindows.userList,"users")}n.UserListController=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(t){t.createWindow(n.IdentityWindows.groupList,"groups")}n.GroupListController=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(t){t.createWindow(n.IdentityWindows.roleList,"Roles")}n.RoleListController=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){var t=function(){function n(n,t){this.$http=n;this.authService=t;var i=this;t.getUserInfo().then(function(n){i.userInfo=n;console.log(n)})}return n.prototype.refreshToken=function(){var n=this;this.authService.refreshToken().then(function(){console.log("ok1")});this.authService.refreshToken().then(function(){console.log("ok2")});this.authService.refreshToken().then(function(){console.log("ok3")});this.authService.refreshToken().then(function(){console.log("ok4")});this.authService.refreshToken().then(function(){console.log("ok5");n.authService.getUserInfo().then(function(t){n.userInfo=t;console.log(t)})})},n.prototype.test=function(n){this.$http.get("api/testSecurableAccess?securable="+n.securableName+"&securableKey="+n.securableKey).success(function(n){alert(n)})},n}();n.AccessDebugConsoleController=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(t){t.createWindow(n.IdentityWindows.securableUpdate,"UpdateSecurable")}n.SecurableUpdateController=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(n,t,i,r,u,f,e){var o=this;e&&(o.validToken=e.data);o.setPassword=function(e){e&&void 0!=e.password&&e.password==e.passwordrepeated?n.post("/api/createpassword",{userid:r("userid"),code:r("code"),password:e.password}).then(function(){i.login({identifier:r("username"),password:e.password}).then(function(){f("passwordisupdated").then(function(n){u.success(n)});t.go("Root.MyComeos.Dashboard")})},function(){f("invalidtokenexplain").then(function(n){u.error(n)})}):e?e.password!=e.passwordrepeated&&f("passwordsdonotmatch").then(function(n){u.error(n)}):f("enterpassword").then(function(n){u.error(n)})}}n.CreatePasswordController=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){var t=function(){function n(n,t,i){var u=i("redirect_uri"),r=i("client_id").toLowerCase();n.setOauthAuthenticateRedirectUri(u);"servicedesk"!=r&&"comeostools"!=r&&"fashionbarometer"!=r||n.getUserInfo().then(function(){location.href=-1===u.indexOf("?")?n.getOAuthRedirectUri():n.getOAuthRedirectUri()},function(){t.go("login")})}return n}();n.OAuthAuthenticateController=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/GroupCreate",controller:i,controllerAs:"vm"}}n.AltaiGroupCreateDirective=t;var i=function(){function n(n,t){this.groupAdminFactory=n;this.state=t}return n.prototype.createGroup=function(n){var t=this;this.groupAdminFactory.create(n).then(function(){t.state.go("admin.security.groups",{},{reload:!0})})},n}()}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(){return{templateUrl:"/api/template/Aadmin/GroupList",controller:i,controllerAs:"vm"}}n.AltaiGroupListDirective=t;var i=function(){function t(n,t){var i=this;i.wmContainerFactory=t;n.list().then(function(n){i.groups=n})}return t.prototype.createGroup=function(){this.wmContainerFactory.createWindow(n.IdentityWindows.groupCreate,"creategroup")},t.prototype.openGroup=function(t){this.wmContainerFactory.createWindow(n.IdentityWindows.groupProfile,"group",t.id)},t}()}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/GroupProfile",controller:i,controllerAs:"vm",bindToController:!0,scope:{groupId:"="}}}n.AltaiGroupProfileDirective=t;var i=function(){function t(n,t){var i=this;i.wmContainerFactory=t;n.read(this.groupId).then(function(n){i.group=n})}return t.prototype.createGroupRole=function(){this.wmContainerFactory.createWindow(n.IdentityWindows.groupRoleCreate,"grouprolecreate",this.groupId)},t}()}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/GroupRoleCreate",controller:i,controllerAs:"vm",bindToController:!0,scope:{groupId:"="}}}n.AltaiGroupRoleCreateDirective=t;var i=function(){function n(n){this.groupAdminFactory=n}return n.prototype.addRole=function(n){this.groupAdminFactory.createGroupRole(this.groupId,n).then(function(){})},n}()}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/RoleCreate",controller:i,controllerAs:"vm"}}n.AltaiRoleCreateDirective=t;var i=function(){function n(n,t){this.$state=n;this.roleAdminService=t}return n.prototype.createRole=function(n){var t=this;this.roleAdminService.create(n).then(function(){t.$state.go("admin.security.roles")})},n}()}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/RoleList",controller:i,controllerAs:"vm"}}n.AltaiRoleListDirective=t;var i=function(){function t(n,t){var i=this;i.wmContainerFactory=t;n.list().then(function(n){i.roles=n})}return t.prototype.createRole=function(){this.wmContainerFactory.createWindow(n.IdentityWindows.roleCreate,"createrole")},t.prototype.openPermissions=function(t){this.wmContainerFactory.createWindow(n.IdentityWindows.rolePermissions,"Permissions "+t.name,t.name)},t}()}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/RolePermissions",controller:i,controllerAs:"vm",link:function(n){n.vm.toolbar={menuGroups:[{menuItems:[{translatableTooltipId:"save",icon:"mdi-save",action:function(){n.vm.savePermissions()},"class":"altai-button-primary",name:"save"}],align:"left"}],showLanguages:!1}},bindToController:!0,scope:{roleName:"="}}}n.AltaiRolePermissionsDirective=t;var i=function(){function t(n,t,i,r,u){this.$rootScope=n;this.$state=t;this.roleAdminService=i;this.authService=r;this.wmContainerFactory=u;this.allSelected=!1;var f=this;f.securableOptions=[{value:0,label:"Deny"},{value:1,label:"Allow"},{label:""}];i.rolePermissions(this.roleName).then(function(n){f.rolePermissions=n})}return t.prototype.savePermissions=function(){var n=this;this.roleAdminService.updatePermissions(n.roleName,n.rolePermissions).then(function(){n.authService.getUserInfo();n.$rootScope.$broadcast("userInfoChanged",null);n.closeWindow()})},t.prototype.closeWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.IdentityWindows.rolePermissions,t.roleName);i&&t.wmContainerFactory.destroyWindow(i.id)},t}()}(AltaiIdentity||(AltaiIdentity={}));!function(n){var t=function(){function n(n){this.authService=n}return n.prototype.changePassword=function(n){this.authService.changePassword(n.oldPassword,n.newPassword)},n.prototype.changeEmail=function(n){this.authService.changeEmail(n)},n}();n.updateProfileController=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/Identity:UserCreate",controller:r,link:i,controllerAs:"$ctrl"}}n.AltaiUserCreateDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-plus",action:function(){n.$ctrl.createUser()},"class":"altai-button-go",name:"create",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t,i){this.$state=n;this.authService=t;this.wmContainerFactory=i;this.$state=n;this.authService=t}return t.prototype.createUser=function(){var t=this;t.user.userName=t.user.email;t.authService.register(t.user).then(function(){var i=t.wmContainerFactory.findWindow(n.IdentityWindows.userCreate);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/Identity:UserUpdate",controller:r,link:i,controllerAs:"$ctrl",scope:{userId:"="},bindToController:!0}}n.AltaiUserUpdateDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.updateUser()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t){this.userAdminService=n;this.wmContainerFactory=t;var i=this;n.getById(i.userId).then(function(n){i.user=n})}return t.prototype.updateUser=function(){var t=this;t.userAdminService.update(t.user).then(function(){var i=t.wmContainerFactory.findWindow(n.IdentityWindows.userUpdate);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/Identity:UserGroups",controller:i,controllerAs:"vm",bindToController:!0,scope:{userId:"="}}}n.AltaiUserGroupDirective=t;var i=function(){function n(n,t,i){var r=this;t.listUser(this.userId).then(function(n){r.groups=n});this.$stateParams=n;this.groupAdminFactory=t;this.state=i}return n.prototype.updateGroupRoles=function(){var n=this;this.groupAdminFactory.updateUser(this.userId,this.groups).then(function(){n.state.go("admin.security.users")})},n}()}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/Identity:UserList",controller:r,link:i,controllerAs:"vm"}}n.AltaiUserListDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-plus",action:function(){n.vm.createNewUser()},"class":"altai-button-go",name:"create",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t){var i=this;i.wmContainerFactory=t;n.list().then(function(n){i.users=n})}return t.prototype.createNewUser=function(){this.wmContainerFactory.createWindow(n.IdentityWindows.userCreate,"createuser")},t.prototype.editUser=function(t){this.wmContainerFactory.createWindow(n.IdentityWindows.userUpdate,"edit",t.id)},t.prototype.openGroups=function(t){this.wmContainerFactory.createWindow(n.IdentityWindows.userGroups,"groups",t.id)},t.prototype.openRoles=function(t){this.wmContainerFactory.createWindow(n.IdentityWindows.userRoles,"roles",t.id)},t}()}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/Identity:UserRoles",controller:r,link:i,controllerAs:"$ctrl",bindToController:!0,scope:{userId:"="}}}n.AltaiUserRolesDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-save",action:function(){n.$ctrl.savePermissions()},"class":"altai-button-go",name:"update",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t,i){this.userAdminService=n;this.authService=t;this.wmContainerFactory=i;this.allSelected=!1;var r=this;n.userRoles(r.userId).then(function(n){r.userRoles=n})}return t.prototype.savePermissions=function(){var t=this;t.userAdminService.updateRoles(this.userId,this.userRoles).then(function(){var i=t.wmContainerFactory.findWindow(n.IdentityWindows.userRoles);t.wmContainerFactory.destroyWindow(i.id)})},t.prototype.selectAll=function(){this.allSelected=!this.allSelected;for(var n=0;n<this.userRoles.length;n++)this.userRoles[n].active=this.allSelected},t}()}(AltaiIdentity||(AltaiIdentity={}));!function(n){function t(n,t,i,r){var f,u,e={},o=function(i){var f=n.defer(),e;return i.headers=i.headers||{},u=u||t.get("authService"),e=r.get("accessToken"),e&&-1==i.url.indexOf("/oauth/token")&&!u.isAccessTokenExpired()?(i.headers.Authorization="Bearer "+e,f.resolve(i)):f.resolve(i),f.promise},s=function(n,i){f=f||t.get("$http");var e=e||t.get("authService"),u=r.get("accessToken");u&&(n.headers.Authorization="Bearer "+u);f(n).then(function(n){i.resolve(n)},function(t){console.log("error retry",n,t);i.reject(t)})},h=function(r){var f=n.defer();return r?(u=u||t.get("authService"),401===r.status?u.getAccessToken()&&u.isAccessTokenExpired()?u.refreshToken().then(function(){s(r.config,f)},function(){u.logout();i.path("/login");f.reject(r)}):(console.error("Unauthorized"),f.reject(r)):f.reject(r)):f.reject(r),f.promise};return e.request=o,e.responseError=h,e}n.authInterceptor=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){var t=function(){function n(n,t,i,r,u,f,e){this.altaiNotificationFactory=f;this.refreshInProgress=!1;this.refreshSubscribers=[];this.accessTokenStoreName="accessToken";this.refreshTokenStoreName="refreshToken";this.rootScope=n;this.http=t;this.q=i;this.altaiClientDataStore=e;this.state=r}return n.prototype.resetTokens=function(){this.accessTokenExp=-1;this.altaiClientDataStore.remove(this.accessTokenStoreName);this.altaiClientDataStore.remove(this.refreshTokenStoreName)},n.prototype.login=function(n){var r=this,i,t;return this.resetTokens(),i=this.q.defer(),t=this,this.http.post(config.backendUrl+"/oauth/token",{grant_type:"password",username:n.identifier,password:n.password}).success(function(n){t.altaiClientDataStore.set(t.accessTokenStoreName,n.access_token);t.altaiClientDataStore.set(t.refreshTokenStoreName,n.refresh_token);t.oauthAuthenticateRedirectUri&&(location.href=t.getOAuthRedirectUri());t.getUserInfo().then(function(n){r.altaiNotificationFactory.success("Welcome back!");t.rootScope.$broadcast("userInfoChanged",null);i.resolve(n)})}).error(function(){r.altaiNotificationFactory.error("Wrong username/password entered");i.reject()}),i.promise},n.prototype.getOAuthRedirectUri=function(){var n=this.oauthAuthenticateRedirectUri;return-1===n.indexOf("?")?n+"?access_token="+encodeURI(this.getAccessToken())+"&lng="+this.rootScope.langCode:n+"&access_token="+encodeURI(this.getAccessToken())+"&lng="+this.rootScope.langCode},n.prototype.register=function(n){var t=this.q.defer(),i=this;return this.http.post(config.backendUrl+"/api/register",n).then(function(n){i.resetTokens();i.altaiNotificationFactory.success("Succesfully created new account");t.resolve(n.data)},function(n){i.altaiNotificationFactory.error(n.data.message);t.reject(n.data)}),t.promise},n.prototype.refreshToken=function(){var r=this,n=this,t;if(this.refreshInProgress)return t=this.q.defer(),this.refreshSubscribers.push(t),t.promise;var t=this.q.defer(),n=this,i=this.altaiClientDataStore.get(n.refreshTokenStoreName);return i?(n.refreshInProgress=!0,n.http.post(config.backendUrl+"/oauth/token",{grant_type:"refresh_token",refresh_token:i}).success(function(i){n.altaiClientDataStore.set(n.accessTokenStoreName,i.access_token);n.altaiClientDataStore.set(n.refreshTokenStoreName,i.refresh_token);delete n.userInfo;n.getUserInfo().then(function(i){n.rootScope.$broadcast("userInfoChanged",null);t.resolve(i);for(var u=angular.copy(n.refreshSubscribers),r=0;r<u.length;r++)u[r].resolve(i),n.refreshSubscribers.splice(n.refreshSubscribers.indexOf(n.refreshSubscribers[r]),1);n.refreshInProgress=!1})}).error(function(){r.logout();for(var i=n.refreshSubscribers.length-1;i>=0;i--)n.refreshSubscribers[i].resolve(),n.refreshSubscribers.splice(i,1);t.reject();n.refreshInProgress=!1})):t.reject(),t.promise},n.prototype.emailConfirm=function(n,t){var i=this.q.defer();return this.http.get(config.backendUrl+"/api/emailConfirm?code="+n+"&userId="+t).then(function(n){i.resolve(n.data)},function(n){i.reject(n.data)}),i.promise},n.prototype.setOauthAuthenticateRedirectUri=function(n){this.oauthAuthenticateRedirectUri=n},n.prototype.changeEmail=function(n){var t=this.q.defer();return this.http.put(config.backendUrl+"/api/user/email",{email:n}).then(function(n){t.resolve(n.data)},function(n){t.reject(n.data)}),t.promise},n.prototype.changePassword=function(n,t){var i=this.q.defer();return this.http.put(config.backendUrl+"/api/user/password",{oldPassword:n,newPassword:t}).then(function(n){i.resolve(n.data)},function(n){i.reject(n.data)}),i.promise},n.prototype.logout=function(){this.resetTokens();delete this.userInfo;this.rootScope.$broadcast("userInfoChanged",{event:"logout"});var n=this.q.defer();return n.resolve(),n.promise},n.prototype.getAccessToken=function(){return this.altaiClientDataStore.get(this.accessTokenStoreName)},n.prototype.getValidAccessToken=function(){var n=this.q.defer();return this.isAccessTokenExpired()?this.refreshToken().then(function(){n.resolve(this.altaiClientDataStore.get(this.accessTokenStoreName))},function(){n.reject()}):n.resolve(this.altaiClientDataStore.get(this.accessTokenStoreName)),n.promise},n.prototype.b64DecodeUnicode=function(n){return decodeURIComponent(Array.prototype.map.call(atob(n),function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""))},n.prototype.getUserInfo=function(){var i=this.q.defer(),t=this,r,u,n;if(t.userInfo)i.resolve(t.userInfo);else if(r=t.getAccessToken(),r){var f,o=r.split("."),s=o[1],e=!1;try{f=this.b64DecodeUnicode(s);e=!0}catch(h){t.resetTokens();t.altaiNotificationFactory.error("Invalid login");i.reject()}e&&(u=document.createElement("textarea"),u.innerHTML=f,n=JSON.parse(u.value),this.accessTokenExp=n.exp,n.r&&"string"==typeof n.r&&(n.r=[n.r]),n.s&&"string"==typeof n.s&&(n.s=[n.s]),t.userInfo=n,i.resolve(n))}else i.reject();return i.promise},n.prototype.isAccessTokenExpired=function(){return this.getUserInfo(),this.accessTokenExp?this.accessTokenExp-30<Math.floor((new Date).getTime()/1e3):!0},n.prototype.isAuthorized=function(n){var i=this,t=i.q.defer();return this.getUserInfo().then(function(i){i&&(i.r&&-1!==i.r.indexOf("Administrator")||i.s&&-1!==i.s.indexOf(n))&&t.resolve(!0);t.reject(!1)}),t.promise},n.prototype.isAuthorizedSync=function(n){var t=this;return!(!t.userInfo||!(t.userInfo.r&&-1!==t.userInfo.r.indexOf("Administrator")||t.userInfo.s&&-1!==t.userInfo.s.indexOf(n)))},n.prototype.passwordRecovery=function(n){var t=this.q.defer();return this.http.post(config.backendUrl+"/api/lostpassword",{email:n}).success(function(n){t.resolve(n)}),t.promise},n.prototype.passwordReset=function(n,t,i){var r=this.q.defer();return this.http.post(config.backendUrl+"/api/password/reset",{newPassword:t,token:n,userId:i}).then(function(n){r.resolve(n)},function(){r.reject()}),r.promise},n.prototype.checkPasswordResetToken=function(n,t){var i=this.q.defer();return this.http.post(config.backendUrl+"/api/password/resetvalidation",{code:n,userId:t}).then(function(n){i.resolve(n)},function(){i.reject()}),i.promise},n}();n.authService=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){var t=function(){function n(n,t,i,r,u){this.altaiHttp=i;this.apiUrl="/api/group";this.list=function(){var n=this.q.defer();return this.altaiHttp.get(this.config.backendUrl+this.apiUrl).then(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise};this.q=n;this.http=t;this.config=r;this.logService=u}return n.prototype.create=function(n){var t=this.q.defer(),i=this;return this.http.post(config.backendUrl+this.apiUrl,n).then(function(n){i.logService.log("success","Created the new group");t.resolve(n.data)},function(n){i.logService.log("error",n.data.message);t.reject()}),t.promise},n.prototype.read=function(n){var t=this.q.defer();return this.http.get(config.backendUrl+this.apiUrl+"/"+n).then(function(n){t.resolve(n.data)},function(n){t.reject(n)}),t.promise},n.prototype.listUser=function(n){var t=this.q.defer();return this.http.get(this.config.backendUrl+"/api/user/"+n+"/group").then(function(n){t.resolve(n.data)},function(n){t.reject(n)}),t.promise},n.prototype.updateUser=function(n,t){for(var r=this.q.defer(),u=[],i=0;i<t.length;i++)u.push({id:t[i].id,identityGroupRoles:t[i].identityGroupRoles});return this.http.post(config.backendUrl+"/api/user/"+n+"/group",u).then(function(n){r.resolve(n.data)},function(n){r.reject(n)}),r.promise},n.prototype.createGroupRole=function(n,t){var i=this.q.defer(),r=this;return this.http.post(config.backendUrl+this.apiUrl+"/"+n+"/role",t).then(function(n){r.logService.log("success","Created the new groupRole");i.resolve(n.data)},function(n){r.logService.log("error",n.data.message);i.reject()}),i.promise},n}();n.groupAdminFactory=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){var t=function(){function n(n,t,i,r){this.q=n;this.http=t;this.config=i;this.logService=r}return n.prototype.create=function(n){var t=this.q.defer(),i=this;return this.http.post(this.config.backendUrl+"/api/role",n).then(function(n){i.logService.log("success","Created the new role");t.resolve(n.data)},function(n){i.logService.log("error",n.data.message);t.reject()}),t.promise},n.prototype.list=function(){var n=this.q.defer();return this.http.get(config.backendUrl+"/api/role").then(function(t){n.resolve(t.data)}),n.promise},n.prototype.rolePermissions=function(n){var t=this.q.defer();return this.http.get(config.backendUrl+"/api/rolePermission?RoleName="+n).success(function(n){t.resolve(n)}),t.promise},n.prototype.updatePermissions=function(n,t){var i=this.q.defer(),r=this;return this.http.put(this.config.backendUrl+"/api/rolePermission?RoleName="+n,t).then(function(n){r.logService.log("success","Succesfully changed the rolePermissions");i.resolve(n.data)}),i.promise},n}();n.roleAdminService=t}(AltaiIdentity||(AltaiIdentity={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"/api/user","User",i,r,t,u)||this}return __extends(t,n),t.prototype.userRoles=function(n){var t=this.$q.defer();return this.$http.get(config.backendUrl+"/api/user/"+n+"/roles").success(function(n){t.resolve(n)}),t.promise},t.prototype.updateRoles=function(n,t){var i=this.$q.defer(),r=this;return this.$http.put(config.backendUrl+"/api/user/"+n+"/roles",t).then(function(n){r.notificationFactory.success("Succesfully changed the userpermissions");i.resolve(n.data)}),i.promise},t}(AltaiCore.AltaiDataService);n.UserAdminService=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){var t=function(){function n(n,t){this.$http=n;this.$q=t}return n.prototype.getRelatedSecurables=function(n){var t=this,i=t.$q.defer();return t.$http.get("api/securable/").success(function(t){i.resolve(t.filter(function(t){return 0===t.name.indexOf(n)}))}),i.promise},n.prototype.listSecurable=function(){var n=this,t=n.$q.defer();return n.$http.get("api/securable/").success(function(n){t.resolve(n)}),t.promise},n.prototype.updateSecurable=function(n){var t=this,i=t.$q.defer();return t.$http.post("api/securable",n).success(function(){i.resolve()}),i.promise},n.prototype.getSecurableAccesses=function(n,t){var i=this,r=i.$q.defer();return i.$http.get("api/securableaccess?securable="+n+"&securableKey="+t).success(function(n){r.resolve(n)}),r.promise},n.prototype.setSecurableAccesses=function(n,t,i){var r=this,u=r.$q.defer();return r.$http.post("api/securableaccess?securable="+n+"&securableKey="+t,i).success(function(){u.resolve()}),u.promise},n}();n.AuthorizationService=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){var t=function(){function n(n,t){this.authService=n;this.$q=t}return n.prototype.getUserInfo=function(){var n=this;return n.$q.defer(),this.authService.getUserInfo()},n}();n.UserInfoService=t}(AltaiIdentity||(AltaiIdentity={}));!function(n){var t=angular.module("altai.identity",["ngCookies"]);config.redirectAdminState="admin.content.type";config.redirectUserState="Root.Home";t.component("altaiSecurableAccesses",new n.AltaiSecurableAccessesComponent);t.component("securableUpdate",new n.SecurableUpdateComponent);t.service("authService",n.authService);t.service("authInterceptor",n.authInterceptor);t.service("groupAdminFactory",n.groupAdminFactory);t.service("roleAdminService",n.roleAdminService);t.service("userAdminService",n.UserAdminService);t.service("authorizationService",n.AuthorizationService);t.service("userInfoService",n.UserInfoService);t.directive("altaiUserList",n.AltaiUserListDirective);t.directive("altaiUserCreate",n.AltaiUserCreateDirective);t.directive("altaiUserGroups",n.AltaiUserGroupDirective);t.directive("altaiUserUpdate",n.AltaiUserUpdateDirective);t.directive("altaiUserRoles",n.AltaiUserRolesDirective);t.directive("altaiRoleList",n.AltaiRoleListDirective);t.directive("altaiRoleCreate",n.AltaiRoleCreateDirective);t.directive("altaiRolePermissions",n.AltaiRolePermissionsDirective);t.directive("altaiGroupList",n.AltaiGroupListDirective);t.directive("altaiGroupCreate",n.AltaiGroupCreateDirective);t.directive("altaiGroupProfile",n.AltaiGroupProfileDirective);t.directive("altaiGroupRoleCreate",n.AltaiGroupRoleCreateDirective);config.modules.push("altai.identity");t.config(function(t,i,r,u){i.state("login",{url:"/login",system:!0,views:{bodyView:{altaiTemplate:"login",altaiTemplateType:"System",controller:n.LoginController,controllerAs:"vm"}}}).state("logout",{url:"/logout",system:!0,views:{bodyView:{altaiTemplate:"logout",altaiTemplateType:"System",controllerAs:"vm"}},resolve:{logout:function(n,t,i){n.logout().then(function(){t(function(){i.url("/")},1500)})}}}).state("accessdenied",{url:"/accessdenied",system:!0,views:{bodyView:{template:"Access denied"}}}).state("createpassword",{url:"/createpassword",system:!0,views:{bodyView:{altaiTemplate:"createpassword",altaiTemplateType:"System",controller:n.CreatePasswordController,controllerAs:"$ctrl",resolve:{validToken:function(n,t){return n.checkPasswordResetToken(t("code"),t("userid"))}}}}}).state("lostpassword",{url:"/lostpassword",system:!0,views:{bodyView:{altaiTemplate:"lostpassword",altaiTemplateType:"System",controller:n.LostPasswordController,controllerAs:"$ctrl"}}}).state("oauthauthenticate",{url:"/oauth/authenticate",system:!0,views:{bodyView:{controller:n.OAuthAuthenticateController,controllerAs:"$ctrl"}}});i.state("admin.security",{url:"/security",abstract:!0}).state("admin.security.user",{url:"/user",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.UserListController}}}).state("admin.security.role",{url:"/role",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.RoleListController}}}).state("admin.security.updatesecurable",{url:"/securable",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.SecurableUpdateController}}}).state("admin.security.debug",{url:"/debug",system:!0,views:{"bodyView@":{altaiTemplate:"identity:accessdebugconsole",altaiTemplateType:"Admin",controller:n.AccessDebugConsoleController,controllerAs:"$ctrl"}}}).state("admin.security.group",{url:"/group",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.GroupListController}}});t.interceptors.push("authInterceptor");u.add({name:"config.users",securable:"accessmanagement",parent:"config",label:"users",state:"admin.security.user",icon:"mdi mdi-account-multiple"});u.add({name:"config.roles",securable:"accessmanagement",parent:"config",label:"roles",state:"admin.security.role",icon:"mdi mdi-account-box-outline"});u.add({name:"config.groups",securable:"accessmanagement",parent:"config",label:"groups",state:"admin.security.group",icon:"mdi mdi-account-box-outline"});u.add({name:"config.debug",securable:"accessmanagement.debug",parent:"config",label:"debugsecurity",state:"admin.security.debug",icon:"mdi mdi-account-box-outline"});u.add({name:"config.securable",securable:"accessmanagement",parent:"config",label:"securable",state:"admin.security.updatesecurable",icon:"mdi mdi-account-box-outline"});u.add({parent:"config",name:"template.types",securable:"accessmanagement",label:"Theme editor filemanager",icon:"mdi mdi-file-xml",state:"admin.template.type"});r.register({templateUrl:"installerIdentity"})});t.run(function(n,t){n.$on("$stateChangeStart",function(n,i){i.securable&&!t.isAuthorizedSync(i.securable)&&n.preventDefault()})})}(AltaiIdentity||(AltaiIdentity={}));!function(n){var t=function(){function n(){}return n}();n.Template=t}(AltaiTheming||(AltaiTheming={}));angular.module("altai.templates",["ui.router"]).config(function(n){n.state("admin.theme",{abstract:!0,url:"/theme"}).state("admin.theme.list",{url:"/list",system:!0,views:{"adminContentView@admin":{altaiTemplate:"themeList",controller:"themeListController",controllerAs:"vm"}},resolve:{themeListData:function(n){return n.list()}}}).state("admin.theme.read",{url:"/:id",system:!0,views:{"adminContentView@admin":{altaiTemplate:"themeRead",controller:"themeReadController",controllerAs:"vm"}},resolve:{themeData:function(n,t){return n.read(t.id)}}}).state("admin.theme.template",{url:"/template/:id",system:!0,views:{"adminContentView@admin":{altaiTemplate:"themeTemplateUpdate",controller:"themeTemplateUpdateController",controllerAs:"vm"}},resolve:{templateContent:function(n,t){return n.fromAltai(t.id)}}})});config.modules.push("altai.templates");angular.module("altai.templates").controller("themeListController",function(n){this.themes=n});angular.module("altai.templates").controller("themeReadController",function(n){this.theme=n});angular.module("altai.templates").controller("themeTemplateUpdateController",function(n){this.templateContent=n});angular.module("altai.templates").service("$templateFactory",function(n,t,i,r,u){this.fromConfig=function(n,t){return n.template?n.template:n.altaiTemplate?this.fromAltai(n.altaiTemplate,n.altaiTemplateType,t):n.panelId?this.fromPanel(n.panelId):null};this.fromAltai=function(n,r){return t.get(config.backendUrl+"/api/template/"+r+"/"+n,{cache:i}).then(function(n){return n.data})};this.fromPanel=function(n){return r.getPanelContent(n)};this.listTemplateType=function(){var i=n.defer();return 0!=_templateType.length?i.resolve(_templateType):t.get(config.backendUrl+"/api/templateType").then(function(n){angular.copy(n.data,_templateType);i.resolve(_templateType)},function(){i.reject()}),i.promise};this.listTemplateByTypeName=function(i){var r=n.defer();return t.get(config.backendUrl+"/api/template?type="+i).then(function(n){r.resolve(n.data)},function(n){logService.log("error",n.data);r.reject()}),r.promise};this.scanTemplates=function(){var i=n.defer();return t.get(config.backendUrl+"/api/template/scan").then(function(n){i.resolve(n.data)}),i.promise};this.deleteCache=function(){u.get("templates").removeAll()}});angular.module("altai.templates").factory("themeFactory",function(n,t){var i={};return i.list=function(){var i=t.defer();return n.get(config.backendUrl+"/api/theme").success(function(n){i.resolve(n)}),i.promise},i.read=function(i){var r=t.defer();return n.get(config.backendUrl+"/api/theme/"+i).success(function(n){r.resolve(n)}),r.promise},i});!function(n){function t(n,t,i,r,u){var f={},o=function(n){var i=t.open({templateUrl:"app/areas/admin/localization/views/translatableModal.html",resolve:{translatableId:function(){return n}},controller:function(n,t,i,r,u){n.get(config.backendUrl+"/api/translatable/"+u).then(function(n){i.translatable=n.data});i.save=function(){n.put(config.backendUrl+"/api/translatable",i.translatable).then(function(){r.close(i.translatable.translatableValues[0].value)})};i.cancel=function(){r.dismiss("cancel")}}});return i.result},s=function(n){var t=i.defer();return r.get(config.backendUrl+"/api/translatable?coded=true&languageId="+n).then(function(n){t.resolve(n.data)},function(n){u.log(n.data.message);t.reject()}),t.promise},h=function(n){var t=i.defer();return r.post(config.backendUrl+"/api/translatable",n).then(function(n){u.log("success","Succesfully created new translatable");t.resolve(n.data)},function(n){u.log("error",n.data.message);t.reject()}),t.promise},c=function(n){var t=i.defer();return r["delete"](config.backendUrl+"/api/translatable"+n).then(function(n){u.log("success","Succesfully removed the translatable");t.resolve(n.data)},function(n){u.log("error",n.data.message);t.reject()}),t.promise},l=function(n){var t=i.defer();return r.put(config.backendUrl+"/api/translatableList",n).then(function(n){u.log("success","Succesfully saved the translatables");t.resolve(n.data)},function(n){u.log("error",n.data.message);t.reject()}),t.promise},e=!1,a=function(n){var t=i.defer();return f||e?t.resolve(f):(e=!0,r.get(config.backendUrl+"/api/translations?languageCode="+n).then(function(n){angular.copy(n.data,f);t.resolve(f)})),t.promise},v=function(n){return n=n.toLowerCase(),f&&n in f?f[n]:"("+n+")"};return{openTranslationsModal:o,listCodedTranslatable:s,createTranslatable:h,deleteTranslatable:c,updateTranslatableList:l,translate:v,listTranslations:a}}n.TranslatableFactory=t}(AltaiLocalization||(AltaiLocalization={}));!function(n){function t(n,t,i,r,u){var h,f=[],e={},c=function(n){var t=r.defer();return i.post(config.backendUrl+"/api/language",n).then(function(n){f.push(n.data);t.resolve(n.data)},function(n){t.reject(n)}),t.promise},l=function(n){var t=r.defer();return s().then(function(){var i=f.filter(function(t){return t.id==n})[0];h=f.indexOf(i);t.resolve(i)}),t.promise},a=function(n){var t=r.defer();return i.put(config.backendUrl+"/api/language/",n).then(function(n){t.resolve(n.data)},function(n){t.reject(n)}),t.promise},v=function(n){var t=r.defer();return i["delete"](config.backendUrl+"/api/language/"+n).then(function(){var i=f.filter(function(t){return t.id==n}),r=f.indexOf(i[0]);f.splice(r,1);t.resolve()},function(){t.reject()}),t.promise},s=function(){var n=r.defer();return f.length?n.resolve(f):t.get(config.backendUrl+"/api/language").then(function(t){angular.copy(t,f);n.resolve(f)},function(t){n.reject(t)}),n.promise},o=function(n){var t=r.defer();return o?t.resolve(e):i.get(config.backendUrl+"/api/translations?languageCode="+n).then(function(n){angular.copy(n.data,e);t.resolve(e)}),t.promise},y=function(n){o(n)},p=function(){return u.use()};return{getCurrentLangCode:p,createLanguage:c,readLanguage:l,updateLanguage:a,deleteLanguage:v,listLanguage:s,listTranslations:o,changeActiveLanguage:y}}n.LanguageFactory=t}(AltaiLocalization||(AltaiLocalization={}));!function(n){var t=function(){function n(n,t,i,r,u,f){this.$translate=n;this.$q=t;this.$rootScope=i;this.altaiClientDataStore=r;this.$cookies=u;this.$timeout=f;var e=this,s=this.$cookies.get("langCode"),o=this.altaiClientDataStore.get("langCode");s!=o&&(e.altaiClientDataStore.set("langCode",s),o=s);o?e.$translate.use(o).then(function(){e.currentLangCode=o}):(e.currentLangCode=e.$translate.use(),e.altaiClientDataStore.set("langCode",e.currentLangCode));i.$watch(function(){return e.$cookies.get("langCode")},function(n,t){t!==n&&void 0!==n&&void 0!==t&&(e.changeLang(n),window.location.reload(!0))})}return n.prototype.changeLang=function(n){var i=this.$q.defer(),t=this;return t.altaiClientDataStore.set("langCode",n),this.$translate.use(n).then(function(){t.currentLangCode=n;t.$rootScope.$broadcast("languageChanged");i.resolve()}),i.promise},n.prototype.getCurrentLangCode=function(){var t=this,n=this.$cookies.get("langCode");return n||(n=t.$translate.use(),n?t.changeLang(n).then(function(t){n=t;window.location.reload(!0)}):t.changeLang("nl").then(function(t){n=t;window.location.reload(!0)})),"nl"==n||"fr"==n||"en"==n?n:"nl"},n}();n.AltaiLocalizationService=t}(AltaiLocalization||(AltaiLocalization={}));!function(n){function t(n){return{request:function(t){var i=n.get("altaiLocalizationService");return t.headers=t.headers||{},t.headers["Accept-Language"]||(i.getCurrentLangCode()?t.headers["Accept-Language"]=i.getCurrentLangCode():localStorage.getItem("langCode")&&(t.headers["Accept-Language"]=localStorage.getItem("langCode"))),t}}}n.LanguageCodeInterceptor=t}(AltaiLocalization||(AltaiLocalization={}));!function(n){function t(){return{scope:{languages:"=",translatable:"=altaiTranslatableInput",inputType:"@"},bindToController:!0,controllerAs:"vm",controller:i,template:"<div class='altai-translatable-input' ng-repeat='language in vm.languages | filter:{selected:true}'><div class='lang-container'><span class='lang'>{{language.code}}<\/span><\/div><div class='input-container'><input type='text' ng-if=\"vm.intInputType=='input'\" ng-model='vm.values[language.code]'><altai-text-editor template='complex' ng-if=\"vm.intInputType=='texteditor'\" ng-model='vm.values[language.code]'><\/altai-text-editor><altai-text-editor template='complexemail' ng-if=\"vm.intInputType=='email'\" ng-model='vm.values[language.code]'><\/altai-text-editor><\/div><\/div>"}}n.AltaiTranslatableInputDirective=t;var i=function(){function n(n,t){this.languageFactory=n;this.intInputType="input";var i=this;i.inputType&&(i.intInputType=i.inputType);t.$watch("vm.translatable",function(){if(i.values||(i.values={}),i.translatable)for(var n=0;n<i.translatable.translatableValues.length;n++)i.values[i.translatable.translatableValues[n].languageCode]=i.translatable.translatableValues[n].value},!0);this.initTranslatable();t.$watch("vm.values",function(){i.translatable||i.initTranslatable();i.mapTranslateValues()},!0)}return n.prototype.initTranslatable=function(){this.translatable||(this.translatable={translatableValues:[]})},n.prototype.mapTranslateValues=function(){var r=this,t,n,i;if(this.values)for(t=Object.keys(this.values),n=0;n<t.length;n++)i=this.translatable.translatableValues.filter(function(i){return i.languageCode==t[n]})[0],i?i.value=this.values[t[n]]:this.translatable.translatableValues.push({languageCode:t[n],value:r.values[t[n]]})},n}()}(AltaiLocalization||(AltaiLocalization={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/AltaiLanguageBar",controller:i,controllerAs:"vm",bindToController:!0,scope:{languages:"=",allowMultiple:"=",useDefaults:"="}}}n.AltaiLanguageBarDirective=t;var i=function(){function n(n){var t=this;t.languageFactory=n;this.languageFactory.listLanguage().then(function(n){if(t.languages=angular.copy(n),n)if(t.useDefaults)t.languages.filter(function(n){return n["default"]}).map(function(n){return n.selected=!0,n});else{var i=t.languages.filter(function(n){return n.code===t.languageFactory.getCurrentLangCode()})[0];i.selected=!0;t.activeLang=i}})}return n.prototype.toggleLang=function(n){if(this.allowMultiple){var t=this.languages.filter(function(n){return n.selected}).length;(t>1||!n.selected)&&(n.selected=!n.selected)}else this.activeLang&&(this.activeLang.selected=!1),n.selected=!0,this.activeLang=n},n}()}(AltaiLocalization||(AltaiLocalization={}));!function(n){var t=angular.module("altai.localization",["pascalprecht.translate"]);t.service("translatableFactory",n.TranslatableFactory);t.service("languageFactory",n.LanguageFactory);t.service("languageCodeInterceptor",n.LanguageCodeInterceptor);t.directive("altaiTranslatableInput",n.AltaiTranslatableInputDirective);t.directive("altaiLanguageBar",n.AltaiLanguageBarDirective);t.service("altaiLocalizationService",n.AltaiLocalizationService);t.config(function(n,t){t.interceptors.push("languageCodeInterceptor");n.useSanitizeValueStrategy(null);n.registerAvailableLanguageKeys(["nl","fr"],{fr:"fr","fr_*":"fr",nl:"nl","nl_*":"nl"});n.fallbackLanguage("nl");var i=localStorage.getItem("langCode");i&&n.preferredLanguage(i)});t.run(function(n,t,i,r,u){var f=u("langcode");f&&f!=i.getCurrentLangCode()?(i.changeLang(f),t.search("langcode",void 0),location.reload()):f&&t.search("langcode",void 0);n.langCode=i.getCurrentLangCode();r.use(n.langCode)});config.modules.push("altai.localization")}(AltaiLocalization||(AltaiLocalization={}));!function(n){function t(n,t,i){var r=this;this.menus=i;this.createMenu=function(n){t.add(n).then(function(n){r.push(n)})};this.deleteMenu=function(n){t["delete"](n)}}n.MenuListController=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(n,t,i,r,u,f,e,o){n.newMenuItem={};n.newMenuItem.target="self";u.getById(r.id).then(function(t){n.menu=t});n.updateMenu=function(){u.update(n.menu)};f.list().then(function(t){n.states=t});n.createMenuItem=function(){n.newMenuItem.menuId=r.id;u.createMenuItem(n.newMenuItem).then(function(){n.newMenuItem={}})};n.deleteMenuItem=function(n){u.deleteMenuItem(n)};n.moveMenuItem=function(t,i){u.moveMenuItem(t,i).then(function(){u.getById(r.id).then(function(t){n.menu=t})})};n.openTranslations=function(n){e.openTranslationsModal(n)};o.listTemplateByTypeName("menu").then(function(t){n.templates=t})}n.MenuUpdateController=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(n,t,i,r,u,f,e,o,s){function h(n){for(var t=0;t<n.buildingBlocks.length;t++)n.buildingBlocks[t].order=t;return n}t.panel=s;e.listTemplateByTypeName("Panel").then(function(n){t.panelTemplates=n;console.log(n)});t.deleteBlock=function(n){o.deleteBuildingBlock(n).then(function(){f.readPanel(u.id).then(function(n){t.panel=n});e.deleteCache("/api/panel/"+u.id+"/content")})};t.savePanel=function(){f.updatePanel(h(t.panel)).then(function(){r.go(n.previousState.name)})};t.moveBlock=function(n,t){o.moveBuildingBlock(n,t)};t.buildingBlockSortingOptions={stop:function(n,t){o.moveBuildingBlock(t.item.scope().buildingBlock.id,t.item.scope().$index)}};t.saveBuildingBlock=function(n,i){o.updateBuildingBlock({id:i,name:n.name}).then(function(){f.readPanel(u.id).then(function(n){return t.panel=n,!0})})};t.dragControlListeners={accept:function(){return!0}}}n.PanelUpdateController=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(n,t,i,r,u,f,e,o,s){u.getById(r.id).then(function(t){n.state=t});n.panels=s;u.list().then(function(t){n.states=t});n.updateState=function(){u.update(n.state).then(function(){e.go("admin.state.list")})};o.listTemplateByTypeName("State").then(function(t){n.stateTemplates=t});n.openTranslations=function(){f.openTranslationsModal(n.state.titleTranslatableId)};n.addUrl=function(){n.state.urls.push({name:n.newUrl.name,languageId:n.newUrl.languageId});n.newUrl={}}}n.StateUpdateController=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(n,t,i,r,u,f,e,o){""==u.rootPanelID&&(u.rootPanelID=0);t({method:"GET",url:o.backendUrl+"/api/stateview?url="+u.stateURL+"&rootPanelID="+u.rootPanelID}).then(function(t){n.stateView=t.data});n.saveStateView=function(){f.updateStateView(n.stateView);r.go(n.stateView.state.name)}}n.StateUpdateViewController=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(t,i,r){r.createWindow(n.PageBuilderWindows.stateList,"States","")}n.StateListController=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(){return{restrict:"A",link:i}}function i(){}n.AltaiBbDirective=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(){return{scope:{content:"=altaiHtml"},controller:function(n,t){n.output=t.trustAsHtml(n.content)},template:"<div ng-bind-html='output'><\/div>",replace:!0}}n.AltaiHtmlDirective=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(){return{scope:{panelId:"@",panelName:"@"},transclude:!0,replace:!0,template:'<div class="altai-panel" ng-class="{\'edit-mode\':$ctrl.modes.editMode,\'local-edit\':$ctrl.localEdit}"><div class="header"><div ng-if="!$ctrl.isBuildingBlock" ng-click="$ctrl.updatePanel()" class="button"><i class="mdi mdi-pencil" ><\/i><\/div><div class="header-inner"><b>Panel:<\/b>&nbsp;{{$ctrl.panelName}}<\/div><\/div><\/div>',controllerAs:"$ctrl",bindToController:!0,link:function(n,t,i,r,u){u(n,function(n){n.addClass("altai-panel-zone");t.append(n)})},controller:function(n,t,i,r,u){var f=this;f.localEdit=!0;f.modes=u.getModes();f.isBuildingBlock=i.buildingBlockId;f.updatePanel=function(){u.activePanelId=i.panelId;delete u.activeBuildingBlockId;u.activeBuildingBlockType="Panel";u.modes.buildingBlockUpdate=!0;t.$broadcast("activeBuildingBlockChanged")}}}}n.AltaiPanelDirective=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(n){var t={};return t.scope=!0,t.restrict="E",t.templateUrl=n.backendUrl+"/api/template/cmsSidebar2",t.controller=function(n,t,i,r,u,f,e){function o(){r.getUserInfo().then(function(i){i&&i.accesses.indexOf("admin.menu")>-1?(t.hasAccess=!0,2!=n.adminMenu&&(n.adminMenu=1),n.mode="manager",u.list().then(function(n){t.states=n}),t.buildingBlockTypes=f.list(),e.listInstance().then(function(n){t.buildingBlockInstances=n})):(t.hasAccess=!1,n.adminMenu=0)})}n.startState="edit";t.changeMode=function(){n.mode="edit"==n.mode?"manager":"edit"};o();n.$on("userInfoChanged",o);t.setActiveDrag=function(t,i,r){n.activeDragId=i;n.activeDragType=t;n.activeDragInstance=r}},t}n.CmsSidebarDirective=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(n,t,i){return{restrict:"A",scope:{templateId:"@tplId",navigationId:"@navigationId"},controller:function(t){n.getById(t.navigationId).then(function(n){t.menu=n})},link:function(n,r){0!=n.templateId?t.get(config.backendUrl+"/api/template/"+n.templateId).then(function(t){r.html(t.data).show();i(r.contents())(n)}):(r.html("<div style='background-color:#efefef;padding: 10px;margin-bottom:10px;text-algin:left;'><a href='#/admin/menu/"+n.navigationId+"'><i class='fa fa-info'> Configure this menu first<\/a><\/div>").show(),i(r.contents())(n))}}}n.MenuDirective=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(n,t,i,r,u,f,e){return{restrict:"A",scope:{panelZone:"@",panelId:"@"},template:'<div data-ng-show="$root.mode==\'edit\'" altai-drop="drop()" class="buildingblock-dropzone"><i class="fa fa-plus"><\/i>&nbsp;Add new building block <\/div>',link:function(n,t){t.bind("dragover",function(n){n.preventDefault()})},controller:function(i,r,u){i.panelZone||(i.panelZone="main");i.drop=function(){u.$broadcast("$buildingBlockCreated",{});var s=r[0].children,o=s[s.length-1];"newBuildingBlock"==u.activeDragType?f.createBuildingBlock(i.panelId,u.activeDragId,i.panelZone).then(function(r){console.log(i.panelZone);n.get(config.backendUrl+"/api/buildingblock/"+r.id).then(function(n){angular.element(o).before(t(n.data)(i.$parent))})}):"exBuildingBlock"==u.activeDragType?f.createBuildingBlockInstance(i.panelId,u.activeDragId,i.panelZone).then(function(r){n({method:"GET",url:config.backendUrl+"/api/buildingblock/"+r.id}).then(function(n){angular.element(o).before(t(n.data)(i.$parent))})}):"newPanel"==u.activeDragType?e.add({name:"Panel in panel",templateId:u.activeDragId}).then(function(n){f.createExBuildingBlock(i.panelZoneInstanceId,1,n.id).then(function(n){var r=angular.element(o);r.insertAdjacentHTML("beforebegin",t(n.data)(i))})}):"exPanel"==u.activeDragType?f.createExBuildingBlock(i.panelZoneInstanceId,1,u.activeDragId).then(function(n){var r=angular.element(o);r.insertAdjacentHTML("beforebegin",t(n.content)(i))}):"exContent"==u.activeDragType&&f.createExBuildingBlock(i.panelZoneInstanceId,3,u.activeDragId).then(function(n){var r=angular.element(o);r.insertAdjacentHTML("beforebegin",t("<div>"+n.content+"<\/div>")(i))})}}}}n.PanelDropDirective=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(){return{scope:{stateId:"="},bindToController:!0,controllerAs:"vm",controller:i,templateUrl:"/api/template/Admin/StateProfile"}}n.StateProfileDirective=t;var i=function(){function t(n,t,i,r,u,f){this.wmContainerFactory=f;var e=this;this.stateManager=i;this.$templateFactory=u;this.panelManager=r;e.panelManager.list().then(function(n){e.panels=n});this.stateManager.getById(this.stateId,!1).then(function(n){e.state=n});this.stateManager.list().then(function(n){e.states=n});this.$templateFactory.listTemplateByTypeName("State").then(function(n){e.stateTemplates=n});n.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){e.updateState(e.state,t)},name:"save","class":"altai-button-go",separator:!0},{translatableTooltipId:"accesses",icon:"mdi-key",action:function(){e.openStateAccessesWindow()},"class":"altai-button-primary",name:"accesses",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return t.prototype.updateState=function(){var t=this;t.stateManager.update(this.state).then(function(){var i=t.wmContainerFactory.findWindow(n.PageBuilderWindows.stateProfile,t.state.id);t.wmContainerFactory.destroyWindow(i.id)})},t.prototype.openPanelAccessesWindow=function(n){var t=this;t.wmContainerFactory.createWindow(AltaiIdentity.IdentityWindows.setSecurableAccesses,"Accesses",n,{securableName:"panel.item"})},t.prototype.openStateAccessesWindow=function(){var n=this;n.wmContainerFactory.createWindow(AltaiIdentity.IdentityWindows.setSecurableAccesses,"Accesses",n.stateId,{securableName:"state.open"})},t}()}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/StateCreate",controller:i}}n.StateCreateDirective=t;var i=function(){function t(t,i,r,u,f,e){this.wmContainerFactory=f;var o=this;t.state={};t.state.urls=[];t.state.urls[0]={};e.listTemplateByTypeName("State").then(function(n){t.stateTemplates=n});t.createState=function(){if("root"==t.stateType)t.parentStateId="";else{var i=t.states.filter(function(n){return n.id==t.state.parentStateId})[0];t.state.name=i.name+"."+t.state.name}u.createState(t.state).then(function(){var t=o.wmContainerFactory.findWindow(n.PageBuilderWindows.stateCreate);o.wmContainerFactory.destroyWindow(t.id)})};u.list().then(function(n){t.states=n});t.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){t.createState()},name:"save","class":"altai-button-go",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return t}()}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(){return{controllerAs:"vm",controller:i,templateUrl:"/api/template/Admin/StateList"}}n.StateListDirective=t;var i=function(){function t(n,t,i,r){this.stateManager=n;this.$state=t;this.wmContainerFactory=i;this.altaiConfirmationService=r;var u=this;this.wmContainerFactory=i;n.list().then(function(n){u.states=n})}return t.prototype.openStateProfile=function(t){this.wmContainerFactory.createWindow(n.PageBuilderWindows.stateProfile,t.name,t.id)},t.prototype.deleteState=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.stateManager["delete"](n)})},t.prototype.openState=function(n){this.$state.go(n.name)},t.prototype.createState=function(){this.wmContainerFactory.createWindow(n.PageBuilderWindows.stateCreate,"Create new state","")},t}()}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/AltaiUpdateBuildingBlockPopup",controllerAs:"$ctrl",replace:!0,scope:!0,link:function(n,t){function f(){window.removeEventListener("mousemove",u,!0)}function e(n){r.x=n.clientX-i.offsetLeft;r.y=n.clientY-i.offsetTop;window.addEventListener("mousemove",u,!0)}function u(n){var t=n.clientY-r.y,u=n.clientX-r.x;i.style.top=t+"px";i.style.left=u+"px"}var i=t[0],o=t.find(".buildingblocks-grid-header")[0],r={x:0,y:0};o.addEventListener("mousedown",e,!1);window.addEventListener("mouseup",f,!1)},controller:function(n,t,i,r,u,f){var e=this;e.modes=n.modes;r.buildingBlockTypes=t.list();r.inconfigurationmode=!0;e.activeDropLocation=n.activeDropLocation;r.$on("editModeChanged",function(){n.modes.editMode||e.closePopup()});r.$on("$stateChangeStart",function(){e.closePopup()});r.$on("activeBuildingBlockChanged",function(){var c=t.list(),h=n.activePanelId,s=n.activeBuildingBlockId,e=c.filter(function(t){return t.name==n.activeBuildingBlockType})[0],o;e&&e.updateComponent&&(n.modes.popupMainMenu=!0,o=u.find(".inline-component"),r.activeBuildingBlockId=s,s?f.getBuildingBlockProfile(s).then(function(n){r.activeBuildingBlockInstanceId=n.instanceId;o.html(i(e.updateComponent)(r))},function(){o.html(i(e.updateComponent)(r))}):h&&(r.activeBuildingBlockInstanceId=h,o.html(i(e.updateComponent)(r))))});this.closePopup=function(){n.modes.buildingBlockUpdate=!1}}}}n.AltaiUpdateBuildingBlockPopupDirective=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/AltaiCreateBuildingBlockPopup",controllerAs:"$ctrl",replace:!0,scope:!0,link:function(n,t){function f(){window.removeEventListener("mousemove",u,!0)}function e(n){r.x=n.clientX-i.offsetLeft;r.y=n.clientY-i.offsetTop;window.addEventListener("mousemove",u,!0)}function u(n){var t=n.clientY-r.y,u=n.clientX-r.x;i.style.top=t+"px";i.style.left=u+"px"}var i=t[0],r={x:0,y:0};i.addEventListener("mousedown",e,!1);window.addEventListener("mouseup",f,!1)},controller:function(n,t,i,r,u){var f=this;f.modes=n.modes;r.buildingBlockTypes=t.list();r.inconfigurationmode=!0;f.activeDropLocation=n.activeDropLocation;r.$on("activePanelChanged",function(){u[0].style.left=n.activeDropLocation.offset().left+5+"px";u[0].style.top=n.activeDropLocation.offset().top+35+"px"});r.$on("editModeChanged",function(){n.modes.editMode||f.closePopup()});r.$on("$stateChangeStart",function(){f.closePopup()});this.closePopup=function(){n.modes.popupOpened=!1};r.createBb=function(t,f){if(f||(f={}),t.createComponent){n.modes.popupMainMenu=!0;var e=u.find(".inline-component");e.html(i(t.createComponent)(r))}else n.createBuildingBlock(t.name,f)}}}}n.AltaiCreateBuildingBlockPopupDirective=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){var i=function(){function n(){this.template="<div class='altai-panel-building-block-creator' ng-click='$ctrl.toggleLocalCreateMode()'><div class='footer-inner'><i class='mdi mdi-plus'><\/i>&nbsp;{{'addbuildingblock'|translate}}<\/div><\/div>";this.controller=t;this.require={altaiPanel:"^altaiPanel"};this.bindings={zone:"@"}}return n}(),t;n.AltaiPanelBuildingBlockCreatorComponent=i;t=function(){function n(n,t,i){this.$element=n;this.$scope=t;this.altaiEditModeService=i;this.toggleLocalCreateMode=function(){var n=this;n.$element.parent().addClass("local-edit");n.altaiEditModeService.modes.popupOpened=!0;n.altaiEditModeService.modes.popupMainMenu=!0;n.altaiEditModeService.activeDropLocation&&n.$element!=n.altaiEditModeService.activeDropLocation&&n.altaiEditModeService.activeDropLocation.parent().removeClass("local-edit");n.altaiEditModeService.activeDropLocation=n.$element;n.altaiEditModeService.activePanelId=this.altaiPanel.panelId;n.altaiEditModeService.activeZone=this.zone;n.$scope.$emit("activePanelChanged")};t.$on("editModeChanged",function(){i.activeDropLocation&&i.activeDropLocation.parent().removeClass("local-edit")})}return n}()}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){var i=function(){function n(){this.controller=t;this.template="<div ng-click='$ctrl.updateBuildingBlock()'><i class='mdi mdi-pencil'><\/i><\/div><div ng-click='$ctrl.removeBuildingBlock()'><i class='mdi mdi-close'><\/i><\/div>";this.bindings={buildingBlockId:"@",buildingBlockType:"@"}}return n}(),t;n.AltaiBuildingBlockAdminComponent=i;t=function(){function n(n,t,i,r,u){this.altaiEditModeService=t;this.$rootScope=u;this.buildingBlockManager=n;this.altaiConfirmationService=i;this.element=r[0]}return n.prototype.updateBuildingBlock=function(){this.altaiEditModeService.modes.buildingBlockUpdate=!0;this.altaiEditModeService.activeBuildingBlockId=this.buildingBlockId;this.altaiEditModeService.activeBuildingBlockType=this.buildingBlockType;this.$rootScope.$broadcast("activeBuildingBlockChanged")},n.prototype.removeBuildingBlock=function(){var n=this;n.altaiConfirmationService.confirm().then(function(){n.buildingBlockManager.deleteBuildingBlock(n.buildingBlockId).then(function(){n.element.parentNode.parentNode.removeChild(n.element.parentNode)})})},n}()}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl="/api/template/Admin/AltaiPanelCreateBuildingBlockComponent"}return n}(),t;n.AltaiPanelCreateBuildingBlockComponent=i;t=function(){function n(n,t,i){var r=this;r.altaiEditModeService=i;t.listTemplateByTypeName("panel").then(function(n){r.panelTemplates=n})}return n.prototype.createBuildingBlock=function(){var n=this;this.altaiEditModeService.createBuildingBlock("Panel",{templateId:n.selectedPanelTemplate.id})},n}()}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl="/api/template/Admin/AltaiPanelUpdateBuildingBlockComponent";this.bindings={panelId:"=",buildingBlockId:"="}}return n}(),t;n.AltaiPanelBuildingBlockUpdateComponent=i;t=function(){function n(n,t,i,r,u){this.panelManager=i;this.buildingBlockManager=u;this.zones=[];var f=this;f.altaiEditModeService=r;f.panelManager.getById(f.panelId,!1).then(function(n){f.panel=n;f.panel.panelProperties&&f.panel.panelProperties.length||(f.panel.panelProperties=[{type:"class",value:""}]);f.groupByZone();t.listTemplateByTypeName("panel").then(function(t){f.panelTemplates=t;f.selectedPanelTemplate=f.panelTemplates.filter(function(t){return t.id==n.templateId})[0]})})}return n.prototype.$onInit=function(){var n=this;n.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.updateBuildingBlock()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}},n.prototype.groupByZone=function(){for(var r,t,n=this,i=0;i<n.panel.buildingBlocks.length;i++)r=n.panel.buildingBlocks[i],t=n.zones.filter(function(n){return n.name==r.zone})[0],t||(t={name:r.zone,blocks:[]},n.zones.push(t)),t.blocks.push(r)},n.prototype.deleteBuildingBlock=function(n){var t=this,i=t.zones.filter(function(t){return t.name==n.zone})[0];t.buildingBlockManager.deleteBuildingBlock(n.id).then(function(){t.panel.buildingBlocks.splice(t.panel.buildingBlocks.indexOf(n),1);i.blocks.splice(i.blocks.indexOf(n),1)})},n.prototype.handleSorting=function(){for(var i,n=this,t=0;t<n.panel.buildingBlocks.length;t++)i=n.zones.filter(function(i){return i.name==n.panel.buildingBlocks[t].zone})[0],n.panel.buildingBlocks[t].order=i.blocks.indexOf(n.panel.buildingBlocks[t])},n.prototype.updateBuildingBlock=function(){var n=this;n.panel.templateId=n.selectedPanelTemplate?n.selectedPanelTemplate.id:0;n.setPanelPropertiesId(n.panel.id);n.handleSorting();this.panelManager.update(n.panel).then(function(){n.buildingBlockId?n.buildingBlockManager.reloadBuildingBlock(n.buildingBlockId):n.panelManager.reloadPanel(n.panelId);n.altaiEditModeService.modes.buildingBlockUpdate=!1})},n.prototype.setPanelPropertiesId=function(n){for(var t=0;t<this.panel.panelProperties.length;t++)console.log(n),this.panel.panelProperties[t].panelId=n},n}()}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){var t=function(){function n(n,t){this.stateProvider=n;this.urlRouterProvider=t}return n.prototype.loadRoutes=function(){},n.prototype.addState=function(n){n.url||(n.abstract=!0);this.stateProvider.state(n.name,n)},n.prototype.setDefaultState=function(n){this.defaultState=n;this.urlRouterProvider.otherwise(n.url)},n.prototype.getDefaultState=function(){return this.defaultState},n.prototype.$get=function(){return{getDefaultState:this.getDefaultState}},n}();n.AltaiRouterProvider=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){var t=function(){function n(n){this.$stateProvider=n}return n.prototype.$get=function(){var n=this;return{addState:function(t,i){n.$stateProvider.state(t,i)}}},n}();n.AltaiStateProvider=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){var t=function(){function n(n,t,i,r){this.$compile=i;this.q=n;this.http=t;this.notificationFactory=r}return n.prototype.listInstance=function(){var n=this.q.defer();return this.http.get("/api/buildingblock/instance").success(function(t){n.resolve(t)}),n.promise},n.prototype.createBuildingBlock=function(n){var t=this.q.defer(),i=this;return this.http.post("/api/buildingBlock",n).then(function(n){i.notificationFactory.success("Sucesfully created the building block");t.resolve(n.data)},function(n){i.notificationFactory.error("Could not create the new building block");t.reject(n)}),t.promise},n.prototype.listBuildingBlock=function(){var n=this.q.defer(),t=this;return this.http.get("/api/buildingblock").then(function(t){n.resolve(t.data)},function(i){t.notificationFactory.error("Could not load the list with buildingblocks");n.reject(i)}),n.promise},n.prototype.updateBuildingBlock=function(n){var t=this.q.defer(),i=this;return this.http.put("/api/buildingblock",n).then(function(){i.notificationFactory.success("Succesfully updated the building block");t.resolve()},function(){i.notificationFactory.error("Could not update the buildingblock");t.reject()}),t.promise},n.prototype.deleteBuildingBlock=function(n){var t=this.q.defer(),i=this;return this.http["delete"]("/api/buildingblock/"+n).then(function(){i.notificationFactory.success("Sucesfully deleted the buildingblock");t.resolve()},function(){i.notificationFactory.error("Could not delete the buildingblock");t.reject()}),t.promise},n.prototype.getBuildingBlockProfile=function(n){var t=this.q.defer();return this.http.get("/api/buildingblock/"+n+"/profile").success(function(n){t.resolve(n)},function(){t.reject()}),t.promise},n.prototype.moveBuildingBlock=function(n,t){var i=this.q.defer(),r=this;return this.http.put("/api/buildingblock/"+n+"?position="+t).then(function(){r.notificationFactory.success("Succesfully moved the buildingblock");i.resolve()},function(n){r.notificationFactory.error(n.data.message);i.reject()}),i.promise},n.prototype.loadBuildingBlock=function(n){var t=this.q.defer();return this.http.get("/api/buildingBlock/"+n).success(function(n){t.resolve(n)}),t.promise},n.prototype.reloadBuildingBlock=function(n){var t=this,i=t.findBuildingBlockDOMElement(n),r;i&&(r=angular.element(i).scope(),t.loadBuildingBlock(n).then(function(n){$(i).replaceWith(t.$compile(n)(r))}))},n.prototype.findBuildingBlockDOMElement=function(n){for(var i=document.getElementsByTagName("altai-building-block"),t=0;t<i.length;t++)if(i[t].attributes["altai-bb"].value==n)return i[t]},n}();n.BuildingBlockManager=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){var t=function(){function n(){this.buildingBlockTypes=[]}return n.prototype.add=function(n){this.buildingBlockTypes.push(n)},n.prototype.$get=function(){var n=this;return{list:function(){return n.buildingBlockTypes},get:function(t){return n.buildingBlockTypes.filter(function(n){return n.name===t})[0]}}},n}();n.BuildingBlockTypeProvider=t}(AltaiPageBuilder||(AltaiPageBuilder={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/menu","menu",r,i,t,u)||this}return __extends(t,n),t.prototype.createMenuItem=function(n){var t=this.$q.defer(),i=this;return this.$http.post(config.backendUrl+"/api/menuitem/",n).then(function(){i.notificationFactory.success("Menu item created");t.resolve()},function(n){i.notificationFactory.error(n.data.messages);t.reject()}),t.promise},t.prototype.deleteMenuItem=function(n){var t=this.$q.defer(),i=this;return this.$http["delete"](config.backendUrl+"/api/menuitem/"+n.id).then(function(){var r=i.itemDataList.filter(function(t){return t.id==n.menuId})[0],f,e;if(n.parentMenuItemId){var u=r.menuItems.filter(function(t){return t.id==n.parentMenuItemId})[0],f=u.childMenuItems.filter(function(t){return t.id==n.id})[0],e=u.childMenuItems.indexOf(f);u.childMenuItems.splice(e,1)}else f=r.menuItems.filter(function(t){return t.id==n.Id})[0],e=r.menuItems.indexOf(f),r.menuItems.splice(e,1);i.notificationFactory.success("Item deleted succesfullt");t.resolve()},function(n){i.notificationFactory.error(n.data.message);t.reject()}),t.promise},t.prototype.moveMenuItem=function(n,t){var i=this.$q.defer(),r=this;return this.$http.put("/api/menuitem/"+n+"?position="+t,{}).then(function(){r.notificationFactory.success("Succesfully moved the menuitem");i.resolve()},function(n){r.notificationFactory.error(n.data.message);i.reject()}),i.promise},t}(AltaiCore.AltaiDataService);n.MenuManager=t}(AltaiPageBuilder||(AltaiPageBuilder={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u,f,e){var o=n.call(this,"api/panel","panel",i,t,r,f)||this;return o.$compile=u,o.altaiLocalizationService=e,o}return __extends(t,n),t.prototype.findPanelDOMElement=function(n){for(var i=document.getElementsByClassName("altai-panel"),t=0;t<i.length;t++)if(i[t].attributes["panel-id"].value==n)return i[t]},t.prototype.getPanelContent=function(n){var t=this,i=t.$q.defer();return t.$http.get("panel/"+n+"_"+t.altaiLocalizationService.getCurrentLangCode()+".html").success(function(n){i.resolve(n)}),i.promise},t.prototype.reloadPanel=function(n){var t=this,i=t.findPanelDOMElement(n),r;i&&(r=angular.element(i).scope(),t.getPanelContent(n).then(function(n){$(i).replaceWith(t.$compile(n)(r))}))},t}(AltaiCore.AltaiDataService);n.PanelManager=t}(AltaiPageBuilder||(AltaiPageBuilder={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u,f){var e=n.call(this,"api/state","state",i,t,r,u)||this;return e.createState=function(n){var i=this.$q.defer(),t=this;return this.$http.post(config.backendUrl+"/api/state/",n).then(function(n){var r,f,u,e;if(t.dataList.push(n.data),r={},r.url=n.data.url,r.views={},r.name=n.data.name,f=n.data.name.split(".")[0],n.data.parentState||(r.views.bodyView={altaiTemplate:n.data.template.name,altaiTemplateType:"State"}),n.data.stateViews)for(u=0;u<n.data.stateViews.length;u++)e=n.data.stateViews[u].viewName+"@"+f,r.views[e]=n.data.stateViews[u].panelId?{panelId:n.data.stateViews[u].panelId}:{panelId:n.data.stateViews[u].id};t.altaiState.addState(r.name,r);t.notificationFactory.success("Created new page!");i.resolve()},function(){t.notificationFactory.error("Could not create the new state");i.reject()}),i.promise},e.altaiState=f,e}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.StateManager=t}(AltaiPageBuilder||(AltaiPageBuilder={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/stateView","stateView",i,t,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.StateViewManager=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){var t=function(){function n(n,t,i,r){this.modes={editMode:!1,popupOpened:!1,popupMainMenu:!0,buildingBlockUpdate:!1};this.$rootScope=n;this.$compile=t;this.buildingBlockManager=i;this.buildingBlockType=r}return n.prototype.toggleEditMode=function(){this.modes.editMode=!this.modes.editMode;this.$rootScope.$broadcast("editModeChanged")},n.prototype.createBuildingBlock=function(n,t,i){var r=this,f=angular.element(r.activeDropLocation.parent()).scope(),u=r.buildingBlockType.get(n);r.buildingBlockManager.createBuildingBlock({panelId:r.activePanelId,zone:r.activeZone,buildingBlockType:{name:u.name,directive:u.directive},instanceId:i,properties:t}).then(function(n){r.buildingBlockManager.loadBuildingBlock(n.id).then(function(n){r.activeDropLocation.before(r.$compile(n)(f));r.modes.popupOpened=!0;r.modes.popupMainMenu=!0})})},n.prototype.getModes=function(){return this.modes},n}();n.AltaiEditModeService=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){var t=function(){function n(n,t){this.$http=n;this.$location=t}return n.prototype.logPageVisit=function(){var n={url:this.$location.path()};this.$http.post("api/pagevisit",n)},n}();n.PageVisitLogger=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){var t=function(){function n(){}return n}();t.stateList=new AltaiWindowManager.wmWindowType("stateList","<altai-state-list><\/altai-state-list>",600,900,1600);t.stateProfile=new AltaiWindowManager.wmWindowType("stateProfile","<altai-state-profile state-id='vm.window.entityId'><\/altai-state-profile>");t.stateCreate=new AltaiWindowManager.wmWindowType("stateCreate","<altai-state-create><\/altai-state-create>");n.PageBuilderWindows=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){var t=function(){function n(){}return n}();n.State=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){var t=function(){function n(){}return n}();n.StateView=t}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){var r=function(){function n(){}return n}(),t,i;n.Panel=r;t=function(){function n(){}return n}();n.BuildingBlock=t;i=function(){function n(){}return n}();n.BuildingBlockType=i}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){var t=angular.module("altai.pagebuilder",["altai.core","altai.identity","altai.templates"]);t.service("buildingBlockManager",n.BuildingBlockManager);t.service("menuManager",n.MenuManager);t.service("panelManager",n.PanelManager);t.service("stateManager",n.StateManager);t.service("stateViewManager",n.StateViewManager);t.service("altaiEditModeService",n.AltaiEditModeService);t.service("pageVisitLogger",n.PageVisitLogger);t.provider("altaiRouter",n.AltaiRouterProvider);t.provider("buildingBlockType",n.BuildingBlockTypeProvider);t.provider("altaiState",n.AltaiStateProvider);t.directive("altaiBB",n.AltaiBbDirective);t.directive("altaiHtml",n.AltaiHtmlDirective);t.directive("altaiPanel",n.AltaiPanelDirective);t.directive("cmsSidebar",n.CmsSidebarDirective);t.directive("altaiMenu",n.MenuDirective);t.directive("altaiPanelDrop",n.PanelDropDirective);t.directive("altaiStateList",n.StateListDirective);t.directive("altaiStateProfile",n.StateProfileDirective);t.directive("altaiStateCreate",n.StateCreateDirective);t.directive("altaiCreateBuildingBlockPopup",n.AltaiCreateBuildingBlockPopupDirective);t.directive("altaiUpdateBuildingBlockPopup",n.AltaiUpdateBuildingBlockPopupDirective);t.component("altaiPanelBuildingBlockCreator",new n.AltaiPanelBuildingBlockCreatorComponent);t.component("altaiBuildingBlockAdmin",new n.AltaiBuildingBlockAdminComponent);t.component("altaiPanelCreateBuildingBlock",new n.AltaiPanelCreateBuildingBlockComponent);t.component("altaiPanelBuildingBlockUpdate",new n.AltaiPanelBuildingBlockUpdateComponent);t.config(function(t,i,r,u,f,e,o){f.loadRoutes();t.state("admin.state",{url:"/state",views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.StateListController}}}).state("admin.state.create",{url:"/create",secured:!0,system:!0,views:{"adminContentView@admin":{altaiTemplate:"stateCreate",altaiTemplateType:"Admin"}}}).state("admin.state.update",{url:"/:id",system:!0,resolve:{panelsList:function(n){return n.list()}},views:{"adminContentView@admin":{altaiTemplate:"stateUpdate",altaiTemplateType:"Admin",controller:n.StateUpdateController}}});t.state("admin.panel",{url:"/panel",system:!0,abstract:!0}).state("admin.panel.edit",{url:"/:id",system:!0,views:{"adminContentView@admin":{altaiTemplate:"panelUpdate",altaiTemplateType:"Admin",controller:n.PanelUpdateController}},resolve:{panelData:function(n,t){return n.getById(t.id)}}});t.state("admin.menu",{url:"/menu",abstract:!0});t.state("admin.menu.list",{url:"/list",views:{"adminContentView@admin":{altaiTemplate:"menuList",altaiTemplateType:"Admin",controller:n.MenuListController,controllerAs:"vm"}},resolve:{menuData:function(n){return n.list()}}});t.state("admin.menu.detail",{url:"/:id",views:{"adminContentView@admin":{altaiTemplate:"menuUpdate",altaiTemplateType:"Admin",controller:n.MenuUpdateController}}});o.add({name:"site",order:2,label:"site",icon:"mdi mdi-sitemap menuicontoolbar"});o.add({parent:"site",name:"site.pages",securable:"config.pagemanagement",label:"pages",icon:"mdi mdi-menu menuicon",state:"admin.state"});o.add({parent:"site",name:"site.menus",securable:"menu.list",label:"menus",icon:"mdi mdi-sitemap menuicon",state:"admin.site.menus"});u.add({name:"Panel",directive:"altai-panel",label:"Panel",icon:"mdi-drawing-box",updateComponent:"<altai-panel-building-block-update building-block-id='activeBuildingBlockId' panel-id='activeBuildingBlockInstanceId'><\/altai-panel-building-block-update>",createComponent:"<altai-panel-create-building-block><\/altai-panel-create-building-block>"})});t.run(function(n,t,i,r,u,f,e,o){n.mode="view";n.$state=t;n.$stateParams=i;n.$on("$stateChangeSuccess",function(t,i,u,e,s){if(void 0!=n.previousState&&void 0!=n.previousParams&&(f[0].body.scrollTop=f[0].documentElement.scrollTop=0),n.previousState=e,n.previousParams=s,!i.system&&void 0!=i.name&&"admin"!=i.name.substring(0,5)){var h={};void 0!=r.absUrl()&&(h.absurl=r.absUrl());void 0!=r.url()&&(h.url=r.url());void 0!=r.protocol()&&(h.protocol=r.protocol());void 0!=r.host()&&(h.host=r.host());void 0!=r.port()&&(h.port=r.port());void 0!=r.path()&&(h.path=r.path());void 0!=r.search()&&(h.search=JSON.stringify(r.search()));void 0!=r.hash()&&(h.hash=r.hash());void 0!=e&&(h.fromname=e.name,h.fromtitle=e.title,h.fromurl=e.url);void 0!=s&&(h.fromparams=JSON.stringify(s));o.registerEventTrack("pageview",h)}i.title&&(document.title=u.name?u.name.replace(/-/g," "):i.title);n.currentURLBase=location.origin;n.currentURLAbsoluteClean=r.absUrl().split("?")[0];n.currentURLAbsoluteWithVariables=r.absUrl();n.currentURLRelativeClean=r.url().split("?")[0];n.currentURLRelativeWithVariables=r.url()})});config.modules.push("altai.pagebuilder")}(AltaiPageBuilder||(AltaiPageBuilder={}));!function(n){function t(n,t){return{scope:{contentItemId:"@",contentTypeId:"@",theme:"@",name:"@"},link:function(i,r){r.bind("click",function(){i.name&&(i.name=i.name.substring(0,100).replace(/Â|À|Å|Ã/g,"A").replace(/â|à|å|ã/g,"a").replace(/Ä/g,"AE").replace(/ä/g,"ae").replace(/Ç/g,"C").replace(/ç/g,"c").replace(/É|Ê|È|Ë/g,"E").replace(/é|ê|è|ë/g,"e").replace(/Ó|Ô|Ò|Õ|Ø/g,"O").replace(/ó|ô|ò|õ/g,"o").replace(/Ö/g,"OE").replace(/ö/g,"oe").replace(/Š/g,"S").replace(/š/g,"s").replace(/ß/g,"ss").replace(/Ú|Û|Ù/g,"U").replace(/ú|û|ù/g,"u").replace(/Ü/g,"UE").replace(/ü/g,"ue").replace(/Ý|Ÿ/g,"Y").replace(/ý|ÿ/g,"y").replace(/Ž/g,"Z").replace(/ž/,"z").replace(/[\W_]/g,"-").replace(/-{2,}/g,"-").replace(/-\s*$/,""));n.getLinkedState(i.contentTypeId).then(function(n){n&&(void 0!=i.theme?i.name?t.go(n,{id:i.contentItemId,theme:i.theme,name:i.name},{reload:!0}):t.go(n,{id:i.contentItemId,theme:i.theme},{reload:!0}):i.name?t.go(n,{id:i.contentItemId,name:i.name}):t.go(n,{id:i.contentItemId}))})})}}}n.GetlinkDirective=t}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{link:i,scope:{clickOutsideToggle:"="}}}n.clickOutside=t;var i=function(){function n(n,t){this.firstClick=!0;var i=this;angular.element(window.document).unbind("click").bind("click",function(r){i.firstClick?i.firstClick=!1:(console.log(1),t[0].contains(r.target)||("undefined"!=n.clickOutsideToggle?(console.log(n.clickOutsideToggle),n.clickOutsideToggle=!n.clickOutsideToggle,i.firstClick=!0,n.$apply()):t.css("display","none")))})}return n}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{restrict:"AE",scope:{text:"@",contentItemTarget:"@",contentTypeId:"@"},bindToController:!0,controllerAs:"$ctrl",controller:i,template:"<a ng-click='$ctrl.openState()' class='altai-link'>{{$ctrl.text}}<\/a> "}}n.altaiLink=t;var i=function(){function t(n,t,i){this.contentTypeService=n;this.$state=t;this.wmContainerFactory=i;var r=this;n.getLinkedState(r.contentTypeId).then(function(n){r.state=n})}return t.prototype.openState=function(){var t=this;0===t.$state.current.name.indexOf("admin")?t.wmContainerFactory.createWindow(n.ContentWindows.contentItemPreview,"Preview",t.contentItemTarget):this.state&&this.$state.go(this.state,{id:this.contentItemTarget})},t}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.bindings={contentCollectionId:"<",outputModel:"=",isDisabled:"<",multiple:"<",required:"<",inputModel:"<",editMode:"<",createMode:"<"};this.controller=t;this.template="<div ng-include='$ctrl.templateContentCollection'><\/div>"}return n}(),t;n.AltaiContentCollectionUpdateRelation=i;t=function(){function n(n,t,i){this.contentCollectionManager=n;this.contentCollectionDataService=t;this.$scope=i;this.contentCollectionId&&this.loadContentCollectionData(this.contentCollectionId);void 0==this.noDefaultNotApplicableButton&&(this.noDefaultNotApplicableButton=!1);var r=this,u=this.$scope.$watchCollection("$ctrl.inputModel",function(n){if(n&&n.length>0){var t=[];n.filter(function(n){return n.ticked}).map(function(n){t.push(n)});t.length?(r.outputModel=angular.copy(t),u(),r.preParsingDone=!0):r.inputModel.length&&0==t.length&&(r.preParsingDone=!0)}})}return n.prototype.loadContentCollectionData=function(n){var t=this;this.contentCollectionManager.getById(n).then(function(n){n.templateId&&(t.templateContentCollection="/api/template/"+n.templateId)});this.contentCollectionDataService.getData(n).then(function(n){t.data=n})},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl="/api/template/Admin/altaicontentcollectioncreatebuildingblockcomponent"}return n}(),t;n.AltaiContentCollectionCreateBuildingBlockComponent=i;t=function(){function n(n,t,i,r){var u=this;u.altaiEditModeService=r;t.list().then(function(n){u.contentCollections=n});i.listTemplateByTypeName("content").then(function(n){u.contentTemplates=n})}return n.prototype.createBuildingBlock=function(){var n=this;this.altaiEditModeService.createBuildingBlock("ContentCollection",{contentCollectionId:n.selectedContentCollection.id,templateId:n.selectedContentTemplate.id})},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.controller=t;this.bindings={contentCollectionId:"@"};this.templateUrl=function(n){return"/api/template/"+n.templateId}}return n}(),t;n.AltaiContentCollectionComponent=i;t=function(){function n(n,t,i,r,u,f){this.altaiLocalizationService=u;this.loading=!0;this.filterValues={};var e=this;t.vm=this;this.contentCollectionDataService=i;this.urlSerialization=r;n.id&&(this.filterValues.id=n.id);e.getData();t.$watch("$ctrl.filterValues",function(n,t){n!=t&&e.getData()},!0);f.$on("languageChanged",function(){e.getData()})}return n.prototype.getData=function(){var n=this,t=n.urlSerialization(n.filterValues);n.activeLang={code:n.altaiLocalizationService.getCurrentLangCode()};n.contentCollectionDataService.getData(n.contentCollectionId,t).then(function(t){n.data=t;1==n.data.totalCount&&(n.item=n.data.pageResults[0]);n.loading=!0},function(){n.loading=!1})},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl="/api/template/Admin/Search:ExposedContentCollectionBuildingBlockCreate"}return n}(),t;n.AltaiContentSearchCreateBuildingBlockComponent=i;t=function(){function n(n,t,i){this.exposedContentCollectionManager=n;this.altaiEditModeService=i;var r=this;n.list().then(function(n){r.exposedContentCollections=n});t.listTemplateByTypeName("exposedContentCollection").then(function(n){r.contentTemplates=n})}return n.prototype.createBuildingBlock=function(){var n=this,t={exposedContentCollectionId:n.selectedExposedContentCollection.id};n.selectedContentTemplate&&n.selectedContentTemplate.id&&(t.templateId=n.selectedContentTemplate.id);this.altaiEditModeService.createBuildingBlock("ExposedContentCollection",t)},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl="/api/template/Admin/Search:ExposedContentCollectionClientSideBuildingBlockCreate"}return n}(),t;n.AltaiContentSearchClientSideCreateBuildingBlockComponent=i;t=function(){function n(n,t,i){this.exposedContentCollectionManager=n;this.altaiEditModeService=i;var r=this;n.list().then(function(n){r.exposedContentCollections=n});t.listTemplateByTypeName("exposedContentCollection").then(function(n){r.contentTemplates=n})}return n.prototype.createBuildingBlock=function(){var n=this,t={exposedContentCollectionId:n.selectedExposedContentCollection.id};n.selectedContentTemplate&&n.selectedContentTemplate.id&&(t.templateId=n.selectedContentTemplate.id);this.altaiEditModeService.createBuildingBlock("ExposedContentCollectionClientSide",t)},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl=function(n){return"/api/template/"+n.templateId};this.controllerAs="vm";this.bindings={exposedContentCollectionId:"=",selection:"="}}return n}(),t;n.AltaiContentSearchComponent=i;t=function(){function n(n,t,i,r,u,f,e,o,s){var c,h,l;for(this.$scope=n,this.$http=t,this.moment=r,this.exposedContentCollectionQueryManager=f,this.altaiLocalizationService=e,this.exposedContentCollectionManager=o,this.altaiJsonFormattingService=s,this.loading=!0,this.exposedContentCollectionId||(this.exposedContentCollectionId=-1),this.suTimeNeutralDateCompareFilter=u,h=this,h.today=new Date,h.potentialDate,this.init(),l=0;l<h.filters.length;l++)"range"==h.filters[l].FilterType&&("date"==h.filters[l].Values.name&&n.$watch("vm.filters["+l+"].Values.date",function(){c&&i.cancel(c);c=i(function(){h.fetch(h.page)},250)},!0),"term"==h.filters[l].Values.name&&n.$watch("vm.filters["+l+"].Values",function(){c&&i.cancel(c);c=i(function(){h.fetch(h.page)},250)},!0));n.$watchGroup(["vm.search","vm.pageSize","vm.page","vm.datePicker.date"],function(){c&&i.cancel(c);c=i(function(){h.fetch(h.page)},250)});n.fetch=function(){h.fetch(1)}}return n.prototype.init=function(){var n=this;n.page=1;n.types=[];n.filters=[];n.fixedfilters=[];n.order=[];var t=!1,i=n.exposedContentCollectionQueryManager.getFilters(n.exposedContentCollectionId),r=n.exposedContentCollectionQueryManager.getQuery(n.exposedContentCollectionId);null!=r&&(n.search=r);null!=i&&(n.filters=i,t=!0);n.exposedContentCollectionManager.getById(n.exposedContentCollectionId).then(function(i){var f,e,u,r;for(n.exposedContentCollection=i,r=0;r<n.exposedContentCollection.exposedContentCollectionTypes.length;r++)n.types.push({Name:n.exposedContentCollection.exposedContentCollectionTypes[r].contentType.label,Type:n.exposedContentCollection.exposedContentCollectionTypes[r].contentType.name,Value:n.exposedContentCollection.exposedContentCollectionTypes[r].contentTypeId,Field:"ContentTypeId",selected:!1});for(r=0;r<n.exposedContentCollection.exposedContentCollectionFilters.length;r++)if("contenttype"!=n.exposedContentCollection.exposedContentCollectionFilters[r].filterType){for(f={Name:n.exposedContentCollection.exposedContentCollectionFilters[r].label,FilterType:n.exposedContentCollection.exposedContentCollectionFilters[r].filterType,Type:n.exposedContentCollection.exposedContentCollectionFilters[r].type,Field:n.exposedContentCollection.exposedContentCollectionFilters[r].field,Nested:n.exposedContentCollection.exposedContentCollectionFilters[r].nested,Values:[]},u=0;u<n.exposedContentCollection.exposedContentCollectionFilters[r].exposedContentCollectionFilterSelectedValues.length;u++)f.Values.push({Value:n.exposedContentCollection.exposedContentCollectionFilters[r].exposedContentCollectionFilterSelectedValues[u].valueId,selected:!0});n.exposedContentCollection.exposedContentCollectionFilters[r].fixed?n.fixedfilters.push(f):t||n.filters.push(f)}else{for(e={Name:n.exposedContentCollection.exposedContentCollectionFilters[r].label,FilterType:n.exposedContentCollection.exposedContentCollectionFilters[r].filterType,Type:"ContentType",Field:n.exposedContentCollection.exposedContentCollectionFilters[r].field,Nested:n.exposedContentCollection.exposedContentCollectionFilters[r].nested,Values:angular.copy(n.types)},u=0;u<n.exposedContentCollection.exposedContentCollectionFilters[r].exposedContentCollectionFilterSelectedValues.length;u++)e.Values.push({Value:n.exposedContentCollection.exposedContentCollectionFilters[r].exposedContentCollectionFilterSelectedValues[u].valueId,selected:!0});n.exposedContentCollection.exposedContentCollectionFilters[r].fixed?n.fixedfilters.push(e):t||n.filters.push(e)}for(r=0;r<n.exposedContentCollection.exposedContentCollectionSorters.length;r++)n.order.push({Field:n.exposedContentCollection.exposedContentCollectionSorters[r].field,Asc:n.exposedContentCollection.exposedContentCollectionSorters[r].ascending});n.pageSize=n.exposedContentCollection.pageSize;n.$http.post("/api/elasticsearch/search",{searchCriteria:[],Types:n.filters.map(function(n){return n.Type}),SearchOptions:"",Take:1e3,Page:0,Languages:[n.altaiLocalizationService.getCurrentLangCode()],Range:[],Filters:[]}).then(function(t){var r,i,f,u;for(t.data.results.sort(function(n,t){return n.Name<t.Name?-1:n.Name>t.Name?1:0}),r=0;r<t.data.results.length;r++)for(i=0;i<n.filters.length;i++)if("ContentType"!=n.filters[i].Type&&"range"!=n.filters[i].Type&&(t.data.results[r].ContentType==n.filters[i].Type&&(u=n.indexOf(t.data.results[r].Id,n.filters[i].Values),u>=0?(n.filters[i].Values[u].Name=t.data.results[r][n.filters[i].Field],n.filters[i].Values[u].Field=n.filters[i].Type+".Id",n.filters[i].Values[u].count=0,n.filters[i].Values[u].child=!1):n.filters[i].Values.push({Name:t.data.results[r][n.filters[i].Field],Field:n.filters[i].Type+".Id",Value:t.data.results[r].Id,count:0,child:!1,selected:!1})),n.filters[i].Type+"_"+n.filters[i].Type in t.data.results[r]))for(t.data.results[r][n.filters[i].Type+"_"+n.filters[i].Type].sort(function(n,t){return n.Name<t.Name?-1:n.Name>t.Name?1:0}),f=0;f<t.data.results[r][n.filters[i].Type+"_"+n.filters[i].Type].length;f++)u=n.indexOf(t.data.results[r][n.filters[i].Type+"_"+n.filters[i].Type][f].Id,n.filters[i].Values),u>=0?(n.filters[i].Values[u].Name=t.data.results[r][n.filters[i].Type+"_"+n.filters[i].Type][f].Name,n.filters[i].Values[u].Field=n.filters[i].Type+".Id",n.filters[i].Values[u].count=0,n.filters[i].Values[u].child=!0):n.filters[i].Values.push({Name:t.data.results[r][n.filters[i].Type+"_"+n.filters[i].Type][f].Name,Field:n.filters[i].Type+".Id",Value:t.data.results[r][n.filters[i].Type+"_"+n.filters[i].Type][f].Id,count:0,child:!0,selected:!1})})})},n.prototype.fetch=function(n){var t=this,f,s,e,i,r;if(null==n&&(n=1),!(t.types.length<1)){t.exposedContentCollectionQueryManager.setQuery(t.exposedContentCollectionId,t.search,t.filters,{field:"",asc:!0});for(var u=[],o=[],i=0;i<t.filters.length;i++)if(f=u.length,u[f]=[],u[f].nested=t.filters[i].Nested,"relation"==t.filters[i].FilterType||"contenttype"==t.filters[i].FilterType)for(r=0;r<t.filters[i].Values.length;r++)t.filters[i].Values[r].selected&&u[f].push({field:t.filters[i].Values[r].Field,value:t.filters[i].Values[r].Value});else"range"==t.filters[i].FilterType&&("date"==t.filters[i].Type&&void 0!=t.filters[i].Values.startValue&&(void 0==t.filters[i].Values.endValue&&(t.filters[i].Values.endValue=t.moment(t.filters[i].Values.startValue).endOf("day").toDate()),o.push({selected:t.filters[i].Values.selected,startValue:t.filters[i].Values.startValue,endValue:t.filters[i].Values.endValue,type:t.filters[i].Type,field:t.filters[i].Field})),"term"==t.filters[i].Type&&o.push({selected:t.filters[i].Values.selected,startValue:t.filters[i].Values.startValue,endValue:t.filters[i].Values.endValue,type:t.filters[i].Type,field:t.filters[i].Field}));for(i=0;i<t.fixedfilters.length;i++)if(f=u.length,u[f]=[],"relation"==t.fixedfilters[i].FilterType||"contenttype"==t.fixedfilters[i].FilterType)for(r=0;r<t.fixedfilters[i].Values.length;r++)t.fixedfilters[i].Values[r].selected&&(u[f].push({field:t.fixedfilters[i].Type+".Id",value:t.fixedfilters[i].Values[r].Value}),u[f].nested=t.fixedfilters[i].Nested);for(s=[],i=0;i<u.length;i++)0!=u[i].length&&s.push({searchOptions:u[i],nested:u[i].nested});for(e=[],i=0;i<t.filters.length;i++)switch(t.filters[i].FilterType){case"relation":e.push(t.filters[i].Type);break;case"contenttype":for(r=0;r<t.filters[i].Values.length;r++)e.push(t.filters[i].Values[r].Value)}t.$http.post("/api/elasticsearch/search",{searchCriteria:[{Query:t.search}],Types:t.types.map(function(n){return n.Type}),SearchOptions:s,Take:t.pageSize,Page:n-1,Languages:[t.altaiLocalizationService.getCurrentLangCode()],Ranges:o,Filters:e,sort:t.order}).then(function(n){var r,i,u,f;for(delete t.results,t.results=angular.copy(n.data.results),t.data=n.data,i=0;i<t.filters.length;i++)if("relation"==t.filters[i].FilterType||"contenttype"==t.filters[i].FilterType){for(r=0;r<t.filters[i].Values.length;r++)t.filters[i].Values[r].count=0;if("contenttype"==t.filters[i].FilterType)for(u=0;u<n.data.aggregations[t.LowerFirstLetter(t.filters[i].Type)].aggregations.type.items.length;u++)f=t.indexOf(n.data.aggregations[t.LowerFirstLetter(t.filters[i].Type)].aggregations.type.items[u].key,t.filters[i].Values),f>=0&&(t.filters[i].Values[f].count+=n.data.aggregations[t.LowerFirstLetter(t.filters[i].Type)].aggregations.type.items[u].docCount)}for(r=0;r<t.types.length;r++)for(i=0;i<t.filters.length;i++)if("relation"==t.filters[i].FilterType&&n.data.aggregations[t.filters[i].Type].aggregations[t.types[r].Type+"_"+t.filters[i].Type])for(u=0;u<n.data.aggregations[t.filters[i].Type].aggregations[t.types[r].Type+"_"+t.filters[i].Type].items.length;u++)f=t.indexOf(n.data.aggregations[t.filters[i].Type].aggregations[t.types[r].Type+"_"+t.filters[i].Type].items[u].key,t.filters[i].Values),f>=0&&(t.filters[i].Values[f].count+=n.data.aggregations[t.filters[i].Type].aggregations[t.types[r].Type+"_"+t.filters[i].Type].items[u].docCount)})}},n.prototype.indexOf=function(n,t){for(var i=0,r=t.length,i=0;r>i;i++)if(n==t[i].Value)return i;return-1},n.prototype.selectarray=function(n,t){for(var i=0;i<n.length;i++)(n[i].count>0||0==t)&&(n[i].selected=t);return n},n.prototype.removeallfilters=function(n){for(var i,t=0;t<n.length;t++)if("range"!=n[t].FilterType)for(i=0;i<n[t].Values.length;i++)n[t].Values[i].selected=!1;else n[t].Values.selected=!1,n[t].Values.startValue=void 0,n[t].Values.endValue=void 0;return n},n.prototype.getSelected=function(n){for(var r,i=0,t=0;t<n.length;t++)if("range"!=n[t].FilterType)for(r=0;r<n[t].Values.length;r++)n[t].Values[r].selected&&(i+=1);else n[t].Values.selected&&(i+=1);return i},n.prototype.LowerFirstLetter=function(n){return n.charAt(0).toLowerCase()+n.slice(1)},n.prototype.getTotalCount=function(n){for(var i=0,t=0;t<n.length;t++)i+=n[t].count;return i},n.prototype.toggledropdown=function(n){$(n.target).closest(".dropdown").toggleClass("open")},n.prototype.isDateDisabled=function(){return!1},n.prototype.onDateSelect=function(n,t){var i=this,r;angular.isDate(n)&&((t.startValue&&t.endValue&&(t.startValue=void 0,t.endValue=void 0,t.selected=!1),t.startValue)?(r=i.suTimeNeutralDateCompareFilter(t.startValue,n),0===r?t.endValue=i.moment(n).endOf("day").toDate():-1===r?t.endValue=i.moment(n).endOf("day").toDate():(t.endValue=i.moment(t.startValue).endOf("day").toDate(),t.startValue=i.moment(n).startOf("day").toDate())):(t.startValue=i.moment(n).startOf("day").toDate(),t.selected=!1))},n.prototype.setPotentialDate=function(n,t){var i=this;angular.isDate(n)&&(t.potentialDate=n,i.$scope.$apply())},n.prototype.clearPotentialDate=function(n,t){var i=this;t.potentialDate=void 0;i.$scope.$apply()},n.prototype.getDateClass=function(n,t){var i=this,r=[],u,f;return n&&angular.isDefined(t.startValue)&&((0===i.suTimeNeutralDateCompareFilter(n,t.startValue)&&r.push("start-date"),angular.isDefined(t.endValue))?(0===i.suTimeNeutralDateCompareFilter(n,t.endValue)&&r.push("end-date"),i.dateInRange(n,t.startValue,t.endValue)&&r.push("selected-range")):angular.isDefined(t.potentialDate)&&(u=i.suTimeNeutralDateCompareFilter(t.potentialDate,t.startValue)<=0?t.potentialDate:t.startValue,f=i.suTimeNeutralDateCompareFilter(t.potentialDate,t.startValue)<=0?t.startValue:t.potentialDate,i.dateInRange(n,u,f)&&r.push("potential-range"))),r.join(" ")},n.prototype.disableNextMonth=function(n){var i=this,t;return angular.isDate(n)&&((t=i.today.getFullYear()+1,n.getFullYear()>t)||n.getFullYear()===t&&n.getMonth()>=i.today.getMonth())?!0:!1},n.prototype.setdate=function(n,t,i){var r=this;void 0==n||void 0==t?(i.startValue=void 0,i.endValue=void 0,i.calendarDate=r.moment().subtract(1,"months").toDate(),i.selected=!1):(i.calendarDate=r.moment(t).subtract(1,"months").toDate(),i.startValue=n.toDate(),i.endValue=t.toDate())},n.prototype.copyDateOnly=function(n){if(angular.isDate(n))return new Date(n.getFullYear(),n.getMonth(),n.getDate())},n.prototype.dateInRange=function(n,t,i){var r=this;return r.suTimeNeutralDateCompareFilter(n,t)>=0&&r.suTimeNeutralDateCompareFilter(n,i)<=0},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.controller=t;this.transclude=!0;this.template="<div ng-transclude><\/div>"}return n}(),t;n.AltaiContentFormComponent=i;t=function(){function n(n,t){this.contentFormManager=n;this.buildingBlockManager=t;this.loading=!1;this.loadForm()}return n.prototype.submitForm=function(){alert("ok!");var n=this;n.loading=!0;n.contentFormManager.submitContentForm(n.formData).then(function(){n.loading=!1},function(){n.loading=!1})},n.prototype.loadForm=function(){var n=this;this.buildingBlockId&&this.contentFormManager.getById(this.altaiBbInstanceId).then(function(t){n.form=t})},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.controller=t;this.controllerAs="vm";this.templateUrl="/api/template/Admin/AltaiContentFormCreateBuildingBlock"}return n}(),t;n.altaiContentFormCreateBuildingBlock=i;t=function(){function n(n,t){this.contentFormManager=n;this.altaiEditModeService=t;this.listContentForms()}return n.prototype.listContentForms=function(){var n=this;this.contentFormManager.list().then(function(t){n.contentForms=t})},n.prototype.createFormBuildingBlock=function(n){this.altaiEditModeService.createBuildingBlock("Form",{contentFormId:n},n)},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.controller=t;this.template="<span ng-hide='!$ctrl.contentTypeRelationLink.allowMultiple && $ctrl.model.length' ng-click='$ctrl.openFileManager()'><button type='button' class='icon'><i class='mdi mdi-file'><\/i><\/button>&nbsp;{{'choosefile'|translate}}<\/span><table><tr ng-repeat='file in $ctrl.selection'><td width='1%'><img ng-src='{{$root.staticFileBase}}/{{file.name}}' style='height:30px;' ng-show='file.isImage'><\/td><td> {{::file.name}} <a ng-click='$ctrl.removeFromSelection(file)'><i class='mdi mdi-delete'><\/i><\/a><\/td><\/table>";this.bindings={model:"=",inputModel:"<",contentTypeRelationLink:"<"}}return n}(),t;n.AltaiFileSelectButtonComponent=i;t=function(){function t(t,i,r){var u,f;this.wmContainerFactory=t;this.altaiFileSelectionService=i;u=this;u.fileManagerSelectionkey="rel"+u.contentTypeRelationLink.id;u.altaiFileSelectionService.clearSelection(u.fileManagerSelectionkey);u.selection=i.getSelection(u.fileManagerSelectionkey);i.setMode(u.fileManagerSelectionkey,u.contentTypeRelationLink.allowMultiple);r.$watch("$ctrl.selection",function(){u.updateModel()},!0);f=r.$watch("$ctrl.inputModel",function(){u.inputModel&&(u.createInputModel(),f())},!0);r.$on(n.ContentEvents.contentItemCreated,function(){var n=u.wmContainerFactory.findWindow(AltaiFileManager.FileManagerWindows.selectableFilelist,u.fileManagerSelectionkey);n&&u.wmContainerFactory.destroyWindow(n.id);u.altaiFileSelectionService.clearSelection(u.fileManagerSelectionkey)})}return t.prototype.createInputModel=function(){var n=this;this.inputModel&&this.inputModel.filter(function(n){return n.ticked}).map(function(t){n.selection.push(t)})},t.prototype.openFileManager=function(){this.wmContainerFactory.createWindow(AltaiFileManager.FileManagerWindows.selectableFilelist,this.contentTypeRelationLink.label,"rel"+this.contentTypeRelationLink.id)},t.prototype.removeFromSelection=function(n){this.altaiFileSelectionService.removeFromSelection("rel"+this.contentTypeRelationLink.id,n)},t.prototype.updateModel=function(){if(this.model=[],this.selection)for(var n=0;n<this.selection.length;n++)this.model.push({id:this.selection[n].id})},t}();n.AltaiFileSelectButtonComponentController=t}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.restrict="AE";this.bindings={inputModel:"<",ngModel:"=",multiple:"<",required:"<",editMode:"=",createMode:"<",defaultNotApplicable:"<",noDefaultNotApplicableButton:"<",subRelationName:"@"};this.templateUrl="/api/template/Admin/AltaiTagSelector";this.controller=t}return n}(),t;n.AltaiTagSelector=i;t=function(){function n(n,t){var i,r,u;this.$scope=n;this.$timeout=t;this.everythingIsSelected=!1;this.tagsAreSelected=!1;i=this;i.disabled=!i.defaultNotApplicable&&!i.editMode||i.createMode?!1:!0;void 0==this.noDefaultNotApplicableButton?this.noDefaultNotApplicableButton=!1:1==this.noDefaultNotApplicableButton&&(i.disabled=!1);r=n.$watch("$ctrl.inputModel",function(n){n&&n.length>0&&(i.initModels(),i.countSelectableItems(),r())});u=n.$watch("$ctrl.ngModel",function(n){n&&n.length>0&&(i.isDisabled=!1,i.disabled=!1,i.inputModel&&(i.checkAllSelectedTags(),u()))});this.showSelectAllToggle=this.isEnabled()}return n.prototype.isEnabled=function(){var n=this;return n.inputModel&&n.inputModel.length>0},n.prototype.initModels=function(){!this.ngModel||this.ngModel.length<=0?(this.ngModel=[],this.syncTicked(this.inputModel)):this.ngModel&&this.checkAllSelectedTags();this.defaultNotApplicable!==!0&&!this.editMode||this.createMode||this.ngModel&&0!=this.ngModel.length||this.noDefaultNotApplicableButton===!0&&(this.isDisabled=!1)},n.prototype.checkAllSelectedTags=function(){if(!this.tagsAreSelected){for(var n=0;n<this.ngModel.length;n++)this.selectExistingTag(this.ngModel[n],this.inputModel);this.tagsAreSelected=!0}},n.prototype.syncTicked=function(n){var i=this,t;if(n)for(t=0;t<n.length;t++)n[t].ticked&&this.ngModel.push(n[t]),n[t][i.subRelationName]&&this.syncTicked(n[t][i.subRelationName])},n.prototype.countSelectableItems=function(){var i=this,t=0,n;if(this.inputModel)for(n=0;n<this.inputModel.length;n++)t++,this.inputModel[n][i.subRelationName]&&(t+=this.inputModel[n][i.subRelationName].length);this.totalSelectableItems=t},n.prototype.selectTag=function(n,t){void 0===t&&(t=null);this.multiple?this.addTagToSelectedCollection(n,t):this.ngModel&&this.ngModel.length>0&&this.ngModel[0].id==n.id?(this.deSelectTag(this.ngModel[0],this.inputModel),this.ngModel=[],!t&&n.selectedChildren>0?n.selectedChildren=[]:this.removeSelectedChildFromParent(n,t)):(this.deSelectTag(this.ngModel[0],this.inputModel),n.selected=!0,this.ngModel=[n],this.addSelectedChildToParent(n,t));var i=angular.copy(this.ngModel);delete this.ngModel;this.ngModel=i;this.everythingIsSelected=this.totalSelectableItems==this.ngModel.length},n.prototype.selectExistingTag=function(n,t){var i,f,u=this,r;if(t[u.subRelationName]?(i=t[u.subRelationName],f=t):angular.isArray(t)&&(i=t),n)for(r=0;r<i.length;r++)n.id==i[r].id?(i[r].selected=!0,this.addSelectedChildToParent(i[r],f)):i[r][u.subRelationName]&&this.selectExistingTag(n,i[r])},n.prototype.deSelectTag=function(n,t){var i,u,f=this,r;if(angular.isArray(t)?i=t:t&&(i=t[f.subRelationName],u=t),n)for(r=0;r<i.length;r++)i[r].id==n.id?(i[r].selected=!1,this.removeSelectedChildFromParent(i[r],u)):i[r][f.subRelationName]&&this.deSelectTag(n,i[r])},n.prototype.addSelectedChildToParent=function(n,t){if(t)if(t.selectedChildren)if(t.selectedChildren.length){var i=t.selectedChildren.filter(function(t){return t==n.id});i.length||t.selectedChildren.push(n.id)}else t.selectedChildren.push(n.id);else t.selectedChildren=[],t.selectedChildren.push(n.id)},n.prototype.removeSelectedChildFromParent=function(n,t){if(t&&t.selectedChildren&&t.selectedChildren.length)for(var i=0;i<t.selectedChildren.length;i++)t.selectedChildren[i]==n.id&&t.selectedChildren.splice(i,1)},n.prototype.hideDropdown=function(n){n.expand&&(n.expand=!1)},n.prototype.expand=function(n){n.expand=!n.expand;n.expand&&this.hideAllOtherDropdowns(n)},n.prototype.hideAllOtherDropdowns=function(n){for(var t=0;t<this.inputModel.length;t++)this.inputModel[t]!=n&&this.inputModel[t].expand&&(this.inputModel[t].expand=!1)},n.prototype.isSelected=function(n){return this.multiple?this.isTagInSelectedCollection(n)>-1:this.ngModel&&this.ngModel.length>0?this.ngModel[0].id==n.id:!1},n.prototype.selectAll=function(){this.everythingIsSelected?(this.updateSelectedOfAllTags(this.inputModel,!1),this.ngModel=[],this.everythingIsSelected=!1):(this.ngModel=[],this.updateSelectedOfAllTags(this.inputModel,!0),this.everythingIsSelected=!0)},n.prototype.updateSelectedOfAllTags=function(n,t,i){void 0===i&&(i=null);for(var u=this,r=0;r<n.length;r++)n[r].selected=t,this.ngModel.push(n[r]),n[r][u.subRelationName]&&this.updateSelectedOfAllTags(n[r][u.subRelationName],t,n[r]);i&&(i.selectedChildren=t?n.length:0)},n.prototype.isTagInSelectedCollection=function(n){if(this.ngModel)for(var t=0;t<this.ngModel.length;t++)if(this.ngModel[t].id==n.id)return t;return-1},n.prototype.addTagToSelectedCollection=function(n,t){var i=this.isTagInSelectedCollection(n);i>-1?(this.removeTagFromCollection(n),n.selected=!1,this.removeSelectedChildFromParent(n,t)):(this.ngModel||(this.ngModel=[]),this.ngModel.push(n),n.selected=!0,this.addSelectedChildToParent(n,t))},n.prototype.removeTagFromCollection=function(n){var t=this.isTagInSelectedCollection(n);t>-1&&this.ngModel.splice(t,1)},n.prototype.disable=function(){this.disabled=!this.isDisabled;this.updateSelectedOfAllTags(this.inputModel,!1);this.ngModel=[]},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl="/api/template/Admin/ContentItemBuildingBlockCreateComponent"}return n}(),t;n.AltaiContentItemBuildingBlockCreateComponent=i;t=function(){function n(n,t){this.$templateFactory=n;this.altaiEditModeService=t;var i=this;i.loadTemplates()}return n.prototype.loadTemplates=function(){var n=this;n.$templateFactory.listTemplateByTypeName("content").then(function(t){n.templates=t})},n.prototype.createBuildingBlock=function(n){this.altaiEditModeService.createBuildingBlock("ContentItem",{contentItemId:n.contentItemId,templateId:n.template.id})},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl="/api/template/Admin/ContentItemBuildingBlockCreateComponent"}return n}(),t;n.AltaiContentItemBuildingBlockUpdateComponent=i;t=function(){function n(n,t,i,r){this.$templateFactory=n;this.altaiEditModeService=t;this.buildingBlockManager=i;this.contentItemBbManager=r;var u=this;u.buildingBlockId=t.activeBuildingBlockId;i.getBuildingBlockProfile(u.buildingBlockId).then(function(n){u.contentItemBb={id:n.instanceId};u.loadTemplates();u.loadBbData()})}return n.prototype.loadTemplates=function(){var n=this;n.$templateFactory.listTemplateByTypeName("content").then(function(t){n.templates=t;n.contentItemBb.templateId&&(n.contentItemBb.template=n.templates.filter(function(t){return t.id===n.contentItemBb.templateId})[0])})},n.prototype.loadBbData=function(){var n=this;n.contentItemBbManager.getById(n.contentItemBb.id).then(function(t){n.contentItemBb=t})},n.prototype.createBuildingBlock=function(n){var t=this;n.templateId=n.template.id;t.contentItemBbManager.update(n).then(function(){t.buildingBlockManager.reloadBuildingBlock(t.buildingBlockId)})},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.restrict="AE";this.bindings={model:"="};this.templateUrl="/api/template/Admin/AltaiMultiselect";this.controller=t}return n}(),t;n.AltaiMultiSelect=i;t=function(){function n(n){this.contentItemService=n;this.pageSize=10;this.currentPage=0;this.pages=[];this.loadInputModel()}return n.prototype.loadInputModel=function(){var n=this;this.contentItemService.getLinkCollectionData().then(function(t){n.inputModel=t;n.loadPages()})},n.prototype.loadPages=function(){for(var t=Math.ceil(this.inputModel.length/this.pageSize),n=0;t>n;n++)this.pages.push({pageNumber:n});this.pages[this.currentPage].active=!0},n.prototype.openPage=function(n){this.pages.map(function(n){n.active=!1});this.pages.filter(function(t){return t.pageNumber==n}).map(function(n){n.active=!0});this.currentPage=n},n.prototype.addItem=function(n){this.model||(this.model=[]);this.model.push(n);console.log(this.model);n.selected=!0},n.prototype.deselectItem=function(n){this.inputModel.filter(function(t){return t.id==n.id}).map(function(n){return n.selected&&(n.selected=!1),n})},n.prototype.removeItemFromModel=function(n){this.model=this.model.filter(function(t){return t.id!=n.id})},n.prototype.removeItem=function(n){this.model||(this.model=[]);this.deselectItem(n);this.removeItemFromModel(n)},n.prototype.isItemAlreadyInModel=function(n){return this.model||(this.model=[]),this.model.filter(function(t){return t.id==n.id}).length>0},n.prototype.select=function(n){this.isItemAlreadyInModel(n)?this.removeItem(n):this.addItem(n)},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.restrict="AE";this.bindings={inputModel:"<",ngModel:"=",multiple:"<",required:"<",editMode:"=",createMode:"<",defaultNotApplicable:"<",noDefaultNotApplicableButton:"<",subRelationName:"@"};this.templateUrl="/api/template/Admin/AltaiTagSelector";this.controller=t}return n}(),t;n.AltaiTagSelector=i;t=function(){function n(n,t){var i,r,u;this.$scope=n;this.$timeout=t;this.everythingIsSelected=!1;this.tagsAreSelected=!1;i=this;i.disabled=!i.defaultNotApplicable&&!i.editMode||i.createMode?!1:!0;void 0==this.noDefaultNotApplicableButton?this.noDefaultNotApplicableButton=!1:1==this.noDefaultNotApplicableButton&&(i.disabled=!1);r=n.$watch("$ctrl.inputModel",function(n){n&&n.length>0&&(i.initModels(),i.countSelectableItems(),r())});u=n.$watch("$ctrl.ngModel",function(n){n&&n.length>0&&(i.isDisabled=!1,i.disabled=!1,i.inputModel&&(i.checkAllSelectedTags(),u()))});this.showSelectAllToggle=this.isEnabled()}return n.prototype.isEnabled=function(){var n=this;return n.inputModel&&n.inputModel.length>0},n.prototype.initModels=function(){!this.ngModel||this.ngModel.length<=0?(this.ngModel=[],this.syncTicked(this.inputModel)):this.ngModel&&this.checkAllSelectedTags();this.defaultNotApplicable!==!0&&!this.editMode||this.createMode||this.ngModel&&0!=this.ngModel.length||this.noDefaultNotApplicableButton===!0&&(this.isDisabled=!1)},n.prototype.checkAllSelectedTags=function(){if(!this.tagsAreSelected){for(var n=0;n<this.ngModel.length;n++)this.selectExistingTag(this.ngModel[n],this.inputModel);this.tagsAreSelected=!0}},n.prototype.syncTicked=function(n){var i=this,t;if(n)for(t=0;t<n.length;t++)n[t].ticked&&this.ngModel.push(n[t]),n[t][i.subRelationName]&&this.syncTicked(n[t][i.subRelationName])},n.prototype.countSelectableItems=function(){var i=this,t=0,n;if(this.inputModel)for(n=0;n<this.inputModel.length;n++)t++,this.inputModel[n][i.subRelationName]&&(t+=this.inputModel[n][i.subRelationName].length);this.totalSelectableItems=t},n.prototype.selectTag=function(n,t){void 0===t&&(t=null);this.multiple?this.addTagToSelectedCollection(n,t):this.ngModel&&this.ngModel.length>0&&this.ngModel[0].id==n.id?(this.deSelectTag(this.ngModel[0],this.inputModel),this.ngModel=[],!t&&n.selectedChildren>0?n.selectedChildren=[]:this.removeSelectedChildFromParent(n,t)):(this.deSelectTag(this.ngModel[0],this.inputModel),n.selected=!0,this.ngModel=[n],this.addSelectedChildToParent(n,t));var i=angular.copy(this.ngModel);delete this.ngModel;this.ngModel=i;this.everythingIsSelected=this.totalSelectableItems==this.ngModel.length},n.prototype.selectExistingTag=function(n,t){var i,f,u=this,r;if(t[u.subRelationName]?(i=t[u.subRelationName],f=t):angular.isArray(t)&&(i=t),n)for(r=0;r<i.length;r++)n.id==i[r].id?(i[r].selected=!0,this.addSelectedChildToParent(i[r],f)):i[r][u.subRelationName]&&this.selectExistingTag(n,i[r])},n.prototype.deSelectTag=function(n,t){var i,u,f=this,r;if(angular.isArray(t)?i=t:t&&(i=t[f.subRelationName],u=t),n)for(r=0;r<i.length;r++)i[r].id==n.id?(i[r].selected=!1,this.removeSelectedChildFromParent(i[r],u)):i[r][f.subRelationName]&&this.deSelectTag(n,i[r])},n.prototype.addSelectedChildToParent=function(n,t){if(t)if(t.selectedChildren)if(t.selectedChildren.length){var i=t.selectedChildren.filter(function(t){return t==n.id});i.length||t.selectedChildren.push(n.id)}else t.selectedChildren.push(n.id);else t.selectedChildren=[],t.selectedChildren.push(n.id)},n.prototype.removeSelectedChildFromParent=function(n,t){if(t&&t.selectedChildren&&t.selectedChildren.length)for(var i=0;i<t.selectedChildren.length;i++)t.selectedChildren[i]==n.id&&t.selectedChildren.splice(i,1)},n.prototype.hideDropdown=function(n){n.expand&&(n.expand=!1)},n.prototype.expand=function(n){n.expand=!n.expand;n.expand&&this.hideAllOtherDropdowns(n)},n.prototype.hideAllOtherDropdowns=function(n){for(var t=0;t<this.inputModel.length;t++)this.inputModel[t]!=n&&this.inputModel[t].expand&&(this.inputModel[t].expand=!1)},n.prototype.isSelected=function(n){return this.multiple?this.isTagInSelectedCollection(n)>-1:this.ngModel&&this.ngModel.length>0?this.ngModel[0].id==n.id:!1},n.prototype.selectAll=function(){this.everythingIsSelected?(this.updateSelectedOfAllTags(this.inputModel,!1),this.ngModel=[],this.everythingIsSelected=!1):(this.ngModel=[],this.updateSelectedOfAllTags(this.inputModel,!0),this.everythingIsSelected=!0)},n.prototype.updateSelectedOfAllTags=function(n,t,i){void 0===i&&(i=null);for(var u=this,r=0;r<n.length;r++)n[r].selected=t,this.ngModel.push(n[r]),n[r][u.subRelationName]&&this.updateSelectedOfAllTags(n[r][u.subRelationName],t,n[r]);i&&(i.selectedChildren=t?n.length:0)},n.prototype.isTagInSelectedCollection=function(n){if(this.ngModel)for(var t=0;t<this.ngModel.length;t++)if(this.ngModel[t].id==n.id)return t;return-1},n.prototype.addTagToSelectedCollection=function(n,t){var i=this.isTagInSelectedCollection(n);i>-1?(this.removeTagFromCollection(n),n.selected=!1,this.removeSelectedChildFromParent(n,t)):(this.ngModel||(this.ngModel=[]),this.ngModel.push(n),n.selected=!0,this.addSelectedChildToParent(n,t))},n.prototype.removeTagFromCollection=function(n){var t=this.isTagInSelectedCollection(n);t>-1&&this.ngModel.splice(t,1)},n.prototype.disable=function(){this.disabled=!this.isDisabled;this.updateSelectedOfAllTags(this.inputModel,!1);this.ngModel=[]},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl=function(n){return"/api/template/"+n.templateId};this.bindings={contentItemId:"@",languageCode:"@"}}return n}(),t;n.AltaiContentItemComponent=i;t=function(){function n(n,t,i){this.contentItemService=n;this.$scope=t;this.$timeout=i;var r=this;t.vm=r;r.contentItemLoaded=!1;r.languageCode?r.contentItemService.getDataByIdInLang(r.contentItemId,r.languageCode).then(function(n){r.item=n;r.contentItemLoaded=!0}):r.contentItemService.getDataById(r.contentItemId).then(function(n){r.item=n;r.contentItemLoaded=!0})}return n.prototype.$onInit=function(){var n=this,t;n.contentItemLoaded?n.$scope.$emit("contentItemLoaded",{}):t=n.$scope.$watch("vm.item",function(i){void 0!=i&&n.$timeout(function(){n.$scope.$emit("contentItemLoaded",{});t()})})},n.prototype.getName=function(n){return void 0!=n?n.substring(0,100).replace(/[\W_]/g,"-").replace(/-{2,}/g,"-").replace(/-\s*$/,""):""},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.template='<md-button ng-click="$ctrl.openContentItemProfile($ctrl.contentItem)" class="md-button-altai md-raised"><i class="mdi mdi-view-list"><\/i> {{::\'open_list_view\'|translate}} <\/md-button><md-button ng-click="$ctrl.previewContentItem($ctrl.contentItem)" class="md-button-altai md-raised" ng-if="$ctrl.allowPreview"><i class="mdi mdi-camera"><\/i> {{::\'open_preview\'|translate}} <\/md-button><md-button ng-click="$ctrl.updateContentItem($ctrl.contentItem)" class="md-button-altai md-raised"  ng-if="$ctrl.allowUpdate"><i class="mdi mdi-pencil"><\/i> {{::\'open_edit\'|translate}} <\/md-button><md-button ng-click="$ctrl.deleteContentItem($ctrl.contentItem)" class="md-button-altai md-raised" ng-if="$ctrl.allowUpdate"><i class="mdi mdi-delete"><\/i> {{::\'delete\'|translate}}<\/md-button>';this.controller=t;this.bindings={contentItem:"="}}return n}(),t;n.AltaiContentItemButtonsComponent=i;t=function(){function t(n,t,i,r){this.wmContainerFactory=n;this.altaiConfirmationService=t;this.contentItemService=i;var u=this;r.previewPossibleForType(u.contentItem.contentTypeId).then(function(n){u.allowPreview=n});r.editPossibleForType(u.contentItem.contentTypeId).then(function(n){u.allowUpdate=n})}return t.prototype.openContentItemProfile=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemProfile,t.name,t.id)},t.prototype.updateContentItem=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemUpdate,t.name,t.id)},t.prototype.deleteContentItem=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.contentItemService["delete"](n).then(function(){})})},t.prototype.previewContentItem=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemPreview,t.name,t.id)},t}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.template="<input type='checkbox' ng-model='$ctrl.checkbox' />";this.controller=t;this.bindings={selectionKey:"=",contentItem:"="}}return n}(),t;n.AltaiContentSelectionCheckboxComponent=i;t=function(){function n(n,t){this.contentItemSelectionService=t;this.checkbox=!1;var i=this;i.checkCheckboxState();n.$watch("$ctrl.checkbox",function(){i.updateCheckbox()});t.observeSelection(i.selectionKey,function(){i.checkCheckboxState()})}return n.prototype.checkCheckboxState=function(){var n=this;n.checkbox=n.contentItemSelectionService.isItemSelected(n.selectionKey,n.contentItem)},n.prototype.updateCheckbox=function(){var n=this;n.checkbox?n.contentItemSelectionService.addToSelection(n.selectionKey,n.contentItem):n.contentItemSelectionService.removeFromSelection(n.selectionKey,n.contentItem)},n}()}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(){this.templateUrl="/api/template/Admin/Content:ContentItemInlineSecurity";this.bindings={contentItem:"="};this.controller=function(n,t,i,r,u){var f=this;u.isAuthorized("contentitem.item.authorization").then(function(n){f.hasAccess=n;i.list().then(function(n){f.roles=n;var i=t.$watch("$ctrl.contentItem.id",function(){f.contentItem&&f.contentItem.id&&(i(),r.getSecurableAccesses("contentitem.item.read",f.contentItem.id).then(function(n){for(var i,r,t=0;t<f.roles.length;t++)i=f.roles[t],r=n.filter(function(n){return n.roleName==i.name})[0],r&&r.allowAccess&&(i.ticked=!0)}))})});t.$watch("$ctrl.readRoles",function(){f.contentItem&&f.readRoles&&(f.contentItem.publicRoles=f.readRoles.filter(function(n){return n.ticked}).map(function(n){return n.name}))})})}}return n}();n.AltaiContentItemInlineSecurityComponent=t}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.template='<a class="comeos-button" ng-click="$ctrl.printFile()"  translate>print<\/a>';this.bindings={contentDivId:"="};this.controller=t}return n}(),t;n.AltaiPrintDataComponent=i;t=function(){function n(n,t){this.$scope=n;this.scope=n;this.modal=t}return n.prototype.printFile=function(){var t=this,i=document.getElementById(t.contentDivId),n=window.open("","_blank","width=1800,height=900");n.document.open();n.document.write('<html><head><link href="../style.css" rel="stylesheet" type="text/css"><\/head><body onload="window.print()">'+i.innerHTML+"<\/body><\/html>");n.document.close()},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Component/AltaiTreeSelector";this.bindings={tree:"<",relationId:"<",depth:"<",relationName:"<",addAttribute:"&",includes:"=",firstLevel:"="};this.controller=t}return n}(),t;n.AltaiTreeSelectorComponent=i;t=function(){function n(n,t,i,r,u){var f,e;this.$scope=n;this.wmContainerFactory=t;this.contentTypeService=i;this.contentRelationFactory=r;this.contentTypeAttributeManager=u;this.attributes=[];f=this;f.tree&&(f.contentTypeService.list().then(function(n){f.contentTypes=n;f.contentType=f.contentTypes.filter(function(n){return n.id==f.tree})[0]}),f.contentRelationFactory.listWithLinks().then(function(n){f.relations=n.filter(function(n){return n.contentTypeRelationLinks.some(function(n){return n.contentTypeId==f.tree})&&n.contentTypeRelationLinks.some(function(n){return n.contentTypeId!=f.tree&&1==n.includeByDefault})||n.contentTypeRelationLinks.every(function(n){return n.contentTypeId==f.tree})&&n.contentTypeRelationLinks.some(function(n){return 1==n.includeByDefault})})}),f.contentTypeAttributeManager.list().then(function(n){f.contentTypeAttributes=n.filter(function(n){return n.contentTypeId==f.tree})}),f.addTreeToDepth());0==f.childDepth.length&&n.$watchCollection("$ctrl.firstLevel",function(n,t,i){var u,r,o,e,s;if(void 0!=n)if(void 0==t)for(r in n)i.$ctrl.attributes[n[r]]=!0;else if(n.length>t.length)for(r in n)i.$ctrl.attributes[n[r]]=!0;else{u=-1;for(r in n)if(n[r]!=t[r]){u=t[r];break}(-1==u&&(u=t[t.length-1]),i.$ctrl.attributes[u]=!1,void 0!=i.$ctrl.contentTypeAttributes)&&(o=i.$ctrl.contentTypeAttributes.filter(function(n){return n.attributeId==u}),o.length>0&&(e=f.includes.filter(function(n){return!0&&n.expContCollFields[0].expContCollPaths.some(function(n){return n.contentTypeAttributeId==o[0].id&&0==n.niveau})}),e.length>0&&void 0!=e[0]&&(s=f.includes.findIndex(function(n){return n==e[0]}),s>=0&&f.includes.splice(s,1))))}});e=n.$watchGroup(["$ctrl.contentTypes","$ctrl.relations","$ctrl.contentTypeAttributes","$ctrl.includes"],function(n,t,i){var r=i.$ctrl,s,f,c,o,u,h,l;if(void 0!=n[0]&&void 0!=n[1]&&void 0!=n[2]&&void 0!=n[3]){for(s in r.includes){f=!0;for(o in r.childDepth)f=f&&r.includes[s].expContCollFields[0].expContCollPaths.some(function(n){return n.contentTypeRelationId==r.childDepth[o]&&n.niveau==o});if(r.includes[s].expContCollFields[0].expContCollPaths.length!=r.childDepth.length+1&&(f=!1),f){c=r.includes[s].expContCollFields[0].expContCollPaths.filter(function(n){return n.niveau==r.childDepth.length&&null!=n.contentTypeAttributeId});for(o in c)if(u=r.contentTypeAttributes.filter(function(n){return n.id==c[o].contentTypeAttributeId}),u.length>0)for(h in u)(r.attributes[u[h].attributeId]=!0,0==r.childDepth.length)&&(void 0==r.firstLevel&&(r.firstLevel=[]),l=r.firstLevel.findIndex(function(n){return n==u[h].attributeId}),-1==l&&(r.firstLevel[r.firstLevel.length]=u[h].attributeId))}}e()}})}return n.prototype.getTypeId=function(n){var t=this,i=void 0;return n>=0&&angular.forEach(t.relations[n].contentTypeRelationLinks,function(n){n.contentTypeId!=t.tree&&(i=n.contentTypeId)}),void 0==i&&(t.relations[n].contentTypeRelationLinks.some(function(n){n.contentTypeId!=t.tree})||(i=t.tree)),i},n.prototype.addRelationToAttribute=function(n){var t=this;t.childDepth.length>0&&t.includes[n].expContCollFields[0].expContCollPaths.push({niveau:t.childDepth.length-1,contentTypeRelationId:t.relationId});t.addAttribute({index:n})},n.prototype.removeRelationFromAttribute=function(n){var t=this;t.includes[n].expContCollFields[0].expContCollPaths.length==t.childDepth.length&&t.includes[n].expContCollFields[0].expContCollPaths.pop();t.removeAttribute({index:n})},n.prototype.addAttr=function(n,t,i,r){var u=this,f,n;1==t?(void 0==u.includes[n]&&(u.includes[n]={expContCollFields:[{expContCollPaths:[]}]}),void 0==u.includes[n].expContCollFields&&(u.includes[n].expContCollFields=[],u.includes[n].expContCollFields[0].expContCollPaths=[]),u.includes[n].expContCollFields[0].expContCollPaths.push({niveau:u.childDepth.length,contentTypeAttributeId:r}),0==u.childDepth.length?u.addAttribute({index:n}):u.addRelationToAttribute(n)):(f=u.includes.filter(function(n){var t=!0;for(var i in u.childDepth)t=t&&n.expContCollFields[0].expContCollPaths.some(function(n){return n.contentTypeRelationId==u.childDepth[i]&&n.niveau==i});return t&&n.expContCollFields[0].expContCollPaths.some(function(n){return n.contentTypeAttributeId==r&&n.niveau==u.childDepth.length})}),f.length>0&&void 0!=f[0]&&(n=u.includes.findIndex(function(n){return n==f[0]}),n>=0&&u.includes.splice(n,1)));0==u.childDepth.length&&(t?(void 0==u.firstLevel&&(u.firstLevel=[]),u.firstLevel[u.firstLevel.length]=i):void 0!=u.firstLevel&&u.firstLevel.length>0&&(n=u.firstLevel.findIndex(function(n){return n==i}),n>=0&&u.firstLevel.splice(n,1)))},n.prototype.addTreeToDepth=function(){var n=this;n.childDepth=angular.copy(n.depth);void 0!=n.relationId&&(n.childDepth[n.depth.length]=n.relationId)},n}()}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(){this.template='<md-checkbox class="smallcheckbox" ng-model="$ctrl.model"><\/md-checkbox>';this.bindings={model:"="};this.controller=function(n){var t=this;n.$watch("$ctrl.model",function(){t.model&&("true"===t.model&&(t.model=!0),"false"===t.model&&(t.model=!1))})}}return n}();n.AltaiContentCheckboxComponent=t}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{attributeId:"=altaiSelectInput",model:"=model"},replace:!0,template:"<select data-ng-options='o.label for o in ::options' ng-model='internalModel'><\/select>",controller:function(n,t,i,r){n.usedModel=i.ngModel;r.get(config.backendUrl+"/api/attributeSelectOption?id="+n.attributeId).then(function(t){n.options=t.data;n.internalModel=n.options.filter(function(t){return t.value==n.model})[0]});n.$watch("internalModel",function(){n.internalModel&&(n.model=n.internalModel.value)})}}}n.AltaiSelectInputDirective=t}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{link:i,restrict:"A",require:["altaiTagSelector","?ngModel"]}}n.AltaiTagSelectorValidator=t;var i=function(){function n(n,t,i,r){function e(n){return f.required?0!==f.ngModel.length||f.isDisabled?u.$setValidity("altaitagselector",!0):u.$setValidity("altaitagselector",!1):u.$setValidity("altaitagselector",!0),n}var f=r[0],u=r[1];u.$parsers.push(e);u.$formatters.push(e)}return n}()}(AltaiContent||(AltaiContent={}));!function(n){function t(t){t.createWindow(n.ContentWindows.contentCollectionList,"Content Collections")}n.ContentCollectionListController=t}(AltaiContent||(AltaiContent={}));!function(n){function t(t){t.createWindow(n.ContentWindows.exposedContentCollectionList,"Exposed Content Collections")}n.ExposedContentCollectionListController=t}(AltaiContent||(AltaiContent={}));!function(n){function t(t){t.createWindow(n.ContentWindows.contentItemCreate,"Content item create")}n.ContentCreateController=t}(AltaiContent||(AltaiContent={}));!function(n){function t(t){t.createWindow(n.ContentWindows.contentFormList,"Content Forms")}n.ContentFormListController=t}(AltaiContent||(AltaiContent={}));!function(n){function t(t){t.createWindow(n.ContentWindows.contentItemList,"Content Items")}n.ContentItemListController=t}(AltaiContent||(AltaiContent={}));!function(n){function t(t){t.createWindow(n.ContentWindows.contentItemListElastic,"Content Items Elastic")}n.ContentItemListElasticController=t}(AltaiContent||(AltaiContent={}));!function(n){function t(t,i){t.createWindow(n.ContentWindows.contentItemUpdate,"Update ContentItem",i.id)}n.ContentItemUpdateController=t}(AltaiContent||(AltaiContent={}));!function(n){function t(t){t.createWindow(n.ContentWindows.contentTypeList,"Content Types","")}n.ContentTypeListController=t}(AltaiContent||(AltaiContent={}));!function(n){function t(t,i){t.createWindow(n.ContentWindows.contentItemProfile,"ContentItem",i.id)}n.ContentItemProfileController=t}(AltaiContent||(AltaiContent={}));!function(n){function t(t,i){t.createWindow(n.ContentWindows.contentItemPreview,"Preview",i.id)}n.ContentItemPreviewController=t}(AltaiContent||(AltaiContent={}));!function(n){function t(t){t.createWindow(n.ContentWindows.contentItemSearchElastic,"Content Items Elastic")}n.ContentItemSearchElasticController=t}(AltaiContent||(AltaiContent={}));!function(n){function t(n){return function(t,i,r){var u=t.$watch(function(){return r.altaiCompileHtml},function(r){r&&(u(),i.html(r),i.removeAttr("altai-compile-html"),n(i.contents())(t))})}}n.CompileHtmlDirective=t}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{restrict:"AE",scope:{text:"@",contentItemTarget:"@",contentTypeId:"@"},bindToController:!0,controllerAs:"$ctrl",controller:i,template:"<a ng-click='$ctrl.openState()' class='altai-link'>{{$ctrl.text}}<\/a> "}}n.altaiLink=t;var i=function(){function t(n,t,i){this.contentTypeService=n;this.$state=t;this.wmContainerFactory=i;var r=this;n.getLinkedState(r.contentTypeId).then(function(n){r.state=n})}return t.prototype.openState=function(){var t=this;0===t.$state.current.name.indexOf("admin")?t.wmContainerFactory.createWindow(n.ContentWindows.contentItemPreview,"Preview",t.contentItemTarget):this.state&&this.$state.go(this.state,{id:this.contentItemTarget})},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{restrict:"AE",scope:{titletext:"@"},bindToController:!0,controllerAs:"$ctrl",controller:i}}n.altaiSetTitle=t;var i=function(){function n(n,t){this.$document=n;this.$scope=t;var i=this,r=t.$watch("$ctrl.titletext",function(){i.titletext&&""!=i.titletext&&(document.title=i.titletext,r())})}return n}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/contentTypeCreate",controllerAs:"vm",controller:i,link:function(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.createContentType(n.newContentType)},"class":"altai-button-go",name:"save",disableByFormValidity:n.contentItemCreateForm,separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}}}n.AltaiContentTypeCreateDirective=t;var i=function(){function t(n,t){this.contentTypeService=n;this.wmContainerFactory=t}return t.prototype.createContentType=function(t){var i=this;t.directCreatePossible=!0;this.contentTypeService.add(t).then(function(r){var u=i.wmContainerFactory.findWindow(n.ContentWindows.contentTypeCreate);i.wmContainerFactory.destroyWindow(u.id);i.wmContainerFactory.createWindow(n.ContentWindows.contentTypeUpdate,t.name,r.id)})},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/ContentTypeList",controller:i,controllerAs:"vm"}}n.AltaiContentTypeListDirective=t;var i=function(){function t(n,t,i,r){this.contentTypeService=n;this.wmContainerFactory=t;this.altaiNotificationFactory=r;var u=this;n.list().then(function(n){u.contentTypes=n});i.isAuthorized("contenttype.create").then(function(n){u.allowContentTypeCreation=n})}return t.prototype.test=function(){this.altaiNotificationFactory.success("test")},t.prototype.openContentTypeProfile=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentTypeUpdate,t.label,t.id)},t.prototype.createContentType=function(){this.wmContainerFactory.createWindow(n.ContentWindows.contentTypeCreate,"Create new content type")},t.prototype.createContentItemForContentType=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemCreate,t.label,t.id)},t.prototype.openContentTypeItems=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemList,t.label,t.id)},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/contenttypeprofile"}}n.AltaiContentTypeProfileDirective=t}(AltaiContent||(AltaiContent={}));!function(n){function i(){return{scope:{contentTypeId:"="},bindToController:!0,templateUrl:"/api/template/Admin/ContentTypeUpdate",controller:t,controllerAs:"vm",link:r}}n.AltaiContentTypeUpdateDirective=i;var r=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.updateContentType()},"class":"altai-button-go",name:"save",separator:!0},{translatableTooltipId:"accesses",icon:"mdi-key",action:function(){n.vm.openAccessesWindow()},"class":"altai-button-primary",name:"accesses",separator:!0},{icon:"mdi-delete",action:function(){n.vm.deleteContentType()},"class":"altai-button-back",name:"delete",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),t=function(){function t(n,t,i,r,u,f,e){this.$scope=n;this.contentTypeService=t;this.stateManager=e;var o=this;this.altaiConfirmationService=u;this.wmContainerFactory=f;this.ctaSortOptions=this.handleSorting();this.ctrlSortOptions=this.handleSortingLinks();this.loadData();i.listTemplateByTypeName("Content").then(function(n){o.templates=n});e.list().then(function(n){o.states=n});n.deleteCta=function(i){o.altaiConfirmationService.confirm().then(function(){t.deleteContentTypeAttribute(i).then(function(){var t=n.contentType.contentTypeAttributes.indexOf(i);n.contentType.contentTypeAttributes.splice(t,1)})})};n.deleteContentTypeRelation=function(n){o.altaiConfirmationService.confirm().then(function(){t.deleteContentTypeRelation(n).then(function(){o.loadData()})})};n.updateContentType=function(){t.update(n.contentType).then(function(){o.closeWindow()})};n.updateCtrl=function(n){t.updateContentTypeRelationLink(n)}}return t.prototype.closeWindow=function(){var t=this.wmContainerFactory.findWindow(n.ContentWindows.contentTypeUpdate,this.contentTypeId);this.wmContainerFactory.destroyWindow(t.id)},t.prototype.openAccessesWindow=function(){var n=this;n.wmContainerFactory.createWindow(AltaiIdentity.IdentityWindows.setSecurableAccesses,"Accesses",n.contentTypeId,{securableName:"contenttype.item"})},t.prototype.deleteContentType=function(){var t=this;t.altaiConfirmationService.confirm().then(function(){t.contentTypeService["delete"](t.contentType).then(function(){var i=t.wmContainerFactory.findWindow(n.ContentWindows.contentTypeUpdate,t.contentType.id);t.wmContainerFactory.destroyWindow(i.id)})})},t.prototype.openCreateContentTypeAttributeWindow=function(){this.wmContainerFactory.createWindow(n.ContentWindows.contentTypeAttributeCreate,"contentattribute",this.contentType.id)},t.prototype.openCreateContentTypeRelationWindow=function(){this.wmContainerFactory.createWindow(n.ContentWindows.contentTypeRelationCreate,"createrelation",this.contentType.id)},t.prototype.updateContentTypeRelation=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentTypeRelationUpdate,t.name,t.id)},t.prototype.updateContentTypeAttribute=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentTypeAttributeUpdate,"ContentTypeAttribute",t.id)},t.prototype.loadData=function(){var n=this;n.contentTypeService.getById(n.contentTypeId).then(function(t){n.contentType=t;n.$scope.contentType=t})},t.prototype.handleSorting=function(){var n=this;return{stop:function(){n.contentTypeService.updateContentTypeAttributeSorting(n.$scope.contentType.contentTypeAttributes)}}},t.prototype.handleSortingLinks=function(){var n=this;return{stop:function(){n.contentTypeService.updateContentTypeRelationLinksSorting(n.$scope.contentType.contentTypeRelationLinks)}}},t}();n.ContentTypeUpdateDirectiveController=t}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{contentTypeId:"="},bindToController:!0,templateUrl:"/api/template/Admin/ContentTypeAttributeCreate",controller:i,controllerAs:"$ctrl"}}n.AltaiContentTypeAttributeCreateDirective=t;var i=function(){function t(n,t,i){this.contentAttributeService=n;var r=this;r.wmContainerFactory=i;r.contentTypeService=t;n.listAttributeType().then(function(n){r.attributeTypes=n});n.list().then(function(n){r.existingAttributes=n})}return t.prototype.createExCta=function(n){var t=this;t.contentTypeService.createContentTypeAttribute({attributeId:n,contentTypeId:this.contentTypeId}).then(function(){t.closeWindow()})},t.prototype.createNewCta=function(n){var t=this;n.contentTypeId=this.contentTypeId;t.contentTypeService.createContentTypeAttribute(n).then(function(){t.closeWindow()})},t.prototype.closeWindow=function(){var t=this.wmContainerFactory.findWindow(n.ContentWindows.contentTypeAttributeCreate,this.contentTypeId);this.wmContainerFactory.destroyWindow(t.id)},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{contentTypeAttributeId:"="},bindToController:!0,templateUrl:"/api/template/Admin/ContentTypeAttributeUpdate",controller:i,controllerAs:"vm"}}n.AltaiContentTypeAttributeUpdateDirective=t;var i=function(){function t(n,t,i,r){this.contentAttributeService=i;var u=this;this.wmContainerFactory=r;this.contentTypeService=n;this.contentAttributeSelectOptionsManager=t;n.readContentTypeAttribute(this.contentTypeAttributeId).then(function(n){u.contentTypeAttribute=n;"Select"===u.contentTypeAttribute.attribute.attributeType.name&&u.contentAttributeSelectOptionsManager.getOptions(u.contentTypeAttribute.attributeId).then(function(n){u.contentTypeAttribute.attribute.options=n})});i.listAttributeType().then(function(n){u.attributeTypes=n})}return t.prototype.update=function(){var t=this;t.contentTypeService.updateContentTypeAttribute(t.contentTypeAttribute).then(function(){"Select"==t.contentTypeAttribute.attribute.attributeType.name&&t.contentAttributeSelectOptionsManager.updateOptions(t.contentTypeAttribute.attribute);var i=t.wmContainerFactory.findWindow(n.ContentWindows.contentTypeAttributeUpdate,t.contentTypeAttributeId);t.wmContainerFactory.destroyWindow(i.id)})},t.prototype.deleteOption=function(n){var t=this;t.contentTypeAttribute.attribute.options.splice(t.contentTypeAttribute.attribute.options.indexOf(n),1)},t.prototype.createOption=function(t){var i=this;t.label=t.labelTranslatable.translatableValues[0].value;t.attributeSelectId=i.contentTypeAttribute.attributeId;i.contentTypeAttribute.attribute.options.push(t);i.newOption=new n.ContentTypeSelectOption},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{contentTypeRelationId:"="},bindToController:!0,templateUrl:"/api/template/Admin/ContentTypeRelationUpdate",controller:r,link:i,controllerAs:"vm"}}n.AltaiContentTypeRelationUpdateDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.updateContentTypeRelation()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),r=function(){function t(n,t,i,r){this.contentTypeService=n;this.wmContainerFactory=t;this.$templateFactory=i;this.contentCollectionManager=r;var u=this;this.wmContainerFactory=t;this.contentTypeService=n;n.readContentTypeRelation(this.contentTypeRelationId).then(function(n){u.contentTypeRelation=n});i.listTemplateByTypeName("ContentRelation").then(function(n){u.contentRelationTemplates=n});r.list().then(function(n){u.contentCollections=n})}return t.prototype.updateContentTypeRelation=function(){var t=this;t.contentTypeService.updateContentTypeRelation(this.contentTypeRelation).then(function(){var i=t.wmContainerFactory.findWindow(n.ContentWindows.contentTypeRelationUpdate,t.contentTypeRelationId);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{contentTypeId:"="},bindToController:!0,templateUrl:"/api/template/Admin/ContentTypeRelationCreate",controller:r,controllerAs:"vm",link:i}}n.AltaiContentTypeRelationCreateDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.createContentTypeRelation()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),r=function(){function t(t,i,r,u,f){this.contentTypeService=t;this.wmContainerFactory=i;this.$templateFactory=u;this.contentCollectionManager=f;var e=this;e.contentTypeService=t;e.wmContainerFactory=i;e.contentTypeService.list().then(function(n){e.contentTypes=n});u.listTemplateByTypeName("ContentRelation").then(function(n){e.contentRelationTemplates=n});r.$watch("vm.selectedContentTypeId",function(){if(e.selectedContentTypeId){e.newCtr=new n.ContentTypeRelation;var i=e.newCtr.contentTypeRelationLinks[0]=new n.ContentTypeRelationLink,t=e.newCtr.contentTypeRelationLinks[1]=new n.ContentTypeRelationLink;t.hidden=!0;t.allowCreateLink=!1;t.includeByDefault=!1;i.contentTypeId=e.selectedContentTypeId;i.contentType=e.contentTypes.filter(function(n){return n.id==e.selectedContentTypeId})[0];t.contentTypeId=e.contentTypeId;t.contentType=e.contentTypes.filter(function(n){return n.id==e.contentTypeId})[0]}});f.list().then(function(n){e.contentCollections=n})}return t.prototype.createContentTypeRelation=function(){var t=this;t.contentTypeService.createContentTypeRelation(t.newCtr).then(function(){var i=t.wmContainerFactory.findWindow(n.ContentWindows.contentTypeRelationCreate,t.newCtr.contentTypeRelationLinks[1].contentTypeId);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{model:"=altaiContentIdField",modelVisibility:"="},template:"<div class='form-group'><label style='flex:1' ng-bind-html='value'><\/label><\/div>",controller:function(n,t,i,r,u){function e(){n.model&&n.model.id?i.getUpdateModel(n.model.id).then(function(n){o(n)}):n.model&&n.model.contentType&&n.model.attribute&&o(n.model)}function o(t){var i=t.contentType.contentTypeAttributes.filter(function(n){return n.identifying})[0];i&&t.attribute[i.id][0]&&t.attribute[i.id][0].value?n.value=i.attribute.translatable?u("altaicutoff")(t.attribute[i.id][0].value[s],f):u("altaicutoff")(t.attribute[i.id][0].value,f):i&&t.attribute[i.id].values&&t.attribute[i.id].values[0]&&t.attribute[i.id].values[0].value&&(n.value=i.attribute.translatable?u("altaicutoff")(t.attribute[i.id].values[0].value[s],f):u("altaicutoff")(t.attribute[i.id].values[0].value,f))}n.$on("dragstop",function(){e()});n.$watch("modelVisibility",function(){e()});var f=150,s=r.getCurrentLangCode()}}}n.AltaiContentIdFieldDirective=t}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/ContentCollectionCreate",controller:r,controllerAs:"vm",link:i}}n.AltaiContentCollectionCreateDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.createContentCollection(n.newContentCollection)},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}]}}return n}(),r=function(){function t(n,t){this.contentCollectionManager=n;this.wmContainerFactory=t}return t.prototype.createContentCollection=function(t){var i=this;this.contentCollectionManager.add(t).then(function(r){var u=i.wmContainerFactory.findWindow(n.ContentWindows.contentCollectionCreate);i.wmContainerFactory.destroyWindow(u.id);i.wmContainerFactory.createWindow(n.ContentWindows.contentCollectionUpdate,t.name,r.id)})},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/ContentCollectionList",controller:i,controllerAs:"vm"}}n.AltaiContentCollectionListDirective=t;var i=function(){function t(n,t){var i=this;this.wmContainerFactory=t;n.list().then(function(n){i.contentCollections=n})}return t.prototype.openContentCollectionProfile=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentCollectionUpdate,t.name,t.id)},t.prototype.createContentCollection=function(){this.wmContainerFactory.createWindow(n.ContentWindows.contentCollectionCreate,"Create new content collection")},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{contentCollectionId:"="},templateUrl:"/api/template/Admin/ContentCollectionUpdate",controller:r,controllerAs:"vm",bindToController:!0,link:i}}n.AltaiContentCollectionUpdateDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.updateContentCollection()},"class":"altai-button-go",name:"save",separator:!0},{translatableTooltipId:"accesses",icon:"mdi-key",action:function(){n.vm.openAccessesWindow()},"class":"altai-button-primary",name:"accesses",separator:!0},{icon:"mdi-camera",action:function(){n.vm.openPreview()},"class":"altai-button-primary",name:"preview",separator:!0}],align:"left"}]}}return n}(),r=function(){function t(n,t,i,r,u,f){var e=this;this.contentCollectionManager=u;this.wmContainerFactory=f;this.contentAttributeService=i;this.$rootScope=n;this.contentCollectionManager.getById(this.contentCollectionId).then(function(n){e.contentCollection=n;t.list().then(function(n){e.contentRelations=n;for(var t=0;t<e.contentRelations.length;t++)e.contentRelations[t].selected=Boolean(e.contentCollection.contentViewRelations.filter(function(n){return n.contentTypeRelationId==e.contentRelations[t].id}).length)})});r.listTemplateByTypeName("content").then(function(n){e.templates=n});this.contentAttributeService.list().then(function(n){e.contentAttributes=n})}return t.prototype.createContentCollectionFilter=function(n){var t=this;n.contentViewId=this.contentCollectionId;this.contentCollectionManager.createContentViewFilter(n).then(function(){n={};t.refreshPreview()})},t.prototype.deleteContentCollectionFilter=function(n){var t=this;this.contentCollectionManager.deleteContentViewFilter(this.contentCollectionId,n).then(function(){t.refreshPreview()})},t.prototype.createContentCollectionSorter=function(n){var t=this;n.contentViewId=this.contentCollectionId;this.contentCollectionManager.createContentViewSorter(n).then(function(){t.refreshPreview()})},t.prototype.deleteContentCollectionSorter=function(n){var t=this;this.contentCollectionManager.deleteContentViewSorter(n).then(function(){t.refreshPreview()})},t.prototype.saveAttributes=function(n){var t=this;this.contentCollectionManager.updateAttributes(this.contentCollectionId,n).then(function(){t.refreshPreview()})},t.prototype.saveRelations=function(n){var t=this;this.contentCollectionManager.updateRelations(this.contentCollectionId,n).then(function(){t.refreshPreview()})},t.prototype.updateContentCollection=function(){var n=this;this.contentCollectionManager.update(this.contentCollection).then(function(){n.refreshPreview()})},t.prototype.openPreview=function(){this.wmContainerFactory.createWindow(n.ContentWindows.contentCollectionPreview,this.contentCollection.name+" preview",this.contentCollectionId)},t.prototype.refreshPreview=function(){this.$rootScope.$broadcast("ContentCollectionChanged")},t.prototype.openAccessesWindow=function(){var n=this;n.wmContainerFactory.createWindow(AltaiIdentity.IdentityWindows.setSecurableAccesses,"Accesses",n.contentCollectionId,{securableName:"contentcollection.item"})},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{contentCollectionId:"="},template:"<div ng-include='$ctrl.templateUrl'><\/div><div ng-show='!$ctrl.templateUrl' style='padding:10px;'><i class='mdi mdi-information-outline'><\/i>&nbsp;{{'notemplateselected'|translate}}<\/div>",controller:i,controllerAs:"$ctrl",bindToController:!0}}n.AltaiContentCollectionPreviewDirective=t;var i=function(){function n(n,t,i,r){function f(){i.getById(u.contentCollectionId).then(function(n){u.contentCollection=n;n.templateId&&(u.templateUrl="/api/template/"+n.templateId)});r.getData(u.contentCollectionId).then(function(n){u.data=n;u.$scope.vm.data=n;0!=n.length&&(u.properties=Object.keys(n.pageResults[0]))})}this.$scope=t;var u=this;u.$scope.vm={};n.$on("ContentCollectionChanged",f);f()}return n}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/Search:ExposedContentCollectionCreate",controller:r,controllerAs:"$ctrl",link:i}}n.AltaiExposedContentCollectionCreateDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.createExposedContentCollection(n.newExposedContentCollection)},"class":"altai-button-go",name:"create",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),r=function(){function t(n,t,i){this.exposedContentCollectionManager=n;this.wmContainerFactory=t;var r=this;i.listTemplateByTypeName("exposedcontentcollection").then(function(n){r.templates=n})}return t.prototype.createExposedContentCollection=function(t){var i=this;this.exposedContentCollectionManager.add(t).then(function(r){var u=i.wmContainerFactory.findWindow(n.ContentWindows.exposedContentCollectionCreate);i.wmContainerFactory.destroyWindow(u.id);i.wmContainerFactory.createWindow(n.ContentWindows.exposedContentCollectionUpdate,t.name,r.id)})},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/Search:ExposedContentCollectionList",controller:i,controllerAs:"vm"}}n.AltaiExposedContentCollectionListDirective=t;var i=function(){function t(n,t){var i=this;this.wmContainerFactory=t;n.list().then(function(n){i.exposedContentCollections=n})}return t.prototype.openExposedContentCollectionProfile=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.exposedContentCollectionUpdate,t.name,t.id)},t.prototype.createExposedContentCollection=function(){this.wmContainerFactory.createWindow(n.ContentWindows.exposedContentCollectionCreate,"Create new exposed content collection")},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{exposedContentCollectionId:"="},templateUrl:"/api/template/Admin/Search:ExposedContentCollectionUpdate",controller:r,controllerAs:"vm",bindToController:!0,link:i}}n.AltaiExposedContentCollectionUpdateDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.updateExposedContentCollection()},"class":"altai-button-go",name:"save",separator:!0},{translatableTooltipId:"accesses",icon:"mdi-key",action:function(){n.vm.openAccessesWindow()},"class":"altai-button-primary",name:"accesses",separator:!0},{icon:"mdi-camera",action:function(){n.vm.openPreview()},"class":"altai-button-primary",name:"preview",separator:!0},{icon:"mdi-delete",action:function(){n.vm.deleteExposedContentCollection()},"class":"altai-button-back",name:"delete",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),r=function(){function t(n,t,i,r,u,f,e,o,s,h,c,l,a,v){this.exposedContentCollectionManager=n;this.exposedContentCollectionFilterManager=t;this.exposedContentCollectionAttributeManager=i;this.exposedContentCollectionSorterManager=r;this.exposedContentCollectionRangeManager=u;this.contentTypeService=f;this.altaiConfirmationService=v;var y=this;this.ctaSortOptions=this.handleSorting();this.wmContainerFactory=a;this.contentAttributeService=h;this.$rootScope=e;this.scope=o;e.$on("exposedContentCollectionChanged",function(){console.log("exposedContentCollectionChanged");y.getData()});y.getData();c.listTemplateByTypeName("exposedcontentcollection").then(function(n){y.templates=n})}return t.prototype.getData=function(){var n=this;console.log(n.exposedContentCollectionId);n.exposedContentCollectionManager.getById(n.exposedContentCollectionId,!1).then(function(t){n.exposedContentCollection=t;n.exposedContentCollection["default"]=-1===t.linkedContentTypeId;n.contentTypeService.list().then(function(t){n.contentTypes=angular.copy(t);n.contentTypes.map(function(t){return t.ticked=1===n.exposedContentCollection.exposedContentCollectionTypes.filter(function(n){return n.contentTypeId==t.id}).length,t})})})},t.prototype.updateExposedContentCollection=function(){var n=this;n.exposedContentCollection["default"]&&(n.exposedContentCollection.linkedContentTypeId=-1);n.exposedContentCollection.exposedContentCollectionTypes=n.contentTypesOutput.filter(function(n){return n.ticked}).map(function(n){return{contentTypeId:n.id}});n.exposedContentCollectionManager.update(n.exposedContentCollection).then(function(){})},t.prototype.closeWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.ContentWindows.exposedContentCollectionUpdate,t.exposedContentCollectionId);t.wmContainerFactory.destroyWindow(i.id)},t.prototype.openAccessesWindow=function(){var n=this;n.wmContainerFactory.createWindow(AltaiIdentity.IdentityWindows.setSecurableAccesses,"Accesses",n.exposedContentCollectionId,{securableName:"exposedcontentcollection.item"})},t.prototype.deleteExposedContentCollection=function(){var n=this;n.exposedContentCollectionManager["delete"](n.exposedContentCollection).then(function(){n.closeWindow()})},t.prototype.deleteExposedContentCollectionFilter=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.exposedContentCollectionFilterManager["delete"](n).then(function(){t.exposedContentCollection.exposedContentCollectionFilters.splice(t.exposedContentCollection.exposedContentCollectionFilters.indexOf(n),1)})})},t.prototype.deleteExposedContentCollectionSorter=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.exposedContentCollectionSorterManager["delete"](n).then(function(){var i,r;if(n.order<t.exposedContentCollection.exposedContentCollectionSorters.length-1){i=t.exposedContentCollection.exposedContentCollectionSorters.filter(function(t){return t.order>n.order});for(r in i)t.exposedContentCollection.exposedContentCollectionSorters.filter(function(n){return n.id==i[r].id})[0].order-=1}t.exposedContentCollection.exposedContentCollectionSorters.splice(t.exposedContentCollection.exposedContentCollectionSorters.indexOf(n),1);t.updateExposedContentCollection()})})},t.prototype.sortPositionUp=function(n){var t=this;n.order>0&&(n.order,t.exposedContentCollection.exposedContentCollectionSorters.filter(function(t){return t.order==n.order-1})[0].order=n.order,t.exposedContentCollection.exposedContentCollectionSorters.filter(function(t){return t.id==n.id})[0].order=n.order-1,t.scope.$apply)},t.prototype.sortPositionDown=function(n){var t=this;n.order<t.exposedContentCollection.exposedContentCollectionSorters.length-1&&(t.exposedContentCollection.exposedContentCollectionSorters.filter(function(t){return t.order==n.order+1})[0].order=n.order,t.exposedContentCollection.exposedContentCollectionSorters.filter(function(t){return t.id==n.id})[0].order=n.order+1,t.scope.$apply)},t.prototype.deleteExposedContentCollectionRange=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.exposedContentCollectionRangeManager["delete"](n).then(function(){t.exposedContentCollection.exposedContentCollectionRanges.splice(t.exposedContentCollection.exposedContentCollectionRanges.indexOf(n),1)})})},t.prototype.deleteExposedContentCollectionAttribute=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.exposedContentCollectionAttributeManager["delete"](n).then(function(){t.exposedContentCollection.exposedContentCollectionAttributes.splice(t.exposedContentCollection.exposedContentCollectionAttributes.indexOf(n),1)})})},t.prototype.openUpdateFilterWindow=function(t){var i=this;i.wmContainerFactory.createWindow(n.ContentWindows.exposedContentCollectionFilterUpdate,"Update filter",t.id)},t.prototype.openCreateFilterWindow=function(){var t=this;t.wmContainerFactory.createWindow(n.ContentWindows.exposedContentCollectionFilterCreate,"Create filter",t.exposedContentCollectionId)},t.prototype.openCreateSorterWindow=function(){var t=this;t.wmContainerFactory.createWindow(n.ContentWindows.exposedContentCollectionSorterCreate,"Create sorter",t.exposedContentCollectionId)},t.prototype.openUpdateSorterWindow=function(t){var i=this;i.wmContainerFactory.createWindow(n.ContentWindows.exposedContentCollectionSorterUpdate,"Update sorter",t.id)},t.prototype.openCreateRangeWindow=function(){var t=this;t.wmContainerFactory.createWindow(n.ContentWindows.exposedContentCollectionRangeCreate,"Create range",t.exposedContentCollectionId)},t.prototype.openUpdateRangeWindow=function(t){var i=this;i.wmContainerFactory.createWindow(n.ContentWindows.exposedContentCollectionRangeUpdate,"Update range",t.id)},t.prototype.openUpdateAttributeWindow=function(){var t=this;t.wmContainerFactory.createWindow(n.ContentWindows.exposedContentCollectionAttributeUpdate,"Update attributes",t.exposedContentCollectionId)},t.prototype.openPreview=function(){var t=this;t.wmContainerFactory.createWindow(n.ContentWindows.exposedContentCollectionPreview,"Preview exposedcontentcolleciton",t.exposedContentCollectionId)},t.prototype.handleSorting=function(){var n=this;return{stop:function(){n.exposedContentCollectionFilterManager.updateFilterSorting(n.exposedContentCollection.exposedContentCollectionFilters)}}},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{exposedContentCollectionId:"="},template:"{{$ctrl.template}}",controller:i,controllerAs:"$ctrl",bindToController:!0}}n.AltaiExposedContentCollectionPreviewDirective=t;var i=function(){function n(n,t,i,r,u){this.$scope=t;this.loading=!0;var f=this;u.getById(f.exposedContentCollectionId).then(function(n){f.loading=!1;f.exposedContentCollection=n;r.html(i("<altai-exposed-content-collection exposed-content-collection-id='"+f.exposedContentCollectionId+"' template-id='"+f.exposedContentCollection.templateId+"'><\/altai-exposed-content-collection>")(t))})}return n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Search:ExposedContentCollectionFilterCreate";this.controller=t;this.bindings={exposedContentCollectionId:"="}}return n}(),t;n.ExposedContentCollectionFilterCreateComponent=i;t=function(){function t(n,t,i,r,u,f,e,o){this.contentTypeService=n;this.contentTypeAttributeManager=t;this.wmContainerFactory=i;this.exposedContentCollectionFilterManager=r;this.$rootScope=u;this.contentItemService=f;this.contentRelationFactory=e;this.filterTypes=[{value:"term",label:"Term"},{value:"relation",label:"Relatie"},{value:"range",label:"Range"},{value:"contenttype",label:"Content Type"},{value:"MoreLikeThis",label:"More Like This"}];var s=this;s.contentTypeService.list().then(function(n){s.contentTypes=n});s.contentTypeAttributeManager.list().then(function(n){s.contentTypeAttributes=n;s.contentTypeAttributes.push({id:"0",attribute:{name:"id",label:"Id"},attributeId:"0",contentTypeId:null,options:null});s.contentTypeAttributes.push({id:"-1",attribute:{name:"published",label:"Published"},attributeId:"-1",contentTypeId:null,options:null})});o.$watch("newFilter.type",function(){o.newFilter&&"relation"==o.newFilter.filterType&&o.newFilter.type.id&&s.contentItemService.listContentByType(o.newFilter.type.id).then(function(n){s.valueOptions=n})});o.$watch("newFilter.filterType",function(){o.newFilter&&"contenttype"==o.newFilter.filterType&&(s.valueOptions=angular.copy(s.contentTypes))})}return t.prototype.createNewFilter=function(t){var i=this,u,r;if("relation"==t.filterType&&(t.typeId=t.type.id,t.type=t.type.name),"contenttype"==t.filterType&&(t.typeId=null,t.type=null,t.field=null),"term"==t.filterType&&(t.typeId=null,t.type=null),null!=i.valueOptionsOutput&&i.valueOptionsOutput.length>0){t.exposedContentCollectionFilterSelectedValues=[];for(r in i.valueOptionsOutput)t.exposedContentCollectionFilterSelectedValues.push({valueId:i.valueOptionsOutput[r].id,valueParameter:void 0,value:void 0})}if((null!=i.valueParameter&&i.valueParameter.length>0&&(t.exposedContentCollectionFilterSelectedValues=[],t.exposedContentCollectionFilterSelectedValues.push({valueId:void 0,valueParameter:i.valueParameter,value:void 0})),null!=i.values&&i.values.length>0)&&(u=i.values.split(";"),u.length>0)){t.exposedContentCollectionFilterSelectedValues=[];for(r in u)void 0!=u[r]&&""!=u[r]&&t.exposedContentCollectionFilterSelectedValues.push({valueId:void 0,valueParameter:void 0,value:u[r]})}t.exposedContentCollectionId=i.exposedContentCollectionId;i.exposedContentCollectionFilterManager.add(t).then(function(){var t=i.wmContainerFactory.findWindow(n.ContentWindows.exposedContentCollectionFilterCreate,i.exposedContentCollectionId);i.wmContainerFactory.destroyWindow(t.id);i.$rootScope.$broadcast("exposedContentCollectionChanged")})},t}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Search:ExposedContentCollectionFilterUpdate";this.controller=t;this.bindings={exposedContentCollectionFilterId:"="}}return n}(),t;n.ExposedContentCollectionFilterUpdateComponent=i;t=function(){function t(n,t,i,r,u,f,e,o,s){this.contentTypeService=n;this.contentTypeAttributeManager=t;this.contentItemService=i;this.wmContainerFactory=r;this.exposedContentCollectionFilterManager=u;this.exposedContentCollectionFilterMLTCriteriumManager=f;this.$rootScope=e;this.contentRelationFactory=o;this.$scope=s;this.values="";this.filterTypes=[{value:"term",label:"Term"},{value:"relation",label:"Relatie"},{value:"range",label:"Range"},{value:"contenttype",label:"Content Type"},{value:"MoreLikeThis",label:"More Like This"}];var h=this;h.contentTypeAttributeManager.list().then(function(n){h.contentTypeAttributes=n;h.contentTypeAttributes.push({attribute:{name:"id",label:"Id"}});h.contentTypeAttributes.push({attribute:{name:"published",label:"Published"}});h.exposedContentCollectionFilterManager.getById(h.exposedContentCollectionFilterId,!1).then(function(n){h.exposedContentCollectionFilter=n;h.contentTypeService.list().then(function(n){h.contentTypes=n;h.exposedContentCollectionFilter.type=n.filter(function(n){return n.name==h.exposedContentCollectionFilter.type})[0];h.exposedContentCollectionFilter.field=h.contentTypeAttributes.filter(function(n){return n.attribute.name==h.exposedContentCollectionFilter.field&&("relation"==h.exposedContentCollectionFilter.filterType?n.contentTypeId==h.exposedContentCollectionFilter.type.id:!0)||n.attribute.name==h.exposedContentCollectionFilter.field.split(".raw")[0]})[0]})})});s.$watch("$ctrl.exposedContentCollectionFilter.type",function(){h.exposedContentCollectionFilter&&"relation"==h.exposedContentCollectionFilter.filterType&&h.exposedContentCollectionFilter.type.id&&h.contentItemService.listContentByType(h.exposedContentCollectionFilter.type.id).then(function(n){var t,i;h.valueOptions=n;h.exposedContentCollectionFilter.valueOptionsOutput=[];for(t in h.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues)null==h.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues[t].valueParameter?(i=h.valueOptions.indexOf(h.valueOptions.filter(function(n){return n.id==h.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues[t].valueId})[0]),i>=0&&(h.valueOptions[i].ticked=!0)):h.valueParameter=h.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues[t].valueParameter;h.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues=[]})});s.$watch("$ctrl.exposedContentCollectionFilter.field",function(){if(h.exposedContentCollectionFilter&&"term"==h.exposedContentCollectionFilter.filterType){h.values="";for(var n in h.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues)null==h.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues[n].valueParameter&&null!=h.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues[n].value&&""!=h.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues[n].value?(void 0!=h.values&&h.values.length>0&&(h.values+=";"),h.values+=h.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues[n].value):h.valueParameter=h.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues[n].valueParameter}});s.$watch("$ctrl.exposedContentCollectionFilter.filterType",function(){h.exposedContentCollectionFilter&&"contenttype"==h.exposedContentCollectionFilter.filterType?h.valueOptions=angular.copy(h.contentTypes):h.exposedContentCollectionFilter&&"MoreLikeThis"==h.exposedContentCollectionFilter.filterType&&console.log("MLT")})}return t.prototype.updateFilter=function(){var t=this,i,r;if(("relation"==t.exposedContentCollectionFilter.filterType&&(t.exposedContentCollectionFilter.typeId=t.exposedContentCollectionFilter.type.id,t.exposedContentCollectionFilter.type=t.exposedContentCollectionFilter.type.name,t.exposedContentCollectionFilter.field=t.exposedContentCollectionFilter.field.attribute.name),"contenttype"==t.exposedContentCollectionFilter.filterType&&(t.exposedContentCollectionFilter.typeId=null,t.exposedContentCollectionFilter.type=null,t.exposedContentCollectionFilter.field=null),"term"==t.exposedContentCollectionFilter.filterType&&(t.exposedContentCollectionFilter.typeId=null,t.exposedContentCollectionFilter.type=null,t.exposedContentCollectionFilter.field=t.exposedContentCollectionFilter.field.attribute.name+(2==t.exposedContentCollectionFilter.field.attribute.attributeTypeId||4==t.exposedContentCollectionFilter.field.attribute.attributeTypeId||10==t.exposedContentCollectionFilter.field.attribute.attributeTypeId||14==t.exposedContentCollectionFilter.field.attribute.attributeTypeId||15==t.exposedContentCollectionFilter.field.attribute.attributeTypeId||16==t.exposedContentCollectionFilter.field.attribute.attributeTypeId?".raw":""),null!=t.values))&&(i=t.values.split(";"),i.length>0)){t.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues=[];for(r in i)void 0!=i[r]&&""!=i[r]&&t.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues.push({exposedContentCollectionFilterId:t.exposedContentCollectionFilter.id,value:i[r],valueId:void 0,valueParameter:void 0})}if("MoreLikeThis"==t.exposedContentCollectionFilter.filterType&&(t.exposedContentCollectionFilter.typeId=t.exposedContentCollectionFilter.type.id,t.exposedContentCollectionFilter.type=t.exposedContentCollectionFilter.type.name,t.exposedContentCollectionFilter.field=null),null!=t.valueOptionsOutput&&t.valueOptionsOutput.length>0){t.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues=[];for(r in t.valueOptionsOutput)t.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues.push({exposedContentCollectionFilterId:t.exposedContentCollectionFilter.id,valueId:t.valueOptionsOutput[r].id,valueParameter:void 0,value:void 0})}null!=t.valueParameter&&t.valueParameter.length>0&&(t.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues=[],t.exposedContentCollectionFilter.exposedContentCollectionFilterSelectedValues.push({exposedContentCollectionFilterId:t.exposedContentCollectionFilter.id,valueId:void 0,valueParameter:t.valueParameter,value:void 0}));t.exposedContentCollectionFilterManager.update(t.exposedContentCollectionFilter).then(function(){var i=t.wmContainerFactory.findWindow(n.ContentWindows.exposedContentCollectionFilterUpdate,t.exposedContentCollectionFilterId);t.wmContainerFactory.destroyWindow(i.id);t.$rootScope.$broadcast("exposedContentCollectionChanged")})},t.prototype.openCreateMLTCriteriumWindow=function(){var t=this;t.wmContainerFactory.createWindow(n.ContentWindows.exposedContentCollectionFilterMltCriteriumCreate,"Create MLT Criterium",t.exposedContentCollectionFilterId)},t.prototype.deleteMLTCriteria=function(n){var t=this;t.exposedContentCollectionFilterMLTCriteriumManager["delete"](n).then(function(){var i=t.exposedContentCollectionFilter.expContCollFilMLTCriteria.indexOf(n);console.log(i);i>=0&&t.exposedContentCollectionFilter.expContCollFilMLTCriteria.splice(i,1)})},t}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Search:exposedcontentcollectionsorterupdate";this.controller=t;this.bindings={exposedContentCollectionSorterId:"="}}return n}(),t;n.ExposedContentCollectionSorterUpdateComponent=i;t=function(){function t(n,t,i,r,u){this.contentTypeService=n;this.contentTypeAttributeManager=t;this.wmContainerFactory=i;this.exposedContentCollectionSorterManager=r;this.$rootScope=u;var f=this;f.contentTypeService.list().then(function(n){f.contentTypes=n});f.scoredQuery=[{label:"termOrder",value:0},{label:"Date",value:1}];f.attributes=[{label:"Created",value:"created"},{label:"Updated",value:"lastUpdated"},{label:"Date",value:"date"}];f.contentTypeAttributeManager.list().then(function(n){f.contentTypeAttributes=n});f.exposedContentCollectionSorterManager.getById(f.exposedContentCollectionSorterId).then(function(n){f.exposedContentCollectionSorter=n;1==f.exposedContentCollectionSorter.scoredQuery&&(f.offset=parseInt(f.exposedContentCollectionSorter.offset.split("d")[0]),f.scale=parseInt(f.exposedContentCollectionSorter.scale.split("d")[0]));void 0==f.exposedContentCollectionSorter.decay&&(f.exposedContentCollectionSorter.decay=.5);void 0==f.exposedContentCollectionSorter.offset&&(f.exposedContentCollectionSorter.offset=5);void 0==f.exposedContentCollectionSorter.scale&&(f.exposedContentCollectionSorter.scale=10)})}return t.prototype.updateSorter=function(t){var i=this;1==t.scoredQuery?(t.offset=i.offset+"d",t.scale=i.scale+"d",t.origin="now"):(t.decay=void 0,t.offset=void 0,t.scale=void 0,t.origin=void 0);0==t.scoredQuery&&i.relevance&&(t.field="_score");i.exposedContentCollectionSorterManager.update(i.exposedContentCollectionSorter).then(function(){var t=i.wmContainerFactory.findWindow(n.ContentWindows.exposedContentCollectionSorterUpdate,i.exposedContentCollectionSorterId);i.wmContainerFactory.destroyWindow(t.id);i.$rootScope.$broadcast("exposedContentCollectionChanged")})},t}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Search:ExposedContentCollectionsortercreate";this.controller=t;this.bindings={exposedContentCollectionId:"="}}return n}(),t;n.ExposedContentCollectionSorterCreateComponent=i;t=function(){function t(n,t,i,r){this.contentTypeService=n;this.contentTypeAttributeManager=t;this.wmContainerFactory=i;this.exposedContentCollectionSorterManager=r;var u=this;this.scoredQuery=[{label:"termOrder",value:0},{label:"Date",value:1}];u.contentTypeService.list().then(function(n){u.contentTypes=n});u.contentTypeAttributeManager.list().then(function(n){u.contentTypeAttributes=n});u.attributes=[{label:"Created",value:"created"},{label:"Updated",value:"lastUpdated"}]}return t.prototype.createNewSorter=function(t){var i=this;t.exposedContentCollectionId=i.exposedContentCollectionId;1==t.scoredQuery&&(t.offset=i.offset+"d",t.scale=i.scale+"d",t.origin="now");0==t.scoredQuery&&i.relevance&&(t.field="_score");i.exposedContentCollectionSorterManager.add(t).then(function(){var t=i.wmContainerFactory.findWindow(n.ContentWindows.exposedContentCollectionSorterCreate,i.exposedContentCollectionId);i.wmContainerFactory.destroyWindow(t.id)})},t}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Search:exposedcontentcollectionrangeupdate";this.controller=t;this.bindings={exposedContentCollectionRangeId:"="}}return n}(),t;n.ExposedContentCollectionRangeUpdateComponent=i;t=function(){function t(n,t,i){this.wmContainerFactory=n;this.exposedContentCollectionRangeManager=t;this.$rootScope=i;var r=this;r.rangeTypes=[{label:"Date",value:"date"}];r.exposedContentCollectionRangeManager.getById(r.exposedContentCollectionRangeId).then(function(n){r.exposedContentCollectionRange=n})}return t.prototype.updateRange=function(){var t=this;t.exposedContentCollectionRangeManager.update(t.exposedContentCollectionRange).then(function(){var i=t.wmContainerFactory.findWindow(n.ContentWindows.exposedContentCollectionSorterUpdate,t.exposedContentCollectionRangeId);t.wmContainerFactory.destroyWindow(i.id);t.$rootScope.$broadcast("exposedContentCollectionChanged")})},t}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Search:ExposedContentCollectionrangecreate";this.controller=t;this.bindings={exposedContentCollectionId:"="}}return n}(),t;n.ExposedContentCollectionRangeCreateComponent=i;t=function(){function t(n,t){this.wmContainerFactory=n;this.exposedContentCollectionRangeManager=t;this.rangeTypes=[{label:"Date",value:"date"}]}return t.prototype.createNewRange=function(t){var i=this;t.exposedContentCollectionId=i.exposedContentCollectionId;i.exposedContentCollectionRangeManager.add(t).then(function(){var t=i.wmContainerFactory.findWindow(n.ContentWindows.exposedContentCollectionRangeCreate,i.exposedContentCollectionId);i.wmContainerFactory.destroyWindow(t.id)})},t}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Search:ExposedContentCollectionAttributeUpdate";this.controller=t;this.bindings={exposedContentCollectionId:"="}}return n}(),t;n.ExposedContentCollectionAttributeUpdateComponent=i;t=function(){function n(n,t,i,r,u,f,e,o,s){this.contentTypeService=n;this.contentTypeAttributeManager=t;this.wmContainerFactory=i;this.exposedContentCollectionManager=r;this.exposedContentCollectionFilterManager=u;this.exposedContentCollectionAttributeManager=f;this.$rootScope=e;this.contentItemService=o;this.contentRelationFactory=s;this.relation=[];this.fixed=!1;this.newAttribute={ExposedContentCollectionId:0,ExpContCollFields:[{ExpContCollPaths:[]}]};this.includes=[];this.depth=[];this.firstLevel=[];var h=this;h.exposedContentCollectionAttributeManager.getAttributes(h.exposedContentCollectionId).then(function(n){h.includes=n});h.exposedContentCollectionManager.getContentTypes(h.exposedContentCollectionId).then(function(n){h.contentTypeIds=n})}return n.prototype.update=function(){var n=this;n.exposedContentCollectionAttributeManager.updateAttributes(n.exposedContentCollectionId,n.includes).then(function(){})},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Search:ExposedContentCollectionFilterMLTCriteriumCreate";this.controller=t;this.bindings={exposedContentCollectionFilterId:"="}}return n}(),t;n.ExposedContentCollectionFilterMltCriteriumCreateComponent=i;t=function(){function n(n,t,i,r,u,f,e,o,s){this.contentTypeService=n;this.contentTypeAttributeManager=t;this.wmContainerFactory=i;this.exposedContentCollectionFilterManager=r;this.exposedContentCollectionFilterMLTCriteriumManager=u;this.$rootScope=f;this.contentItemService=e;this.contentRelationFactory=o;this.relation=[];this.includes=[];this.fixed=!1;this.newCriterium={Boost:1,MinTermFreq:2,MaxQueryTerms:5,Filter:!1,ExposedContentCollectionFilterId:0,ExpContCollFields:[{ExpContCollPaths:[]}]};var h=this;h.exposedContentCollectionFilterManager.getById(h.exposedContentCollectionFilterId).then(function(n){h.filter=n});h.contentTypeService.list().then(function(n){h.contentTypes=n});h.contentRelationFactory.listWithLinks().then(function(n){h.relations=n;h.relations.push({id:0,name:"None",contentTypeRelationLinks:[{contentTypeId:2,includeByDefault:!1},{contentTypeId:12,includeByDefault:!1},{contentTypeId:1,includeByDefault:!1}]})});h.contentTypeAttributeManager.list().then(function(n){h.contentTypeAttributes=n});s.$watch("$ctrl.relation",function(){h.updateField()},!0);s.$watch("$ctrl.field",function(){h.updateField()});s.$watchCollection("$ctrl.includes",function(n){console.log(n)})}return n.prototype.updateField=function(){var n=this,t;n.resultField="";for(t in n.relation)n.resultField+=n.relation[t].name,n.resultField.length>0&&void 0!=n.relation[t].name&&(n.resultField+=".");void 0!=n.field&&(n.resultField+=n.field.attribute.name)},n.prototype.createNewCriterium=function(){var n=this;n.newCriterium.ExposedContentCollectionFilterId=n.filter.id;n.newCriterium.ExpContCollFields[0].ExpContCollPaths=n.includes[0].expContCollFields[0].expContCollPaths;n.exposedContentCollectionFilterMLTCriteriumManager.add(n.newCriterium).then(function(n){console.log(n)})},n.prototype.getNumber=function(n){return new Array(n)},n.prototype.getTypeId=function(n){var t=this,i=void 0;return angular.forEach(t.relation[n].contentTypeRelationLinks,function(r){var u=r.contentTypeId;n>0?angular.forEach(t.relation[n-1].contentTypeRelationLinks,function(n){u.contentTypeId!=n.contentTypeId&&(i=u)}):u!=t.filter.typeId&&(i=u)}),i},n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Content:SearchSelect";this.controller=t;this.bindings={contentTypeId:"=",model:"=",options:"=",allowMultiple:"="}}return n}(),t;n.AltaiSearchSelectComponent=i;t=function(){function t(n,t,i,r){var u,f;this.wmContainerFactory=t;this.contentItemSelectionService=i;this.altaiConfirmationService=r;u=this;u.selectionKey=u.contentItemSelectionService.getAvailableSelectionKey();f=n.$watch("$ctrl.model",function(){var t,i;if(u.model&&u.model.length){for(t=0;t<u.model.length;t++)u.contentItemSelectionService.addToSelection(u.selectionKey,u.model[t],!1);i=n.$watch("$ctrl.options",function(){var n,t,r;if(u.options){for(n=0;n<u.model.length;n++)t=u.model[n],r=u.options.filter(function(n){return n.id==t.id})[0],r&&(t.name=r.name);i()}});f()}});u.sortingOptions={handle:".drag-handle",stop:function(){u.sortingExistingModelUpdate()}};u.contentItemSelectionService.observeSelection(u.selectionKey,function(){var n=0,t;f();u.allowMultiple||u.contentItemSelectionService.applySingleItemPolicy(u.selectionKey);for(var i=u.contentItemSelectionService.getSelection(u.selectionKey),r=u.model.filter(function(n){return 0===i.filter(function(t){return t.id==n.id}).length}),n=0;n<r.length;n++)u.model.splice(u.model.indexOf(r[n]),1);for(t=i.filter(function(n){return 0===u.model.filter(function(t){return n.id==t.id}).length}),n=0;n<t.length;n++)u.model.push(t[n])})}return t.prototype.sortingExistingModelUpdate=function(){var n=0;this.model.map(function(t){t.order=n++})},t.prototype.openSelectWindow=function(){var t=this;t.wmContainerFactory.createWindow(n.ContentWindows.contentItemSelect,"Select",t.contentTypeId,{selectionKey:t.selectionKey})},t.prototype.deleteSelection=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){var i=t.model.indexOf(n);t.model.splice(i,1)})},t}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.template="<altai-content-item-list content-type-id='$ctrl.contentTypeId' selection='$ctrl.activeSelectionName' ng-if='::$ctrl.contentTypeId'><\/altai-content-item-list><altai-exposed-content-collection template-id='308' ng-if='::!$ctrl.contentTypeId' exposed-content-collection-id='17' selection='$ctrl.activeSelectionName'><\/altai-exposed-content-collection>";this.controller=t;this.bindings={contentTypeId:"=",selectionKey:"="}}return n}(),t;n.AltaiContentItemSelectComponent=i;t=function(){function n(){this.activeSelectionName=this.selectionKey}return n}()}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.transclude=!0;this.template='<a ng-click="$ctrl.changeSorting()" class="altai-content-table-header-sorter"><span ng-transclude><\/span><span ng-if="$ctrl.searchRequest.sort.field == $ctrl.fieldName"><span ng-if="$ctrl.searchRequest.sort.Asc"><i class="mdi mdi-menu-down"><\/i><\/span><span ng-if="!$ctrl.searchRequest.sort.Asc"><i class="mdi mdi-menu-up"><\/i><\/span><\/span><\/a>';this.bindings={searchRequest:"=",fieldName:"@"};this.controller=t}return n}(),t;n.AltaiContentTableHeaderSorterComponent=i;t=function(){function n(){}return n.prototype.changeSorting=function(){var n=this;n.searchRequest.sort.field==n.fieldName?n.searchRequest.sort.Asc=!n.searchRequest.sort.Asc:(n.searchRequest.sort.field=n.fieldName,n.searchRequest.sort.Asc=!0)},n}()}(AltaiContent||(AltaiContent={}));!function(n){function i(){return{scope:{contentTypeId:"=",languages:"="},bindToController:!0,templateUrl:"/api/template/Admin/ContentItemCreate",controller:t,controllerAs:"vm",link:r}}n.AltaiContentItemCreateDirective=i;var r=function(){function n(n){n.$watch("vm.creating",function(t){n.contentItemCreateForm.$setValidity("validation",!t)})}return n}(),t=function(){function t(n,t,i,r,u,f){this.$scope=n;this.$q=t;this.contentTypeService=r;this.contentTypes=[];this.creating=!1;this.saveObservers=[];var e=this;this.contentItemService=i;this.wmContainerFactory=u;this.contentCreateItemProcessor=f;this.contentTypeService.list().then(function(n){for(var t=0;t<n.length;t++)n[t].directCreatePossible&&e.contentTypes.push(n[t]);e.contentTypeId&&(e.selectedContentType=e.contentTypes.filter(function(n){return n.id==e.contentTypeId})[0])});this.initNewContentArray();n.$on("createContent",function(){e.createContent()});n.$on("provideContent",function(){e.provideContent()});n.$on("createContentAndKeepCreating",function(){e.createContentAndKeepCreating()});n.$on("createContentAndEdit",function(){e.createContentAndEdit()});n.$on("createContentAndPreview",function(){e.createContentAndPreview()})}return t.prototype.observeSave=function(n){-1===this.saveObservers.indexOf(n)&&this.saveObservers.push(n)},t.prototype.broadcastSaveToObservers=function(){for(var n=0;n<this.saveObservers.length;n++)this.saveObservers[n]()},t.prototype.initNewContentArray=function(){this.newContent||(this.newContent={});this.newContent.attribute={};this.newContent.relation={}},t.prototype.selectContentType=function(n){this.selectedContentType=n},t.prototype.provideContent=function(){var n=this,t=this.$q.defer();return n.creating=!0,this.contentTypeService.getById(this.selectedContentType.id).then(function(i){var r=n.contentCreateItemProcessor.processContentItem(n.newContent,i);n.$scope.$emit("contentProvided",r);t.resolve(r)}),t.promise},t.prototype.createContent=function(){var n=this,t=this.$q.defer();return n.creating=!0,this.contentTypeService.getById(this.selectedContentType.id).then(function(i){var r=n.contentCreateItemProcessor.processContentItem(n.newContent,i);n.contentItemService.add(r).then(function(i){n.creating=!1;n.$scope.$emit("contentcreated",i);t.resolve(i)})}),this.broadcastSaveToObservers(),t.promise},t.prototype.createContentAndKeepCreating=function(){var t=this;this.createContent().then(function(){var i=t.wmContainerFactory.findWindow(n.ContentWindows.contentItemCreate,t.contentTypeId);i&&t.wmContainerFactory.destroyWindow(i.id);t.wmContainerFactory.createWindow(n.ContentWindows.contentItemCreate,t.selectedContentType.label,t.selectedContentType.id)})},t.prototype.createContentAndEdit=function(){var t=this,i=t.wmContainerFactory.findWindow(n.ContentWindows.contentItemCreate,t.selectedContentType.id);i&&t.wmContainerFactory.destroyWindow(i.id);this.createContent().then(function(i){t.wmContainerFactory.createWindow(n.ContentWindows.contentItemUpdate,t.selectedContentType.label,i.id)})},t.prototype.createContentAndPreview=function(){var t=this;this.createContent().then(function(i){t.wmContainerFactory.createWindow(n.ContentWindows.contentItemUpdate,i.name,i.id);t.wmContainerFactory.createWindow(n.ContentWindows.contentItemPreview,i.name,i.id)})},t}();n.ContentItemCreateDirectiveController=t}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{contentTypeId:"=",languages:"="},bindToController:!0,templateUrl:"/api/template/Admin/ContentItemCreateParent",controller:r,controllerAs:"vm",link:i}}n.AltaiContentItemCreateParentDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.createContent()},name:"createclose","class":"altai-button-go",disableByFormValidity:n.contentItemCreateForm,separator:!0},{icon:"mdi-content-save",action:function(){n.vm.createContentAndEdit()},"class":"altai-button-go",name:"createdraft",separator:!0},{icon:"mdi-library-plus",action:function(){n.vm.createContentAndKeepCreating()},"class":"altai-button-go",name:"createandrecreate",disableByFormValidity:n.contentItemCreateForm,separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0};n.vm.previewPossible&&n.vm.toolbar.menuGroups[0].menuItems.push({icon:"mdi-plus-circle-multiple-outline",action:function(){n.vm.createContentAndPreview()},"class":"altai-button-go",name:"createandpreview",disableByFormValidity:n.contentItemCreateForm,separator:!0});n.vm.toolbar.menuGroups[0].menuItems.push({icon:"mdi-close",action:function(){n.vm.closeWindow()},"class":"altai-button-back",name:"cancel",separator:!0})}return n}(),r=function(){function t(n,t,i){this.$scope=n;this.contentTypeService=t;this.wmContainerFactory=i;this.contentTypes=[];this.creating=!1;var r=this;t.previewPossibleForType(r.contentTypeId).then(function(n){r.previewPossible=n;r.maximizeWindow()})}return t.prototype.closeWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.ContentWindows.contentItemCreate);t.wmContainerFactory.destroyWindow(i.id)},t.prototype.maximizeWindow=function(){var t=this.wmContainerFactory.findWindow(n.ContentWindows.contentItemCreate,this.contentTypeId);t&&(t.toggleMaximize(),this.wmContainerFactory.focusOnWindow(t))},t.prototype.minimizeWindow=function(){this.wmContainerFactory.removeFocusOnWindow()},t.prototype.createContent=function(){var t=this,i;t.$scope.$broadcast("createContent");t.minimizeWindow();i=t.wmContainerFactory.findWindow(n.ContentWindows.contentItemCreate);t.wmContainerFactory.destroyWindow(i.id)},t.prototype.createContentAndKeepCreating=function(){var n=this;n.$scope.$broadcast("createContentAndKeepCreating")},t.prototype.createContentAndEdit=function(){var n=this;n.$scope.$broadcast("createContentAndEdit")},t.prototype.createContentAndPreview=function(){var n=this;n.$scope.$broadcast("createContentAndPreview")},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{contentTypeId:"=",windowId:"=",selection:"="},template:"<altai-content-item-list-inner content-type-id='vm.contentTypeId' selection='vm.selection' window-id='vm.windowId'>",controllerAs:"vm",bindToController:!0}}function i(){return{scope:{contentTypeId:"=",windowId:"=",selection:"="},templateUrl:"/api/template/Admin/ContentItemList",controller:r,controllerAs:"vm",bindToController:!0}}n.AltaiContentItemListDirective=t;n.AltaiContentItemListInnerDirective=i;var r=function(){function t(t,i,r,u,f,e){this.createOption=!0;var o=this;this.contentItemService=r;this.contentTypeService=u;this.wmContainerFactory=f;this.altaiConfirmationService=e;this.init();t.$watch("vm.searchModel",function(n,t){if(o.searchModel.windowId=o.windowId,o.searchModelHasChanged(n,t)&&o.getData(),1!=o.searchModel.chosenContentTypeModel.length)o.createOption=!1;else if(o.contentTypes&&o.searchModel.chosenContentTypeModel[0]){var i=o.contentTypes.filter(function(n){return n.id===o.searchModel.chosenContentTypeModel[0].id})[0];o.createOption=i.directCreatePossible}},!0);t.$on(n.ContentEvents.contentItemUpdated,function(){o.getData()});t.$on(n.ContentEvents.contentItemCreated,function(){o.getData()})}return t.prototype.searchModelHasChanged=function(n,t){return n.pageNr!=t.pageNr||n.sorterAttr!=t.sorterAttr||n.sorterDesc!=t.sorterDesc||n.chosenContentTypeModel.length!=t.chosenContentTypeModel.length||n.name!=t.name},t.prototype.init=function(){var t=this;t.searchModel=new n.ContentItemSearchModel;t.searchModel.chosenContentTypeModel=[];this.contentTypeService.list().then(function(n){var r,i;if(t.contentTypes=angular.copy(n),t.contentTypeId)r=t.contentTypes.filter(function(n){return n.id==t.contentTypeId})[0],r&&t.embedContentTypeInSelection(r);else for(i=0;i<t.contentTypes.length;i++)0==t.contentTypes[i].system&&t.embedContentTypeInSelection(t.contentTypes[i]);t.contentItems||t.getData()})},t.prototype.embedContentTypeInSelection=function(n){n.ticked=!0;this.searchModel.chosenContentTypeModel.push(n)},t.prototype.getData=function(){var n=this;this.contentItemService.listAdvanced(this.searchModel).then(function(t){n.contentItems=t})},t.prototype.setSorting=function(n){this.searchModel.pageNr=0;this.searchModel.sorterDesc=this.searchModel.sorterAttr==n?!this.searchModel.sorterDesc:!1;this.searchModel.sorterAttr=n;this.getData()},t.prototype.openContentItemProfile=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemProfile,t.name,t.id)},t.prototype.getSearchResults=function(){var n=this;this.contentItemService.listAdvanced(this.searchModel).then(function(t){n.contentItems=t})},t.prototype.updateContentItem=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemUpdate,t.name,t.id)},t.prototype.deleteContentItem=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.contentItemService["delete"](n).then(function(){t.getData()})})},t.prototype.likeContentItem=function(n){var t=this;t.contentItemService.likeContentItem(n).then(function(){t.getData()})},t.prototype.previewContentItem=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemPreview,t.name,t.id)},t.prototype.createContentItem=function(){var t=this;this.contentTypeId?t.contentTypeService.getById(t.contentTypeId).then(function(i){t.wmContainerFactory.createWindow(n.ContentWindows.contentItemCreate,i.label,t.contentTypeId)}):this.wmContainerFactory.createWindow(n.ContentWindows.contentTypeList,"contenttypes")},t.prototype.openPage=function(n){this.searchModel.pageNr=n},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{contentTypeId:"=",windowId:"="},templateUrl:"/api/template/Admin/ContentItemListElastic",controller:i,controllerAs:"vm",bindToController:!0}}n.AltaiContentItemListElasticDirective=t;var i=function(){function t(t,i,r,u,f,e){this.createOption=!0;var o=this;this.contentItemElasticService=r;this.contentTypeService=u;this.wmContainerFactory=f;this.altaiConfirmationService=e;this.init();t.$watch("vm.searchModel",function(n,t){o.searchModel.windowId=o.windowId;o.searchModelHasChanged(n,t)&&o.getData();1!=o.searchModel.chosenContentTypeModel.length?o.createOption=!1:o.contentTypeService.getById(o.searchModel.chosenContentTypeModel[0].id).then(function(n){o.createOption=n.directCreatePossible})},!0);t.$on(n.ContentEvents.contentItemUpdated,function(){o.getData()});t.$on(n.ContentEvents.contentItemCreated,function(){o.getData()})}return t.prototype.searchModelHasChanged=function(n,t){return n.pageNr!=t.pageNr||n.sorterAttr!=t.sorterAttr||n.sorterDesc!=t.sorterDesc||n.chosenContentTypeModel.length!=t.chosenContentTypeModel.length||n.name!=t.name},t.prototype.init=function(){var t=this;t.searchModel=new n.ContentItemSearchModel;t.searchModel.chosenContentTypeModel=[];this.contentTypeService.list().then(function(n){var r,i;if(t.contentTypes=angular.copy(n),t.contentTypeId)r=t.contentTypes.filter(function(n){return n.id==t.contentTypeId})[0],r&&t.embedContentTypeInSelection(r);else for(i=0;i<t.contentTypes.length;i++)0==t.contentTypes[i].system&&t.embedContentTypeInSelection(t.contentTypes[i]);t.contentItems||t.getData()})},t.prototype.embedContentTypeInSelection=function(n){n.ticked=!0;this.searchModel.chosenContentTypeModel.push(n)},t.prototype.getData=function(){var n=this;this.contentItemElasticService.listAdvanced(this.searchModel).then(function(t){n.contentItems=t})},t.prototype.setSorting=function(n){this.searchModel.pageNr=0;this.searchModel.sorterDesc=this.searchModel.sorterAttr==n?!this.searchModel.sorterDesc:!1;this.searchModel.sorterAttr=n;this.getData()},t.prototype.openContentItemProfile=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemProfile,t.Name,t.Id)},t.prototype.getSearchResults=function(){var n=this;this.contentItemElasticService.listAdvanced(this.searchModel).then(function(t){n.contentItems=t})},t.prototype.updateContentItem=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemUpdate,t.Name,t.Id)},t.prototype.deleteContentItem=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.contentItemElasticService["delete"](n).then(function(){t.getData()})})},t.prototype.previewContentItem=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemPreview,t.Name,t.Id)},t.prototype.createContentItem=function(){var t=this;this.contentTypeId?t.contentTypeService.getById(t.contentTypeId).then(function(i){t.wmContainerFactory.createWindow(n.ContentWindows.contentItemCreate,i.label,t.contentTypeId)}):this.wmContainerFactory.createWindow(n.ContentWindows.contentTypeList,"contenttypes")},t.prototype.openPage=function(n){this.searchModel.pageNr=n},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{contentItemId:"=",languages:"="},templateUrl:"/api/template/Admin/Content:ContentItemPreview",controller:r,link:i,controllerAs:"vm",bindToController:!0}}n.AltaiContentItemPreviewDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-pencil",action:function(){n.vm.openUpdateItemWindow()},name:"edit","class":"altai-button-primary"}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t,i,r,u){this.wmContainerFactory=i;this.altaiLocalizationService=u;this.loading=!0;this.enableRootCssContainer=!0;var f=this;f.contentItemService=r;t.$watch("vm.languages",function(){if(f.languages){var n=f.languages.filter(function(n){return n.selected})[0];n.code!=u.getCurrentLangCode()?f.altaiLocalizationService.changeLang(n.code).then(function(){}):f.getData()}},!0)}return t.prototype.getData=function(){var n=this;n.loading=!0;n.contentItemService.getById(n.contentItemId).then(function(t){n.languages&&(n.activeLang=n.languages.filter(function(n){return n.selected})[0],n.contentItemService.getDataById(n.contentItemId,n.activeLang.code).then(function(i){n.item=i;n.enableRootCssContainer=!0;t.templateId&&(n.templateUrl="/api/template/"+t.templateId);n.loading=!1}))})},t.prototype.openUpdateItemWindow=function(){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemUpdate,"Update",this.contentItemId)},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{contentItemId:"=",languages:"=",updateModel:"=",contentItem:"=",contentType:"=",linkedContentTypes:"=",editMode:"<"},templateUrl:function(n,t){return void 0!=t.template?t.template:"/api/template/Admin/ContentItemUpdateInner"},controller:i,controllerAs:"vm",bindToController:!0}}n.AltaiContentItemUpdateInnerDirective=t;var i=function(){function t(n,t,i,r,u,f,e){this.listOtherContent=[];var o=this;void 0==this.editMode&&(this.editMode=!0);this.contentItemService=n;this.wmContainerFactory=u;this.$rootScope=r;this.contentRelationFactory=t;this.contentCreateItemProcessor=f;this.contentTypeService=i;this.contentItemService.getById(o.contentItemId).then(function(n){o.contentItem=angular.copy(n);e.getUpdateModel(o.contentItemId).then(function(n){o.updateModel=n;o.contentType=n.contentType})});this.datetime=new Date}return t.prototype.openContentItem=function(t){var i=this;i.wmContainerFactory.createWindow(n.ContentWindows.contentItemProfile,t.name,t.id)},t.prototype.refreshPreview=function(){this.$rootScope.$broadcast("ContentChanged")},t.prototype.getAttrById=function(n,t){if(void 0!=n)return n.filter(function(n){return n.id==t})},t.prototype.getAttrByName=function(n,t){if(void 0!=n)return n.filter(function(n){return n.attribute.name==t})},t.prototype.getRelById=function(n,t){if(void 0!=n)return n.filter(function(n){return n.id==t})},t.prototype.getRelByName=function(n,t){if(void 0!=n)return n.filter(function(n){return n.contentTypeRelation.name==t})},t.prototype.getRelModelIndexById=function(n,t){if(void 0!=n)for(var i in n)if(n.hasOwnProperty(i)&&n[i].contentTypeRelationId==t)return i;return"0"},t}()}(AltaiContent||(AltaiContent={}));!function(n){function i(){return{scope:{contentItemId:"=",languages:"="},templateUrl:function(n,t){return void 0!=t.template?t.template:"/api/template/Admin/ContentItemUpdate"},controller:t,controllerAs:"vm",bindToController:!0}}n.AltaiContentItemUpdateDirective=i;var t=function(){function t(n,t,i,r,u,f,e,o,s,h){this.contentItemService=n;this.$scope=t;this.$q=i;this.$rootScope=r;this.wmContainerFactory=u;this.contentCreateItemProcessor=f;this.Upload=s;this.$state=h;this.linkedContentTypes={};this.listOtherContent=[];this.saveObservers=[];e.resetModels();o.resetOptions();var c=this;t.$on("updateContentItemModel",function(){c.updateContentItemModel(c.contentItem,c.updateModel,c.contentType)});t.$on("updateContentData",function(){c.updateContentData()});t.$on("provideContent",function(){c.provideContent()});t.$on("updateContent",function(){c.updateContent()});t.$on("publishContentItem",function(){c.contentItem.published=!0;c.updateContent()});t.$on("unpublishContentItem",function(){c.contentItem.published=!1;c.updateContent()});t.$on("updateContentDraft",function(){c.updateContentDraft()});t.$on("openContentItem",function(){c.openContentItem(c.contentItem)})}return t.prototype.observeSave=function(n){-1===this.saveObservers.indexOf(n)&&this.saveObservers.push(n)},t.prototype.broadcastSaveToObservers=function(){return this.$q.all(this.saveObservers)},t.prototype.updateContentItemModel=function(n,t,i){return this.contentItemService.updateContentItemModel(n,t,i,this.languages,this.linkedContentTypes)},t.prototype.provideContent=function(){var n=this,t=n.updateContentItemModel(n.contentItem,n.updateModel,n.contentType);return n.$scope.$emit("contentProvided",t),t},t.prototype.updateContentData=function(){var t=this,i=t.$q.defer(),r=t.updateContentItemModel(t.contentItem,t.updateModel,t.contentType);return t.$q.all(t.saveObservers.map(function(n){return n()})).then(function(){t.contentItemService.update(r).then(function(){t.$rootScope.$broadcast(n.ContentEvents.contentItemUpdated);i.resolve()})}),i.promise},t.prototype.updateContent=function(){var n=this;n.updateContentData().then(function(t){n.$scope.$emit("contentupdated",t)})},t.prototype.cancelContent=function(){var n=this;n.$state.reload()},t.prototype.updateContentDraft=function(){var t=this;t.updateContentData().then(function(){t.wmContainerFactory.createWindow(n.ContentWindows.contentItemUpdate,t.contentItem.name,t.contentItem.id)})},t.prototype.openContentItem=function(t){var i=this;i.wmContainerFactory.createWindow(n.ContentWindows.contentItemProfile,t.name,t.id)},t}();n.ContentItemUpdateDirectiveController=t}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{contentItemId:"="},templateUrl:"/api/template/Admin/ContentItemUpdateParent",controller:r,link:i,controllerAs:"vm",bindToController:!0}}n.AltaiContentItemUpdateParentDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.updateContent()},name:"createclose","class":"altai-button-go",separator:!0},{icon:"mdi-content-save",action:function(){n.vm.updateContentDraft()},"class":"altai-button-go",name:"createdraft",separator:!0},{icon:"mdi-plus-circle-multiple-outline",action:function(){n.vm.openPreviewWindow()},"class":"altai-button-go",name:"preview",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0};var t=n.$watch("vm.contentItem",function(){n.vm.contentItem&&(t(),n.vm.allowPublishing&&(n.vm.contentItem.published?n.vm.toolbar.menuGroups[0].menuItems.push({icon:"mdi-package-down",action:function(){n.vm.contentItem.published=!1;n.vm.unpublish();n.$on("contentupdated",function(){n.vm.closeWindow()})},name:"unpublish","class":"altai-button-back",separator:!0}):n.vm.toolbar.menuGroups[0].menuItems.push({icon:"mdi-package-up",action:function(){return n.vm.published=!0,n.contentItemCreateForm.$valid?(n.vm.publish(),void n.$on("contentupdated",function(){n.vm.closeWindow()})):void alert("Cannot publish, the form is not yet valid")},name:"publish","class":"altai-button-go",separator:!0})),n.vm.toolbar.menuGroups[0].menuItems.push({icon:"mdi-close",action:function(){n.vm.closeWindow()},"class":"altai-button-back",name:"cancel",separator:!0}))},!0)}return n}(),r=function(){function t(n,t,i,r,u){this.$scope=n;this.wmContainerFactory=i;this.contentItemService=u;this.linkedContentTypes={};this.allowPublishing=!1;var f=this;this.isPreviewWindowOpen()||this.maximizeWindow();t.$on("fileUploadInProgress",function(){f.uploadInprogress=!0});t.$on("fileUploadDone",function(){f.uploadInprogress=!1});u.getById(f.contentItemId).then(function(n){f.contentItem=n;f.published=n.published;r.previewPossibleForType(n.contentTypeId).then(function(n){f.previewPossible=n});r.publishPossibleForType(n.contentTypeId).then(function(n){f.allowPublishing=n})})}return t.prototype.isPreviewWindowOpen=function(){var t=this.wmContainerFactory.findWindow(n.ContentWindows.contentItemPreview,this.contentItemId);return void 0!=t},t.prototype.maximizeWindow=function(){var t=this.wmContainerFactory.findWindow(n.ContentWindows.contentItemUpdate,this.contentItemId);t&&(t.toggleMaximize(),this.wmContainerFactory.focusOnWindow(t))},t.prototype.closeWindow=function(){var t=this,i;t.wmContainerFactory.removeFocusOnWindow();i=t.wmContainerFactory.findWindow(n.ContentWindows.contentItemUpdate,t.contentItemId);t.wmContainerFactory.destroyWindow(i.id)},t.prototype.openPreviewWindow=function(){var t=this;t.previewPossible?t.wmContainerFactory.createWindow(n.ContentWindows.contentItemPreview,"Preview",t.contentItemId):alert("Item has no preview")},t.prototype.updateContentItemModel=function(){var n=this;return n.uploadInprogress?void alert("upload still in progress, try again"):void n.$scope.$broadcast("updateContentItemModel")},t.prototype.updateContentData=function(){var n=this;return n.uploadInprogress?void alert("upload still in progress, try again"):void n.$scope.$broadcast("updateContentData")},t.prototype.updateContent=function(){var n=this;return n.uploadInprogress?void alert("upload still in progress, try again"):(n.$scope.$broadcast("updateContent"),void n.closeWindow())},t.prototype.updateContentDraft=function(){var n=this;return n.uploadInprogress?void alert("upload still in progress, try again"):void n.$scope.$broadcast("updateContentDraft")},t.prototype.openContentItem=function(){var n=this;n.$scope.$broadcast("openContentItem")},t.prototype.publish=function(){var n=this;n.$scope.$broadcast("publishContentItem")},t.prototype.unpublish=function(){var n=this;n.$scope.$broadcast("unpublishContentItem")},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{contentItemId:"=",languages:"="},templateUrl:"/api/template/Admin/ContentItemProfile",controller:r,link:i,controllerAs:"vm",bindToController:!0}}n.AltaiContentItemProfileDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{translatableTooltipId:"preview",icon:"mdi-camera",action:function(){n.vm.previewContentItem()},"class":"altai-button-primary",name:"preview",separator:!0},{translatableTooltipId:"edit",icon:"mdi-pencil",action:function(){n.vm.updateContentItem()},"class":"altai-button-primary",name:"edit",separator:!0},{translatableTooltipId:"accesses",icon:"mdi-key",action:function(){n.vm.openAccessesWindow()},"class":"altai-button-primary",name:"accesses",separator:!0},{translatableTooltipId:"delete",icon:"mdi-delete",action:function(){n.vm.deleteContentItem()},"class":"altai-button-back",name:"delete",separator:!0}],align:"left"}],showLanguages:!0}}return n}(),r=function(){function t(t,i,r,u,f){this.relations=[];var e=this;this.contentItemService=t;this.wmContainerFactory=i;this.altaiConfirmationService=u;f.$watch("vm.languages",function(){e.languages&&e.getData()},!0);f.$on(n.ContentEvents.contentItemUpdated,function(){e.getData()})}return t.prototype.getSelectedLang=function(){return this.languages.filter(function(n){return n.selected})[0]},t.prototype.getData=function(){var n=this;n.contentItemService.getByIdInLang(n.contentItemId,n.getSelectedLang().code).then(function(t){n.contentItem=t;n.parseRelations()})},t.prototype.parseRelations=function(){var n=this,t,i;for(n.relations=[],t=0;t<n.contentItem.contentItemRelationLinks.length;t++)i=n.relations.filter(function(i){return i.contentTypeRelationId==n.contentItem.contentItemRelationLinks[t].contentRelation.contentTypeRelationId})[0],i||(n.relations.push({contentTypeRelationId:n.contentItem.contentItemRelationLinks[t].contentRelation.contentTypeRelationId,name:n.contentItem.contentItemRelationLinks[t].contentRelation.contentTypeRelation.name,content:[]}),i=n.relations[n.relations.length-1]),i.content.push({id:n.contentItem.contentItemRelationLinks[t].contentRelation.contentRelationLinks[0].content.id,name:n.contentItem.contentItemRelationLinks[t].contentRelation.contentRelationLinks[0].content.name})},t.prototype.previewContentItem=function(){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemPreview,this.contentItem.name,this.contentItem.id)},t.prototype.updateContentItem=function(){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemUpdate,this.contentItem.name,this.contentItem.id)},t.prototype.openContentItem=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemProfile,t.name,t.id)},t.prototype.deleteContentItem=function(){var t=this;t.altaiConfirmationService.confirm().then(function(){t.contentItemService["delete"](t.contentItem).then(function(){var i=t.wmContainerFactory.findWindow(n.ContentWindows.contentItemProfile,t.contentItemId);t.wmContainerFactory.destroyWindow(i.id)})})},t.prototype.openAccessesWindow=function(){var n=this;n.wmContainerFactory.createWindow(AltaiIdentity.IdentityWindows.setSecurableAccesses,"Accesses",n.contentItemId,{securableName:"contentitem.item"})},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{results:"=",selection:"="},controller:i,controllerAs:"vm",bindToController:!0,templateUrl:"/api/template/Admin/Content:ContentItemTable"}}n.AltaiContentItemTableDirective=t;var i=function(){function t(n,t,i,r,u,f){this.createOption=!0;this.contentItemService=i;this.contentTypeService=r;this.wmContainerFactory=u;this.altaiConfirmationService=f}return t.prototype.openContentItemProfile=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemProfile,t.Name,t.Id)},t.prototype.updateContentItem=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemUpdate,t.Name,t.Id)},t.prototype.deleteContentItem=function(){var n=this;n.altaiConfirmationService.confirm().then(function(){})},t.prototype.previewContentItem=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentItemPreview,t.Name,t.Id)},t.prototype.createContentItem=function(){var t=this;this.contentTypeId?t.contentTypeService.getById(t.contentTypeId).then(function(i){t.wmContainerFactory.createWindow(n.ContentWindows.contentItemCreate,i.label,t.contentTypeId)}):this.wmContainerFactory.createWindow(n.ContentWindows.contentTypeList,"contenttypes")},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{restrict:"E",controller:i}}n.AltaiContentFormDirective=t;var i=function(){function n(n,t,i,r,u,f,e,o,s,h,c){var l,a;this.$stateParams=n;this.$document=t;this.$scope=i;this.$timeout=r;this.altaiLocalizationService=f;this.userInfoService=o;this.exposedContentCollectionDataService=s;this.$location=c;this.loading=!1;this.autoSubmit=!1;this.updateMode=!1;l=this;(i.autoSubmit=h("submit"),void 0!=n.workshop)&&(a={page:0,searchOptions:[],sort:{field:"",Asc:!1},parameters:{id:n.workshop},ranges:[]},l.exposedContentCollectionDataService.getData(81,a).then(function(n){l.data=n.pageResults.length>0?n.pageResults[0]:void 0}));void 0!=n.networkingevent&&(a={page:0,searchOptions:[],sort:{field:"",Asc:!1},parameters:{id:n.networkingevent},ranges:[]},l.exposedContentCollectionDataService.getData(78,a).then(function(n){l.data=n.pageResults.length>0?n.pageResults[0]:void 0}));void 0!=n.meetingid&&(a={page:0,searchOptions:[],sort:{field:"",Asc:!1},parameters:{id:n.meetingid},ranges:[]},l.exposedContentCollectionDataService.getData(88,a).then(function(n){l.data=n.pageResults.length>0?n.pageResults[0]:void 0}));l.contentFormId=parseInt(u.contentFormId);i.$ctrl=this;l.autoSubmit=i.autoSubmit;l.formData={};l.formData.content={};l.formData.subForms={};l.formData.contentFormId=l.contentFormId;l.contentFormManager=e;l.contentFormManager.getById(l.contentFormId).then(function(t){l.userInfoService.getUserInfo().then(function(r){l.isUser=!0;l.formData.content[9]=!0;n.contentid?(i.$ctrl.formData.contentItemId=n.contentid,i.$ctrl.updateMode=!0,i.$ctrl.contentFormManager.loadUpdateFormData(i.$ctrl.contentFormId,i.$ctrl.formData.contentItemId).then(function(n){i.$ctrl.formData.content=n;l.manageFormSetup(t,r)})):l.manageFormSetup(t,r)},function(){console.log("no user info");n.contentid?(i.$ctrl.formData.contentItemId=n.contentid,i.$ctrl.updateMode=!0,i.$ctrl.contentFormManager.loadUpdateFormData(i.$ctrl.contentFormId,i.$ctrl.formData.contentItemId).then(function(n){i.$ctrl.formData.content=n;l.manageFormSetup(t)})):l.manageFormSetup(t)})})}return n.prototype.manageFormSetup=function(n,t){for(var r=this,i=0;i<n.contentFormRows.length;i++)t&&n.contentFormRows[i].parameter&&-1!==n.contentFormRows[i].parameter.indexOf("user.")&&!r.updateMode?!function(i){var u=n.contentFormRows[i].parameter.substring(5);r.formData.content[i]=t[u]}(i):n.contentFormRows[i].parameter&&"langcode"==n.contentFormRows[i].parameter&&!function(n){r.formData.content[n]=r.altaiLocalizationService.getCurrentLangCode()}(i);for(i=0;i<n.contentFormRows.length;i++)t&&n.contentFormRows[i].parameter&&-1!==n.contentFormRows[i].parameter.indexOf("user.")&&!n.contentFormRows[i].contentTypeAttribute&&!r.updateMode?!function(i){var u=n.contentFormRows[i].parameter.substring(5);r.formData.content[i]={id:t[u]}}(i):n.contentFormRows[i].parameter in r.$stateParams&&!function(t){n.contentFormRows[t].contentTypeAttribute?r.formData.content[t]=r.$stateParams[n.contentFormRows[t].parameter]:(r.formData.content[t]={id:r.$stateParams[n.contentFormRows[t].parameter],name:""},r.$scope.$broadcast("contentSelectChanged",{contentTypeId:n.contentFormRows[t].contentTypeRelationLink.contentTypeId,parameter:n.contentFormRows[t].parameter,id:r.$stateParams[n.contentFormRows[t].parameter]}))}(i),i==n.contentFormRows.length-1&&r.autoSubmit&&r.$timeout(function(){r.submitForm()})},n.prototype.submitForm=function(n){var t=this;return n&&n.$invalid?void angular.forEach(n.$error,function(n){angular.forEach(n,function(n){n.$setTouched()})}):(this.loading=!0,t.$location.search().userId&&(t.formData.userId=t.$location.search().userId),t.formData.autoSubmit="true"==t.autoSubmit,void this.contentFormManager.submitContentForm(t.formData).then(function(){t.loading=!1;t.succesMsg="Form submitted!";t.$document[0].body.scrollTop=t.$document[0].documentElement.scrollTop=0;t.removeURLParameter()},function(){t.loading=!1;t.errorMsg="Failed to submit form";t.$document[0].body.scrollTop=t.$document[0].documentElement.scrollTop=0;t.removeURLParameter()}))},n.prototype.removeURLParameter=function(){var n=this;n.$location.search("userId",void 0)},n}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/ContentFormCreate",controller:r,controllerAs:"vm",link:i}}n.AltaiContentFormCreateDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.createContentForm(n.newContentForm)},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!0}}return n}(),r=function(){function t(n,t,i){var r=this;this.contentFormManager=n;this.wmContainerFactory=i;this.contentTypeService=t;this.contentTypeService.list().then(function(n){r.contentTypes=n})}return t.prototype.createContentForm=function(t){var i=this;this.contentFormManager.add(t).then(function(t){var r=i.wmContainerFactory.findWindow(n.ContentWindows.contentFormCreate);i.wmContainerFactory.destroyWindow(r.id);i.wmContainerFactory.createWindow(n.ContentWindows.contentFormUpdate,t.name,t.id)})},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/ContentFormList",controller:i,controllerAs:"vm"}}n.AltaiContentFormListDirective=t;var i=function(){function t(n,t){var i=this;this.wmContainerFactory=t;n.list().then(function(n){i.contentForms=n})}return t.prototype.updateContentForm=function(t){this.wmContainerFactory.createWindow(n.ContentWindows.contentFormUpdate,t.name,t.id)},t.prototype.createContentForm=function(){this.wmContainerFactory.createWindow(n.ContentWindows.contentFormCreate,"Create new contentform")},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(n,t){return{scope:{contentFormId:"="},templateUrl:"/api/template/Admin/contentFormPreview",controller:i,controllerAs:"vm",bindToController:!0,link:function(i,r){n.getContentFormTemplate(i.vm.contentFormId).then(function(n){r.html(t(n)(i))})}}}n.AltaiContentFormPreviewDirective=t;var i=function(){function n(n){this.contentFormManager=n;var t=this;t.contentFormManager.getById(t.contentFormId).then(function(n){t.form=n})}return n}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{contentFormId:"="},templateUrl:"/api/template/Admin/Forms:ContentFormUpdate",controller:r,controllerAs:"vm",bindToController:!0,link:i}}n.AltaiContentFormUpdateDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.updateContentForm()},"class":"altai-button-go",name:"save",separator:!0},{icon:"mdi-magnify",action:function(){n.vm.openPreview()},"class":"altai-button-primary",name:"preview",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),r=function(){function t(n,t,i,r,u,f,e){this.$templateFactory=n;this.$rootScope=t;this.$scope=i;this.contentFormManager=r;this.contentTypeService=u;this.wmContainerFactory=f;this.contentFormRowManager=e;var o=this;o.loadContentForm();o.loadTemplates();r.list().then(function(n){o.contentForms=n});this.ctaSortOptions=this.handleSorting()}return t.prototype.loadContentForm=function(){var n=this;n.contentFormManager.getById(this.contentFormId).then(function(t){n.contentForm=t;n.contentTypeService.getById(t.contentTypeId).then(function(t){n.contentType=t})})},t.prototype.loadTemplates=function(){var n=this;this.$templateFactory.listTemplateByTypeName("Form").then(function(t){n.templates=t})},t.prototype.createContentFormRow=function(n){var t=this;n.contentFormId=this.contentFormId;this.contentFormRowManager.add(n).then(function(i){n={};t.contentForm.contentFormRows.push(i)})},t.prototype.updateContentForm=function(){this.contentFormManager.update(this.contentForm)},t.prototype.openPreview=function(){this.wmContainerFactory.createWindow(n.ContentWindows.contentFormPreview,this.contentForm.name+" preview",this.contentFormId)},t.prototype.refreshPreview=function(){this.$rootScope.$broadcast("ContentFormChanged")},t.prototype.deleteContentFormRow=function(n,t){var i=this;this.contentFormRowManager["delete"](n).then(function(){i.contentForm.contentFormRows.splice(t,1)})},t.prototype.editContentFormRow=function(n,t){var i=this;i.rowUpdate=angular.copy(n);i.rowUpdateIndex=t;i.rowUpdate.type=void 0!=i.rowUpdate.contentTypeAttributeId&&i.rowUpdate.contentTypeAttributeId>=0?"Attribute":"Relation"},t.prototype.updateContentFormRow=function(){var n=this;n.contentForm.contentFormRows[n.rowUpdateIndex]=angular.copy(n.rowUpdate);n.rowUpdate=void 0;n.rowUpdateIndex=-1},t.prototype.handleSorting=function(){var n=this;return{stop:function(){console.log(n.contentForm.contentFormRows)}}},t}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{model:"=",contentTypeAttribute:"=",languages:"="},template:"<div class='altai-content-attribute-update'><div ng-repeat='model in vm.model track by $index' class='altai-content-attribute-update-item-wrapper' ng-class='{\"multiple\":vm.contentTypeAttribute.attribute.multiple}'><altai-content-attribute-update-item model='vm.model[$index].value' ng-if='!vm.contentTypeAttribute.attribute.translatable' content-type-attribute='vm.contentTypeAttribute' class='altai-content-attribute-update-item'><\/altai-content-attribute-update-item><altai-content-attribute-update-item model='vm.model[$parent.$parent.$index].value[lang.code]' language='lang' ng-if='vm.contentTypeAttribute.attribute.translatable' ng-repeat='lang in vm.languages | filter: {selected:true}' content-type-attribute='vm.contentTypeAttribute' class='altai-content-attribute-update-item'><\/altai-content-attribute-update-item><button type= 'submit' class='icon' ng-if='vm.contentTypeAttribute.attribute.multiple' ng-click='vm.removeItem($index)' ><i class='mdi mdi-delete'><\/i> <\/button><\/div><button ng-show='vm.contentTypeAttribute.attribute.multiple' type='button' class='icon' ng-click='vm.addItem()'><i class='mdi mdi-plus'><\/i> <\/button><\/div>",controllerAs:"vm",bindToController:!0,controller:r}}function i(){return{scope:{model:"=",contentTypeAttribute:"=",language:"="},replace:!0,template:"<div ng-class='vm.contentTypeAttribute.attribute.name'><span ng-show='vm.language' class='altai-content-attribute-update-lang'>{{vm.language.code}}<\/span><span class='altai-content-attribute-update-tpl' ng-include='vm.template'><\/span><\/div>",controllerAs:"vm",bindToController:!0,controller:u}}n.AltaiContentAttributeUpdateDirective=t;n.AltaiContentAttributeUpdateItemDirective=i;var r=function(){function n(){this.model||(this.model=[null])}return n.prototype.removeItem=function(n){this.model.attributeIds&&this.model.attributeIds.splice(n,1);this.model.splice(n,1)},n.prototype.addItem=function(){this.model.push(null)},n}(),u=function(){function n(){this.setDefaultValue();this.template=this.getTemplateUrl()}return n.prototype.setDefaultValue=function(){this.getDefaultValueInLang();this.contentTypeAttribute.defaultValue&&!this.model&&(this.model=this.castDefaultValue())},n.prototype.getDefaultValueInLang=function(){var t=this,n;this.contentTypeAttribute.defaultValueTranslatable&&this.language&&(n=this.contentTypeAttribute.defaultValueTranslatable.translatableValues.filter(function(n){return n.languageCode==t.language.code})[0],n&&(this.contentTypeAttribute.defaultValue=n.value))},n.prototype.castDefaultValue=function(){if(this.contentTypeAttribute.defaultValue)switch(this.contentTypeAttribute.attribute.attributeType.name){case"Boolean":return"True"==this.contentTypeAttribute.defaultValue;case"Integer":return parseInt(this.contentTypeAttribute.defaultValue);default:return this.contentTypeAttribute.defaultValue}},n.prototype.getTemplateUrl=function(){var n="/api/template/Attribute/";return this.contentTypeAttribute.editTemplate?n+this.contentTypeAttribute.editTemplate:this.contentTypeAttribute.attribute.editTemplate?n+this.contentTypeAttribute.attribute.editTemplate:n+this.contentTypeAttribute.attribute.attributeType.editTemplate},n}()}(AltaiContent||(AltaiContent={}));!function(n){function r(){return{scope:{newModel:"=",existingModel:"=",existingInputModel:"=",contentTypeRelationLink:"=",languages:"=",relation:"=",editMode:"<",createMode:"<"},templateUrl:function(n,t){return void 0!=t.template?t.template:"/api/template/Admin/Content:ContentRelationUpdate"},controllerAs:"vm",bindToController:!0,controller:t}}function u(){return{scope:{model:"=",options:"=",contentTypeRelationLink:"=",languages:"=",existingMode:"=",editMode:"<"},replace:!0,templateUrl:"/api/template/Admin/AltaiContentRelationUpdateItem",controllerAs:"vm",bindToController:!0,controller:i}}var t,i;n.AltaiContentRelationUpdateDirective=r;t=function(){function n(n,t,i,r){var u,f;this.altaiGuidService=n;this.contentRelationFactory=t;this.altaiConfirmationService=i;this.existingMode=!1;this.multiSelectOpened=!1;u=this;this.relation&&(this.relation.touched=!0);this.contentRelationFactory=t;this.$scope=r;f=r.$watch("vm.existingInputModel",function(){u.contentTypeRelationLink.allowCreateLink&&u.getOptions();u.sortingExistingModelUpdate();f()},!0);u.existingModel=angular.copy(u.existingInputModel);this.existingModel||(this.existingModel=[]);this.existingInputModel&&this.existingInputModel.length>0&&(this.multiSelectOpened=!0);this.newModel||(this.newModel=[]);this.contentTypeRelationLink.allowCreateNew||!this.contentTypeRelationLink.allowCreateLink||this.contentTypeRelationLink.hidden||(this.multiSelectOpened=!0);this.contentTypeRelationLink.editTemplate&&(this.editTemplateLocation="/api/template/contentrelation/"+this.contentTypeRelationLink.editTemplate);this.existingSortingOptions={handle:".drag-handle",stop:function(){u.sortingExistingModelUpdate();r.$broadcast("dragstop")},start:function(){r.$broadcast("dragstart")}};this.newSortingOptions={handle:".drag-handle",stop:function(){r.$broadcast("dragstop")},start:function(){r.$broadcast("dragstart")}}}return n.prototype.sortingExistingModelUpdate=function(){var n=0;this.existingModel.map(function(t){t.order=n++})},n.prototype.getOptions=function(){var n=this;this.contentRelationFactory.getOptions(this.contentTypeRelationLink.contentTypeId,this.contentTypeRelationLink.contentTypeRelationId).then(function(t){if(n.options=angular.copy(t),n.existingInputModel)for(var i=0;i<t.length;i++)n.options[i].ticked=1===n.existingInputModel.filter(function(t){return t.id==n.options[i].id}).length})},n.prototype.removeItem=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.newModel.splice(t.newModel.indexOf(n),1)})},n.prototype.removeExistingItem=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.existingModel.splice(t.existingModel.indexOf(n),1)})},n.prototype.addItem=function(){this.existingMode=!1;this.newModel||(this.newModel=[]);this.newModel.push({guid:this.altaiGuidService.generateGuid()})},n.prototype.closeLinker=function(){this.multiSelectOpened=!1;this.existingModel=[];for(var n=0;n<this.options.length;n++)this.options[n].ticked=!1},n.prototype.linkItem=function(){this.existingModel||(this.existingModel=[]);this.existingMode=!0;this.multiSelectOpened=!0},n.prototype.stopLinking=function(){this.existingModel=[];this.multiSelectOpened=!1},n.prototype.getState=function(n){var t=this;return void 0!=t.existingModel.filter(function(t){return t.id==n.id})[0]},n.prototype.changeItem=function(n){var t=this,r=t.existingModel.filter(function(t){return t.id==n.id})[0],i=t.existingModel.indexOf(r);i>=0?t.existingModel.splice(i,1):t.existingModel.push({id:n.id})},n}();n.AltaiContentRelationUpdateItemDirective=u;i=function(){function n(n,t,i,r){this.$compile=n;this.$element=t;this.$scope=i;this.wmContainerFactory=r}return n.prototype.createNewForm=function(){this.contentTypeRelationLink.contentTypeId},n}()}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{attributeId:"=altaiSelectInput",model:"=model"},replace:!0,template:"<select data-ng-options='o.label for o in ::options' ng-model='internalModel'><\/select>",controller:function(n,t,i,r){n.usedModel=i.ngModel;r.get(config.backendUrl+"/api/attributeSelectOption?id="+n.attributeId).then(function(t){n.options=t.data;n.internalModel=n.options.filter(function(t){return t.value==n.model})[0]});n.$watch("internalModel",function(){n.internalModel&&(n.model=n.internalModel.value)})}}}n.AltaiSelectInputDirective=t}(AltaiContent||(AltaiContent={}));!function(n){function t(){return{scope:{checkDate:"=altaiHidePast"},link:function(n,t){n.checkDate=moment(n.checkDate);moment().diff(n.checkDate,"days")>0&&t.remove()}}}n.AltaiHidePastDirective=t}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(n,t){this.q=n;this.http=t}return n.prototype.getData=function(n,t){var i=this.q.defer(),r="/api/contentCollection/"+n+"/data";return t&&(r+="?"+t),this.http.get(r,{cache:!1}).success(function(n){i.resolve(n)}),i.promise},n.prototype.getDataByName=function(n,t){var i=this.q.defer(),r="/api/contentCollection/name/"+n+"/data";return t&&(r+="?"+t),this.http.get(r,{cache:!1}).success(function(n){i.resolve(n)}),i.promise},n}();n.ContentCollectionDataService=t}(AltaiContent||(AltaiContent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"/api/contentCollection","ContentCollection",i,t,r,u)||this}return __extends(t,n),t.prototype.createContentViewFilter=function(n){var t=this.$q.defer(),i=this;return this.$http({method:"POST",url:config.backendUrl+"/api/ContentCollectionFilter",data:n}).then(function(n){var r=i.getCachedDataItem(n.data.contentViewId);r.contentViewFilters.push(n.data);t.resolve();i.notificationFactory.success("Succesfully created new content view filter")},function(n){t.reject(n);i.notificationFactory.error(n.data.message)}),t.promise},t.prototype.deleteContentViewFilter=function(n,t){var i=this.$q.defer(),r=this;return this.$http({method:"DELETE",url:config.backendUrl+"/api/ContentCollectionFilter/"+t.id}).then(function(){var u=r.getCachedDataItem(n);u.contentViewFilters.splice(u.contentViewFilters.indexOf(t),1);i.resolve();r.notificationFactory.success("Succesfully deleted the content view filter")},function(n){i.reject(n);r.notificationFactory.error("Could not delete the new content view filter")}),i.promise},t.prototype.createContentViewSorter=function(n){var t=this.$q.defer(),i=this;return this.$http.post(config.backendUrl+"/api/contentcollectionsorter",n).then(function(){i.notificationFactory.success("Created new contentViewSorter");t.resolve()},function(n){i.notificationFactory.error(n.data.message);t.reject()}),t.promise},t.prototype.deleteContentViewSorter=function(n){var t=this.$q.defer(),i=this;return this.$http["delete"](config.backendUrl+"/api/contentcollectionsorter/"+n.id).then(function(){var r=i.getCachedDataItem(n.contentViewId);r.contentViewFilters.splice(r.contentViewSorters.indexOf(n),1);i.notificationFactory.success("Deleted contentViewSorter");t.resolve()},function(n){i.notificationFactory.error(n.data.message);t.reject()}),t.promise},t.prototype.updateAttributes=function(n,t){var i=this.$q.defer();return this.$http.post(config.backendUrl+"/api/ContentCollection/"+n+"/updateAttributes",t).success(function(n){i.resolve(n)}),i.promise},t.prototype.updateRelations=function(n,t){var i=this.$q.defer();return this.$http.post(config.backendUrl+"/api/ContentCollection/"+n+"/updateRelations",t).success(function(n){i.resolve(n)}),i.promise},t}(AltaiCore.AltaiDataService);n.ContentCollectionManager=t}(AltaiContent||(AltaiContent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"/api/exposedcontentCollection","ExposedContentCollection",i,t,r,u)||this}return __extends(t,n),t.prototype.createExposedContentViewFilter=function(n){var t=this.$q.defer(),i=this;return this.$http({method:"POST",url:config.backendUrl+"/api/ContentCollectionFilter",data:n}).then(function(n){var r=i.getCachedDataItem(n.data.contentViewId);r.contentViewFilters.push(n.data);t.resolve();i.notificationFactory.success("Succesfully created new content view filter")},function(n){t.reject(n);i.notificationFactory.error(n.data.message)}),t.promise},t.prototype.deleteExposedContentViewFilter=function(n,t){var i=this.$q.defer(),r=this;return this.$http({method:"DELETE",url:config.backendUrl+"/api/ContentCollectionFilter/"+t.id}).then(function(){var u=r.getCachedDataItem(n);u.contentViewFilters.splice(u.contentViewFilters.indexOf(t),1);i.resolve();r.notificationFactory.success("Succesfully deleted the content view filter")},function(n){i.reject(n);r.notificationFactory.error("Could not delete the new content view filter")}),i.promise},t.prototype.createExposedContentViewSorter=function(n){var t=this.$q.defer(),i=this;return this.$http.post(config.backendUrl+"/api/contentcollectionsorter",n).then(function(){i.notificationFactory.success("Created new contentViewSorter");t.resolve()},function(n){i.notificationFactory.error(n.data.message);t.reject()}),t.promise},t.prototype.deleteExposedContentViewSorter=function(n){var t=this.$q.defer(),i=this;return this.$http["delete"](config.backendUrl+"/api/contentcollectionsorter/"+n.id).then(function(){var r=i.getCachedDataItem(n.contentViewId);r.contentViewFilters.splice(r.contentViewSorters.indexOf(n),1);i.notificationFactory.success("Deleted contentViewSorter");t.resolve()},function(n){i.notificationFactory.error(n.data.message);t.reject()}),t.promise},t.prototype.getForContentType=function(n){var t=this,i=t.$q.defer();return t.altaiHttp.get("/api/contentType/"+n+"/exposedContentCollection").then(function(n){i.resolve(n)}),i.promise},t.prototype.getContentTypes=function(n){var t=this.$q.defer(),i=this;return i.altaiHttp.get(i.apiUrl+"/"+n+"/contentTypes").then(function(n){t.resolve(n)}),t.promise},t}(AltaiCore.AltaiDataService);n.ExposedContentCollectionManager=t}(AltaiContent||(AltaiContent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u,f){var e=n.call(this,"/api/exposedcontentCollectionFilter","ExposedContentCollectionFilter",i,t,r,u)||this;return e.exposedContentCollectionManager=f,e}return __extends(t,n),t.prototype.add=function(n){var i=this.$q.defer(),t=this;return this.$http.post(t.apiUrl,n).success(function(n){t.success("Succesfully created new "+t.objectName);t.dataList.push(n);i.resolve(n);t.exposedContentCollectionManager.getById(n.exposedContentCollectionId).then(function(t){t.exposedContentCollectionFilters.push(n)})}).error(function(){t.error("Could not POST "+t.apiUrl)}),i.promise},t.prototype.updateFilterSorting=function(n){for(var i=this,t=0;t<n.length;t++)n[t].order=t;i.$http.put(i.apiUrl+"/sorting",n)},t}(AltaiCore.AltaiDataService);n.ExposedContentCollectionFilterManager=t}(AltaiContent||(AltaiContent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u,f){var e=n.call(this,"/api/exposedcontentCollectionFilterMLTCriterium","ExposedContentCollectionFilterMLTCriterium",i,t,r,u)||this;return e.exposedContentCollectionManager=f,e}return __extends(t,n),t.prototype.add=function(n){var i=this.$q.defer(),t=this;return this.$http.post(t.apiUrl,n).success(function(n){t.success("Succesfully created new "+t.objectName);t.dataList.push(n);i.resolve(n)}).error(function(){t.error("Could not POST "+t.apiUrl)}),i.promise},t}(AltaiCore.AltaiDataService);n.ExposedContentCollectionFilterMLTCriteriumManager=t}(AltaiContent||(AltaiContent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u,f){var e=n.call(this,"/api/exposedContentCollectionSorter","ExposedContentCollectionSorter",i,t,r,u)||this;return e.exposedContentCollectionManager=f,e}return __extends(t,n),t.prototype.add=function(n){var i=this.$q.defer(),t=this;return this.$http.post(t.apiUrl,n).success(function(n){t.success("Succesfully created new "+t.objectName);t.dataList.push(n);i.resolve(n);t.exposedContentCollectionManager.getById(n.exposedContentCollectionId).then(function(t){t.exposedContentCollectionSorters.push(n)})}).error(function(){t.error("Could not POST "+t.apiUrl)}),i.promise},t}(AltaiCore.AltaiDataService);n.ExposedContentCollectionSorterManager=t}(AltaiContent||(AltaiContent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u,f){var e=n.call(this,"/api/exposedContentCollectionRange","ExposedContentCollectionRange",i,t,r,u)||this;return e.exposedContentCollectionManager=f,e}return __extends(t,n),t.prototype.add=function(n){var i=this.$q.defer(),t=this;return this.$http.post(t.apiUrl,n).success(function(n){t.success("Succesfully created new "+t.objectName);t.dataList.push(n);i.resolve(n);t.exposedContentCollectionManager.getById(n.exposedContentCollectionId).then(function(t){t.exposedContentCollectionRanges.push(n)})}).error(function(){t.error("Could not POST "+t.apiUrl)}),i.promise},t}(AltaiCore.AltaiDataService);n.ExposedContentCollectionRangeManager=t}(AltaiContent||(AltaiContent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u,f){var e=n.call(this,"/api/exposedcontentCollectionAttribute","ExposedContentCollectionAttribute",i,t,r,u)||this;return e.exposedContentCollectionManager=f,e}return __extends(t,n),t.prototype.getAttributes=function(n){var i=this.$q.defer(),t=this;return this.$http.get(t.apiUrl+"/"+n).success(function(n){i.resolve(n)}).error(function(){t.error("Could not Get "+t.apiUrl+"/"+n)}),i.promise},t.prototype.updateAttributes=function(n,t){var r=this.$q.defer(),i=this;return this.$http.put(i.apiUrl+"/"+n,t).success(function(t){i.success("Succesfully updated "+i.objectName);i.dataList=t;r.resolve(t);i.exposedContentCollectionManager.getById(n).then(function(n){n.expContCollAttributes=t})}).error(function(){i.error("Could not POST "+i.apiUrl)}),r.promise},t.prototype.add=function(n){var i=this.$q.defer(),t=this;return this.$http.post(t.apiUrl,n).success(function(n){t.success("Succesfully created new "+t.objectName);t.dataList.push(n);i.resolve(n);t.exposedContentCollectionManager.getById(n.exposedContentCollectionId).then(function(t){t.expContCollAttributes.push(n)})}).error(function(){t.error("Could not POST "+t.apiUrl)}),i.promise},t}(AltaiCore.AltaiDataService);n.ExposedContentCollectionAttributeManager=t}(AltaiContent||(AltaiContent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u,f){var e=n.call(this,"/api/contentAttribute","ContentAttribute",i,t,r,f)||this;return e.contentAttributeTypes=[],e.enableCaching=!1,e}return __extends(t,n),t.prototype.listAttributeType=function(){var n=this.$q.defer(),t=this;return 0!=t.contentAttributeTypes.length?n.resolve(t.contentAttributeTypes):this.$http.get(config.backendUrl+"/api/contentAttributeType").then(function(i){angular.copy(i.data,t.contentAttributeTypes);n.resolve(t.contentAttributeTypes)},function(){n.reject()}),n.promise},t}(AltaiCore.AltaiDataService);n.ContentAttributeService=t}(AltaiContent||(AltaiContent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(t){function i(n,i,r,u,f,e,o,s,h){var c=t.call(this,"/api/content","ContentItem",u,i,r,e)||this;return c.$filter=n,c.$rootScope=f,c.contentRelationFactory=o,c.altaiLocalizationService=s,c.contentCreateItemProcessor=h,c.lastUsedContentItemSearchModel=[],c.advDataList={},c}return __extends(i,t),i.prototype.getDataById=function(n,t){var i=this;return t||(t=i.altaiLocalizationService.getCurrentLangCode()),this.getDataByIdInLang(n,t)},i.prototype.getContentTypeOfContentItem=function(n){var t=this.$q.defer();return this.altaiHttp.get("/api/content/"+n+"/contenttypeid").then(function(n){t.resolve(n)}),t.promise},i.prototype.getDataByIdInLang=function(n,t){var i=this.$q.defer(),r=this,u=this.apiUrl+"/"+n+"/data";return r.$http({method:"GET",url:u,headers:{"Accept-Language":t,"Force-Language":t}}).then(function(n){i.resolve(n.data)},function(){r.error("Could not GET "+u);i.reject()}),i.promise},i.prototype.add=function(t){var r=this.$q.defer(),i=this;return this.$http.post(this.apiUrl,t).success(function(t){i.success("Successfully created new "+i.objectName);for(var u=0;u<i.lastUsedContentItemSearchModel.length;u++)i.listAdvanced(i.lastUsedContentItemSearchModel[u]);i.contentRelationFactory.resetOptions();i.$rootScope.$broadcast(n.ContentEvents.contentItemCreated,t);r.resolve(t)}).error(function(){i.error("Could not POST "+this.apiUrl)}),r.promise},i.prototype.likeContentItem=function(t){var u=this.$q.defer(),i=this,r=new n.ContentItem,f;return r.id=t.id,r.name=t.title,f=this.apiUrl+"/like",this.$http.post(f,r).success(function(n){i.success(i.$filter("translate")("TheItem")+' "'+r.name+'" '+i.$filter("translate")("WasAddedToTheListOfFavorites"));u.resolve(n)}).error(function(){i.error("Kindly login to like this content");u.reject()}),u.promise},i.prototype.unlikeContentItem=function(t){var u=this.$q.defer(),i=this,r=new n.ContentItem,f;return r.id=t.id,r.name=t.title,f=this.apiUrl+"/unlike",this.$http.post(f,r).success(function(n){i.success(i.$filter("translate")("TheItem")+' "'+r.name+'" '+i.$filter("translate")("WasRemovedFromTheListOfFavorites"));u.resolve(n)}).error(function(){i.error("Kindly login to dislike this content");u.reject()}),u.promise},i.prototype.listAdvanced=function(n){var t=this,i=t.$q.defer();return t.$http.post(config.backendUrl+"/api/content/list/",n).then(function(r){t.advDataList[n.windowId]=angular.copy(r.data);t.saveLastUsedSearchModel(n);i.resolve(t.advDataList[n.windowId])},function(n){i.reject(n);t.notificationFactory.error("Could not load the content rows!")}),i.promise},i.prototype.saveLastUsedSearchModel=function(n){var t=this.lastUsedContentItemSearchModel.filter(function(t){return t.windowId==n.windowId})[0];t?t=n:this.lastUsedContentItemSearchModel.push(n)},i.prototype.getByIdInLang=function(n,t){var i=this.$q.defer(),u=this,r=this.apiUrl+"/"+n;return this.$http({method:"GET",url:r,headers:{"Accept-Language":t}}).then(function(n){i.resolve(n.data)},function(){u.error("Could not GET "+r);i.reject()}),i.promise},i.prototype.getTemplateId=function(n){var r=this,t=this.$q.defer(),i=this.apiUrl+"/"+n+"/templateid";return this.$http({method:"GET",url:i}).then(function(n){t.resolve(n.data)},function(){r.error("Could not GET "+i);t.reject()}),t.promise},i.prototype.publish=function(n){var t=this,i=t.$q.defer();return t.altaiHttp.get("/api/content/"+n+"/publish").then(function(n){i.resolve(n)}),i.promise},i.prototype.unpublish=function(n){var t=this,i=t.$q.defer();return t.altaiHttp.get("/api/content/"+n+"/unpublish").then(function(n){i.resolve(n)}),i.promise},i.prototype.getIsFavourite=function(n){var t=this.$q.defer(),i=this,r=this.apiUrl+"/isFavourite/"+n;return this.$http({method:"GET",url:r}).then(function(n){t.resolve(n.data)},function(){i.error("Server error");t.reject()}),t.promise},i.prototype.listContentByType=function(n){var i=this,t=i.$q.defer();return i.$http({method:"GET",url:config.backendUrl+"/api/contentFiltered?filter=ct&contentTypeId="+n}).then(function(n){t.resolve(n.data)},function(n){t.reject(n)}),t.promise},i.prototype.getLinkCollectionData=function(){var t=this,n=t.$q.defer();return t.$http({method:"GET",url:config.backendUrl+"/api/contentCollection/CollectionLinkData"}).then(function(t){n.resolve(t.data)},function(t){n.reject(t)}),n.promise},i.prototype.update=function(n){var i=this.$q.defer(),t=this,r=this.apiUrl+"/"+n.id;return this.$http.put(r,n).success(function(n){t.itemDataList=[];t.dataList=[];t.contentRelationFactory.clearOptionsCache();t.success("Succesfully updated "+t.objectName);i.resolve(n)}).error(function(){t.error("Could not UPDATE "+r);i.reject()}),i.promise},i.prototype.updateContentItemModel=function(n,t,i,r,u){for(var s,h,rt,ut,b,g,nt,l,v,a,y,o,p,w,k,ft,tt,et,f,e,it,d=this,c=0;c<n.contentItemAttributes.length;c++)if(s=n.contentItemAttributes[c],h=t.attribute[s.contentTypeAttributeId].values.filter(function(n){return n.id==s.id})[0],h)if(s.contentTypeAttribute.attribute.translatable){for(s.translatable||(s.translatable={translatableValues:[]}),s.translatable.translatableValues||(s.translatable.translatableValues=[]),o=0;o<r.length;o++)if(rt=r[o].code,h&&h.value){if("string"==typeof h.value)for(ut=h.value,h.value={},b=0;b<r.length;b++)h.value[r[b].code]=ut;g=h.value[r[o].code];r[o].code in h.value&&(nt=s.translatable.translatableValues.filter(function(n){return n.languageCode==r[o].code})[0],nt?nt.value=g:s.translatable.translatableValues.push({languageCode:rt,value:g}))}}else s.value=h.value;else n.contentItemAttributes[c].deleted=!0;for(c=0;c<i.contentTypeAttributes.length;c++)if(l=i.contentTypeAttributes[c],void 0!=t.attribute[l.id]&&void 0!=t.attribute[l.id].values)for(v=t.attribute[l.id].values.filter(function(n){return n&&!n.id}),a=0;a<v.length;a++){if(y={ContentTypeAttributeId:l.id,value:v[a].value},l.attribute.translatable)for(y.value=null,y.translatable={translatableValues:[]},o=0;o<r.length;o++)v[a].value[r[o].code]&&y.translatable.translatableValues.push({languageCode:r[o].code,value:v[a].value[r[o].code]});n.contentItemAttributes.push(y)}for(n.contentItemAttributes=n.contentItemAttributes.filter(function(n){return!n.deleted}),f=0;f<i.contentTypeRelationLinks.length;f++){for(p=n.contentItemRelationLinks.filter(function(n){return n.contentRelation.contentTypeRelationId==t.relation[f].contentTypeRelationId}),w=0;w<p.length;w++)p[w].deleted=t.relation[f].touched===!1?!1:0===t.relation[f].existing.filter(function(n){return n.id===p[w].contentRelation.contentRelationLinks[0].contentId}).length;for(k=0;k<t.relation[f]["new"].length;k++)ft=d.contentCreateItemProcessor.processContentItem(t.relation[f]["new"][k],u[t.relation[f].contentTypeId]),n.contentItemRelationLinks.push({contentId:n.id,contentTypeRelationLinkId:t.relation[f].contentTypeRelationLinkId,contentRelation:{contentTypeRelationId:t.relation[f].contentTypeRelationId,contentRelationLinks:[{content:ft}]}});for(e=0;e<t.relation[f].existing.length;e++)tt=p.filter(function(n){return n.contentRelation.contentRelationLinks[0].contentId==t.relation[f].existing[e].id})[0],tt?t.relation[f].existing[e].updateModel&&(et=d.updateContentItemModel(t.relation[f].existing[e].contentItem,t.relation[f].existing[e].updateModel,t.relation[f].existing[e].contentType,r,u),tt.content=et):n.contentItemRelationLinks.push({contentId:n.id,contentTypeRelationLinkId:t.relation[f].contentTypeRelationLinkId,contentRelation:{contentTypeRelationId:t.relation[f].contentTypeRelationId,contentRelationLinks:[{contentId:t.relation[f].existing[e].id}]}})}for(n.contentItemRelationLinks=n.contentItemRelationLinks.filter(function(n){return!n.deleted}),f=0;f<i.contentTypeRelationLinks.length;f++)for(e=0;e<t.relation[f].existing.length;e++)it=n.contentItemRelationLinks.filter(function(n){return n.contentTypeRelationLinkId==t.relation[f].contentTypeRelationLinkId&&t.relation[f].existing[e].id==n.contentRelation.contentRelationLinks[0].contentId})[0],it&&(it.order=t.relation[f].existing[e].order);return n},i}(AltaiCore.AltaiDataService);n.ContentItemService=t}(AltaiContent||(AltaiContent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(t){function i(n,i,r,u,f,e){var o=t.call(this,"/api/elasticsearch","ContentItemElastic",i,n,r,f)||this;return o.$rootScope=u,o.contentRelationFactory=e,o.lastUsedContentItemSearchModel=[],o.advDataList={},o}return __extends(i,t),i.prototype.getDataById=function(n,t){var i=this.$q.defer();return this.$http({method:"GET",url:this.apiUrl+"/"+n+"/data",headers:{"Accept-Language":t}}).success(function(n){i.resolve(n)}),i.promise},i.prototype.add=function(t){var r=this.$q.defer(),i=this;return this.$http.post(this.apiUrl,t).success(function(t){i.success("Successfully created new "+i.objectName);for(var u=0;u<i.lastUsedContentItemSearchModel.length;u++)i.listAdvanced(i.lastUsedContentItemSearchModel[u]);i.contentRelationFactory.resetOptions();i.$rootScope.$broadcast(n.ContentEvents.contentItemCreated,t);r.resolve(t)}).error(function(){i.error("Could not POST "+this.apiUrl)}),r.promise},i.prototype.listAdvanced=function(n){var t=this,i=t.$q.defer();return t.$http.post(config.backendUrl+"api/elasticsearch/list",n).then(function(r){t.advDataList[n.windowId]=angular.copy(r.data);t.saveLastUsedSearchModel(n);i.resolve(t.advDataList[n.windowId])},function(n){i.reject(n);t.notificationFactory.error("Could not load the content rows!")}),i.promise},i.prototype.saveLastUsedSearchModel=function(n){var t=this.lastUsedContentItemSearchModel.filter(function(t){return t.windowId==n.windowId})[0];t?t=n:this.lastUsedContentItemSearchModel.push(n)},i.prototype.getByIdInLang=function(n,t){var i=this.$q.defer(),r=this,u=this.apiUrl+"/"+n;return this.$http({method:"GET",url:u,headers:{"Accept-Language":t}}).then(function(n){r.itemDataList.push(n.data);i.resolve(n.data)},function(){r.error("Could not GET "+u);i.reject()}),i.promise},i.prototype.listContentByType=function(n){var i=this,t=i.$q.defer();return i.$http({method:"GET",url:config.backendUrl+"/api/contentFiltered?filter=ct&contentTypeId="+n}).then(function(n){t.resolve(n.data)},function(n){t.reject(n)}),t.promise},i.prototype.getLinkCollectionData=function(){var t=this,n=t.$q.defer();return t.$http({method:"GET",url:config.backendUrl+"/api/contentCollection/CollectionLinkData"}).then(function(t){n.resolve(t.data)},function(t){n.reject(t)}),n.promise},i.prototype.update=function(n){var i=this.$q.defer(),t=this,r=this.apiUrl+"/"+n.id;return this.$http.put(r,n).success(function(){t.itemDataList=[];t.dataList=[];t.contentRelationFactory.clearOptionsCache();t.success("Succesfully updated "+t.objectName);i.resolve()}).error(function(){t.error("Could not UPDATE "+r);i.reject()}),i.promise},i}(AltaiCore.AltaiDataService);n.ContentItemElasticService=t}(AltaiContent||(AltaiContent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u,f){var e=n.call(this,"/api/contentForm","ContentForm",i,t,r,u)||this;return e.$translate=f,e}return __extends(t,n),t.prototype.getContentFormTemplate=function(n){var t=this,i=t.$q.defer();return t.$http.get("/api/contentForm/template/"+n).then(function(n){i.resolve(n.data)},function(n){t.notificationFactory.error(n.data.message);i.reject()}),i.promise},t.prototype.createContentFormRow=function(n){var t=this,i=t.$q.defer();return t.$http.post("/api/contentFormRow",n).then(function(n){t.notificationFactory.success("Sucesfully added the attribute");i.resolve(n.data)},function(n){t.notificationFactory.error(n.data.message);i.reject()}),i.promise},t.prototype.deleteContentFormRow=function(){},t.prototype.submitContentForm=function(n){var t=this,i=this.$q.defer();return this.$http.post(config.backendUrl+"/api/contentFormData",n).then(function(){i.resolve()},function(n){401==n.status?t.$translate("YouNeedToBeLoggedInToEnroll").then(function(n){t.notificationFactory.error(n)}):t.notificationFactory.error(n.data.message);i.reject()}),i.promise},t.prototype.loadUpdateFormData=function(n,t){var r=this,i=this.$q.defer();return this.$http.get("api/contentForm/"+n+"/contentItemData/"+t).then(function(n){i.resolve(n.data)},function(n){r.notificationFactory.error(n.data.message);i.reject()}),i.promise},t}(AltaiCore.AltaiDataService);n.ContentFormManager=t}(AltaiContent||(AltaiContent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"/api/contentFormRow","ContentFormRow",i,t,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.ContentFormRowManager=t}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(n,t,i){this.contentTypeService=n;var r=this;this.contentTypeService=n;this.upload=t;i.listLanguage().then(function(n){r.languages=n})}return n.prototype.processContentItem=function(n,t){var i=this;return t=n.contentType,{publicRoles:n.publicRoles,contentTypeId:n.contentType.id,name:n.name,guid:n.guid,published:n.published,contentItemAttributes:i.processAttributes(n,t),contentItemRelationLinks:i.processRelations(n,t)}},n.prototype.processAttributes=function(n,t){var o=this,e=[],r,u,i,f;if(t.contentTypeAttributes)for(r=0;r<t.contentTypeAttributes.length;r++)if(u=t.contentTypeAttributes[r],i=n.attribute[u.id],i)if("object"==typeof i)for(f=0;f<Object.keys(i).length;f++)e.push(o.createAttributeObject(u,i[f]));else e.push(o.createAttributeObject(u,i));return e},n.prototype.createAttributeObject=function(n,t){var u=this,r={contentTypeAttributeId:n.id},i;if(t&&t.value&&t.value.size)r.value=t.value.name,u.upload.upload({url:"/api/upload/",file:t.value}).success(function(n){"UNSUPPORTED_FILE_EXTENSION"==n&&alert("Unsupported file extension")}).error(function(){alert("upload failed")});else if(n.attribute.translatable&&t)for(r.translatable={translatableValues:[]},i=0;i<this.languages.length;i++)t.value[this.languages[i].code]&&r.translatable.translatableValues.push({languageCode:this.languages[i].code,value:t.value[this.languages[i].code]});else t&&(r.value=t.value);return r},n.prototype.processRelations=function(n,t){var f=[],r,u,i;if(t.contentTypeRelationLinks)for(r=0;r<t.contentTypeRelationLinks.length;r++)if(n.relation&&n.relation[t.contentTypeRelationLinks[r].id]){if(u=n.relation[t.contentTypeRelationLinks[r].id],u["new"])for(i=0;i<u["new"].length;i++)f.push({contentId:0,guid:u["new"][i].guid,contentTypeRelationLinkId:t.contentTypeRelationLinks[r].id,contentRelation:{contentTypeRelationId:t.contentTypeRelationLinks[r].contentTypeRelationId},content:this.processContentItem(u["new"][i],u["new"][i].contentType)});if(u.existing)for(i=0;i<u.existing.length;i++)f.push({contentId:u.existing[i].id,contentTypeRelationLinkId:t.contentTypeRelationLinks[r].id,contentRelation:{contentTypeRelationId:t.contentTypeRelationLinks[r].contentTypeRelationId}})}return f},n}();n.ContentCreateItemProcessor=t}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(n,t,i){this.altaiHttp=n;this.$q=t;this.altaiNotificationFactory=i;this.optionsCache=[]}return n.prototype.list=function(){var n=this.$q.defer();return this.altaiHttp.get(config.backendUrl+"/api/contentTypeRelation").then(function(t){n.resolve(t)}),n.promise},n.prototype.listWithLinks=function(){var n=this.$q.defer();return this.altaiHttp.get(config.backendUrl+"/api/contentTypeRelationWithLinks").then(function(t){n.resolve(t)}),n.promise},n.prototype.resetOptions=function(){this.optionsCache=[]},n.prototype.getOptions=function(n,t){var i=this,r=this.$q.defer();return i.optionsCache[n]||(i.optionsCache[n]={}),i.optionsCache[n][t]?r.resolve(i.optionsCache[n][t]):i.altaiHttp.get(config.backendUrl+"/api/content?contentTypeId="+n+"&contentTypeRelationId="+t).then(function(u){i.optionsCache[n][t]=angular.copy(u);r.resolve(u)}),r.promise},n.prototype.clearOptionsCache=function(){this.optionsCache=[]},n.prototype.deleteContentItemRelation=function(n,t,i){var r=this,u=r.$q.defer();return r.altaiHttp["delete"]("/api/contentRelation?contentTypeRelationId="+n+"&contentId="+t.id+"&relatedContentId="+i).then(function(){var f=t.relations.filter(function(t){return t.contentTypeRelationId==n})[0],e;f&&(e=f.content.filter(function(n){return n.id==i}),f.content.splice(f.content.indexOf(e),1));r.altaiNotificationFactory.success("Succesfully deleted relation");u.resolve()}),u.promise},n}();n.ContentRelationFactory=t}(AltaiContent||(AltaiContent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"/api/contentAttributeSelectOption","Select option",i,t,r,u)||this}return __extends(t,n),t.prototype.getOptions=function(n){var t=this,i=t.$q.defer();return t.$http.get("/api/attributeSelectOption?id="+n).success(function(n){i.resolve(n)}),i.promise},t.prototype.updateOptions=function(n){var t=this,i=t.$q.defer();return t.$http.put("/api/ContentAttributeSelect",n).success(function(n){i.resolve(n)}),i.promise},t}(AltaiCore.AltaiDataService);n.ContentAttributeSelectOptionsManager=t}(AltaiContent||(AltaiContent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){var f=n.call(this,"/api/contenttype","ContentType",i,t,r,u)||this;return f.readContentTypeRelation=function(n){var t=this,i=t.$q.defer();return t.$http.get("/api/contenttyperelation/"+n).success(function(n){i.resolve(n)}),i.promise},f.updateContentTypeRelation=function(n){var t=this,i=t.$q.defer();return t.$http.put(config.backendUrl+"/api/contenttyperelation/"+n.id,n).then(function(){t.clearCache();t.notificationFactory.success("Sucesfully updated the content type relation!");i.resolve()},function(n){t.notificationFactory.error(n.data.message);i.reject()}),i.promise},f.updateContentAttribute=function(n){var t=this,i=t.$q.defer();return t.$http.put(config.backendUrl+"/api/contentattribute/"+n.id,n).then(function(){t.clearCache();t.notificationFactory.success("Sucesfully updated the content attribute!");i.resolve()},function(n){t.notificationFactory.error(n.data.message);i.reject()}),i.promise},f.updateContentTypeAttribute=function(n){var t=this,i=t.$q.defer();return t.$http.put(config.backendUrl+"/api/contenttypeattribute/"+n.id,n).then(function(){t.clearCache();t.notificationFactory.success("Sucesfully updated the content type attribute!");i.resolve()},function(n){t.notificationFactory.error(n.data.message);i.reject()}),i.promise},f.updateContentTypeRelationLink=function(n){var t=this,i=t.$q.defer();return t.$http.put(config.backendUrl+"/api/contenttyperelationlink/",n).then(function(){t.clearCache();t.notificationFactory.success("Sucesfully updated the content type relation link!");i.resolve()},function(n){t.notificationFactory.error(n.data.message);i.reject()}),i.promise},f}return __extends(t,n),t.prototype.createContentTypeAttribute=function(n){var t=this,i=t.$q.defer();return t.$http.post(config.backendUrl+"/api/ContentTypeAttribute/",n).then(function(r){var u=t.itemDataList.filter(function(t){return t.id==n.contentTypeId})[0];u&&(u.contentTypeAttributes||(u.contentTypeAttributes=[]),u.contentTypeAttributes.push(r.data));t.notificationFactory.success("Succesfully created new content attribute");i.resolve(r.data)},function(n){t.notificationFactory.error(n.data.message);i.reject(n)}),i.promise},t.prototype.deleteContentTypeAttribute=function(n){var t=this,i=t.$q.defer();return t.$http({method:"DELETE",url:config.backendUrl+"/api/ContentTypeAttribute/"+n.id}).then(function(n){t.notificationFactory.success("Succesfully removed new content attribute");i.resolve(n.data)},function(n){t.notificationFactory.error(n.data.message);i.reject(n)}),i.promise},t.prototype.listContentAttributeType=function(){var n=this,t=n.$q.defer();return n.$http({method:"GET",url:config.backendUrl+"/api/contentattributetype"}).then(function(n){t.resolve(n.data)},function(i){t.reject(i);n.notificationFactory.error("Could not load the content attribute types")}),t.promise},t.prototype.readContentTypeAttribute=function(n){var t=this,i=t.$q.defer();return t.$http.get("/api/contenttypeattribute/"+n).success(function(n){i.resolve(n)}),i.promise},t.prototype.createContentTypeRelation=function(n){var t=this,i=t.$q.defer();return t.$http.post(config.backendUrl+"/api/contenttyperelation",n).then(function(n){for(var u,r=0;2>r;r++)u=0==r?t.itemDataList.filter(function(t){return t.id==n.data.contentTypeRelationLinks[1].contentTypeId})[0]:t.itemDataList.filter(function(t){return t.id==n.data.contentTypeRelationLinks[0].contentTypeId})[0],u&&(u.contentTypeRelationLinks||(u.contentTypeRelationLinks=[]),n.data.contentTypeRelationLinks[r].contentTypeRelation={},n.data.contentTypeRelationLinks[r].contentTypeRelation.name=n.data.name,n.data.contentTypeRelationLinks[r].contentTypeRelation.id=n.data.id,u.contentTypeRelationLinks.push(n.data.contentTypeRelationLinks[r]));t.notificationFactory.success("Successfully added the new relation");i.resolve(n.data)},function(){t.notificationFactory.error("Could not create the new relation");i.reject()}),i.promise},t.prototype.deleteContentTypeRelation=function(n){var t=this,i=t.$q.defer();return t.$http["delete"](config.backendUrl+"/api/contenttyperelation/"+n.contentTypeRelation.id).then(function(){for(var u,f,r=0;r<t.itemDataList.length;r++)u=t.itemDataList[r],f=u.contentTypeRelationLinks.filter(function(t){return t.contentTypeRelationId==n.contentTypeRelationId})[0],f&&u.contentTypeRelationLinks.splice(u.contentTypeRelationLinks.indexOf(f),1);t.notificationFactory.success("Sucesfully removed the content type relation");i.resolve()},function(){t.notificationFactory.error("Could not remove the content type relation");i.reject()}),i.promise},t.prototype.updateContentTypeAttributeSorting=function(n){for(var i=this,t=0;t<n.length;t++)n[t].order=t;i.$http.put("api/contentTypeAttribute/sorting",n)},t.prototype.updateContentTypeRelationLinksSorting=function(n){for(var i=this,t=0;t<n.length;t++)n[t].order=t;i.$http.put("api/contentTypeRelationLink/sorting",n)},t.prototype.clearCache=function(){this.itemDataList=[]},t.prototype.getCachedListItem=function(n){return this.dataList.filter(function(t){return t.id===n})[0]},t.prototype.previewPossibleForType=function(n){var t=this,i=t.$q.defer();return t.list().then(function(){var r=t.getCachedListItem(n);r&&r.templateId?i.resolve(!0):i.resolve(!1)}),i.promise},t.prototype.publishPossibleForType=function(n){var t=this,i=t.$q.defer();return t.list().then(function(){var r=t.getCachedListItem(n);r&&r.allowPublish?i.resolve(!0):i.resolve(!1)}),i.promise},t.prototype.editPossibleForType=function(n){var t=this,i=t.$q.defer();return t.list().then(function(){var r=t.getCachedListItem(n);r&&r.allowWriteItems?i.resolve(!0):i.resolve(!1)}),i.promise},t.prototype.getLinkedStateName=function(n){var t=this,i=t.linkedStates[n];return i?t.linkedStates[n]:""},t.prototype.getLinkedState=function(n){var t=this,i=t.$q.defer();return t.linkedStates?i.resolve(t.getLinkedStateName(n)):t.altaiHttp.get("/api/contentType/states").then(function(r){t.linkedStates=angular.copy(r);i.resolve(t.getLinkedStateName(n))}),i.promise},t}(AltaiCore.AltaiDataService);n.ContentTypeService=t}(AltaiContent||(AltaiContent={}));!function(n){function t(){var n=[];return{add:function(t){n.push(t)},$get:function(){return{list:function(){return n}}}}}n.ContentActionProvider=t}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(n,t,i){this.$q=n;this.contentItemService=t;this.contentTypeService=i;this.updateModels=[]}return n.prototype.getUpdateModel=function(n){var t=this,i=t.$q.defer();return t.updateModels.filter(function(t){return t.id==n})[0],t.updateModels[n]?i.resolve(t.updateModels[n]):t.contentItemService.getById(n).then(function(r){t.contentTypeService.getById(r.contentTypeId).then(function(u){var h,f,l,o,e,a,c,s;for(t.updateModels[n]={attribute:{},relation:{},templateId:r.templateId,contentType:u},h=0;h<r.contentItemAttributes.length;h++)if(f=r.contentItemAttributes[h],t.updateModels[n].attribute[f.contentTypeAttributeId],t.updateModels[n].attribute[f.contentTypeAttributeId]||(t.updateModels[n].attribute[f.contentTypeAttributeId]={values:[]}),f.translatable){for(l={},o=0;o<f.translatable.translatableValues.length;o++)l[f.translatable.translatableValues[o].languageCode]=f.translatable.translatableValues[o].value;t.updateModels[n].attribute[f.contentTypeAttributeId].values.push({id:f.id,value:l})}else t.updateModels[n].attribute[f.contentTypeAttributeId].values.push({id:f.id,value:f.value});for(e=0;e<u.contentTypeRelationLinks.length;e++)for(a=u.contentTypeRelationLinks[e].contentTypeId,t.updateModels[n].relation[e]={contentTypeId:a,contentTypeRelationId:u.contentTypeRelationLinks[e].contentTypeRelationId,contentTypeRelationLinkId:u.contentTypeRelationLinks[e].id,existing:[],existingIn:[],"new":[],touched:!1},c=r.contentItemRelationLinks.filter(function(n){return n.contentRelation.contentTypeRelationId==u.contentTypeRelationLinks[e].contentTypeRelationId}),s=0;s<c.length;s++)t.updateModels[n].relation[e].existingIn.push({id:c[s].contentRelation.contentRelationLinks[0].contentId,order:c[s].order});i.resolve(t.updateModels[n])})}),i.promise},n.prototype.resetModels=function(){this.updateModels=[]},n}();n.ContentUpdateModelManager=t}(AltaiContent||(AltaiContent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"/api/contentitembb","ContentItemBB",i,t,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.ContentItemBbManager=t}(AltaiContent||(AltaiContent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"/api/contentTypeAttribute","ContentTypeAttribute",t,i,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.ContentTypeAttributeManager=t}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(){this.selections={};this.observers={};this.selectionKeyCounter=1}return n.prototype.getAvailableSelectionKey=function(){return this.selectionKeyCounter++},n.prototype.addToSelection=function(n,t,i){void 0===i&&(i=!0);this.isItemSelected(n,t)||(this.selections[n]||(this.selections[n]=[]),this.selections[n].push({id:t.id,contentTypeId:t.contentTypeId,name:t.name}),i&&this.selectionChanged(n))},n.prototype.getSelectedItemById=function(n,t){if(this.selections[n]){var i=this.selections[n].filter(function(n){return n.id==t})[0];if(i)return i}},n.prototype.removeFromSelection=function(n,t){var i=this.getSelectedItemById(n,t.id);i&&(this.selections[n].splice(this.selections[n].indexOf(i),1),this.selectionChanged(n))},n.prototype.getSelection=function(n){return this.selections[n]},n.prototype.clearSelections=function(){this.selections=[];this.observers=[]},n.prototype.isItemSelected=function(n,t){var i=this.getSelectedItemById(n,t.id);return this.selections[n]&&-1!==this.selections[n].indexOf(i)},n.prototype.observeSelection=function(n,t){this.observers[n]||(this.observers[n]=[]);this.observers[n].push(t)},n.prototype.selectionChanged=function(n){if(this.observers[n])for(var t=0;t<this.observers[n].length;t++)this.observers[n][t]()},n.prototype.applySingleItemPolicy=function(n){this.selections[n].splice(0,this.selections[n].length-1)},n}();n.ContentItemSelectionService=t}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(){}return n}();n.ContentAttributeType=t}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(){}return n}();n.ContentCollection=t}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(){}return n}();n.ContentItem=t}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(){this.pageNr=0;this.sorterAttr="Id";this.sorterDesc=!0;this.chosenContentTypeModel=[]}return n}();n.ContentItemSearchModel=t}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(){}return n}();n.ContentType=t}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(){}return n}();t.contentTypeList=new AltaiWindowManager.wmWindowType("contentTypeList","<altai-content-type-list><\/altai-content-type-list>",300,600,1600);t.contentTypeCreate=new AltaiWindowManager.wmWindowType("contentTypeCreate","<altai-content-type-create><\/altai-content-type-create>",250,960,1600);t.contentTypeUpdate=new AltaiWindowManager.wmWindowType("contentTypeUpdate","<altai-content-type-update content-type-id='vm.window.entityId'><\/altai-content-type-update>",250,960,1600);t.contentTypeProfile=new AltaiWindowManager.wmWindowType("contentTypeProfile","<altai-content-type-profile content-type-id='vm.window.entityId'><\/altai-content-type-profile>",250,960,1600);t.contentTypeRelationUpdate=new AltaiWindowManager.wmWindowType("contentTypeRelationUpdate","<altai-content-type-relation-update content-type-relation-id='vm.window.entityId'><\/altai-content-type-relation-update>",250,600,1600);t.contentTypeAttributeUpdate=new AltaiWindowManager.wmWindowType("contentTypeAttributeUpdate","<altai-content-type-attribute-update content-type-attribute-id='vm.window.entityId'><\/altai-content-type-attribute-update>",250,600,1600);t.contentTypeRelationCreate=new AltaiWindowManager.wmWindowType("contentTypeRelationCreate","<altai-content-type-relation-create content-type-id='vm.window.entityId'><\/altai-content-type-relation-create>",250,600,1600);t.contentTypeAttributeCreate=new AltaiWindowManager.wmWindowType("contentTypeAttributeCreate","<altai-content-type-attribute-create content-type-id='vm.window.entityId'><\/altai-content-type-attribute-create>",250,600,1600);t.contentCollectionList=new AltaiWindowManager.wmWindowType("contentCollectionList","<altai-content-collection-list><\/altai-content-collection-list>",250,960,1600);t.contentCollectionCreate=new AltaiWindowManager.wmWindowType("contentCollectionCreate","<altai-content-collection-create><\/altai-content-collection-create>",250,960,1600);t.contentCollectionUpdate=new AltaiWindowManager.wmWindowType("contentCollectionUpdate","<altai-content-collection-update content-collection-id='vm.window.entityId'><\/altai-content-collection-update>",250,960,1600);t.contentCollectionPreview=new AltaiWindowManager.wmWindowType("contentCollectionPreview","<altai-content-collection-preview content-collection-id='vm.window.entityId'><\/altai-content-collection-preview>",250,960,1600);t.exposedContentCollectionList=new AltaiWindowManager.wmWindowType("exposedContentCollectionList","<altai-exposed-content-collection-list><\/altai-exposed-content-collection-list>",250,960,1600);t.exposedContentCollectionCreate=new AltaiWindowManager.wmWindowType("exposedContentCollectionCreate","<altai-exposed-content-collection-create><\/altai-exposed-content-collection-create>",250,960,1600);t.exposedContentCollectionUpdate=new AltaiWindowManager.wmWindowType("exposedContentCollectionUpdate","<altai-exposed-content-collection-update exposed-content-collection-id='vm.window.entityId'><\/altai-exposed-content-collection-update>",250,960,1600);t.exposedContentCollectionPreview=new AltaiWindowManager.wmWindowType("exposedContentCollectionPreview","<altai-exposed-content-collection-preview exposed-content-collection-id='vm.window.entityId'><\/altai-exposed-content-collection-preview>",250,960,1600);t.exposedContentCollectionFilterCreate=new AltaiWindowManager.wmWindowType("exposedContentCollectionFilterCreate","<altai-exposed-content-collection-filter-create exposed-content-collection-id='vm.window.entityId'><\/altai-exposed-content-collection-filter-create>",600,600,800);t.exposedContentCollectionFilterUpdate=new AltaiWindowManager.wmWindowType("exposedContentCollectionFilterUpdate","<altai-exposed-content-collection-filter-update exposed-content-collection-filter-id='vm.window.entityId'><\/altai-exposed-content-collection-filter-update>",600,600,800);t.exposedContentCollectionSorterCreate=new AltaiWindowManager.wmWindowType("exposedContentCollectionSorterCreate","<altai-exposed-content-collection-sorter-create exposed-content-collection-id='vm.window.entityId'><\/altai-exposed-content-collection-sorter-create>",600,600,800);t.exposedContentCollectionSorterUpdate=new AltaiWindowManager.wmWindowType("exposedContentCollectionSorterUpdate","<altai-exposed-content-collection-sorter-update exposed-content-collection-sorter-id='vm.window.entityId'><\/altai-exposed-content-collection-sorter-update>",600,600,800);t.exposedContentCollectionRangeCreate=new AltaiWindowManager.wmWindowType("exposedContentCollectionRangeCreate","<altai-exposed-content-collection-range-create exposed-content-collection-id='vm.window.entityId'><\/altai-exposed-content-collection-range-create>",600,600,800);t.exposedContentCollectionRangeUpdate=new AltaiWindowManager.wmWindowType("exposedContentCollectionRangeUpdate","<altai-exposed-content-collection-range-update exposed-content-collection-range-id='vm.window.entityId'><\/altai-exposed-content-collection-range-update>",600,600,800);t.exposedContentCollectionAttributeUpdate=new AltaiWindowManager.wmWindowType("exposedContentCollectionAttributeUpdate","<altai-exposed-content-collection-attribute-update exposed-content-collection-id='vm.window.entityId'><\/altai-exposed-content-collection-attribute-update>",600,600,800);t.exposedContentCollectionFilterMltCriteriumCreate=new AltaiWindowManager.wmWindowType("exposedContentCollectionFilterMltCriteriumCreate","<altai-exposed-content-collection-filter-mlt-criterium-create exposed-content-collection-filter-id='vm.window.entityId'><\/altai-exposed-content-collection-filter-mlt-criterium-create>",600,600,800);t.contentItemProfile=new AltaiWindowManager.wmWindowType("contentItemProfile","<altai-content-item-profile content-item-id='vm.window.entityId' languages='vm.languages'><\/altai-content-item-profile>",500,960,1600,!0,!1);t.contentItemList=new AltaiWindowManager.wmWindowType("contentItemList","<altai-content-item-list content-type-id='vm.window.entityId' languages='vm.languages' window-id='::vm.window.id'><\/altai-content-item-list>",1e3,1200,1600,!0,!1);t.contentItemCreate=new AltaiWindowManager.wmWindowType("contentItemCreate","<altai-content-item-create-parent content-type-id='vm.window.entityId' languages='vm.languages'><\/altai-content-item-create-parent>",500,960,1600,!0,!0);t.contentItemUpdate=new AltaiWindowManager.wmWindowType("contentItemUpdate","<altai-content-item-update-parent content-item-id='vm.window.entityId'><\/altai-content-item-update-parent>",500,960,1600,!0,!0);t.contentItemPreview=new AltaiWindowManager.wmWindowType("contentItemPreview","<altai-content-item-preview content-item-id='vm.window.entityId' languages='vm.languages'><\/altai-content-item-preview>",1200,1200,2500,!0,!1);t.contentItemSelect=new AltaiWindowManager.wmWindowType("contentItemSelect","<altai-content-item-select content-type-id='vm.window.entityId' selection-key='vm.window.entityProperties.selectionKey'><\/altai-content-item-select>");t.contentItemProfileElastic=new AltaiWindowManager.wmWindowType("contentItemProfile","<altai-content-item-profile-elastic content-item-id='vm.window.entityId' languages='vm.languages'><\/altai-content-item-profile-elastic>",500,960,1600,!0,!1);t.contentItemListElastic=new AltaiWindowManager.wmWindowType("contentItemListElastic","<altai-content-item-list-elastic content-type-id='vm.window.entityId' languages='vm.languages' window-id='::vm.window.id'><\/altai-content-item-list-elastic>",1e3,1200,1600,!0,!1);t.contentItemCreateElastic=new AltaiWindowManager.wmWindowType("contentItemCreate","<altai-content-item-create-elastic content-type-id='vm.window.entityId' languages='vm.languages'><\/altai-content-item-create-elastic>",500,960,1600,!0,!0);t.contentItemUpdateElastic=new AltaiWindowManager.wmWindowType("contentItemUpdate","<altai-content-item-update-elastic content-item-id='vm.window.entityId' languages='vm.languages'><\/altai-content-item-update-elastic>",500,960,1600,!0,!0);t.contentItemPreviewElastic=new AltaiWindowManager.wmWindowType("contentItemPreviewElastic","<altai-content-item-preview-elastic content-item-preview='vm.window.entityId'><\/altai-content-item-preview-elastic>",1200,1200,2500,!0,!1);t.contentItemSearchElastic=new AltaiWindowManager.wmWindowType("contentItemSearchElastic","<altai-exposed-content-collection template-id='308' exposed-content-collection-id='17'><\/altai-exposed-content-collection>",1200,1400,1600,!0,!1);t.contentFormList=new AltaiWindowManager.wmWindowType("contentFormList","<altai-content-form-list><\/altai-content-form-list>",250,960,1600);t.contentFormCreate=new AltaiWindowManager.wmWindowType("contentFormCreate","<altai-content-form-create><\/altai-content-form-create>",250,960,1600);t.contentFormUpdate=new AltaiWindowManager.wmWindowType("contentFormUpdate","<altai-content-form-update content-form-id='vm.window.entityId'><\/altai-content-form-update>",250,960,1600);t.contentFormPreview=new AltaiWindowManager.wmWindowType("contentFormPreview","<altai-content-form-preview content-form-id='vm.window.entityId'><\/altai-content-form-preview>",250,960,1600);n.ContentWindows=t}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(){}return n}();n.ContentForm=t}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(){}return n}();n.ContentTypeAttribute=t}(AltaiContent||(AltaiContent={}));!function(n){var i=function(){function n(){this.contentTypeRelationLinks=[]}return n}(),t;n.ContentTypeRelation=i;t=function(){function n(){this.includeByDefault=!0;this.allowCreateLink=!0;this.allowCreateNew=!1}return n}();n.ContentTypeRelationLink=t}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(){}return n}();n.ContentTypeSelectOption=t}(AltaiContent||(AltaiContent={}));!function(n){var t=function(){function n(){}return n}();t.contentItemCreated="ContentItemCreated";t.contentItemUpdated="ContentItemUpdated";n.ContentEvents=t}(AltaiContent||(AltaiContent={}));!function(n){function t(){return function(n){return n?String(n).replace(/<[^>]+>/gm,""):""}}n.RemoveHtmlMarkupFilter=t}(AltaiContent||(AltaiContent={}));!function(n){function t(){return function(n,t,i,r){if(null===n||void 0===n||null===t||void 0===t||""===t||(angular.isUndefined(i)&&(i=!0),angular.isUndefined(r)&&(r="..."),n.length<=t))return n;t-=r.length;var u=n.substr(0,t);return i?u.substr(0,Math.min(u.length,u.lastIndexOf(" ")))+r:u+r}}n.crop=t}(AltaiContent||(AltaiContent={}));!function(n){var t=angular.module("altai.content",["ui.router","ui.bootstrap","ngFileUpload","ngSanitize","datePicker","vcRecaptcha","altai.texteditor","isteven-multi-select","ui.sortable","ngMaterial","angular.filter","daterangepicker","angularMoment","su.datepicker","ngclipboard","720kb.socialshare","AngularPrint"]);t.component("altaiContentCollectionCreateBuildingBlock",new n.AltaiContentCollectionCreateBuildingBlockComponent);t.component("altaiContentCollection",new n.AltaiContentCollectionComponent);t.component("altaiContentSearchCreateBuildingBlock",new n.AltaiContentSearchCreateBuildingBlockComponent);t.component("altaiContentSearchClientSideCreateBuildingBlock",new n.AltaiContentSearchClientSideCreateBuildingBlockComponent);t.component("altaiContentSearch",new n.AltaiContentSearchComponent);t.component("altaiContentFormCreateBuildingBlock",new n.altaiContentFormCreateBuildingBlock);t.component("altaiFileSelectButton",new n.AltaiFileSelectButtonComponent);t.component("altaiTagSelector",new n.AltaiTagSelector);t.component("altaiMultiSelect",new n.AltaiMultiSelect);t.component("altaiContentItemButtons",new n.AltaiContentItemButtonsComponent);t.component("altaiSearchSelect",new n.AltaiSearchSelectComponent);t.component("altaiContentItemSelect",new n.AltaiContentItemSelectComponent);t.component("altaiContentCollectionUpdateRelation",new n.AltaiContentCollectionUpdateRelation);t.component("altaiContentSelectionCheckbox",new n.AltaiContentSelectionCheckboxComponent);t.component("altaiContentItemBuildingBlockCreate",new n.AltaiContentItemBuildingBlockCreateComponent);t.component("altaiContentItemBuildingBlockUpdate",new n.AltaiContentItemBuildingBlockUpdateComponent);t.component("altaiContentItem",new n.AltaiContentItemComponent);t.component("altaiContentItemInlineSecurity",new n.AltaiContentItemInlineSecurityComponent);t.component("altaiContentItemSearchElastic",new n.AltaiContentSearchComponent);t.component("altaiContentTableHeaderSorter",new n.AltaiContentTableHeaderSorterComponent);t.component("altaiPrintData",new n.AltaiPrintDataComponent);t.component("altaiTreeSelector",new n.AltaiTreeSelectorComponent);t.component("altaiContentCheckbox",new n.AltaiContentCheckboxComponent);t.directive("altaiCompileHtml",n.CompileHtmlDirective);t.directive("altaiLink",n.altaiLink);t.directive("altaiSetTitle",n.altaiSetTitle);t.directive("clickOutsideHide",n.clickOutside);t.directive("altaiTagSelectorValidator",n.AltaiTagSelectorValidator);t.directive("altaiContentRelationUpdate",n.AltaiContentRelationUpdateDirective);t.directive("altaiContentRelationUpdateItem",n.AltaiContentRelationUpdateItemDirective);t.directive("altaiContentAttributeUpdate",n.AltaiContentAttributeUpdateDirective);t.directive("altaiContentAttributeUpdateItem",n.AltaiContentAttributeUpdateItemDirective);t.directive("altaiContentIdField",n.AltaiContentIdFieldDirective);t.directive("getlink",n.GetlinkDirective);t.directive("altaiHidePast",n.AltaiHidePastDirective);t.directive("altaiContentTypeList",n.AltaiContentTypeListDirective);t.directive("altaiContentTypeCreate",n.AltaiContentTypeCreateDirective);t.directive("altaiContentTypeUpdate",n.AltaiContentTypeUpdateDirective);t.directive("altaiContentTypeProfile",n.AltaiContentTypeProfileDirective);t.directive("altaiContentTypeAttributeCreate",n.AltaiContentTypeAttributeCreateDirective);t.directive("altaiContentTypeAttributeUpdate",n.AltaiContentTypeAttributeUpdateDirective);t.directive("altaiContentTypeRelationUpdate",n.AltaiContentTypeRelationUpdateDirective);t.directive("altaiContentTypeRelationCreate",n.AltaiContentTypeRelationCreateDirective);t.directive("altaiContentCollectionList",n.AltaiContentCollectionListDirective);t.directive("altaiContentCollectionCreate",n.AltaiContentCollectionCreateDirective);t.directive("altaiContentCollectionUpdate",n.AltaiContentCollectionUpdateDirective);t.directive("altaiContentCollectionPreview",n.AltaiContentCollectionPreviewDirective);t.directive("altaiExposedContentCollectionList",n.AltaiExposedContentCollectionListDirective);t.directive("altaiExposedContentCollectionCreate",n.AltaiExposedContentCollectionCreateDirective);t.directive("altaiExposedContentCollectionUpdate",n.AltaiExposedContentCollectionUpdateDirective);t.directive("altaiExposedContentCollectionPreview",n.AltaiExposedContentCollectionPreviewDirective);t.component("altaiExposedContentCollectionFilterCreate",new n.ExposedContentCollectionFilterCreateComponent);t.component("altaiExposedContentCollectionFilterUpdate",new n.ExposedContentCollectionFilterUpdateComponent);t.component("altaiExposedContentCollectionSorterCreate",new n.ExposedContentCollectionSorterCreateComponent);t.component("altaiExposedContentCollectionSorterUpdate",new n.ExposedContentCollectionSorterUpdateComponent);t.component("altaiExposedContentCollectionRangeCreate",new n.ExposedContentCollectionRangeCreateComponent);t.component("altaiExposedContentCollectionRangeUpdate",new n.ExposedContentCollectionRangeUpdateComponent);t.component("altaiExposedContentCollectionAttributeUpdate",new n.ExposedContentCollectionAttributeUpdateComponent);t.component("altaiExposedContentCollectionFilterMltCriteriumCreate",new n.ExposedContentCollectionFilterMltCriteriumCreateComponent);t.directive("altaiContentItemList",n.AltaiContentItemListDirective);t.directive("altaiContentItemListInner",n.AltaiContentItemListInnerDirective);t.directive("altaiContentItemListElastic",n.AltaiContentItemListElasticDirective);t.directive("altaiContentItemCreate",n.AltaiContentItemCreateDirective);t.directive("altaiContentItemCreateParent",n.AltaiContentItemCreateParentDirective);t.directive("altaiContentItemUpdateInner",n.AltaiContentItemUpdateInnerDirective);t.directive("altaiContentItemUpdate",n.AltaiContentItemUpdateDirective);t.directive("altaiContentItemUpdateParent",n.AltaiContentItemUpdateParentDirective);t.directive("altaiContentItemPreview",n.AltaiContentItemPreviewDirective);t.directive("altaiContentItemProfile",n.AltaiContentItemProfileDirective);t.directive("altaiContentItemTable",n.AltaiContentItemTableDirective);t.directive("altaiSelectInput",n.AltaiSelectInputDirective);t.directive("altaiContentForm",n.AltaiContentFormDirective);t.directive("altaiContentFormList",n.AltaiContentFormListDirective);t.directive("altaiContentFormCreate",n.AltaiContentFormCreateDirective);t.directive("altaiContentFormUpdate",n.AltaiContentFormUpdateDirective);t.directive("altaiContentFormPreview",n.AltaiContentFormPreviewDirective);t.service("contentCollectionManager",n.ContentCollectionManager);t.service("exposedContentCollectionManager",n.ExposedContentCollectionManager);t.service("contentCollectionDataService",n.ContentCollectionDataService);t.service("contentAttributeService",n.ContentAttributeService);t.service("contentItemService",n.ContentItemService);t.service("contentItemElasticService",n.ContentItemElasticService);t.service("contentFormManager",n.ContentFormManager);t.service("contentCreateItemProcessor",n.ContentCreateItemProcessor);t.service("contentRelationFactory",n.ContentRelationFactory);t.service("contentAttributeSelectOptionsManager",n.ContentAttributeSelectOptionsManager);t.service("contentTypeService",n.ContentTypeService);t.service("contentFormRowManager",n.ContentFormRowManager);t.provider("contentActionProvider",n.ContentActionProvider);t.service("contentUpdateModelManager",n.ContentUpdateModelManager);t.service("contentItemBbManager",n.ContentItemBbManager);t.service("contentTypeAttributeManager",n.ContentTypeAttributeManager);t.service("exposedContentCollectionFilterManager",n.ExposedContentCollectionFilterManager);t.service("exposedContentCollectionFilterMLTCriteriumManager",n.ExposedContentCollectionFilterMLTCriteriumManager);t.service("exposedContentCollectionSorterManager",n.ExposedContentCollectionSorterManager);t.service("exposedContentCollectionRangeManager",n.ExposedContentCollectionRangeManager);t.service("exposedContentCollectionAttributeManager",n.ExposedContentCollectionAttributeManager);t.service("contentItemSelectionService",n.ContentItemSelectionService);t.filter("removeHtmlMarkupFilter",n.RemoveHtmlMarkupFilter);t.filter("crop",n.crop);t.config(function(t,i,r){t.state("admin.content",{url:"/content",abstract:!0}).state("admin.content.type",{url:"/type",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ContentTypeListController}}}).state("admin.content.collection",{url:"/collection",securable:"contentcollection.list",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ContentCollectionListController}}}).state("admin.content.exposedcollection",{url:"/exposedcollection",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ExposedContentCollectionListController}}}).state("admin.content.form",{url:"/form",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ContentFormListController}}}).state("admin.content.item",{url:"/item",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ContentItemListController}}}).state("admin.content.elastic",{url:"/elastic",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ContentItemSearchElasticController}}}).state("admin.content.item.update",{url:"/:id/update",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ContentItemUpdateController}}}).state("admin.content.item.preview",{url:"/:id/preview",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ContentItemPreviewController}}}).state("admin.content.create",{url:"/create",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ContentCreateController}}});t.state("admin.content.import",{url:"/import",system:!0,views:{"adminContentView@admin":{altaiTemplate:"contentImport",altaiTemplateType:"Admin",controller:"contentImportController"}},resolve:{contentTypesData:function(n){return n.listContentType()}}});t.state("admin.content.read",{url:"/:id",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ContentItemProfileController}}});t.state("admin.content.edit",{url:"/:id/edit",system:!0,views:{"adminContentView@admin":{altaiTemplate:"contentUpdate",altaiTemplateType:"Admin",controller:"contentUpdateController"}}});t.state("admin.content.preview",{url:"/:id/preview",system:!0,views:{"adminContentView@admin":{template:'<content content-id="{{$root.$stateParams.id}}"><\/content>'}}});r.add({name:"content",order:0,label:"content",icon:"mdi mdi-google-circles-communities menuicontoolbar"});r.add({parent:"content",name:"content.types",securable:"contenttype.list",label:"contenttypes",icon:"mdi mdi-google-circles-communities menuicon",state:"admin.content.type"});r.add({parent:"content",name:"content.items",securable:"contentitem.list.hideforall",label:"contentitems",icon:"mdi mdi-google-circles-extended menuicon",state:"admin.content.item"});r.add({parent:"content",name:"content.elastic",securable:"contentitem.search",label:"search",icon:"mdi mdi-google-circles-extended menuicon",state:"admin.content.elastic"});r.add({parent:"content",name:"content.collections",securable:"contentcollection.list",label:"contentcollections",icon:"mdi mdi-format-list-bulleted menuicon",state:"admin.content.collection"});r.add({parent:"content",name:"content.exposedcollections",securable:"contentCollection.read",label:"exposedcontentcollections",icon:"mdi mdi-format-list-bulleted menuicon",state:"admin.content.exposedcollection"});r.add({parent:"content",name:"content.forms",securable:"contentform.list",label:"contentforms",icon:"mdi mdi-content-paste menuicon",state:"admin.content.form"});r.add({parent:"content",name:"content.files",securable:"file.list",label:"files",icon:"mdi mdi-file menuicon",state:"admin.filemanager"});i.add({name:"ContentCollection",label:"Content Collection",directive:"altai-content-collection",icon:"mdi-format-list-bulleted",createComponent:"<altai-content-collection-create-building-block><\/altai-content-collection-create-building-block>"});i.add({name:"Form",label:"Form",directive:"altai-content-form",icon:"mdi-content-paste",createComponent:"<altai-content-form-create-building-block><\/altai-content-form-create-building-block>"});i.add({name:"ContentSearch",label:"Content Search",directive:"altai-content-search",icon:"mdi-magnify",createComponent:"<altai-content-search-create-building-block><\/altai-content-search-create-building-block>"});i.add({name:"ContentItem",label:"Content Item",directive:"altai-content-item",icon:"mdi-content-copy",createComponent:"<altai-content-item-building-block-create><\/altai-content-item-building-block-create>",updateComponent:"<altai-content-item-building-block-update><\/altai-content-item-building-block-update>"})});t.run(function(n,t,i,r){var u;CKEDITOR.dialog.add("altaiUploadDialog",function(n){return{title:"Upload file",minWidth:400,minHeight:200,contents:[{id:"tab-basic",label:"Basic Settings",elements:[{type:"file",id:"file",label:"file",onChange:function(){u=$(this.getInputElement()).first()[0];u=u.$.files[0]}}]}],onOk:function(){var e=this,f;e.getValueOf("tab-basic","file");$.ajaxSetup({processData:!1,contentType:!1});f=new FormData;f.append("file",u);r.getValidAccessToken().then(function(r){$.ajax({type:"POST",url:"/api/upload",data:f,beforeSend:function(n){n.setRequestHeader("Authorization","Bearer "+r)}}).then(function(r){"UNSUPPORTED_FILE_EXTENSION"==r?i.error("Unsupported file extension"):t.add({name:r,size:u.size,fileType:u.type}).then(function(t){var i=n.getSelection(),r=i.getSelectedText();n.insertHtml("<a href='https://static.comeos.be/Uploads/"+t.name+"' target='_blank'>"+r+"<\/a>")})})})}}});CKEDITOR.plugins.add("altaiUpload",{init:function(n){n.addCommand("altaiUploadFile",new CKEDITOR.dialogCommand("altaiUploadDialog"));n.ui.addButton("AltaiUpload",{label:"Insert altai file",command:"altaiUploadFile",toolbar:"insert",icon:"copy"});n.addCommand("altaiUploadImage",new CKEDITOR.dialogCommand("altaiUploadImageDialog"));n.ui.addButton("AltaiUploadImage",{label:"Insert altai image",command:"altaiUploadImage",toolbar:"insert",icon:"image"})}});CKEDITOR.dialog.add("altaiUploadImageDialog",function(n){return{title:"Upload image",minWidth:400,minHeight:200,contents:[{id:"tab-basic",label:"Basic Settings",elements:[{type:"file",id:"file",label:"file",onChange:function(){u=$(this.getInputElement()).first()[0];u=u.$.files[0]}}]}],onOk:function(){var e=this,f;e.getValueOf("tab-basic","file");$.ajaxSetup({processData:!1,contentType:!1});f=new FormData;f.append("file",u);r.getValidAccessToken().then(function(r){$.ajax({type:"POST",url:"/api/upload",data:f,beforeSend:function(n){n.setRequestHeader("Authorization","Bearer "+r)}}).then(function(r){"UNSUPPORTED_FILE_EXTENSION"==r?i.error("Unsupported file extension"):t.add({name:r,size:u.size,fileType:u.type}).then(function(t){n.insertHtml("<img src='https://static.comeos.be/Uploads/"+t.name+"'>")})},function(){i.error("Uploading of attachment failed!")})})}}})})}(AltaiContent||(AltaiContent={}));config.modules.push("altai.content");angular.module("altai.content").directive("altaiContentFormSelect",function(){return{replace:!0,template:"<div><input type='radio' value='test1'><\/div>"}});angular.module("altai.content").directive("altaiDatePicker",function(){return{scope:{model:"=altaiDatePicker",attr:"="},controllerAs:"vm",bindToController:!0,template:'<input date-time class=\'altai-date-input\' format="DD-MM-YYYY" ng-model="vm.model" ng-change="vm.toggle()" min-view=\'date\'>',controller:function(){this.model||(this.model=new Date,this.validDate=angular.isDate(this.model));var n=this;this.toggle=function(){if(n.validDate=angular.isDate(n.model),!n.validDate){var t=new Date(n.model);n.validDate="Invalid Date"==t?!1:!0}}}}});angular.module("altai.content").directive("altaiFiledisplay",function(){return{restrict:"E",scope:{file:"="},template:"<i class='fa' ng-class='icon'><\/i>&nbsp;<a href='{{$root.staticFileBase}}/{{file}}' target='_blank'>{{fileDisplay}}<\/a>",controller:function(n){var r=n.file.split("."),t=r.pop(),i;"pptx"!=t&&"ppt"!=t||(n.icon="fa-file-powerpoint-o");"pdf"==t&&(n.icon="fa-file-pdf-o");"doc"==t&&(n.icon="fa-word-o");"xls"==t&&(n.icon="fa-excel-o");i=n.file.split("_");i.shift();n.fileDisplay=i.join("_")}}});angular.module("altai.content").directive("contentCollectionRelation",function(){return{scope:{contentCollectionId:"=",relationArray:"="},controller:function(n){n.relationArray||(n.relationArray=[]);n.toggleItem=function(t){var r=n.relationArray.filter(function(n){return n.id===t.id})[0],i=n.relationArray.indexOf(r);i>-1?n.relationArray.splice(i,1):n.relationArray.push(t)}},template:'<div contentcollection content-collection-id="{{contentCollectionId}}"><\/div>'}});angular.module("altai.content").directive("content",function(n,t){return{scope:{contentId:"@contentId"},restrict:"E",transclude:!0,template:"Content item",link:function(i,r){n.get(config.backendUrl+"/api/contentData/"+i.contentId).success(function(u){i.item=u;n.get(config.backendUrl+"/api/template/"+u.templateId).then(function(n){r.html(n.data).show();t(r.contents())(i)})})}}});!function(n){function t(){return{scope:{contentTypeId:"=",contentItem:"=",languages:"=",originLink:"="},templateUrl:"/api/template/Admin/AltaiContentCreateItem",bindToController:!0,controllerAs:"vm",controller:i}}n.AltaiContentCreateItemDirective=t;var i=function(){function n(n){var t=this;this.contentTypeService=n;this.contentTypeService.getById(this.contentTypeId).then(function(n){t.contentType=n;t.contentItem.contentTypeId=t.contentTypeId;t.contentItem.contentType=n})}return n}();angular.module("altai.content").directive("altaiContentCreateItem",t)}(AltaiContent||(AltaiContent={}));angular.module("altai.content").directive("contentSelect",function(n){return{scope:{contentSelect:"@contentSelect",contentSelectModel:"=contentSelectModel",multipleInput:"@contentSelectMultiple"},template:"<div class=\"content-select\"><select data-ng-options='c as c.name for c in contentRows track by c.id' data-ng-model='internalModel'><\/select><button class='btn btn-success' ng-show='multiple' ng-click=\"addItem()\"><i class='fa fa-plus'><\/i><\/button><\/div>",replace:!0,controller:["$scope",function(t){t.multiple="False"==t.multipleInput?!1:!0;t.contentSelectModel||(t.contentSelectModel=[]);n.listContentByType(t.contentSelect).then(function(n){t.contentRows=n});t.addItem=function(){-1==t.contentSelectModel.indexOf(t.internalModel)&&t.contentSelectModel.push({id:t.internalModel.id,name:""})};t.removeItem=function(n){t.contentSelectModel.splice(n,1)};t.multiple||(t.$watch("internalModel",function(){t.internalModel&&(t.contentSelectModel={id:t.internalModel.id,name:""})}),t.$on("contentSelectChanged",function(i,r){r.contentTypeId==t.contentSelect&&n.listContentByType(t.contentSelect).then(function(n){t.contentRows=n;t.contentRows&&(t.internalModel=t.contentRows.filter(function(n){return n.id=r.id})[0])})}))}]}});angular.module("altai.content").directive("locationDisplay",["$sce",function(){return{scope:{value:"=locationDisplay"},template:"<iframe frameborder='0' style='border:0'><\/iframe>",replace:!0,link:function(n,t){t.attr("src","https://www.google.com/maps/embed/v1/place?key=AIzaSyAsX-2eEGA-rXT0xj7damJ5tmi9ZK3r3vM&q="+n.value)}}}]);angular.module("altai.content").directive("locationInput",function(){return{require:"ngModel",link:function(){}}});angular.module("altai.content").directive("contentMap",function(){return{template:"<div class='altai-map' style='height:300px;' id='map-canvas'><\/div>",scope:{lat:"=",lng:"=",markerTitle:"@"},link:function(n){n.$watch("lat",function(){if(n.lat){n.lat||(n.lat=51.14113);n.lng||(n.lng=4.43901);n.lat=parseFloat(n.lat);n.lng=parseFloat(n.lng);var t={center:{lat:n.lat,lng:n.lng},zoom:14},i=new google.maps.Map(document.getElementById("map-canvas"),t);new google.maps.Marker({position:{lat:n.lat,lng:n.lng},map:i,title:n.markerTitle})}})}}});!function(n){function t(t,i){i.createWindow(n.WorkflowWindows.triggerList,"Triggers","")}n.WorkflowTriggerListController=t}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){function t(){return{scope:{triggerId:"="},templateUrl:"/api/template/Admin/Workflow:AltaiWorkflowTriggerView",controller:i,controllerAs:"vm",bindToController:!0}}n.AltaiWorkflowTriggerViewDirective=t;var i=function(){function t(n,t,i,r,u){this.$rootScope=n;var f=this;f.triggerId=t.vm.triggerId;this.workflowTriggerManager=i;f.rootscope=n;this.wmContainerFactory=r;this.altaiConfirmationService=u;this.init();t.$on("workflowConditionCreated",function(){f.getConditionData()});t.$on("workflowConditionUpdated",function(){f.getConditionData()});t.$on("workflowTaskCreated",function(){f.getTaskData()});t.$on("workflowTaskUpdated",function(){f.getTaskData()})}return t.prototype.init=function(){var n=this;n.getConditionData();n.getTaskData()},t.prototype.getConditionData=function(){var n=this;this.workflowTriggerManager.getActiveConditionsByTriggerId(n.triggerId).then(function(t){n.conditions=t})},t.prototype.getTaskData=function(){var n=this;this.workflowTriggerManager.getActiveTasksByTriggerId(n.triggerId).then(function(t){n.tasks=t})},t.prototype.deleteConditions=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.workflowTriggerManager.deleteCondition(n).then(function(){t.getConditionData();t.$rootScope.$broadcast("workflowConditionDeleted")})})},t.prototype.deleteTasks=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.workflowTriggerManager.deleteTask(n).then(function(){t.getTaskData();t.$rootScope.$broadcast("workflowTaskDeleted")})})},t.prototype.createCondition=function(){var t=this;this.wmContainerFactory.createWindow(n.WorkflowWindows.addCondition,"Add Condition",t.triggerId)},t.prototype.editCondition=function(t){this.wmContainerFactory.createWindow(n.WorkflowWindows.updateCondition,t.name,t.id,t)},t.prototype.createTask=function(){var t=this;this.wmContainerFactory.createWindow(n.WorkflowWindows.addTask,"Add Task",t.triggerId)},t.prototype.editTask=function(t){this.wmContainerFactory.createWindow(n.WorkflowWindows.updateTask,t.taskName,t.id,t)},t.prototype.viewTask=function(t){this.wmContainerFactory.createWindow(n.WorkflowWindows.taskView,t.taskName,t.id)},t}()}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/Workflow:AddAltaiWorkflowTrigger",controllerAs:"vm",controller:i,link:function(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.createTrigger(n.newTrigger)},"class":"altai-button-go",name:"save",disableByFormValidity:n.triggerCreateForm,separator:!0},{icon:"mdi-close",action:function(){n.vm.closeWindow()},"class":"altai-button-back",name:"cancel",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}}}n.AddAltaiWorkflowTriggerDirective=t;var i=function(){function t(n,t,i){this.$rootScope=n;this.workflowTriggerManager=t;this.wmContainerFactory=i;var r=this;r.rootscope=n}return t.prototype.createTrigger=function(t){var i=this;t.Id=0;this.workflowTriggerManager.add(t).then(function(){i.$rootScope.$broadcast("triggerCreated");var t=i.wmContainerFactory.findWindow(n.WorkflowWindows.addTrigger);i.wmContainerFactory.destroyWindow(t.id)})},t.prototype.closeWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.WorkflowWindows.addTrigger);t.wmContainerFactory.destroyWindow(i.id)},t}()}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){function t(){return{scope:{trigger:"="},templateUrl:"/api/template/Admin/Workflow:UpdateAltaiWorkflowTrigger",controllerAs:"vm",controller:i,link:function(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.editTrigger(n.oldTrigger)},"class":"altai-button-go",name:"save",disableByFormValidity:n.triggerUpdateForm,separator:!0},{icon:"mdi-close",action:function(){n.vm.closeWindow()},"class":"altai-button-back",name:"cancel",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}}}n.UpdateAltaiWorkflowTriggerDirective=t;var i=function(){function t(n,t,i,r){this.$rootScope=n;this.$scope=t;this.workflowTriggerManager=i;this.wmContainerFactory=r;var u=this;u.rootscope=n;u.oldTrigger=t.trigger;this.workflowTriggerManager.getById(t.trigger.id).then(function(n){u.oldTrigger=n})}return t.prototype.editTrigger=function(){var t=this;this.workflowTriggerManager.update(t.oldTrigger).then(function(){t.$rootScope.$broadcast("triggerUpdated");var i=t.wmContainerFactory.findWindow(n.WorkflowWindows.updateTrigger);t.wmContainerFactory.destroyWindow(i.id)})},t.prototype.closeWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.WorkflowWindows.updateTrigger);t.wmContainerFactory.destroyWindow(i.id)},t}()}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){function t(){return{scope:{triggerId:"="},templateUrl:"/api/template/Admin/Workflow:AddAltaiWorkflowCondition",controllerAs:"vm",controller:i,link:function(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.createCondition(n.newCondition)},"class":"altai-button-go",name:"save",disableByFormValidity:n.conditionCreateForm,separator:!0},{icon:"mdi-close",action:function(){n.vm.closeWindow()},"class":"altai-button-back",name:"cancel",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}}}n.AddAltaiWorkFlowConditionDirective=t;var i=function(){function t(n,t,i,r){this.$rootScope=n;this.$scope=t;this.workflowTriggerManager=i;this.wmContainerFactory=r;var u=this;u.rootscope=n;u.triggerId=t.triggerId}return t.prototype.createCondition=function(t){var i=this;t.WorkFlowTriggerId=i.triggerId;this.workflowTriggerManager.addCondition(t).then(function(){i.$rootScope.$broadcast("workflowConditionCreated");var t=i.wmContainerFactory.findWindow(n.WorkflowWindows.addCondition);i.wmContainerFactory.destroyWindow(t.id)})},t.prototype.closeWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.WorkflowWindows.addCondition);t.wmContainerFactory.destroyWindow(i.id)},t}()}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){function t(){return{scope:{triggerId:"="},templateUrl:"/api/template/Admin/Workflow:AddAltaiWorkflowTask",controllerAs:"vm",controller:i,link:function(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.createTask(n.newTask)},"class":"altai-button-go",name:"save",disableByFormValidity:n.taskCreateForm,separator:!0},{icon:"mdi-close",action:function(){n.vm.closeWindow()},"class":"altai-button-back",name:"cancel",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}}}n.AddAltaiWorkFlowTaskDirective=t;var i=function(){function t(n,t,i,r){this.$rootScope=n;this.$scope=t;this.workflowTriggerManager=i;this.wmContainerFactory=r;var u=this;u.rootscope=n;u.triggerId=t.triggerId}return t.prototype.createTask=function(t){var i=this;t.WorkFlowTriggerId=i.triggerId;this.workflowTriggerManager.addTask(t).then(function(){i.$rootScope.$broadcast("workflowTaskCreated");var t=i.wmContainerFactory.findWindow(n.WorkflowWindows.addTask);i.wmContainerFactory.destroyWindow(t.id)})},t.prototype.closeWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.WorkflowWindows.addTask);t.wmContainerFactory.destroyWindow(i.id)},t}()}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){function t(){return{scope:{taskId:"="},templateUrl:"/api/template/Admin/Workflow:AltaiWorkflowTaskView",controller:i,controllerAs:"vm",bindToController:!0}}n.AltaiWorkflowTaskViewDirective=t;var i=function(){function t(n,t,i,r,u){this.$rootScope=n;var f=this;f.taskId=t.vm.taskId;this.workflowTriggerManager=i;f.rootscope=n;this.wmContainerFactory=r;this.altaiConfirmationService=u;this.init();t.$on("workflowTaskArgCreated",function(){f.getTaskArgData()});t.$on("workflowTaskArgUpdated",function(){f.getTaskArgData()})}return t.prototype.init=function(){var n=this;n.getTaskArgData()},t.prototype.getTaskArgData=function(){var n=this;this.workflowTriggerManager.getTaskArgsByTaskId(n.taskId).then(function(t){n.taskArgs=t})},t.prototype.deleteTaskArgs=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.workflowTriggerManager.deleteTaskArg(n).then(function(){t.getTaskArgData();t.$rootScope.$broadcast("workflowTaskArgDeleted")})})},t.prototype.createTaskArg=function(){var t=this;this.wmContainerFactory.createWindow(n.WorkflowWindows.addTaskArg,"Add Task arg",t.taskId)},t.prototype.editTaskArg=function(t){this.wmContainerFactory.createWindow(n.WorkflowWindows.updateTaskArg,t.key,t.id,t)},t}()}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){function t(){return{scope:{condition:"="},templateUrl:"/api/template/Admin/Workflow:UpdateAltaiWorkflowCondition",controllerAs:"vm",controller:i,link:function(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.editCondition(n.oldCondition)},"class":"altai-button-go",name:"save",disableByFormValidity:n.conditionUpdateForm,separator:!0},{icon:"mdi-close",action:function(){n.vm.closeWindow()},"class":"altai-button-back",name:"cancel",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}}}n.UpdateAltaiWorkflowConditionDirective=t;var i=function(){function t(n,t,i,r){this.$rootScope=n;this.$scope=t;this.workflowTriggerManager=i;this.wmContainerFactory=r;var u=this;u.rootscope=n;u.oldCondition=t.condition;this.workflowTriggerManager.getConditionById(t.condition.id).then(function(n){u.oldCondition=n})}return t.prototype.editCondition=function(){var t=this;this.workflowTriggerManager.updateCondition(t.oldCondition).then(function(){t.$rootScope.$broadcast("workflowConditionUpdated");var i=t.wmContainerFactory.findWindow(n.WorkflowWindows.updateCondition);t.wmContainerFactory.destroyWindow(i.id)})},t.prototype.closeWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.WorkflowWindows.updateCondition);t.wmContainerFactory.destroyWindow(i.id)},t}()}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){function t(){return{scope:{taskId:"="},templateUrl:"/api/template/Admin/Workflow:AddAltaiWorkflowTaskArg",controllerAs:"vm",controller:i,link:function(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.createTaskArg(n.newTaskArg)},"class":"altai-button-go",name:"save",disableByFormValidity:n.taskArgCreateForm,separator:!0},{icon:"mdi-close",action:function(){n.vm.closeWindow()},"class":"altai-button-back",name:"cancel",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}}}n.AddAltaiWorkFlowTaskArgDirective=t;var i=function(){function t(n,t,i,r){this.$rootScope=n;this.$scope=t;this.workflowTriggerManager=i;this.wmContainerFactory=r;var u=this;u.rootscope=n;u.taskId=t.taskId}return t.prototype.createTaskArg=function(t){var i=this;t.WorkFlowTaskId=i.taskId;this.workflowTriggerManager.addTaskArg(t).then(function(){i.$rootScope.$broadcast("workflowTaskArgCreated");var t=i.wmContainerFactory.findWindow(n.WorkflowWindows.addTaskArg);i.wmContainerFactory.destroyWindow(t.id)})},t.prototype.closeWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.WorkflowWindows.addTaskArg);t.wmContainerFactory.destroyWindow(i.id)},t}()}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){function t(){return{scope:{task:"="},templateUrl:"/api/template/Admin/Workflow:UpdateAltaiWorkflowTask",controllerAs:"vm",controller:i,link:function(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.editTask(n.oldTask)},"class":"altai-button-go",name:"save",disableByFormValidity:n.taskUpdateForm,separator:!0},{icon:"mdi-close",action:function(){n.vm.closeWindow()},"class":"altai-button-back",name:"cancel",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}}}n.UpdateAltaiWorkflowTaskDirective=t;var i=function(){function t(n,t,i,r){this.$rootScope=n;this.$scope=t;this.workflowTriggerManager=i;this.wmContainerFactory=r;var u=this;u.rootscope=n;u.oldTask=t.task;this.workflowTriggerManager.getTaskById(t.task.id).then(function(n){u.oldTask=n})}return t.prototype.editTask=function(){var t=this;this.workflowTriggerManager.updateTask(t.oldTask).then(function(){t.$rootScope.$broadcast("workflowTaskUpdated");var i=t.wmContainerFactory.findWindow(n.WorkflowWindows.updateTask);t.wmContainerFactory.destroyWindow(i.id)})},t.prototype.closeWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.WorkflowWindows.updateTask);t.wmContainerFactory.destroyWindow(i.id)},t}()}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){function t(){return{scope:{taskarg:"="},templateUrl:"/api/template/Admin/Workflow:UpdateAltaiWorkflowTaskArg",controllerAs:"vm",controller:i,link:function(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.editTaskArg(n.oldTaskArg)},"class":"altai-button-go",name:"save",disableByFormValidity:n.taskArgUpdateForm,separator:!0},{icon:"mdi-close",action:function(){n.vm.closeWindow()},"class":"altai-button-back",name:"cancel",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}}}n.UpdateAltaiWorkflowTaskArgDirective=t;var i=function(){function t(n,t,i,r){this.$rootScope=n;this.$scope=t;this.workflowTriggerManager=i;this.wmContainerFactory=r;var u=this;u.rootscope=n;u.oldTaskArg=t.taskarg;this.workflowTriggerManager.getTaskArgById(t.taskarg.id).then(function(n){u.oldTaskArg=n})}return t.prototype.editTaskArg=function(){var t=this;this.workflowTriggerManager.updateTaskArg(t.oldTaskArg).then(function(){t.$rootScope.$broadcast("workflowTaskArgUpdated");var i=t.wmContainerFactory.findWindow(n.WorkflowWindows.updateTaskArg);t.wmContainerFactory.destroyWindow(i.id)})},t.prototype.closeWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.WorkflowWindows.updateTaskArg);t.wmContainerFactory.destroyWindow(i.id)},t}()}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Workflow:AltaiWorkflowTriggerList";this.controller=t}return n}(),t;n.AltaiWorkflowTriggerListComponent=i;t=function(){function t(n,t,i,r){this.pageNr=0;this.sorterAttr="Id";this.sorterDesc=!0;var u=this;this.workflowTriggerManager=t;this.wmContainerFactory=i;this.altaiConfirmationService=r;this.init();n.$watch("$ctrl.searchModel",function(n,t){n&&t&&u.searchModelHasChanged(n,t)&&u.getData()},!0);n.$on("triggerCreated",function(){u.getData()});n.$on("triggerUpdated",function(){u.getData()})}return t.prototype.searchModelHasChanged=function(n,t){return n.pageNr!=t.pageNr||n.sorterAttr!=t.sorterAttr||n.sorterDesc!=t.sorterDesc||n.name!=t.name},t.prototype.init=function(){var t=this;t.searchModel=new n.TriggerSearchModel;t.getData()},t.prototype.getData=function(){var n=this;this.workflowTriggerManager.listAdvanced(this.searchModel).then(function(t){n.triggers=t})},t.prototype.setSorting=function(n){this.searchModel.pageNr=0;this.searchModel.sorterDesc=this.searchModel.sorterAttr==n?!this.searchModel.sorterDesc:!1;this.searchModel.sorterAttr=n;this.getData()},t.prototype.getSearchResults=function(){var n=this;this.workflowTriggerManager.listAdvanced(this.searchModel).then(function(t){n.triggers=t})},t.prototype.deleteTriggers=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.workflowTriggerManager["delete"](n).then(function(){t.getData()})})},t.prototype.createTrigger=function(){this.wmContainerFactory.createWindow(n.WorkflowWindows.addTrigger,"Add Trigger")},t.prototype.updateTrigger=function(t){this.wmContainerFactory.createWindow(n.WorkflowWindows.updateTrigger,t.name,t.id,t)},t.prototype.viewTrigger=function(t){this.wmContainerFactory.createWindow(n.WorkflowWindows.triggerView,t.name,t.id)},t.prototype.openPage=function(n){this.searchModel.pageNr=n},t}()}(AltaiWorkflow||(AltaiWorkflow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){var f=n.call(this,"api/workflowtrigger","WorkflowTrigger",i,t,r,u)||this;return f.workflowTriggerDataList=[],f.workflowConditionDataList=[],f.workflowTaskDataList=[],f.workflowTaskArgDataList=[],f}return __extends(t,n),t.prototype.listAdvanced=function(n){var t=this,i=t.$q.defer();return t.$http.post(config.backendUrl+"/api/workflowtrigger/list/",n).then(function(n){t.workflowTriggerDataList=angular.copy(n.data);i.resolve(t.workflowTriggerDataList)},function(n){i.reject(n);t.notificationFactory.error("Could not load the triggers!")}),i.promise},t.prototype.getActiveConditionsByTriggerId=function(n){var t=this,i=t.$q.defer();return t.$http.get(config.backendUrl+"/api/workflowcondition/active/"+n).then(function(n){t.workflowConditionDataList=angular.copy(n.data);i.resolve(t.workflowConditionDataList)},function(n){i.reject(n);t.notificationFactory.error("Could not load the conditions!")}),i.promise},t.prototype.getActiveTasksByTriggerId=function(n){var t=this,i=t.$q.defer();return t.$http.get(config.backendUrl+"/api/workflowtask/withargs/"+n).then(function(n){t.workflowTaskDataList=angular.copy(n.data);i.resolve(t.workflowTaskDataList)},function(n){i.reject(n);t.notificationFactory.error("Could not load the tasks!")}),i.promise},t.prototype.deleteCondition=function(n){var i=this.$q.defer(),t=this,r="api/workflowcondition/"+n.id;return this.$http["delete"](r).success(function(r){t.success("Succesfully deleted "+n.key);t.workflowConditionDataList.splice(t.workflowConditionDataList.indexOf(n),1);i.resolve(r)}).error(function(n,u){401==u?t.error("You are not authorized to perform this action."):t.error("Could not DELETE "+r);i.reject()}),i.promise},t.prototype.deleteTask=function(n){var i=this.$q.defer(),t=this,r="api/workflowtask/"+n.id;return this.$http["delete"](r).success(function(r){t.success("Succesfully deleted "+n.taskName);t.workflowTaskDataList.splice(t.workflowTaskDataList.indexOf(n),1);i.resolve(r)}).error(function(n,u){401==u?t.error("You are not authorized to perform this action."):t.error("Could not DELETE "+r);i.reject()}),i.promise},t.prototype.addCondition=function(n){var i=this.$q.defer(),t=this;return this.$http.post("api/workflowcondition/add",n).success(function(r){t.success("Succesfully created new "+n.Key);t.workflowConditionDataList.push(r);i.resolve(r)}).error(function(n,r){401==r?t.error("You are not authorized to perform this action."):t.error("Could not POST api/workflowcondition/");i.reject()}),i.promise},t.prototype.addTask=function(n){var i=this.$q.defer(),t=this;return this.$http.post("api/workflowtask/add",n).success(function(r){t.success("Succesfully created new "+n.TaskName);t.workflowTaskDataList.push(r);i.resolve(r)}).error(function(n,r){401==r?t.error("You are not authorized to perform this action."):t.error("Could not POST api/workflowtask/");i.reject()}),i.promise},t.prototype.getConditionById=function(n,t){void 0===t&&(t=!0);var i=this.$q.defer(),r=this,u="api/workflowcondition/"+n;return this.altaiHttp.get(u).then(function(n){i.resolve(n)},function(n,t){401==t?r.error("You are not authorized to perform this action."):r.error("Could not GET "+u);i.reject()}),i.promise},t.prototype.getTaskById=function(n,t){void 0===t&&(t=!0);var i=this.$q.defer(),r=this,u="api/workflowtask/"+n;return this.altaiHttp.get(u).then(function(n){i.resolve(n)},function(n,t){401==t?r.error("You are not authorized to perform this action."):r.error("Could not GET "+u);i.reject()}),i.promise},t.prototype.updateCondition=function(n){var i=this.$q.defer(),t=this,r="api/workflowcondition/"+n.id;return this.$http.put(r,n).success(function(){t.workflowConditionDataList.splice(t.workflowConditionDataList.indexOf(t.workflowConditionDataList.filter(function(t){return t.id==n.id})[0]),1);t.dataList=[];t.success("Succesfully updated Condition");i.resolve()}).error(function(n,u){401==u?t.error("You are not authorized to perform this action."):t.error("Could not UPDATE "+r);i.reject()}),i.promise},t.prototype.updateTask=function(n){var i=this.$q.defer(),t=this,r="api/workflowtask/"+n.id;return this.$http.put(r,n).success(function(){t.workflowTaskDataList.splice(t.workflowTaskDataList.indexOf(t.workflowTaskDataList.filter(function(t){return t.id==n.id})[0]),1);t.dataList=[];t.success("Succesfully updated Task");i.resolve()}).error(function(n,u){401==u?t.error("You are not authorized to perform this action."):t.error("Could not UPDATE "+r);i.reject()}),i.promise},t.prototype.getTaskArgsByTaskId=function(n){var t=this,i=t.$q.defer();return t.$http.get(config.backendUrl+"/api/workflowtaskArg/list/"+n).then(function(n){t.workflowTaskArgDataList=angular.copy(n.data);i.resolve(t.workflowTaskArgDataList)},function(n){i.reject(n);t.notificationFactory.error("Could not load the task args!")}),i.promise},t.prototype.getTaskArgById=function(n,t){void 0===t&&(t=!0);var i=this.$q.defer(),r=this,u="api/workflowtaskArg/"+n;return this.altaiHttp.get(u).then(function(n){i.resolve(n)},function(n,t){401==t?r.error("You are not authorized to perform this action."):r.error("Could not GET "+u);i.reject()}),i.promise},t.prototype.addTaskArg=function(n){var i=this.$q.defer(),t=this;return this.$http.post("api/workflowtaskArg/add",n).success(function(n){t.success("Succesfully created new task arg");t.workflowTaskArgDataList.push(n);i.resolve(n)}).error(function(n,r){401==r?t.error("You are not authorized to perform this action."):t.error("Could not POST api/workflowtaskArg");i.reject()}),i.promise},t.prototype.updateTaskArg=function(n){var i=this.$q.defer(),t=this,r="api/workflowtaskArg/"+n.id;return this.$http.put(r,n).success(function(){t.workflowTaskArgDataList.splice(t.workflowTaskArgDataList.indexOf(t.workflowTaskArgDataList.filter(function(t){return t.id==n.id})[0]),1);t.dataList=[];t.success("Succesfully updated Task arg");i.resolve()}).error(function(n,u){401==u?t.error("You are not authorized to perform this action."):t.error("Could not UPDATE "+r);i.reject()}),i.promise},t.prototype.deleteTaskArg=function(n){var i=this.$q.defer(),t=this,r="api/workflowtaskArg/"+n.id;return this.$http["delete"](r).success(function(r){t.success("Succesfully deleted "+n.key);t.workflowTaskArgDataList.splice(t.workflowTaskDataList.indexOf(n),1);i.resolve(r)}).error(function(n,u){401==u?t.error("You are not authorized to perform this action."):t.error("Could not DELETE "+r);i.reject()}),i.promise},t}(AltaiCore.AltaiDataService);n.WorkflowTriggerManager=t}(AltaiWorkflow||(AltaiWorkflow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"/api/workflowcondition","WorkflowCondition",i,t,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.ConditionService=t}(AltaiWorkflow||(AltaiWorkflow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){var f=n.call(this,"api/workflowcondition","WorkflowCondition",i,t,r,u)||this;return f.workflowConditionDataList=[],f}return __extends(t,n),t.prototype.getActiveConditionsByTriggerId=function(n){var t=this,i=t.$q.defer();return t.$http.get(config.backendUrl+"/api/workflowcondition/active/"+n).then(function(n){t.workflowConditionDataList=angular.copy(n.data);i.resolve(t.workflowConditionDataList)},function(n){i.reject(n);t.notificationFactory.error("Could not load the conditions!")}),i.promise},t}(AltaiCore.AltaiDataService);n.WorkflowConditionService=t}(AltaiWorkflow||(AltaiWorkflow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){var f=n.call(this,"api/workflowtask","workflowtask",i,t,r,u)||this;return f.workflowTaskDataList=[],f}return __extends(t,n),t.prototype.getActiveTasksByTriggerId=function(n){var t=this,i=t.$q.defer();return t.$http.get(config.backendUrl+"/api/workflowtask/withargs/"+n).then(function(n){t.workflowTaskDataList=angular.copy(n.data);i.resolve(t.workflowTaskDataList)},function(n){i.reject(n);t.notificationFactory.error("Could not load the tasks!")}),i.promise},t}(AltaiCore.AltaiDataService);n.WorkflowTaskService=t}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){var t=function(){function n(){}return n}();t.triggerList=new AltaiWindowManager.wmWindowType("triggerList","<altai-workflow-trigger-list><\/altai-workflow-trigger-list>",500,1100,1600);t.triggerView=new AltaiWindowManager.wmWindowType("triggerView","<altai-workflow-trigger-view trigger-id='vm.window.entityId'><\/altai-workflow-trigger-view>",250,960,1600);t.taskView=new AltaiWindowManager.wmWindowType("taskView","<altai-workflow-task-view task-id='vm.window.entityId'><\/altai-workflow-task-view>",250,960,1600);t.addTrigger=new AltaiWindowManager.wmWindowType("addTrigger","<add-altai-workflow-trigger><\/add-altai-workflow-trigger>",250,960,1600);t.addCondition=new AltaiWindowManager.wmWindowType("addCondition","<altai-workflow-add-condition trigger-id='vm.window.entityId'><\/altai-workflow-add-condition>",250,960,1600);t.updateCondition=new AltaiWindowManager.wmWindowType("updateCondition","<altai-workflow-condition-update condition='vm.window.entityProperties'><\/altai-workflow-condition-update>",250,960,1600);t.addTask=new AltaiWindowManager.wmWindowType("addTask","<altai-workflow-add-task trigger-id='vm.window.entityId'><\/altai-workflow-add-task>",250,960,1600);t.updateTask=new AltaiWindowManager.wmWindowType("updateTask","<altai-workflow-task-update task='vm.window.entityProperties'><\/altai-workflow-task-update>",250,960,1600);t.updateTrigger=new AltaiWindowManager.wmWindowType("updateTrigger","<update-altai-workflow-trigger trigger='vm.window.entityProperties'><\/update-altai-workflow-trigger>",250,960,1600);t.addTaskArg=new AltaiWindowManager.wmWindowType("addTaskArg","<altai-workflow-add-taskarg task-id='vm.window.entityId'><\/altai-workflow-add-taskarg>",250,960,1600);t.updateTaskArg=new AltaiWindowManager.wmWindowType("updateTaskarg","<altai-workflow-taskarg-update taskarg='vm.window.entityProperties'><\/altai-workflow-taskarg-update>",250,960,1600);n.WorkflowWindows=t;config.windows.push(t.triggerList);config.windows.push(t.triggerView);config.windows.push(t.addCondition);config.windows.push(t.updateCondition);config.windows.push(t.addTask);config.windows.push(t.updateTask);config.windows.push(t.taskView);config.windows.push(t.addTaskArg);config.windows.push(t.updateTaskArg)}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){var t=function(){function n(){this.pageNr=0;this.sorterAttr="Id";this.sorterDesc=!0}return n}();n.TriggerSearchModel=t}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){var t=function(){function n(){}return n}();n.Condition=t}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){var t=function(){function n(){}return n}();n.TaskArg=t}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){var t=function(){function n(){}return n}();n.Trigger=t}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){var t=function(){function n(){}return n}();n.Task=t}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){var t=angular.module("altai.workflow",[]);t.directive("altaiWorkflowTriggerView",n.AltaiWorkflowTriggerViewDirective);t.directive("addAltaiWorkflowTrigger",n.AddAltaiWorkflowTriggerDirective);t.directive("updateAltaiWorkflowTrigger",n.UpdateAltaiWorkflowTriggerDirective);t.directive("altaiWorkflowAddCondition",n.AddAltaiWorkFlowConditionDirective);t.directive("altaiWorkflowAddTask",n.AddAltaiWorkFlowTaskDirective);t.directive("altaiWorkflowConditionUpdate",n.UpdateAltaiWorkflowConditionDirective);t.directive("altaiWorkflowTaskUpdate",n.UpdateAltaiWorkflowTaskDirective);t.directive("altaiWorkflowTaskView",n.AltaiWorkflowTaskViewDirective);t.directive("altaiWorkflowAddTaskarg",n.AddAltaiWorkFlowTaskArgDirective);t.directive("altaiWorkflowTaskargUpdate",n.UpdateAltaiWorkflowTaskArgDirective);t.component("altaiWorkflowTriggerList",new n.AltaiWorkflowTriggerListComponent);t.service("workflowTriggerManager",n.WorkflowTriggerManager);t.service("ConditionService",n.ConditionService);t.service("workflowConditionService",n.WorkflowConditionService);t.service("workflowTaskService",n.WorkflowTaskService);t.config(function(t,i){t.add({name:"workflow",order:6,label:"workflow",securable:"workflow",icon:"fa fa-2 fa-caret-square-o-right"});t.add({parent:"workflow",name:"workflow.triggers",securable:"workflow",label:"triggers",icon:"mdi mdi-barley menuicon",state:"admin.workflowtrigger.list"});i.state("admin.workflowtrigger",{abstract:!0}).state("admin.workflowtrigger.list",{url:"/workflow/trigger/list",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.WorkflowTriggerListController}}})});config.modules.push(t.name)}(AltaiWorkflow||(AltaiWorkflow={}));!function(n){var t=function(){function n(){}return n}();t.businessProcessDefinitionList=new AltaiWindowManager.wmWindowType("businessProcessDefinitionList","<altai-business-process-definition-list languages='vm.languages'><\/altai-business-process-definition-list>",655,960,1600);t.businessProcessInstanceList=new AltaiWindowManager.wmWindowType("businessProcessInstanceList","<altai-business-process-instance-list languages='vm.languages'><\/altai-business-process-instance-list>",655,960,1600);t.businessProcessTaskList=new AltaiWindowManager.wmWindowType("businessProcessTaskList","<altai-business-process-task-list languages='vm.languages'><\/altai-business-process-task-list>",655,1440,1600);t.contentFlowConfigure=new AltaiWindowManager.wmWindowType("contentFlowConfigure","<altai-content-flow-configure languages='vm.languages'><\/altai-content-flow-configure>",655,960,1600);t.contentFlowContentItemUpdate=new AltaiWindowManager.wmWindowType("contentFlowContentItemUpdate","<altai-content-flow-content-item-update-parent content-flow-task='vm.window.entityId' languages='vm.languages'><\/altai-content-flow-content-item-update-parent>",655,960,1600);t.contentFlowContentItemCreate=new AltaiWindowManager.wmWindowType("contentFlowContentItemCreate","<altai-content-flow-content-item-create-parent content-type-id='vm.window.entityId' languages='vm.languages'><\/altai-content-flow-content-item-create-parent>",655,960,1600);t.contentFlowProcessDefinition=new AltaiWindowManager.wmWindowType("contentFlowProcessDefinition","<altai-content-flow-process-definition languages='vm.languages'><\/altai-content-flow-process-definition>",655,960,1600);t.contentFlowSingleProcessDefinition=new AltaiWindowManager.wmWindowType("contentFlowSingleProcessDefinition","<altai-content-flow-single-process-definition content-flow-process-definition-id='vm.window.entityId' languages='vm.languages'><\/altai-content-flow-single-process-definition>",655,1600,1600);t.contentFlowTaskDefinition=new AltaiWindowManager.wmWindowType("contentFlowTaskDefinition","<altai-content-flow-task-definition content-flow-task-definition-id='vm.window.entityId' languages='vm.languages'><\/altai-content-flow-task-definition>",655,1600,1600);t.contentFlowProcessVariableDefinitionCreate=new AltaiWindowManager.wmWindowType("contentFlowProcessVariableDefinitionCreate","<altai-content-flow-process-variable-definition-create content-flow-task-definition-id='vm.window.entityId' languages='vm.languages'><\/altai-content-flow-process-variable-definition-create>",655,960,1600);t.contentFlowProcessVariableDefinitionUpdate=new AltaiWindowManager.wmWindowType("contentFlowProcessVariableDefinitionUpdate","<altai-content-flow-process-variable-definition-update content-flow-process-variable-id='vm.window.entityId' languages='vm.languages'><\/altai-content-flow-process-variable-definition-update>",655,960,1600);t.contentFlowProcessStartVariableDefinitionCreate=new AltaiWindowManager.wmWindowType("contentFlowProcessStartVariableDefinitionCreate","<altai-content-flow-process-start-variable-definition-create content-flow-process-definition-id='vm.window.entityId' languages='vm.languages'><\/altai-content-flow-process-start-variable-definition-create>",655,960,1600);t.contentFlowProcessStartVariableDefinitionUpdate=new AltaiWindowManager.wmWindowType("contentFlowProcessStartVariableDefinitionUpdate","<altai-content-flow-process-start-variable-definition-update content-flow-process-start-variable-id='vm.window.entityId' languages='vm.languages'><\/altai-content-flow-process-start-variable-definition-update>",655,960,1600);t.contentFlowPublishCalendar=new AltaiWindowManager.wmWindowType("businessProcessTaskList","<altai-content-flow-publish-calendar languages='vm.languages'><\/altai-content-flow-publish-calendar>",655,1440,1600);n.BusinessProcessFlowWindows=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/businessprocessdefinition","BusinessProcessDefinition",i,t,r,u)||this}return __extends(t,n),t.prototype.getHumanTasksForProcessDefinition=function(n){var t=this,i=t.$q.defer();return t.$http.get(t.apiUrl+"/"+n+"/humantasks").then(function(n){i.resolve(n.data)},function(n){i.reject(n)}),i.promise},t}(AltaiCore.AltaiDataService);n.BusinessProcessDefinitionService=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/businessprocessinstance","BusinessProcessInstance",i,t,r,u)||this}return __extends(t,n),t.prototype.updateVariables=function(n,t){var i=this,r=i.$q.defer();return i.$http.put(i.apiUrl+"/"+n+"/variables",t).then(function(n){r.resolve(n.data)},function(n){r.reject(n)}),r.promise},t}(AltaiCore.AltaiDataService);n.BusinessProcessInstanceService=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u,f){var e=n.call(this,"api/contentflowactivetaskinstance","Content Flow Active Task Instance",i,t,r,u)||this;return e.dataListForActiveUser=[],e.dataListForCandidateGroups=[],e.dataListForProcessInstance=[],e.contentFlowActiveProcessInstanceService=f,e}return __extends(t,n),t.prototype.resetData=function(){var n=this;n.dataListForActiveUser.length=0;n.dataListForCandidateGroups.length=0;n.contentFlowActiveProcessInstanceService.resetData();n.getActiveTasksForCurrentUserAsAssignee();n.getClaimableTasksForCurrentUserAsPartOfCandidateGroups()},t.prototype.updateTask=function(n){var t=this,i=t.$q.defer();return t.$http.put(t.apiUrl,n).then(function(n){i.resolve(n.data)},function(n){i.reject(n)}),i.promise},t.prototype.getActiveTasksForCurrentUserAsAssignee=function(){var n=this,t=n.$q.defer();return n.dataListForActiveUser.length>0&&n.enableCaching?t.resolve(n.dataListForActiveUser):t.resolve([]),t.promise},t.prototype.getClaimableTasksForCurrentUserAsPartOfCandidateGroups=function(){var n=this,t=n.$q.defer();return n.dataListForCandidateGroups.length>0&&n.enableCaching?t.resolve(n.dataListForCandidateGroups):n.altaiHttp.get(n.apiUrl+"/activeuseraspartofcandidategroups").then(function(i){angular.copy(i,n.dataListForCandidateGroups);t.resolve(n.dataListForCandidateGroups)},function(n){t.reject(n)}),t.promise},t.prototype.getActiveTasksForProcessInstance=function(n){var t=this,i=t.$q.defer();return t.$http.get(t.apiUrl+"/"+n).then(function(n){i.resolve(n.data)},function(n){i.reject(n)}),i.promise},t.prototype.executeTaskAction=function(n,t){var r=this,i=r.$q.defer();return r.$http.post(config.backendUrl+"/api/businessprocesstask/"+n.processTasksResponseData.id,t).then(function(n){i.resolve(n.data)},function(n){i.reject(n)}),i.promise},t.prototype.claimTaskForCurrentUser=function(n){var t=this,i=t.$q.defer();return t.$http.get(config.backendUrl+"/api/businessprocesstask/"+n.processTasksResponseData.id+"/claim").then(function(n){t.resetData();i.resolve(n.data)},function(n){i.reject(n)}),i.promise},t.prototype.unclaimTaskForCurrentUser=function(n){var t=this,i=t.$q.defer();return t.$http.get(config.backendUrl+"/api/businessprocesstask/"+n.processTasksResponseData.id+"/unclaim").then(function(n){t.resetData();i.resolve(n.data)},function(n){i.reject(n)}),i.promise},t.prototype.DeleteTaskIdentityLink=function(n,t,i,r){var u=this,f=u.$q.defer();return u.$http["delete"](u.apiUrl+"/"+n+"/identitylinks/"+t+"/"+i+"/"+r).then(function(n){f.resolve(n.data)},function(n){f.reject(n)}),f.promise},t.prototype.DeleteAllTaskIdentityLinks=function(n){var t=this,i=t.$q.defer();return t.$http["delete"](t.apiUrl+"/"+n+"/identitylinks").then(function(n){i.resolve(n.data)},function(n){i.reject(n)}),i.promise},t.prototype.CreateTaskIdentityLink=function(n,t){var i=this,r=i.$q.defer();return i.$http.post(i.apiUrl+"/"+n+"/identitylinks",t).then(function(n){r.resolve(n.data)},function(n){r.reject(n)}),r.promise},t}(AltaiCore.AltaiDataService);n.BusinessProcessTaskService=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(t){t.createWindow(n.BusinessProcessFlowWindows.businessProcessDefinitionList,"Business Process Definitions","")}n.BusinessProcessDefinitionListController=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(t){t.createWindow(n.BusinessProcessFlowWindows.businessProcessInstanceList,"Business Process Instances","")}n.BusinessProcessInstanceListController=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(t){t.createWindow(n.BusinessProcessFlowWindows.businessProcessTaskList,"Business Process Tasks","")}n.BusinessProcessTaskListController=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/businessprocessdefinitionList",controller:i,controllerAs:"vm",bindToController:!0}}n.AltaiBusinessProcessDefinitionListDirective=t;var i=function(){function n(n,t,i,r){this.pageNr=0;this.sorterAttr="Id";this.sorterDesc=!0;this.businessProcessDefinitionService=n;this.businessProcessInstanceService=t;this.wmContainerFactory=i;this.altaiConfirmationService=r;this.getData()}return n.prototype.setSorting=function(n){this.pageNr=0;this.sorterDesc=this.sorterAttr==n?!this.sorterDesc:!1;this.sorterAttr=n;this.getData()},n.prototype.getData=function(){var n=this;this.businessProcessDefinitionService.list().then(function(t){n.definitions=t.data})},n.prototype.createInstance=function(n){var t={processDefinitionId:n.id};this.businessProcessInstanceService.add(t).then(function(n){console.log("created instance "+n.id)})},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/businessprocessinstanceList",controller:i,controllerAs:"vm",bindToController:!0}}n.AltaiBusinessProcessInstanceListDirective=t;var i=function(){function n(n,t,i){this.pageNr=0;this.sorterAttr="Id";this.sorterDesc=!0;this.businessProcessInstanceService=n;this.wmContainerFactory=t;this.altaiConfirmationService=i;this.getData()}return n.prototype.setSorting=function(n){this.pageNr=0;this.sorterDesc=this.sorterAttr==n?!this.sorterDesc:!1;this.sorterAttr=n;this.getData()},n.prototype.getData=function(){var n=this;this.businessProcessInstanceService.list().then(function(t){n.instances=t.data})},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{languages:"="},templateUrl:"/api/template/Admin/businessprocesstaskList",controller:i,controllerAs:"vm",bindToController:!0}}n.AltaiBusinessProcessTaskListDirective=t;var i=function(){function t(n,t,i,r,u,f,e){this.pageNr=0;this.sorterAttr="Id";this.sorterDesc=!0;this.businessProcessTaskService=u;this.wmContainerFactory=f;this.altaiConfirmationService=e;this.userAdminService=i;this.groupAdminFactory=t;this.businessProcessInstanceService=r;this.contentFlowActiveProcessInstanceService=n;this.getData()}return t.prototype.openTask=function(t){var i=this;i.wmContainerFactory.createWindow(n.BusinessProcessFlowWindows.contentFlowContentItemUpdate,t.contentFlowTaskDefinition.label,t)},t.prototype.claimTask=function(n){var t=this;t.businessProcessTaskService.claimTaskForCurrentUser(n).then(function(){})},t.prototype.unclaimTask=function(n){var t=this;t.businessProcessTaskService.unclaimTaskForCurrentUser(n).then(function(){})},t.prototype.updateAssignee=function(n){var t=this,i=[],r;i.push({name:t.purifyProcessVarString(n.contentFlowTaskDefinition.assignee),value:n.processTasksResponseData.assignee});t.businessProcessInstanceService.updateVariables(n.processInstanceResponseData.id,i).then(function(){});r={taskId:n.processTasksResponseData.id,data:{assignee:n.processTasksResponseData.assignee}};t.businessProcessTaskService.updateTask(r).then(function(){})},t.prototype.updateCandidateGroups=function(n){var t=this,r=[],i;for(r.push({name:t.purifyProcessVarString(n.contentFlowTaskDefinition.candidateGroups),value:t.createArrayStringFromArray(n.processTasksResponseData.candidateGroupsAsList)}),t.businessProcessInstanceService.updateVariables(n.processInstanceResponseData.id,r).then(function(){}),i=0;i<n.processTasksResponseData.candidateGroupsAsList.length;i++)n.processTasksResponseData.candidateGroupsAsList[i],t.businessProcessTaskService.DeleteAllTaskIdentityLinks(n.processTasksResponseData.id).then(function(){for(var r,i=0;i<n.processTasksResponseData.candidateGroupsAsListInternal.length;i++)r={group:n.processTasksResponseData.candidateGroupsAsListInternal[i],type:"candidate"},t.businessProcessTaskService.CreateTaskIdentityLink(n.processTasksResponseData.id,r).then(function(){})})},t.prototype.createArrayStringFromArray=function(n){for(var t='["',i=0;i<n.length;i++)t+=n[i].group+'","';return""!=t&&(t=t.substring(0,t.length-2)),t+"]"},t.prototype.purifyProcessVarString=function(n){return n.substring(2,n.length-1)},t.prototype.setSorting=function(n){this.pageNr=0;this.sorterDesc=this.sorterAttr==n?!this.sorterDesc:!1;this.sorterAttr=n;this.getData()},t.prototype.updateAssigneeAsString=function(n){var i=this,r,t;for(n.processTasksResponseData.assigneeAsString="",r=!1,t=0;t<i.users.length&&!r;t++)i.users[t].id==n.processTasksResponseData.assignee&&(r=!0,n.processTasksResponseData.assigneeAsString=i.users[t].fullName)},t.prototype.createCandidateGroupsAsListInternal=function(n){n.processTasksResponseData.candidateGroupsAsListInternal=[];for(var t=0;t<n.processTasksResponseData.candidateGroupsAsList.length;t++)n.processTasksResponseData.candidateGroupsAsListInternal.push(n.processTasksResponseData.candidateGroupsAsList[t].group)},t.prototype.updateCandidateGroupsAsString=function(n){var r=this,t;for(n.processTasksResponseData.candidateGroupsAsString="",t=0;t<n.processTasksResponseData.candidateGroupsAsList.length;t++)for(var f=n.processTasksResponseData.candidateGroupsAsList[t].group,u=!1,i=0;i<r.groups.length&&!u;i++)r.groups[i].id==f&&(u=!0,n.processTasksResponseData.candidateGroupsAsString+=r.groups[i].name+", ");""!=n.processTasksResponseData.candidateGroupsAsString&&(n.processTasksResponseData.candidateGroupsAsString=n.processTasksResponseData.candidateGroupsAsString.substring(0,n.processTasksResponseData.candidateGroupsAsString.length-2))},t.prototype.getData=function(){var n=this;n.contentFlowActiveProcessInstanceService.getActiveProcessesForCurrentUserAsInvolvedUser().then(function(t){n.processes=t});n.businessProcessTaskService.getActiveTasksForCurrentUserAsAssignee().then(function(t){n.tasks=t;for(var i=0;i<n.tasks.length;i++)n.createCandidateGroupsAsListInternal(n.tasks[i]);n.userAdminService.list().then(function(t){n.users=t;for(var i=0;i<n.users.length;i++)n.users[i].fullName=n.users[i].firstName+" "+n.users[i].lastName;n.businessProcessTaskService.getClaimableTasksForCurrentUserAsPartOfCandidateGroups().then(function(t){n.claimabletasks=t;n.groupAdminFactory.list().then(function(t){var i;for(n.groups=t,i=0;i<n.tasks.length;i++)n.updateAssigneeAsString(n.tasks[i]);for(i=0;i<n.tasks.length;i++)n.updateCandidateGroupsAsString(n.tasks[i]);for(i=0;i<n.claimabletasks.length;i++)n.updateCandidateGroupsAsString(n.claimabletasks[i])})})})})},t}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{languages:"="},templateUrl:"/api/template/Admin/taskCenter",controller:i,controllerAs:"vm",bindToController:!0}}n.AltaiTaskCenterDirective=t;var i=function(){function t(n,t,i,r,u,f){this.showTaskCenterList=!1;this.pageNr=0;this.sorterAttr="Id";this.sorterDesc=!0;this.businessProcessTaskService=r;this.wmContainerFactory=u;this.altaiConfirmationService=f;this.userAdminService=t;this.groupAdminFactory=n;this.businessProcessInstanceService=i;this.getData()}return t.prototype.openMenu=function(n,t){n(t)},t.prototype.openTaskWindow=function(){var t=this;t.wmContainerFactory.createWindow(n.BusinessProcessFlowWindows.businessProcessTaskList,"Business Process Tasks","")},t.prototype.toggleTaskCenterListView=function(){var n=this;n.showTaskCenterList=!n.showTaskCenterList},t.prototype.setTaskCenterListView=function(n){var t=this;t.showTaskCenterList=n},t.prototype.openTask=function(t){var i=this;i.wmContainerFactory.createWindow(n.BusinessProcessFlowWindows.contentFlowContentItemUpdate,t.contentFlowTaskDefinition.label,t)},t.prototype.claimTask=function(n){var t=this;t.businessProcessTaskService.claimTaskForCurrentUser(n).then(function(){})},t.prototype.unclaimTask=function(n){var t=this;t.businessProcessTaskService.unclaimTaskForCurrentUser(n).then(function(){})},t.prototype.updateAssignee=function(n){var t=this,i=[],r;i.push({name:t.purifyProcessVarString(n.contentFlowTaskDefinition.assignee),value:n.processTasksResponseData.assignee});t.businessProcessInstanceService.updateVariables(n.processInstanceResponseData.id,i).then(function(){});r={taskId:n.processTasksResponseData.id,data:{assignee:n.processTasksResponseData.assignee}};t.businessProcessTaskService.updateTask(r).then(function(){})},t.prototype.updateCandidateGroups=function(n){var t=this,r=[],i;for(r.push({name:t.purifyProcessVarString(n.contentFlowTaskDefinition.candidateGroups),value:t.createArrayStringFromArray(n.processTasksResponseData.candidateGroupsAsList)}),t.businessProcessInstanceService.updateVariables(n.processInstanceResponseData.id,r).then(function(){}),i=0;i<n.processTasksResponseData.candidateGroupsAsList.length;i++)n.processTasksResponseData.candidateGroupsAsList[i],t.businessProcessTaskService.DeleteAllTaskIdentityLinks(n.processTasksResponseData.id).then(function(){for(var r,i=0;i<n.processTasksResponseData.candidateGroupsAsListInternal.length;i++)r={group:n.processTasksResponseData.candidateGroupsAsListInternal[i],type:"candidate"},t.businessProcessTaskService.CreateTaskIdentityLink(n.processTasksResponseData.id,r).then(function(){})})},t.prototype.createArrayStringFromArray=function(n){for(var t='["',i=0;i<n.length;i++)t+=n[i].group+'","';return""!=t&&(t=t.substring(0,t.length-2)),t+"]"},t.prototype.purifyProcessVarString=function(n){return n.substring(2,n.length-1)},t.prototype.setSorting=function(n){this.pageNr=0;this.sorterDesc=this.sorterAttr==n?!this.sorterDesc:!1;this.sorterAttr=n;this.getData()},t.prototype.updateAssigneeAsString=function(n){var i=this,r,t;for(n.processTasksResponseData.assigneeAsString="",r=!1,t=0;t<i.users.length&&!r;t++)i.users[t].id==n.processTasksResponseData.assignee&&(r=!0,n.processTasksResponseData.assigneeAsString=i.users[t].fullName)},t.prototype.createCandidateGroupsAsListInternal=function(n){n.processTasksResponseData.candidateGroupsAsListInternal=[];for(var t=0;t<n.processTasksResponseData.candidateGroupsAsList.length;t++)n.processTasksResponseData.candidateGroupsAsListInternal.push(n.processTasksResponseData.candidateGroupsAsList[t].group)},t.prototype.updateCandidateGroupsAsString=function(n){var r=this,t;for(n.processTasksResponseData.candidateGroupsAsString="",t=0;t<n.processTasksResponseData.candidateGroupsAsList.length;t++)for(var f=n.processTasksResponseData.candidateGroupsAsList[t].group,u=!1,i=0;i<r.groups.length&&!u;i++)r.groups[i].id==f&&(u=!0,n.processTasksResponseData.candidateGroupsAsString+=r.groups[i].name+", ");""!=n.processTasksResponseData.candidateGroupsAsString&&(n.processTasksResponseData.candidateGroupsAsString=n.processTasksResponseData.candidateGroupsAsString.substring(0,n.processTasksResponseData.candidateGroupsAsString.length-2))},t.prototype.getData=function(){var n=this;n.businessProcessTaskService.getActiveTasksForCurrentUserAsAssignee().then(function(t){n.tasks=t})},t}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(t){t.createWindow(n.BusinessProcessFlowWindows.contentFlowProcessDefinition,"Content Flow Process Definitions","")}n.ContentFlowProcessDefinitionController=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(t){t.createWindow(n.BusinessProcessFlowWindows.contentFlowPublishCalendar,"Publication Calendar","")}n.ContentFlowPublishCalendar=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(t){t.createWindow(n.BusinessProcessFlowWindows.contentFlowConfigure,"Configure Content Flows","")}n.ContentFlowConfigureController=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(t){t.createWindow(n.BusinessProcessFlowWindows.contentFlowContentItemCreate,"Update Content Item","")}n.ContentFlowContentItemCreateController=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(t){t.createWindow(n.BusinessProcessFlowWindows.contentFlowContentItemUpdate,"Update Content Item","")}n.ContentFlowContentItemUpdateController=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){var i=function(){function n(){this.controller=t;this.bindings={contentFlowComment:"=",languages:"="};this.templateUrl="/api/template/Admin/ContentFlowComment"}return n}(),t;n.AltaiContentFlowCommentComponent=i;t=function(){function n(n,t,i,r,u,f,e,o,s,h){this.contentItemService=r;this.$q=e;this.altaiConfirmationService=o;this.$rootScope=s;this.wmContainerFactory=h;this.commentEdit=!1;var c=this;c.$scope=f;this.contentTypeBusinessProcessLinkService=u;this.businessProcessDefinitionService=n;this.businessProcessInstanceService=i;this.businessProcessTaskService=t;this.getData();f.$on("commentUpdated",function(){c.setEditComment(!1)});f.$on("commentUpdateCancelled",function(){c.setEditComment(!1)})}return n.prototype.toggleEditComment=function(){var n=this;n.commentEdit=!n.commentEdit},n.prototype.setEditComment=function(n){var t=this;t.commentEdit=n},n.prototype.getData=function(){},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){var i=function(){function n(){this.controller=t;this.bindings={contentTypeId:"=",languages:"="};this.templateUrl="/api/template/Admin/ContentFlowSidebarCreate"}return n}(),t;n.AltaiContentFlowSidebarCreateComponent=i;t=function(){function n(n,t,i,r,u,f,e,o,s,h,c){this.contentItemService=u;this.$scope=e;this.$q=o;this.altaiConfirmationService=s;this.$rootScope=h;this.wmContainerFactory=c;this.publishImmediately=!1;this.doNotSpecifyUnpublishDate=!0;this.commentCreation=!1;var l=this;this.moment=t;this.contentTypeBusinessProcessLinkService=f;this.businessProcessDefinitionService=i;this.businessProcessInstanceService=r;this.getData();this.publishDate=t().add(1,"days");this.unpublishDate=t().add(3,"days");e.$on("provideProcessCreationModel",function(){l.provideProcessCreationModel()})}return n.prototype.updateDate=function(){var n=this;"string"==typeof n.publishDate&&(n.publishDate=n.moment(n.publishDate,"DD-MM-YYYY HH:mm"));"string"==typeof n.unpublishDate&&(n.unpublishDate=n.moment(n.unpublishDate,"DD-MM-YYYY HH:mm"))},n.prototype.toggleCommentCreation=function(){var n=this;n.commentCreation=!n.commentCreation;n.$scope.$emit("commentCreationChanged",n.commentCreation)},n.prototype.setCommentCreation=function(n){var t=this;t.commentCreation=n;t.$scope.$emit("commentCreationChanged",t.commentCreation)},n.prototype.provideProcessCreationModel=function(){var i;console.log("starting flow");for(var n=this,r=[],t=0;t<n.selectedBusinessProcessDefinition.contentFlowProcessStartVariableDefinitions.length;t++)r.push({name:n.selectedBusinessProcessDefinition.contentFlowProcessStartVariableDefinitions[t].key,value:n.selectedBusinessProcessDefinition.contentFlowProcessStartVariableDefinitions[t].value});return"string"==typeof n.publishDate&&(n.publishDate=n.moment(n.publishDate,"DD-MM-YYYY HH:mm")),"string"==typeof n.unpublishDate&&(n.unpublishDate=n.moment(n.unpublishDate,"DD-MM-YYYY HH:mm")),i={processDefinitionId:n.selectedBusinessProcessDefinition.activitiId,businessKey:"Altai",variables:r,publishDate:n.publishDate.toISOString(),unpublishDate:n.unpublishDate.toISOString(),publishImmediately:n.publishImmediately},n.$scope.$emit("processCreationModelProvided",i),i},n.prototype.getData=function(){var n=this,t={ContentTypeId:n.contentTypeId};this.contentTypeBusinessProcessLinkService.search(t).then(function(t){n.contenttypebusinessprocessdefinitionlinks=t;void 0!=n.contenttypebusinessprocessdefinitionlinks&&(n.selectedBusinessProcessDefinition=n.contenttypebusinessprocessdefinitionlinks[0].contentFlowProcessDefinition,n.selectedVariables=n.contenttypebusinessprocessdefinitionlinks[0].contentFlowProcessDefinition.contentFlowProcessStartVariableDefinitions);n.checkDefaultValue();n.assignDefaultValueToValue();n.checkVisibility();n.$scope.$watch("$ctrl.selectedBusinessProcessDefinition",function(){n.checkVisibility();n.checkRequiredNess()},!0)})},n.prototype.checkVisibility=function(){for(var r,t,n=this,i=0;i<n.selectedBusinessProcessDefinition.contentFlowProcessStartVariableDefinitions.length;i++)r=n.selectedBusinessProcessDefinition.contentFlowProcessStartVariableDefinitions[i],t=n.$scope.$new(),t.variable=r,t.checkProcessVar=n.checkCurrentTaskProcessVar,t.selectedBusinessProcessDefinition=n.selectedBusinessProcessDefinition,r.visible=t.$eval(r.variableVisibilityDependencyExpression),t.$destroy()},n.prototype.checkRequiredNess=function(){for(var r,t,n=this,i=0;i<n.selectedBusinessProcessDefinition.contentFlowProcessStartVariableDefinitions.length;i++)r=n.selectedBusinessProcessDefinition.contentFlowProcessStartVariableDefinitions[i],t=n.$scope.$new(),t.variable=r,t.checkProcessVar=n.checkCurrentTaskProcessVar,t.selectedBusinessProcessDefinition=n.selectedBusinessProcessDefinition,r.required=t.$eval(r.variableRequirednessDependencyExpression),t.$destroy()},n.prototype.checkDefaultValue=function(){for(var n,i,t=this,r=0;r<t.selectedBusinessProcessDefinition.contentFlowProcessStartVariableDefinitions.length;r++)n=t.selectedBusinessProcessDefinition.contentFlowProcessStartVariableDefinitions[r],i=t.$scope.$new(),i.variable=n,i.selectedBusinessProcessDefinition=t.selectedBusinessProcessDefinition,void 0!=n.defaultValue&&'"getValue'==n.defaultValue.substring(0,9)&&(n.defaultValue=i.$eval(n.defaultValue)),i.$destroy()},n.prototype.assignDefaultValueToValue=function(){for(var i,t=this,n=0;n<t.selectedBusinessProcessDefinition.contentFlowProcessStartVariableDefinitions.length;n++)i=t.selectedBusinessProcessDefinition.contentFlowProcessStartVariableDefinitions[n],i.value=i.defaultValue},n.prototype.checkCurrentTaskProcessVar=function(n,t,i){for(var f,u=this,r=0;r<u.selectedBusinessProcessDefinition.contentFlowProcessStartVariableDefinitions.length;r++)if(f=u.selectedBusinessProcessDefinition.contentFlowProcessStartVariableDefinitions[r],f.key===n)return f[t].toString==i},n.prototype.processUpdated=function(){},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){var i=function(){function n(){this.controller=t;this.bindings={contentFlowTask:"=",languages:"="};this.templateUrl="/api/template/Admin/ContentFlowSidebarUpdate"}return n}(),t;n.AltaiContentFlowSidebarUpdateComponent=i;t=function(){function n(n,t,i,r,u,f,e,o,s,h,c){this.contentItemService=u;this.$q=o;this.altaiConfirmationService=s;this.$rootScope=h;this.wmContainerFactory=c;var l=this;l.$scope=e;this.contentTypeBusinessProcessLinkService=f;this.businessProcessDefinitionService=i;this.businessProcessInstanceService=r;this.businessProcessTaskService=t;this.contentFlowHistoricTaskInstanceService=n;this.getData()}return n.prototype.getData=function(){var n=this;n.businessProcessTaskService.getActiveTasksForProcessInstance(n.contentFlowTask.processTasksResponseData.processInstanceId).then(function(t){for(var i=t,r=0;r<i.length;r++)i[r].processTasksResponseData.id==n.contentFlowTask.processTasksResponseData.id&&i.splice(r,1);n.otherActiveTasks=i});n.contentFlowHistoricTaskInstanceService.getHistoricTasksForProcessInstance(n.contentFlowTask.processTasksResponseData.processInstanceId).then(function(t){for(var i=t,r=0;r<i.length;r++)i[r].processTasksResponseData.id==n.contentFlowTask.processTasksResponseData.id&&i.splice(r,1);n.historicTasks=i})},n.prototype.processUpdated=function(){var n=this;console.log("selectedBusinessProcessDefinition "+n.selectedBusinessProcessDefinition.id)},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){var i=function(){function n(){this.controller=t;this.bindings={contentFlowTask:"=",languages:"="};this.templateUrl="/api/template/Admin/ContentFlowActiveTaskCard"}return n}(),t;n.AltaiContentFlowActiveTaskCardComponent=i;t=function(){function n(n,t,i,r,u,f,e,o,s,h){this.contentItemService=r;this.$q=e;this.altaiConfirmationService=o;this.$rootScope=s;this.wmContainerFactory=h;this.commentCreation=!1;this.commentView=!1;var c=this;c.$scope=f;this.contentTypeBusinessProcessLinkService=u;this.businessProcessDefinitionService=n;this.businessProcessInstanceService=i;this.businessProcessTaskService=t;this.getData();this.checkDefaultValue();this.assignDefaultValueToValue();this.checkVisibility();f.$on("finishtask",function(){c.provideTaskFinishModel()});f.$on("commentCreated",function(n,t){c.contentFlowTask.comments.push(t)});f.$on("commentCreationCancelled",function(){c.setCommentCreation(!1)});f.$watch("$ctrl.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet",function(){c.checkVisibility();c.checkRequiredNess()},!0)}return n.prototype.toggleCommentCreation=function(){var n=this;n.commentCreation=!n.commentCreation},n.prototype.toggleCommentView=function(){var n=this;n.commentView=!n.commentView},n.prototype.setCommentCreation=function(n){var t=this;t.commentCreation=n},n.prototype.setCommentView=function(n){var t=this;t.commentView=n},n.prototype.provideTaskFinishModel=function(){var r;console.log("providing task finish model");for(var n=this,i=[],t=0;t<n.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet.length;t++)i.push({name:n.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet[t].key,value:n.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet[t].value});r={taskId:n.contentFlowTask.processTasksResponseData.id,action:"complete",variables:i};n.$scope.$emit("taskFinishModelProvided",r)},n.prototype.checkVisibility=function(){for(var r,t,n=this,i=0;i<n.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet.length;i++)r=n.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet[i],t=n.$scope.$new(),t.variable=r,t.checkProcessInstanceProcessVar=n.checkProcessInstanceProcessVar,t.checkCurrentTaskProcessVar=n.checkCurrentTaskProcessVar,t.contentFlowTask=n.contentFlowTask,r.visible=t.$eval(r.variableVisibilityDependencyExpression),t.$destroy()},n.prototype.checkRequiredNess=function(){for(var r,t,n=this,i=0;i<n.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet.length;i++)r=n.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet[i],t=n.$scope.$new(),t.variable=r,t.checkProcessInstanceProcessVar=n.checkProcessInstanceProcessVar,t.checkCurrentTaskProcessVar=n.checkCurrentTaskProcessVar,t.contentFlowTask=n.contentFlowTask,r.required=t.$eval(r.variableRequirednessDependencyExpression),t.$destroy()},n.prototype.checkDefaultValue=function(){for(var t,i,n=this,r=0;r<n.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet.length;r++)t=n.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet[r],i=n.$scope.$new(),i.variable=t,i.contentFlowTask=n.contentFlowTask,i.getValueFromProcessVariable=n.getValueFromProcessVariable,void 0!=t.defaultValue&&'"getValue'==t.defaultValue.substring(0,9)&&(t.defaultValue=i.$eval(t.defaultValue)),i.$destroy()},n.prototype.assignDefaultValueToValue=function(){for(var i,t=this,n=0;n<t.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet.length;n++)i=t.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet[n],i.value=i.defaultValue},n.prototype.getData=function(){},n.prototype.getValueFromProcessVariable=function(n){for(var r,i=this,t=0;t<i.contentFlowTask.processInstanceResponseData.variables.length;t++)if(r=i.contentFlowTask.processInstanceResponseData.variables[t],r.name===n)return r.value},n.prototype.checkProcessInstanceProcessVar=function(n,t){for(var u,r=this,i=0;i<r.contentFlowTask.processInstanceResponseData.variables.length;i++)if(u=r.contentFlowTask.processInstanceResponseData.variables[i],u.name===n)return u.value==t},n.prototype.checkCurrentTaskProcessVar=function(n,t,i){for(var f,u=this,r=0;r<u.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet.length;r++)if(f=u.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet[r],f.key===n)return f[t].toString()==i},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){var i=function(){function n(){this.controller=t;this.bindings={contentFlowTask:"=",languages:"="};this.templateUrl="/api/template/Admin/ContentFlowActiveTaskCardDisabled"}return n}(),t;n.AltaiContentFlowActiveTaskCardDisabledComponent=i;t=function(){function n(n,t,i,r,u,f,e,o,s,h){this.contentItemService=r;this.$q=e;this.altaiConfirmationService=o;this.$rootScope=s;this.wmContainerFactory=h;this.commentCreation=!1;this.commentView=!1;var c=this;c.$scope=f;this.contentTypeBusinessProcessLinkService=u;this.businessProcessDefinitionService=n;this.businessProcessInstanceService=i;this.businessProcessTaskService=t;this.getData();this.checkDefaultValue();this.assignDefaultValueToValue();this.checkVisibility();f.$on("finishtask",function(n,t){c.finishtask(t)});f.$on("commentCreated",function(n,t){c.contentFlowTask.comments.push(t)});f.$on("commentCreationCancelled",function(){c.setCommentCreation(!1)});f.$watch("$ctrl.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet",function(){c.checkVisibility();c.checkRequiredNess()},!0)}return n.prototype.toggleCommentCreation=function(){var n=this;n.commentCreation=!n.commentCreation},n.prototype.toggleCommentView=function(){var n=this;n.commentView=!n.commentView},n.prototype.setCommentCreation=function(n){var t=this;t.commentCreation=n},n.prototype.setCommentView=function(n){var t=this;t.commentView=n},n.prototype.finishtask=function(){var i,n,r,f;console.log("finishing task");for(var t=this,u=[],i=0;i<t.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet.length;i++)u.push({name:t.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet[i].key,value:t.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet[i].value});for(i=0;i<t.contentFlowTask.contentItem.contentItemAttributes.length;i++)if(n=t.contentFlowTask.contentItem.contentItemAttributes[i],u.push({name:"itemvar_"+n.contentTypeAttribute.attribute.name,value:n.value}),void 0!=n.translatable&&void 0!=n.translatable.translatableValues)for(r=0;r<n.translatable.translatableValues.length;r++)u.push({name:"itemvar_"+n.contentTypeAttribute.attribute.name+"."+n.translatable.translatableValues[r].languageCode,value:n.translatable.translatableValues[r].value});f={action:"complete",variables:u};t.businessProcessTaskService.executeTaskAction(t.contentFlowTask,f).then(function(n){t.$scope.$emit("taskfinished",n)})},n.prototype.checkVisibility=function(){for(var r,t,n=this,i=0;i<n.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet.length;i++)r=n.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet[i],t=n.$scope.$new(),t.variable=r,t.checkProcessInstanceProcessVar=n.checkProcessInstanceProcessVar,t.checkCurrentTaskProcessVar=n.checkCurrentTaskProcessVar,t.contentFlowTask=n.contentFlowTask,r.visible=t.$eval(r.variableVisibilityDependencyExpression),t.$destroy()},n.prototype.checkRequiredNess=function(){for(var r,t,n=this,i=0;i<n.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet.length;i++)r=n.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet[i],t=n.$scope.$new(),t.variable=r,t.checkProcessInstanceProcessVar=n.checkProcessInstanceProcessVar,t.checkCurrentTaskProcessVar=n.checkCurrentTaskProcessVar,t.contentFlowTask=n.contentFlowTask,r.required=t.$eval(r.variableRequirednessDependencyExpression),t.$destroy()},n.prototype.checkDefaultValue=function(){for(var i,t,n=this,r=0;r<n.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet.length;r++)i=n.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet[r],t=n.$scope.$new(),t.variable=i,t.contentFlowTask=n.contentFlowTask,t.getValueFromProcessVariable=n.getValueFromProcessVariable,'"getValue'==i.defaultValue.substring(0,9)&&(i.defaultValue=t.$eval(i.defaultValue)),t.$destroy()},n.prototype.assignDefaultValueToValue=function(){for(var i,t=this,n=0;n<t.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet.length;n++)i=t.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet[n],i.value=i.defaultValue},n.prototype.getData=function(){},n.prototype.getValueFromProcessVariable=function(n){for(var r,i=this,t=0;t<i.contentFlowTask.processInstanceResponseData.variables.length;t++)if(r=i.contentFlowTask.processInstanceResponseData.variables[t],r.name===n)return r.value},n.prototype.checkProcessInstanceProcessVar=function(n,t){for(var u,r=this,i=0;i<r.contentFlowTask.processInstanceResponseData.variables.length;i++)if(u=r.contentFlowTask.processInstanceResponseData.variables[i],u.name===n)return u.value==t},n.prototype.checkCurrentTaskProcessVar=function(n,t,i){for(var f,u=this,r=0;r<u.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet.length;r++)if(f=u.contentFlowTask.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet[r],f.key===n)return f[t].toString()==i},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){var i=function(){function n(){this.controller=t;this.bindings={contentFlowTask:"=",languages:"="};this.templateUrl="/api/template/Admin/ContentFlowHistoricTaskCard"}return n}(),t;n.AltaiContentFlowHistoricTaskCardComponent=i;t=function(){function n(n,t,i,r,u,f,e,o,s,h){this.contentItemService=r;this.$q=e;this.altaiConfirmationService=o;this.$rootScope=s;this.wmContainerFactory=h;this.commentCreation=!1;this.commentView=!0;var c=this;c.$scope=f;this.contentTypeBusinessProcessLinkService=u;this.businessProcessDefinitionService=n;this.businessProcessInstanceService=i;this.businessProcessTaskService=t;this.getData();f.$on("commentCreated",function(n,t){c.contentFlowTask.comments.push(t)});f.$on("commentCreationCancelled",function(){c.setCommentCreation(!1)})}return n.prototype.toggleCommentCreation=function(){var n=this;n.commentCreation=!n.commentCreation},n.prototype.toggleCommentView=function(){var n=this;n.commentView=!n.commentView},n.prototype.setCommentCreation=function(n){var t=this;t.commentCreation=n},n.prototype.setCommentView=function(n){var t=this;t.commentView=n},n.prototype.getData=function(){},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{contentTypeId:"=",taskInstanceId:"=",languages:"="},bindToController:!0,templateUrl:"/api/template/Admin/ContentFlowTaskCommentCreateParent",controller:r,controllerAs:"vm",link:i}}n.AltaiContentFlowTaskCommentCreateParentDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.createContent()},name:"createclose","class":"altai-button-primary",disableByFormValidity:n.contentItemCreateForm,separator:!0},{icon:"mdi-close",action:function(){n.vm.cancelContentCreation()},"class":"altai-button-back",name:"cancel",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!0}}return n}(),r=function(){function n(n,t,i,r){this.$scope=n;this.$q=t;this.creating=!1;var u=this;this.contentItemService=i;this.contentFlowTaskInstanceCommentLinkService=r;n.$on("contentcreated",function(n,t){u.contentItem=t;u.createContentFlowTaskInstanceCommentLink()})}return n.prototype.createContent=function(){var n=this;n.$scope.$broadcast("createContent")},n.prototype.cancelContentCreation=function(){var n=this;n.$scope.$emit("commentCreationCancelled")},n.prototype.createContentFlowTaskInstanceCommentLink=function(){var n=this,t={TaskInstanceCommentId:n.contentItem.id,TaskInstanceId:n.taskInstanceId};n.contentFlowTaskInstanceCommentLinkService.add(t).then(function(t){n.$scope.$broadcast("commentCreated",t)})},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{contentTypeId:"=",languages:"="},bindToController:!0,templateUrl:"/api/template/Admin/ContentFlowProcessCommentCreateParent",controller:r,controllerAs:"vm",link:i}}n.AltaiContentFlowProcessCommentCreateParentDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.createContent()},name:"createclose","class":"altai-button-primary",disableByFormValidity:n.contentItemCreateForm,separator:!0},{icon:"mdi-close",action:function(){n.vm.cancelContentCreation()},"class":"altai-button-back",name:"cancel",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!0}}return n}(),r=function(){function n(n,t,i,r){this.$scope=n;this.$q=t;this.creating=!1;var u=this;this.contentItemService=i;this.contentFlowProcessInstanceCommentLinkService=r;n.$on("processinstancecreatedforcommentcreation",function(n,t){u.processInstanceId=t.id;void 0!=u.contentItem&&u.createContentFlowProcessInstanceCommentLink()});n.$on("contentcreated",function(n,t){23==t.contentTypeId&&(u.contentItem=t,void 0!=u.processInstanceId&&0!=u.processInstanceId&&u.createContentFlowProcessInstanceCommentLink())})}return n.prototype.createContent=function(){var n=this;n.$scope.$broadcast("createContent")},n.prototype.cancelContentCreation=function(){var n=this;n.$scope.$emit("commentCreationCancelled")},n.prototype.createContentFlowProcessInstanceCommentLink=function(){var n=this,t={TaskInstanceCommentId:n.contentItem.id,ProcessInstanceId:n.processInstanceId};n.contentFlowProcessInstanceCommentLinkService.add(t).then(function(t){n.$scope.$broadcast("commentCreated",t)})},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{model:"="},templateUrl:"/api/template/ContentFlowAttribute/UserSelectUpdateInner",controller:i,controllerAs:"vm",bindToController:!0}}n.AltaiContentFlowUserSelectDirective=t;var i=function(){function n(n){var t=this;n.list().then(function(n){t.users=n;for(var i=0;i<t.users.length;i++)t.users[i].fullName=t.users[i].firstName+" "+t.users[i].lastName})}return n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{model:"="},templateUrl:"/api/template/ContentFlowAttribute/GroupSelectUpdateInner",controller:i,controllerAs:"vm",bindToController:!0}}n.AltaiContentFlowGroupSelectDirective=t;var i=function(){function n(n){var t=this;n.list().then(function(n){t.groups=n})}return n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{languages:"="},templateUrl:"/api/template/Admin/ContentFlowConfigure",controller:i,controllerAs:"vm",bindToController:!0}}n.AltaiContentFlowConfigureDirective=t;var i=function(){function n(n,t,i,r,u){this.pageNr=0;this.sorterAttr="Id";this.sorterDesc=!0;this.contentTypeBusinessProcessLinkService=n;this.contentFlowProcessDefinitionService=t;this.contentTypeService=i;this.wmContainerFactory=r;this.altaiConfirmationService=u;this.getData()}return n.prototype.getData=function(){var n=this;this.contentTypeBusinessProcessLinkService.list().then(function(t){n.contenttypebusinessprocessdefinitions=t});this.contentFlowProcessDefinitionService.list().then(function(t){n.businessprocessdefinitions=t});this.contentTypeService.list().then(function(t){n.contenttypes=t})},n.prototype.createlink=function(n){this.contentTypeBusinessProcessLinkService.add(n).then(function(n){console.log("created link "+n.id)})},n.prototype.updatelink=function(n){this.contentTypeBusinessProcessLinkService.update(n).then(function(n){console.log("updated link "+n.id)})},n.prototype.deletelink=function(n){this.contentTypeBusinessProcessLinkService["delete"](n).then(function(n){console.log("deleted link "+n.id)})},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{model:"=",contentFlowAttribute:"="},replace:!0,templateUrl:"/api/template/Admin/ContentFlowAttributeUpdate",controllerAs:"vm",bindToController:!0,controller:i}}n.AltaiContentFlowAttributeUpdateDirective=t;var i=function(){function n(){this.setDefaultValue();this.template=this.getTemplateUrl()}return n.prototype.setDefaultValue=function(){this.contentFlowAttribute.hasDefaultValue&&!this.model&&(this.model=this.castDefaultValue())},n.prototype.castDefaultValue=function(){if(this.contentFlowAttribute.defaultValue)switch(this.contentFlowAttribute.variableType){case"Boolean":return"true"==this.contentFlowAttribute.defaultValue.toLowerCase();case"Integer":return parseInt(this.contentFlowAttribute.defaultValue);default:return this.contentFlowAttribute.defaultValue}},n.prototype.getTemplateUrl=function(){if(this.contentFlowAttribute.editTemplate)return"/api/template/ContentFlowAttribute/"+this.contentFlowAttribute.editTemplate},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/ContentFlowProcessDefinition",controller:i,controllerAs:"vm",bindToController:!0}}n.AltaiContentFlowProcessDefinitionDirective=t;var i=function(){function t(n,t,i){this.pageNr=0;this.sorterAttr="Id";this.sorterDesc=!0;this.contentFlowProcessDefinitionService=n;this.wmContainerFactory=t;this.altaiConfirmationService=i;this.getData()}return t.prototype.getData=function(){var n=this;this.contentFlowProcessDefinitionService.list().then(function(t){n.instances=t})},t.prototype.deleteAllProcessDefinitions=function(){var n=this;n.contentFlowProcessDefinitionService.deleteAll().then(function(){n.instances=[]})},t.prototype.importProcessDefinitions=function(){var n=this;n.contentFlowProcessDefinitionService["import"]().then(function(t){n.instances=t})},t.prototype.importTasksForContentFlowProcessDefinition=function(n){var t=this;t.contentFlowProcessDefinitionService.importTasksForContentFlowProcessDefinition(n).then(function(){})},t.prototype.openProcess=function(t){this.wmContainerFactory.createWindow(n.BusinessProcessFlowWindows.contentFlowSingleProcessDefinition,"Contentflow Process Definition",t)},t.prototype.create=function(n){this.contentFlowProcessDefinitionService.add(n).then(function(n){console.log("created item "+n.id)})},t.prototype.update=function(n){this.contentFlowProcessDefinitionService.update(n).then(function(n){console.log("updated item "+n.id)})},t.prototype["delete"]=function(n){this.contentFlowProcessDefinitionService["delete"](n).then(function(){console.log("deleted item "+n.id)})},t}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{contentFlowProcessDefinitionId:"="},templateUrl:"/api/template/Admin/ContentFlowProcessStartVariableDefinitionCreate",controller:r,controllerAs:"vm",bindToController:!0,link:i}}n.AltaiContentFlowProcessStartVariableDefinitionCreateDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.create(n.vm.item)},name:"createclose","class":"altai-button-go",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),r=function(){function n(n,t,i,r,u,f,e){this.contentAttributeService=t;this.$templateFactory=i;this.item={};this.pageNr=0;this.sorterAttr="Id";this.sorterDesc=!0;var o=this;o.contentFlowProcessDefinitionService=u;o.contentFlowProcessStartVariableDefinitionService=n;o.contentCollectionService=r;this.wmContainerFactory=f;this.altaiConfirmationService=e;o.item.contentFlowProcessDefinitionId=o.contentFlowProcessDefinitionId;o.templateFactory=i;o.getData()}return n.prototype.getData=function(){var n=this;n.templateFactory.listTemplateByTypeName("ContentFlowAttribute").then(function(t){n.contentRelationTemplates=t});n.contentCollectionService.list().then(function(t){n.contentCollections=t});n.contentAttributeService.listAttributeType().then(function(t){n.variableTypes=t})},n.prototype.create=function(n){this.contentFlowProcessStartVariableDefinitionService.add(n).then(function(n){console.log("created item "+n.id)})},n.prototype.update=function(n){this.contentFlowProcessStartVariableDefinitionService.update(n).then(function(n){console.log("updated item "+n.id)})},n.prototype["delete"]=function(n){this.contentFlowProcessStartVariableDefinitionService["delete"](n).then(function(){console.log("deleted item "+n.id)})},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{contentFlowProcessStartVariableId:"="},templateUrl:"/api/template/Admin/ContentFlowProcessStartVariableDefinitionCreate",controller:r,controllerAs:"vm",bindToController:!0,link:i}}n.AltaiContentFlowProcessStartVariableDefinitionUpdateDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.update(n.vm.item)},name:"createclose","class":"altai-button-go",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),r=function(){function n(n,t,i,r,u,f,e){this.contentAttributeService=t;this.$templateFactory=i;this.pageNr=0;this.sorterAttr="Id";this.sorterDesc=!0;var o=this;o.contentFlowProcessDefinitionService=u;o.contentFlowProcessStartVariableDefinitionService=n;o.contentCollectionService=r;this.wmContainerFactory=f;this.altaiConfirmationService=e;o.templateFactory=i;o.getData()}return n.prototype.getData=function(){var n=this;n.contentFlowProcessStartVariableDefinitionService.getById(n.contentFlowProcessStartVariableId).then(function(t){n.item=t});n.templateFactory.listTemplateByTypeName("ContentFlowAttribute").then(function(t){n.contentRelationTemplates=t});n.contentCollectionService.list().then(function(t){n.contentCollections=t});n.contentAttributeService.listAttributeType().then(function(t){n.variableTypes=t})},n.prototype.create=function(n){this.contentFlowProcessStartVariableDefinitionService.add(n).then(function(n){console.log("created item "+n.id)})},n.prototype.update=function(n){this.contentFlowProcessStartVariableDefinitionService.update(n).then(function(n){console.log("updated item "+n.id)})},n.prototype["delete"]=function(n){this.contentFlowProcessStartVariableDefinitionService["delete"](n).then(function(){console.log("deleted item "+n.id)})},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{contentFlowTaskDefinitionId:"="},templateUrl:"/api/template/Admin/ContentFlowProcessStartVariableDefinitionCreate",controller:r,controllerAs:"vm",bindToController:!0,link:i}}n.AltaiContentFlowProcessVariableDefinitionCreateDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.create(n.vm.item)},name:"createclose","class":"altai-button-go",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),r=function(){function n(n,t,i,r,u,f,e,o){this.contentAttributeService=i;this.$templateFactory=r;this.item={};this.pageNr=0;this.sorterAttr="Id";this.sorterDesc=!0;var s=this;s.contentFlowProcessDefinitionService=f;s.contentFlowTaskDefinitionService=t;s.contentFlowProcessVariableDefinitionService=n;s.contentCollectionService=u;this.wmContainerFactory=e;this.altaiConfirmationService=o;s.item.contentFlowTaskDefinitionId=s.contentFlowTaskDefinitionId;s.templateFactory=r;s.getData()}return n.prototype.getData=function(){var n=this;n.templateFactory.listTemplateByTypeName("ContentFlowAttribute").then(function(t){n.contentRelationTemplates=t});n.contentCollectionService.list().then(function(t){n.contentCollections=t});n.contentAttributeService.listAttributeType().then(function(t){n.variableTypes=t})},n.prototype.create=function(n){this.contentFlowProcessVariableDefinitionService.add(n).then(function(n){console.log("created item "+n.id)})},n.prototype.update=function(n){this.contentFlowProcessVariableDefinitionService.update(n).then(function(n){console.log("updated item "+n.id)})},n.prototype["delete"]=function(n){this.contentFlowProcessVariableDefinitionService["delete"](n).then(function(){console.log("deleted item "+n.id)})},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{contentFlowProcessVariableId:"="},templateUrl:"/api/template/Admin/ContentFlowProcessStartVariableDefinitionCreate",controller:r,controllerAs:"vm",bindToController:!0,link:i}}n.AltaiContentFlowProcessVariableDefinitionUpdateDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.update(n.vm.item)},name:"createclose","class":"altai-button-go",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),r=function(){function n(n,t,i,r,u,f,e){this.contentAttributeService=t;this.$templateFactory=i;this.pageNr=0;this.sorterAttr="Id";this.sorterDesc=!0;var o=this;o.contentFlowProcessDefinitionService=u;o.contentFlowProcessVariableDefinitionService=n;o.contentCollectionService=r;this.wmContainerFactory=f;this.altaiConfirmationService=e;o.templateFactory=i;o.getData()}return n.prototype.getData=function(){var n=this;n.contentFlowProcessVariableDefinitionService.getById(n.contentFlowProcessVariableId).then(function(t){n.item=t});n.templateFactory.listTemplateByTypeName("ContentFlowAttribute").then(function(t){n.contentRelationTemplates=t});n.contentCollectionService.list().then(function(t){n.contentCollections=t});n.contentAttributeService.listAttributeType().then(function(t){n.variableTypes=t})},n.prototype.create=function(n){this.contentFlowProcessVariableDefinitionService.add(n).then(function(n){console.log("created item "+n.id)})},n.prototype.update=function(n){this.contentFlowProcessVariableDefinitionService.update(n).then(function(n){console.log("updated item "+n.id)})},n.prototype["delete"]=function(n){this.contentFlowProcessVariableDefinitionService["delete"](n).then(function(){console.log("deleted item "+n.id)})},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{contentFlowTaskDefinitionId:"="},templateUrl:"/api/template/Admin/ContentFlowTaskDefinition",controller:r,controllerAs:"vm",bindToController:!0,link:i}}n.AltaiContentFlowTaskDefinitionDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.update(n.vm.contentFlowTaskDefinition)},name:"save","class":"altai-button-go",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),r=function(){function t(n,t,i,r){this.pageNr=0;this.sorterAttr="Id";this.sorterDesc=!0;this.contentFlowTaskDefinitionService=t;this.wmContainerFactory=i;this.altaiConfirmationService=r;this.contentFlowProcessVariableDefinitionService=n;this.getData()}return t.prototype.createVariable=function(){var t=this;this.wmContainerFactory.createWindow(n.BusinessProcessFlowWindows.contentFlowProcessVariableDefinitionCreate,"Create Process Variable",t.contentFlowTaskDefinitionId)},t.prototype.deleteVariable=function(n){this.contentFlowProcessVariableDefinitionService["delete"](n).then(function(){})},t.prototype.editVariable=function(t){this.wmContainerFactory.createWindow(n.BusinessProcessFlowWindows.contentFlowProcessVariableDefinitionUpdate,"Edit Process Variable",t)},t.prototype.deleteAllVariables=function(){for(var n=this,t=0;t<n.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet.length;t++)n.deleteVariable(n.contentFlowTaskDefinition.contentFlowProcessVariableDefinitionsToSet[t])},t.prototype.getData=function(){var n=this;this.contentFlowTaskDefinitionService.getById(n.contentFlowTaskDefinitionId).then(function(t){n.contentFlowTaskDefinition=t})},t.prototype.create=function(n){this.contentFlowTaskDefinitionService.add(n).then(function(n){console.log("created item "+n.id)})},t.prototype.update=function(n){this.contentFlowTaskDefinitionService.update(n).then(function(n){console.log("updated item "+n.id)})},t.prototype["delete"]=function(n){this.contentFlowTaskDefinitionService["delete"](n).then(function(){console.log("deleted item "+n.id)})},t}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{contentFlowProcessDefinitionId:"="},templateUrl:"/api/template/Admin/ContentFlowSingleProcessDefinition",controller:r,controllerAs:"vm",bindToController:!0,link:i}}n.AltaiContentFlowSingleProcessDefinitionDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.update(n.vm.contentFlowProcessDefinition)},name:"save","class":"altai-button-go",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),r=function(){function t(n,t,i,r,u){this.pageNr=0;this.sorterAttr="Id";this.sorterDesc=!0;this.contentFlowProcessDefinitionService=t;this.contentFlowTaskDefinitionService=i;this.contentFlowProcessStartVariableDefinitionService=n;this.wmContainerFactory=r;this.altaiConfirmationService=u;this.getData()}return t.prototype.getData=function(){var n=this;this.contentFlowProcessDefinitionService.getById(n.contentFlowProcessDefinitionId).then(function(t){n.contentFlowProcessDefinition=t})},t.prototype.openTask=function(t){this.wmContainerFactory.createWindow(n.BusinessProcessFlowWindows.contentFlowTaskDefinition,"Contentflow Task Definition",t)},t.prototype.deleteTask=function(n){var t=this;t.contentFlowTaskDefinitionService["delete"](n)},t.prototype.importTasksForContentFlowProcessDefinition=function(){var n=this;n.contentFlowProcessDefinitionService.importTasksForContentFlowProcessDefinition(n.contentFlowProcessDefinitionId).then(function(t){n.contentFlowProcessDefinition.contentFlowTaskDefinitions=t})},t.prototype.createVariable=function(){var t=this;this.wmContainerFactory.createWindow(n.BusinessProcessFlowWindows.contentFlowProcessStartVariableDefinitionCreate,"Create Process Start Variable",t.contentFlowProcessDefinitionId)},t.prototype.editVariable=function(t){this.wmContainerFactory.createWindow(n.BusinessProcessFlowWindows.contentFlowProcessStartVariableDefinitionUpdate,"Edit Process Start Variable",t)},t.prototype.deleteVariable=function(n){this.contentFlowProcessStartVariableDefinitionService["delete"](n).then(function(){})},t.prototype.deleteTasksForContentFlowProcessDefinition=function(){for(var n=this,t=0;t<n.contentFlowProcessDefinition.contentFlowTaskDefinitions.length;t++)n.contentFlowTaskDefinitionService["delete"](n.contentFlowProcessDefinition.contentFlowTaskDefinitions[t])},t.prototype.deleteVariablesForContentFlowProcessDefinition=function(){for(var n=this,t=0;t<n.contentFlowProcessDefinition.contentFlowProcessStartVariableDefinitions.length;t++)n.contentFlowProcessStartVariableDefinitionService["delete"](n.contentFlowProcessDefinition.contentFlowProcessStartVariableDefinitions[t])},t.prototype.create=function(n){this.contentFlowProcessDefinitionService.add(n).then(function(n){console.log("created item "+n.id)})},t.prototype.update=function(n){this.contentFlowProcessDefinitionService.update(n).then(function(n){console.log("updated item "+n.id)})},t.prototype["delete"]=function(n){this.contentFlowProcessDefinitionService["delete"](n).then(function(){console.log("deleted item "+n.id)})},t}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{contentFlowTask:"=",languages:"="},templateUrl:"/api/template/Admin/ContentFlowContentItemUpdateParent",controller:r,link:i,controllerAs:"vm",bindToController:!0}}n.AltaiContentFlowContentItemUpdateParentDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-ray-start-arrow",action:function(){n.vm.saveAndFinishTask()},name:"save_and_finish_task","class":"altai-button-go",disableByFormValidity:n.contentItemUpdateForm,separator:!0},{icon:"mdi-content-save",action:function(){n.vm.updateContent()},name:"createclose","class":"altai-button-primary",disableByFormValidity:n.contentItemUpdateForm,separator:!0},{icon:"mdi-content-save",action:function(){n.vm.updateContentDraft()},"class":"altai-button-primary",name:"createdraft",separator:!0},{icon:"mdi-plus-circle-multiple-outline",action:function(){n.vm.openPreviewWindow()},"class":"altai-button-primary",name:"preview",separator:!0},{icon:"mdi-close",action:function(){n.vm.closeWindow()},"class":"altai-button-back",name:"cancel",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),r=function(){function t(n,t,i,r,u,f){this.$scope=i;this.$q=r;this.creating=!1;var e=this;this.contentFlowTask;e.wmContainerFactory=f;e.contentItemService=u;e.contentFlowTaskInstanceFullCreationModelService=n;e.maximizeWindow();i.$on("contentProvided",function(n,t){23!=t.contentTypeId&&(e.updatedContentItemModel=t,e.tryFinishTask())});i.$on("taskFinishModelProvided",function(n,t){e.taskFinishModel=t;e.tryFinishTask()})}return t.prototype.tryFinishTask=function(){var n=this,t;void 0!=n.updatedContentItemModel&&void 0!=n.taskFinishModel&&(t={taskId:n.taskFinishModel.taskId,businessProcessTaskActionModel:n.taskFinishModel,newContent:n.updatedContentItemModel},n.contentFlowTaskInstanceFullCreationModelService.add(t).then(function(){console.log("all ok")}))},t.prototype.getData=function(){},t.prototype.closeWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.BusinessProcessFlowWindows.contentFlowContentItemUpdate);t.wmContainerFactory.destroyWindow(i.id)},t.prototype.maximizeWindow=function(){var t=this.wmContainerFactory.findWindow(n.BusinessProcessFlowWindows.contentFlowContentItemUpdate);t&&(t.toggleMaximize(),this.wmContainerFactory.focusOnWindow(t))},t.prototype.minimizeWindow=function(){this.wmContainerFactory.removeFocusOnWindow()},t.prototype.updateContentItemModel=function(){var n=this;n.$scope.$broadcast("updateContentItemModel")},t.prototype.updateContentData=function(){var n=this;n.$scope.$broadcast("updateContentData")},t.prototype.updateContent=function(){var n=this;n.$scope.$broadcast("updateContent");n.closeWindow()},t.prototype.updateContentDraft=function(){var n=this;n.$scope.$broadcast("updateContentDraft")},t.prototype.openContentItem=function(){var n=this;n.$scope.$broadcast("openContentItem")},t.prototype.saveAndFinishTask=function(){var t=this,i;t.$scope.$broadcast("provideContent");t.$scope.$broadcast("finishtask");i=t.wmContainerFactory.findWindow(n.BusinessProcessFlowWindows.contentFlowContentItemUpdate);t.wmContainerFactory.destroyWindow(i.id)},t}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{contentFlowComment:"=",languages:"="},templateUrl:"/api/template/Admin/ContentflowTaskCommentUpdateParent",controller:r,link:i,controllerAs:"vm",bindToController:!0}}n.AltaiContentFlowTaskCommentUpdateParentDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.updateContent()},name:"createclose","class":"altai-button-primary",disableByFormValidity:n.contentItemCreateForm,separator:!0},{icon:"mdi-close",action:function(){n.vm.cancelContentUpdate()},"class":"altai-button-back",name:"cancel",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!0}}return n}(),r=function(){function n(n,t,i,r,u){this.$scope=t;this.$q=i;this.creating=!1;var f=this;f.wmContainerFactory=u;f.contentItemService=r;t.$on("contentupdated",function(){f.$scope.$emit("commentUpdated",f.contentItemId)})}return n.prototype.getData=function(){},n.prototype.updateContent=function(){var n=this;n.$scope.$broadcast("updateContent")},n.prototype.cancelContentUpdate=function(){var n=this;n.$scope.$emit("commentUpdateCancelled")},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{contentTypeId:"=",languages:"="},bindToController:!0,templateUrl:"/api/template/Admin/ContentFlowContentItemCreateParent",controller:r,controllerAs:"vm",link:i}}n.AltaiContentFlowContentItemCreateParentDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-ray-start-arrow",action:function(){n.vm.startFlow()},name:"saveandstartflow","class":"altai-button-go",disableByFormValidity:n.contentItemCreateForm,separator:!0},{icon:"mdi-content-save",action:function(){n.vm.createContent()},name:"createclose","class":"altai-button-primary",disableByFormValidity:n.contentItemCreateForm,separator:!0},{icon:"mdi-content-save",action:function(){n.vm.createContentAndEdit()},"class":"altai-button-primary",name:"createdraft",separator:!0},{icon:"mdi-library-plus",action:function(){n.vm.createContentAndKeepCreating()},"class":"altai-button-primary",name:"createandrecreate",disableByFormValidity:n.contentItemCreateForm,separator:!0},{icon:"mdi-plus-circle-multiple-outline",action:function(){n.vm.createContentAndPreview()},"class":"altai-button-primary",name:"createandpreview",disableByFormValidity:n.contentItemCreateForm,separator:!0},{icon:"mdi-close",action:function(){n.vm.closeWindow()},"class":"altai-button-back",name:"cancel",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),r=function(){function t(n,t,i,r,u,f,e){this.$scope=i;this.$q=r;this.contentTypeService=f;this.contentTypes=[];this.creating=!1;this.commentCreation=!0;this.variableListEnriched=!1;var o=this;o.contentItemBusinessProcessInstanceLinkService=t;o.wmContainerFactory=e;o.contentFlowProcessInstanceFullCreationModelService=n;o.contentTypeService=f;o.maximizeWindow();i.$on("contentProvided",function(n,t){23!=t.contentTypeId?o.contentItem=t:o.comment=t;o.tryFinishProcessCreation()});i.$on("processCreationModelProvided",function(n,t){o.processCreationModel=t;o.tryFinishProcessCreation()});i.$on("commentCreationChanged",function(n,t){o.commentCreation=t})}return t.prototype.tryEnrichVariableList=function(){var t=this,r,n,i;if(void 0!=t.processCreationModel&&void 0!=t.contentItem){for(r=0;r<t.contentItem.contentItemAttributes.length;r++)if(n=t.contentItem.contentItemAttributes[r],t.processCreationModel.variables.push({name:"itemvar_"+n.contentTypeAttribute.attribute.name,value:n.value}),void 0!=n.translatable&&void 0!=n.translatable.translatableValues)for(i=0;i<n.translatable.translatableValues.length;i++)t.processCreationModel.variables.push({name:"itemvar_"+n.contentTypeAttribute.attribute.name+"."+n.translatable.translatableValues[i].languageCode,value:n.translatable.translatableValues[i].value});t.variableListEnriched=!0}},t.prototype.tryFinishProcessCreation=function(){var n=this,t;void 0!=n.processCreationModel&&void 0!=n.contentItem&&void 0!=n.comment&&(t=n.commentCreation?{newContent:n.contentItem,newComment:n.comment,processInstanceRequestData:n.processCreationModel,publishDate:n.processCreationModel.publishDate,unpublishDate:n.processCreationModel.unpublishDate,publishImmediately:n.processCreationModel.publishImmediately,doNotSpecifyUnpublishDate:n.processCreationModel.doNotSpecifyUnpublishDate}:{newContent:n.contentItem,processInstanceRequestData:n.processCreationModel,publishDate:n.processCreationModel.publishDate,unpublishDate:n.processCreationModel.unpublishDate,publishImmediately:n.processCreationModel.publishImmediately,doNotSpecifyUnpublishDate:n.processCreationModel.doNotSpecifyUnpublishDate},n.contentFlowProcessInstanceFullCreationModelService.add(t).then(function(){console.log("all created")}))},t.prototype.setContentItemId=function(n){var t=this;t.contentItemId=n.id},t.prototype.setProcessInstanceId=function(n){var t=this;t.processInstanceId=n.id},t.prototype.createContentItemBusinessProcessInstanceLink=function(){var n=this,t={contentItemId:n.contentItemId,businessProcessInstanceId:n.processInstanceId};n.contentItemBusinessProcessInstanceLinkService.add(t).then(function(){})},t.prototype.closeWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.BusinessProcessFlowWindows.contentFlowContentItemCreate);t.wmContainerFactory.destroyWindow(i.id)},t.prototype.maximizeWindow=function(){var t=this.wmContainerFactory.findWindow(n.BusinessProcessFlowWindows.contentFlowContentItemCreate,this.contentTypeId);t&&(t.toggleMaximize(),this.wmContainerFactory.focusOnWindow(t))},t.prototype.minimizeWindow=function(){this.wmContainerFactory.removeFocusOnWindow()},t.prototype.createContent=function(){var n=this;n.$scope.$broadcast("createContent");n.minimizeWindow();n.closeWindow()},t.prototype.createContentAndKeepCreating=function(){var n=this;n.$scope.$broadcast("createContentAndKeepCreating")},t.prototype.createContentAndEdit=function(){var n=this;n.$scope.$broadcast("createContentAndEdit")},t.prototype.createContentAndPreview=function(){var n=this;n.$scope.$broadcast("createContentAndPreview")},t.prototype.startFlow=function(){var t=this,i;t.$scope.$broadcast("provideContent");t.$scope.$broadcast("provideProcessCreationModel");i=t.wmContainerFactory.findWindow(n.BusinessProcessFlowWindows.contentFlowContentItemCreate);t.wmContainerFactory.destroyWindow(i.id)},t}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{languages:"="},templateUrl:"/api/template/Admin/ContentFlowPublishCalendar",controller:i,controllerAs:"vm",bindToController:!0}}n.AltaiContentflowPublishCalendarDirective=t;var i=function(){function n(n){this.contentFlowActiveProcessInstanceService=n;this.getData()}return n.prototype.getData=function(){var n=this;n.contentFlowActiveProcessInstanceService.getActiveProcessesForCurrentUserAsInvolvedUser().then(function(t){n.processes=t})},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){function t(){return{scope:{process:"="},templateUrl:"/api/template/Admin/singlecontentflowprocess",controller:i,controllerAs:"vm",bindToController:!0}}n.AltaiContentFlowSingleProcessDirective=t;var i=function(){function n(n){var t=this;t.contentFlowActiveProcessInstanceService=n}return n.prototype.update=function(){var n=this,t=[];t.push({name:"processvar_publishdate",value:n.process.contentItemBusinessProcessLink.publishDate});t.push({name:"processvar_unpublishdate",value:n.process.contentItemBusinessProcessLink.unpublishDate});t.push({name:"processvar_publishimmediately",value:n.process.contentItemBusinessProcessLink.publishImmediately});t.push({name:"processvar_donotspecifyunpublishdate",value:n.process.contentItemBusinessProcessLink.doNotSpecifyUnpublishDate});this.contentFlowActiveProcessInstanceService.updateProcess(n.process.processInstanceResponseData.id,t).then(function(n){console.log("updated process instance "+n)})},n}()}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/contentflowhistorictaskinstance","Content Flow Historic Task Instance",i,t,r,u)||this}return __extends(t,n),t.prototype.updateTask=function(n){var t=this,i=t.$q.defer();return t.$http.put(t.apiUrl,n).then(function(n){i.resolve(n.data)},function(n){i.reject(n)}),i.promise},t.prototype.getHistoricTasksForProcessInstance=function(n){var t=this,i=t.$q.defer();return t.$http.get(t.apiUrl+"/"+n).then(function(n){i.resolve(n.data)},function(n){i.reject(n)}),i.promise},t}(AltaiCore.AltaiDataService);n.ContentFlowHistoricTaskInstanceService=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/contentflowtaskinstancecommentlink","Content Flow Task Instance Comment Link",i,t,r,u)||this}return __extends(t,n),t.prototype.search=function(n){var i=this,t=i.$q.defer();return i.$http.post(config.backendUrl+"/api/contentitembusinessprocessinstancelink/search",n).then(function(n){t.resolve(n.data)},function(n){t.reject(n)}),t.promise},t}(AltaiCore.AltaiDataService);n.ContentFlowTaskInstanceCommentLinkService=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/contentflowprocessinstancecommentlink","Content Flow Process Instance Comment Link",i,t,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.ContentFlowProcessInstanceCommentLinkService=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u,f){var e=n.call(this,"api/contentflowprocessinstancefullcreationmodel","Content Flow Process Instance Full Creation Model",i,t,r,u)||this;return e.businessProcessTaskService=f,e}return __extends(t,n),t.prototype.add=function(t){var r=this,i=this.$q.defer();return n.prototype.add.call(this,t).then(function(n){r.businessProcessTaskService.resetData();i.resolve(n)}),i.promise},t}(AltaiCore.AltaiDataService);n.ContentFlowProcessInstanceFullCreationModelService=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u,f){var e=n.call(this,"api/contentflowtaskinstancefullcreationmodel","Content Flow Task Instance Full Creation Model",i,t,r,u)||this;return e.businessProcessTaskService=f,e}return __extends(t,n),t.prototype.add=function(t){var r=this,i=this.$q.defer();return n.prototype.add.call(this,t).then(function(n){r.businessProcessTaskService.resetData();i.resolve(n)}),i.promise},t}(AltaiCore.AltaiDataService);n.ContentFlowTaskInstanceFullCreationModelService=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/contenttypebusinessprocesslink","Content Type Business Process link",i,t,r,u)||this}return __extends(t,n),t.prototype.search=function(n){var i=this,t=i.$q.defer();return i.$http.post(config.backendUrl+"/api/contenttypebusinessprocesslink/search",n).then(function(n){t.resolve(n.data)},function(n){t.reject(n)}),t.promise},t}(AltaiCore.AltaiDataService);n.ContentTypeBusinessProcessLinkService=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/contentitembusinessprocessinstancelink","Content Item Business Process Instance link",i,t,r,u)||this}return __extends(t,n),t.prototype.search=function(n){var i=this,t=i.$q.defer();return i.$http.post(config.backendUrl+"/api/contentitembusinessprocessinstancelink/search",n).then(function(n){t.resolve(n.data)},function(n){t.reject(n)}),t.promise},t}(AltaiCore.AltaiDataService);n.ContentItemBusinessProcessInstanceLinkService=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/contentflowactivitibusinessprocessdefinitions","Content Flow Business Process Definitions",i,t,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.ContentFlowActivitiBusinessProcessDefinitionsService=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/contentflowprocessdefinition","Content Flow Business Process Definitions",i,t,r,u)||this}return __extends(t,n),t.prototype["import"]=function(){var n=this,t=n.$q.defer();return n.$http.get(n.apiUrl+"/import").then(function(n){t.resolve(n.data)},function(n){t.reject(n)}),t.promise},t.prototype.importTasksForContentFlowProcessDefinition=function(n){var t=this,i=t.$q.defer();return t.$http.get(t.apiUrl+"/"+n+"/tasks/import").then(function(n){i.resolve(n.data)},function(n){i.reject(n)}),i.promise},t.prototype.deleteAll=function(){var n=this,t=n.$q.defer();return n.$http["delete"](n.apiUrl).then(function(n){t.resolve(n.data)},function(n){t.reject(n)}),t.promise},t.prototype.listTasks=function(n){var t=this,i=t.$q.defer();return t.$http.get(t.apiUrl+"/"+n+"/tasks").then(function(n){i.resolve(n.data)},function(n){i.reject(n)}),i.promise},t}(AltaiCore.AltaiDataService);n.ContentFlowProcessDefinitionService=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/contentflowprocessvariabledefinition","Content Flow Process Variable Definitions",i,t,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.ContentFlowProcessVariableDefinitionService=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/contentflowprocessstartvariabledefinition","Content Flow Process Start Variable Definitions",i,t,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.ContentFlowProcessStartVariableDefinitionService=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){var f=n.call(this,"api/contentflowactiveprocessinstance","Content Flow Active Process Instance",i,t,r,u)||this;return f.dataListForActiveUser=[],f}return __extends(t,n),t.prototype.resetData=function(){var n=this;n.dataListForActiveUser.length=0;n.getActiveProcessesForCurrentUserAsInvolvedUser()},t.prototype.updateProcess=function(n,t){var i=this,r=i.$q.defer();return i.$http.put(i.apiUrl+"/"+n,t).then(function(n){r.resolve(n.data)},function(n){r.reject(n)}),r.promise},t.prototype.getActiveProcessesForCurrentUserAsInvolvedUser=function(){var n=this,t=n.$q.defer();return n.dataListForActiveUser.length>0&&n.enableCaching?t.resolve(n.dataListForActiveUser):n.altaiHttp.get(n.apiUrl+"/involveduser").then(function(i){angular.copy(i,n.dataListForActiveUser);t.resolve(n.dataListForActiveUser)},function(n){t.reject(n)}),t.promise},t.prototype.getActiveTasksForProcessInstance=function(n){var t=this,i=t.$q.defer();return t.$http.get(t.apiUrl+"/"+n).then(function(n){i.resolve(n.data)},function(n){i.reject(n)}),i.promise},t}(AltaiCore.AltaiDataService);n.ContentFlowActiveProcessInstanceService=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/contentflowtaskdefinition","Content Flow Task Definitions",i,t,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.ContentFlowTaskDefinitionService=t}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){var t=angular.module("altai.businessprocessflow",["altai.core","ui.router","altai.content","altai.identity","xeditable","ngMaterial","angularMoment"]);t.directive("altaiBusinessProcessDefinitionList",n.AltaiBusinessProcessDefinitionListDirective);t.service("businessProcessDefinitionService",n.BusinessProcessDefinitionService);t.directive("altaiBusinessProcessInstanceList",n.AltaiBusinessProcessInstanceListDirective);t.service("businessProcessInstanceService",n.BusinessProcessInstanceService);t.directive("altaiBusinessProcessTaskList",n.AltaiBusinessProcessTaskListDirective);t.directive("altaiTaskCenter",n.AltaiTaskCenterDirective);t.service("businessProcessTaskService",n.BusinessProcessTaskService);t.directive("altaiContentFlowUserSelect",n.AltaiContentFlowUserSelectDirective);t.directive("altaiContentFlowGroupSelect",n.AltaiContentFlowGroupSelectDirective);t.directive("altaiContentFlowTaskCommentCreateParent",n.AltaiContentFlowTaskCommentCreateParentDirective);t.directive("altaiContentFlowPublishCalendar",n.AltaiContentflowPublishCalendarDirective);t.directive("altaiContentFlowProcessCommentCreateParent",n.AltaiContentFlowProcessCommentCreateParentDirective);t.directive("altaiContentFlowProcessVariableDefinitionCreate",n.AltaiContentFlowProcessVariableDefinitionCreateDirective);t.directive("altaiContentFlowProcessVariableDefinitionUpdate",n.AltaiContentFlowProcessVariableDefinitionUpdateDirective);t.directive("altaiContentFlowProcessStartVariableDefinitionCreate",n.AltaiContentFlowProcessStartVariableDefinitionCreateDirective);t.directive("altaiContentFlowProcessStartVariableDefinitionUpdate",n.AltaiContentFlowProcessStartVariableDefinitionUpdateDirective);t.directive("altaiContentFlowSingleProcess",n.AltaiContentFlowSingleProcessDirective);t.directive("altaiContentFlowSingleProcessDefinition",n.AltaiContentFlowSingleProcessDefinitionDirective);t.directive("altaiContentFlowTaskDefinition",n.AltaiContentFlowTaskDefinitionDirective);t.directive("altaiContentFlowProcessDefinition",n.AltaiContentFlowProcessDefinitionDirective);t.directive("altaiContentFlowConfigure",n.AltaiContentFlowConfigureDirective);t.service("contentFlowTaskInstanceCommentLinkService",n.ContentFlowTaskInstanceCommentLinkService);t.service("contentFlowProcessInstanceCommentLinkService",n.ContentFlowProcessInstanceCommentLinkService);t.service("contentTypeBusinessProcessLinkService",n.ContentTypeBusinessProcessLinkService);t.service("contentItemBusinessProcessInstanceLinkService",n.ContentItemBusinessProcessInstanceLinkService);t.service("contentFlowActivitiBusinessProcessDefinitionsService",n.ContentFlowActivitiBusinessProcessDefinitionsService);t.service("contentFlowProcessDefinitionService",n.ContentFlowProcessDefinitionService);t.service("contentFlowProcessVariableDefinitionService",n.ContentFlowProcessVariableDefinitionService);t.service("contentFlowProcessStartVariableDefinitionService",n.ContentFlowProcessStartVariableDefinitionService);t.service("contentFlowTaskDefinitionService",n.ContentFlowTaskDefinitionService);t.service("contentFlowHistoricTaskInstanceService",n.ContentFlowHistoricTaskInstanceService);t.service("contentFlowProcessInstanceFullCreationModelService",n.ContentFlowProcessInstanceFullCreationModelService);t.service("contentFlowTaskInstanceFullCreationModelService",n.ContentFlowTaskInstanceFullCreationModelService);t.service("contentFlowActiveProcessInstanceService",n.ContentFlowActiveProcessInstanceService);t.directive("altaiContentFlowContentItemUpdateParent",n.AltaiContentFlowContentItemUpdateParentDirective);t.directive("altaiContentFlowTaskCommentUpdateParent",n.AltaiContentFlowTaskCommentUpdateParentDirective);t.directive("altaiContentFlowAttributeUpdate",n.AltaiContentFlowAttributeUpdateDirective);t.directive("altaiContentFlowContentItemCreateParent",n.AltaiContentFlowContentItemCreateParentDirective);t.component("altaiContentFlowSidebarCreate",new n.AltaiContentFlowSidebarCreateComponent);t.component("altaiContentFlowSidebarUpdate",new n.AltaiContentFlowSidebarUpdateComponent);t.component("altaiContentFlowActiveTaskCard",new n.AltaiContentFlowActiveTaskCardComponent);t.component("altaiContentFlowActiveTaskCardDisabled",new n.AltaiContentFlowActiveTaskCardDisabledComponent);t.component("altaiContentFlowHistoricTaskCard",new n.AltaiContentFlowHistoricTaskCardComponent);t.component("altaiContentFlowComment",new n.AltaiContentFlowCommentComponent);t.run(function(n){n.theme="bs3";n.icon_set="mdi"});t.config(function(t,i){t.state("admin.contentflow",{url:"/contentflow",abstract:!0}).state("admin.contentflow.task",{url:"/task",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.BusinessProcessTaskListController}}}).state("admin.contentflow.configure",{url:"/configure",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ContentFlowConfigureController}}}).state("admin.contentflow.processdefinition",{url:"/contentflowprocessdefinition",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ContentFlowProcessDefinitionController}}}).state("admin.contentflow.publishcalendar",{url:"/contentflowpublishcalendar",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ContentFlowPublishCalendar}}}).state("admin.contentflow.content.item.create",{url:"/:id/contentflowcreate",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ContentFlowContentItemCreateController}}}).state("admin.contentflow.content.item.update",{url:"/:id/contentflowupdate",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ContentFlowContentItemUpdateController}}}).state("admin.contentflow.definition",{url:"/definition",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.BusinessProcessDefinitionListController}}}).state("admin.contentflow.instance",{url:"/instance",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.BusinessProcessInstanceListController}}});i.add({name:"contentflow",order:3,label:"contentflow",icon:"mdi mdi-shuffle-variant menuicontoolbar"});i.add({parent:"contentflow",name:"contentflow.tasks",securable:"contentflow.task.read",label:"contentflowtasks",icon:"mdi mdi-shuffle-variant",state:"admin.contentflow.task"});i.add({parent:"contentflow",name:"contentflow.configure",securable:"contentflow.configure.read",label:"contentflowconfigure",icon:"mdi mdi-shuffle-variant",state:"admin.contentflow.configure"});i.add({parent:"contentflow",name:"contentflow.processdefinition",securable:"contentflow.processdefinition.read",label:"contentflowprocessdefinitions",icon:"mdi mdi-shuffle-variant",state:"admin.contentflow.processdefinition"});i.add({parent:"contentflow",name:"contentflow.publishcalendar",securable:"contentflow.calendar.read",label:"contentflowpublishcalendar",icon:"mdi mdi-shuffle-variant",state:"admin.contentflow.publishcalendar"});i.add({parent:"contentflow",name:"contentflow.definitions",securable:"contentflow.definition.read",label:"businessprocessdefinitions",icon:"mdi mdi-shuffle-variant",state:"admin.contentflow.definition"});i.add({parent:"contentflow",name:"contentflow.instances",securable:"contentflow.instance.read",label:"businessprocessinstances",icon:"mdi mdi-shuffle-variant",state:"admin.contentflow.instance"})});config.modules.push("altai.businessprocessflow")}(AltaiBusinessProcessFlow||(AltaiBusinessProcessFlow={}));!function(n){var t=function(){function n(){}return n}();t.eventCenter=new AltaiWindowManager.wmWindowType("eventCenter","<event-center languages='vm.languages'><\/event-center>",1200,1200,1600);t.eventConfigure=new AltaiWindowManager.wmWindowType("eventConfigure","<event-configure languages='vm.languages'><\/event-configure>",800,800,1200);t.eventProfile=new AltaiWindowManager.wmWindowType("eventProfile","<event-profile content-item-id='vm.window.entityId' languages='vm.languages'><\/event-profile>",1200,1200,1600);t.eventProfileDetails=new AltaiWindowManager.wmWindowType("eventProfileDetails","<event-profile-details content-item-id='vm.window.entityId' languages='vm.languages'><\/event-profile-details>",1200,1200,1600);t.eventProfilePreview=new AltaiWindowManager.wmWindowType("eventProfilePreview","<event-profile-preview content-item-id='vm.window.entityId' languages='vm.languages'><\/event-profile-preview>",1200,1200,1200);n.EventWindows=t}(AltaiEvent||(AltaiEvent={}));!function(n){function t(t){t.createWindow(n.EventWindows.eventCenter,"Event Center","")}n.EventCenterController=t}(AltaiEvent||(AltaiEvent={}));!function(n){function t(t){t.createWindow(n.EventWindows.eventConfigure,"Event Configuration","")}n.EventConfigureController=t}(AltaiEvent||(AltaiEvent={}));!function(n){function t(n,t,i,r,u,f,e){var o=this;o.present=n.present;i.get("/event/registerpresence?code="+n.code+"&present="+n.present).then(function(n){o.eventContentTypeId=n.contentTypeId;o.eventContentItemId=n.contentItemEventId;r(function(){o.openEventState()},5e3)});o.openEventState=function(){e.getLinkedState(o.eventContentTypeId).then(function(n){u.go(n,{id:o.eventContentItemId})})}}n.PresenceRegistrationController=t}(AltaiEvent||(AltaiEvent={}));!function(n){var i=function(){function n(){this.controller=t;this.bindings={contentTypeId:"=",languages:"="};this.templateUrl="/api/template/Admin/EventCenterComponent"}return n}(),t;n.EventCenterComponent=i;t=function(){function n(n,t,i,r,u,f){this.$scope=t;this.$q=i;this.altaiConfirmationService=r;this.$rootScope=u;this.wmContainerFactory=f;this.eventService=n}return n.prototype.createContentItemForContentType=function(n,t){this.wmContainerFactory.createWindow(AltaiContent.ContentWindows.contentItemCreate,n,t)},n}()}(AltaiEvent||(AltaiEvent={}));!function(n){var i=function(){function n(){this.controller=t;this.bindings={contentTypeId:"=",languages:"="};this.templateUrl="/api/template/Admin/EventConfigureComponent"}return n}(),t;n.EventConfigureComponent=i;t=function(){function n(n,t,i,r,u,f){this.$scope=t;this.$q=i;this.altaiConfirmationService=r;this.$rootScope=u;this.wmContainerFactory=f;this.eventService=n}return n}()}(AltaiEvent||(AltaiEvent={}));!function(n){var i=function(){function n(){this.template='<md-button ng-click="$ctrl.openEventProfile($ctrl.contentItem)" class="md-button-altai md-raised"><i class="mdi mdi-view-list"><\/i> {{::\'open_event_profile\'|translate}} <\/md-button><md-button ng-click="$ctrl.updateContentItem($ctrl.contentItem)" class="md-button-altai md-raised"  ng-if="$ctrl.allowUpdate"><i class="mdi mdi-pencil"><\/i> {{::\'open_edit\'|translate}} <\/md-button><md-button ng-click="$ctrl.deleteContentItem($ctrl.contentItem)" class="md-button-altai md-raised" ng-if="$ctrl.allowUpdate"><i class="mdi mdi-delete"><\/i> {{::\'delete\'|translate}}<\/md-button>';this.controller=t;this.bindings={contentItem:"="}}return n}(),t;n.AltaiEventButtonsComponent=i;t=function(){function t(n,t,i,r,u){this.wmContainerFactory=n;this.altaiConfirmationService=t;this.contentItemService=i;this.eventService=u;var f=this;r.previewPossibleForType(f.contentItem.contentTypeId).then(function(n){f.allowPreview=n});r.editPossibleForType(f.contentItem.contentTypeId).then(function(n){f.allowUpdate=n})}return t.prototype.openEventProfile=function(t){this.wmContainerFactory.createWindow(n.EventWindows.eventProfileDetails,t.name+" details",t.id)},t.prototype.updateContentItem=function(n){this.wmContainerFactory.createWindow(AltaiContent.ContentWindows.contentItemUpdate,n.name,n.id)},t.prototype.deleteContentItem=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.contentItemService["delete"](n).then(function(){})})},t}()}(AltaiEvent||(AltaiEvent={}));!function(n){var i=function(){function n(){this.controller=t;this.bindings={contentItemId:"=",languages:"="};this.templateUrl="/api/template/Admin/EventProfileComponent"}return n}(),t;n.EventProfileComponent=i;t=function(){function t(n,t,i,r,u,f,e){this.contentItemService=n;this.eventService=t;this.$scope=i;this.$q=r;this.altaiLocalizationService=u;this.$rootScope=f;this.wmContainerFactory=e;this.loading=!0;this.enableRootCssContainer=!0;var o=this;o.toolbar={menuGroups:[{menuItems:[],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0};i.$watch("$ctrl.languages",function(n,t){if(o.languages&&n!=t&&(void 0!=t||void 0==t&&void 0==o.itemdata)){var i=o.languages.filter(function(n){return n.selected})[0];o.altaiLocalizationService.changeLang(i.code).then(function(){o.getData()})}},!0);this.getData();this.maximizeWindow()}return t.prototype.maximizeWindow=function(){var t=this.wmContainerFactory.findWindow(n.EventWindows.eventProfile,this.contentItemId);t&&(t.toggleMaximize(),this.wmContainerFactory.setHalfSize(t))},t.prototype.getData=function(){var n=this;n.loading=!0;n.contentItemService.getById(n.contentItemId).then(function(t){n.itemprofile=t;n.languages&&(n.activeLang=n.languages.filter(function(n){return n.selected})[0],n.contentItemService.getDataById(n.contentItemId,n.activeLang.code).then(function(t){n.itemdata=t;n.enableRootCssContainer=39!=n.itemdata.contentTypeId;n.itemprofile.templateId&&(n.templateurl="/api/template/"+n.itemprofile.templateId);n.loading=!1}))})},t}()}(AltaiEvent||(AltaiEvent={}));!function(n){var i=function(){function n(){this.controller=t;this.bindings={contentItemId:"=",languages:"="};this.templateUrl="/api/template/Admin/EventProfileDetailsComponent"}return n}(),t;n.EventProfileDetailsComponent=i;t=function(){function t(n,t,i,r,u,f,e,o,s,h,c,l,a,v){this.eventTypeManager=n;this.contentItemService=t;this.eventService=i;this.$scope=r;this.$q=u;this.altaiLocalizationService=f;this.altaiConfirmationService=e;this.$rootScope=o;this.wmContainerFactory=s;this.mailingCampaignManager=h;this.contentItemSelectionService=c;this.exposedContentCollectionQueryManager=l;this.$http=a;this.backgroundJobService=v;this.loading=!0;this.activeLang={code:void 0};this.creatingInvitations=!1;var y=this;y.selectionKey="eventreg"+y.contentItemId;y.contentItemSelectionService.clearSelections();y.toolbar={menuGroups:[{menuItems:[],align:"left"}],showLanguages:!0,allowMultipleLanguages:!1};r.$watch("$ctrl.languages",function(n,t){if(y.languages&&n!=t&&(void 0!=t||void 0==t&&void 0==y.itemdata)&&y.languages){var i=y.activeLang.code;y.activeLang=y.languages.filter(function(n){return n.selected})[0];i!=y.activeLang.code&&y.getData()}},!0);y.getData()}return t.prototype.halveWindow=function(){var t=this.wmContainerFactory.findWindow(n.EventWindows.eventProfileDetails,this.contentItemId);t&&(t.toggleHalf(),this.wmContainerFactory.setHalfSize(t))},t.prototype.createInvitations=function(n){var t=this,i=this;i.creatingInvitations=!0;42==n?this.$http.get("/api/comeosacevent/"+this.contentItemId+"/registrations").success(function(n){t.backgroundJobService.waitForJob(n).then(function(){t.creatingInvitations=!1})}):55==n?this.$http.get("/api/comeosnetevent/"+this.contentItemId+"/registrations").success(function(n){t.backgroundJobService.waitForJob(n).then(function(){t.creatingInvitations=!1})}):62==n&&this.$http.get("/api/comeoscomevent/"+this.contentItemId+"/registrations").success(function(n){t.backgroundJobService.waitForJob(n).then(function(){t.creatingInvitations=!1})})},t.prototype.previewEventItem=function(){var t=this;t.wmContainerFactory.createWindow(n.EventWindows.eventProfilePreview,"Preview",t.contentItemId)},t.prototype.send=function(n,t){var i=this,o=[],u=i.exposedContentCollectionQueryManager.getRequest(t,{id:i.contentItemId}),f=[],r,e;if(u)for(r=0;r<u.length;r++){var s=u[r].filterId,h=u[r].value,c=f.filter(function(n){return n.filterId==s})[0];c?c.values.push(h):f.push({filterId:s,values:[h]})}e=i.contentItemSelectionService.getSelection(i.selectionKey);e&&(o=e.map(function(n){return n.id}));i.altaiConfirmationService.confirm().then(function(){i.mailingCampaignManager.generateHtmlForCampaign(i.contentItemId,n.templateId).then(function(r){i.eventService.startEventMailingCampaign(i.contentItemId,n.id,o,f,t,r).then(function(){i.$scope.$broadcast("campaignStarted");i.closeDetailsWindow()})})})},t.prototype.closeDetailsWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.EventWindows.eventProfileDetails,t.contentItemId);t.wmContainerFactory.destroyWindow(i.id)},t.prototype.getData=function(){var n=this;n.loading=!0;n.languages&&(n.activeLang=n.languages.filter(function(n){return n.selected})[0],n.contentItemService.getContentTypeOfContentItem(n.contentItemId).then(function(t){n.itemdata={contentTypeId:t};n.loading=!1;n.eventTypeManager.getByContentTypeId(t).then(function(t){t&&(n.mailingCampaignTypes=t.mailingCampaignTypes)})}))},t}()}(AltaiEvent||(AltaiEvent={}));!function(n){var i=function(){function n(){this.controller=t;this.controllerAs="vm";this.bindings={contentItemId:"=",languages:"="};this.templateUrl="/api/template/Admin/EventProfilePreviewComponent"}return n}(),t;n.EventProfilePreviewComponent=i;t=function(){function t(n,t,i,r,u){this.wmContainerFactory=i;this.altaiLocalizationService=u;this.loading=!0;this.enableRootCssContainer=!0;var f=this;f.toolbar={menuGroups:[{menuItems:[],align:"left"}],showLanguages:!0,allowMultipleLanguages:!1};f.contentItemService=r;t.$on(AltaiContent.ContentEvents.contentItemUpdated,function(){f.getData()});t.$watch("vm.languages",function(n,t){f.languages&&n!=t&&(void 0!=t||void 0==t&&void 0==f.item)&&f.getData()},!0);f.getData();this.halveWindow()}return t.prototype.halveWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.EventWindows.eventProfilePreview,t.contentItemId);i&&(i.toggleHalf(),t.wmContainerFactory.setHalfSize(i))},t.prototype.getData=function(){var n=this;n.loading=!0;n.contentItemService.getById(n.contentItemId).then(function(t){n.languages&&(n.activeLang=n.languages.filter(function(n){return n.selected})[0],n.contentItemService.getDataById(n.contentItemId,n.activeLang.code).then(function(i){n.item=i;n.enableRootCssContainer=39!=n.item.contentTypeId;t.templateId&&(n.templateUrl="/api/template/"+t.templateId);n.loading=!1}))})},t.prototype.openUpdateItemWindow=function(){this.wmContainerFactory.createWindow(AltaiContent.ContentWindows.contentItemUpdate,"Update",this.contentItemId)},t}()}(AltaiEvent||(AltaiEvent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u,f){var e=n.call(this,"api/event","Event",i,t,r,u)||this;return e.mailingCampaignManager=f,e}return __extends(t,n),t.prototype.startEventMailingCampaign=function(n,t,i,r,u,f){var e=this,o=e.$q.defer();return e.altaiHttp.post("/api/contentItem/"+n+"/startEventMailingCampaign",{contentItemId:n,exposedContentCollectionId:u,mailingCampaignTypeId:t,sendToAll:0===i.length,selectedRegistrationIds:i,searchRequest:r,contentTranslatable:f}).then(function(n){o.resolve(n.data)}),o.promise},t}(AltaiCore.AltaiDataService);n.EventService=t}(AltaiEvent||(AltaiEvent={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/eventType","EventType",i,t,r,u)||this}return __extends(t,n),t.prototype.getByContentTypeId=function(n){var t=this,i=t.$q.defer();return t.list().then(function(t){var r=t.filter(function(t){return t.contentTypeId===n})[0];i.resolve(r)}),i.promise},t}(AltaiCore.AltaiDataService);n.EventTypeManager=t}(AltaiEvent||(AltaiEvent={}));!function(n){var t=angular.module("altai.event",["altai.core","ui.router","altai.content","altai.identity","xeditable","ngMaterial","angularMoment"]);t.service("eventService",n.EventService);t.service("eventTypeManager",n.EventTypeManager);t.component("eventCenter",new n.EventCenterComponent);t.component("altaiEventButtons",new n.AltaiEventButtonsComponent);t.component("eventProfile",new n.EventProfileComponent);t.component("eventProfileDetails",new n.EventProfileDetailsComponent);t.component("eventProfilePreview",new n.EventProfilePreviewComponent);t.run(function(n){n.theme="bs3";n.icon_set="mdi"});t.config(function(t,i){t.state("admin.event",{url:"/event",abstract:!0}).state("admin.event.center",{url:"/center",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.EventCenterController}}}).state("admin.event.configure",{url:"/configure",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.EventConfigureController}}});t.state("presenceregistration",{url:"/presenceregistration/:code/:present",system:!0,views:{bodyView:{altaiTemplate:"presenceregistration",altaiTemplateType:"admin",controllerAs:"$ctrl",controller:n.PresenceRegistrationController}}});i.add({name:"event",order:3,label:"event",icon:"mdi mdi-calendar menuicontoolbar"});i.add({parent:"event",name:"event.center",securable:"eventcenter",label:"eventcenter",icon:"mdi mdi-calendar",state:"admin.event.center"});i.add({parent:"event",name:"event.configure",securable:"config.eventcenter",label:"eventconfigure",icon:"mdi mdi-calendar",state:"admin.event.configure"})});config.modules.push("altai.event")}(AltaiEvent||(AltaiEvent={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/altaiMenusList",controller:i,controllerAs:"vm"}}n.AltaiMenusList=t;var i=function(){function t(n,t){this.wmContainerFactory=n;this.menusDataService=t;this.listMenus()}return t.prototype.listMenus=function(){var n=this;this.menusDataService.list().then(function(t){n.menus=t})},t.prototype.createMenu=function(){this.wmContainerFactory.createWindow(n.MenuWindows.menusAdd,"Add new menu")},t.prototype.updateMenu=function(t){this.wmContainerFactory.createWindow(n.MenuWindows.menusUpdate,"Update menu",t)},t.prototype.openMenuPreview=function(t){this.wmContainerFactory.createWindow(n.MenuWindows.menusPreview,"Menu preview",t)},t}()}(AltaiMenus||(AltaiMenus={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/altaiMenusAdd",controller:r,controllerAs:"vm",link:i}}n.AltaiMenusAdd=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.saveMenu()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),r=function(){function n(n,t,i,r){this.$rootScope=n;this.$templateFactory=t;this.$scope=i;this.menusDataService=r;var u=this;this.menu={childMenuItems:[],watchCounter:0};t.listTemplateByTypeName("menu").then(function(n){u.templates=n})}return n.prototype.saveMenu=function(){var n=angular.copy(this.menu);n.menuItems=n.childMenuItems;delete n.childMenuItems;this.menusDataService.add(n)},n}()}(AltaiMenus||(AltaiMenus={}));!function(n){function t(){return{template:"<tree-list tree-model='vm.treeData' ><\/tree-list>",controller:i,controllerAs:"vm",scope:{menuItems:"="}}}n.AltaiMenuTreeList=t;var i=function(){function n(n,t){this.$scope=n;this.$rootScope=t;var i=this;this.$scope.$watch("menuItems",function(){i.$scope.menuItems&&(i.treeData=i.parseMenuItemsDataToTreeData(i.$scope.menuItems))},!0);this.$scope.$on("treeExpandChange",function(){i.$scope.vm.treeData&&i.saveExpandedMenuChanges(i.treeData)},!0);this.$rootScope.$on("treeOrderUpdate",function(){i.treeData&&(i.tempMenuItems=angular.copy(i.$scope.menuItems),i.reverseMapOrder(i.treeData),i.sortMenuItems(i.tempMenuItems),i.$scope.menuItems=i.tempMenuItems)});this.$rootScope.$on("updateTreeOrder",function(){console.log("rearrange");i.treeData&&(i.tempMenuItems=angular.copy(i.$scope.menuItems),i.recalculateOrder(i.tempMenuItems),i.$scope.menuItems=i.tempMenuItems)})}return n.prototype.saveExpandedMenuChanges=function(n){for(var r,i=this,t=0;t<n.length;t++)r=i.recursiveSearch(i.$scope.menuItems,n[t].hash),r.expanded=n[t].expanded,n[t].childMenuItems&&i.saveExpandedMenuChanges(n[t].childMenuItems)},n.prototype.sortMenuItems=function(n){n.sort(function(n,t){return n.order<t.order?-1:n.order>t.order?1:0});for(var t=0;t<n.length;t++)n[t].childMenuItems&&this.sortMenuItems(n[t].childMenuItems)},n.prototype.reverseMapOrder=function(n){for(var t=0;t<n.length;t++)this.updateOrder(n[t].hash,n[t].order),n[t].items&&this.reverseMapOrder(n[t].items)},n.prototype.recalculateOrder=function(n){for(var t=0;t<n.length;t++)n[t].order=t,n[t].items&&this.reverseMapOrder(n[t].items)},n.prototype.updateOrder=function(n,t){var i=this.recursiveSearch(this.tempMenuItems,n);i.order=t},n.prototype.recursiveSearch=function(n,t){for(var r,i=0;i<n.length;i++){if(n[i].hash==t)return n[i];if(n[i].childMenuItems&&(r=this.recursiveSearch(n[i].childMenuItems,t),r))return r}},n.prototype.parseMenuItemsDataToTreeData=function(n){for(var i,r=[],t=0;t<n.length;t++)i={},this.setMenuItemHash(n[t]),i.hash=n[t].hash,i.title=this.parseTranslatableName(n[t].labelTranslatable.translatableValues),i.published=n[t].published,i.order=n[t].order||t,i.expanded=n[t].expanded,n[t].childMenuItems&&(i.items=this.parseMenuItemsDataToTreeData(n[t].childMenuItems)),r.push(i);return r},n.prototype.setMenuItemHash=function(n){n.hash||(n.hash=this.generateHash())},n.prototype.generateHash=function(){for(var r,n="abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&*()_",t="",i=0;10>i;i++)r=Math.round(Math.random()*n.length),t+=n.substr(r,1);return t},n.prototype.parseTranslatableName=function(n){for(var t=0;t<n.length;t++)if("nl"==n[t].languageCode)return n[t].value},n}()}(AltaiMenus||(AltaiMenus={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/altaiMenuItemManager",controller:i,controllerAs:"vm",bindToController:!0,scope:{menuItems:"=",languages:"="}}}n.AltaiMenuItemManager=t;var i=function(){function n(n,t,i,r){this.$rootScope=n;this.stateManager=t;this.menuItemDataService=i;this.wmContainerFactory=r;this.editMenuItem=!1;this.initMenuTreeListListeners();this.loadStates()}return n.prototype.initMenuTreeListListeners=function(){var n=this;this.$rootScope.$on("editTreeItem",function(t,i){n.expandMenuItemForm=!0;n.editMenuItem=!0;n.selectMenuItem(i)});this.$rootScope.$on("addTreeItem",function(t,i){if(delete n.menuItem,i){var r=n.findMenuItemInTree(n.menuItems,i);r&&r.childMenuItems?n.addItemParent=r.childMenuItems:r&&!r.childMenuItems&&(r.childMenuItems=[])}else delete n.addItemParent;n.expandMenuItemForm=!0;n.editMenuItem=!1});this.$rootScope.$on("addChildTreeItem",function(t,i){delete n.menuItem;var r=n.findMenuItemInTree(n.menuItems,i);r.childMenuItems||(r.childMenuItems=[]);n.addItemParent=r.childMenuItems;n.expandMenuItemForm=!0;n.editMenuItem=!1});this.$rootScope.$on("setSecurityTreeItem",function(t,i){n.menuItem=n.findMenuItemInTree(n.menuItems,i);n.setSecurityMenuItem()})},n.prototype.loadStates=function(){var n=this;this.stateManager.list().then(function(t){n.states=t})},n.prototype.deleteMenuItem=function(){var i=this,n=this.findMenuItemInTree(this.menuItems,this.menuItem.hash,!0),t;n.childMenuItems&&(n=n.childMenuItems);t=this.getMenuItemIndexInParent(n,this.menuItem.hash);this.menuItemDataService["delete"](n[t]).then(function(){n.splice(t,1);i.expandMenuItemForm=!1})},n.prototype.saveMenuItem=function(){this.menuItems[0].watchCounter++;this.editMenuItem=!1;delete this.menuItem;this.expandMenuItemForm=!1},n.prototype.addMenuItem=function(){this.menuItem.id=-1;this.addItemParent?(this.addItemParent.push(this.menuItem),this.menuItems[0].watchCounter++):(this.menuItem.watchCounter=0,this.menuItems.push(this.menuItem));this.expandMenuItemForm=!1;delete this.menuItem;this.$rootScope.$broadcast("updateTreeOrder")},n.prototype.setSecurityMenuItem=function(){var n=this;n.menuItem.id?n.wmContainerFactory.createWindow(AltaiIdentity.IdentityWindows.setSecurableAccesses,"Accesses",n.menuItem.id,{securableName:"menuitem"}):console.log("Save first")},n.prototype.getMenuItemIndexInParent=function(n,t){for(var i=0;i<n.length;i++)if(n[i].hash==t)return i},n.prototype.selectMenuItem=function(n){this.menuItem=this.findMenuItemInTree(this.menuItems,n)},n.prototype.findMenuItemInTree=function(n,t,i){for(var u,f,r=0;r<n.length;r++){if(n[r].hash==t){u=i?n:n[r];break}if(f=this.loopTroughChildMenuItems(n[r],t,i),f){u=f;break}}return u},n.prototype.loopTroughChildMenuItems=function(n,t,i){var r;return n.childMenuItems&&(r=this.findMenuItemInTree(n.childMenuItems,t,i)),r},n}()}(AltaiMenus||(AltaiMenus={}));!function(n){var t=function(){function t(t){this.wmContainerFactory=t;this.wmContainerFactory.createWindow(n.MenuWindows.menusList,"Menus")}return t}();n.MenusController=t}(AltaiMenus||(AltaiMenus={}));!function(n){var t=function(){function n(){}return n}();t.menusList=new AltaiWindowManager.wmWindowType("menusList","<altai-menus-list><\/altai-menus-list>",500,960,1600);t.menusAdd=new AltaiWindowManager.wmWindowType("menusAdd","<altai-menus-add><\/altai-menus-add>",750,960,1600);t.menusUpdate=new AltaiWindowManager.wmWindowType("menusUpdate","<altai-menus-update state-id='vm.window.entityId'><\/altai-menus-update>",750,960,1600);t.menusPreview=new AltaiWindowManager.wmWindowType("menusPreview","<altai-menu-preview state-id='vm.window.entityId'><\/altai-menu-preview>",750,960,1600);n.MenuWindows=t}(AltaiMenus||(AltaiMenus={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"/api/menubb","Menu BuildingBlock",i,t,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.MenuBbManager=t}(AltaiMenus||(AltaiMenus={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"/api/menu","Menu",i,t,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.MenusDataService=t}(AltaiMenus||(AltaiMenus={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/altaiMenusUpdate",controller:r,controllerAs:"vm",bindToController:!0,scope:{stateId:"="},link:i}}n.AltaiMenusUpdate=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.updateMenu()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),r=function(){function n(n,t){this.menusDataService=n;this.$templateFactory=t;this.loadTemplates();this.loadMenu()}return n.prototype.loadMenu=function(){var n=this;this.menusDataService.getById(this.stateId).then(function(t){n.menu=t})},n.prototype.loadTemplates=function(){var n=this;this.$templateFactory.listTemplateByTypeName("menu").then(function(t){n.templates=t})},n.prototype.updateMenu=function(){this.menusDataService.update(this.menu).then(function(){})},n}()}(AltaiMenus||(AltaiMenus={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/altaiMenuPreview",controller:i,controllerAs:"vm",bindToController:!0,scope:{stateId:"="}}}n.AltaiMenuPreview=t;var i=function(){function n(n){this.menusDataService=n;this.loadMenu()}return n.prototype.loadMenu=function(){var n=this;this.menusDataService.getById(this.stateId).then(function(t){n.menu=t;n.templateUrl="/api/template/"+t.templateId})},n}()}(AltaiMenus||(AltaiMenus={}));!function(n){var i=function(){function n(){this.controller=t;this.controllerAs="vm";this.templateUrl="/api/template/Admin/altaiMenuCreateBuildingBlock"}return n}(),t;n.altaiMenuCreateBuildingBlock=i;t=function(){function n(n,t,i){this.menusDataService=n;this.altaiEditModeService=t;this.$templateFactory=i;this.listMenus();this.listMenuTemplates()}return n.prototype.listMenus=function(){var n=this;n.menusDataService.list().then(function(t){n.menus=t})},n.prototype.listMenuTemplates=function(){var n=this;n.$templateFactory.listTemplateByTypeName("menu").then(function(t){n.templates=t})},n.prototype.saveMenuBuildingBlock=function(n){this.altaiEditModeService.createBuildingBlock("Menu",{menuId:n.menuId,templateId:n.templateId})},n}()}(AltaiMenus||(AltaiMenus={}));!function(n){var i=function(){function n(){this.controller=t;this.controllerAs="vm";this.templateUrl="/api/template/Admin/altaiMenuCreateBuildingBlock";this.bindings={menuBbId:"=",buildingBlockId:"="}}return n}(),t;n.AltaiMenuBuildingBlockUpdateComponent=i;t=function(){function n(n,t,i,r,u,f){this.menusDataService=n;this.buildingBlockManager=t;this.$q=i;this.menuBbManager=r;this.altaiEditModeService=u;this.$templateFactory=f;var e=this;e.loadMenuBbData();e.listMenus();e.listMenuTemplates()}return n.prototype.loadMenuBbData=function(){var n=this;n.menuBbManager.getById(n.menuBbId).then(function(t){n.menuBb=t})},n.prototype.listMenus=function(){var n=this;n.menusDataService.list().then(function(t){n.menus=t})},n.prototype.listMenuTemplates=function(){var n=this;n.$templateFactory.listTemplateByTypeName("menu").then(function(t){n.templates=t})},n.prototype.saveMenuBuildingBlock=function(n){var t=this;t.menuBbManager.update(n).then(function(){t.buildingBlockManager.reloadBuildingBlock(t.buildingBlockId)})},n}()}(AltaiMenus||(AltaiMenus={}));!function(n){var i=function(){function n(){this.controller=t;this.controllerAs="vm";this.templateUrl=function(n){return"/api/template/"+n.templateId};this.bindToController=!0;this.bindings={buildingBlockId:"=buildingBlockId",menuId:"="}}return n}(),t;n.altaiMenu=i;t=function(){function n(n,t,i){this.stateManager=n;this.menusDataService=i;var r=this;r.loadMenu(!0);t.$on("languageChanged",function(){r.loadMenu(!0)})}return n.prototype.loadMenu=function(n){void 0===n&&(n=!1);var t=this;this.buildingBlockId?this.menusDataService.getById(t.menuId,!n).then(function(n){t.menu=n;t.purgeUnpublished(t.menu.menuItems)}):this.menusDataService.getById(t.menuId,!n).then(function(n){t.menu=n;t.purgeUnpublished(t.menu);t.purgeUnpublished(t.menu.menuItems)})},n.prototype.purgeUnpublished=function(n){for(var i=this,t=0;t<n.length;t++)void 0!=n[t].childMenuItems&&i.purgeUnpublished(n[t].childMenuItems),n[t].published||n.splice(t,1)},n.prototype.assignURLs=function(n){for(var i=this,t=0;t<n.menuItems.length;t++)!function(t){n.menuItems[t].stateId&&i.stateManager.getById(n.menuItems[t].stateId).then(function(i){n.menuItems[t].url=i.url});null!=n.menuItems[t].childMenuItems&&void 0!=n.menuItems[t].childMenuItems&&i.assignURLsToChildren(n.menuItems[t].childMenuItems)}(t)},n.prototype.assignURLsToChildren=function(n){for(var i=this,t=0;t<n.length;t++)!function(t){var r=n[t];i.stateManager.getById(n[t].stateId).then(function(n){r.url=n.url});null!=n[t].childMenuItems&&void 0!=n[t].childMenuItems&&i.assignURLsToChildren(n[t].childMenuItems)}(t)},n}()}(AltaiMenus||(AltaiMenus={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"/api/menuItem","MenuItem",i,t,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.MenuItemDataService=t}(AltaiMenus||(AltaiMenus={}));!function(n){var t=angular.module("altai.menus",["altai.core","altai.identity","altai.pagebuilder","ui.sortable"]);t.component("altaiMenuCreateBuildingBlock",new n.altaiMenuCreateBuildingBlock);t.component("altaiMenuBuildingBlockUpdate",new n.AltaiMenuBuildingBlockUpdateComponent);t.component("altaiMenu",new n.altaiMenu);t.directive("altaiMenusList",n.AltaiMenusList);t.directive("altaiMenusAdd",n.AltaiMenusAdd);t.directive("menuTreeList",n.AltaiMenuTreeList);t.directive("altaiMenuItemManager",n.AltaiMenuItemManager);t.directive("altaiMenusUpdate",n.AltaiMenusUpdate);t.directive("altaiMenuPreview",n.AltaiMenuPreview);t.service("menuItemDataService",n.MenuItemDataService);t.service("menusDataService",n.MenusDataService);t.service("menuBbManager",n.MenuBbManager);t.config(function(t,i,r,u){t.state("admin.site",{url:"/site",abstract:!0,system:!0}).state("admin.site.menus",{url:"/menus",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.MenusController}}});u.add({name:"Menu",label:"Menu",directive:"altai-menu",icon:"mdi-menu",updateComponent:"<altai-menu-building-block-update menu-bb-id='activeBuildingBlockInstanceId' building-block-id='activeBuildingBlockId'><\/altai-menu-building-block-update>",createComponent:"<altai-menu-create-building-block><\/altai-menu-create-building-block>"})});t.run(function(n,t,i){n.mode="view";n.$state=t;n.$stateParams=i;n.$on("$stateChangeSuccess",function(t,i,r,u){n.previousState=u})});config.modules.push("altai.menus")}(AltaiMenus||(AltaiMenus={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl="/api/template/Admin/FileManager:FileListInner";this.bindings={results:"=",displayMode:"=",selection:"="}}return n}(),t;n.AltaiFileListInnerComponent=i;t=function(){function t(n,t,i,r,u){this.altaiFileManager=n;this.altaiFileSelectionService=t;this.wmContainerFactory=i;this.altaiConfirmationService=r;this.contentItemService=u;this.displayMode="grid";this.documentExtensions=[".docx",".pdf",".pptx",".xlsx"];var f=this;f.selectedItems=t.getSelection(f.selection)}return t.prototype.openCreateFileWindow=function(){this.wmContainerFactory.createWindow(n.FileManagerWindows.fileCreate,"CreateFile")},t.prototype.selectFile=function(n){var t=this;this.selectable?t.altaiFileSelectionService.selectSelectableFile(t.selection,n):t.altaiFileSelectionService.selectFile(t.selection,n)},t.prototype.isSelected=function(n){if(this.selectable)for(var i=this,t=0;t<i.selectedItems.length;t++)if(i.selectedItems[t].id==n)return!0;return!1},t.prototype.updateFile=function(n){this.wmContainerFactory.createWindow(AltaiContent.ContentWindows.contentItemUpdate,"Update file",n.id)},t.prototype.deleteFile=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.contentItemService["delete"](n).then(function(){})})},t}()}(AltaiFileManager||(AltaiFileManager={}));!function(n){function t(t){t.createWindow(n.FileManagerWindows.fileList,"Files")}n.FileListController=t}(AltaiFileManager||(AltaiFileManager={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/FileCreate";this.controller=t;this.bindings={languages:"<",selectionKey:"<",embedded:"@",instantUpload:"@"}}return n}(),t;n.AltaiFileCreateComponent=i;t=function(){function n(n,t,i,r,u,f,e){this.altaiFileManager=n;this.altaiFileSelectionService=t;this.wmContainerFactory=i;this.Upload=r;this.$q=u;this.altaiNotificationFactory=f;this.$rootScope=e;this.files=[];this.invalidExtension=!1}return n.prototype.$onInit=function(){this.embedded||this.initToolbar()},n.prototype.initToolbar=function(){var n=this;n.toolbar={menuGroups:[{menuItems:[{icon:"mdi-upload",translatableLabelId:"Upload",action:function(){n.uploadFiles(n.files)},"class":"altai-button-primary",name:"upload",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}},n.prototype.selectFiles=function(n){this.instantUpload?this.uploadFiles(n):this.addFilesToModel(n)},n.prototype.addFilesToModel=function(n){for(var t=0;t<n.length;t++)this.files.push(n[t])},n.prototype.uploadFiles=function(n){for(var t=this,i=[],r=0;r<n.length;r++)!function(n){100!=n.progress&&i.push(t.Upload.upload({url:"/api/upload/",file:n}).then(function(i){if(i&&"UNSUPPORTED_FILE_EXTENSION"==i.data)t.invalidExtension=!0;else{if(!n.labelTranslatable){n.labelTranslatable={translatableValues:[]};for(var r=0;r<t.languages.length;r++)n.labelTranslatable.translatableValues.push({languageCode:t.languages[r].code,value:n.name})}t.$rootScope.$broadcast("fileUploadInProgress");t.altaiFileManager.add({name:i.data,labelTranslatable:n.labelTranslatable,size:n.size,fileType:n.type}).then(function(n){t.altaiFileSelectionService.selectFile(t.selectionKey,n);t.$rootScope.$broadcast("fileUploadDone")})}},function(n){n.status>0&&alert(n.data)},function(t){n.progress=Math.min(100,100*t.loaded/t.total)}))}(n[r]);i.length>0&&this.$q.all(i).then(function(){t.files=[];t.invalidExtension?t.altaiNotificationFactory.error("Unsupported file extension"):t.altaiNotificationFactory.success("Upload succeeded");t.invalidExtension=!1})},n}()}(AltaiFileManager||(AltaiFileManager={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl="/api/template/Admin/FileList";this.bindings={selection:"=",selectable:"="}}return n}(),t;n.AltaiFileListComponent=i;t=function(){function t(n,t,i,r,u,f,e){this.altaiFileManager=n;this.altaiFileSelectionService=t;this.wmContainerFactory=i;this.altaiConfirmationService=r;this.contentItemService=u;this.$filter=e;this.mode="grid";this.fileSearchModel={page:0};this.documentExtensions=[".docx",".pdf",".pptx",".xlsx"];var o=this;o.getData();o.selectedItems=t.getSelection(o.selection);f.$watch("$ctrl.fileSearchModel",function(){o.getData()},!0);f.$on(AltaiContent.ContentEvents.contentItemUpdated,function(){o.getData()});this.initFilters()}return t.prototype.getData=function(){var n=this;n.altaiFileManager.listAdvanced(n.fileSearchModel).then(function(t){n.files=t})},t.prototype.initFilters=function(){var t=this,n;for(this.docFilter={name:t.$filter("translate")("documents"),childItems:[]},this.imageFilter={name:t.$filter("translate")("images")},n=0;n<this.documentExtensions.length;n++)this.docFilter.childItems.push({name:this.documentExtensions[n]});this.filterSettings={doc:this.docFilter.name,image:this.imageFilter.name};this.activeDocFilters=[];this.activeImageFilters=[]},t.prototype.openCreateFileWindow=function(){this.wmContainerFactory.createWindow(n.FileManagerWindows.fileCreate,"CreateFile")},t.prototype.changeViewMode=function(n){this.mode=n},t.prototype.openPage=function(n){this.fileSearchModel.page=n},t.prototype.selectFile=function(n){var t=this;this.selectable?t.altaiFileSelectionService.selectSelectableFile(t.selection,n):t.altaiFileSelectionService.selectFile(t.selection,n)},t.prototype.isSelected=function(n){if(this.selectable)for(var i=this,t=0;t<i.selectedItems.length;t++)if(i.selectedItems[t].id==n)return!0;return!1},t.prototype.updateFile=function(n){this.wmContainerFactory.createWindow(AltaiContent.ContentWindows.contentItemUpdate,"Update file",n.id)},t.prototype.deleteFile=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.contentItemService["delete"](n).then(function(){t.getData()})})},t}()}(AltaiFileManager||(AltaiFileManager={}));!function(n){var t=function(){function n(){}return n}();t.fileList=new AltaiWindowManager.wmWindowType("fileList","<altai-file-list selection='vm.window.entityId'><\/altai-file-list>",600,960,1600);t.selectableFilelist=new AltaiWindowManager.wmWindowType("fileList","<altai-file-list selection='vm.window.entityId' selectable='true'><\/altai-file-list>",600,960,1600);t.fileCreate=new AltaiWindowManager.wmWindowType("fileCreate","<altai-file-create languages='vm.languages'><\/altai-file-create>",800,960,1600,!0,!0);n.FileManagerWindows=t;config.windows.push(t.fileList);config.windows.push(t.selectableFilelist);config.windows.push(t.fileCreate)}(AltaiFileManager||(AltaiFileManager={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"/api/file","File",i,t,r,u)||this}return __extends(t,n),t.prototype.add=function(n){var i=this.$q.defer(),t=this;return this.$http.post(this.apiUrl,n).success(function(n){t.listAdvanced(t.lastUsedSearchModel);i.resolve(n)}).error(function(){t.error("Could not POST "+this.apiUrl)}),i.promise},t.prototype.listAdvanced=function(n){var t=this.$q.defer(),i=this;return n&&(i.lastUsedSearchModel=n,this.dataList.length?t.resolve(this.dataList):this.$http.post(this.apiUrl+"/list",n).success(function(n){angular.copy(n,i.dataList);t.resolve(i.dataList)}).error(function(){i.error("Could not GET "+this.apiUrl);t.reject()})),t.promise},t}(AltaiCore.AltaiDataService);n.AltaiFileManager=t}(AltaiFileManager||(AltaiFileManager={}));!function(n){var t=function(){function n(){this.selectionMode={};this.selection={}}return n.prototype.selectFile=function(n,t){this.selection[n]||(this.selection[n]=[]);!this.isFileSelected(n,t)&&this.hasRoomLeft(n)&&this.selection[n].push(t)},n.prototype.selectSelectableFile=function(n,t){this.selection[n]||(this.selection[n]=[]);this.isFileSelected(n,t)?this.selection[n].splice(this.getFileSelectedId(n,t),1):!this.isFileSelected(n,t)&&this.hasRoomLeft(n)&&this.selection[n].push(t)},n.prototype.isFileSelected=function(n,t){return this.getFileSelectedId(n,t)>=0},n.prototype.getFileSelectedId=function(n,t){return this.selection[n].indexOf(t)},n.prototype.hasRoomLeft=function(n){return this.selection[n]||(this.selection[n]=[]),this.selectionMode[n]?!0:0===this.selection[n].length},n.prototype.getSelection=function(n){return this.selection[n]||(this.selection[n]=[]),this.selection[n]},n.prototype.removeFromSelection=function(n,t){var i=this.selection[n].indexOf(t);this.selection[n].splice(i,1)},n.prototype.clearSelection=function(n){this.selection[n]=[]},n.prototype.setMode=function(n,t){this.selectionMode[n]=t},n}();n.AltaiFileSelectionService=t}(AltaiFileManager||(AltaiFileManager={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl="/api/template/Admin/fileFilter";this.bindings={inputModel:"=",outputModel:"="}}return n}(),t;n.AltaiFileFilterComponent=i;t=function(){function n(){(!this.outputModel||this.outputModel.length<=0)&&(this.outputModel=[])}return n.prototype.selectTag=function(n){var i=!n.checked,t;if(n.checked=i,this.updateTagInOutput(n,i),n.childItems)for(t=0;t<n.childItems.length;t++)n.childItems[t].checked=i,this.updateTagInOutput(n.childItems[t],i)},n.prototype.updateTagInOutput=function(n,t){var i=this.getIndexOfTagInOuput(n);t?-1==i&&this.outputModel.push(n.name):i>-1&&this.outputModel.splice(i,1)},n.prototype.getIndexOfTagInOuput=function(n){for(var t=0;t<this.outputModel.length;t++)if(n.name==this.outputModel[t])return t;return-1},n.prototype.isSelected=function(n){return n.checked},n}()}(AltaiFileManager||(AltaiFileManager={}));!function(n){function t(){return function(n){return n}}n.altaiFileFilter=t}(AltaiFileManager||(AltaiFileManager={}));!function(n){var t=function(){function n(){}return n}();t.fileUploadedEvent="fileUploadedEvent";n.FileEvents=t}(AltaiFileManager||(AltaiFileManager={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl="/api/template/Admin/FileManager:ContentRelationFilelist";this.bindings={model:"=",contentTypeRelationLink:"<",inputModel:"=",languages:"="};this.require={altaiContentItemCreate:"?^altaiContentItemCreate",altaiContentItemUpdate:"?^altaiContentItemUpdate"}}return n}(),t;n.AltaiContentRelationFileListComponent=i;t=function(){function t(n,t,i,r,u){var f,e;this.altaiFileSelectionService=n;this.contentItemService=i;this.$q=r;this.wmContainerFactory=u;f=this;f.fileManagerSelectionkey="rel"+f.contentTypeRelationLink.id;f.altaiFileSelectionService.clearSelection(f.fileManagerSelectionkey);f.selectedFiles=n.getSelection(f.fileManagerSelectionkey);n.setMode(f.fileManagerSelectionkey,f.contentTypeRelationLink.allowMultiple);this.sortableOptions={handle:".file-sort-handle"};t.$watch("$ctrl.selectedFiles",function(n){n&&n.length>0&&(f.updateModel(),e())},!0);e=t.$watch("$ctrl.model",function(){f.model&&f.model.length&&(f.buildInitialModel(),e())},!0)}return t.prototype.buildInitialModel=function(){function t(t){var i=n.$q.defer();return n.loadFile(t).then(function(t){n.selectedFiles.push(t);n.addSaveObserver(t);i.resolve()}),i.promise}var n=this;this.model&&this.model.reduce(function(n,i){return void 0===n.then&&(n.resolve(),n=n.promise),n.then(function(){return t(i)})},n.$q.defer())},t.prototype.openFileManager=function(){this.wmContainerFactory.createWindow(n.FileManagerWindows.selectableFilelist,this.contentTypeRelationLink.label,"rel"+this.contentTypeRelationLink.id)},t.prototype.loadFile=function(n){var t=this,i=this.$q.defer();return this.contentItemService.getById(n.id,!1).then(function(r){var u=r.contentItemAttributes.filter(t.filterTranslatableLabel),e=r.contentItemAttributes.filter(t.filterFile),f;(n.imagePath=e[0].value,n.contentItemAttributes=r.contentItemAttributes,n.contentItemRelationLinks=r.contentItemRelationLinks,n.contentType=r.contentType,n.contentTypeId=r.contentTypeId,u&&u.length>0&&(n.labelTranslatable=u[0].translatable,n.labelTranslatableId=u[0].translatable.id),n.name=r.name,n.editable=!0,!n.isImage&&n.imagePath)&&(f=n.imagePath.toLowerCase().indexOf(".png")&&n.imagePath.toLowerCase().indexOf(".jpg"));n.isImage=-1==f?!1:!0;i.resolve(n)}),i.promise},t.prototype.filterTranslatableLabel=function(n){return!!(n&&n.contentTypeAttribute&&n.contentTypeAttribute.attribute&&n.contentTypeAttribute.attribute.name&&"label"==n.contentTypeAttribute.attribute.name)},t.prototype.filterFile=function(n){return!!(n&&n.contentTypeAttribute&&n.contentTypeAttribute.attribute&&n.contentTypeAttribute.attribute.name.indexOf("file")>-1)},t.prototype.deleteFile=function(n){var t=this;this.selectedFiles.map(function(i,r){i.id==n&&t.selectedFiles.splice(r,1)});this.model.map(function(i,r){i.id==n&&t.model.splice(r,1)})},t.prototype.updateModel=function(){var n=this,t,i;if(n.selectedFiles)if(t=n.getNewlyAddedFiles(),t.length){for(i=0;i<t.length;i++)!function(i){n.addSaveObserver(t[i])}(i);n.addNewlyAddedFilesToModel(t)}else n.selectedFiles.length==n.model.length&&n.syncOrderBetweenModels()},t.prototype.addSaveObserver=function(n){function r(){var i=t.$q.defer();return t.contentItemService.update(n).then(function(n){i.resolve(n)}),i.promise}var t=this,i=t.altaiContentItemCreate?t.altaiContentItemCreate:t.altaiContentItemUpdate;i&&i.observeSave(r)},t.prototype.getNewlyAddedFiles=function(){var n=this;return n.selectedFiles.filter(function(t,i){return t.index=i,0==n.model.filter(function(n){return t.id==n.id}).length})},t.prototype.addNewlyAddedFilesToModel=function(n){for(var i=this,t=0;t<n.length;t++)n[t].contentItemAttributes||(i.model.push({id:n[t].id,order:i.model.length}),function(n){i.loadFile(n).then(function(t){i.selectedFiles[n.index]=t})}(n[t]))},t.prototype.syncOrderBetweenModels=function(){for(var t,i=[],r=this,n=0;n<r.selectedFiles.length;n++)t=this.model.filter(function(t){return t.id==r.selectedFiles[n].id}),t.length&&i.push({id:t[0].id});this.model=i;this.updateModelOrder()},t.prototype.updateModelOrder=function(){var n=0;this.model.map(function(t){t.order=n++})},t}()}(AltaiFileManager||(AltaiFileManager={}));!function(n){var t=angular.module("altai.filemanager",["altai.content"]);t.component("altaiFileList",new n.AltaiFileListComponent);t.component("altaiFileCreate",new n.AltaiFileCreateComponent);t.component("altaiFileFilter",new n.AltaiFileFilterComponent);t.component("altaiContentRelationFileList",new n.AltaiContentRelationFileListComponent);t.component("altaiFileListInner",new n.AltaiFileListInnerComponent);t.service("altaiFileManager",n.AltaiFileManager);t.service("altaiFileSelectionService",n.AltaiFileSelectionService);t.filter("altaiFileFilter",n.altaiFileFilter);t.config(function(t){t.state("admin.filemanager",{url:"/file",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.FileListController}}})});config.modules.push(t.name)}(AltaiFileManager||(AltaiFileManager={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/textblock","textblock",i,t,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.TextBlockManager=t}(AltaiTextBlockModule||(AltaiTextBlockModule={}));!function(n){var i=function(){function n(){this.controller=t;this.template="<div ng-transclude><\/div>";this.transclude=!0;this.bindings={textBlockId:"=altaiBbInstanceId"}}return n}(),t;n.AltaiTextBlockComponent=i;t=function(){function n(){}return n}()}(AltaiTextBlockModule||(AltaiTextBlockModule={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/AltaiTextBlockBuildingBlockUpdateComponent";this.controller=t;this.bindings={textBlockId:"=",buildingBlockId:"="}}return n}(),t;n.AltaiTextBlockBuildingBlockUpdateComponent=i;t=function(){function n(n,t,i){this.languageFactory=n;this.buildingBlockManager=t;this.textBlockManager=i;var r=this;i.getById(r.textBlockId).then(function(n){r.textBlock=n})}return n.prototype.$onInit=function(){var n=this;n.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.saveTextBlock()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}},n.prototype.saveTextBlock=function(){var n=this;n.textBlockManager.update(n.textBlock).then(function(){n.buildingBlockManager.reloadBuildingBlock(n.buildingBlockId)})},n}()}(AltaiTextBlockModule||(AltaiTextBlockModule={}));!function(n){var t=angular.module("altai.textblock",[]);t.component("altaiTextBlock",new n.AltaiTextBlockComponent);t.component("altaiTextBlockBuildingBlockUpdate",new n.AltaiTextBlockBuildingBlockUpdateComponent);t.service("textBlockManager",n.TextBlockManager);t.config(function(n){n.add({name:"TextBlock",icon:"mdi-format-align-center",label:"TextBlock",directive:"altai-text-block",updateComponent:"<altai-text-block-building-block-update text-block-id='activeBuildingBlockInstanceId' building-block-id='activeBuildingBlockId'><\/altai-text-block-building-block-update>"})})}(AltaiTextBlockModule||(AltaiTextBlockModule={}));config.modules.push("altai.textblock");__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"api/elasticsearch/favourites","myFavourites",i,t,r,u)||this}return __extends(t,n),t.prototype.getMyFavourites=function(n){var t=this.$q.defer();return this.$http({method:"GET",url:this.apiUrl+"/",headers:{"Accept-Language":n}}).success(function(n){t.resolve(n)}),t.promise},t}(AltaiCore.AltaiDataService);n.MyFavouriteManager=t}(AltaiMyFavouriteModule||(AltaiMyFavouriteModule={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl="/api/template/Admin/FavouriteContentItemComponent"}return n}(),t;n.AltaiMyFavouriteComponent=i;t=function(){function n(n,t){this.myFavouriteManager=t;this.contentItems=[];var i=this;t.getMyFavourites().then(function(n){i.contentItems=n})}return n}()}(AltaiMyFavouriteModule||(AltaiMyFavouriteModule={}));!function(n){var t=angular.module("altai.myfavourite",[]);t.component("altaiMyFavourite",new n.AltaiMyFavouriteComponent);t.service("myFavouriteManager",n.MyFavouriteManager);t.config(function(n){n.add({name:"MyFavourite",icon:"mdi mdi-heart",label:"My Favourites",directive:"altai-my-favourite"})})}(AltaiMyFavouriteModule||(AltaiMyFavouriteModule={}));config.modules.push("altai.myfavourite");!function(n){var t,i,r,u;CKEDITOR.plugins.add("altaiLink",{init:function(n){n.addCommand("insertAltaiLink",{exec:function(){t.$broadcast("altaiLinkOpened",{editor:n})}});n.ui.addButton("AltaiLink",{label:"Insert altai link",command:"insertAltaiLink",toolbar:"insert",icon:"anchor"});var i=this.path;n.addContentsCss(i+"styles/altaiLink.css")}});CKEDITOR.dialog.add("altaiLinkDialog",function(n){return{title:"Create altai link",minWidth:400,minHeight:200,contents:[{id:"tab-basic",label:"Basic Settings",elements:[{type:"select",id:"contentItemId",label:"Content item",items:[[n.lang.common.notSet,""]],onChange:function(){var t,r;i.clear();t=this.getValue();i.add(n.lang.common.notSet,"");r=localStorage.getItem("accessToken");$.ajax({url:"/api/content/"+t+"/linkedItems",type:"GET",beforeSend:function(n){n.setRequestHeader("Authorization","Bearer "+r)},success:function(n){$.each(n,function(n,t){i.add(t.contentTypeName+" | "+t.name,t.id)})}})},onLoad:function(){var i=this,n;alert("load");t.$broadcast("test");n=localStorage.getItem("accessToken");$.ajax({url:"/api/content/list",type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+n)},success:function(n){$.each(n,function(n,t){i.add(t.contentTypeName+" | "+t.name,t.id)})}})}},{type:"select",id:"contentItemSubItemId",label:"Content subitem",items:[[n.lang.common.notSet,""]],onLoad:function(){i=this}}]}],onOk:function(){var r=this,u=r.getValueOf("tab-basic","contentItemId"),f=r.getValueOf("tab-basic","contentItemSubItemId"),e=n.getSelection(),t,i;u&&(t='<span altai-link content-item-target="'+u+'"',f&&(t+='content-sub-item-target="'+f+'"'),i=encodeURI(e.getSelectedText()),t+=' text="'+i+'">'+i+"<\/span>",console.log(t),n.insertHtml(t))}}});r=function(){function n(){this.controller=u;this.restrict="E";this.template="<div><\/div>";this.require={ngModel:"?ngModel"};this.bindings={template:"@"}}return n}();n.AltaiTextEditorComponent=r;u=function(){function n(n,i,r,u,f,e){this.$scope=n;this.contentItemSelectionService=i;this.$rootScope=r;this.$element=u;this.$timeout=f;var o=this;t=n;n.$on("dragstart",function(){CKEDITOR.instances[o.ck.name].destroy()});n.$on("dragstop",function(){o.startEditor()});t.$on("altaiLinkOpened",function(t,r){var f,u="altaiLink"+Math.floor(1e3*Math.random()+1);n.$apply(function(){f=e.createWindow(AltaiContent.ContentWindows.contentItemSelect,"Select",null,{selectionKey:u})});i.observeSelection(u,function(){var t=i.getSelection(u)[0],s=r.editor.getSelection(),o,n;t&&(o='<span altai-link content-item-target="'+t.id+'" content-type-id="'+t.contentTypeId+'"',n=s.getSelectedText(),0==n.length&&(n="altai-link"),o+=' text="'+n+'">'+n+"<\/span>",r.editor.insertHtml(o),i.removeFromSelection(u,t));f&&e.destroyWindow(f.id)})})}return n.prototype.startEditor=function(){var n=this,t=n.$element[0].children[0];"complex"==n.template&&(n.ck=CKEDITOR.replace(t,{customConfig:"",allowedContent:!0,skin:"moono-lisa",extraAllowedContent:"a(*){*}[*]",height:"500",width:"100%",format_tags:"p;h2;h3",extraPlugins:"altaiLink,altaiUpload,justify,find,tableresize,iframe",imageBrowser_listUrl:"/api/image",toolbar:[{name:"basicstyles",items:["Bold","Subscript","Superscript","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","CreateDiv","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","BidiLtr","BidiRtl","Language"]},"/",{name:"links",items:["Link","Unlink","AltaiLink"]},{name:"insert",items:["AltaiUpload","AltaiUploadImage","Table","Iframe"]},{name:"clipboard",items:["-","Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"editing",items:["Find","Replace","-","SelectAll","-","Scayt"]},{name:"styles",items:["Format"]},{name:"document",items:["Source"]},{name:"tools",items:["Maximize","ShowBlocks"]}]}));"complexsmall"==n.template&&(n.ck=CKEDITOR.replace(t,{customConfig:"",allowedContent:!0,skin:"moono-lisa",extraAllowedContent:"a(*){*}[*]",height:"100",width:"100%",format_tags:"p;h2;h3",extraPlugins:"altaiLink,altaiUpload,justify,find,tableresize,iframe",imageBrowser_listUrl:"/api/image",toolbar:[{name:"basicstyles",items:["Bold","Subscript","Superscript","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","CreateDiv","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","BidiLtr","BidiRtl","Language"]},"/",{name:"links",items:["Link","Unlink","AltaiLink"]},{name:"insert",items:["AltaiUpload","AltaiUploadImage","Table","Iframe"]},{name:"clipboard",items:["-","Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"editing",items:["Find","Replace","-","SelectAll","-","Scayt"]},{name:"styles",items:["Format"]},{name:"document",items:["Source"]},{name:"tools",items:["Maximize","ShowBlocks"]}]}));"complexmiddle"==n.template?n.ck=CKEDITOR.replace(t,{customConfig:"",allowedContent:!0,skin:"moono-lisa",extraAllowedContent:"a(*){*}[*]",height:"200",width:"100%",format_tags:"p;h2;h3",extraPlugins:"altaiLink,altaiUpload,justify,find,tableresize,iframe",imageBrowser_listUrl:"/api/image",toolbar:[{name:"basicstyles",items:["Bold","Subscript","Superscript","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","CreateDiv","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","BidiLtr","BidiRtl","Language"]},"/",{name:"links",items:["Link","Unlink","AltaiLink"]},{name:"insert",items:["AltaiUpload","AltaiUploadImage","Table","Iframe"]},{name:"clipboard",items:["-","Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"editing",items:["Find","Replace","-","SelectAll","-","Scayt"]},{name:"styles",items:["Format"]},{name:"document",items:["Source"]},{name:"tools",items:["Maximize","ShowBlocks"]}]}):"complexpageeditor"==n.template?n.ck=CKEDITOR.replace(t,{customConfig:"",allowedContent:!0,skin:"moono-lisa",extraAllowedContent:"a(*){*}[*]",height:"500",width:"100%",format_tags:"p;h1;h2;h3;h4",extraPlugins:"altaiLink,altaiUpload,justify,find,tableresize,iframe",imageBrowser_listUrl:"/api/image",toolbar:[{name:"basicstyles",items:["Bold","Italic","Subscript","Superscript","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","CreateDiv","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","BidiLtr","BidiRtl","Language"]},"/",{name:"links",items:["Link","Unlink","AltaiLink"]},{name:"insert",items:["AltaiUpload","AltaiUploadImage","Table","Iframe"]},{name:"clipboard",items:["-","Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"editing",items:["Find","Replace","-","SelectAll","-","Scayt"]},{name:"styles",items:["Format"]},{name:"document",items:["Source"]},{name:"tools",items:["Maximize","ShowBlocks"]}]}):"minimal"==n.template?n.ck=CKEDITOR.replace(t,{customConfig:"",width:"100%",height:100,skin:"moono-lisa",imageBrowser_listUrl:"/api/image",removeButtons:"Source,Save,NewPage,DocProps,Preview,Print,Templates,document,Cut,Copy,Paste,PasteText,PasteFromWord,Undo,Redo,Find,Replace,SelectAll,Scayt,Form,Checkbox,Radio,TextField,Textarea,Select,Button,ImageButton,HiddenField,Bold,Italic,Underline,Strike,Subscript,Superscript,RemoveFormat,NumberedList,BulletedList,Outdent,Indent,Blockquote,CreateDiv,JustifyLeft,JustifyCenter,JustifyRight,JustifyBlock,BidiLtr,BidiRtl,Link,Unlink,Anchor,CreatePlaceholder,Image,Flash,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,InsertPre,Styles,Format,Font,FontSize,TextColor,BGColor,UIColor,Maximize,ShowBlocks,button1,button2,button3,oembed,MediaEmbed,About",toolbarGroups:[]}):"minimalsmall"==n.template&&(n.ck=CKEDITOR.replace(t,{customConfig:"",width:"100%",height:100,skin:"moono-lisa",imageBrowser_listUrl:"/api/image",removeButtons:"Source,Save,NewPage,DocProps,Preview,Print,Templates,document,Cut,Copy,Paste,PasteText,PasteFromWord,Undo,Redo,Find,Replace,SelectAll,Scayt,Form,Checkbox,Radio,TextField,Textarea,Select,Button,ImageButton,HiddenField,Bold,Italic,Underline,Strike,Subscript,Superscript,RemoveFormat,NumberedList,BulletedList,Outdent,Indent,Blockquote,CreateDiv,JustifyLeft,JustifyCenter,JustifyRight,JustifyBlock,BidiLtr,BidiRtl,Link,Unlink,Anchor,CreatePlaceholder,Image,Flash,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,InsertPre,Styles,Format,Font,FontSize,TextColor,BGColor,UIColor,Maximize,ShowBlocks,button1,button2,button3,oembed,MediaEmbed,About",toolbarGroups:[]}));"complexemail"==n.template&&(n.ck=CKEDITOR.replace(t,{customConfig:"",fullPage:!0,allowedContent:{$1:{elements:CKEDITOR.dtd,attributes:!0,styles:!0,classes:!0}},skin:"moono-lisa",disallowedContent:"iframe",extraAllowedContent:"a(*){*}[*]",height:"500",width:"100%",format_tags:"p;h2;h3",extraPlugins:"altaiLink,altaiUpload,justify,find,tableresize",imageBrowser_listUrl:"/api/image",toolbar:[{name:"basicstyles",items:["Bold","Subscript","Superscript","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","CreateDiv","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","BidiLtr","BidiRtl","Language"]},"/",{name:"links",items:["Link","Unlink","AltaiLink"]},{name:"insert",items:["AltaiUpload","AltaiUploadImage","Table","Iframe"]},{name:"clipboard",items:["-","Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"editing",items:["Find","Replace","-","SelectAll","-","Scayt"]},{name:"styles",items:["Format"]},{name:"document",items:["Source"]},{name:"tools",items:["Maximize","ShowBlocks"]}],removeButtons:"Iframe"}))},n.prototype.dataFiltered=function(){var n=this;n.$timeout(function(){n.ngModel.$setViewValue(n.ck.getData())})},n.prototype.$onInit=function(){var n=this;n.startEditor();n.ck.on("change",function(){n.$timeout(function(){n.ngModel.$setViewValue(n.ck.getData())})});n.ck.on("dataReady",function(){n.$timeout(function(){n.ngModel.$setViewValue(n.ck.getData())})});n.ngModel.$render=function(){n.ck.setData(n.ngModel.$viewValue)}},n}()}(AltaiTextEditor||(AltaiTextEditor={}));!function(n){var t=angular.module("altai.texteditor",["ngSanitize"]);t.component("altaiTextEditor",new n.AltaiTextEditorComponent);config.modules.push(t.name)}(AltaiTextEditor||(AltaiTextEditor={}));!function(n){var t=function(){function n(n,t,i,r){this.$http=t;this.urlParameterService=i;this.$state=r;this.loading=!1;this.unsubscribed=!1;this.error=!1}return n.prototype.unsubscribe=function(){var n=this;n.loading=!0;n.$http.get("api/comeos/unsubscribeactu?userToken="+n.urlParameterService("userToken")).then(function(t){t?(n.loading=!1,n.error=!1,n.unsubscribed=!0,setTimeout(function(){n.$state.go("Root.Home")},5e3)):(n.loading=!1,n.error=!0,n.unsubscribed=!1)})},n.prototype.cancel=function(){var n=this;n.$state.go("Root.Home")},n}();n.UnsubscribeActuController=t}(ComeosModule||(ComeosModule={}));!function(n){var t=function(){function n(n,t,i,r){this.$http=t;this.urlParameterService=i;this.$state=r;this.loading=!1;this.unsubscribed=!1;this.error=!1}return n.prototype.unsubscribe=function(){var n=this;n.loading=!0;n.$http.get("api/comeos/unsubscribe?userToken="+n.urlParameterService("userToken")).then(function(t){t?(n.loading=!1,n.error=!1,n.unsubscribed=!0,setTimeout(function(){n.$state.go("Root.Home")},5e3)):(n.loading=!1,n.error=!0,n.unsubscribed=!1)})},n.prototype.cancel=function(){var n=this;n.$state.go("Root.Home")},n}();n.UnsubscribeController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="E";this.bindings={summarysheetmodel:"="};this.templateUrl="/api/template/Component/SummarySheetComponent";this.controller=t}return n}(),t;n.SummarySheetComponent=i;t=function(){function n(n,t,i,r,u,f){this.$sce=n;this.$scope=t;this.contentItemService=i;this.contentTypeService=r;this.contentCollectionManager=u;this.contentCollectionDataService=f;this.summarysheetitems=[];this.convertedSummarySheet=[];this.showAllThemes=!1;var e=this;t.$watch("$scope.summarysheetmodel",function(){void 0!=e.summarysheetmodel&&e.init()},!0)}return n.prototype.init=function(){var n=this;n.summarysheetitems=n.summarysheetmodel.sfitemsummarysheet;n.contentCollectionDataService.getData(2).then(function(t){n.themes=t.pageResults;n.buildConvertedSummarySheet()})},n.prototype.buildConvertedSummarySheet=function(){for(var h,s,c,o,n=this,t=0;t<n.themes.length;t++)if(h=new r,h.theme=n.themes[t],n.convertedSummarySheet.push(h),void 0!=n.themes[t].sfthemesftheme)for(s=0;s<n.themes[t].sfthemesftheme.length;s++)c=new u,c.subtheme=n.themes[t].sfthemesftheme[s],n.convertedSummarySheet[t].addSSSubTheme(c);for(t=0;t<n.summarysheetitems.length;t++)for(var l=new f(n.summarysheetitems[t],n.$sce),i=0,e=!1;i<n.convertedSummarySheet.length&&!e;){if(n.summarysheetitems[t].sfthemesfitem[0].id==n.convertedSummarySheet[i].theme.id&&(e=!0,n.convertedSummarySheet[i].addSSItem(l)),!e)for(o=0;o<n.convertedSummarySheet[i].ssSubthemes.length&&!e;)n.summarysheetitems[t].sfthemesfitem[0].id==n.convertedSummarySheet[i].ssSubthemes[o].subtheme.id&&(e=!0,n.convertedSummarySheet[i].ssSubthemes[o].addSSItem(l)),o++;i++}n.collapseAll()},n.prototype.checkOpenCloseSituation=function(){for(var n=this,i=!0,t=0;t<n.convertedSummarySheet.length;t++)n.convertedSummarySheet[t].expanded||(i=!1);n.allexpanded=i},n.prototype.expandItem=function(n){var t=this;t.convertedSummarySheet[n].expanded=!0;t.checkOpenCloseSituation()},n.prototype.toggleShowAllThemes=function(){var n=this;n.showAllThemes=!n.showAllThemes},n.prototype.collapseItem=function(n){var t=this;t.convertedSummarySheet[n].expanded=!1;t.checkOpenCloseSituation()},n.prototype.toggleItem=function(n){var t=this;t.convertedSummarySheet[n].expanded=!t.convertedSummarySheet[n].expanded;t.checkOpenCloseSituation()},n.prototype.expandAll=function(){var t=this,n;for(t.allexpanded=!0,n=0;n<t.convertedSummarySheet.length;n++)t.convertedSummarySheet[n].expanded=!0},n.prototype.collapseAll=function(){var t=this,n;for(t.allexpanded=!1,n=0;n<t.convertedSummarySheet.length;n++)t.convertedSummarySheet[n].expanded=!1},n.prototype.addCurrentItemToConvertedSummarySheet=function(){},n}();n.SummarySheetComponentController=t;var r=function(){function n(){this.ssItems=[];this.ssSubthemes=[];this.expanded=!1;this.hasContent=!1;this.subthemeWithContentCount=0}return n.prototype.shouldShow=function(){var n=this;return n.hasContent},n.prototype.addSSItem=function(n){var t=this;t.ssItems.push(n);t.hasContent=!0},n.prototype.addSSSubTheme=function(n){var t=this;n.setTheme(t);t.ssSubthemes.push(n)},n}(),u=function(){function n(){this.ssItems=[];this.hasContent=!1}return n.prototype.shouldShow=function(){var n=this;return n.hasContent},n.prototype.setTheme=function(n){var t=this;t.theme=n},n.prototype.addSSItem=function(n){var t=this;t.ssItems.push(n);t.hasContent=!0;t.theme.hasContent=!0;t.theme.subthemeWithContentCount++},n}(),f=function(){function n(n,t){var i=this;i.item=n;i.item.description=t.trustAsHtml(i.item.description)}return n}()}(ComeosModule||(ComeosModule={}));!function(n){var r=function(){function n(){this.restrict="E";this.bindings={summarysheets:"="};this.templateUrl="/api/template/Component/SummarySheetCompareComponent";this.controller=i}return n}(),i;n.SummarySheetCompareComponent=r;i=function(){function n(n,t,i,r){this.$sce=n;this.$scope=t;this.$timeout=i;this.exposedContentCollectionDataService=r;this.allexpanded=!1;this.convertedSummarySheet=[];this.showAllThemes=!1;this.comparatorInitialized=!1;this.pcNameList=[];var u=this;t.$watch("$ctrl.summarysheets",function(){u.init()},!0)}return n.prototype.init=function(){var n=this,t;void 0!=n.summarysheets&&(void 0==n.themes?(t={page:0,searchOptions:[],sort:{field:"",Asc:!1},parameters:{},ranges:[]},n.exposedContentCollectionDataService.getData(119,t).then(function(t){void 0!=t&&(n.themes=t.pageResults);n.buildConvertedSummarySheet();n.checkOpenCloseSituation()})):(n.buildConvertedSummarySheet(),n.checkOpenCloseSituation()))},n.prototype.compareSummarySheets=function(n,t){return n.pcsummarysheet.name<t.pcsummarysheet.name?-1:n.pcsummarysheet.name>t.pcsummarysheet.name?1:0},n.prototype.buildConvertedSummarySheet=function(){var n=this,i,r,e,v,s,y;for(n.percentageWidth=100/(n.summarysheets.length+1),n.convertedSummarySheet.length=0,n.pcNameList.length=0,n.summarysheets.sort(n.compareSummarySheets),i=0;i<n.themes.length;i++)if(r=new u,r.theme=n.themes[i],n.convertedSummarySheet.push(r),void 0!=n.themes[i].sfthemesftheme)for(e=0;e<n.themes[i].sfthemesftheme.length;e++)s=new f,s.subtheme=n.themes[i].sfthemesftheme[e],n.convertedSummarySheet[i].addSSSubTheme(s);for(i=0;i<n.summarysheets.length;i++)n.pcNameList.push(n.summarysheets[i].pcsummarysheet.name);for(i=0;i<n.convertedSummarySheet.length;i++){for(r=n.convertedSummarySheet[i],e=0;e<n.summarysheets.length;e++){var c=n.summarysheets[e],l=c.pcsummarysheet.name,o=c.sfitemsummarysheet,h=!1,a=0;if(void 0!=o)for(;!h&&a<o.length;)r.theme.id==o[a].sfthemesfitem[0].id&&(h=!0,r.addSSItem(new t(l,n.$sce,o[a]))),a++;h||r.addSSItem(new t(l,n.$sce))}for(v=0;v<r.ssSubthemes.length;v++)for(s=r.ssSubthemes[v],y=0;y<n.summarysheets.length;y++){var c=n.summarysheets[y],l=c.pcsummarysheet.name,o=c.sfitemsummarysheet,h=!1,p=0;if(void 0!=o)for(;!h&&p<o.length;)s.subtheme.id==o[p].sfthemesfitem[0].id&&(h=!0,s.addSSItem(new t(l,n.$sce,o[p]))),p++;h||s.addSSItem(new t(l,n.$sce))}}if(!n.$scope.$$phase)try{n.$scope.$digest()}catch(w){}},n.prototype.checkOpenCloseSituation=function(){for(var n=this,i=!0,t=0;t<n.convertedSummarySheet.length;t++)n.convertedSummarySheet[t].expanded||(i=!1);n.allexpanded=i},n.prototype.expandItem=function(n){var t=this;t.convertedSummarySheet[n].expanded=!0;t.checkOpenCloseSituation()},n.prototype.toggleShowAllThemes=function(){var n=this;n.showAllThemes=!n.showAllThemes},n.prototype.collapseItem=function(n){var t=this;t.convertedSummarySheet[n].expanded=!1;t.checkOpenCloseSituation()},n.prototype.toggleItem=function(n){var t=this;t.convertedSummarySheet[n].expanded=!t.convertedSummarySheet[n].expanded;t.checkOpenCloseSituation()},n.prototype.expandAll=function(){var t=this,n;for(t.allexpanded=!0,n=0;n<t.convertedSummarySheet.length;n++)t.convertedSummarySheet[n].expanded=!0},n.prototype.collapseAll=function(){var t=this,n;for(t.allexpanded=!1,n=0;n<t.convertedSummarySheet.length;n++)t.convertedSummarySheet[n].expanded=!1},n.prototype.addCurrentItemToConvertedSummarySheet=function(){},n}();n.SummarySheetCompareComponentController=i;var u=function(){function n(){this.ssItems=[];this.ssSubthemes=[];this.expanded=!1;this.hasContent=!1;this.hasThemeContent=!1;this.subthemeWithContentCount=0}return n.prototype.shouldShow=function(){var n=this;return n.hasContent},n.prototype.addSSSubTheme=function(n){var t=this;n.setTheme(t);t.ssSubthemes.push(n)},n.prototype.addSSItem=function(n){var t=this;t.ssItems.push(n);void 0!=n.item&&(t.hasThemeContent=!0)},n}(),f=function(){function n(){this.ssItems=[];this.hasContent=!1}return n.prototype.shouldShow=function(){var n=this;return n.hasContent},n.prototype.setTheme=function(n){var t=this;t.theme=n},n.prototype.addSSItem=function(n){var t=this;t.ssItems.push(n);void 0!=n.item&&(t.hasContent=!0,t.theme.hasContent=!0,t.theme.subthemeWithContentCount++)},n}(),t=function(){function n(n,t,i){var r=this;r.pc=n;void 0!=i?(r.item=i,"string"==typeof r.item.description&&(r.item.description=t.trustAsHtml(r.item.description))):r.empty=!0}return n}()}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="E";this.bindings={faqmodel:"=",activelang:"=",answer:"<"};this.templateUrl="/api/template/Component/FAQComponent";this.controller=t}return n}(),t;n.FAQComponent=i;t=function(){function t(n){this.$scope=n;this.questionList=[];this.tagAnswerList=[];this.generalTagSelected=!0;this.generalAnswerSelected=!0;this.onlyGeneral=!0;var t=this;t.init()}return t.prototype.init=function(){},t.prototype.register=function(n){var t=this;t.questionList.push(n);n.onlyGeneral||(t.onlyGeneral=!1);t.expandTagAnswerList(n.tagAnswerList)},t.prototype.selectGeneralAnswer=function(){for(var t=this,n=0;n<this.questionList.length;n++)this.questionList[n].selectGeneralAnswer();for(n=0;n<this.tagAnswerList.length;n++)this.tagAnswerList[n].selected=!1;t.generalAnswerSelected=!0},t.prototype.expandTagAnswerList=function(t){for(var s,i,u=this,f=0;f<t.length;f++){for(var r=t[f],e=void 0,o=0;o<u.tagAnswerList.length&&void 0==e;)u.tagAnswerList[o].tag.id==r.tag.id&&(e=u.tagAnswerList[o]),o++;if(void 0==e){for(s=new n.TagAnswer(r.tag),r.selected&&(s.selected=!0),i=0;i<r.answers.length;i++)s.answers.push(r.answers[i]);this.tagAnswerList.push(s)}else for(i=0;i<r.answers.length;i++)e.answers.push(r.answers[i])}},t.prototype.checkOpenCloseSituation=function(){for(var n=this,i=!0,t=0;t<n.questionList.length;t++)n.questionList[t].expanded||(i=!1);n.allexpanded=i},t.prototype.expandAll=function(){var t=this,n;for(t.allexpanded=!0,n=0;n<t.questionList.length;n++)t.questionList[n].expand()},t.prototype.collapseAll=function(){var t=this,n;for(t.allexpanded=!1,n=0;n<t.questionList.length;n++)t.questionList[n].collapse()},t.prototype.selectTag=function(n){var i=this,t;for(i.generalTagSelected=!1,t=0;t<i.tagAnswerList.length;t++)i.tagAnswerList[t].selected=i.tagAnswerList[t].tag.id==n.tag.id?!0:!1;for(t=0;t<this.questionList.length;t++)this.questionList[t].selectTag(n)},t.prototype.selectGeneralTag=function(){var t=this,n;for(t.generalTagSelected=!0,n=0;n<this.questionList.length;n++)this.questionList[n].selectGeneralTag()},t}();n.FAQComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var r=function(){function n(){this.restrict="E";this.require={faq:"^faq"};this.bindings={faqquestionmodel:"=",activelang:"=",answer:"<"};this.templateUrl="/api/template/Component/FAQQuestionComponent";this.controller=i}return n}(),i,t;n.FAQQuestionComponent=r;i=function(){function n(n,i){var r,u,f;if(this.$scope=n,this.$sce=i,this.answerlist=[],this.tagAnswerList=[],this.generalTagSelected=!0,this.generalAnswerSelected=!0,this.onlyGeneral=!0,r=this,void 0!=r.faqquestionmodel.question_answer)for(r.generalTagAnswer=new t({contentType:"pc",created:"2016-06-01T07:05:40.1661847",id:-1,lastUpdated:"2016-06-01T07:05:40.1661847",machineName:"PC-UNDEFINED",name:"PC-UNDEFINED",published:!0,title:"PC Undefined",selected:!0}),u=0;u<r.faqquestionmodel.question_answer.length;u++)if(r.answerlist.push(r.faqquestionmodel.question_answer[u]),void 0!=r.faqquestionmodel.question_answer[u].answer_pc)for(r.onlyGeneral&&(r.onlyGeneral=!1),f=0;f<r.faqquestionmodel.question_answer[u].answer_pc.length;f++)r.expandTagAnswerList(r.faqquestionmodel.question_answer[u].answer_pc[f],r.faqquestionmodel.question_answer[u]);else r.expandGeneralTagAnswer(r.faqquestionmodel.question_answer[u])}return n.prototype.$onInit=function(){var n=this;n.faq.register(n)},n.prototype.selectGeneralAnswer=function(){var n=this;n.unselectAllTagAnswers();n.generalAnswerSelected=!0},n.prototype.unselectAllTagAnswers=function(){for(var t=this,n=0;n<t.tagAnswerList.length;n++)t.tagAnswerList[n].selected=!1},n.prototype.expand=function(){var n=this;n.expanded=!0},n.prototype.collapse=function(){var n=this;n.expanded=!1},n.prototype.toggle=function(){var n=this;n.expanded=!n.expanded;n.faq.checkOpenCloseSituation()},n.prototype.setAnswerList=function(){},n.prototype.trustHtmlAnswers=function(n){var t=this;return n&&(n=n.map(function(n){var i=n;return i.answer&&(i.answer=t.$sce.trustAsHtml(n.answer)),i})),n},n.prototype.expandGeneralTagAnswer=function(n){var t=this;t.generalTagAnswer.answers.push(n)},n.prototype.expandTagAnswerList=function(n,i){for(var u,e,f=this,r=0;r<f.tagAnswerList.length&&void 0==u;)f.tagAnswerList[r].tag.id==n.id&&(u=f.tagAnswerList[r]),r++;void 0==u?(e=new t(n),e.answers.push(i),this.tagAnswerList.push(e)):u.answers.push(i)},n.prototype.selectTag=function(n){var i=this,t;for(i.generalTagSelected=!1,t=0;t<i.tagAnswerList.length;t++)i.tagAnswerList[t].selected=i.tagAnswerList[t].tag.id==n.tag.id?!0:!1},n.prototype.selectGeneralTag=function(){var t=this,n;for(t.generalTagSelected=!0,n=0;n<t.tagAnswerList.length;n++)t.tagAnswerList[n].selected=!1},n}();n.FAQQuestionComponentController=i;t=function(){function n(n){this.answers=[];this.tag=n}return n.prototype.addAnswer=function(n){this.answers.push(n)},n}();n.TagAnswer=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="E";this.bindings={sectionmodel:"="};this.templateUrl="/api/template/Component/SectionComponent";this.controller=t}return n}(),t;n.SectionComponent=i;t=function(){function n(n){this.$scope=n;this.subsectionList=[];var t=this;t.init()}return n.prototype.init=function(){},n.prototype.register=function(n){var t=this;t.subsectionList.push(n);1==t.sectionmodel.length&&t.expandAll()},n.prototype.checkOpenCloseSituation=function(){for(var n=this,i=!0,t=0;t<n.subsectionList.length;t++)n.subsectionList[t].expanded||(i=!1);n.allexpanded=i},n.prototype.expandAll=function(){var t=this,n;for(t.allexpanded=!0,n=0;n<t.subsectionList.length;n++)t.subsectionList[n].expand()},n.prototype.collapseAll=function(){var t=this,n;for(t.allexpanded=!1,n=0;n<t.subsectionList.length;n++)t.subsectionList[n].collapse()},n}();n.SectionComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="E";this.require={section:"^altaisection"};this.bindings={subsectionmodel:"="};this.templateUrl="/api/template/Component/SubsectionComponent";this.controller=t}return n}(),t;n.SubsectionComponent=i;t=function(){function n(n,t){this.$scope=n;this.$sce=t}return n.prototype.$onInit=function(){var n=this;n.section.register(n);n.subsectionmodel.content=n.$sce.trustAsHtml(n.subsectionmodel.content)},n.prototype.expand=function(){var n=this;n.expanded=!0},n.prototype.collapse=function(){var n=this;n.expanded=!1},n.prototype.toggle=function(){var n=this;n.expanded=!n.expanded;n.section.checkOpenCloseSituation()},n.prototype.trustHtmlAnswers=function(n){var t=this;return n&&(n=n.map(function(n){var i=n;return i.answer&&(i.answer=t.$sce.trustAsHtml(n.answer)),i})),n},n}();n.SubsectionComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="E";this.bindings={collectionItems:"="};this.templateUrl="/api/template/Component/ComeosCollectionMenu";this.controller=t}return n}(),t;n.ComeosCollectionMenuComponent=i;t=function(){function n(n,t,i,r,u,f){var e,o;this.$filter=n;this.$scope=t;this.$rootScope=i;this.$state=r;this.linkResolverService=u;this.myComeosDataService=f;this.showSearch=!1;this.menuItems={theme:{label:"theme",items:[],link:""},region:{label:"region",items:[],link:""},pc:{label:"paritaircomite",items:[],link:""},sector:{label:"sector",items:[],link:""}};e=this;e.init();i.$on("languageChanged",function(){e.init()});o=t.$watchGroup(["$ctrl.mySelection","$ctrl.collectionItems"],function(n){var t;if(void 0!=n[0]&&void 0!=n[1]&&n[1].length>0){if(void 0!=e.mySelection.theme)for(t in e.menuItems.theme.items)e.mySelection.theme.some(function(n){return n==e.menuItems.theme.items[t].id})&&(e.menuItems.theme.items[t].mySelection=!0);if(void 0!=e.mySelection.pc)for(t in e.menuItems.pc.items)e.mySelection.pc.some(function(n){return n==e.menuItems.pc.items[t].id})&&(e.menuItems.pc.items[t].mySelection=!0);if(void 0!=e.mySelection.sector)for(t in e.menuItems.sector.items)e.mySelection.sector.some(function(n){return n==e.menuItems.sector.items[t].id})&&(e.menuItems.sector.items[t].mySelection=!0);if(void 0!=e.mySelection.region)for(t in e.menuItems.region.items)e.mySelection.region.some(function(n){return n==e.menuItems.region.items[t].id})&&(e.menuItems.region.items[t].mySelection=!0);o()}});f.getMySelection().then(function(n){e.mySelection=n})}return n.prototype.init=function(){var n=this;n.generateLinks();n.menuItems.theme.label=n.$filter("translate")("THEMES");n.menuItems.sector.label=n.$filter("translate")("SECTORS");n.menuItems.region.label=n.$filter("translate")("REGIONS");n.menuItems.pc.label=n.$filter("translate")("PCS");n.$scope.$watch("$ctrl.collectionItems",function(t){t&&n.groupCollection(t)},!0)},n.prototype.generateLinks=function(){for(var n in this.menuItems)this.menuItems[n].link=this.linkResolverService.getLink(n)},n.prototype.groupCollection=function(n){var t=this;this.menuItems.theme.items=n.filter(function(n){return n.link=t.linkResolverService.getLink(n.contentType,n.id,n.title),"theme"==n.contentType&&1==n.isroot});this.menuItems.region.items=n.filter(function(n){return n.link=t.linkResolverService.getLink(n.contentType,n.id,n.title),"region"==n.contentType});this.menuItems.pc.items=n.filter(function(n){return n.link=t.linkResolverService.getLink(n.contentType,n.id,n.title),"pc"==n.contentType});this.menuItems.sector.items=n.filter(function(n){return n.link=t.linkResolverService.getLink(n.contentType,n.id,n.title),"sector"==n.contentType})},n.prototype.openMobileMenu=function(){var n=this;n.$rootScope.$broadcast("toggleMobileMenu")},n.prototype.onHoverSub=function(n){var t=this;t.hoveredItem=n},n.prototype.onHoverSubOut=function(){var n=this;n.hoveredItem=void 0},n.prototype.search=function(){var n=this;n.searchQuery&&n.searchQuery.length>0&&n.$state.go("Root.Content.Searcher",{q:n.searchQuery});n.searchQuery="";n.showSearch=!1},n.prototype.toggleSearch=function(){var n=this;n.showSearch=!n.showSearch},n}();n.ComeosCollectionMenuController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="E";this.bindings={item:"=",hideTag:"="};this.templateUrl="/api/template/Component/ComeosCard";this.controller=t}return n}(),t;n.ComeosCardComponent=i;t=function(){function n(n,t,i){var r;this.linkResolverService=n;this.$timeout=t;this.$translate=i;this.themePills=[];this.pcPills=[];this.regionPills=[];this.sectorPills=[];this.pills=[];this.share=!0;r=this;r.item&&(r.item.$ready=!1);r.id=r.item.id||r.item.Id;r.name=r.item.title||r.item.titel;r.date=r.item.date||r.item.datum||r.item.lastUpdated||r.item.LastUpdated;r.title=r.item.title||r.item.titel;r.description=r.item.shortintroduction||r.item.membersintroduction||r.item.publicintroduction||r.item.intro||r.item.content;r.contenttype=r.item.contentTypeLabel;r.contenttypemachinename=r.item.contentType;"commissievergadering"==r.contenttypemachinename&&(r.contenttype="Meeting",r.share=!1);"workshop"==r.contenttypemachinename&&r.item.academyeventtypeworkshop&&r.item.academyeventtypeworkshop.titel&&(r.contenttype=r.item.academyeventtypeworkshop.titel);"registrationmeeting"==r.contenttypemachinename&&r.item.registrationmeetingcommissievergadering[0]&&(r.id=r.item.registrationmeetingcommissievergadering[0].id,r.date=r.item.registrationmeetingcommissievergadering[0].date||r.item.LastUpdated,r.contenttype=r.item.registrationmeetingcommissievergadering[0].contentTypeLabel,r.contenttypemachinename=r.item.registrationmeetingcommissievergadering[0].contentType,r.title=null!=r.item.registrationmeetingcommissievergadering[0].commissiecommissievergadering?r.item.registrationmeetingcommissievergadering[0].commissiecommissievergadering.title:r.item.registrationmeetingcommissievergadering[0].title,r.name=null!=r.item.registrationmeetingcommissievergadering[0].commissiecommissievergadering?r.item.registrationmeetingcommissievergadering[0].commissiecommissievergadering.title:r.item.registrationmeetingcommissievergadering[0].title,r.description=null!=r.item.registrationmeetingcommissievergadering[0].commissiecommissievergadering?r.item.registrationmeetingcommissievergadering[0].commissiecommissievergadering.description:r.item.registrationmeetingcommissievergadering[0].invitationintro,r.item.id=r.id,r.item.title=r.title,r.share=!1);"registrationacademy"==r.contenttypemachinename&&(r.item.registrationacademyworkshop?(r.id=r.item.registrationacademyworkshop.id,r.name=r.item.registrationacademyworkshop.title,r.date=r.item.registrationacademyworkshop.date||r.item.LastUpdated,r.contenttype=r.item.registrationacademyworkshop.contentTypeLabel,r.contenttypemachinename=r.item.registrationacademyworkshop.contentType,r.title=r.item.registrationacademyworkshop.title,r.description=r.item.registrationacademyworkshop.intro,r.item.registrationacademyworkshop.fileworkshop3&&(r.image=r.item.registrationacademyworkshop.fileworkshop3.file),r.item.id=r.id,r.item.title=r.title,r.share=!1):r.item.registrationacademynetworkingevent&&(r.id=r.item.registrationacademynetworkingevent.id,r.name=r.item.registrationacademynetworkingevent.title,r.date=r.item.registrationacademynetworkingevent.date||r.item.LastUpdated,r.contenttype=r.item.registrationacademynetworkingevent.contentTypeLabel,r.contenttypemachinename=r.item.registrationacademynetworkingevent.contentType,r.title=r.item.registrationacademynetworkingevent.title,r.description=r.item.registrationacademynetworkingevent.intro,r.item.registrationacademynetworkingevent.filenetworkingevent3&&(r.image=r.item.registrationacademynetworkingevent.filenetworkingevent3.file),r.item.id=r.id,r.item.title=r.title,r.share=!1));var u=r.item.contentType+"_pc",f=r.item.contentType+"_region",e=r.item.contentType+"_theme",o=r.item.contentType+"_sector",s="pc"+r.item.contentType,h="region"+r.item.contentType,c="theme"+r.item.contentType,l="sector"+r.item.contentType;r.pcPills=r.item[u];void 0==r.pcPills&&(r.pcPills=r.item[s]);r.themePills=r.item[e];void 0==r.themePills&&(r.themePills=r.item[c]);r.sectorPills=r.item[o];void 0==r.sectorPills&&(r.sectorPills=r.item[l]);r.regionPills=r.item[f];void 0==r.regionPills&&(r.regionPills=r.item[h]);"commissievergadering"==r.contenttypemachinename&&void 0!=r.item.commissiecommissievergadering&&(r.themePills=r.item.commissiecommissievergadering.themecommissie,r.sectorPills=r.item.commissiecommissievergadering.sectorcommissie,r.pcPills=r.item.commissiecommissievergadering.pccommissie,r.regionPills=r.item.commissiecommissievergadering.regioncommissie);void 0!=r.themePills&&r.pushArray(r.pills,r.themePills);void 0!=r.sectorPills&&r.pushArray(r.pills,r.sectorPills);void 0!=r.pcPills&&r.pushArray(r.pills,r.pcPills);void 0!=r.regionPills&&r.pushArray(r.pills,r.regionPills);r.createLink();r.image||r.addImage()}return n.prototype.pushArray=function(n,t){n.push.apply(n,t)},n.prototype.checkFileBased=function(){var n=this;"magazine"!=n.contenttypemachinename&&"magazineartikel"!=n.contenttypemachinename&&"brochure"!=n.contenttypemachinename&&"research"!=n.contenttypemachinename||(n.filebased=!0)},n.prototype.createLink=function(){var n=this;n.link=this.linkResolverService.getLink(n.contenttypemachinename,n.id,n.name)},n.prototype.addImage=function(){var n=this;"actumessage"==n.item.contentType?n.item.fileactumessage&&(n.image=n.item.fileactumessage.file):"networkingevent"==n.item.contentType?n.item.filenetworkingevent3&&(n.image=n.item.filenetworkingevent3.file):"workshop"==n.item.contentType?n.item.fileworkshop3&&(n.image=n.item.fileworkshop3.file):"complexdossier"==n.item.contentType?n.item.filecomplexdossier&&(n.image=n.item.filecomplexdossier.file):"pressrelease"==n.item.contentType?n.item.filepressrelease&&(n.image=n.item.filepressrelease.file):"ceoevent"==n.item.contentType&&n.item.fileceoevent&&(n.image=n.item.fileceoevent.file)},n.prototype.$onInit=function(){this.item&&(this.item.$ready=!0)},n}();n.ComeosCardComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="E";this.bindings={item:"=",hideTag:"="};this.templateUrl="/api/template/Component/ComeosCardDirectDownload";this.controller=t}return n}(),t;n.ComeosCardDirectDownloadComponent=i;t=function(){function n(n,t,i){var r;if(this.linkResolverService=n,this.$timeout=t,this.altaiLocalizationService=i,this.themePills=[],this.pcPills=[],this.regionPills=[],this.sectorPills=[],this.pills=[],r=this,r.item&&(r.item.$ready=!1),r.id=r.item.id||r.item.Id,r.date=r.item.datum||r.item.date||r.item["laatste-update"]||r.item.lastUpdated||r.item.LastUpdated,r.title=r.item.title||r.item.titel,r.description=r.item.shortintroduction||r.item.membersintroduction||r.item.publicintroduction||r.item.intro||r.item.content,r.contenttype=r.item.contentTypeLabel,r.contenttypemachinename=r.item.contentType,"registrationmeeting"==r.contenttypemachinename&&r.item.registrationmeetingcommissievergadering&&(r.date=r.item.registrationmeetingcommissievergadering.datum||r.item.LastUpdated,r.contenttype=r.item.registrationmeetingcommissievergadering.contentTypeLabel,r.contenttypemachinename=r.item.registrationmeetingcommissievergadering.contentType,r.title=null!=r.item.registrationmeetingcommissievergadering.commissiecommissievergadering2?r.item.registrationmeetingcommissievergadering.commissiecommissievergadering2.title:"",r.description=r.item.registrationmeetingcommissievergadering.invitationintro),"registrationacademy"==r.contenttypemachinename&&r.item.registrationmeetingcommissievergadering&&(r.date=r.item.registrationmeetingcommissievergadering.datum||r.item.LastUpdated,r.contenttype=r.item.registrationmeetingcommissievergadering.contentTypeLabel,r.contenttypemachinename=r.item.registrationmeetingcommissievergadering.contentType,r.title=null!=r.item.registrationmeetingcommissievergadering.commissiecommissievergadering2?r.item.registrationmeetingcommissievergadering.commissiecommissievergadering2.title:"",r.description=r.item.registrationmeetingcommissievergadering.invitationintro),"workshop"==r.item.contentType)var u="pc"+r.item.contentType+"0",f="region"+r.item.contentType+"0",e="theme"+r.item.contentType+"0",o="sector"+r.item.contentType+"0";else var u=r.item.contentType+"_pc",f=r.item.contentType+"_region",e=r.item.contentType+"_theme",o=r.item.contentType+"_sector",s="pc"+r.item.contentType,h="region"+r.item.contentType,c="theme"+r.item.contentType,l="sector"+r.item.contentType;r.pcPills=r.item[u];void 0==r.pcPills&&(r.pcPills=r.item[s]);r.themePills=r.item[e];void 0==r.themePills&&(r.themePills=r.item[c]);r.sectorPills=r.item[o];void 0==r.sectorPills&&(r.sectorPills=r.item[l]);r.regionPills=r.item[f];void 0==r.regionPills&&(r.regionPills=r.item[h]);void 0!=r.themePills&&r.pushArray(r.pills,r.themePills);void 0!=r.sectorPills&&r.pushArray(r.pills,r.sectorPills);void 0!=r.pcPills&&r.pushArray(r.pills,r.pcPills);void 0!=r.regionPills&&r.pushArray(r.pills,r.regionPills);r.createLink()}return n.prototype.pushArray=function(n,t){n.push.apply(n,t)},n.prototype.createLink=function(){var n=this;"nl"==n.altaiLocalizationService.getCurrentLangCode()?void 0!=n.item.filemagazineartikel&&(n.link=config.staticFileBase+"/"+n.item.filemagazineartikel.file):void 0!=n.item.filemagazineartikel1&&(n.link=config.staticFileBase+"/"+n.item.filemagazineartikel1.file)},n.prototype.$onInit=function(){this.item&&(this.item.$ready=!0)},n}();n.ComeosCardDirectDownloadComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="E";this.bindings={item:"=",hideTag:"="};this.templateUrl="/api/template/Component/ComeosCardCao";this.controller=t}return n}(),t;n.ComeosCardCaoComponent=i;t=function(){function n(n,t,i,r){var u;if(this.linkResolverService=n,this.$timeout=t,this.$location=i,this.altaiLocalizationService=r,this.themePills=[],this.pcPills=[],this.regionPills=[],this.sectorPills=[],this.pills=[],this.activeLang={code:""},u=this,u.activeLang.code=r.getCurrentLangCode(),u.item&&(u.item.$ready=!1),u.id=u.item.id||u.item.Id,u.date=u.item.lastUpdated,u.title=u.item.title||u.item.titel,u.description=u.item.shortintroduction||u.item.membersintroduction||u.item.publicintroduction||u.item.intro||u.item.content,u.contenttype=u.item.contentTypeLabel,u.contenttypemachinename=u.item.contentType,"registrationmeeting"==u.contenttypemachinename&&u.item.registrationmeetingcommissievergadering&&(u.date=u.item.registrationmeetingcommissievergadering.datum||u.item.LastUpdated,u.contenttype=u.item.registrationmeetingcommissievergadering.contentTypeLabel,u.contenttypemachinename=u.item.registrationmeetingcommissievergadering.contentType,u.title=null!=u.item.registrationmeetingcommissievergadering.commissiecommissievergadering2?u.item.registrationmeetingcommissievergadering.commissiecommissievergadering2.title:"",u.description=u.item.registrationmeetingcommissievergadering.invitationintro),"registrationacademy"==u.contenttypemachinename&&u.item.registrationmeetingcommissievergadering&&(u.date=u.item.registrationmeetingcommissievergadering.datum||u.item.LastUpdated,u.contenttype=u.item.registrationmeetingcommissievergadering.contentTypeLabel,u.contenttypemachinename=u.item.registrationmeetingcommissievergadering.contentType,u.title=null!=u.item.registrationmeetingcommissievergadering.commissiecommissievergadering2?u.item.registrationmeetingcommissievergadering.commissiecommissievergadering2.title:"",u.description=u.item.registrationmeetingcommissievergadering.invitationintro),"workshop"==u.item.contentType)var f="pc"+u.item.contentType+"0",e="region"+u.item.contentType+"0",o="theme"+u.item.contentType+"0",s="sector"+u.item.contentType+"0";else var f=u.item.contentType+"_pc",e=u.item.contentType+"_region",o=u.item.contentType+"_theme",s=u.item.contentType+"_sector",h="pc"+u.item.contentType,c="region"+u.item.contentType,l="theme"+u.item.contentType,a="sector"+u.item.contentType;u.pcPills=u.item[f];void 0==u.pcPills&&(u.pcPills=u.item[h]);u.themePills=u.item[o];void 0==u.themePills&&(u.themePills=u.item[l]);u.sectorPills=u.item[s];void 0==u.sectorPills&&(u.sectorPills=u.item[a]);u.regionPills=u.item[e];void 0==u.regionPills&&(u.regionPills=u.item[c]);void 0!=u.themePills&&u.pushArray(u.pills,u.themePills);void 0!=u.sectorPills&&u.pushArray(u.pills,u.sectorPills);void 0!=u.pcPills&&u.pushArray(u.pills,u.pcPills);void 0!=u.regionPills&&u.pushArray(u.pills,u.regionPills);u.createLink();u.addImage()}return n.prototype.pushArray=function(n,t){n.push.apply(n,t)},n.prototype.checkFileBased=function(){var n=this;"magazine"!=n.contenttypemachinename&&"magazineartikel"!=n.contenttypemachinename&&"brochure"!=n.contenttypemachinename&&"research"!=n.contenttypemachinename||(n.filebased=!0)},n.prototype.createLink=function(){var n=this;void 0!=n.item.filecao&&(n.link=config.staticFileBase+"/"+n.item.filecao.file);void 0!=n.item.caobundel_file_fr&&"fr"==n.activeLang.code&&(n.link=config.staticFileBase+"/"+n.item.caobundel_file_fr.file);void 0!=n.item.caobundel_file_nl&&"nl"==n.activeLang.code&&(n.link=config.staticFileBase+"/"+n.item.caobundel_file_nl.file)},n.prototype.addImage=function(){var n=this;"actumessage"==n.item.contentType?n.item.fileactumessage&&(n.image=n.item.fileactumessage.file):"networkingevent"==n.item.contentType?n.item.filenetworkingevent3&&(n.image=n.item.filenetworkingevent3.file):"workshop"==n.item.contentType?n.item.fileworkshop3&&(n.image=n.item.fileworkshop3.file):"complexdossier"==n.item.contentType&&n.item.filecomplexdossier&&(n.image=n.item.filecomplexdossier.file)},n.prototype.$onInit=function(){this.item&&(this.item.$ready=!0)},n}();n.ComeosCardCaoComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="E";this.bindings={item:"=",hideTag:"="};this.templateUrl="/api/template/Component/ComeosEventCard";this.controller=t}return n}(),t;n.ComeosEventCardComponent=i;t=function(){function n(n,t){this.linkResolverService=n;this.$timeout=t;this.themePills=[];this.pcPills=[];this.regionPills=[];this.sectorPills=[];this.pills=[];var i=this;i.item&&(i.item.$ready=!1);i.id=i.item.id||i.item.Id;i.date=i.item.datum||i.item.date||i.item.lastUpdated;i.title=i.item.title||i.item.titel;i.item.intro?i.description=i.item.intro:i.item.publicintroduction?i.description=i.item.publicintroduction:i.item.invitationintro&&(i.description=i.item.invitationintro);i.contenttype=i.item.contentTypeLabel;i.contenttypemachinename=i.item.contentType;"networkingevent"==i.item.contentType&&i.item.filenetworkingevent3&&(i.image=config.staticFileBase+"/"+i.item.filenetworkingevent3.file);"workshop"==i.item.contentType?i.item.fileworkshop3&&(i.image=config.staticFileBase+"/"+i.item.fileworkshop3.file):"commissievergadering"==i.item.contentType&&void 0!=i.item.filecommissievergadering4&&(i.image=config.staticFileBase+"/"+i.item.filecommissievergadering4.file);i.createLink()}return n.prototype.createLink=function(){var n=this;n.link=this.linkResolverService.getLink(n.contenttypemachinename,n.id,n.title)},n}();n.ComeosEventCardComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.bindings={items:"="};this.templateUrl="/api/template/Component/AltaiSlideshowGrid";this.controller=t}return n}(),t;n.AltaiSlideshowGrid=i;t=function(){function n(n,t,i,r,u,f){var e,o;this.$scope=n;this.$rootScope=t;this.linkResolverService=i;this.$interval=r;this.$timeout=u;this.imageStyleSetService=f;this.slides=[];this.slidesReady=!1;this.shouldShowSlides=!0;this.minposition=0;this.maxposition=0;this.newminposition=0;this.newmaxposition=0;this.activeIndex=0;this.slideshowPlaying=!1;this.slideHeightPercentage=1;this.slideContentLeftPercentage=.1;this.slideContentWidthPercentage=.25;this.slideContentBottomPercentage=.2;this.slideNavButtonsHeightPercentage=.4;this.slideTitleFontSize=60;this.slideTaglineFontSize=20;this.slideIndicatorBottomPercentage=.05;this.slideDownBottomPercentage=.05;this.shouldShowDownButton=!1;this.shouldShowIconBubbles=!1;this.shouldDeductMenuBar=!0;this.heightMenuBar=65;this.minHeight=350;this.numberofslidesvisibleatonce=1;this.maxslides=5;this.autostart=!0;this.shouldshowleftindicator=!0;this.shouldshowrightindicator=!0;e=this;e.$scope=n;e.shouldShowSlides&&(e.slideWidth=e.$rootScope.windowSize/e.$rootScope.gridItems,e.$rootScope.windowHeight<800||e.slideWidth<700?(e.slideSize="mini",e.slideHeight=e.$rootScope.windowHeight*e.slideHeightPercentage,e.slideContentLeftPercentage=.1,e.slideContentWidthPercentage=.8,e.slideContentBottomPercentage=.2,e.slideTitleFontSize=20,e.slideTaglineFontSize=12):e.$rootScope.windowHeight<1100||e.slideWidth<1200?(e.slideSize="medi",e.slideHeight=e.$rootScope.windowHeight*e.slideHeightPercentage,e.slideContentLeftPercentage=.1,e.slideContentWidthPercentage=.65,e.slideContentBottomPercentage=.2,e.slideTitleFontSize=35,e.slideTaglineFontSize=16):(e.slideSize="maxi",e.slideHeight=e.$rootScope.windowHeight*e.slideHeightPercentage,e.slideContentLeftPercentage=.1,e.slideContentWidthPercentage=.35,e.slideContentBottomPercentage=.2,e.slideTitleFontSize=45,e.slideTaglineFontSize=18),e.slideHeight<e.minHeight&&(e.slideHeight=e.minHeight),1==e.slideHeightPercentage&&e.shouldDeductMenuBar&&(e.slideHeight=e.slideHeight-e.heightMenuBar));o=n.$watch("$ctrl.items",function(){void 0!=e.items&&(e.init(),o());t.$watch("windowSize",function(){void 0!=e.items&&e.init()});t.$watch("windowHeight",function(){void 0!=e.items&&e.init()})},!0);t.$on("activeimagestylesetupdated",function(){void 0!=e.items&&e.init()})}return n.prototype.init=function(){var n=this,f,i,t,r,e,u;if(n.$rootScope.slideshowInit=!1,n.slides.length=0,n.slidesReady=!1,n.shouldShowSlides=!0,n.stopPlay(),n.inputslideshow=n.items[0],n.slideshowmode=n.inputslideshow.slideshowmodeslideshow.name,n.inputslideshow.slideheightpercentage&&(n.slideHeightPercentage=parseFloat(n.inputslideshow.slideheightpercentage)),n.inputslideshow.menuheight&&(n.heightMenuBar=parseInt(n.inputslideshow.menuheight)),n.inputslideshow.alwaysshowmenu&&(n.shouldDeductMenuBar=n.inputslideshow.alwaysshowmenu),n.inputslideshow.maxslides&&(n.maxslides=parseInt(n.inputslideshow.maxslides)),n.inputslideshow.shouldshowdownbutton&&(n.shouldShowDownButton=n.inputslideshow.shouldshowdownbutton),n.inputslideshow.iconbubbles&&(n.shouldShowIconBubbles=n.inputslideshow.iconbubbles),n.inputslideshow.autostart&&(n.autostart=n.inputslideshow.autostart),n.inputslideshow.numberofslidesvisibleatonce&&(n.numberofslidesvisibleatonce=parseInt(n.inputslideshow.numberofslidesvisibleatonce),n.numberofslidesvisibleatonce>n.inputslideshow.slide1slideshow.length&&(n.numberofslidesvisibleatonce=n.inputslideshow.slide1slideshow.length),n.maxslides&&n.numberofslidesvisibleatonce>n.maxslides&&(n.numberofslidesvisibleatonce=n.maxslides)),n.shouldShowSlides){for(n.slideWidth=n.numberofslidesvisibleatonce?n.$rootScope.windowSize/n.numberofslidesvisibleatonce:n.$rootScope.windowSize/n.$rootScope.gridItems,n.$rootScope.windowHeight<700||n.slideWidth<700?(n.slideSize="mini",n.slideHeight=n.$rootScope.windowHeight*n.slideHeightPercentage,n.slideContentLeftPercentage=.1,n.slideContentWidthPercentage=.8,n.slideContentBottomPercentage=.2,n.slideTitleFontSize=18,n.slideTaglineFontSize=12):n.$rootScope.windowHeight<1100||n.slideWidth<1200?(n.slideSize="medi",n.slideHeight=n.$rootScope.windowHeight*n.slideHeightPercentage,n.slideContentLeftPercentage=.1,n.slideContentWidthPercentage=.65,n.slideContentBottomPercentage=.2,n.slideTitleFontSize=35,n.slideTaglineFontSize=16):(n.slideSize="maxi",n.slideHeight=n.$rootScope.windowHeight*n.slideHeightPercentage,n.slideContentLeftPercentage=.1,n.slideContentWidthPercentage=.35,n.slideContentBottomPercentage=.2,n.slideTitleFontSize=45,n.slideTaglineFontSize=18),n.slideHeight<n.minHeight&&(n.slideHeight=n.minHeight),1==n.slideHeightPercentage&&n.shouldDeductMenuBar&&(n.slideHeight=n.slideHeight-n.heightMenuBar),n.slideshowStyle={height:n.slideHeight},n.slideshowContentStyle={width:n.slideWidth*n.slideContentWidthPercentage,"margin-left":n.slideWidth*n.slideContentLeftPercentage,bottom:n.slideHeight*n.slideContentBottomPercentage},n.slideshowNavigationStyle={height:n.slideHeight,width:50,"padding-top":n.slideHeight/2-10,"padding-left":19},n.slideshowTitleStyle={"font-size":n.slideTitleFontSize},n.slideshowTaglineStyle={"font-size":n.slideTaglineFontSize},n.slideshowIndicatorsStyle={"margin-left":n.$rootScope.windowSize*n.slideContentLeftPercentage,bottom:n.slideHeight*n.slideIndicatorBottomPercentage},n.slideshowDownStyle={"margin-left":n.$rootScope.windowSize/2-15,bottom:n.slideHeight*n.slideDownBottomPercentage},f=n.inputslideshow.slide1slideshow.length>n.inputslideshow.maxslides?n.inputslideshow.maxslides:n.inputslideshow.slide1slideshow.length,i=0;f>i;i++)t=n.inputslideshow.slide1slideshow[i],r=n.determineImageURL(t),r=n.imageStyleSetService.getImageUrlDirect("fps",r),e={"background-image":"url("+r+")",width:n.slideWidth,height:n.slideHeight},u={slideshowtitle:t.title,slideshowtagline:t.slideshowtagline,style:e,contentstyle:n.slideshowContentStyle,titlestyle:n.slideshowTitleStyle,taglinestyle:n.slideshowTaglineStyle,slidelink:n.determineLink(t)},t.linkslide1&&(u.slidelinkraw=t.linkslide1.linkurl),n.slides.push(u);n.sortSlides(n.slides);n.slides.splice(n.maxslides);n.slides.length==n.numberofslidesvisibleatonce&&(n.shouldshowleftindicator=!1,n.shouldshowrightindicator=!1,n.shouldShowIconBubbles=!1);n.minposition=0;n.maxposition=n.numberofslidesvisibleatonce-1;n.setVisibility();n.slidesReady=!0;n.autostart&&n.togglePlay()}n.$rootScope.slideshowInit=!0},n.prototype.togglePlay=function(){var n=this;n.slideshowPlaying?n.stopPlay():n.startPlay()},n.prototype.startPlay=function(){var n=this;n.playTimer=n.$interval(function(){n.moveRight()},1e3*n.inputslideshow.slidedurationseconds);n.slideshowPlaying=!0},n.prototype.stopPlay=function(){var n=this;angular.isDefined(n.playTimer)&&n.$interval.cancel(n.playTimer);n.slideshowPlaying=!1},n.prototype.resetPlay=function(){var n=this;n.slideshowPlaying&&(angular.isDefined(n.playTimer)&&n.$interval.cancel(n.playTimer),n.playTimer=n.$interval(function(){n.moveRight()},1e3*n.inputslideshow.slidedurationseconds))},n.prototype.determineImageURL=function(n){var t;return n.fileslide1?t=n.fileslide1.file:n.networkingeventslide1?t=n.networkingeventslide1.filenetworkingevent3.file:n.complexdossierslide1?t=n.complexdossierslide1.filecomplexdossier.file:n.actumessageslide1?t=n.actumessageslide1.fileactumessage.file:n.workshopslide1?t=n.workshopslide1.fileworkshop3.file:n.pressreleaseslide1?t=n.pressreleaseslide1.filepressrelease.file:n.magazineslide1?t=n.magazineslide1.filemagazine.file:n.researchslide1?t=n.researchslide1.fileresearch.file:n.brochureslide1&&(t=n.brochureslide1.filebrochure.file),t},n.prototype.determineLink=function(n){var t=this;return n.networkingeventslide1?t.linkResolverService.getLink(n.networkingeventslide1.contentType,n.networkingeventslide1.id,n.networkingeventslide1.name):n.complexdossierslide1?t.linkResolverService.getLink(n.complexdossierslide1.contentType,n.complexdossierslide1.id,n.complexdossierslide1.name):n.actumessageslide1?t.linkResolverService.getLink(n.actumessageslide1.contentType,n.actumessageslide1.id,n.actumessageslide1.name):n.workshopslide1?t.linkResolverService.getLink(n.workshopslide1.contentType,n.workshopslide1.id,n.workshopslide1.name):n.pressreleaseslide1?t.linkResolverService.getLink(n.pressreleaseslide1.contentType,n.pressreleaseslide1.id,n.pressreleaseslide1.name):n.magazineslide1?t.linkResolverService.getLink(n.magazineslide1.contentType,n.magazineslide1.id,n.magazineslide1.name):n.researchslide1?t.linkResolverService.getLink(n.researchslide1.contentType,n.researchslide1.id,n.researchslide1.name):n.brochureslide1?t.linkResolverService.getLink(n.brochureslide1.contentType,n.brochureslide1.id,n.brochureslide1.name):t.linkResolverService.getLink("home")},n.prototype.sortSlides=function(n){n.sort(function(n,t){return t[1]-n[1]})},n.prototype.setVisibility=function(){for(var t=this,n=0;n<t.slides.length;n++)t.slides[n].visible=n>=t.minposition&&n<=t.maxposition?!0:!1},n.prototype.moveRight=function(){var n=this;n.maxposition=n.maxposition+1==n.slides.length?n.numberofslidesvisibleatonce-1:n.maxposition+1;n.minposition=n.maxposition-(n.numberofslidesvisibleatonce-1);n.setVisibility();n.resetPlay()},n.prototype.moveLeft=function(){var n=this;n.minposition=0==n.minposition?n.slides.length-n.numberofslidesvisibleatonce:n.minposition-1;n.maxposition=n.minposition+(n.numberofslidesvisibleatonce-1);n.setVisibility();n.resetPlay()},n.prototype.moveToPosition=function(n){var t=this;0==t.slides[n].visible&&(n>t.maxposition?(t.maxposition=n,t.minposition=t.maxposition-(t.numberofslidesvisibleatonce-1)):n<t.minposition&&(t.minposition=n,t.maxposition=t.minposition+(t.numberofslidesvisibleatonce-1)));t.setVisibility();t.resetPlay()},n.prototype.shuffle=function(n){for(var r,i,t=n.length;0!==t;)i=Math.floor(Math.random()*t),t-=1,r=n[t],n[t]=n[i],n[i]=r;return n},n}();n.AltaiSlideshowGridController=t}(ComeosModule||(ComeosModule={}));!function(n){function r(){return{restrict:"AE",scope:{items:"=",positionChangePerTime:"@",itemsInSlideBucket:"@",gridsize:"@"},bindToController:!0,controllerAs:"$ctrl",controller:i,link:t,templateUrl:"/api/template/Component/AltaiSlideshowGridTwoByTwo"}}var t,i;n.AltaiSlideshowGridTwoByTwo=r;t=function(){function n(n,t){var i=t.closest('[class*="col"]');n.elementWidth=i.width()}return n}();n.AltaiSlideshowGridTwoByTwoLink=t;i=function(){function n(n,t,i,r,u){var f,e;this.$scope=n;this.$rootScope=t;this.linkResolverService=i;this.$interval=r;this.$element=u;this.slideBuckets=[];this.gridItems=5;this.maxSlides=5;this.slidesReady=!1;this.shouldShowSlides=!0;this.position=0;this.activeIndex=0;this.slideshowPlaying=!1;this.allShown=!1;this.slidedurationseconds=2;this.slideHeightPercentage=.6;this.slideContentLeftPercentage=.1;this.slideContentWidthPercentage=.25;this.slideContentBottomPercentage=.2;this.slideNavButtonsHeightPercentage=.4;this.slideTitleFontSize=60;this.slideTaglineFontSize=20;this.slideIndicatorBottomPercentage=.05;f=this;f.$scope=n;f.positionChangePerTimeNumber=parseInt(f.positionChangePerTime);f.itemsInSlideBucketNumber=parseInt(f.gridsize);f.gridsizeNumber=parseInt(f.gridsize);e=n.$watch("$ctrl.items",function(){void 0!=f.items&&(f.initme(),e())},!0)}return n.prototype.initme=function(){var n=this,o,t,e,r,i,u;for(n.slideBuckets=[],console.log("entering initme"),o=n.$element.closest('[class*="col"]'),n.elementWidth=o.width(),n.slideBuckets.length=n.gridsizeNumber,n.position=0,n.activeIndex=0,n.slidesReady=!1,n.shouldShowSlides=!0,n.stopPlay(),n.gridItems=n.gridsizeNumber,n.numberOfSlidebuckets=Math.ceil(n.items.length/n.itemsInSlideBucketNumber),n.numberOfSlidebuckets<n.gridItems&&(n.allShown=!0),n.slideHeight=200,n.slideBucketHeight=2*n.slideHeight,n.slideBucketWidth=n.slideHeight,n.slideshowStyle={width:n.slideBucketWidth*n.gridsizeNumber,height:n.slideBucketWidth*n.gridsizeNumber,overflow:"hidden"},n.slideshowNavigationStyle={height:n.slideBucketHeight,width:50,"padding-top":n.slideBucketHeight/2-10,"padding-left":19},t=0,n.slideBuckets[t]=[],e={width:n.slideBucketWidth},r=[],n.slideBuckets[t]={style:e,slides:r},i=0,n.shuffle(n.items),u=0;u<n.items.length;u++){var f=n.items[u],s=n.determineImageURL(f),h={"max-width":n.slideBucketWidth,"max-height":n.slideHeight,width:n.slideBucketWidth,height:n.slideHeight,padding:40},c=n.determineLink(f),l={id:f.id,companyname:f.companyname,style:h,slidelink:c,imagesrc:s};i+1>n.itemsInSlideBucketNumber&&(t+=1,r=[],n.slideBuckets[t]={style:e,slides:r},i=0);n.slideBuckets[t].slides[i]=l;i++}n.slidesReady=!0;n.togglePlay()},n.prototype.togglePlay=function(){var n=this;n.slideshowPlaying?n.stopPlay():n.startPlay()},n.prototype.startPlay=function(){var n=this;n.playTimer=n.$interval(function(){n.moveRight()},1e3*n.slidedurationseconds);n.slideshowPlaying=!0},n.prototype.stopPlay=function(){var n=this;angular.isDefined(n.playTimer)&&n.$interval.cancel(n.playTimer);n.slideshowPlaying=!1},n.prototype.resetPlay=function(){var n=this;n.slideshowPlaying&&(angular.isDefined(n.playTimer)&&n.$interval.cancel(n.playTimer),n.playTimer=n.$interval(function(){n.moveRight()},1e3*n.slidedurationseconds))},n.prototype.determineImageURL=function(n){var t,i=config.staticFileBase+"/";return n.filecompany&&(t=i+n.filecompany.file),t},n.prototype.determineLink=function(n){return n.linkcompany?n.linkcompany.linkurl:"https://www.comeos.be"},n.prototype.sortSlides=function(n){n.sort(function(n,t){return t[1]-n[1]})},n.prototype.shuffle=function(n){for(var r,i,t=n.length;0!==t;)i=Math.floor(Math.random()*t),t-=1,r=n[t],n[t]=n[i],n[i]=r;return n},n.prototype.moveRight=function(){var t,n=this;n.position+n.gridItems+n.positionChangePerTimeNumber<=n.slideBuckets.length&&(t=n.positionChangePerTimeNumber);n.position+n.gridItems+n.positionChangePerTimeNumber>n.slideBuckets.length&&(t=n.position+n.gridItems+n.positionChangePerTimeNumber-n.slideBuckets.length);n.position=n.position+n.gridItems==n.slideBuckets.length?0:n.position+t;n.activeIndex=n.activeIndex+n.gridItems==n.slideBuckets.length?0:n.activeIndex+t;n.resetPlay()},n.prototype.moveLeft=function(){var n=this;n.position=n.position-1;n.activeIndex=n.activeIndex-1;n.resetPlay()},n.prototype.moveToPosition=function(n){var t=this;t.position=n;t.activeIndex=n;t.resetPlay()},n}();n.AltaiSlideshowGridTwoByTwoController=i}(ComeosModule||(ComeosModule={}));!function(n){function r(){return{restrict:"AE",scope:{items:"=",positionChangePerTime:"@",itemsInSlideBucket:"@"},bindToController:!0,controllerAs:"$ctrl",controller:i,link:t,templateUrl:"/api/template/Component/AltaiSlideshowGridForCollections"}}var t,i;n.AltaiSlideshowGridForCollections=r;t=function(){function n(n,t){var i=t.closest('[class*="col"]');n.elementWidth=i.width()}return n}();n.AltaiSlideshowGridForCollectionsLink=t;i=function(){function n(n,t,i,r,u){var f,e;this.$scope=n;this.$rootScope=t;this.linkResolverService=i;this.$interval=r;this.$element=u;this.slideBuckets=[];this.gridItems=5;this.maxSlides=5;this.slidesReady=!1;this.shouldShowSlides=!0;this.position=0;this.activeIndex=0;this.slideshowPlaying=!1;this.allShown=!1;this.slidedurationseconds=5;this.slideHeightPercentage=.6;this.slideContentLeftPercentage=.1;this.slideContentWidthPercentage=.25;this.slideContentBottomPercentage=.2;this.slideNavButtonsHeightPercentage=.4;this.slideTitleFontSize=60;this.slideTaglineFontSize=20;this.slideIndicatorBottomPercentage=.05;f=this;f.$scope=n;f.positionChangePerTimeNumber=parseInt(f.positionChangePerTime);f.itemsInSlideBucketNumber=parseInt(f.itemsInSlideBucket);e=n.$watch("$ctrl.items",function(){void 0!=f.items&&(f.initme(),e());t.$watch("windowSize",function(){void 0!=f.items&&f.initme()})},!0)}return n.prototype.initme=function(){var n=this,e,t,f,r,i,u;for(n.slideBuckets=[],e=n.$element.closest('[class*="col"]'),n.elementWidth=e.width(),n.slideBuckets.length=0,n.gridItems=n.elementWidth<600?2:n.elementWidth<1024?3:5,n.position=0,n.activeIndex=0,n.slidesReady=!1,n.shouldShowSlides=!0,n.stopPlay(),n.slideHeight=100,n.numberOfSlidebuckets=Math.floor(n.items.length/n.itemsInSlideBucketNumber),n.numberOfSlidebuckets<n.gridItems&&(n.gridItems=n.numberOfSlidebuckets,n.allShown=!0),n.slideBucketHeight=n.itemsInSlideBucketNumber*n.slideHeight,n.slideBucketWidth=n.elementWidth/n.gridItems,n.slideshowNavigationStyle={height:n.slideBucketHeight,width:50,"padding-top":n.slideBucketHeight/2-10,"padding-left":19},t=0,n.slideBuckets[t]=[],f={width:n.slideBucketWidth},r=[],n.slideBuckets[t]={style:f,slides:r},n.shuffle(n.items),i=0,u=0;u<n.items.length;u++){var o=n.items[u],s=n.determineImageURL(o),h={width:n.slideBucketWidth,height:n.slideHeight},c=n.determineLink(o),l={style:h,slidelink:c,imagesrc:s};i+1>n.itemsInSlideBucket&&(t+=1,r=[],n.slideBuckets[t]={style:f,slides:r},i=0);n.slideBuckets[t].slides[i]=l;i++}n.slidesReady=!0;n.togglePlay()},n.prototype.togglePlay=function(){var n=this;n.slideshowPlaying?n.stopPlay():n.startPlay()},n.prototype.startPlay=function(){var n=this;n.playTimer=n.$interval(function(){n.moveRight()},1e3*n.slidedurationseconds);n.slideshowPlaying=!0},n.prototype.stopPlay=function(){var n=this;angular.isDefined(n.playTimer)&&n.$interval.cancel(n.playTimer);n.slideshowPlaying=!1},n.prototype.resetPlay=function(){var n=this;n.slideshowPlaying&&(angular.isDefined(n.playTimer)&&n.$interval.cancel(n.playTimer),n.playTimer=n.$interval(function(){n.moveRight()},1e3*n.slidedurationseconds))},n.prototype.determineImageURL=function(n){var t,i=config.staticFileBase+"/";return n.filesponsororganization&&(t=i+n.filesponsororganization.file),t},n.prototype.determineLink=function(n){return n.linksponsororganization?n.linksponsororganization[0].linkurl:"https://www.comeos.be"},n.prototype.sortSlides=function(n){n.sort(function(n,t){return t[1]-n[1]})},n.prototype.moveRight=function(){var t,n=this;n.position+n.gridItems+n.positionChangePerTimeNumber<=n.slideBuckets.length&&(t=n.positionChangePerTimeNumber);n.position+n.gridItems+n.positionChangePerTimeNumber>n.slideBuckets.length&&(t=n.position+n.gridItems+n.positionChangePerTimeNumber-(n.slideBuckets.length+1));n.position=n.position+n.gridItems==n.slideBuckets.length?0:n.position+t;n.activeIndex=n.activeIndex+n.gridItems==n.slideBuckets.length?0:n.activeIndex+t;n.resetPlay()},n.prototype.moveLeft=function(){var n=this;n.position=n.position-1;n.activeIndex=n.activeIndex-1;n.resetPlay()},n.prototype.moveToPosition=function(n){var t=this;t.position=n;t.activeIndex=n;t.resetPlay()},n.prototype.shuffle=function(n){for(var r,i,t=n.length;0!==t;)i=Math.floor(Math.random()*t),t-=1,r=n[t],n[t]=n[i],n[i]=r;return n},n}();n.AltaiSlideshowGridForCollectionsController=i}(ComeosModule||(ComeosModule={}));!function(n){function r(){return{restrict:"AE",bindToController:!0,controllerAs:"$ctrl",link:t,controller:i}}var t,i;n.AltaiHeaderHeightCalculator=r;t=function(){function n(){this.slideHeightPercentage=.5}return n}();n.AltaiHeaderHeightCalculatorLink=t;i=function(){function n(n,t,i){this.$rootScope=n;this.$scope=t;this.$state=i;this.slideHeightPercentage=.5;this.shouldDeductMenuBar=!0;this.heightMenuBar=65;this.minHeight=350;var r=this,u=r.$state.current.name;"Root.Home"==u&&(void 0!=r.$rootScope.windowHeight&&(r.slideheight=r.$rootScope.windowHeight*r.slideHeightPercentage,r.slideheight<r.minHeight&&(r.slideheight=r.minHeight),1==r.slideHeightPercentage&&r.shouldDeductMenuBar&&(r.slideheight=r.slideheight-r.heightMenuBar)),n.$watch("windowSize",function(){void 0!=r.$rootScope.windowHeight&&(r.slideheight=r.$rootScope.windowHeight*r.slideHeightPercentage,r.slideheight<r.minHeight&&(r.slideheight=r.minHeight),1==r.slideHeightPercentage&&r.shouldDeductMenuBar&&(r.slideheight=r.slideheight-r.heightMenuBar))}),n.$watch("windowHeight",function(){void 0!=r.$rootScope.windowHeight&&(r.slideheight=r.$rootScope.windowHeight*r.slideHeightPercentage,r.slideheight<r.minHeight&&(r.slideheight=r.minHeight),1==r.slideHeightPercentage&&r.shouldDeductMenuBar&&(r.slideheight=r.slideheight-r.heightMenuBar))}));r.$rootScope.$on("$stateChangeSuccess",function(t,i){"Root.Home"==i.name?(0==r.$rootScope.slideshowInit,void 0!=r.$rootScope.windowHeight&&(r.slideheight=r.$rootScope.windowHeight*r.slideHeightPercentage,r.slideheight<r.minHeight&&(r.slideheight=r.minHeight),1==r.slideHeightPercentage&&r.shouldDeductMenuBar&&(r.slideheight=r.slideheight-r.heightMenuBar)),n.$watch("windowSize",function(){void 0!=r.$rootScope.windowHeight&&(r.slideheight=r.$rootScope.windowHeight*r.slideHeightPercentage,r.slideheight<r.minHeight&&(r.slideheight=r.minHeight));1==r.slideHeightPercentage&&r.shouldDeductMenuBar&&(r.slideheight=r.slideheight-r.heightMenuBar)}),n.$watch("windowHeight",function(){void 0!=r.$rootScope.windowHeight&&(r.slideheight=r.$rootScope.windowHeight*r.slideHeightPercentage,r.slideheight<r.minHeight&&(r.slideheight=r.minHeight));1==r.slideHeightPercentage&&r.shouldDeductMenuBar&&(r.slideheight=r.slideheight-r.heightMenuBar)})):r.slideheight=void 0})}return n}();n.AltaiHeaderHeightCalculatorController=i}(ComeosModule||(ComeosModule={}));!function(n){function r(){return{restrict:"AE",scope:{youtubeidnl:"@",youtubeidfr:"@",title:"@",description:"@"},bindToController:!0,controllerAs:"$ctrl",controller:i,link:t}}var t,i;n.AltaiInitMediaMessageDirective=r;t=function(){function n(){}return n}();n.AltaiInitMediaMessageDirectiveLink=t;i=function(){function n(n,t,i,r,u,f){this.altaiClientDataStore=n;this.$location=t;this.$filter=i;this.$sce=r;this.$scope=u;this.$uibModal=f;var e=this;e.open()}return n.prototype.open=function(n,t){var i=this,r,u;(this.displayInitMediaMessage=!i.altaiClientDataStore.get("hideInitMediaMessage"),i.displayInitMediaMessage)&&(r=t?angular.element("#bodyView "+t):angular.element("#bodyView"),u=i.$uibModal.open({animation:!1,component:"AltaiInitMediaMessageComponent",windowClass:"fullscreen-modal",resolve:{youtubeidnl:function(){return i.youtubeidnl},youtubeidfr:function(){return i.youtubeidfr},title:function(){return i.title},description:function(){return i.description}},appendTo:r,backdrop:"static"}),u.result.then(function(){},function(){}))},n}();n.AltaiInitMediaMessageDirectiveController=i}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="E";this.bindings={imagefiles:"="};this.templateUrl="/api/template/Component/AltaiGalleryTemplate";this.controller=t}return n}(),t;n.AltaiGalleryComponent=i;t=function(){function n(n){this.$scope=n;this.images=[];this.methods={};this.thumbnails=!0;this.inline=!1;this.imgbubbles=!1;this.bgclose=!1;this.bubbles=!0;var t=this;t.$scope=n;n.$watch("$scope.imagefiles",function(){void 0!=t.imagefiles&&t.init()},!0)}return n.prototype.init=function(){for(var i,n=this,t=0;t<n.imagefiles.length;t++)i={title:"Image",alt:"Image",thumbUrl:config.staticFileBase+"/"+n.imagefiles[t].file,url:config.staticFileBase+"/"+n.imagefiles[t].file},n.images.push(i);n.$scope.openGallery=function(){n.$scope.methods.open()};n.$scope.closeGallery=function(){n.$scope.methods.close()}},n}();n.AltaiGalleryComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var r=function(){function n(){this.restrict="E";this.bindings={collapsermodel:"=",activelang:"=",answer:"<"};this.templateUrl="/api/template/Component/CollapserComponent";this.controller=t}return n}(),t,i;n.CollapserComponent=r;t=function(){function n(n){this.$scope=n;this.sectionList=[];var t=this;t.init()}return n.prototype.init=function(){for(var n=this,t=0;t<n.collapsermodel.length;t++)n.sectionList.push(new i(n.collapsermodel[t],n))},n.prototype.expandAll=function(){for(var n=this,t=0;t<n.sectionList.length;t++)n.sectionList[t].expand();n.allexpanded=!0},n.prototype.collapseAll=function(){for(var n=this,t=0;t<n.sectionList.length;t++)n.sectionList[t].collapse();n.allexpanded=!1},n.prototype.checkOpenCloseSituation=function(){for(var n=this,i=!0,t=0;t<n.sectionList.length;t++)n.sectionList[t].expanded||(i=!1);n.allexpanded=i},n}();n.CollapserComponentController=t;i=function(){function n(n,t){this.section=n;this.collapser=t}return n.prototype.expand=function(){var n=this;n.expanded=!0;n.collapser.checkOpenCloseSituation()},n.prototype.collapse=function(){var n=this;n.expanded=!1;n.collapser.checkOpenCloseSituation()},n.prototype.toggle=function(){var n=this;n.expanded=!n.expanded;n.collapser.checkOpenCloseSituation()},n}();n.Section=i}(ComeosModule||(ComeosModule={}));!function(n){var i=!1,r=function(){function n(){this.restrict="E";this.bindings={items:"="};this.templateUrl="/api/template/Component/WhoIsWho";this.controller=t}return n}(),t;n.ComeosWhoIsWhoComponent=r;t=function(){function n(n,t){this.$scope=n;this.$timeout=t}return n.prototype.$onInit=function(){i=!1},n}();n.ComeosWhoIsWhoController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="E";this.bindings={item:"=",hideTag:"="};this.templateUrl="/api/template/Component/WhoIsWhoCard";this.controller=t}return n}(),t;n.ComeosWhoIsWhoCardComponent=i;t=function(){function n(n,t,i){this.$scope=n;this.linkResolverService=t;this.$timeout=i;var r=this;r.item&&(r.item.$ready=!1);n.$watch("$scope.item",function(){void 0!=r.item&&r.init()},!0);r.createLink()}return n.prototype.init=function(){var n=this;n.item.filepersoon1&&(n.imagelink=n.item.filepersoon1.file)},n.prototype.onHoverIn=function(){var n=this;n.item.filepersoon&&(n.imagelink=n.item.filepersoon.file)},n.prototype.onHoverOut=function(){var n=this;n.item.filepersoon1&&(n.imagelink=n.item.filepersoon1.file)},n.prototype.createLink=function(){var n=this;n.link=this.linkResolverService.getLink("person",n.item.id)},n.prototype.$onInit=function(){this.item&&(this.item.$ready=!0)},n}();n.ComeosWhoIsWhoCardComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="E";this.bindings={doctype:"="};this.templateUrl="/api/template/Component/FileIcon";this.controller=t}return n}(),t;n.FileIconComponent=i;t=function(){function n(n){this.$scope=n;this.doctypetext="mdi mdi-file-document-box filetype";var t=this;n.$watch("vm.doctype",function(){void 0!=t.doctype&&("pdf"==t.doctype?t.doctypetext="mdi mdi-file-pdf-box filetype filetypepdf":"doc"==t.doctype||"docx"==t.doctype?t.doctypetext="mdi mdi-file-word-box filetype filetypeword":"xls"==t.doctype||"xlsx"==t.doctype?t.doctypetext="mdi mdi-file-excel-box filetype filetypeexcel":"ppt"!=t.doctype&&"pptx"!=t.doctype||(t.doctypetext="mdi mdi-file-powerpoint-box filetype filetypeppt"))},!0)}return n}();n.FileIconComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.bindings={item:"="};this.templateUrl="/api/template/Component/ComeosOverviewCard";this.controller=t}return n}(),t;n.ComeosOverviewCardComponent=i;t=function(){function n(n){this.linkResolverService=n;var t=this;t.title=t.item.title||t.item.titel;t.contenttypemachinename=t.item.contentType;t.createLink()}return n.prototype.pushArray=function(n,t){n.push.apply(n,t)},n.prototype.createLink=function(){var n=this;n.link=n.linkResolverService.getLink(n.contenttypemachinename,n.item.id,n.title)},n}();n.ComeosOverviewCardComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.bindings={item:"="};this.templateUrl="/api/template/Component/ComeosMenublockCard";this.controller=t}return n}(),t;n.ComeosMenublockCardComponent=i;t=function(){function n(n,t){this.linkResolverService=n;this.$state=t;var i=this;i.title=i.item.label;i.contenttypemachinename="menuitem";i.createLink()}return n.prototype.pushArray=function(n,t){n.push.apply(n,t)},n.prototype.createLink=function(){var n=this;void 0!=n.item.state&&(n.link=n.item.state.name)},n.prototype.openLink=function(){var n=this;void 0!=n.link?n.$state.go(n.link):window.open(n.item.url,"_blank")},n}();n.ComeosMenublockCardComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.bindings={showCircle:"="};this.restrict="E";this.templateUrl="/api/template/Component/ComeosTopMenu";this.controller=t}return n}(),t;n.ComeosTopMenu=i;t=function(){function n(n,t,i,r,u,f){this.authService=n;this.userInfoService=t;this.$state=i;this.languageFactory=u;this.altaiLocalizationService=f;this.isLoggedIn=!1;this.showAdmin=!1;var e=this;e.$rootScope=r;e.$rootScope.$on("loaderShow",function(){e.loading=!0});e.$rootScope.$on("loaderHide",function(){e.loading=!1});r.userinfo?n.isAuthorized("admin.menu").then(function(){e.$rootScope.showAdmin=!0}):n.getUserInfo().then(function(t){e.$rootScope.userinfo=t;e.$rootScope.isLoggedIn=!0;n.isAuthorized("admin.menu").then(function(){e.$rootScope.showAdmin=!0})},function(){e.$rootScope.isLoggedIn=!1});e.$rootScope.$on("userInfoChanged",function(){n.getUserInfo().then(function(n){e.$rootScope.userinfo=n;e.$rootScope.isLoggedIn=!0},function(){e.$rootScope.isLoggedIn=!1;e.$rootScope.showAdmin=!1})});e.getLanguages()}return n.prototype.logout=function(){window.location.href="/logout"},n.prototype.login=function(){var n=this;n.authService.isAccessTokenExpired()?(n.$rootScope.preLoginState={name:"Root.MyComeos.Dashboard"},n.$rootScope.preLoginState.stateParams={},n.$state.go("login")):n.$state.go("Root.MyComeos.Dashboard")},n.prototype.openAdmin=function(){window.location.href="/index-admin.html"},n.prototype.getLanguages=function(){var n=this;n.languageFactory.listLanguage().then(function(t){n.languages=t;n.determineActiveLangCode()})},n.prototype.selectLang=function(n){var t=this;t.altaiLocalizationService.changeLang(n.code).then(function(){t.$rootScope.$broadcast("languageChanged");window.location.reload()})},n.prototype.determineActiveLangCode=function(){var n=this;n.activeLang=n.altaiLocalizationService.getCurrentLangCode();n.languages=n.languages.map(function(t){return t.selected=n.activeLang==t.code,t})},n}();n.ComeosTopMenuController=t}(ComeosModule||(ComeosModule={}));!function(n){var t=function(){function n(){}return n.prototype.getLink=function(n,t,i){void 0===t&&(t=-1);var r;switch(i&&(i=i.substring(0,100).replace(/Â|À|Å|Ã/g,"A").replace(/â|à|å|ã/g,"a").replace(/Ä/g,"AE").replace(/ä/g,"ae").replace(/Ç/g,"C").replace(/ç/g,"c").replace(/É|Ê|È|Ë/g,"E").replace(/é|ê|è|ë/g,"e").replace(/Ó|Ô|Ò|Õ|Ø/g,"O").replace(/ó|ô|ò|õ/g,"o").replace(/Ö/g,"OE").replace(/ö/g,"oe").replace(/Š/g,"S").replace(/š/g,"s").replace(/ß/g,"ss").replace(/Ú|Û|Ù/g,"U").replace(/ú|û|ù/g,"u").replace(/Ü/g,"UE").replace(/ü/g,"ue").replace(/Ý|Ÿ/g,"Y").replace(/ý|ÿ/g,"y").replace(/Ž/g,"Z").replace(/ž/,"z").replace(/[\W_]/g,"-").replace(/-{2,}/g,"-").replace(/-\s*$/,"")),n){case"complexdossier":r="Root.Detail.Dossier({id:"+t+", name:'"+i+"'})";break;case"pcinfo":r="Root.Detail.PCInfo({id:"+t+", name:'"+i+"'})";break;case"onderhandeling":r="Root.Detail.Negotiation({id:"+t+", name:'"+i+"'})";break;case"actumessage":r="Root.Detail.Actumessage({id:"+t+", name:'"+i+"'})";break;case"grafiek":r="Root.Detail.Graph({id:"+t+", name:'"+i+"'})";break;case"vergelijker1":r="Root.Detail.Vergelijker({id:"+t+", name:'"+i+"'})";break;case"brochure":r="Root.Detail.Brochure({id:"+t+", name:'"+i+"'})";break;case"magazine":r="Root.Detail.Magazine({id:"+t+", name:'"+i+"'})";break;case"magazineartikel":r="Root.Detail.MagazineArtikel({id:"+t+", name:'"+i+"'})";break;case"research":r="Root.Detail.Research({id:"+t+", name:'"+i+"'})";break;case"pressrelease":r="Root.Detail.Pressrelease({id:"+t+", name:'"+i+"'})";break;case"job":r="Root.Detail.Job({id:"+t+", name:'"+i+"'})";break;case"voluntaryengagement":r="Root.Detail.VoluntaryEngagement({id:"+t+", name:'"+i+"'})";break;case"workshop":r="Root.Detail.AcademyEvent({id:"+t+", name:'"+i+"'})";break;case"commissievergadering":r="Root.Detail.Vergadering({id:"+t+", name:'"+i+"'})";break;case"networkingevent":r="Root.Detail.Networkingevent({id:"+t+", name:'"+i+"'})";break;case"ceoletter":r="Root.MyComeos.CEOLetter({id:"+t+", name:'"+i+"'})";break;case"ceoevent":r="Root.Detail.CEOEvent({id:"+t+", name:'"+i+"'})";break;case"region":r=-1==t?"Root.Content.Regions()":"Root.DetailOverview.Region({id:"+t+", name:'"+i+"'})";break;case"theme":r=-1==t?"Root.Content.Themes()":"Root.DetailOverview.Theme({id:"+t+", name:'"+i+"'})";break;case"pc":r=-1==t?"Root.Content.PCs()":"Root.DetailOverviewSubmenu.PC({id:"+t+", name:'"+i+"'})";break;case"sector":r=-1==t?"Root.Content.Sectors()":"Root.DetailOverview.Sector({id:"+t+", name:'"+i+"'})";break;default:r="Root.Home"}return r},n}();n.LinkResolverService=t}(ComeosModule||(ComeosModule={}));!function(n){var t=function(){function n(n,t,i,r,u,f,e){this.altaiHttp=n;this.$q=t;this.altaiNotificationFactory=i;this.$filter=r;this.$http=u;this.$translate=f;this.$rootScope=e;this.myFavorites=[];this.mySelection=[];this.isLoaded=!1;var o=this;o.getMySelection().then(function(n){o.mySelection=n.length?n:[]});o.getMyFavorites().then(function(n){o.myFavorites=n.length?n:[]})}return n.prototype.getIsFavourite=function(n){var t=this;return t.myFavorites.some(function(t){return t==n})},n.prototype.likeContentItem=function(n){var i=this.$q.defer(),t=this;return this.altaiHttp.post("/api/comeos/like",{id:n.id}).success(function(r){t.altaiNotificationFactory.success(t.$filter("translate")("TheItem")+' "'+n.title+'" '+t.$filter("translate")("WasAddedToTheListOfFavorites"));t.myFavorites.push(r.contentId);i.resolve(r)}).error(function(){t.altaiNotificationFactory.error("Kindly login to like this content");i.reject()}),i.promise},n.prototype.unlikeContentItem=function(n){var i=this.$q.defer(),t=this;return this.altaiHttp.post("/api/comeos/unlike",{id:n.id}).success(function(r){t.altaiNotificationFactory.success(t.$filter("translate")("TheItem")+' "'+n.name+'" '+t.$filter("translate")("WasRemovedFromTheListOfFavorites"));var u=t.myFavorites.indexOf(n.id);u>=0&&t.myFavorites.splice(u,1);i.resolve(r)}).error(function(){t.altaiNotificationFactory.error("Kindly login to dislike this content");i.reject()}),i.promise},n.prototype.getMySelection=function(){var n=this,t=n.$q.defer();return n.altaiHttp.get("api/comeos/myselection").then(function(n){t.resolve(n)}),t.promise},n.prototype.getMyFavorites=function(){var n=this,t=n.$q.defer();return n.altaiHttp.get("api/comeos/myfavorites").then(function(i){n.isLoaded=!0;t.resolve(i)}),t.promise},n.prototype.getCompanies=function(){var n=this,t=n.$q.defer();return n.altaiHttp.get("api/comeos/companies").then(function(n){t.resolve(n)}),t.promise},n.prototype.updateProfile=function(n,t){var i=this,r=i.$q.defer();return t||(t={"new":"",old:"",newrepeated:""}),i.$translate(["passwordsdonotmatch","profileupdated","couldnotupdateprofile"]).then(function(u){t&&t["new"]!=t.newrepeated?(i.altaiNotificationFactory.error(u.passwordsdonotmatch),r.reject()):i.$http.put("/api/comeos/profile",{profileContentItem:n,newPassword:t["new"],oldPassword:t.old}).then(function(n){i.altaiNotificationFactory.success(u.profileupdated);i.$rootScope.$broadcast("userInfoChanged",null);r.resolve(n)},function(){i.altaiNotificationFactory.error(u.couldnotupdateprofile)})}),r.promise},n.prototype.inviteNewEmployee=function(n,t){var i=this,r=i.$q.defer();return i.altaiHttp.post("api/comeos/inviteemployee",{email:n,efficyId:t}).then(function(n){r.resolve(n);i.altaiNotificationFactory.success("employeeinvitedsuccesfully")},function(){i.altaiNotificationFactory.success("employeeinvitedfailed")}),r.promise},n}();n.MyComeosDataService=t}(ComeosModule||(ComeosModule={}));!function(n){function r(n){return{link:function(t){if(t.$last)var i=t.$watch("item.$ready",function(){t.item.$ready&&n(function(){u();i()})})}}}function u(){var n=$(".grid");t&&n.masonry("reloadItems");n.masonry({itemSelector:".grid-item",gutter:25,columnWidth:360,isFitWidth:!0,transitionDuration:0});t=!0}var t=!1,f=function(){function n(){this.restrict="E";this.bindings={items:"="};this.templateUrl="/api/template/Component/ComeosMasonryTemplate";this.controller=i}return n}(),i;n.ComeosMasonryComponent=f;i=function(){function n(n,t){this.$scope=n;this.$timeout=t}return n.prototype.$onInit=function(){t=!1},n}();n.ComeosMasonryController=i;n.comeosMasonryInit=r}(ComeosModule||(ComeosModule={}));!function(n){function r(n){return{link:function(t){t.$watch("item.$ready",function(){t.item.$ready&&n(function(){u()})})}}}function u(){var n=$(".grid");n.masonry({itemSelector:".grid-item",gutter:25,columnWidth:265,isFitWidth:!0,transitionDuration:"0.4s"});t&&n.masonry("reloadItems");t=!0}var t=!1,f=function(){function n(){this.restrict="E";this.bindings={items:"="};this.templateUrl="/api/template/Component/ComeosMasonryClientSideTemplate";this.controller=i}return n}(),i;n.ComeosMasonryClientSideComponent=f;i=function(){function n(n,t){this.$scope=n;this.$timeout=t;var i=this;n.$watch("$ctrl.items",function(){void 0!=i.items&&i.loadMasonry()},!0)}return n.prototype.$onInit=function(){t=!1},n.prototype.loadMasonry=function(){var i=this,n=$(".grid");i.$timeout(function(){n.masonry({itemSelector:".grid-item",gutter:25,columnWidth:265,isFitWidth:!0,transitionDuration:"0.4s"});t&&n.masonry("reloadItems");t=!0})},n}();n.ComeosMasonryClientSideController=i;n.comeosMasonryClientSideInit=r}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.bindings={};this.templateUrl="/api/template/Component/linkshare";this.controller=t;this.transclude=!0}return n}(),t;n.LinkShareComponent=i;t=function(){function n(n,t,i){this.$location=n;this.$filter=i;var r=this;r.altaiNotificationFactory=t;r.link=n.absUrl().split("?")[0]}return n.prototype.copied=function(){var n=this,t=n.$filter("translate")("the_link"),i=n.$filter("translate")("succesfully_copied");n.altaiNotificationFactory.success(t+" "+n.link+" "+i)},n}();n.LinkShareComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.bindings={item:"=",target:"=",contenttypemachinename:"="};this.templateUrl="/api/template/Component/socialsharecard";this.controller=t;this.transclude=!0}return n}(),t;n.SocialShareCardComponent=i;t=function(){function n(){}return n}();n.SocialShareCardComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.bindings={item:"="};this.templateUrl="/api/template/Component/socialshareheader";this.controller=t;this.transclude=!0}return n}(),t;n.SocialShareHeaderComponent=i;t=function(){function n(){}return n}();n.SocialShareHeaderComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.bindings={resolve:"<",close:"&",dismiss:"&"};this.templateUrl="/api/template/Component/socialShare";this.controller=t}return n}(),t;n.AltaiSocialShareModalComponent=i;t=function(){function n(n,t,i,r,u,f){this.$location=n;this.$state=t;this.$filter=r;this.$sce=u;this.$scope=f;var e=this;e.altaiNotificationFactory=i;f.$watch("$ctrl.item",function(n){n?(e.item.socialsharehashtags="comeos",e.item.socialshareurl=e.link,e.item.socialsharedescription=e.HtmlDecode(e.item.publicintroduction||e.item.membersintroduction||e.item.intro),e.onlyImage=!1):e.onlyImage=!0});f.$watch("$ctrl.target",function(n){e.link=n?e.$state.href(n.split("(")[0],{id:e.item.id,name:e.item.title||e.item.titel||e.item.name?(e.item.title||e.item.titel||e.item.name).substring(0,100).replace(/[\W_]/g,"-").replace(/-{2,}/g,"-").replace(/-\s*$/,""):void 0},{absolute:!0}):e.$location.absUrl().split("?")[0];e.item&&(e.item.socialshareurl=e.link)})}return n.prototype.$onInit=function(){var n=this;n.item=n.resolve.item;n.item?(n.item.socialsharehashtags="comeos",n.item.socialshareurl=n.link,n.item.socialsharedescription=n.HtmlDecode(n.item.publicintroduction||n.item.membersintroduction||n.item.intro),n.onlyImage=!1):n.onlyImage=!0;n.target=n.resolve.target;console.log(n.resolve);n.link=n.target?n.$state.href(n.target.split("(")[0],{id:n.item.id},{absolute:!0}):n.$location.absUrl().split("?")[0];n.item&&(n.item.socialshareurl=n.link)},n.prototype.getMail=function(n){var t=this;return void 0!=t.item.socialsharedescription?t.item.socialsharedescription+"%0A%0A"+n+"%0A%0A":n+"%0A%0A"},n.prototype.cancel=function(){var n=this;n.dismiss({$value:"cancel"})},n.prototype.htmlToPlaintext=function(n){return n?$(n).text():""},n.prototype.HtmlDecode=function(n){var t=this,i=t.htmlToPlaintext(n);return i.replace(/&[a-z]+;/gi,function(n){switch(n){case"&quot;":return String.fromCharCode(34);case"&amp;":return String.fromCharCode(38);case"&lt;":return String.fromCharCode(60);case"&gt;":return String.fromCharCode(62);case"&nbsp;":return String.fromCharCode(160);case"&iexcl;":return String.fromCharCode(161);case"&cent;":return String.fromCharCode(162);case"&pound;":return String.fromCharCode(163);case"&curren;":return String.fromCharCode(164);case"&yen;":return String.fromCharCode(165);case"&brvbar;":return String.fromCharCode(166);case"&sect;":return String.fromCharCode(167);case"&uml;":return String.fromCharCode(168);case"&copy;":return String.fromCharCode(169);case"&ordf;":return String.fromCharCode(170);case"&laquo;":return String.fromCharCode(171);case"&not;":return String.fromCharCode(172);case"&shy;":return String.fromCharCode(173);case"&reg;":return String.fromCharCode(174);case"&macr;":return String.fromCharCode(175);case"&deg;":return String.fromCharCode(176);case"&plusmn;":return String.fromCharCode(177);case"&sup2;":return String.fromCharCode(178);case"&sup3;":return String.fromCharCode(179);case"&acute;":return String.fromCharCode(180);case"&micro;":return String.fromCharCode(181);case"&para;":return String.fromCharCode(182);case"&middot;":return String.fromCharCode(183);case"&cedil;":return String.fromCharCode(184);case"&sup1;":return String.fromCharCode(185);case"&ordm;":return String.fromCharCode(186);case"&raquo;":return String.fromCharCode(187);case"&frac14;":return String.fromCharCode(188);case"&frac12;":return String.fromCharCode(189);case"&frac34;":return String.fromCharCode(190);case"&iquest;":return String.fromCharCode(191);case"&Agrave;":return String.fromCharCode(192);case"&Aacute;":return String.fromCharCode(193);case"&Acirc;":return String.fromCharCode(194);case"&Atilde;":return String.fromCharCode(195);case"&Auml;":return String.fromCharCode(196);case"&Aring;":return String.fromCharCode(197);case"&AElig;":return String.fromCharCode(198);case"&Ccedil;":return String.fromCharCode(199);case"&Egrave;":return String.fromCharCode(200);case"&Eacute;":return String.fromCharCode(201);case"&Ecirc;":return String.fromCharCode(202);case"&Euml;":return String.fromCharCode(203);case"&Igrave;":return String.fromCharCode(204);case"&Iacute;":return String.fromCharCode(205);case"&Icirc;":return String.fromCharCode(206);case"&Iuml;":return String.fromCharCode(207);case"&ETH;":return String.fromCharCode(208);case"&Ntilde;":return String.fromCharCode(209);case"&Ograve;":return String.fromCharCode(210);case"&Oacute;":return String.fromCharCode(211);case"&Ocirc;":return String.fromCharCode(212);case"&Otilde;":return String.fromCharCode(213);case"&Ouml;":return String.fromCharCode(214);case"&times;":return String.fromCharCode(215);case"&Oslash;":return String.fromCharCode(216);case"&Ugrave;":return String.fromCharCode(217);case"&Uacute;":return String.fromCharCode(218);case"&Ucirc;":return String.fromCharCode(219);case"&Uuml;":return String.fromCharCode(220);case"&Yacute;":return String.fromCharCode(221);case"&THORN;":return String.fromCharCode(222);case"&szlig;":return String.fromCharCode(223);case"&agrave;":return String.fromCharCode(224);case"&aacute;":return String.fromCharCode(225);case"&acirc;":return String.fromCharCode(226);case"&atilde;":return String.fromCharCode(227);case"&auml;":return String.fromCharCode(228);case"&aring;":return String.fromCharCode(229);case"&aelig;":return String.fromCharCode(230);case"&ccedil;":return String.fromCharCode(231);case"&egrave;":return String.fromCharCode(232);case"&eacute;":return String.fromCharCode(233);case"&ecirc;":return String.fromCharCode(234);case"&euml;":return String.fromCharCode(235);case"&igrave;":return String.fromCharCode(236);case"&iacute;":return String.fromCharCode(237);case"&icirc;":return String.fromCharCode(238);case"&iuml;":return String.fromCharCode(239);case"&eth;":return String.fromCharCode(240);case"&ntilde;":return String.fromCharCode(241);case"&ograve;":return String.fromCharCode(242);case"&oacute;":return String.fromCharCode(243);case"&ocirc;":return String.fromCharCode(244);case"&otilde;":return String.fromCharCode(245);case"&ouml;":return String.fromCharCode(246);case"&divide;":return String.fromCharCode(247);case"&oslash;":return String.fromCharCode(248);case"&ugrave;":return String.fromCharCode(249);case"&uacute;":return String.fromCharCode(250);case"&ucirc;":return String.fromCharCode(251);case"&uuml;":return String.fromCharCode(252);case"&yacute;":return String.fromCharCode(253);case"&thorn;":return String.fromCharCode(254);case"&yuml;":return String.fromCharCode(255);case"&OElig;":return String.fromCharCode(338);case"&oelig;":return String.fromCharCode(339);case"&Scaron;":return String.fromCharCode(352);case"&scaron;":return String.fromCharCode(353);case"&Yuml;":return String.fromCharCode(376);case"&fnof;":return String.fromCharCode(402);case"&circ;":return String.fromCharCode(710);case"&tilde;":return String.fromCharCode(732);case"&Alpha;":return String.fromCharCode(913);case"&Beta;":return String.fromCharCode(914);case"&Gamma;":return String.fromCharCode(915);case"&Delta;":return String.fromCharCode(916);case"&Epsilon;":return String.fromCharCode(917);case"&Zeta;":return String.fromCharCode(918);case"&Eta;":return String.fromCharCode(919);case"&Theta;":return String.fromCharCode(920);case"&Iota;":return String.fromCharCode(921);case"&Kappa;":return String.fromCharCode(922);case"&Lambda;":return String.fromCharCode(923);case"&Mu;":return String.fromCharCode(924);case"&Nu;":return String.fromCharCode(925);case"&Xi;":return String.fromCharCode(926);case"&Omicron;":return String.fromCharCode(927);case"&Pi;":return String.fromCharCode(928);case"&Rho ;":return String.fromCharCode(929);case"&Sigma;":return String.fromCharCode(931);case"&Tau;":return String.fromCharCode(932);case"&Upsilon;":return String.fromCharCode(933);case"&Phi;":return String.fromCharCode(934);case"&Chi;":return String.fromCharCode(935);case"&Psi;":return String.fromCharCode(936);case"&Omega;":return String.fromCharCode(937);case"&alpha;":return String.fromCharCode(945);case"&beta;":return String.fromCharCode(946);case"&gamma;":return String.fromCharCode(947);case"&delta;":return String.fromCharCode(948);case"&epsilon;":return String.fromCharCode(949);case"&zeta;":return String.fromCharCode(950);case"&eta;":return String.fromCharCode(951);case"&theta;":return String.fromCharCode(952);case"&iota;":return String.fromCharCode(953);case"&kappa;":return String.fromCharCode(954);case"&lambda;":return String.fromCharCode(955);case"&mu;":return String.fromCharCode(956);case"&nu;":return String.fromCharCode(957);case"&xi;":return String.fromCharCode(958);case"&omicron;":return String.fromCharCode(959);case"&pi;":return String.fromCharCode(960);case"&rho;":return String.fromCharCode(961);case"&sigmaf;":return String.fromCharCode(962);case"&sigma;":return String.fromCharCode(963);case"&tau;":return String.fromCharCode(964);case"&upsilon;":return String.fromCharCode(965);case"&phi;":return String.fromCharCode(966);case"&chi;":return String.fromCharCode(967);case"&psi;":return String.fromCharCode(968);case"&omega;":return String.fromCharCode(969);case"&thetasym;":return String.fromCharCode(977);case"&upsih;":return String.fromCharCode(978);case"&piv;":return String.fromCharCode(982);case"&ensp;":return String.fromCharCode(8194);case"&emsp;":return String.fromCharCode(8195);case"&thinsp;":return String.fromCharCode(8201);case"&zwnj;":return String.fromCharCode(8204);case"&zwj;":return String.fromCharCode(8205);case"&lrm;":return String.fromCharCode(8206);case"&rlm;":return String.fromCharCode(8207);case"&ndash;":return String.fromCharCode(8211);case"&mdash;":return String.fromCharCode(8212);case"&lsquo;":return String.fromCharCode(8216);case"&rsquo;":return String.fromCharCode(8217);case"&sbquo;":return String.fromCharCode(8218);case"&ldquo;":return String.fromCharCode(8220);case"&rdquo;":return String.fromCharCode(8221);case"&bdquo;":return String.fromCharCode(8222);case"&dagger;":return String.fromCharCode(8224);case"&Dagger;":return String.fromCharCode(8225);case"&bull;":return String.fromCharCode(8226);case"&hellip;":return String.fromCharCode(8230);case"&permil;":return String.fromCharCode(8240);case"&prime;":return String.fromCharCode(8242);case"&Prime;":return String.fromCharCode(8243);case"&lsaquo;":return String.fromCharCode(8249);case"&rsaquo;":return String.fromCharCode(8250);case"&oline;":return String.fromCharCode(8254);case"&frasl;":return String.fromCharCode(8260);case"&euro;":return String.fromCharCode(8364);case"&image;":return String.fromCharCode(8465);case"&weierp;":return String.fromCharCode(8472);case"&real;":return String.fromCharCode(8476);case"&trade;":return String.fromCharCode(8482);case"&alefsym;":return String.fromCharCode(8501);case"&larr;":return String.fromCharCode(8592);case"&uarr;":return String.fromCharCode(8593);case"&rarr;":return String.fromCharCode(8594);case"&darr;":return String.fromCharCode(8595);case"&harr;":return String.fromCharCode(8596);case"&crarr;":return String.fromCharCode(8629);case"&lArr;":return String.fromCharCode(8656);case"&uArr;":return String.fromCharCode(8657);case"&rArr;":return String.fromCharCode(8658);case"&dArr;":return String.fromCharCode(8659);case"&hArr;":return String.fromCharCode(8660);case"&forall;":return String.fromCharCode(8704);case"&part;":return String.fromCharCode(8706);case"&exist;":return String.fromCharCode(8707);case"&empty;":return String.fromCharCode(8709);case"&nabla;":return String.fromCharCode(8711);case"&isin;":return String.fromCharCode(8712);case"&notin;":return String.fromCharCode(8713);case"&ni;":return String.fromCharCode(8715);case"&prod;":return String.fromCharCode(8719);case"&sum;":return String.fromCharCode(8721);case"&minus;":return String.fromCharCode(8722);case"&lowast;":return String.fromCharCode(8727);case"&radic;":return String.fromCharCode(8730);case"&prop;":return String.fromCharCode(8733);case"&infin;":return String.fromCharCode(8734);case"&ang;":return String.fromCharCode(8736);case"&and;":return String.fromCharCode(8743);case"&or;":return String.fromCharCode(8744);case"&cap;":return String.fromCharCode(8745);case"&cup;":return String.fromCharCode(8746);case"&int;":return String.fromCharCode(8747);case"&there4;":return String.fromCharCode(8756);case"&sim;":return String.fromCharCode(8764);case"&cong;":return String.fromCharCode(8773);case"&asymp;":return String.fromCharCode(8776);case"&ne;":return String.fromCharCode(8800);case"&equiv;":return String.fromCharCode(8801);case"&le;":return String.fromCharCode(8804);case"&ge;":return String.fromCharCode(8805);case"&sub;":return String.fromCharCode(8834);case"&sup;":return String.fromCharCode(8835);case"&nsub;":return String.fromCharCode(8836);case"&sube;":return String.fromCharCode(8838);case"&supe;":return String.fromCharCode(8839);case"&oplus;":return String.fromCharCode(8853);case"&otimes;":return String.fromCharCode(8855);case"&perp;":return String.fromCharCode(8869);case"&sdot;":return String.fromCharCode(8901);case"&lceil;":return String.fromCharCode(8968);case"&rceil;":return String.fromCharCode(8969);case"&lfloor;":return String.fromCharCode(8970);case"&rfloor;":return String.fromCharCode(8971);case"&lang;":return String.fromCharCode(9001);case"&rang;":return String.fromCharCode(9002);case"&loz;":return String.fromCharCode(9674);case"&spades;":return String.fromCharCode(9824);case"&clubs;":return String.fromCharCode(9827);case"&hearts;":return String.fromCharCode(9829);case"&diams;":return String.fromCharCode(9830);case"&#39;":return String.fromCharCode(546);default:return""}})},n}();n.AltaiSocialShareModalComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.bindings={resolve:"<",close:"&",dismiss:"&"};this.templateUrl="/api/template/Component/AltaiInitMediaMessage";this.controller=t}return n}(),t;n.AltaiInitMediaMessageComponent=i;t=function(){function n(n,t,i,r,u,f,e,o,s,h){this.altaiClientDataStore=n;this.altaiLocalizationService=t;this.$rootScope=i;this.$location=r;this.$state=u;this.altaiNotificationFactory=f;this.$filter=e;this.$sce=o;this.$scope=s;this.languageFactory=h;this.hideInitMediaMessage=!0;this.inited=!1;var c=this;c.altaiClientDataStore.get("hideInitMediaMessage")&&(c.hideInitMediaMessage="true"==c.altaiClientDataStore.get("hideInitMediaMessage"));c.getLanguages()}return n.prototype.$onInit=function(){var n=this;n.item=n.resolve;n.item.url="nl"==n.altaiLocalizationService.getCurrentLangCode()?n.$sce.trustAsResourceUrl("https://www.youtube.com/embed/"+n.item.youtubeidnl+"?autoplay=0&origin=http://www.comeos.be&loop=1&modestbranding=1&fs=1"):n.$sce.trustAsResourceUrl("https://www.youtube.com/embed/"+n.item.youtubeidfr+"?autoplay=0&origin=http://www.comeos.be&loop=1&modestbranding=1&fs=1");n.inited=!0},n.prototype.getMail=function(){},n.prototype.cancel=function(){var n=this;n.hideInitMediaMessage&&n.altaiClientDataStore.set("hideInitMediaMessage",!0);n.dismiss({$value:"cancel"})},n.prototype.getLanguages=function(){var n=this;n.languageFactory.listLanguage().then(function(t){n.languages=t;n.determineActiveLangCode()})},n.prototype.selectLang=function(n){var t=this;t.altaiLocalizationService.changeLang(n.code).then(function(){t.$rootScope.$broadcast("languageChanged");window.location.reload()})},n.prototype.determineActiveLangCode=function(){var n=this;n.activeLang=n.altaiLocalizationService.getCurrentLangCode();n.languages=n.languages.map(function(t){return t.selected=n.activeLang==t.code,t})},n}();n.AltaiInitMediaMessageComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){function r(){return{restrict:"AE",scope:{item:"=",target:"<"},bindToController:!0,controllerAs:"$ctrl",controller:i,link:t}}var t,i;n.AltaiSocialShare=r;t=function(){function n(n,t,i,r){t.on("click",function(){r.open()})}return n}();n.AltaiSocialShareLink=t;i=function(){function n(n,t,i,r,u){this.$location=n;this.$filter=t;this.$sce=i;this.$scope=r;this.$uibModal=u}return n.prototype.open=function(n,t){var i=this,r=t?angular.element("#bodyView "+t):angular.element("#bodyView"),u=i.$uibModal.open({animation:!1,component:"AltaiSocialShareModal",resolve:{item:function(){return i.item},target:function(){return i.target}},appendTo:r});u.result.then(function(){},function(){})},n}();n.AltaiSocialShareController=i}(ComeosModule||(ComeosModule={}));!function(n){function t(n){return{restrict:"A",link:function(t,i,r){var u;i.bind("mouseenter",function(i){var f=t.$eval(r.hoverIntentDelay);void 0===f&&(f=500);u=n(function(){t.$eval(r.altaiHoverIntent,{$event:i})},f)});i.bind("mouseleave",function(){n.cancel(u)})}}}n.AltaiHoverIntent=t}(ComeosModule||(ComeosModule={}));!function(n){function t(n){return{restrict:"A",link:function(t,i,r){var u;i.bind("mouseleave",function(i){var f=t.$eval(r.unHoverIntentDelay);void 0===f&&(f=500);u=n(function(){t.$eval(r.altaiUnHoverIntent,{$event:i})},f)});i.bind("mouseenter",function(){n.cancel(u)})}}}n.AltaiUnHoverIntent=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="E";this.bindings={menuItems:"="};this.templateUrl="/api/template/Component/ComeosMobileMenu";this.controller=t}return n}(),t;n.ComeosMobileMenuComponent=i;t=function(){function n(n,t,i,r,u,f,e){this.$scope=n;this.$rootScope=t;this.$state=i;this.authService=r;this.userInfoService=u;this.languageFactory=f;this.altaiLocalizationService=e;this.visible=!1;this.searcher=!1;this.loading=!1;var o=this;t.$on("toggleMobileMenu",function(){o.visible=!o.visible});t.$on("loaderShow",function(){o.loading=!0});t.$on("loaderHide",function(){o.loading=!1});r.getUserInfo().then(function(){o.isLoggedIn=!0},function(){o.isLoggedIn=!1});o.getLanguages()}return n.prototype.search=function(){var n=this;n.searcher=!1;n.searchQuery&&n.searchQuery.length>0&&n.$state.go("Root.Content.Searcher",{q:n.searchQuery});n.searchQuery=""},n.prototype.openMobileMenu=function(){var n=this;n.searcher&&(n.searcher=!1);n.visible=!n.visible;n.$rootScope.mobilemenu=n.visible},n.prototype.openSearcher=function(){var n=this;n.visible&&(n.visible=!1);n.searcher=!n.searcher},n.prototype.openLink=function(n){var t=this;void 0!=n.state?t.$state.go(n.state.name):void 0!=n.url&&window.open(n.url,"_blank");t.visible=!1},n.prototype.openAdmin=function(){window.location.href="/index-admin.html"},n.prototype.logout=function(){window.location.href="/logout"},n.prototype.getLanguages=function(){var n=this;n.languageFactory.listLanguage().then(function(t){n.languages=t;n.determineActiveLangCode()})},n.prototype.selectLang=function(n){var t=this;t.altaiLocalizationService.changeLang(n.code).then(function(){t.$rootScope.$broadcast("refreshWindow");t.$rootScope.$broadcast("languageChanged");t.determineActiveLangCode()});window.location.reload()},n.prototype.determineActiveLangCode=function(){var n=this;n.activeLang=n.altaiLocalizationService.getCurrentLangCode();n.languages=n.languages.map(function(t){return t.selected=n.activeLang==t.code,t})},n}();n.ComeosMobileMenuComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){function t(n){return{link:function(){$.fn.exists=function(){return 0!==this.length};var f=$("#bodyview"),e=$(window),t=$("[comeos-fixed-menu]"),u=$("#comeosMenuPlaceholder").height(),i=0,r=!1;n.$on("$stateChangeSuccess",function(){r=!1});n.$on("$stateChangeStart",function(){$(document).off("load scroll resize")});e.on("load scroll resize",function(){r||(t=$("[comeos-fixed-menu]"),u=$("#comeosMenuPlaceholder").height(),i=(void 0!=t.offset()?t.offset().top:0)-(void 0!=u?u:0),0>i?i=0:"");window.pageYOffset>i?(t.addClass("fixed midmenu"),f.addClass("withfixedmenu"),r=!0):(t.removeClass("fixed midmenu"),f.removeClass("withfixedmenu"),r=!1)})},controller:function(n,t){n.State=t}}}n.comeosFixedMenu=t}(ComeosModule||(ComeosModule={}));!function(n){function t(n,t){function i(n,t,i){t||(t=250);var r,u;return function(){var e=i||this,f=+new Date,o=arguments;r&&r+t>f?(clearTimeout(u),u=setTimeout(function(){r=f;n.apply(e,o)},t)):(r=f,n.apply(e,o))}}return{link:function(){var o,r,f,e,u,s;t(function(){f=$("#bodyView");e=$("[ui-view='topMenuView']");u=$("[my-comeos-fixed-menu]");s=$(window);e&&(o=u.position().top-(e.position().top+e.height()))});$(document).on("scroll","",i(function(){e&&(s.scrollTop()>=o?r||(f.addClass("mycomeosfixed"),u.addClass("fixed midmenu"),r=!0):r&&(f.removeClass("mycomeosfixed"),u.removeClass("fixed midmenu"),r=!1))},200,null));n.$on("$stateChangeSuccess",function(){$(document).on("scroll","",i(function(){e&&(s.scrollTop()>=o?r||(f.addClass("mycomeosfixed"),u.addClass("fixed midmenu"),r=!0):r&&(f.removeClass("mycomeosfixed"),u.removeClass("fixed midmenu"),r=!1))},200,null))});n.$on("$stateChangeStart",function(){$(document).off("scroll","",i(function(){e&&(s.scrollTop()>=o?r||(f.addClass("mycomeosfixed"),u.addClass("fixed midmenu"),r=!0):r&&(f.removeClass("mycomeosfixed"),u.removeClass("fixed midmenu"),r=!1))},200,null))})},controller:function(n,t){n.State=t}}}n.myComeosFixedMenu=t}(ComeosModule||(ComeosModule={}));!function(n){function t(){return{controller:function(n,t){n.State=t}}}n.myComeosMenu=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="E";this.bindings={columns:"@",title:"@",items:"=","typeof":"@"};this.template='<div class="subsubtitle">{{$ctrl.title}}<\/div>                           <div class="Rtable Rtable--{{$ctrl.columns}}cols Rtable--collapse">                            <div class="Rtable-cell" ng-repeat="item in $ctrl.allitems track by item.id" class="col-xs-12 col-sm-6 col-md-3 col-lg-2">                                <div class="checkbox checkbox-info"><input type="checkbox" id="{{item.id}}" ng-change="$ctrl.changedValue(item)"  ng-model="item.selected" name="{{item.title}}" />                                    <label for="{{item.id}}">                                        {{item.title}}                                    <\/label>                                <\/div >                            <\/div>                            <div class="Rtable-cell" ng-repeat="i in $ctrl.getRest() track by $index" class="col-xs-12 col-sm-6 col-md-3 col-lg-2">                                &nbsp;                            <\/div>                          <\/div>';this.controller=t}return n}(),t;n.ComeosCollectionSelectionComponent=i;t=function(){function n(n,t){var i,r;this.$scope=n;this.contentCollectionDataService=t;i=this;void 0==i.columns&&(i.columns=3);r=i.contentCollectionDataService.getDataByName(i["typeof"]);r.then(function(n){i.allitems=n.pageResults;void 0!=i.allitems&&i.allitems.filter(function(n){n.selected=i.findIdinItems(n.id)?!0:!1})})}return n.prototype.findIdinItems=function(n){var t=this,i=void 0;return void 0!=t.items&&(i=t.items.filter(function(t){return t.id==n})[0]),!!i},n}();n.ComeosCollectionSelectionComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="A";this.templateUrl="/api/template/Component/ComeosLogin";this.controller=t}return n}(),t;n.ComeosLoginComponent=i;t=function(){function n(n,t,i){i.isAuthorizedSync("mycomeos")?t.go("Root.MyComeos.Favorieten"):(n.loginData={},n.doLogin=function(n){i.login(n).then(function(){t.reload()})})}return n}();n.ComeosLoginController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="E";this.bindings={ngModel:"=",setRangeFilter:"&",resolve:"<"};this.templateUrl="/api/template/Component/ComeosCalendar";this.controller=t}return n}(),t;n.ComeosCalendarComponent=i;t=function(){function n(n,t,i,r,u,f,e,o,s,h){var a=this,c,l;this.$filter=n;this.$scope=t;this.$compile=i;this.$rootScope=r;this.linkResolverService=u;this.uiCalendarConfig=f;this.contentTypeService=o;this.$state=s;this.altaiLocalizationService=h;this.calendarItems=[];this.calendar=[{events:[]}];this.events=[];this.eventSource=[];this.loaded=!1;this.eventRender=function(n,t){var i=a;i.$compile(t)(i.$scope);n.icon&&t.find(".fc-title").prepend("<i class='mdi mdi-"+n.icon+"' style='color: "+n.textColor+"; font-size: 120%;'><\/i> ")};this.getData=function(n){var t=a,i;t.loaded?(i={selected:!0,field:"*date",type:"date",startValue:new Date(n.start),endValue:new Date(n.end)},t.setRangeFilter({range:i})):t.loaded=!0};this.alertOnEventClick=function(n){var t=a;t.contentTypeService.getLinkedState(n.contentTypeId).then(function(i){i&&t.$state.go(i,{id:n.id,name:n.title.substring(0,100).replace(/[\W_]/g,"-").replace(/-{2,}/g,"-").replace(/-\s*$/,"")})})};this.renderCalendar=function(n){var t=this;t.timeout(function(){t.uiCalendarConfig.calendars[n]&&(console.log(n),t.uiCalendarConfig.calendars[n].fullCalendar("render"))})};c=this;this.timeout=e;l=new Date;l.getDate();l.getMonth();l.getFullYear();c.eventSources=[];c.uiConfig={calendar:{height:"auto",editable:!1,handleWindowResize:!0,timeFormat:"H:mm",header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},lang:c.altaiLocalizationService.getCurrentLangCode(),defaultView:"month",minTime:"07:00:00",maxTime:"24:00:00",navLinks:!0,displayEventTime:!0,eventClick:c.alertOnEventClick,viewRender:c.getData,eventRender:c.eventRender}};t.$watch("$ctrl.ngModel",function(n){void 0!=n&&c.copyEvents()})}return n.prototype.eventsF=function(n,t,i,r){var u=this;new Date(n).getTime()/1e3;new Date(t).getTime()/1e3;new Date(n).getMonth();r(u.events)},n.prototype.copyEvents=function(){var n=this,e=0,t,h;n.events=[];for(t in n.ngModel)if("commissievergadering"==n.ngModel[t].contentType){var f=new Date(n.ngModel[t].date),i=f.getDate(),r=f.getMonth(),u=f.getFullYear();if(void 0!=n.ngModel[t].tijdvan&&void 0!=n.ngModel[t].tijdtot){var o=new Date(n.ngModel[t].tijdvan),c=o.getHours(),l=o.getMinutes(),s=new Date(n.ngModel[t].tijdtot),a=s.getHours(),v=s.getMinutes();n.events[e]={title:n.ngModel[t].title,description:n.ngModel[t].description&&n.ngModel[t].description.length>150?n.ngModel[t].description.slice(0,147)+"...":n.ngModel[t].description?n.ngModel[t].description:"",start:new Date(u,r,i,c,l),end:new Date(u,r,i,a,v),allDay:!1,color:"#F43122",textColor:"#FFFFFF",contentTypeId:n.ngModel[t].contentTypeId,id:n.ngModel[t].id,contentType:"commissievergadering",icon:n.ngModel[t].enrolled?"check":""}}else n.events[e]={title:n.ngModel[t].commissiecommissievergadering.title,description:n.ngModel[t].description&&n.ngModel[t].description.length>150?n.ngModel[t].description.slice(0,147)+"...":n.ngModel[t].description?n.ngModel[t].description:"",start:new Date(u,r,i),end:new Date(u,r,i),allDay:!0,color:"#F43122",textColor:"#FFFFFF",contentTypeId:n.ngModel[t].contentTypeId,id:n.ngModel[t].id,contentType:"commissievergadering",icon:n.ngModel[t].enrolled?"check":""};e++}else if("workshop"==n.ngModel[t].contentType)if(void 0!=n.ngModel[t].singledatetimeselectionworkshop)for(h in n.ngModel[t].singledatetimeselectionworkshop){var f=new Date(n.ngModel[t].singledatetimeselectionworkshop[h].datum),i=f.getDate(),r=f.getMonth(),u=f.getFullYear();if(void 0==n.ngModel[t].singledatetimeselectionworkshop[h].tijdvan||void 0==n.ngModel[t].singledatetimeselectionworkshop[h].tijdtot||n.ngModel[t].singledatetimeselectionworkshop[h].deheledag)n.events[e]={title:n.ngModel[t].title,description:(n.ngModel[t].intro&&n.ngModel[t].intro.length)>150?n.ngModel[t].intro.slice(0,147)+"...":n.ngModel[t].intro,start:new Date(u,r,i),end:new Date(u,r,i),allDay:!0,color:"#00B4E1",textColor:"#FFFFFF",contentTypeId:n.ngModel[t].contentTypeId,id:n.ngModel[t].id,contentType:"workshop",icon:n.ngModel[t].enrolled?"check":""};else{var o=new Date(n.ngModel[t].singledatetimeselectionworkshop[h].tijdvan),c=o.getHours(),l=o.getMinutes(),s=new Date(n.ngModel[t].singledatetimeselectionworkshop[h].tijdtot),a=s.getHours(),v=s.getMinutes();n.events[e]={title:n.ngModel[t].title,description:(n.ngModel[t].intro&&n.ngModel[t].intro.length)>150?n.ngModel[t].intro.slice(0,147)+"...":n.ngModel[t].intro,start:new Date(u,r,i,c,l),end:new Date(u,r,i,a,v),allDay:n.ngModel[t].singledatetimeselectionworkshop[h].deheledag,color:"#00B4E1",textColor:"#FFFFFF",contentTypeId:n.ngModel[t].contentTypeId,id:n.ngModel[t].id,contentType:"workshop",icon:n.ngModel[t].enrolled?"check":""}}e++}else{if(void 0!=n.ngModel[t].tijdvan&&void 0!=n.ngModel[t].tijdtot){var f=new Date(n.ngModel[t].date),i=f.getDate(),r=f.getMonth(),u=f.getFullYear(),o=new Date(n.ngModel[t].tijdvan),c=o.getHours(),l=o.getMinutes(),s=new Date(n.ngModel[t].tijdtot),a=s.getHours(),v=s.getMinutes();n.events[e]={title:n.ngModel[t].title,description:(n.ngModel[t].intro&&n.ngModel[t].intro.length)>150?n.ngModel[t].intro.slice(0,147)+"...":n.ngModel[t].intro,start:new Date(u,r,i,c,l),end:new Date(u,r,i,a,v),allDay:!1,color:"#00B4E1",textColor:"#FFFFFF",contentTypeId:n.ngModel[t].contentTypeId,id:n.ngModel[t].id,contentType:"workshop",icon:n.ngModel[t].enrolled?"check":""}}else{var f=new Date(n.ngModel[t].date),i=f.getDate(),r=f.getMonth(),u=f.getFullYear();n.events[e]={title:n.ngModel[t].title,description:(n.ngModel[t].intro&&n.ngModel[t].intro.length)>150?n.ngModel[t].intro.slice(0,147)+"...":n.ngModel[t].intro,start:new Date(u,r,i),end:new Date(u,r,i),allDay:!0,color:"#00B4E1",textColor:"#FFFFFF",contentTypeId:n.ngModel[t].contentTypeId,id:n.ngModel[t].id,contentType:"workshop",icon:n.ngModel[t].enrolled?"check":""}}e++}else if("networkingevent"==n.ngModel[t].contentType){var f=new Date(n.ngModel[t].date),i=f.getDate(),r=f.getMonth(),u=f.getFullYear();if(void 0!=n.ngModel[t].tijdvan&&void 0!=n.ngModel[t].tijdtot){var o=new Date(n.ngModel[t].tijdvan),c=o.getHours(),l=o.getMinutes(),s=new Date(n.ngModel[t].tijdtot),a=s.getHours(),v=s.getMinutes();n.events[e]={title:n.ngModel[t].title,description:(n.ngModel[t].intro&&n.ngModel[t].intro.length)>150?n.ngModel[t].intro.slice(0,147)+"...":n.ngModel[t].intro,start:new Date(u,r,i,c,l),end:new Date(u,r,i,a,v),allDay:!1,color:"#FFCE00",textColor:"#000000",contentTypeId:n.ngModel[t].contentTypeId,id:n.ngModel[t].id,contentType:"networkingevent",icon:n.ngModel[t].enrolled?"check":""}}else n.events[e]={title:n.ngModel[t].title,description:(n.ngModel[t].intro&&n.ngModel[t].intro.length)>150?n.ngModel[t].intro.slice(0,147)+"...":n.ngModel[t].intro,start:new Date(u,r,i),end:new Date(u,r,i),allDay:!0,color:"#FFCE00",textColor:"#000000",contentTypeId:n.ngModel[t].contentTypeId,id:n.ngModel[t].id,contentType:"networkingevent",icon:n.ngModel[t].enrolled?"check":""};e++}n.events.length<=e&&(n.uiCalendarConfig.calendars.myCalendar.fullCalendar("removeEvents"),n.uiCalendarConfig.calendars.myCalendar.fullCalendar("addEventSource",n.events))},n}();n.ComeosCalendarController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=!1,r=function(){function n(){this.restrict="E";this.bindings={item:"="};this.templateUrl="/api/template/Component/ComeosHotTopic";this.controller=t}return n}(),t;n.ComeosHotTopicComponent=r;t=function(){function n(n,t){this.$scope=n;this.$timeout=t;this.completeHotTopic=!1;var i=this,r=n.$watch("$scope.item",function(){void 0!=i.item&&(i.init(),r())},!0)}return n.prototype.$onInit=function(){i=!1},n.prototype.toggleCompleteHotTopic=function(){var n=this;n.completeHotTopic=!n.completeHotTopic;n.init()},n.prototype.init=function(){var t=this,r=[],n;if(t.item.actumessage_hottheme)for(n=0;n<t.item.actumessage_hottheme.length;n++)r.push(t.item.actumessage_hottheme[n]);if(t.item.brochurehottheme)for(n=0;n<t.item.brochurehottheme.length;n++)r.push(t.item.brochurehottheme[n]);if(t.item.complexdossier_hottheme)for(n=0;n<t.item.complexdossier_hottheme.length;n++)r.push(t.item.complexdossier_hottheme[n]);if(t.item.magazineartikel_hottheme)for(n=0;n<t.item.magazineartikel_hottheme.length;n++)r.push(t.item.magazineartikel_hottheme[n]);if(t.item.networkingeventhottheme)for(n=0;n<t.item.networkingeventhottheme.length;n++)r.push(t.item.networkingeventhottheme[n]);if(t.item.workshophottheme)for(n=0;n<t.item.workshophottheme.length;n++)r.push(t.item.workshophottheme[n]);if(t.item.commissievergaderinghottheme)for(n=0;n<t.item.commissievergaderinghottheme.length;n++)r.push(t.item.commissievergaderinghottheme[n]);if(t.item.pressrelease_hottheme)for(n=0;n<t.item.pressrelease_hottheme.length;n++)r.push(t.item.pressrelease_hottheme[n]);if(t.item.researchhottheme)for(n=0;n<t.item.researchhottheme.length;n++)r.push(t.item.researchhottheme[n]);t.itemcount=r.length;r.sort(function(n,t){var i=new Date(n.date),r=new Date(t.date);return r-i});t.completeHotTopic||(r=r.slice(0,3));t.items=angular.copy(r);i=!0},n.prototype.sortByDate=function(){},n}();n.ComeosHotTopicComponentController=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Component/paywall";this.controller=t}return n}(),t;n.PayWallComponent=i;t=function(){function n(n,t,i){this.$state=n;this.$stateParams=t;this.$rootScope=i}return n.prototype.login=function(){var n=this;n.$rootScope.preLoginState=n.$state.current;n.$rootScope.preLoginState.stateParams=angular.copy(n.$stateParams);n.$state.go("login")},n.prototype.noMember=function(){var n=this;n.$state.go("Root.Content.ContactFormMember")},n}()}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.bindings={title:"@",message:"@",loginButton:"@",loginButtonText:"@",contactButton:"@",contactButtonText:"@",contactButtonUrl:"@"};this.templateUrl="/api/template/Component/paywallwithcustommessage";this.controller=t}return n}(),t;n.PayWallWithCustomMessageComponent=i;t=function(){function n(n,t,i){this.$state=n;this.$stateParams=t;this.$rootScope=i}return n.prototype.login=function(){var n=this;n.$rootScope.preLoginState=n.$state.current;n.$rootScope.preLoginState.stateParams=angular.copy(n.$stateParams);n.$state.go("login")},n.prototype.contact=function(){var n=this;n.$state.go("Root.Content.ContactForm")},n}()}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.template='<div ng-if="$ctrl.loaded"><div class=\'mail\' uib-tooltip="{{ \'favoritethis\' | translate }}" tooltip-placement="left" ng-click="$ctrl.likeContentItem($ctrl.contentItem); $event.stopPropagation();"  ng-if="!$ctrl.isFavourite"><i  class="mdi mdi-heart-outline "><\/i><\/div> <div class=\'mail\' ng-click="$ctrl.unlikeContentItem($ctrl.contentItem); $event.stopPropagation();" ng-if="$ctrl.isFavourite" uib-tooltip="{{ \'unfavoritethis\' | translate }}" tooltip-placement="left" ><i class="mdi mdi-heart "><\/i><\/div><\/div>';this.bindings={contentItem:"="};this.controller=t}return n}(),t;n.ComeosContentItemLikeComponent=i;t=function(){function n(n){this.myComeosDataService=n;this.loaded=!1;var t=this;t.loaded=n.isLoaded;t.isFavourite=n.getIsFavourite(t.contentItem.id)}return n.prototype.likeContentItem=function(n){var t=this;t.myComeosDataService.likeContentItem(n).then(function(){t.isFavourite=!0})},n.prototype.unlikeContentItem=function(n){var t=this;t.myComeosDataService.unlikeContentItem(n).then(function(){t.isFavourite=!1})},n}()}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.template='<div ng-if="$ctrl.loaded"><div class=\'mail\' uib-tooltip="{{ \'favoritethis\' | translate }}" tooltip-placement="top" ng-click="$ctrl.likeContentItem($ctrl.contentItem); $event.stopPropagation();"  ng-if="!$ctrl.isFavourite"><i  class="mdi mdi-heart-outline "><\/i><\/div> <div class=\'mail\' ng-click="$ctrl.unlikeContentItem($ctrl.contentItem); $event.stopPropagation();" ng-if="$ctrl.isFavourite" uib-tooltip="{{ \'unfavoritethis\' | translate }}" tooltip-placement="top" ><i class="mdi mdi-heart "><\/i><\/div><\/div>';this.bindings={contentItem:"="};this.controller=t}return n}(),t;n.ComeosContentItemLikeHeaderComponent=i;t=function(){function n(n){this.myComeosDataService=n;this.loaded=!1;var t=this;t.loaded=n.isLoaded;t.isFavourite=n.getIsFavourite(t.contentItem.id)}return n.prototype.likeContentItem=function(n){var t=this;t.myComeosDataService.likeContentItem(n).then(function(){t.isFavourite=!0})},n.prototype.unlikeContentItem=function(n){var t=this;t.myComeosDataService.unlikeContentItem(n).then(function(){t.isFavourite=!1})},n}()}(ComeosModule||(ComeosModule={}));!function(n){function r(){return{restrict:"AE",controller:i,link:t,bindToController:!0,controllerAs:"$ctrl",scope:{itemname:"=",manager:"="}}}var t,i;n.ComeosQuestionsContactUs=r;t=function(){function n(n,t,i,r){t.on("click",function(){r.open()})}return n}();n.ComeosQuestionsContactUsLink=t;i=function(){function n(n,t,i){this.$state=n;this.$location=t;this.authService=i}return n.prototype.open=function(){var n=this;n.authService.getUserInfo().then(function(){var t="";n.manager&&(t+="&manager="+encodeURI(n.manager));n.itemname&&(t+="&item="+encodeURI(n.itemname));window.open("http://servicedesk.comeos.be?origine=web"+t,"_blank")},function(){n.$state.go("Root.Content.ContactForm")})},n}();n.ComeosQuestionsContactUsController=i}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.restrict="E";this.templateUrl=function(n){return void 0!=n.template?n.template:"/api/template/Component/ComeosContactForm"};this.controller=t}return n}(),t;n.ComeosContactFormComponent=i;t=function(){function n(n,t,i,r){this.$scope=n;this.comeosDataService=t;this.$translate=i;this.type=0;var u=this;r&&r.type&&(u.type=r.type)}return n.prototype.submitForm=function(){var n=this;n.loading=!0;n.$translate(["succescontactform","errorcontactform"]).then(function(t){n.formData.type=n.type;n.comeosDataService.postContactForm(n.formData).then(function(i){i?(n.errorMsg=void 0,n.succesMsg=t.succescontactform,n.loading=!1):(n.errorMsg=t.errorcontactform,n.loading=!1)},function(){n.errorMsg=t.errorcontactform})})},n}();n.ComeosContactFormController=t}(ComeosModule||(ComeosModule={}));!function(n){var t=function(){function n(n,t){this.altaiHttp=n;this.$q=t}return n.prototype.postContactForm=function(n){var t=this.$q.defer();return this.altaiHttp.post("/api/comeos/contact",n).success(function(n){t.resolve(n)}).error(function(){t.reject()}),t.promise},n}();n.ComeosDataService=t}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.template="<div class='comeos-button no-animate' ng-class=\"{'no-pointer': $ctrl.loading}\" ng-click='!$ctrl.loading && $ctrl.updateProfile()'><span ng-if='!$ctrl.loading'>{{::'savechanges'|translate}}<\/span><span ng-if='$ctrl.loading'>{{::'saving...'|translate}}<\/span><\/div>";this.controller=t;this.bindings={contentItem:"=",updateModel:"=",contentType:"=",languages:"=",linkedContentTypes:"=",password:"="}}return n}(),t;n.ComeosProfileUpdateButtonComponent=i;t=function(){function n(n,t,i){this.$q=n;this.contentItemService=t;this.myComeosDataService=i;this.loading=!1}return n.prototype.updateProfile=function(){var n=this,t;n.$q.defer();n.loading=!0;t=n.contentItemService.updateContentItemModel(n.contentItem,n.updateModel,n.contentType,n.languages,n.linkedContentTypes);n.myComeosDataService.updateProfile(t,n.password).then(function(){n.contentItemService.resetCache();n.loading=!1},function(){n.loading=!1})},n}()}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Component/ComeosCeoCornerOrganizations";this.controller=t}return n}(),t;n.ComeosCeoCornerOrganizationsComponent=i;t=function(){function n(n){this.myComeosDataService=n;var t=this;n.getCompanies().then(function(n){t.companies=n})}return n.prototype.inviteNewEmployee=function(n,t){var i=this;i.myComeosDataService.inviteNewEmployee(n,t).then(function(){})},n}()}(ComeosModule||(ComeosModule={}));!function(n){var t=angular.module("comeos",["duScroll","thatisuday.ng-image-gallery","hmTouchEvents"]);config.modules.push(t.name);t.component("altaigallery",new n.AltaiGalleryComponent);t.component("faq",new n.FAQComponent);t.component("collapser",new n.CollapserComponent);t.component("faqquestion",new n.FAQQuestionComponent);t.component("altaisection",new n.SectionComponent);t.component("summarysheet",new n.SummarySheetComponent);t.component("summarysheetcompare",new n.SummarySheetCompareComponent);t.component("altaisubsection",new n.SubsectionComponent);t.component("comeosCollectionMenu",new n.ComeosCollectionMenuComponent);t.component("comeosCard",new n.ComeosCardComponent);t.component("comeosCardDirectDownload",new n.ComeosCardDirectDownloadComponent);t.component("comeosCardCao",new n.ComeosCardCaoComponent);t.component("comeosEventCard",new n.ComeosEventCardComponent);t.component("fileicon",new n.FileIconComponent);t.component("comeosOverviewCard",new n.ComeosOverviewCardComponent);t.component("comeosMenublockCard",new n.ComeosMenublockCardComponent);t.component("comeosMasonry",new n.ComeosMasonryComponent);t.component("comeosMasonryClientSide",new n.ComeosMasonryClientSideComponent);t.component("whoiswho",new n.ComeosWhoIsWhoComponent);t.component("whoiswhocard",new n.ComeosWhoIsWhoCardComponent);t.component("linkShare",new n.LinkShareComponent);t.component("altaiSocialShareModal",new n.AltaiSocialShareModalComponent);t.component("altaiInitMediaMessageComponent",new n.AltaiInitMediaMessageComponent);t.component("altaiSlideshowGrid",new n.AltaiSlideshowGrid);t.component("comeosMobileMenu",new n.ComeosMobileMenuComponent);t.component("comeosTopMenu",new n.ComeosTopMenu);t.component("comeosCollectionSelectionComponent",new n.ComeosCollectionSelectionComponent);t.component("comeosCalendar",new n.ComeosCalendarComponent);t.component("hottopic",new n.ComeosHotTopicComponent);t.component("paywall",new n.PayWallComponent);t.component("socialshareheader",new n.SocialShareHeaderComponent);t.component("socialsharecard",new n.SocialShareCardComponent);t.component("comeosContentItemLikeComponent",new n.ComeosContentItemLikeComponent);t.component("comeosContentItemLikeHeaderComponent",new n.ComeosContentItemLikeHeaderComponent);t.component("comeosProfileUpdateButton",new n.ComeosProfileUpdateButtonComponent);t.component("comeosCeoCornerOrganizations",new n.ComeosCeoCornerOrganizationsComponent);t.component("payWallWithCustomMessage",new n.PayWallWithCustomMessageComponent);t.component("comeosContactForm",new n.ComeosContactFormComponent);t.directive("comeosFixedMenu",n.comeosFixedMenu);t.directive("myComeosFixedMenu",n.myComeosFixedMenu);t.directive("myComeosMenu",n.myComeosMenu);t.directive("altaiSlideshowGridForCollections",n.AltaiSlideshowGridForCollections);t.directive("altaiSlideshowGridTwoByTwo",n.AltaiSlideshowGridTwoByTwo);t.directive("altaiSocialShare",n.AltaiSocialShare);t.directive("altaiInitMediaMessageDirective",n.AltaiInitMediaMessageDirective);t.directive("altaiHoverIntent",n.AltaiHoverIntent);t.directive("altaiUnHoverIntent",n.AltaiUnHoverIntent);t.directive("altaiHeaderHeightCalculator",n.AltaiHeaderHeightCalculator);t.directive("comeosQuestionsContactUs",n.ComeosQuestionsContactUs);t.directive("comeosMasonryInit",n.comeosMasonryInit);t.directive("comeosMasonryClientSideInit",n.comeosMasonryClientSideInit);t.service("linkResolverService",n.LinkResolverService);t.service("myComeosDataService",n.MyComeosDataService);t.service("comeosDataService",n.ComeosDataService);t.config(function(t){t.state("unsubscribeactu",{url:"/unsubscribeactu",system:!0,views:{bodyView:{templateUrl:"/api/template/system/unsubscribe",controller:n.UnsubscribeActuController,controllerAs:"$ctrl"}}});t.state("unsubscribe",{url:"/unsubscribe",system:!0,views:{bodyView:{templateUrl:"api/template/system/unsubscribe",controller:n.UnsubscribeController,controllerAs:"$ctrl"}}})});t.run(function(n,t,i,r){function u(){n.slideshowInit=!1;n.windowSize=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;n.windowHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;n.gridItems=1}var f=!1,e=!1;n.$on("$stateChangeStart",function(n,t){config.admin||(t.name.indexOf("Root.MyComeos.MyCalendar")>-1&&!f?(n.preventDefault(),r.load({serie:!0,files:["lib/fullcalendar/dist/fullcalendar.js","lib/angular-ui-calendar/src/calendar.js","lib/fullcalendar/dist/lang-all.js","lib/fullcalendar/dist/gcal.js"]}).then(function(){f=!0;i.go("Root.MyComeos.MyCalendar")})):t.name.indexOf("Root.MyComeos.Profile")>-1&&!e&&(n.preventDefault(),r.load({serie:!0,files:["App/AltaiContent/Components/AltaiContentCollectionUpdateRelationcomponent.js","App/AltaiContent/Components/AltaiTagSelectorComponent.js","App/AltaiContent/Directives/AltaiContentItemUpdateInnerClientDirective.js","App/AltaiContent/Directives/AltaiContentItemUpdateClientDirective.js","App/AltaiContent/Directives/AltaiContentAttributeUpdateDirective.js","App/AltaiContent/Directives/AltaiContentRelationUpdateClientDirective.js","App/AltaiContent/Services/ContentItemService.js","App/AltaiContent/Services/contentRelationFactory.js","App/AltaiContent/Services/contentCreateItemProcessor.js","App/AltaiContent/Services/ContentUpdateModelManager.js","App/AltaiContent/Services/ContentCollectionManager.js","App/AltaiContent/Services/ContentCollectionDataService.js","lib/ng-file-upload/ng-file-upload.js","App/AltaiContent/AltaiContentClientEditModule.js"]}).then(function(){e=!0;i.go("Root.MyComeos.Profile")})))});window.onresize=function(){u();n.$apply()};t(function(){u()},1e3);u()});t.filter("unique",function(){return function(n){return n}});t.filter("crop",function(){return function(n,t,i,r){if((n=String(n).replace(/<[^>]+>/gm,""),null===n||void 0===n||null===t||void 0===t||""===t)||(angular.isUndefined(i)&&(i=!0),angular.isUndefined(r)&&(r="..."),n.length<=t))return n;var u=n.substr(0,t);return i?u.substr(0,Math.min(u.length,u.lastIndexOf(" ")))+r:u+r}});t.value("duScrollOffset",250)}(ComeosModule||(ComeosModule={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/AltaiContactList";this.controller=t}return n}(),t;n.AltaiContactListComponent=i;t=function(){function t(n,t,i,r,u){this.createOption=!0;var f=this;this.contentItemService=t;this.contentTypeService=i;this.wmContainerFactory=r;this.altaiConfirmationService=u;this.init();n.$watch("vm.searchModel",function(n,t){f.searchModel.windowId=f.windowId;f.searchModelHasChanged(n,t)&&f.getData();1!=f.searchModel.chosenContentTypeModel.length?f.createOption=!1:f.contentTypeService.getById(f.searchModel.chosenContentTypeModel[0].id).then(function(n){f.createOption=n.directCreatePossible})},!0);n.$on(AltaiContent.ContentEvents.contentItemUpdated,function(){f.getData()});n.$on(AltaiContent.ContentEvents.contentItemCreated,function(){f.getData()})}return t.prototype.searchModelHasChanged=function(n,t){return n.pageNr!=t.pageNr||n.sorterAttr!=t.sorterAttr||n.sorterDesc!=t.sorterDesc||n.chosenContentTypeModel.length!=t.chosenContentTypeModel.length||n.name!=t.name},t.prototype.init=function(){var n=this;n.searchModel=new AltaiContent.ContentItemSearchModel;n.searchModel.chosenContentTypeModel=[];this.contentTypeService.list().then(function(t){n.contentTypes=angular.copy(t);n.selectedContentType=n.contentTypes.filter(function(n){return"contact"==n.name})[0];n.selectedContentType&&n.embedContentTypeInSelection(n.selectedContentType);n.contentItems||n.getData()})},t.prototype.embedContentTypeInSelection=function(n){n.ticked=!0;this.searchModel.chosenContentTypeModel.push(n)},t.prototype.getData=function(){var n=this;this.contentItemService.listAdvanced(this.searchModel).then(function(t){n.contentItems=t})},t.prototype.setSorting=function(n){this.searchModel.pageNr=0;this.searchModel.sorterDesc=this.searchModel.sorterAttr==n?!this.searchModel.sorterDesc:!1;this.searchModel.sorterAttr=n;this.getData()},t.prototype.openContentItemProfile=function(n){this.wmContainerFactory.createWindow(AltaiContent.ContentWindows.contentItemProfile,n.name,n.id)},t.prototype.openContactTimeline=function(t){this.wmContainerFactory.createWindow(n.EngagementWindows.contactTimeline,t.name,t.id)},t.prototype.getSearchResults=function(){var n=this;this.contentItemService.listAdvanced(this.searchModel).then(function(t){n.contentItems=t})},t.prototype.updateContentItem=function(n){this.wmContainerFactory.createWindow(AltaiContent.ContentWindows.contentItemUpdate,n.name,n.id)},t.prototype.deleteContentItem=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.contentItemService["delete"](n).then(function(){t.getData()})})},t.prototype.createContact=function(){var n=this;n.contentTypeService.getById(n.selectedContentType.id).then(function(t){n.wmContainerFactory.createWindow(AltaiContent.ContentWindows.contentItemCreate,t.label,n.selectedContentType.id)})},t.prototype.openPage=function(n){this.searchModel.pageNr=n},t}()}(AltaiEngage||(AltaiEngage={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/AltaiContactTimeline";this.controller=t;this.bindings={contactId:"="}}return n}(),t;n.AltaiContactTimelineComponent=i;t=function(){function n(n){this.contactManager=n;var t=this;n.getHistory(t.contactId).then(function(n){t.history=n})}return n}()}(AltaiEngage||(AltaiEngage={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Insight/InsightLogComponent";this.controller=t}return n}(),t;n.AltaiInsightLogComponent=i;t=function(){function t(n,t){this.createOption=!0;var i=this;i.wmContainerFactory=t;i.maximizeWindow()}return t.prototype.maximizeWindow=function(){var t=this.wmContainerFactory.findWindow(n.EngagementWindows.insightLog);t&&(t.toggleMaximize(),this.wmContainerFactory.focusOnWindow(t))},t}()}(AltaiEngage||(AltaiEngage={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Insight/InsightDashboardComponent";this.controller=t}return n}(),t;n.AltaiInsightDashboardComponent=i;t=function(){function t(n,t){this.createOption=!0;var i=this;i.wmContainerFactory=t;i.maximizeWindow()}return t.prototype.maximizeWindow=function(){var t=this.wmContainerFactory.findWindow(n.EngagementWindows.insightLog);t&&(t.toggleMaximize(),this.wmContainerFactory.focusOnWindow(t))},t}()}(AltaiEngage||(AltaiEngage={}));!function(n){function t(n,t){return n.value<t.value?1:n.value>t.value?-1:0}var r=function(){function n(){this.templateUrl="/api/template/Insight/InsightDashboardAggregationComponent";this.controller=i;this.bindings={aggregation:"=",charttype:"@",enablechart:"=",enabletable:"="}}return n}(),i;n.AltaiInsightDashboardAggregationComponent=r;i=function(){function n(){this.stateMinimized="minimized";this.stateNormal="normal";this.stateMaximized="maximized";this.maximize=function(){var n=this;n.state=n.stateMaximized};var n=this;n.state=n.stateNormal;n.initchart()}return n.prototype.refresh=function(){var n=this;n.initchart()},n.prototype.initchart=function(){var n=this;n.options=n.getChartOptionsForAggregation();n.chartdata=n.getChartDataForAggregation();n.tabledata=n.getTableDataForAggregation();n.label=n.aggregation.value.label},n.prototype.getChartOptionsForAggregation=function(){var n=this;return"discreteBarChart"==n.charttype?{chart:{type:"discreteBarChart",height:400,width:700,margin:{top:20,right:20,bottom:50,left:55},rotateLabels:-45,growOnHover:!0,x:function(n){return n.label},y:function(n){return n.value},showValues:!0,valueFormat:function(n){return d3.format("")(n)},duration:500,xAxis:{},yAxis:{axisLabel:"Count",axisLabelDistance:-10}}}:{chart:{type:"pieChart",height:400,width:650,x:function(n){return n.label},y:function(n){return n.value},showLabels:!0,duration:500,labelThreshold:.01,labelSunbeamLayout:!0,growOnHover:!0,labelType:function(n,t,i){var r=(n.endAngle-n.startAngle)/(2*Math.PI);return i.key+" : "+d3.format(".2%")(r)},donut:!0,legend:{margin:{top:5,right:0,bottom:5,left:0}},legendPosition:"right",pie:{dispatch:{elementDblClick:function(n){console.log("clicked on "+n)}}}},title:{enable:!0,text:n.aggregation.label}}},n.prototype.getTableDataForAggregation=function(){for(var u,i=this,r=[],n=0;n<i.aggregation.value.items.length;n++)u={label:i.aggregation.value.items[n].item.key,value:i.aggregation.value.items[n].docCount},r.push(u);return r.sort(t),r},n.prototype.getChartDataForAggregation=function(){var n=this,r=[],i,u;if("discreteBarChart"==n.charttype)r.push({key:n.aggregation.value.label,values:n.getChartDataForDiscreteBarChart()});else{for(i=0;i<n.aggregation.value.items.length;i++)u={label:n.aggregation.value.items[i].item.key,value:n.aggregation.value.items[i].docCount},r.push(u);r.sort(t)}return r},n.prototype.getChartDataForDiscreteBarChart=function(){for(var u,i=this,r=[],n=0;n<i.aggregation.value.items.length;n++)u={label:i.aggregation.value.items[n].item.key,value:i.aggregation.value.items[n].docCount},r.push(u);return r.sort(t),r},n.prototype.toggleChart=function(){var n=this;n.enablechart=!n.enablechart},n.prototype.setChartType=function(n){var t=this;t.charttype=n;t.initchart()},n.prototype.toggleTable=function(){var n=this;n.enabletable=!n.enabletable},n.prototype.minimize=function(){var n=this;n.state=n.stateMinimized},n.prototype.normalize=function(){var n=this;n.state=n.stateNormal},n}()}(AltaiEngage||(AltaiEngage={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl=function(n){return void 0!=n.templateId?"/api/template/"+n.templateId:void 0!=n.templateType&&void 0!=n.templateName?"/api/template/"+n.templateType+"/"+n.templateName:void 0};this.bindings={exposedContentCollectionId:"=",selection:"=",parameters:"=",titleexp:"<",classes:"@",noResults:"@"}}return n}(),t;n.AltaiInsightDashboardExposedContentCollectionComponent=i;t=function(){function n(n,t,i,r,u,f,e,o){var s,c,l,h;if(this.exposedContentCollectionQueryManager=i,this.exposedContentCollectionDataService=r,this.$stateParams=u,this.$state=f,this.altaiLocalizationService=e,this.altaiNotificationFactory=o,this.searchRequest={page:0,searchOptions:[],sort:{field:"",Asc:!1},parameters:{},ranges:[],queryField:void 0},this.aggregationsForCharts=[],this.activeFilters=[],this.activeLang={code:""},this.loadMorePage=0,this.loadingMore=!1,this.unAuthorized=!1,s=this,s.notificationFactory=o,void 0!=u.q&&(this.searchRequest.queryField=u.q),this.searchRequest.parameters=angular.copy(u),c=s.exposedContentCollectionQueryManager.getRequest(s.exposedContentCollectionId,this.searchRequest.parameters),(c&&s.setActiveFiltersForExistingRequest(c),void 0!=u.theme)&&(l=u.theme,""!=l&&this.addSearchOption(l,20==this.exposedContentCollectionId?56:59),this.searchRequest.parameters.theme=void 0),"Root.DetailOverviewSubmenu.PC"==s.$state.current.name&&void 0!=s.$stateParams.id&&""!=s.$stateParams.id&&16==s.exposedContentCollectionId&&(this.addSearchOption(s.$stateParams.id,94),s.activeFilters.push({value:s.$stateParams.id,filterId:94,item:null,label:null})),null!=s.parameters)for(h in s.parameters)s.parameters.hasOwnProperty(h)&&(s.searchRequest.parameters[h]=s.parameters[h]);s.activeLang.code=e.getCurrentLangCode();t.$on("languageChanged",function(){s.getData()});n.$watch("$ctrl.searchRequest",function(n,t){n.page==t.page&&(s.searchRequest.page=0);s.getData();s.exposedContentCollectionQueryManager.setRequest(s.exposedContentCollectionId,s.activeFilters,s.searchRequest.parameters)},!0)}return n.prototype.setActiveFiltersForExistingRequest=function(n){for(var i=this,t=0;t<n.length;t++)i.selectFilterValue(n[t].item,n[t].filterId,n[t].label)},n.prototype.openPage=function(n){var t=this;t.searchRequest.page=n},n.prototype.loadMore=function(){var n=this,t;n.loadingMore=!0;n.loadMorePage+=1;t=angular.copy(n.searchRequest);t.page=n.loadMorePage;n.loadMorePage<=Math.ceil(n.data.totalCount/n.data.pageSize)&&n.exposedContentCollectionDataService.getData(n.exposedContentCollectionId,t).then(function(t){n.data.pageResults.push.apply(n.data.pageResults,t.pageResults);n.loadingMore=!1})},n.prototype.selectFilterValue=function(n,t,i){var u=this,e,r,o,f;void 0!=n&&(e="",e=void 0!=n.item.contentType?n.item.contentType+".id":"contentTypeId",r=n.item.id,void 0==r&&(r=n.item.value),o=u.findSearchOptionInRequest(t,r),void 0==o?(n.selected=!0,u.addSearchOption(r,t),u.activeFilters.push({value:r,filterId:t,item:n,label:i})):(n.selected=!1,u.removeFilterItemFromRequestFilter(t,r),f=u.activeFilters.filter(function(n){return n.filterId==t&&n.value==r})[0],f&&u.activeFilters.splice(u.activeFilters.indexOf(f),1)))},n.prototype.selectAggregation=function(n,t){var i=this,u,e,f,r;if(t)for(r in n.items)u=n.items[r].item.id,void 0==u&&(u=n.items[r].item.value),n.items[r].selected=!0,i.addSearchOption(u,n.filterId),void 0==i.activeFilters.filter(function(n){return n.value==u})[0]&&i.activeFilters.push({value:u,filterId:n.filterId,item:n.items[r],label:n.label});else if(e=(n.items[0].item.contentType+".id",i.searchRequest.searchOptions.filter(function(t){return t.filterId==n.filterId})[0]),e&&i.searchRequest.searchOptions.splice(i.searchRequest.searchOptions.indexOf(e),1),f=i.activeFilters.filter(function(t){return t.filterId==n.filterId}),f)for(r in f)i.activeFilters.splice(i.activeFilters.indexOf(f[r]),1)},n.prototype.removeActiveFilter=function(n){var t=this;t.selectFilterValue(n.item,n.filterId,n.label)},n.prototype.removeAllFilters=function(){var n=this;n.activeFilters=[];n.searchRequest.searchOptions=[]},n.prototype.findSearchOptionInRequest=function(n,t){var r=this,i=r.searchRequest.searchOptions.filter(function(t){return t.filterId==n})[0];if(i)return i.values.filter(function(n){return n==t})[0]},n.prototype.addSearchOption=function(n,t){var i=this,r=i.searchRequest.searchOptions.filter(function(n){return n.filterId==t})[0];r||(i.searchRequest.searchOptions.push({filterId:t,values:[]}),r=i.searchRequest.searchOptions[i.searchRequest.searchOptions.length-1]);r.values.push(n)},n.prototype.removeFilterItemFromRequest=function(n,t){var r=this,i=r.searchRequest.searchOptions.filter(function(t){return t.filterId==n})[0],u=i.values.filter(function(n){return n==t})[0];i&&i.values.splice(i.values.indexOf(u),1)},n.prototype.removeFilterItemFromRequestFilter=function(n,t){var r=this,i=r.searchRequest.searchOptions.filter(function(t){return t.filterId==n})[0],u=i.values.filter(function(n){return n==t})[0];i&&i.values.splice(i.values.indexOf(u),1)},n.prototype.applySelectionOfFilters=function(){for(var i,u,f,r,e,n=this,t=0;t<n.searchRequest.searchOptions.length;t++)for(i=0;i<n.searchRequest.searchOptions[t].values.length;i++)if(u=(n.searchRequest.searchOptions[t].filterId,n.searchRequest.searchOptions[t].values[i]),n.data.aggregations)for(f=Object.keys(n.data.aggregations),r=0;r<f.length;r++)e=n.data.aggregations[f[r]].items.filter(function(n){return n.item.id==u||n.item.value==u})[0],e&&(e.selected=!0)},n.prototype.changeSorting=function(n,t){void 0===t&&(t=0);var i=this;i.searchRequest.sort.field==n?0==t?i.searchRequest.sort.Asc=!i.searchRequest.sort.Asc:1==t?i.searchRequest.sort.Asc=!0:2==t&&(i.searchRequest.sort.Asc=!1):(i.searchRequest.sort.field=n,0==t?i.searchRequest.sort.Asc=!0:1==t?i.searchRequest.sort.Asc=!0:2==t&&(i.searchRequest.sort.Asc=!1))},n.prototype.buildTree=function(){var n=this,t,f,u,e,o,i,r;for(t in n.data.aggregations)if(f=angular.copy(n.data.aggregations[t].items),n.data.aggregations[t].items=[],"Root.DetailOverview.Theme"==n.$state.current.name&&56==n.data.aggregations[t].filterId){u=f.filter(function(t){return null==t.item.parentId&&t.item.id==n.$stateParams.id});for(e in u){n.data.aggregations[t].items.push(u[e]);o=n.data.aggregations[t].items.length-1;i=f.filter(function(t){return t.item.parentId==n.$stateParams.id});for(r in i)i[r].child=!0,n.data.aggregations[t].items.push(i[r]),n.data.aggregations[t].items[o].docCount+=i[r].docCount}}else{u=f.filter(function(n){return null==n.item.parentId});for(e in u)if(n.data.aggregations[t].items.push(u[e]),o=n.data.aggregations[t].items.length-1,"term"!=n.data.aggregations[t].type){i=f.filter(function(n){return n.item.parentId==u[e].item.id});for(r in i)i[r].child=!0,n.data.aggregations[t].items.push(i[r]),n.data.aggregations[t].items[o].docCount+=i[r].docCount}}},n.prototype["export"]=function(){var n=this;n.exposedContentCollectionDataService["export"](n.exposedContentCollectionId,n.data.actualCount,n.searchRequest).then(function(n){window.location.href="/ExcelExport/"+n.data})},n.prototype.exportTree=function(){var n=this;n.exposedContentCollectionDataService.exportTree(n.exposedContentCollectionId,n.data.actualCount,n.searchRequest).then(function(n){window.location.href="/ExcelExport/"+n.data})},n.prototype.exportAccompany=function(){var n=this;n.exposedContentCollectionDataService.exportAccompany(n.exposedContentCollectionId,n.data.actualCount,n.searchRequest).then(function(n){window.location.href="/ExcelExport/"+n.data})},n.prototype.getData=function(){var n=this;n.loading=!0;n.exposedContentCollectionDataService.getData(n.exposedContentCollectionId,n.searchRequest).then(function(t){if(n.data=t,n.applySelectionOfFilters(),n.buildTree(),n.loading=!1,n.loadMorePage=0,void 0!=n.data.aggregations)if(void 0!=n.$stateParams.theme&&""!=n.$stateParams.theme){if(void 0!=n.data.aggregations.thema){var i=n.data.aggregations.thema.items.indexOf(n.data.aggregations.thema.items.filter(function(t){return t.item.id==n.$stateParams.theme})[0]),r=n.searchRequest.searchOptions.indexOf(n.searchRequest.searchOptions.filter(function(n){return 56==n.filterId})[0]),u=-1;r>=0&&(u=n.searchRequest.searchOptions[r].values.findIndex(function(t){return t==n.$stateParams.theme}));i>=0&&u>=0&&n.activeFilters.indexOf(n.activeFilters.filter(function(t){return t.value==parseInt(n.$stateParams.theme)})[0])<0&&n.activeFilters.push({value:parseInt(n.$stateParams.theme),filterId:56,item:n.data.aggregations.thema.items[i],label:n.data.aggregations.thema.label})}}else if(void 0!=n.$stateParams.theme&&""!=n.$stateParams.theme&&void 0!=n.data.aggregations["thème"]){var i=n.data.aggregations["thème"].items.indexOf(n.data.aggregations["thème"].items.filter(function(t){return t.item.id==n.$stateParams.theme})[0]),r=n.searchRequest.searchOptions.indexOf(n.searchRequest.searchOptions.filter(function(n){return 56==n.filterId})[0]),u=-1;r>=0&&(u=n.searchRequest.searchOptions[r].values.findIndex(function(t){return t==n.$stateParams.theme}));i>=0&&u>=0&&n.activeFilters.indexOf(n.activeFilters.filter(function(t){return t.value==parseInt(n.$stateParams.theme)})[0])<0&&n.activeFilters.push({value:parseInt(n.$stateParams.theme),filterId:56,item:n.data.aggregations["thème"].items[i],label:n.data.aggregations["thème"].label})}n.aggregationArray=n.objArray(n.data.aggregations)},function(t){401==t&&(n.unAuthorized=!0)})},n.prototype.objArray=function(n){var t=[];for(var i in n)t.push({key:i,value:n[i]});return t},n.prototype.setRangeFilter=function(n){var t=this,i=t.searchRequest.ranges.map(function(n){return n.field}).indexOf(n.field);i>=0?t.searchRequest.ranges[i]=n:t.searchRequest.ranges.push(n)},n.prototype.getName=function(n){return void 0!=n?n.substring(0,100).replace(/[\W_]/g,"-").replace(/-{2,}/g,"-").replace(/-\s*$/,""):""},n}()}(AltaiEngage||(AltaiEngage={}));!function(n){function t(t){t.createWindow(n.EngagementWindows.contactsList,"Contacts")}n.AltaiContactListController=t}(AltaiEngage||(AltaiEngage={}));!function(n){function t(t){t.createWindow(n.EngagementWindows.companyList,"Organizations")}n.AltaiCompanyListController=t}(AltaiEngage||(AltaiEngage={}));!function(n){function t(t){t.createWindow(n.EngagementWindows.insightLog,"InsightLogLines")}n.AltaiInsightLogController=t}(AltaiEngage||(AltaiEngage={}));!function(n){function t(t){t.createWindow(n.EngagementWindows.insightDashboard,"InsightDashboard")}n.AltaiInsightDashboardController=t}(AltaiEngage||(AltaiEngage={}));!function(n){var t=function(){function n(){}return n}();t.contactsList=new AltaiWindowManager.wmWindowType("contactslist",'<altai-exposed-content-collection template-id="308" exposed-content-collection-id="57" class="ng-scope ng-isolate-scope">',800,900,1e3);t.companyList=new AltaiWindowManager.wmWindowType("contactslist",'<altai-exposed-content-collection template-id="308" exposed-content-collection-id="58" class="ng-scope ng-isolate-scope">',800,900,1e3);t.contactTimeline=new AltaiWindowManager.wmWindowType("contactTimeline","<altai-contact-timeline contact-id='vm.window.entityId'><\/altai-contact-timeline>",800,900,1e3);t.insightLog=new AltaiWindowManager.wmWindowType("insightLog","<altai-insight-log><\/altai-insight-log>",1600,1600,1600);t.insightDashboard=new AltaiWindowManager.wmWindowType("insightDashboard","<altai-insight-dashboard><\/altai-insight-dashboard>",1600,1600,1600);n.EngagementWindows=t}(AltaiEngage||(AltaiEngage={}));!function(n){var t=function(){function n(n,t){this.$q=n;this.$http=t}return n.prototype.getHistory=function(n){var t=this.$q.defer();return this.$http.get("/api/contact/"+n+"/history").success(function(n){t.resolve(n)}),t.promise},n}();n.ContactManager=t}(AltaiEngage||(AltaiEngage={}));!function(n){var t=angular.module("altai.engage",["nvd3","ui.grid"]);t.component("altaiContactList",new n.AltaiContactListComponent);t.component("altaiContactTimeline",new n.AltaiContactTimelineComponent);t.component("altaiInsightLog",new n.AltaiInsightLogComponent);t.component("altaiInsightDashboard",new n.AltaiInsightDashboardComponent);t.component("altaiInsightDashboardAggregationComponent",new n.AltaiInsightDashboardAggregationComponent);t.component("altaiInsightDashboardExposedContentCollection",new n.AltaiInsightDashboardExposedContentCollectionComponent);t.service("contactManager",n.ContactManager);t.config(function(t,i){t.add({name:"engagement",order:1,label:"engagement",securable:"engagement",icon:"mdi mdi-chart-line menuicontoolbar"});t.add({parent:"engagement",name:"engagement.organization",securable:"engagement",label:"organizations",icon:"mdi mdi-city menuicon",state:"admin.engage.organization"});t.add({parent:"engagement",name:"engagement.people",securable:"engagement",label:"people",icon:"mdi mdi-human-male-female menuicon",state:"admin.engage.contact"});t.add({parent:"engagement",name:"engagement.insightlog",securable:"engagement",label:"insightlog",icon:"mdi mdi-format-list-bulleted-type menuicon",state:"admin.engage.insightlog"});i.state("admin.engage",{abstract:!0,url:"/engage"}).state("admin.engage.contact",{url:"/contact",views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.AltaiContactListController}}}).state("admin.engage.organization",{url:"/organization",views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.AltaiCompanyListController}}}).state("admin.engage.insightlog",{url:"/insightlog",views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.AltaiInsightLogController}}}).state("admin.engage.insightdashboard",{url:"/insightdashboard",views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.AltaiInsightDashboardController}}})});config.modules.push(t.name)}(AltaiEngage||(AltaiEngage={}));!function(n){function t(){return{scope:{link:"@",campaign:"@",source:"@",medium:"@"},template:"<a ng-href='{{$ctrl.fullHref}}' ng-transclude><\/a>",controllerAs:"$ctrl",replace:!0,transclude:!0,bindToController:!0,controller:function(n){function i(n){return Object.keys(n).map(function(t){return[t,n[t]].join("=")}).join("&")}var t=this,r=n.$watch("$ctrl.link",function(){var n,u;t.link&&(n=[],t.campaign&&(n.utm_campaign=t.campaign),t.source&&(n.utm_source=t.source),t.medium&&(n.utm_medium=t.medium),u=i(n),t.fullHref=-1!==t.link.indexOf("?")?t.link+"&"+u:t.link+"?"+u,r())})}}}n.AltaiUtmLinkDirective=t}(AltaiInsights||(AltaiInsights={}));!function(n){function r(){return{restrict:"AE",scope:{analyticsItem:"=",analyticsLinkedItem:"=",analyticsOnView:"@",analyticsOnClick:"@",analyticsFormData:"="},bindToController:!0,controllerAs:"$ctrl",transclude:!1,controller:i,link:t}}var t,i;n.AltaiAnalyticsLoggingDirective=r;t=function(){function n(n,t,i,r){"download"==i.analyticsOnClick?t.on("click",function(){r.logDownload()}):"eventregistrationstart"==i.analyticsOnClick?t.on("click",function(){r.logEventRegistrationStart()}):"eventregistrationend"==i.analyticsOnClick?t.on("click",function(){r.logEventRegistrationEnd()}):"login"==i.analyticsOnClick?t.on("click",function(){r.logLogin()}):"logout"==i.analyticsOnClick?t.on("click",function(){r.logLogout()}):"logfavorite"==i.analyticsOnClick?t.on("click",function(){r.logFavorite()}):"logcontact"==i.analyticsOnClick?t.on("click",function(){r.logContact()}):"logprint"==i.analyticsOnClick&&t.on("click",function(){r.logPrint()})}return n}();n.AltaiAnalyticsLoggingDirectiveLink=t;i=function(){function n(n,t,i,r){this.$location=n;this.$scope=t;this.insightsservice=i;this.$window=r;this.theme=[];this.sector=[];this.region=[];this.pc=[];this.metaDataFilled=!1;var u=this,f=t.$watch("$ctrl.analyticsItem",function(n){n&&("true"==u.analyticsOnView?(u.fillMetaData(),u.logItemView()):"pageview"==u.analyticsOnView?(u.fillMetaData(),u.logPageView()):"eventregistrationstart"==u.analyticsOnView?(u.fillMetaData(),u.logEventRegistrationStart()):"eventregistrationend"==u.analyticsOnView&&(u.fillMetaData(),u.logEventRegistrationEnd()),f())})}return n.prototype.fillMetaData=function(){var i=this,t,n,r;if(void 0!=i.analyticsItem&&"theme"!=i.analyticsItem.contentType&&"sector"!=i.analyticsItem.contentType&&"pc"!=i.analyticsItem.contentType&&"region"!=i.analyticsItem.contentType)for(t=Object.keys(i.analyticsItem),n=0;n<t.length;n++)if(0==t[n].indexOf("theme")||t[n].length>5&&t[n].indexOf("theme")==t[n].length-5)for(r=0;r<i.analyticsItem[t[n]].length;r++)i.theme.push({id:i.analyticsItem[t[n]][r].id,title:i.analyticsItem[t[n]][r].title});else if(0==t[n].indexOf("sector")||t[n].length>6&&t[n].indexOf("sector")==t[n].length-6)for(r=0;r<i.analyticsItem[t[n]].length;r++)i.sector.push({id:i.analyticsItem[t[n]][r].id,title:i.analyticsItem[t[n]][r].title});else if(0==t[n].indexOf("region")||t[n].length>6&&t[n].indexOf("region")==t[n].length-6)for(r=0;r<i.analyticsItem[t[n]].length;r++)i.region.push({id:i.analyticsItem[t[n]][r].id,title:i.analyticsItem[t[n]][r].title});else if(0==t[n].indexOf("pc")||t[n].length>2&&t[n].indexOf("pc")==t[n].length-2&&0!=t[n].indexOf("pcinfo"))for(r=0;r<i.analyticsItem[t[n]].length;r++)i.pc.push({id:i.analyticsItem[t[n]][r].id,title:i.analyticsItem[t[n]][r].title});i.metaDataFilled=!0},n.prototype.logItemView=function(){var n=this,t={absurl:n.$location.absUrl(),url:n.$location.url(),protocol:n.$location.protocol(),host:n.$location.host(),port:n.$location.port(),path:n.$location.path(),search:JSON.stringify(n.$location.search()),hash:n.$location.hash(),sectoranalyticslogevent:n.sector,regionanalyticslogevent:n.region,pcanalyticslogevent:n.pc,themeanalyticslogevent:n.theme};void 0!=n.analyticsItem&&(t.contentitemid=n.analyticsItem.id,n.analyticsItem.name&&(t.contentitemname=n.analyticsItem.name),t.itemcontenttypeid=n.analyticsItem.contentTypeId,t.itemcontenttype=n.analyticsItem.contentType);n.insightsservice.registerEventTrack("itemview",t)},n.prototype.logPrint=function(){var n=this,t={absurl:n.$location.absUrl(),url:n.$location.url(),protocol:n.$location.protocol(),host:n.$location.host(),port:n.$location.port(),path:n.$location.path(),search:JSON.stringify(n.$location.search()),hash:n.$location.hash(),sectoranalyticslogevent:n.sector,regionanalyticslogevent:n.region,pcanalyticslogevent:n.pc,themeanalyticslogevent:n.theme};void 0!=n.analyticsItem&&(t.contentitemid=n.analyticsItem.id,n.analyticsItem.name&&(t.contentitemname=n.analyticsItem.name),t.itemcontenttypeid=n.analyticsItem.contentTypeId,t.itemcontenttype=n.analyticsItem.contentType);n.insightsservice.registerEventTrack("print",t)},n.prototype.logPageView=function(){var n=this,t={absurl:n.$location.absUrl(),url:n.$location.url(),protocol:n.$location.protocol(),host:n.$location.host(),port:n.$location.port(),path:n.$location.path(),search:JSON.stringify(n.$location.search()),hash:n.$location.hash(),sectoranalyticslogevent:n.sector,regionanalyticslogevent:n.region,pcanalyticslogevent:n.pc,themeanalyticslogevent:n.theme};void 0!=n.analyticsItem&&(t.contentitemid=n.analyticsItem.id,n.analyticsItem.name&&(t.contentitemname=n.analyticsItem.name),t.itemcontenttypeid=n.analyticsItem.contentTypeId,t.itemcontenttype=n.analyticsItem.contentType);n.insightsservice.registerEventTrack("pageview",t)},n.prototype.test=function(){alert("log")},n.prototype.logDownload=function(){var n=this,t;n.metaDataFilled||n.fillMetaData();t={absurl:n.$location.absUrl(),url:n.$location.url(),protocol:n.$location.protocol(),host:n.$location.host(),port:n.$location.port(),path:n.$location.path(),search:JSON.stringify(n.$location.search()),hash:n.$location.hash(),sectoranalyticslogevent:n.sector,regionanalyticslogevent:n.region,pcanalyticslogevent:n.pc,themeanalyticslogevent:n.theme};void 0!=n.analyticsItem&&(t.contentitemid=n.analyticsItem.id,n.analyticsItem.name&&(t.contentitemname=n.analyticsItem.name),t.itemcontenttypeid=n.analyticsItem.contentTypeId,t.itemcontenttype=n.analyticsItem.contentType);n.insightsservice.registerEventTrack("download",t)},n.prototype.logEventRegistrationStart=function(){var n=this,t;n.metaDataFilled||n.fillMetaData();t={absurl:n.$location.absUrl(),url:n.$location.url(),protocol:n.$location.protocol(),host:n.$location.host(),port:n.$location.port(),path:n.$location.path(),search:JSON.stringify(n.$location.search()),hash:n.$location.hash(),sectoranalyticslogevent:n.sector,regionanalyticslogevent:n.region,pcanalyticslogevent:n.pc,themeanalyticslogevent:n.theme};void 0!=n.analyticsItem&&(t.contentitemid=n.analyticsItem.id,n.analyticsItem.name&&(t.contentitemname=n.analyticsItem.name),t.itemcontenttypeid=n.analyticsItem.contentTypeId,t.itemcontenttype=n.analyticsItem.contentType);void 0!=n.analyticsFormData&&(t.form=JSON.stringify(n.analyticsFormData));n.insightsservice.registerEventTrack("eventregistrationstart",t)},n.prototype.logEventRegistrationEnd=function(){var n=this,t;n.metaDataFilled||n.fillMetaData();t={absurl:n.$location.absUrl(),url:n.$location.url(),protocol:n.$location.protocol(),host:n.$location.host(),port:n.$location.port(),path:n.$location.path(),search:JSON.stringify(n.$location.search()),hash:n.$location.hash(),sectoranalyticslogevent:n.sector,regionanalyticslogevent:n.region,pcanalyticslogevent:n.pc,themeanalyticslogevent:n.theme};void 0!=n.analyticsItem&&(t.contentitemid=n.analyticsItem.id,n.analyticsItem.name&&(t.contentitemname=n.analyticsItem.name),t.itemcontenttypeid=n.analyticsItem.contentTypeId,t.itemcontenttype=n.analyticsItem.contentType);void 0!=n.analyticsFormData&&(t.form=JSON.stringify(n.analyticsFormData));n.insightsservice.registerEventTrack("eventregistrationend",t)},n}();n.AltaiAnalyticsLoggingDirectiveController=i}(AltaiInsights||(AltaiInsights={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){var f=n.call(this,"/api/insights","Insights",i,t,r,u)||this;return f.loggingServiceActive=!0,f.enableCaching=!1,f}return __extends(t,n),t.prototype.registerPageTrack=function(n){var t=this;t.loggingServiceActive&&this.$http.post(config.backendUrl+"/api/insights/pagetrack",n)},t.prototype.registerEventTrack=function(n,t){var i=this;i.loggingServiceActive&&this.$http.post(config.backendUrl+"/api/insights/eventtrack/"+n,t)},t}(AltaiCore.AltaiDataService);n.InsightsService=t}(AltaiInsights||(AltaiInsights={}));!function(n){var t=angular.module("altai.insights",["angulartics","angulartics.google.analytics"]);t.service("insightsservice",n.InsightsService);t.directive("analytics",n.AltaiAnalyticsLoggingDirective);t.config(function(n){n.firstPageview(!0);n.withAutoBase(!1)});t.run(function(n,t,i){i.getUserInfo().then(function(n){void 0!=n?t.setUsername(n.name):t.setUsername("")},function(){t.setUsername("")});n.$on("userInfoChanged",function(){i.getUserInfo().then(function(n){void 0!=n?t.setUsername(n.name):t.setUsername("")},function(){t.setUsername("")})})});config.modules.push(t.name)}(AltaiInsights||(AltaiInsights={}));!function(n){function i(n){return[n[1]]}var r=function(){function n(){this.template="<altai-content-item-list content-type-id='$ctrl.contentTypeId' selection='$ctrl.selection'><\/altai-content-item-list>";this.controller=t;this.bindings={selection:"="}}return n}(),t;n.AltaiFileListWithSearchComponent=r;t=function(){function n(){this.contentTypeId=1}return n}();n.AltaiFileListDecorator=i}(AltaiElasticSearch||(AltaiElasticSearch={}));!function(n){function i(n){return[n[1]]}var r=function(){function n(){this.controller=t;this.bindings={contentTypeId:"=",windowId:"=",selection:"="}}return n}(),t;n.AltaiContentItemListWithSearchComponent=r;t=function(){function n(n,t,i,r){this.exposedContentCollectionManager=n;var u=this;n.getForContentType(u.contentTypeId).then(function(n){var f="";u.selection&&(f="selection = '$ctrl.selection'");n?t.html(i("<altai-exposed-content-collection "+f+" template-id='"+n.templateId+"' exposed-content-collection-id='"+n.id+"'><\/altai-content-search>")(r)):t.html(i("<altai-content-item-list-inner content-type-id='$ctrl.contentTypeId' "+f+" window-id='$ctrl.windowId'><\/altai-content-item-list-inner>")(r))})}return n}();n.AltaiContentItemListWithSearchComponentController=t;n.AltaiContentItemListDecorator=i}(AltaiElasticSearch||(AltaiElasticSearch={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl=function(n){return void 0!=n.templateId?"/api/template/"+n.templateId:void 0!=n.templateType&&void 0!=n.templateName?"/api/template/"+n.templateType+"/"+n.templateName:void 0};this.bindings={exposedContentCollectionId:"=",selection:"=",parameters:"=",titleexp:"<",classes:"@",noResults:"@"}}return n}(),t;n.AltaiExposedContentCollectionComponent=i;t=function(){function n(n,t,i,r,u,f,e,o){var s,c,l,h;if(this.exposedContentCollectionQueryManager=i,this.exposedContentCollectionDataService=r,this.$stateParams=u,this.$state=f,this.altaiLocalizationService=e,this.altaiNotificationFactory=o,this.searchRequest={page:0,searchOptions:[],sort:{field:"",Asc:!1},parameters:{},ranges:[],queryField:void 0},this.activeFilters=[],this.activeLang={code:""},this.loadMorePage=0,this.loadingMore=!1,this.unAuthorized=!1,s=this,s.notificationFactory=o,void 0!=u.q&&(this.searchRequest.queryField=u.q),this.searchRequest.parameters=angular.copy(u),c=s.exposedContentCollectionQueryManager.getRequest(s.exposedContentCollectionId,this.searchRequest.parameters),(c&&s.setActiveFiltersForExistingRequest(c),void 0!=u.theme)&&(l=u.theme,""!=l&&this.addSearchOption(l,20==this.exposedContentCollectionId?56:59),this.searchRequest.parameters.theme=void 0),"Root.DetailOverviewSubmenu.PC"==s.$state.current.name&&void 0!=s.$stateParams.id&&""!=s.$stateParams.id&&16==s.exposedContentCollectionId&&(this.addSearchOption(s.$stateParams.id,94),s.activeFilters.push({value:s.$stateParams.id,filterId:94,item:null,label:null})),null!=s.parameters)for(h in s.parameters)s.parameters.hasOwnProperty(h)&&(s.searchRequest.parameters[h]=s.parameters[h]);s.activeLang.code=e.getCurrentLangCode();t.$on("languageChanged",function(){s.getData()});n.$watch("$ctrl.searchRequest",function(n,t){n.page==t.page&&(s.searchRequest.page=0);s.getData();s.exposedContentCollectionQueryManager.setRequest(s.exposedContentCollectionId,s.activeFilters,s.searchRequest.parameters)},!0)}return n.prototype.setActiveFiltersForExistingRequest=function(n){for(var i=this,t=0;t<n.length;t++)i.selectFilterValue(n[t].item,n[t].filterId,n[t].label)},n.prototype.openPage=function(n){var t=this;t.searchRequest.page=n},n.prototype.loadMore=function(){var n=this,t;n.loadingMore=!0;n.loadMorePage+=1;t=angular.copy(n.searchRequest);t.page=n.loadMorePage;n.loadMorePage<=Math.ceil(n.data.totalCount/n.data.pageSize)&&n.exposedContentCollectionDataService.getData(n.exposedContentCollectionId,t).then(function(t){n.data.pageResults.push.apply(n.data.pageResults,t.pageResults);n.loadingMore=!1})},n.prototype.selectFilterValue=function(n,t,i){var u=this,e,r,o,f;void 0!=n&&(e="",e=void 0!=n.item.contentType?n.item.contentType+".id":"contentTypeId",r=n.item.id,void 0==r&&(r=n.item.value),o=u.findSearchOptionInRequest(t,r),void 0==o?(n.selected=!0,u.addSearchOption(r,t),u.activeFilters.push({value:r,filterId:t,item:n,label:i})):(n.selected=!1,u.removeFilterItemFromRequestFilter(t,r),f=u.activeFilters.filter(function(n){return n.filterId==t&&n.value==r})[0],f&&u.activeFilters.splice(u.activeFilters.indexOf(f),1)))},n.prototype.selectAggregation=function(n,t){var i=this,u,e,f,r;if(t)for(r in n.items)u=n.items[r].item.id,void 0==u&&(u=n.items[r].item.value),n.items[r].selected=!0,i.addSearchOption(u,n.filterId),void 0==i.activeFilters.filter(function(n){return n.value==u})[0]&&i.activeFilters.push({value:u,filterId:n.filterId,item:n.items[r],label:n.label});else if(e=(n.items[0].item.contentType+".id",i.searchRequest.searchOptions.filter(function(t){return t.filterId==n.filterId})[0]),e&&i.searchRequest.searchOptions.splice(i.searchRequest.searchOptions.indexOf(e),1),f=i.activeFilters.filter(function(t){return t.filterId==n.filterId}),f)for(r in f)i.activeFilters.splice(i.activeFilters.indexOf(f[r]),1)},n.prototype.removeActiveFilter=function(n){var t=this;t.selectFilterValue(n.item,n.filterId,n.label)},n.prototype.removeAllFilters=function(){var n=this;n.activeFilters=[];n.searchRequest.searchOptions=[]},n.prototype.findSearchOptionInRequest=function(n,t){var r=this,i=r.searchRequest.searchOptions.filter(function(t){return t.filterId==n})[0];if(i)return i.values.filter(function(n){return n==t})[0]},n.prototype.addSearchOption=function(n,t){var i=this,r=i.searchRequest.searchOptions.filter(function(n){return n.filterId==t})[0];r||(i.searchRequest.searchOptions.push({filterId:t,values:[]}),r=i.searchRequest.searchOptions[i.searchRequest.searchOptions.length-1]);r.values.push(n)},n.prototype.removeFilterItemFromRequest=function(n,t){var r=this,i=r.searchRequest.searchOptions.filter(function(t){return t.filterId==n})[0],u=i.values.filter(function(n){return n==t})[0];i&&i.values.splice(i.values.indexOf(u),1)},n.prototype.removeFilterItemFromRequestFilter=function(n,t){var r=this,i=r.searchRequest.searchOptions.filter(function(t){return t.filterId==n})[0],u=i.values.filter(function(n){return n==t})[0];i&&i.values.splice(i.values.indexOf(u),1)},n.prototype.applySelectionOfFilters=function(){for(var i,u,f,r,e,n=this,t=0;t<n.searchRequest.searchOptions.length;t++)for(i=0;i<n.searchRequest.searchOptions[t].values.length;i++)if(u=(n.searchRequest.searchOptions[t].filterId,n.searchRequest.searchOptions[t].values[i]),n.data.aggregations)for(f=Object.keys(n.data.aggregations),r=0;r<f.length;r++)e=n.data.aggregations[f[r]].items.filter(function(n){return n.item.id==u||n.item.value==u})[0],e&&(e.selected=!0)},n.prototype.changeSorting=function(n,t){void 0===t&&(t=0);var i=this;i.searchRequest.sort.field==n?0==t?i.searchRequest.sort.Asc=!i.searchRequest.sort.Asc:1==t?i.searchRequest.sort.Asc=!0:2==t&&(i.searchRequest.sort.Asc=!1):(i.searchRequest.sort.field=n,0==t?i.searchRequest.sort.Asc=!0:1==t?i.searchRequest.sort.Asc=!0:2==t&&(i.searchRequest.sort.Asc=!1))},n.prototype.buildTree=function(){var n=this,t,f,u,e,o,i,r;for(t in n.data.aggregations)if(f=angular.copy(n.data.aggregations[t].items),n.data.aggregations[t].items=[],"Root.DetailOverview.Theme"==n.$state.current.name&&56==n.data.aggregations[t].filterId){u=f.filter(function(t){return null==t.item.parentId&&t.item.id==n.$stateParams.id});for(e in u){n.data.aggregations[t].items.push(u[e]);o=n.data.aggregations[t].items.length-1;i=f.filter(function(t){return t.item.parentId==n.$stateParams.id});for(r in i)i[r].child=!0,n.data.aggregations[t].items.push(i[r]),n.data.aggregations[t].items[o].docCount+=i[r].docCount}}else{u=f.filter(function(n){return null==n.item.parentId});for(e in u)if(n.data.aggregations[t].items.push(u[e]),o=n.data.aggregations[t].items.length-1,"term"!=n.data.aggregations[t].type){i=f.filter(function(n){return n.item.parentId==u[e].item.id});for(r in i)i[r].child=!0,n.data.aggregations[t].items.push(i[r]),n.data.aggregations[t].items[o].docCount+=i[r].docCount}}},n.prototype["export"]=function(){var n=this;n.exposedContentCollectionDataService["export"](n.exposedContentCollectionId,n.data.actualCount,n.searchRequest).then(function(n){window.location.href="/ExcelExport/"+n.data})},n.prototype.exportTree=function(){var n=this;n.exposedContentCollectionDataService.exportTree(n.exposedContentCollectionId,n.data.actualCount,n.searchRequest).then(function(n){window.location.href="/ExcelExport/"+n.data})},n.prototype.exportAccompany=function(){var n=this;n.exposedContentCollectionDataService.exportAccompany(n.exposedContentCollectionId,n.data.actualCount,n.searchRequest).then(function(n){window.location.href="/ExcelExport/"+n.data})},n.prototype.getData=function(){var n=this;n.loading=!0;n.exposedContentCollectionDataService.getData(n.exposedContentCollectionId,n.searchRequest).then(function(t){if(n.data=t,n.applySelectionOfFilters(),n.buildTree(),n.loading=!1,n.loadMorePage=0,void 0!=n.data.aggregations)if(void 0!=n.$stateParams.theme&&""!=n.$stateParams.theme){if(void 0!=n.data.aggregations.thema){var i=n.data.aggregations.thema.items.indexOf(n.data.aggregations.thema.items.filter(function(t){return t.item.id==n.$stateParams.theme})[0]),r=n.searchRequest.searchOptions.indexOf(n.searchRequest.searchOptions.filter(function(n){return 56==n.filterId})[0]),u=-1;r>=0&&(u=n.searchRequest.searchOptions[r].values.findIndex(function(t){return t==n.$stateParams.theme}));i>=0&&u>=0&&n.activeFilters.indexOf(n.activeFilters.filter(function(t){return t.value==parseInt(n.$stateParams.theme)})[0])<0&&n.activeFilters.push({value:parseInt(n.$stateParams.theme),filterId:56,item:n.data.aggregations.thema.items[i],label:n.data.aggregations.thema.label})}}else if(void 0!=n.$stateParams.theme&&""!=n.$stateParams.theme&&void 0!=n.data.aggregations["thème"]){var i=n.data.aggregations["thème"].items.indexOf(n.data.aggregations["thème"].items.filter(function(t){return t.item.id==n.$stateParams.theme})[0]),r=n.searchRequest.searchOptions.indexOf(n.searchRequest.searchOptions.filter(function(n){return 56==n.filterId})[0]),u=-1;r>=0&&(u=n.searchRequest.searchOptions[r].values.findIndex(function(t){return t==n.$stateParams.theme}));i>=0&&u>=0&&n.activeFilters.indexOf(n.activeFilters.filter(function(t){return t.value==parseInt(n.$stateParams.theme)})[0])<0&&n.activeFilters.push({value:parseInt(n.$stateParams.theme),filterId:56,item:n.data.aggregations["thème"].items[i],label:n.data.aggregations["thème"].label})}},function(t){401==t&&(n.unAuthorized=!0)})},n.prototype.setRangeFilter=function(n){var t=this,i=t.searchRequest.ranges.map(function(n){return n.field}).indexOf(n.field);i>=0?t.searchRequest.ranges[i]=n:t.searchRequest.ranges.push(n)},n.prototype.getName=function(n){return void 0!=n?n.substring(0,100).replace(/[\W_]/g,"-").replace(/-{2,}/g,"-").replace(/-\s*$/,""):""},n}()}(AltaiElasticSearch||(AltaiElasticSearch={}));!function(n){var i=function(){function n(){this.controller=t;this.templateUrl=function(n){return"/api/template/"+n.templateId};this.bindings={exposedContentCollectionId:"=",selection:"=",parameters:"="}}return n}(),t;n.AltaiExposedContentCollectionClientSideComponent=i;t=function(){function n(n,t,i,r,u,f){var e,s,o;if(this.exposedContentCollectionQueryManager=i,this.exposedContentCollectionDataService=r,this.$timeout=f,this.searchRequest={page:0,searchOptions:[],sort:{field:"",Asc:!1},parameters:{},ranges:[]},this.activeFilters=[],this.inited=!1,e=this,this.searchRequest.parameters=angular.copy(u),s=e.exposedContentCollectionQueryManager.getRequest(e.exposedContentCollectionId,this.searchRequest.parameters),s&&e.setActiveFiltersForExistingRequest(s),null!=e.parameters)for(o in e.parameters)e.parameters.hasOwnProperty(o)&&(e.searchRequest.parameters[o]=e.parameters[o]);t.$on("languageChanged",function(){e.getData()});n.$watch("$ctrl.searchRequest",function(n,t){n.queryField!=t.queryField&&(e.searchRequest.page=0);e.inited?e.updateResultset():(e.getData(),e.inited=!0);e.exposedContentCollectionQueryManager.setRequest(e.exposedContentCollectionId,e.activeFilters,e.searchRequest.parameters)},!0)}return n.prototype.setActiveFiltersForExistingRequest=function(n){for(var i=this,t=0;t<n.length;t++)i.selectFilterValue(n[t].item,n[t].filterId,n[t].label)},n.prototype.openPage=function(n){var t=this;t.searchRequest.page=n},n.prototype.selectFilterValue=function(n,t,i){var r=this,e,u,o,f;r.removeAllFilters();e="";e=void 0!=n.item.contentType?n.item.contentType+".id":"contentTypeId";u=n.item.id;o=r.findSearchOptionInRequest(t,u);void 0==o?(n.selected=!0,r.addSearchOption(u,t),r.activeFilters.push({value:u,filterId:t,item:n,label:i})):(n.selected=!1,r.removeFilterItemFromRequestFilter(t,u),f=r.activeFilters.filter(function(n){return n.filterId==t&&n.value==u})[0],f&&r.activeFilters.splice(r.activeFilters.indexOf(f),1))},n.prototype.selectAggregation=function(n,t){var i=this,u,e,f,r;if(t)for(r in n.items)u=n.items[r].item.id,void 0==u&&(u=n.items[r].item.value),n.items[r].selected=!0,i.addSearchOption(u,n.filterId),void 0==i.activeFilters.filter(function(n){return n.value==u})[0]&&(console.log(i.activeFilters.filter(function(n){return n.value==u})[0]),console.log(i.activeFilters),i.activeFilters.push({value:u,filterId:n.filterId,item:n.items[r],label:n.label}));else if(e=(n.items[0].item.contentType+".id",i.searchRequest.searchOptions.filter(function(t){return t.filterId==n.filterId})[0]),e&&i.searchRequest.searchOptions.splice(i.searchRequest.searchOptions.indexOf(e),1),f=i.activeFilters.filter(function(t){return t.filterId==n.filterId}),f)for(r in f)i.activeFilters.splice(i.activeFilters.indexOf(f[r]),1)},n.prototype.removeActiveFilter=function(n){var t=this;t.selectFilterValue(n.item,n.filterId,n.label)},n.prototype.removeAllFilters=function(){var n=this;n.activeFilters=[];n.searchRequest.searchOptions=[]},n.prototype.findSearchOptionInRequest=function(n,t){var r=this,i=r.searchRequest.searchOptions.filter(function(t){return t.filterId==n})[0];if(i)return i.values.filter(function(n){return n==t})[0]},n.prototype.addSearchOption=function(n,t){var i=this,r=i.searchRequest.searchOptions.filter(function(n){return n.filterId==t})[0];r||(i.searchRequest.searchOptions.push({filterId:t,values:[]}),r=i.searchRequest.searchOptions[i.searchRequest.searchOptions.length-1]);r.values.push(n)},n.prototype.removeFilterItemFromRequest=function(n,t){var r=this,i=r.searchRequest.searchOptions.filter(function(t){return t.filterId==n})[0],u=i.values.filter(function(n){return n==t})[0];i&&i.values.splice(i.values.indexOf(u),1)},n.prototype.removeFilterItemFromRequestFilter=function(n,t){var r=this,i=r.searchRequest.searchOptions.filter(function(t){return t.filterId==n})[0],u=i.values.filter(function(n){return n==t})[0];i&&i.values.splice(i.values.indexOf(u),1)},n.prototype.applySelectionOfFilters=function(){for(var i,u,n=this,t=0;t<n.searchRequest.searchOptions.length;t++)for(i=0;i<n.searchRequest.searchOptions[t].values.length;i++)for(var f=(n.searchRequest.searchOptions[t].filterId,n.searchRequest.searchOptions[t].values[i]),e=Object.keys(n.data.aggregations),r=0;r<e.length;r++)u=n.data.aggregations[e[r]].items.filter(function(n){return n.item.id==f||n.item.value==f})[0],u&&(u.selected=!0)},n.prototype.changeSorting=function(n,t){void 0===t&&(t=0);var i=this;i.searchRequest.sort.field==n?0==t?i.searchRequest.sort.Asc=!i.searchRequest.sort.Asc:1==t?i.searchRequest.sort.Asc=!0:2==t&&(i.searchRequest.sort.Asc=!1):(i.searchRequest.sort.field=n,0==t?i.searchRequest.sort.Asc=!0:1==t?i.searchRequest.sort.Asc=!0:2==t&&(i.searchRequest.sort.Asc=!1))},n.prototype.buildTree=function(){var n=this,t,f,r,e,o,i,u;for(t in n.data.aggregations){f=angular.copy(n.data.aggregations[t].items);n.data.aggregations[t].items=[];r=f.filter(function(n){return null==n.item.parentId});for(e in r){n.data.aggregations[t].items.push(r[e]);o=n.data.aggregations[t].items.length-1;i=f.filter(function(n){return n.item.parentId==r[e].item.id});for(u in i)i[u].child=!0,n.data.aggregations[t].items.push(i[u]),n.data.aggregations[t].items[o].docCount+=i[u].docCount}}},n.prototype.getData=function(){var n=this;n.exposedContentCollectionDataService.getData(n.exposedContentCollectionId,n.searchRequest).then(function(t){n.data=t;n.outputData=n.data.pageResults;n.applySelectionOfFilters();n.buildTree()})},n.prototype.updateResultset=function(){var n=this;n.exposedContentCollectionDataService.getData(n.exposedContentCollectionId,n.searchRequest).then(function(t){n.$timeout(function(){n.data=t;n.outputData=n.data.pageResults;n.applySelectionOfFilters();n.buildTree()},0)})},n.prototype.checkIfElementAdheresToFilters=function(){},n.prototype.setRangeFilter=function(n){var t=this,i=t.searchRequest.ranges.map(function(n){return n.field}).indexOf(n.field);i>=0?t.searchRequest.ranges[i]=n:t.searchRequest.ranges.push(n)},n}()}(AltaiElasticSearch||(AltaiElasticSearch={}));!function(n){var t=function(){function n(){this.savedQueries={};this.savedRequests={}}return n.prototype.setQuery=function(n,t,i,r){this.savedQueries[n]||(this.savedQueries[n]={});this.savedQueries[n].filters=i;this.savedQueries[n].query=t;this.savedQueries[n].sort=r},n.prototype.getFilters=function(n){if(this.savedQueries[n])return this.savedQueries[n].filters},n.prototype.getQuery=function(n){if(this.savedQueries[n])return this.savedQueries[n].query},n.prototype.getSort=function(n){if(this.savedQueries[n])return this.savedQueries[n].sort},n.prototype.getRequest=function(n,t){if(this.savedRequests[n]){if(void 0!=t&&void 0!=t.id&&this.savedRequests[n][t.id])return this.savedRequests[n][t.id];if(this.savedRequests[n][0])return this.savedRequests[n][0]}},n.prototype.setRequest=function(n,t,i){void 0==this.savedRequests[n]&&(this.savedRequests[n]=[]);void 0!=i&&void 0!=i.id?this.savedRequests[n][i.id]=angular.copy(t):this.savedRequests[n][0]=angular.copy(t)},n}();n.ExposedContentCollectionQueryManager=t}(AltaiElasticSearch||(AltaiElasticSearch={}));!function(n){var t=function(){function n(n,t,i){this.altaiHttp=n;this.$state=t;this.$q=i}return n.prototype.getData=function(n,t){var r=this,i=r.$q.defer();return r.altaiHttp.postNew("/api/exposedcontentcollection/"+n+"/data",t).then(function(n){i.resolve(angular.copy(n))},function(n){n?404===n.status?(r.$state.go("Root.Content.NotFound"),i.reject()):i.reject(n.status):i.reject()}),i.promise},n.prototype["export"]=function(n,t,i){var r=this,u=r.$q.defer();return r.altaiHttp.post("/api/exposedcontentcollection/"+n+"/"+t+"/data/export/flat",i).then(function(n){u.resolve(n)}),u.promise},n.prototype.exportAccompany=function(n,t,i){var r=this,u=r.$q.defer();return r.altaiHttp.post("/api/exposedcontentcollection/"+n+"/"+t+"/data/exportAccompany/flat",i).then(function(n){u.resolve(n)}),u.promise},n.prototype.exportTree=function(n,t,i){var r=this,u=r.$q.defer();return r.altaiHttp.post("/api/exposedcontentcollection/"+n+"/"+t+"/data/export",i).then(function(n){u.resolve(n)}),u.promise},n}();n.ExposedContentCollectionDataService=t}(AltaiElasticSearch||(AltaiElasticSearch={}));!function(n){var t=angular.module("altai.elasticsearch",[]);t.component("altaiContentItemList",new n.AltaiContentItemListWithSearchComponent);t.component("altaiFileList",new n.AltaiFileListWithSearchComponent);t.component("altaiExposedContentCollection",new n.AltaiExposedContentCollectionComponent);t.component("altaiExposedContentCollectionClientSide",new n.AltaiExposedContentCollectionClientSideComponent);t.decorator("altaiContentItemListDirective",n.AltaiContentItemListDecorator);t.decorator("altaiFileListDirective",n.AltaiFileListDecorator);t.service("exposedContentCollectionQueryManager",n.ExposedContentCollectionQueryManager);t.service("exposedContentCollectionDataService",n.ExposedContentCollectionDataService);t.config(function(n,t){t.add({name:"ExposedContentCollection",label:"Exposed Content Collection",directive:"altai-exposed-content-collection",icon:"mdi-magnify",createComponent:"<altai-content-search-create-building-block><\/altai-content-search-create-building-block>"});t.add({name:"ExposedContentCollectionClientSide",label:"Client Side Exposed Content Collection",directive:"altai-exposed-content-collection-client-side",icon:"mdi-magnify",createComponent:"<altai-content-search-client-side-create-building-block><\/altai-content-search-client-side-create-building-block>"})});config.modules.push(t.name)}(AltaiElasticSearch||(AltaiElasticSearch={}));!function(n){function t(t){t.createWindow(n.ElasticWindows.elasticConfig,"Elastic Configuration","")}n.ElasticConfigController=t}(AltaiElastic||(AltaiElastic={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Search:AltaiIndexTreeSelector";this.bindings={tree:"<",relationId:"<",relationLinkId:"<",depth:"<",relationName:"<",addAttribute:"&",includes:"="};this.controller=t}return n}(),t;n.AltaiIndexTreeSelectorComponent=i;t=function(){function n(n,t,i,r,u){var f,e;this.$scope=n;this.wmContainerFactory=t;this.contentTypeService=i;this.contentRelationFactory=r;this.contentTypeAttributeManager=u;this.attributes=[];f=this;f.tree&&(f.contentTypeService.list().then(function(n){f.contentTypes=n;f.contentType=f.contentTypes.filter(function(n){return n.id==f.tree})[0]}),f.contentRelationFactory.listWithLinks().then(function(n){f.relations=n.filter(function(n){return n.contentTypeRelationLinks.some(function(n){return n.contentTypeId==f.tree})&&n.contentTypeRelationLinks.some(function(n){return n.contentTypeId!=f.tree&&1==n.includeByDefault})||n.contentTypeRelationLinks.every(function(n){return n.contentTypeId==f.tree})&&n.contentTypeRelationLinks.some(function(n){return 1==n.includeByDefault})})}),f.contentTypeAttributeManager.list().then(function(n){f.contentTypeAttributes=n.filter(function(n){return n.contentTypeId==f.tree});f.contentTypeAttributes.splice(0,0,{attributeId:-9,attribute:{id:-9,name:"id"}});f.contentTypeAttributes.splice(1,0,{attributeId:-8,attribute:{id:-8,name:"name"}});f.contentTypeAttributes.splice(2,0,{attributeId:-7,attribute:{id:-7,name:"created"}});f.contentTypeAttributes.splice(3,0,{attributeId:-6,attribute:{id:-6,name:"lastUpdated"}});f.contentTypeAttributes.splice(4,0,{attributeId:-5,attribute:{id:-5,name:"published"}});f.contentTypeAttributes.splice(5,0,{attributeId:-4,attribute:{id:-4,name:"contentType"}});f.contentTypeAttributes.splice(6,0,{attributeId:-3,attribute:{id:-3,name:"contentTypeLabel"}});f.contentTypeAttributes.splice(7,0,{attributeId:-2,attribute:{id:-2,name:"contentTypeId"}});f.contentTypeAttributes.splice(8,0,{attributeId:-1,attribute:{id:-1,name:"machineName"}})}),f.addTreeToDepth());e=n.$watchGroup(["$ctrl.contentTypes","$ctrl.relations","$ctrl.contentTypeAttributes","$ctrl.includes"],function(n,t,i){var r=i.$ctrl,s,f,o,u,h,c;if(void 0!=n[0]&&void 0!=n[1]&&void 0!=n[2]&&void 0!=n[3]){for(s in r.includes){f=!0;for(u in r.childDepth)f=f&&r.includes[s].contentTypeIndexedFieldPaths.some(function(n){return n.contentTypeRelationId==r.childDepth[u]&&n.niveau==u});if(r.includes[s].contentTypeIndexedFieldPaths.length!=r.childDepth.length+1&&(f=!1),f){o=r.includes[s].contentTypeIndexedFieldPaths.filter(function(n){return n.niveau==r.childDepth.length&&(null!=n.contentTypeAttributeId||null!=n.metaAttribute)});for(u in o)if(h=r.contentTypeAttributes.filter(function(n){return n.id==o[u].contentTypeAttributeId&&void 0!=n.id||n.attribute.name==o[u].metaAttribute&&null!=o[u].metaAttribute}),h.length>0)for(c in h)r.attributes[h[c].attributeId]=!0}}e()}})}return n.prototype.getRelationLinkId=function(n){var i=this,t=n.contentTypeRelationLinks.filter(function(n){return n.contentTypeId!=i.tree});return t.length>0?t[0].id:n.contentTypeRelationLinks[0].id},n.prototype.getTypeId=function(n){var t=this,i=void 0;return n>=0&&angular.forEach(t.relations[n].contentTypeRelationLinks,function(n){n.contentTypeId!=t.tree&&(i=n.contentTypeId)}),void 0==i&&(t.relations[n].contentTypeRelationLinks.some(function(n){n.contentTypeId!=t.tree})||(i=t.tree)),i},n.prototype.addRelationToAttribute=function(n){var t=this;t.childDepth.length>0&&t.includes[n].contentTypeIndexedFieldPaths.push({niveau:t.childDepth.length-1,contentTypeRelationId:t.relationId,contentTypeRelationLinkId:t.relationLinkId});t.addAttribute({index:n})},n.prototype.removeRelationFromAttribute=function(n){var t=this;t.includes[n].contentTypeIndexedFieldPaths.length==t.childDepth.length&&t.includes[n].contentTypeIndexedFieldPaths.pop();t.removeAttribute({index:n})},n.prototype.addAttr=function(n,t,i,r,u){var f=this,e;1==t?(void 0==f.includes[n]&&(f.includes[n]={contentTypeIndexedFieldPaths:[]}),null!=i&&i>0&&(u=void 0),null!=i&&0==i&&(i=void 0),f.includes[n].contentTypeIndexedFieldPaths.push({niveau:f.childDepth.length,contentTypeAttributeId:r,metaAttribute:u}),0==f.childDepth.length?f.addAttribute({index:n}):f.addRelationToAttribute(n)):(e=f.includes.filter(function(n){var t=!0;for(var i in f.childDepth)t=t&&n.contentTypeIndexedFieldPaths.some(function(n){return n.contentTypeRelationId==f.childDepth[i]&&n.niveau==i});return t&&n.contentTypeIndexedFieldPaths.some(function(n){return(n.contentTypeAttributeId==r||n.metaAttribute==u&&void 0!=u)&&n.niveau==f.childDepth.length})}),e.length>0&&void 0!=e[0]&&(n=f.includes.findIndex(function(n){return n==e[0]}),n>=0&&f.includes.splice(n,1)))},n.prototype.addTreeToDepth=function(){var n=this;n.childDepth=angular.copy(n.depth);void 0!=n.relationId&&(n.childDepth[n.depth.length]=n.relationId)},n}()}(AltaiElastic||(AltaiElastic={}));!function(n){function t(){return{scope:{languages:"="},bindToController:!0,templateUrl:"/api/template/Admin/ElasticConfig",controller:r,controllerAs:"vm",link:i}}n.AltaiElasticConfigDirective=t;var i=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-ray-start-arrow",action:function(){n.vm.startFlow()},name:"saveandstartflow","class":"altai-button-go",disableByFormValidity:n.contentItemCreateForm,separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}}return n}(),r=function(){function t(n,t,i){this.contentTypeService=n;this.elasticIndexService=t;this.wmContainerFactory=i;var r=this;r.progress=[];r.contentTypeService.list().then(function(n){r.contentTypes=n})}return t.prototype.openSettings=function(t){var i=this;i.wmContainerFactory.createWindow(n.ElasticWindows.ElasticConfiguration,"Select indexed fields",t)},t.prototype.indexAll=function(){var n=this,t;for(n.elasticIndexService.indexAllTypes().then(function(){}),t=0;t<n.contentTypes.length;t++)n.progress[n.contentTypes[t].id]=0;n.getProgressAll()},t.prototype.deleteAll=function(){var n=this;n.elasticIndexService.deleteAllTypes().then(function(){})},t.prototype.indexContentType=function(n){var t=this;t.elasticIndexService.getById(n).then(function(){});t.progress[n]=0;t.getProgress(n)},t.prototype.getProgress=function(n){var t=this;return t.progress[n]>=0?void setTimeout(function(){t.elasticIndexService.getProgress(n).then(function(i){return t.progress[n]=i,t.progress[n]>=0?t.getProgress(n):(t.progress[n]=null,i)})},5e3):-1},t.prototype.getProgressAll=function(){var n=this;setTimeout(function(){n.elasticIndexService.getProgressList().then(function(t){for(var u,r,i=0;i<t.length;i++)n.progress[t[i].id]=0==t[i].total&&0==t[i].counter?1:t[i].counter/t[i].total;if(t.length>0){n.getProgressAll();for(r in n.progress){for(u=!1,i=0;i<t.length;i++)t[i].id==r&&(u=!0);!u&&n.progress[r]>0&&(n.progress[r]=1)}}else for(r in n.progress)n.progress[r]=null})},2e3)},t.prototype.deleteContentTypeIndex=function(n){var t=this;t.elasticIndexService["delete"](n).then(function(){})},t}()}(AltaiElastic||(AltaiElastic={}));!function(n){function t(){return{scope:{contentTypeId:"<"},bindToController:!0,templateUrl:"/api/template/Admin/Search:ElasticSearchConfiguration",controller:i,controllerAs:"$ctrl"}}n.AltaiElasticConfigurationDirective=t;var i=function(){function n(n,t,i,r,u){this.contentTypeService=n;this.contentTypeAttributeManager=t;this.wmContainerFactory=i;this.elasticConfigurationService=r;this.$rootScope=u;this.relation=[];this.fixed=!1;this.newAttribute={ExposedContentCollectionId:0,ExpContCollFields:[{ExpContCollPaths:[]}]};this.includes=[];this.depth=[];this.firstLevel=[];var f=this;f.elasticConfigurationService.getById(f.contentTypeId).then(function(n){void 0!=n&&(f.includes=n)})}return n.prototype.update=function(){var n=this;n.elasticConfigurationService.updateElasticConfiguration(n.contentTypeId,n.includes).then(function(t){n.includes=t})},n}()}(AltaiElastic||(AltaiElastic={}));!function(n){var t=function(){function n(){}return n}();t.elasticConfig=new AltaiWindowManager.wmWindowType("elasticConfig","<altai-elastic-config><\/altai-elastic-config>",600,800,1600);t.ElasticConfiguration=new AltaiWindowManager.wmWindowType("elasticConfiguration","<altai-elastic-configuration content-type-id='vm.window.entityId'><\/altai-elastic-configuration>",600,800,1600);n.ElasticWindows=t}(AltaiElastic||(AltaiElastic={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){var f=n.call(this,"api/elasticindex","Elastic Index",i,t,r,u)||this;return f.dataListForActiveUser=[],f.dataListForCandidateGroups=[],f.dataListForProcessInstance=[],f}return __extends(t,n),t.prototype.indexAllTypes=function(){var n=this,t=n.$q.defer();return n.$http.get("/api/elasticindex/index/all").success(function(n){t.resolve(n)}),t.promise},t.prototype.deleteAllTypes=function(){var n=this,t=n.$q.defer();return n.$http["delete"]("/api/elasticindex/index/all").success(function(n){t.resolve(n)}),t.promise},t.prototype.getProgress=function(n){var t=this,i=t.$q.defer();return t.$http.get("api/elasticindex/progress/"+n).success(function(n){i.resolve(n)}),i.promise},t.prototype.getProgressList=function(){var n=this,t=n.$q.defer();return n.$http.get("api/elasticindex/progress/").success(function(n){t.resolve(n)}),t.promise},t}(AltaiCore.AltaiDataService);n.ElasticIndexService=t}(AltaiElastic||(AltaiElastic={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"/api/elasticconfiguration","ExposedContentCollectionAttribute",i,t,r,u)||this}return __extends(t,n),t.prototype.getElasticConfiguration=function(n){var i=this.$q.defer(),t=this;return this.$http.get(t.apiUrl+"/"+n).success(function(n){i.resolve(n)}).error(function(){t.error("Could not Get "+t.apiUrl+"/"+n)}),i.promise},t.prototype.updateElasticConfiguration=function(n,t){var r=this.$q.defer(),i=this;return this.$http.put(i.apiUrl+"/"+n,t).success(function(n){i.success("Succesfully updated "+i.objectName);i.dataList=n;r.resolve(n)}).error(function(){i.error("Could not POST "+i.apiUrl)}),r.promise},t}(AltaiCore.AltaiDataService);n.ElasticConfigurationService=t}(AltaiElastic||(AltaiElastic={}));!function(n){var t=angular.module("altai.elastic",["altai.core"]);t.component("altaiIndexTreeSelector",new n.AltaiIndexTreeSelectorComponent);t.directive("altaiElasticConfig",n.AltaiElasticConfigDirective);t.directive("altaiElasticConfiguration",n.AltaiElasticConfigurationDirective);t.service("elasticIndexService",n.ElasticIndexService);t.service("elasticConfigurationService",n.ElasticConfigurationService);t.config(function(t,i,r){t.state("admin.elastic",{url:"/elastic",abstract:!0}).state("admin.elastic.config",{url:"/config",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ElasticConfigController}}});r.add({parent:"config",name:"elastic.configuration",securable:"elastic.config.read",label:"elasticconfig",icon:"mdi mdi-google-circles-communities menuicon",state:"admin.elastic.config"})})}(AltaiElastic||(AltaiElastic={}));config.modules.push("altai.elastic");!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Mailing:MailingConfig";this.controller=t}return n}(),t;n.AltaiMailingConfigComponent=i;t=function(){function t(n,t,i){this.mailingCampaignTypeManager=n;this.wmContainerFactory=t;this.altaiConfirmationService=i;var r=this;n.list().then(function(n){r.mailingCampaignTypes=n})}return t.prototype.deleteCampaignType=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.mailingCampaignTypeManager["delete"](n)})},t.prototype.updateCampaignType=function(t){this.wmContainerFactory.createWindow(n.MailingWindows.mailingCampaignTypeUpdate,t.label,t.id)},t.prototype.createType=function(){this.wmContainerFactory.createWindow(n.MailingWindows.mailingCampaignTypeCreate,"Create mailingcampaign type")},t}()}(AltaiMailing||(AltaiMailing={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Mailing:MailingListUpdate";this.controller=t;this.bindings={mailingListId:"="}}return n}(),t;n.AltaiMailingListUpdateComponent=i;t=function(){function t(n,t,i,r){this.mailingListManager=n;this.wmContainerFactory=t;this.exposedContentCollectionManager=i;this.contentAttributeService=r;var u=this;n.getById(this.mailingListId).then(function(n){u.mailingList=n});u.exposedContentCollectionManager.list().then(function(n){u.collections=n});u.contentAttributeService.list().then(function(n){u.attributes=n})}return t.prototype.$onInit=function(){var n=this;n.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.updateMailingList()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}},t.prototype.updateMailingList=function(){var t=this;t.mailingListManager.update(t.mailingList).then(function(){var i=t.wmContainerFactory.findWindow(n.MailingWindows.mailingListUpdate,t.mailingListId);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiMailing||(AltaiMailing={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Mailing:MailingListCreate";this.controller=t}return n}(),t;n.AltaiMailingListCreateComponent=i;t=function(){function t(n,t,i,r){this.mailingListManager=n;this.wmContainerFactory=t;this.exposedContentCollectionManager=i;this.contentAttributeService=r;var u=this;u.exposedContentCollectionManager.list().then(function(n){u.collections=n});u.contentAttributeService.list().then(function(n){u.attributes=n})}return t.prototype.$onInit=function(){var n=this;n.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.createNewMailingList()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}},t.prototype.createNewMailingList=function(){var t=this;t.mailingListManager.add(t.newMailingList).then(function(){var i=t.wmContainerFactory.findWindow(n.MailingWindows.mailingListCreate);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiMailing||(AltaiMailing={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Mailing:MailingListList";this.controller=t}return n}(),t;n.AltaiMailingListListComponent=i;t=function(){function t(n,t){this.mailingListManager=n;this.wmContainerFactory=t;var i=this;i.mailingListManager.list().then(function(n){i.mailingLists=n})}return t.prototype.manageLists=function(){this.wmContainerFactory.createWindow(n.MailingWindows.mailingListList,"MailingLists")},t.prototype.createList=function(){this.wmContainerFactory.createWindow(n.MailingWindows.mailingListCreate,"Create mailing list")},t.prototype.updateList=function(t){this.wmContainerFactory.createWindow(n.MailingWindows.mailingListUpdate,t.label,t.id)},t}()}(AltaiMailing||(AltaiMailing={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Mailing:CampaignCreate";this.controller=t}return n}(),t;n.AltaiMailingCampaignCreateComponent=i;t=function(){function t(n,t,i,r,u){this.$scope=n;this.mailingCampaignManager=t;this.mailingCampaignTypeManager=i;this.wmContainerFactory=r;this.contentItemService=u;this.newMailingCampaign={};var f=this;i.list().then(function(n){f.mailingCampaignTypes=angular.copy(n);f.mailingCampaignTypes.push({id:0,label:"Custom"})});n.$watch("$ctrl.selectedCampaignType",function(){f.selectedCampaignType&&f.contentItemService.listContentByType(f.selectedCampaignType.mailingCampaignTypeContentType[0].contentTypeId).then(function(n){f.contentItems=n})})}return t.prototype.$onInit=function(){var n=this;n.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.createNewCampaign()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}},t.prototype.createNewCampaign=function(){var t=this;t.selectedCampaignType&&0!=t.selectedCampaignType.id&&(t.newMailingCampaign.campaignType=0,t.newMailingCampaign.contentItemId=t.selectedContentItem.id,t.newMailingCampaign.templateId=t.selectedCampaignType.templateId,t.selectedCampaignType.mailingCampaignTypeDefaultAudience[0]&&(t.newMailingCampaign.mailingCampaignLists=[{mailingListId:t.selectedCampaignType.mailingCampaignTypeDefaultAudience[0].mailingListId}]),t.newMailingCampaign.labelTranslatable={translatableValues:[{languageCode:"nl",value:t.selectedContentItem.name},{languageCode:"fr",value:t.selectedContentItem.name}]});t.newMailingCampaign.campaignType=parseInt(t.newMailingCampaign.campaignType);t.mailingCampaignManager.add(t.newMailingCampaign).then(function(i){var r=t.wmContainerFactory.findWindow(n.MailingWindows.mailingCampaignCreate);t.wmContainerFactory.destroyWindow(r.id);t.wmContainerFactory.createWindow(n.MailingWindows.mailingCampaignUpdate,i.title,i.id)})},t}()}(AltaiMailing||(AltaiMailing={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Mailing:CampaignList";this.controller=t;this.bindings={contentItemId:"="}}return n}(),t;n.AltaiMailingCampaignListComponent=i;t=function(){function t(n,t,i,r){this.mailingCampaignManager=n;this.wmContainerFactory=t;this.altaiConfirmationService=i;var u=this;u.getData();r.$on("campaignStarted",function(){u.getData()})}return t.prototype.getData=function(){var n=this;n.mailingCampaignManager.list().then(function(t){n.mailingCampaigns=n.contentItemId?t.filter(function(t){return t.contentItemId==n.contentItemId}):t})},t.prototype.manageLists=function(){this.wmContainerFactory.createWindow(n.MailingWindows.mailingListList,"MailingLists")},t.prototype.deleteCampaign=function(n){var t=this;t.altaiConfirmationService.confirm().then(function(){t.mailingCampaignManager["delete"](n)})},t.prototype.createCampaign=function(){this.wmContainerFactory.createWindow(n.MailingWindows.mailingCampaignCreate,"Create mailing campaign")},t.prototype.updateCampaign=function(t){this.wmContainerFactory.createWindow(n.MailingWindows.mailingCampaignUpdate,t.label,t.id)},t}()}(AltaiMailing||(AltaiMailing={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Mailing:CampaignUpdate";this.controller=t;this.bindings={mailingCampaignId:"="}}return n}(),t;n.AltaiMailingCampaignUpdateComponent=i;t=function(){function t(n,t,i,r,u,f,e,o,s,h,c,l){this.$scope=n;this.$q=t;this.mailingCampaignManager=i;this.mailingListManager=r;this.wmContainerFactory=u;this.altaiConfirmationService=f;this.contentTypeService=e;this.contentItemService=o;this.$element=s;this.$compile=h;this.$timeout=c;this.$templateFactory=l;var a=this;n.$watch("$ctrl.selectedContentTypeId",function(){a.selectedContentTypeId&&a.contentTypeService.getById(a.selectedContentTypeId).then(function(n){a.selectedContentTemplateId=n.templateId;a.contentItemService.listContentByType(a.selectedContentTypeId).then(function(n){a.contentItems=n})})});l.listTemplateByTypeName("Content").then(function(n){a.contentTemplates=n});n.$watch("$ctrl.selectedContentItem",function(){a.updateContentItemHTML()});n.$watch("$ctrl.selectedContentTemplateId",function(){a.updateContentItemHTML()});a.contentTypeService.list().then(function(n){a.contentTypes=n;a.mailingCampaignManager.getById(a.mailingCampaignId).then(function(n){a.mailingCampaign=n;a.selectedContentTemplateId=n.templateId;a.mailingCampaign.contentItemId&&a.contentItemService.getById(a.mailingCampaign.contentItemId).then(function(n){a.selectedContentTypeId=n.contentTypeId;var t=a.$scope.$watch("$ctrl.contentItems",function(){a.contentItems&&(a.selectedContentItem=a.contentItems.filter(function(n){return n.id===a.mailingCampaign.contentItemId})[0],a.$timeout(function(){a.mailingCampaign.contentTranslatableId||a.renderHTML()}),t())},!0)});a.mailingListManager.list().then(function(n){var t,i;for(n=n.filter(function(n){return!n.system}),t=0;t<n.length;t++)i=n[t],i.ticked=0!==a.mailingCampaign.mailingCampaignLists.filter(function(n){return n.mailingListId==i.id||n.id==i.id}).length;a.mailingLists=n})})})}return t.prototype.updateContentItemHTML=function(){var n=this;n.selectedContentItem&&(n.selectedContentItem.id!=n.mailingCampaign.contentItemId||n.mailingCampaign.templateId!=n.selectedContentTemplateId)&&n.renderHTML()},t.prototype.renderHTML=function(){var n=this;n.mailingCampaign.contentItemId=n.selectedContentItem.id;n.currentlySelectedTemplateId=n.selectedContentTemplateId;n.mailingCampaign.templateId=n.currentlySelectedTemplateId;n.mailingCampaign.contentTranslatable||(n.mailingCampaign.contentTranslatable={},n.mailingCampaign.contentTranslatable.translatableValues=[]);n.mailingCampaignManager.generateHtmlForCampaign(n.mailingCampaign.contentItemId,n.mailingCampaign.templateId).then(function(t){n.mailingCampaign.contentTranslatable=t})},t.prototype.$onInit=function(){var n=this;n.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.updateCampaign()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}},t.prototype.sendMailing=function(){var n=this;n.altaiConfirmationService.confirm().then(function(){n.updateCampaign().then(function(){n.mailingCampaignManager.sendMailing(n.mailingCampaign).then(function(){n.mailingCampaign.sent=!0;n.closeUpdateWindow()})})})},t.prototype.closeUpdateWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.MailingWindows.mailingCampaignUpdate,t.mailingCampaignId);t.wmContainerFactory.destroyWindow(i.id)},t.prototype.updateCampaign=function(){var n=this,i=n.$q.defer(),t;return n.mailingCampaign.templateId=n.selectedContentTemplateId,t=angular.copy(n.mailingCampaign),t.mailingCampaignLists=t.mailingCampaignLists.map(function(t){return{mailingListId:t.id,mailingCampaignId:n.mailingCampaignId}}),n.mailingCampaignManager.update(t).then(function(n){i.resolve(n)}),i.promise},t}()}(AltaiMailing||(AltaiMailing={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Mailing:CampaignTypeCreate";this.controller=t}return n}(),t;n.AltaiMailingCampaignTypeCreateComponent=i;t=function(){function t(n,t,i,r,u){this.mailingListManager=n;this.wmContainerFactory=t;this.contentTypeService=i;this.$templateFactory=r;this.mailingCampaignTypeManager=u;var f=this;i.list().then(function(n){f.contentTypes=n});r.listTemplateByTypeName("Content").then(function(n){f.templates=n});f.mailingListManager.list().then(function(n){f.mailingLists=n})}return t.prototype.$onInit=function(){var n=this;n.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.createNewType()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}},t.prototype.closeWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.MailingWindows.mailingCampaignTypeCreate);t.wmContainerFactory.destroyWindow(i.id)},t.prototype.createNewType=function(){var n=this;n.newCampaignType.mailingCampaignTypeContentType=[{contentTypeId:n.selectedContentType.id}];n.newCampaignType.mailingCampaignTypeDefaultAudience=n.mailingLists.filter(function(n){return n.ticked}).map(function(n){return{mailingListId:n.id}});n.mailingCampaignTypeManager.add(n.newCampaignType).then(function(){n.closeWindow()})},t}()}(AltaiMailing||(AltaiMailing={}));!function(n){var i=function(){function n(){this.templateUrl="/api/template/Admin/Mailing:CampaignTypeUpdate";this.controller=t;this.bindings={campaignTypeId:"="}}return n}(),t;n.AltaiMailingCampaignTypeUpdateComponent=i;t=function(){function t(n,t,i,r,u){this.mailingListManager=n;this.wmContainerFactory=t;this.contentTypeService=i;this.$templateFactory=r;this.mailingCampaignTypeManager=u;var f=this;u.getById(f.campaignTypeId).then(function(n){f.campaignType=n;f.mailingListManager.list().then(function(n){f.mailingLists=angular.copy(n);f.mailingLists.map(function(n){return n.ticked=1===f.campaignType.mailingCampaignTypeDefaultAudience.filter(function(t){return t.mailingListId===n.id}).length,n})})});i.list().then(function(n){f.contentTypes=n});r.listTemplateByTypeName("Content").then(function(n){f.templates=n})}return t.prototype.$onInit=function(){var n=this;n.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.updateCampaignType()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!0,allowMultipleLanguages:!0}},t.prototype.closeWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.MailingWindows.mailingCampaignTypeUpdate);t.wmContainerFactory.destroyWindow(i.id)},t.prototype.updateCampaignType=function(){var n=this;n.campaignType.mailingCampaignTypeDefaultAudience=n.mailingLists.filter(function(n){return n.ticked}).map(function(n){return{mailingListId:n.id}});n.mailingCampaignTypeManager.update(n.campaignType).then(function(){n.closeWindow()})},t}()}(AltaiMailing||(AltaiMailing={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u,f,e,o,s,h,c){var l=n.call(this,"/api/mailingcampaign","MailingCampaign",i,t,r,u)||this;return l.contentItemService=f,l.languageFactory=e,l.$compile=o,l.$timeout=s,l.$rootScope=h,l.$sce=c,l}return __extends(t,n),t.prototype.sendMailing=function(n){var t=this,i=t.$q.defer(),r=t.dataList.filter(function(t){return t.id==n.id})[0];return r&&(r.sent=!0),t.altaiHttp.get(t.apiUrl+"/"+n.id+"/send").then(function(n){i.resolve(n)}),i.promise},t.prototype.generateHtmlForCampaign=function(n,t){var i=this,u=i.$q.defer(),r={translatableValues:[]};return i.languageFactory.listLanguage().then(function(f){i.contentItemService.getTemplateId(n).then(function(e){for(var s=[],o=0;o<f.length;o++)!function(u){var f=i.$q.defer();s.push(f.promise);t||(t=e);var c="<altai-content-item content-item-id='"+n+"' template-id='"+t+"' language-code='"+u+"'><\/altai-content-item>",o=i.$rootScope.$new(),l=i.$compile(c)(o),h={languageCode:u,value:""};r.translatableValues.push(h);o.$on("contentItemLoaded",function(){i.$timeout(function(){var n=document.implementation.createHTMLDocument(""),t=l[0].innerHTML;n.open();n.write(t);n.close();n.documentElement.setAttribute("xmlns","http://www.w3.org/1999/xhtml");n.documentElement.setAttribute("lang",u);n.documentElement.setAttribute("xml:lang",u);n.documentElement.setAttribute("style","background:#f3f3f3!important");n.documentElement.setAttribute("xmlns:v","urn:schemas-microsoft-com:vml");n.documentElement.setAttribute("xmlns:o","urn:schemas-microsoft-com:office:office");h.value=n.documentElement.outerHTML;f.resolve(r)},1e3)})}(f[o].code,e,o);i.$q.all(s).then(function(){u.resolve(r)})})}),u.promise},t}(AltaiCore.AltaiDataService);n.MailingCampaignManager=t}(AltaiMailing||(AltaiMailing={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"/api/mailinglist","MailingList",i,t,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.MailingListManager=t}(AltaiMailing||(AltaiMailing={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"/api/mailinglistsubscription","MailingListSubscription",i,t,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.MailingListSubscriptionManager=t}(AltaiMailing||(AltaiMailing={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u){return n.call(this,"/api/mailingcampaigntype","MailingCampaignType",i,t,r,u)||this}return __extends(t,n),t}(AltaiCore.AltaiDataService);n.MailingCampaignTypeManager=t}(AltaiMailing||(AltaiMailing={}));!function(n){var t=function(){function n(){}return n}();t.mailingCampaignList=new AltaiWindowManager.wmWindowType("mailingCampaignList","<altai-mailing-campaign-list><\/altai-mailing-campaign-list>",500,960,1600);t.mailingCampaignCreate=new AltaiWindowManager.wmWindowType("mailingCampaignCreate","<altai-mailing-campaign-create><\/altai-mailing-campaign-create>",500,600,800);t.mailingCampaignUpdate=new AltaiWindowManager.wmWindowType("mailingCampaignUpdate","<altai-mailing-campaign-update mailing-campaign-id='vm.window.entityId'><\/altai-mailing-campaign-update>",500,960,1600);t.mailingListList=new AltaiWindowManager.wmWindowType("mailingListList","<altai-mailing-list-list><\/altai-mailing-list-list>",500,960,1600);t.mailingListCreate=new AltaiWindowManager.wmWindowType("mailingListCreate","<altai-mailing-list-create><\/altai-mailing-list-create>",500,600,800);t.mailingListUpdate=new AltaiWindowManager.wmWindowType("mailingListUpdate","<altai-mailing-list-update mailing-list-id='vm.window.entityId'><\/altai-mailing-list-update>",500,600,800);t.mailingConfig=new AltaiWindowManager.wmWindowType("mailingConfig","<altai-mailing-config><\/altai-mailing-config>",500,600,800);t.mailingCampaignTypeCreate=new AltaiWindowManager.wmWindowType("mailingCampaignTypeCreate","<altai-mailing-campaign-type-create><\/altai-mailing-campaign-type-create>",500,600,800);t.mailingCampaignTypeUpdate=new AltaiWindowManager.wmWindowType("mailingCampaignTypeUpdate","<altai-mailing-campaign-type-update campaign-type-id='::vm.window.entityId'><\/altai-mailing-campaign-type-update>",500,600,800);n.MailingWindows=t;config.windows.push(t.mailingListCreate)}(AltaiMailing||(AltaiMailing={}));!function(n){function t(t){t.createWindow(n.MailingWindows.mailingCampaignList,"Campaigns")}n.AltaiMailingCampaignListController=t}(AltaiMailing||(AltaiMailing={}));!function(n){function t(t){t.createWindow(n.MailingWindows.mailingConfig,"Campaigns config")}n.AltaiMailingCampaignConfigController=t}(AltaiMailing||(AltaiMailing={}));!function(n){var t=angular.module("altai.mailing",[]);t.component("altaiMailingCampaignList",new n.AltaiMailingCampaignListComponent);t.component("altaiMailingCampaignCreate",new n.AltaiMailingCampaignCreateComponent);t.component("altaiMailingCampaignUpdate",new n.AltaiMailingCampaignUpdateComponent);t.component("altaiMailingListList",new n.AltaiMailingListListComponent);t.component("altaiMailingListCreate",new n.AltaiMailingListCreateComponent);t.component("altaiMailingListUpdate",new n.AltaiMailingListUpdateComponent);t.component("altaiMailingConfig",new n.AltaiMailingConfigComponent);t.component("altaiMailingCampaignTypeCreate",new n.AltaiMailingCampaignTypeCreateComponent);t.component("altaiMailingCampaignTypeUpdate",new n.AltaiMailingCampaignTypeUpdateComponent);t.service("mailingCampaignTypeManager",n.MailingCampaignTypeManager);t.service("mailingCampaignManager",n.MailingCampaignManager);t.service("mailingListManager",n.MailingListManager);t.service("mailingListSubscriptionManager",n.MailingListSubscriptionManager);t.config(function(t,i){t.add({name:"engagement.mailing",parent:"engagement",label:"mailings",state:"admin.mailing.campaigns",icon:"mdi mdi-contact-mail"});t.add({name:"config.mailing",parent:"config",securable:"config.eventcenter",label:"mailingconfig",state:"admin.mailing.config",icon:"mdi mdi-contact-mail"});i.state("admin.mailing",{abstract:!0,url:"/mailing"}).state("admin.mailing.campaigns",{url:"/campaigns",views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.AltaiMailingCampaignListController}}}).state("admin.mailing.config",{url:"/config",views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.AltaiMailingCampaignConfigController}}})});config.modules.push(t.name)}(AltaiMailing||(AltaiMailing={}));!function(n){function t(t,i){i.createWindow(n.TemplateWindows.templateList,"Theme editor filemanager","")}n.TemplateListController=t}(AltaiContentEditor||(AltaiContentEditor={}));!function(n){function t(n,t){n.hide=function(){t.hide()};n.cancel=function(){t.cancel()};n.answer=function(n){t.hide(n)};n.newSubfolder={};n.addNewSubfolder=function(n){t.hide({node:n})}}n.AddSubfolderDialogController=t}(AltaiContentEditor||(AltaiContentEditor={}));!function(n){function t(n,t,i,r,u){n.hide=function(){t.hide()};n.cancel=function(){t.cancel()};n.answer=function(n){t.hide(n)};n.existingFile=u;n.updateTemplateName=function(n){t.hide({file:n})}}n.UpdateTemplateNameController=t}(AltaiContentEditor||(AltaiContentEditor={}));!function(n){function i(){return{templateUrl:"/api/template/ContentEditor/TemplateList",controller:t,controllerAs:"vm",bindToController:!0,link:r}}n.TemplateListDirective=i;var r=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.applychanges()},"class":"altai-button-go",name:"applychanges",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),t=function(){function t(t,i,r){this.contentEditorService=i;this.wmContainerFactory=r;this.tree_options={};var u=this;t.templateSearch="";u.$scope=t;i.listContentTemplates().then(function(n){u.templateTypes=n;t.hierarchy=n});t.my_tree_handler=function(t){t.isTemplate&&r.createWindow(n.TemplateWindows.templateUpdate,t.label,t.id,{path:t.path,mode:t.mode})};t.filterTree=function(){t.searched_array=[];""==t.templateSearch?t.vm.templateTypes=t.hierarchy:t.returnsearch(t.hierarchy[0],t.templateSearch)};t.returnsearch=function(n,i){n.isTemplate&&-1!=n.label.indexOf(i)&&t.searched_array.push(n);0!=n.children.length?$.each(n.children,function(n,r){t.returnsearch(r,i)}):t.vm.templateTypes=t.searched_array}}return t.prototype.onSelect=function(t){t.isTemplate&&this.wmContainerFactory.createWindow(n.TemplateWindows.templateUpdate,t.label,t.id,{path:t.path})},t}();n.TemplateListDirectiveController=t}(AltaiContentEditor||(AltaiContentEditor={}));!function(n){function i(){return{scope:{templateId:"=",templatePath:"=",templateMode:"="},bindToController:!0,templateUrl:"/api/template/ContentEditor/TemplateUpdate",controller:t,controllerAs:"vm",link:r}}n.TemplateUpdateDirective=i;var r=function(){function n(n){n.vm.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.vm.updateTemplateData()},"class":"altai-button-go",name:"save",separator:!0},{icon:"mdi-close",action:function(){n.vm.closeWindow()},"class":"altai-button-back",name:"cancel",separator:!0},{icon:"mdi-format-align-left",action:function(){n.format()},"class":"altai-button-secondary",name:"Format Document",separator:!0},{icon:"mdi-format-indent-increase",action:function(){n.indent()},"class":"altai-button-secondary",name:"Indent",separator:!0},{icon:"mdi-format-indent-decrease",action:function(){n.outdent()},"class":"altai-button-secondary",name:"Outdent",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),t=function(){function t(n,t,i,r,u,f,e,o,s){this.aceOption={};var h=this;this.$scope=n;this.contentEditorService=u;this.altaiConfirmationService=o;this.wmContainerFactory=s;n.mode=h.templateMode;this.loadData(h.templatePath);this.$scope.htmlIndentSize=3;this.$scope.cssIndentSize=3;this.$scope.jsIndentSize=3}return t.prototype.updateTemplateData=function(){var t=this,i=new n.TemplateContentUpdateModel;i.Path=t.templatePath;i.Content=t.$scope.content;t.contentEditorService.UpdateContentFlowTaskType(i).then(function(){t.minimizeWindow();t.closeWindow()})},t.prototype.closeWindow=function(){var t=this,i=t.wmContainerFactory.findWindow(n.TemplateWindows.templateUpdate);t.wmContainerFactory.destroyWindow(i.id)},t.prototype.minimizeWindow=function(){this.wmContainerFactory.removeFocusOnWindow()},t.prototype.loadData=function(n){var t=this;t.contentEditorService.getTemplate(n).then(function(n){t.$scope.content=n.content;t.$scope.currentTheme=n.theme;t.$scope.aceOption={theme:t.$scope.currentTheme.toLowerCase(),mode:t.$scope.mode.toLowerCase(),opacity:65,useWrapMode:!0,showGutter:!0,splitMode:!1,themeCycle:!0,require:["ace/ext/language_tools"],advanced:{enableSnippets:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0},rendererOptions:{maxLinks:1/0},onLoad:function(){t.$scope.format=function(){var n;"css"==t.$scope.mode.toLowerCase()||"less"==t.$scope.mode.toLowerCase()?(n={wrap_line_length:3e3,indent_size:t.$scope.htmlIndentSize,indent_char:" ",indent_with_tab:!0},t.$scope.content=css_beautify(t.$scope.content,n)):"html"==t.$scope.mode.toLowerCase()?(n={wrap_line_length:3e3,indent_size:t.$scope.cssIndentSize,indent_char:" ",indent_with_tab:!0},t.$scope.content=html_beautify(t.$scope.content,n)):("js"==t.$scope.mode.toLowerCase()||"ts"==t.$scope.mode.toLowerCase())&&(n={wrap_line_length:3e3,indent_size:t.$scope.jsIndentSize,indent_char:" ",indent_with_tab:!0},t.$scope.content=js_beautify(t.$scope.content,n))};t.$scope.indent=function(){var n;"css"==t.$scope.mode.toLowerCase()||"less"==t.$scope.mode.toLowerCase()?(t.$scope.htmlIndentSize=t.$scope.htmlIndentSize+1,n={indent_size:t.$scope.htmlIndentSize,indent_char:" ",indent_with_tab:!0},t.$scope.content=css_beautify(t.$scope.content,n)):"html"==t.$scope.mode.toLowerCase()?(t.$scope.cssIndentSize=t.$scope.cssIndentSize+1,n={indent_size:t.$scope.cssIndentSize,indent_char:" ",indent_with_tab:!0},t.$scope.content=html_beautify(t.$scope.content,n)):("js"==t.$scope.mode.toLowerCase()||"ts"==t.$scope.mode.toLowerCase())&&(t.$scope.jsIndentSize=t.$scope.jsIndentSize+1,n={indent_size:t.$scope.jsIndentSize,indent_char:" ",indent_with_tab:!0},t.$scope.content=js_beautify(t.$scope.content,n))};t.$scope.outdent=function(){var n;"css"==t.$scope.mode.toLowerCase()||"less"==t.$scope.mode.toLowerCase()?(t.$scope.htmlIndentSize>3&&(t.$scope.htmlIndentSize=t.$scope.htmlIndentSize-1),n={indent_size:t.$scope.htmlIndentSize,indent_char:" ",indent_with_tab:!0},t.$scope.content=css_beautify(t.$scope.content,n)):"html"==t.$scope.mode.toLowerCase()?(t.$scope.cssIndentSize>3&&(t.$scope.cssIndentSize=t.$scope.cssIndentSize-1),n={indent_size:t.$scope.cssIndentSize,indent_char:" ",indent_with_tab:!0},t.$scope.content=html_beautify(t.$scope.content,n)):("js"==t.$scope.mode.toLowerCase()||"ts"==t.$scope.mode.toLowerCase())&&(t.$scope.jsIndentSize>3&&(t.$scope.jsIndentSize=t.$scope.jsIndentSize-1),n={indent_size:t.$scope.jsIndentSize,indent_char:" ",indent_with_tab:!0},t.$scope.content=js_beautify(t.$scope.content,n))}}}})},t}();n.TemplateUpdateDirectiveController=t}(AltaiContentEditor||(AltaiContentEditor={}));!function(n){function t(n){return{scope:{node:"=",count:"@",showchildren:"="},templateUrl:"/api/template/ContentEditor/NodeElement",controller:i,controllerAs:"vm",link:function(t,i){i.append(n("<div ng-if='node.children.length > 0 && node.showChildren' ng-repeat='childNode in node.children' class='node-indent'  node='childNode' showchildren='node.showChildren' ><\/div>'")(t))}}}n.NodeElementDirective=t;var i=function(){function t(t,i,r,u,f){var e,o;this.contentEditorService=u;this.wmContainerFactory=f;e=this;e.$scope=t;t.createSubfolder=function(r){var f=r;i.show({controller:n.AddSubfolderDialogController,templateUrl:"/api/template/ContentEditor/CreateSubfolderModal",parent:angular.element(document.body),targetEvent:event,clickOutsideToClose:!0}).then(function(n){"undefined"!=typeof n&&u.AddSubfolder(n,f).then(function(n){f.showChildren=!0;f.children.push(n)})},function(){t.status="You cancelled the dialog."})};t.updateTemplateName=function(r){var f=r;i.show({controller:n.UpdateTemplateNameController,templateUrl:"/api/template/ContentEditor/UpdateFileModal",parent:angular.element(document.body),targetEvent:event,clickOutsideToClose:!0,locals:{file:r}}).then(function(n){"undefined"!=typeof n&&u.UpdateFile(n.file).then(function(n){f.label=n.label;f.path=n.path})},function(){t.status="You cancelled the dialog."})};t.deleteSubfolder=function(n){u.DeleteSubfolder(n.path).then(function(){})};t.deleteFile=function(n){u.DeleteFile(n.path).then(function(){})};t.openMenu=function(n,t){o=t;n(t)};t.expandCollapse=function(i){i.isTemplate?f.createWindow(n.TemplateWindows.templateUpdate,i.label,i.id,{path:i.path,mode:i.mode}):t.node.showChildren=!t.node.showChildren};t.editNode=function(t){f.createWindow(n.TemplateWindows.templateUpdate,t.label,t.id,{path:t.path,mode:t.mode})}}return t}()}(AltaiContentEditor||(AltaiContentEditor={}));!function(n){var t=function(){function t(n,t){this.q=n;this.http=t;this.templates=[]}return t.prototype.listContentTemplates=function(){var n=this.q.defer(),t=this;return this.http.get("/api/contentEditor/",{cache:!1}).success(function(i){angular.copy(i,t.templates);n.resolve(t.templates)}),n.promise},t.prototype.getTemplate=function(t){var r=new n.TemplatePathModel,i,u;return r.path=t,i=this.q.defer(),u="/api/contentEditor/template",this.http.post(u,r).success(function(n){i.resolve(n)}),i.promise},t.prototype.UpdateContentFlowTaskType=function(n){var t=this.q.defer();return this.http.put("/api/contentEditor/",n).success(function(){t.resolve()}).error(function(){t.reject()}),t.promise},t.prototype.AddSubfolder=function(t,i){var r=this.q.defer(),u=new n.CreateSubfolderModel,f;return u.parentPath=i.path,u.folderName=t.node.label,f="/api/contentEditor/createSubfolder",this.http.post(f,u).success(function(n){r.resolve(n)}).error(function(){r.reject()}),r.promise},t.prototype.UpdateFile=function(t){var i=this.q.defer(),r=new n.UpdateFileNameModel,u;return r.path=t.path,r.name=t.label,u="/api/contentEditor/renameFile",this.http.post(u,r).success(function(n){i.resolve(n)}).error(function(){i.reject()}),i.promise},t.prototype.iterateTemplatesAndRemove=function(n,t){for(var i=0;i<n.length;i++)n[i].children.length>0&&(this.iterateTemplatesAndRemove(n[i].children,t),n[i].children.forEach(function(r,u){r.path===t&&n[i].children.splice(u,1)}))},t.prototype.DeleteSubfolder=function(t){var i=this.q.defer(),r=this,u=new n.DeleteDirectoryModel,f;return u.path=t,f="/api/contentEditor/deleteSubfolder",this.http.post(f,u).success(function(){r.iterateTemplatesAndRemove(r.templates,t);i.resolve(r.templates)}).error(function(){i.reject()}),i.promise},t.prototype.DeleteFile=function(t){var i=this.q.defer(),r=this,u=new n.DeleteDirectoryModel,f;return u.path=t,f="/api/contentEditor/deleteFile",this.http.post(f,u).success(function(){r.iterateTemplatesAndRemove(r.templates,t);i.resolve(r.templates)}).error(function(){i.reject()}),i.promise},t}();n.ContentEditorService=t}(AltaiContentEditor||(AltaiContentEditor={}));!function(n){var t=function(){function n(){}return n}();t.templateList=new AltaiWindowManager.wmWindowType("templateList","<template-list><\/template-list>",300,600,1600);t.templateUpdate=new AltaiWindowManager.wmWindowType("templateUpdate","<template-update template-id='vm.window.entityId' template-path='vm.window.entityProperties.path' template-mode='vm.window.entityProperties.mode'><\/template-update>",250,960,1600);n.TemplateWindows=t}(AltaiContentEditor||(AltaiContentEditor={}));!function(n){var t=function(){function n(){}return n}();n.TemplateContentUpdateModel=t}(AltaiContentEditor||(AltaiContentEditor={}));!function(n){var t=function(){function n(){}return n}();n.UpdateFileNameModel=t}(AltaiContentEditor||(AltaiContentEditor={}));!function(n){var t=function(){function n(){}return n}();n.TemplateItem=t}(AltaiContentEditor||(AltaiContentEditor={}));!function(n){var t=function(){function n(){}return n}();n.TemplatePathModel=t}(AltaiContentEditor||(AltaiContentEditor={}));!function(n){var t=function(){function n(){}return n}();n.CreateSubfolderModel=t}(AltaiContentEditor||(AltaiContentEditor={}));!function(n){var t=function(){function n(){}return n}();n.DeleteDirectoryModel=t}(AltaiContentEditor||(AltaiContentEditor={}));!function(n){var t=angular.module("altai.contenteditor",["ui.ace"]);t.directive("templateList",n.TemplateListDirective);t.directive("templateUpdate",n.TemplateUpdateDirective);t.directive("nodeElement",n.NodeElementDirective);t.service("contentEditorService",n.ContentEditorService);t.config(function(t){t.state("admin.template",{url:"/template",abstract:!0}).state("admin.template.type",{url:"/type",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"admin",controller:n.TemplateListController}}})});config.modules.push(t.name)}(AltaiContentEditor||(AltaiContentEditor={}));!function(n){function t(t){t.createWindow(n.ImageStyleSetWindows.ImageStyleSetList,"Image Style Sets")}n.ImageStyleSetListController=t}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(){return{scope:{imageStyleActionId:"="},templateUrl:"/api/template/Admin/ImageStyleSets:imageStyleActionBlurPartial",controller:r,link:i,controllerAs:"$ctrl",bindToController:!0}}n.ImageStyleActionBlurDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.save()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t){this.imageStyleSetService=n;this.wmContainerFactory=t;var i=this;i.getData()}return t.prototype.getData=function(){var n=this;n.imageStyleSetService.getImageStyleAction("Blur",n.imageStyleActionId).then(function(t){n.imageStyleAction=t})},t.prototype.save=function(){var t=this,i={id:t.imageStyleActionId,name:t.imageStyleAction.name,order:t.imageStyleAction.order,blurRadius:t.imageStyleAction.blurRadius,sigma:t.imageStyleAction.sigma};t.imageStyleSetService.updateImageStyleAction(i).then(function(){var i=t.wmContainerFactory.findWindow(n.ImageStyleSetWindows.ImageStyleActionBlurProfile);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(){return{scope:{imageStyleActionId:"="},templateUrl:"/api/template/Admin/ImageStyleSets:imageStyleActionBorderPartial",controller:r,link:i,controllerAs:"$ctrl",bindToController:!0}}n.ImageStyleActionBorderDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.save()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t){this.imageStyleSetService=n;this.wmContainerFactory=t;var i=this;i.getData()}return t.prototype.getData=function(){var n=this;n.imageStyleSetService.getImageStyleAction("Border",n.imageStyleActionId).then(function(t){n.imageStyleAction=t})},t.prototype.save=function(){var t=this,i={id:t.imageStyleActionId,name:t.imageStyleAction.name,order:t.imageStyleAction.order,color:t.imageStyleAction.color,size:t.imageStyleAction.size};t.imageStyleSetService.updateImageStyleAction(i).then(function(){var i=t.wmContainerFactory.findWindow(n.ImageStyleSetWindows.ImageStyleActionBorderProfile);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(){return{scope:{imageStyleActionId:"="},templateUrl:"/api/template/Admin/ImageStyleSets:imageStyleActionChangeFileFormatPartial",controller:r,link:i,controllerAs:"$ctrl",bindToController:!0}}n.ImageStyleActionChangeFileFormatDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.save()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t){this.imageStyleSetService=n;this.wmContainerFactory=t;this.fileFormatList=[{value:"Png",text:"Png"},{value:"Jpg",text:"Jpg"},{value:"Gif",text:"Gif"}];var i=this;i.getData()}return t.prototype.getData=function(){var n=this;n.imageStyleSetService.getImageStyleAction("ChangeFileFormat",n.imageStyleActionId).then(function(t){n.imageStyleAction=t})},t.prototype.save=function(){var t=this,i={id:t.imageStyleActionId,name:t.imageStyleAction.name,order:t.imageStyleAction.order,formatTo:t.imageStyleAction.formatTo,quality:t.imageStyleAction.quality};t.imageStyleSetService.updateImageStyleAction(i).then(function(){var i=t.wmContainerFactory.findWindow(n.ImageStyleSetWindows.ImageStyleActionChangeFileFormatProfile);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(){return{scope:{imageStyleActionId:"="},templateUrl:"/api/template/Admin/ImageStyleSets:imageStyleActionGrayScalePartial",controller:r,link:i,controllerAs:"$ctrl",bindToController:!0}}n.ImageStyleActionGrayScaleDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.save()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t){this.imageStyleSetService=n;this.wmContainerFactory=t;var i=this;i.getData()}return t.prototype.getData=function(){var n=this;n.imageStyleSetService.getImageStyleAction("GrayScale",n.imageStyleActionId).then(function(t){n.imageStyleAction=t})},t.prototype.save=function(){var t=this,i={id:t.imageStyleActionId,name:t.imageStyleAction.name,order:t.imageStyleAction.order};t.imageStyleSetService.updateImageStyleAction(i).then(function(){var i=t.wmContainerFactory.findWindow(n.ImageStyleSetWindows.ImageStyleActionGrayScaleProfile);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(){return{scope:{imageStyleActionId:"="},templateUrl:"/api/template/Admin/ImageStyleSets:imageStyleActionPolaroidPartial",controller:r,link:i,controllerAs:"$ctrl",bindToController:!0}}n.ImageStyleActionPolaroidDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.save()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t){this.imageStyleSetService=n;this.wmContainerFactory=t;var i=this;i.getData()}return t.prototype.getData=function(){var n=this;n.imageStyleSetService.getImageStyleAction("Polaroid",n.imageStyleActionId).then(function(t){n.imageStyleAction=t})},t.prototype.save=function(){var t=this,i={id:t.imageStyleActionId,name:t.imageStyleAction.name,order:t.imageStyleAction.order,caption:t.imageStyleAction.caption,angle:t.imageStyleAction.angle};t.imageStyleSetService.updateImageStyleAction(i).then(function(){var i=t.wmContainerFactory.findWindow(n.ImageStyleSetWindows.ImageStyleActionPolaroidProfile);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(){return{scope:{imageStyleActionId:"="},templateUrl:"/api/template/Admin/ImageStyleSets:imageStyleActionRoundedCornersPartial",controller:r,link:i,controllerAs:"$ctrl",bindToController:!0}}n.ImageStyleActionRoundedCornersDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.save()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t){this.imageStyleSetService=n;this.wmContainerFactory=t;var i=this;i.getData()}return t.prototype.getData=function(){var n=this;n.imageStyleSetService.getImageStyleAction("RoundedCorners",n.imageStyleActionId).then(function(t){n.imageStyleAction=t})},t.prototype.save=function(){var t=this,i={id:t.imageStyleActionId,name:t.imageStyleAction.name,order:t.imageStyleAction.order,radius:t.imageStyleAction.radius};t.imageStyleSetService.updateImageStyleAction(i).then(function(){var i=t.wmContainerFactory.findWindow(n.ImageStyleSetWindows.ImageStyleActionRoundedCornersProfile);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(){return{scope:{imageStyleActionId:"="},templateUrl:"/api/template/Admin/ImageStyleSets:imageStyleActionScaleAndCirclePartial",controller:r,link:i,controllerAs:"$ctrl",bindToController:!0}}n.ImageStyleActionScaleAndCircleDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.save()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t){this.imageStyleSetService=n;this.wmContainerFactory=t;var i=this;i.getData()}return t.prototype.getData=function(){var n=this;n.imageStyleSetService.getImageStyleAction("ScaleAndCircle",n.imageStyleActionId).then(function(t){n.imageStyleAction=t})},t.prototype.save=function(){var t=this,i={id:t.imageStyleActionId,name:t.imageStyleAction.name,order:t.imageStyleAction.order,radius:t.imageStyleAction.radius};t.imageStyleSetService.updateImageStyleAction(i).then(function(){var i=t.wmContainerFactory.findWindow(n.ImageStyleSetWindows.ImageStyleActionScaleAndCircleProfile);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(){return{scope:{imageStyleActionId:"="},templateUrl:"/api/template/Admin/ImageStyleSets:imageStyleActionScaleAndCropPartial",controller:r,link:i,controllerAs:"$ctrl",bindToController:!0}}n.ImageStyleActionScaleAndCropDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.save()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t){this.imageStyleSetService=n;this.wmContainerFactory=t;var i=this;i.getData()}return t.prototype.getData=function(){var n=this;n.imageStyleSetService.getImageStyleAction("ScaleAndCrop",n.imageStyleActionId).then(function(t){n.imageStyleAction=t})},t.prototype.save=function(){var t=this,i={id:t.imageStyleActionId,name:t.imageStyleAction.name,order:t.imageStyleAction.order,width:t.imageStyleAction.width,height:t.imageStyleAction.height};t.imageStyleSetService.updateImageStyleAction(i).then(function(){var i=t.wmContainerFactory.findWindow(n.ImageStyleSetWindows.ImageStyleActionScaleAndCropProfile);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(){return{scope:{imageStyleActionId:"="},templateUrl:"/api/template/Admin/ImageStyleSets:imageStyleActionScaleWithinBoundsPartial",controller:r,link:i,controllerAs:"$ctrl",bindToController:!0}}n.ImageStyleActionScaleWithinBoundsDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.save()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t){this.imageStyleSetService=n;this.wmContainerFactory=t;var i=this;i.getData()}return t.prototype.getData=function(){var n=this;n.imageStyleSetService.getImageStyleAction("ScaleWithinBounds",n.imageStyleActionId).then(function(t){n.imageStyleAction=t})},t.prototype.save=function(){var t=this,i={id:t.imageStyleActionId,name:t.imageStyleAction.name,order:t.imageStyleAction.order,width:t.imageStyleAction.width,height:t.imageStyleAction.height};t.imageStyleSetService.updateImageStyleAction(i).then(function(){var i=t.wmContainerFactory.findWindow(n.ImageStyleSetWindows.ImageStyleActionScaleWithinBoundsProfile);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(){return{scope:{imageStyleActionId:"="},templateUrl:"/api/template/Admin/ImageStyleSets:imageStyleActionVergePartial",controller:r,link:i,controllerAs:"$ctrl",bindToController:!0}}n.ImageStyleActionVergeDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.save()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t){this.imageStyleSetService=n;this.wmContainerFactory=t;var i=this;i.getData()}return t.prototype.getData=function(){var n=this;n.imageStyleSetService.getImageStyleAction("Verge",n.imageStyleActionId).then(function(t){n.imageStyleAction=t})},t.prototype.save=function(){var t=this,i={id:t.imageStyleActionId,name:t.imageStyleAction.name,order:t.imageStyleAction.order,firstColor:t.imageStyleAction.firstColor,secondColor:t.imageStyleAction.secondColor,transparency:t.imageStyleAction.transparency};t.imageStyleSetService.updateImageStyleAction(i).then(function(){var i=t.wmContainerFactory.findWindow(n.ImageStyleSetWindows.ImageStyleActionVergeProfile);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(){return{scope:{imageStyleActionId:"="},templateUrl:"/api/template/Admin/ImageStyleSets:imageStyleActionVignettePartial",controller:r,link:i,controllerAs:"$ctrl",bindToController:!0}}n.ImageStyleActionVignetteDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.save()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t){this.imageStyleSetService=n;this.wmContainerFactory=t;var i=this;i.getData()}return t.prototype.getData=function(){var n=this;n.imageStyleSetService.getImageStyleAction("Vignette",n.imageStyleActionId).then(function(t){n.imageStyleAction=t})},t.prototype.save=function(){var t=this,i={id:t.imageStyleActionId,name:t.imageStyleAction.name,order:t.imageStyleAction.order,color:t.imageStyleAction.color,transparency:t.imageStyleAction.transparency};t.imageStyleSetService.updateImageStyleAction(i).then(function(){var i=t.wmContainerFactory.findWindow(n.ImageStyleSetWindows.ImageStyleActionVignetteProfile);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(){return{scope:{imageStyleSetId:"="},templateUrl:"/api/template/Admin/ImageStyleSets:imageStyleCreate",controller:r,link:i,controllerAs:"$ctrl",bindToController:!0}}n.ImageStyleCreateDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.save()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t){this.imageStyleSetService=n;this.wmContainerFactory=t;this.orientationList=[{value:"all",text:"all"},{value:"portrait",text:"portrait"},{value:"landscape",text:"landscape"}];this.retinaList=[{value:"all",text:"all"},{value:"retina",text:"retina"},{value:"non-retina",text:"non-retina"}];this.imageStyleActionTypeList=[{value:"border",text:"border"},{value:"changefileformat",text:"changefileformat"},{value:"grayscale",text:"grayscale"},{value:"polaroid",text:"polaroid"},{value:"roundedcorners",text:"roundedcorners"},{value:"scaleandcrop",text:"scaleandcrop"},{value:"scaleandcircle",text:"scaleandcircle"},{value:"verge",text:"verge"},{value:"vignette",text:"vignette"}]}return t.prototype.save=function(){var t=this,i={name:t.name,minWidth:t.minWidth,retina:t.retina,orientation:t.orientation,imageStyleSetId:t.imageStyleSetId};t.imageStyleSetService.createImageStyle(i).then(function(){var i=t.wmContainerFactory.findWindow(n.ImageStyleSetWindows.ImageStyleCreate);t.wmContainerFactory.destroyWindow(i.id)})},t}()}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(){return{scope:{imageStyleId:"="},templateUrl:"/api/template/Admin/ImageStyleSets:imageStyleUpdate",controller:r,link:i,controllerAs:"$ctrl",bindToController:!0}}n.ImageStyleUpdateDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.updateImageStyle()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t,i){this.imageStyleSetService=n;this.$templateCache=t;this.wmContainerFactory=i;this.predicateimagestyleaction="order";this.reverseimagestyleaction=!1;this.orientationList=[{value:"all",text:"all"},{value:"portrait",text:"portrait"},{value:"landscape",text:"landscape"}];this.retinaList=[{value:"all",text:"all"},{value:"retina",text:"retina"},{value:"non-retina",text:"non-retina"}];this.imageStyleActionTypeList=[{value:"blur",text:"blur"},{value:"border",text:"border"},{value:"changefileformat",text:"changefileformat"},{value:"grayscale",text:"grayscale"},{value:"polaroid",text:"polaroid"},{value:"roundedcorners",text:"roundedcorners"},{value:"scaleandcrop",text:"scaleandcrop"},{value:"scalewithinbounds",text:"scalewithinbounds"},{value:"scaleandcircle",text:"scaleandcircle"},{value:"verge",text:"verge"},{value:"vignette",text:"vignette"}];this.addImageStyleAction=function(){var n=this;n.imageStyleSetService.addImageStyleAction(n.selectedImageStyleActionType,n.imageStyle).then(function(){n.getData()},function(){})};this.cloneImageStyleAction=function(n){var t=this;t.imageStyleSetService.cloneImageStyleAction(n).then(function(n){t.loadSelectedAction(n)},function(){})};this.sortableOptions={update:function(){},stop:function(){for(var t=this,n=0;n<t.imageStyle.imageStyleActions.length;n++)t.imageStyle.imageStyleActions[n].order=n+1,t.imageStyleSetService.updateImageStyleAction(t.imageStyle.imageStyleActions[n]).then(function(){})}};var r=this;r.getData()}return t.prototype.getData=function(){var n=this;n.imageStyleSetService.getImageStyle(n.imageStyleId).then(function(t){n.imageStyle=t;n.imageStyleActions=n.imageStyle.imageStyleActions})},t.prototype.updateImageStyle=function(){var n=this;n.imageStyleSetService.updateImageStyle(n.imageStyle).then(function(){})},t.prototype.removeImageStyle=function(){},t.prototype.openImageStyleAction=function(t){var i="ImageStyleAction"+t.name+"Profile";this.wmContainerFactory.createWindow(n.ImageStyleSetWindows[i],t.name,t.id)},t.prototype.removeImageStyleAction=function(n){var t=this;t.imageStyleSetService.deleteImageStyleAction(n).then(function(){t.getData()},function(){})},t}()}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(n){return{scope:{imageStyleSet:"@imagestyleset",image:"="},template:"<img ng-src='{{imageFile}}'/>",replace:!0,link:function(t){t.$watch("image",function(){var r,i;void 0!=t.image&&(r=t.image,r=r.split("/"),i=r[r.length-1],i.substr(0,i.lastIndexOf(".")),i.substr(i.lastIndexOf(".")+1,i.length),t.imageFile=n.getImageUrlDirect(t.imageStyleSet,t.image))})}}}n.ImageStyleSetDirective=t}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(n,t,i){return{scope:{imageStyleSet:"@imagestyleset",image:"="},link:function(t,r){t.$watch("image",function(){var i,u;t.image&&(i=t.image,i=i.split("/"),i=i[i.length-1].split("."),u=(i[i.length-2],i[i.length-1],n.getImageUrlDirect(t.imageStyleSet,t.image)),r.attr("style","background-image:url("+u+")"))});i.$on("activeimagestylesetupdated",function(){var i,u;t.image&&(i=t.image,i=i.split("/"),i=i[i.length-1].split("."),u=(i[i.length-2],i[i.length-1],n.getImageUrlDirect(t.imageStyleSet,t.image)),r.attr("style","background-image:url("+u+")"))})}}}n.ImageStyleSetBackgroundDirective=t}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/ImageStyleSets:imageStyleSetList",controller:i,controllerAs:"$ctrl"}}n.AltaiImageStyleSetListDirective=t;var i=function(){function t(n,t){this.imageStyleSetService=n;this.wmContainerFactory=t;this.predicateimagestyleset="name";this.reverseimagestyleset=!1;this.predicateimagestyle="minWidth";this.reverseimagestyle=!1;this.lastInsert="";var i=this;i.getData()}return t.prototype.getData=function(){var n=this;n.imageStyleSetService.listImageStyleSet().then(function(t){var i,r;for(n.imageStyleSetList=t,i=0;i<n.imageStyleSetList.length;i++)for(angular.extend(t[i],{showDetails:!1}),r=0;r<n.imageStyleSetList[i].imageStyles.length;r++)angular.extend(t[i].imageStyles[r],{showDetails:!1})})},t.prototype.recycleEntireImageCache=function(){var n=this;n.imageStyleSetService.recycleEntireImageCache().then(function(){},function(){})},t.prototype.recycleImageCache=function(n){var t=this;t.imageStyleSetService.recycleImageCache(n).then(function(){},function(){})},t.prototype.clearAllImageStyleSets=function(){var n=this;n.imageStyleSetService.clearAllImageStyleSets().then(function(){},function(){})},t.prototype.clearSingleImageStyleSet=function(n){var t=this;t.imageStyleSetService.clearOneImageStyleSet(n).then(function(){},function(){})},t.prototype.removeImageStyleSet=function(n){var t=this;t.imageStyleSetService.deleteImageStyleSet(n).then(function(){t.getData()},function(){})},t.prototype.updateImageStyleSet=function(n,t){var i=this;angular.extend(n,{id:t});i.imageStyleSetService.updateImageStyleSet(n).then(function(){})},t.prototype.openImageStyleSet=function(t){this.wmContainerFactory.createWindow(n.ImageStyleSetWindows.ImageStyleSetUpdate,t.name,t.id)},t.prototype.addImageStyleSet=function(){this.wmContainerFactory.createWindow(n.ImageStyleSetWindows.ImageStyleSetCreate,void 0,void 0)},t.prototype.addImageStyle=function(n){var t=this;t.inserted={imageStyleSetId:n,name:"",minWidth:"",retina:"",orientation:""};t.imageStyleSetService.createImageStyle(t.inserted).then(function(n){t.lastInsertedImageStyleSet=n})},t}()}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(){return{templateUrl:"/api/template/Admin/ImageStyleSets:imageStyleSetCreate",controller:r,link:i,controllerAs:"$ctrl",bindToController:!0}}n.AltaiImageStyleSetCreateDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.save()},"class":"altai-button-go",name:"save",separator:!0}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t){this.imageStyleSetService=n;this.wmContainerFactory=t}return t.prototype.save=function(){var t=this,i={name:t.name};t.imageStyleSetService.createImageStyleSet(i).then(function(){var i=t.wmContainerFactory.findWindow(n.ImageStyleSetWindows.ImageStyleSetCreate);t.wmContainerFactory.destroyWindow(i.id)},function(){})},t}()}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){function t(){return{scope:{imageStyleSetId:"="},templateUrl:"/api/template/Admin/ImageStyleSets:imageStyleSetUpdate",controller:r,link:i,controllerAs:"$ctrl",bindToController:!0}}n.AltaiImageStyleSetUpdateDirective=t;var i=function(){function n(n){n.$ctrl.toolbar={menuGroups:[{menuItems:[{icon:"mdi-content-save",action:function(){n.$ctrl.updateImageStyleSet()},"class":"altai-button-go",name:"save",separator:!1},{icon:"mdi-flask-outline",action:function(){n.$ctrl.recycleImageCache()},"class":"altai-button-primary",name:"recycle",separator:!1}],align:"left"}],showLanguages:!1,allowMultipleLanguages:!1}}return n}(),r=function(){function t(n,t){this.imageStyleSetService=n;this.wmContainerFactory=t;var i=this;i.getData()}return t.prototype.getData=function(){var n=this;n.imageStyleSetService.getImageStyleSet(n.imageStyleSetId).then(function(t){n.imageStyleSet=t})},t.prototype.recycleImageCache=function(){var n=this;n.imageStyleSetService.recycleImageCache(n.imageStyleSetId).then(function(){},function(){})},t.prototype.deleteImageStyle=function(n){var t=this;t.imageStyleSetService.deleteImageStyle(n).then(function(){t.getData()},function(){})},t.prototype.openImageStyle=function(t){this.wmContainerFactory.createWindow(n.ImageStyleSetWindows.ImageStyleUpdate,t.name,t.id)},t.prototype.updateImageStyleSet=function(){var n=this;n.imageStyleSetService.updateImageStyleSet(n.imageStyleSet).then(function(){})},t.prototype.addImageStyle=function(){var t=this;t.wmContainerFactory.createWindow(n.ImageStyleSetWindows.ImageStyleCreate,void 0,t.imageStyleSetId)},t}()}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){var t=function(){function n(){}return n}();t.ImageStyleSetList=new AltaiWindowManager.wmWindowType("imageStyleSetList","<altai-image-style-set-list><\/altai-image-style-set-list>",500,700,1600);t.ImageStyleSetCreate=new AltaiWindowManager.wmWindowType("imageStyleSetCreate","<altai-image-style-set-create><\/altai-image-style-set-create>",500,700,1600);t.ImageStyleSetUpdate=new AltaiWindowManager.wmWindowType("imageStyleSetUpdate","<altai-image-style-set-update image-style-set-id='vm.window.entityId'><\/altai-image-style-set-update>",500,700,1600);t.ImageStyleCreate=new AltaiWindowManager.wmWindowType("imageStyleCreate","<altai-image-style-create image-style-set-id='vm.window.entityId'><\/altai-image-style-update>",500,700,1600);t.ImageStyleUpdate=new AltaiWindowManager.wmWindowType("imageStyleUpdate","<altai-image-style-update image-style-id='vm.window.entityId'><\/altai-image-style-update>",500,700,1600);t.ImageStyleActionBorderProfile=new AltaiWindowManager.wmWindowType("imageStyleActionBorderProfile","<altai-image-style-action-border image-style-action-id='vm.window.entityId'><\/altai-image-style-action-border>",500,700,1600);t.ImageStyleActionChangeFileFormatProfile=new AltaiWindowManager.wmWindowType("imageStyleActionChangeFileFormatProfile","<altai-image-style-action-change-file-format image-style-action-id='vm.window.entityId'><\/altai-image-style-action-change-file-format>",500,700,1600);t.ImageStyleActionGrayScaleProfile=new AltaiWindowManager.wmWindowType("imageStyleActionGrayScaleProfile","<altai-image-style-action-gray-scale image-style-action-id='vm.window.entityId'><\/altai-image-style-action-gray-scale>",500,700,1600);t.ImageStyleActionPolaroidProfile=new AltaiWindowManager.wmWindowType("imageStyleActionPolaroidProfile","<altai-image-style-action-polaroid image-style-action-id='vm.window.entityId'><\/altai-image-style-action-polaroid>",500,700,1600);t.ImageStyleActionRoundedCornersProfile=new AltaiWindowManager.wmWindowType("imageStyleActionRoundedCornersProfile","<altai-image-style-action-rounded-corners image-style-action-id='vm.window.entityId'><\/altai-image-style-action-rounded-corners>",500,700,1600);t.ImageStyleActionScaleAndCircleProfile=new AltaiWindowManager.wmWindowType("imageStyleActionScaleAndCircleProfile","<altai-image-style-action-scale-and-circle image-style-action-id='vm.window.entityId'><\/altai-image-style-action-scale-and-circle>",500,700,1600);t.ImageStyleActionScaleAndCropProfile=new AltaiWindowManager.wmWindowType("imageStyleActionScaleAndCropProfile","<altai-image-style-action-scale-and-crop image-style-action-id='vm.window.entityId'><\/altai-image-style-action-scale-and-crop>",500,700,1600);t.ImageStyleActionScaleWithinBoundsProfile=new AltaiWindowManager.wmWindowType("imageStyleActionScaleWithinBoundsProfile","<altai-image-style-action-scale-within-bounds image-style-action-id='vm.window.entityId'><\/altai-image-style-action-scale-within-bounds>",500,700,1600);t.ImageStyleActionVergeProfile=new AltaiWindowManager.wmWindowType("imageStyleActionVergeProfile","<altai-image-style-action-verge image-style-action-id='vm.window.entityId'><\/altai-image-style-action-verge>",500,700,1600);t.ImageStyleActionVignetteProfile=new AltaiWindowManager.wmWindowType("imageStyleActionVignetteProfile","<altai-image-style-action-vignette image-style-action-id='vm.window.entityId'><\/altai-image-style-action-vignette>",500,700,1600);t.ImageStyleActionBlurProfile=new AltaiWindowManager.wmWindowType("imageStyleActionBlurProfile","<altai-image-style-action-blur image-style-action-id='vm.window.entityId'><\/altai-image-style-action-blur>",500,700,1600);n.ImageStyleSetWindows=t}(AltaiImageStyleSets||(AltaiImageStyleSets={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u,f){var e=n.call(this,"api/imagestyleset","Image Style Set",r,t,u,f)||this;return e.$rootScope=i,e.altaiNotificationFactory=f,e.imageStyleList=[],e.imageStyleSetList=[],e.imageStyleActionList=[],e}return __extends(t,n),t.prototype.listImageStyle=function(){var n=this,t=n.$q.defer();return n.$http.get("/api/imagestyle").then(function(i){angular.copy(i.data,n.imageStyleList);t.resolve(n.imageStyleList)},function(){n.altaiNotificationFactory.error("Could not load the imagestyle list");t.reject()}),t.promise},t.prototype.getImageStyle=function(n){var t=this,i=t.$q.defer();return t.$http.get("/api/imagestyle/"+n).then(function(n){i.resolve(n.data)},function(){t.altaiNotificationFactory.error("Could not load the imagestyle list");i.reject()}),i.promise},t.prototype.readImageStyle=function(n){var t=this,i=t.$q.defer(),r,u;return 0!=t.imageStyleList.length?(r=t.imageStyleList.filter(function(t){return t.id==n}),u=t.imageStyleList.indexOf(r[0]),i.resolve(t.imageStyleList[u])):t.listImageStyle().then(function(){var r=t.imageStyleList.filter(function(t){return t.id==n}),u=t.imageStyleList.indexOf(r[0]);i.resolve(t.imageStyleList[u])},function(){i.reject()}),i.promise},t.prototype.updateImageStyle=function(n){var t=this,i=t.$q.defer(),r={Id:n.id,Name:n.name,Orientation:n.orientation,MinWidth:n.minWidth,Retina:n.retina};return t.$http.put("/api/imagestyle",r).then(function(n){t.altaiNotificationFactory.success("Successfully updated the image style");i.resolve(n.data)},function(){t.altaiNotificationFactory.error("Could not update the image style");i.reject()}),i.promise},t.prototype.createImageStyle=function(n){var t=this,i=t.$q.defer();return t.$http({method:"POST",url:"/api/imagestyle",data:n}).then(function(n){i.resolve(n.data)},function(n){t.altaiNotificationFactory.error(n.data.message);i.reject()}),i.promise},t.prototype.deleteImageStyle=function(n){var t=this,i=t.$q.defer();return t.$http({method:"DELETE",url:"/api/imagestyle/"+n}).then(function(n){i.resolve(n.data)},function(){t.altaiNotificationFactory.error("Could not delete the image style");i.reject()}),i.promise},t.prototype.listImageStyleSet=function(){var n=this,t=n.$q.defer();return n.$http.get("/api/listimagestyleset").then(function(i){angular.copy(i.data,n.imageStyleSetList);t.resolve(n.imageStyleSetList)},function(){n.altaiNotificationFactory.error("Could not get the image style set list");t.reject()}),t.promise},t.prototype.getImageStyleSet=function(n){var t=this,i=t.$q.defer();return t.$http.get("/api/imagestyleset/"+n).then(function(n){i.resolve(n.data)},function(){t.altaiNotificationFactory.error("Could not load the imagestyleset");i.reject()}),i.promise},t.prototype.readImageStyleSet=function(n){var t=this,i=t.$q.defer(),r,u;return 0!=t.imageStyleSetList.length?(r=t.imageStyleSetList.filter(function(t){return t.id==n}),u=t.imageStyleSetList.indexOf(r[0]),i.resolve(t.imageStyleSetList[u])):t.listImageStyleSet().then(function(){var r=t.imageStyleSetList.filter(function(t){return t.id==n}),u=t.imageStyleSetList.indexOf(r[0]);i.resolve(t.imageStyleSetList[u])},function(){i.reject()}),i.promise},t.prototype.updateImageStyleSet=function(n){var t=this,i=t.$q.defer(),r={Id:n.id,Name:n.name};return t.$http({method:"PUT",url:"/api/imagestyleset",data:r}).then(function(n){t.altaiNotificationFactory.success("Sucessfully updated the image style set");i.resolve(n.data)},function(){t.altaiNotificationFactory.error("Could not update the image style set");i.reject()}),i.promise},t.prototype.createImageStyleSet=function(n){var t=this,i=t.$q.defer();return t.$http({method:"POST",url:"/api/imagestyleset",data:n}).then(function(n){t.imageStyleSetList.push(n.data);i.resolve(n.data)},function(){t.altaiNotificationFactory.error("Could not create the new Image Style Set");i.reject()}),i.promise},t.prototype.deleteImageStyleSet=function(n){var t=this,i=t.$q.defer();return t.$http({method:"DELETE",url:"/api/imagestyleset/"+n}).then(function(n){i.resolve(n.data)},function(){t.altaiNotificationFactory.error("Could not delete the image style");i.reject()}),i.promise},t.prototype.recycleEntireImageCache=function(){var n=this,t=n.$q.defer();return n.$http.get("/api/rebuildallimages").then(function(){t.resolve()},function(){n.altaiNotificationFactory.error("Could not reload the image cache");t.reject()}),t.promise},t.prototype.clearAllImageStyleSets=function(){var n=this,t=n.$q.defer();return n.$http.get("/api/clearallimagestylesets").then(function(){t.resolve()},function(){n.altaiNotificationFactory.error("Could not clear all image style sets");t.reject()}),t.promise},t.prototype.clearOneImageStyleSet=function(n){var t=this,i=t.$q.defer();return t.$http.get("api/clearoneimagestylesets/"+n).then(function(){i.resolve()},function(){t.altaiNotificationFactory.error("Could not clear the image style set");i.reject()}),i.promise},t.prototype.recycleImageCache=function(n){var t=this,i=t.$q.defer();return t.$http.get("/api/rebuildallimages/"+n).then(function(){i.resolve()},function(){t.altaiNotificationFactory.error("Could not reload the image cache");i.reject()}),i.promise},t.prototype.updateImageStyleAction=function(n){var t=this,i=t.$q.defer(),r="/api/imagestyleaction/"+n.name.toLowerCase()+"/";return t.$http.put(r,n).then(function(){var r=t.imageStyleActionList.filter(function(t){return t.id==n.id}),u=t.imageStyleActionList.indexOf(r[0]);t.imageStyleActionList[u]=r[0];t.altaiNotificationFactory.success("Sucessfully updated the image style action");i.resolve()},function(){t.altaiNotificationFactory.error("Could not update the image style action");i.reject()}),i.promise},t.prototype.getImageStyleAction=function(n,t){var i=this,r=i.$q.defer();return i.$http.get("/api/imagestyleaction/"+t).then(function(n){r.resolve(n.data)},function(){i.altaiNotificationFactory.error("Could not load the imagestyle list");r.reject()}),r.promise},t.prototype.addImageStyleAction=function(n,t){var i=this,r=i.$q.defer(),u="/api/imagestyleaction/"+n.toLowerCase()+"/";return i.$http.post(u,t.id).then(function(n){r.resolve(n.data)},function(){i.altaiNotificationFactory.error("Could not update the image style action");r.reject()}),r.promise},t.prototype.cloneImageStyleAction=function(n){var t=this,i=t.$q.defer(),r="/api/imagestyleaction/"+n.name.toLowerCase()+"/?clone=true";return t.$http.post(r,n).then(function(r){var u,f;n:for(u=0;u<t.imageStyleSetList.length;u++)for(f=0;f<t.imageStyleSetList[u].imageStyles.length;f++)if(t.imageStyleSetList[u].imageStyles[f].id==n.imageStyleId){t.imageStyleSetList[u].imageStyles[f].imageStyleActions.push(r.data);break n}i.resolve(r.data)},function(){t.altaiNotificationFactory.error("Could not update the image style action");i.reject()}),i.promise},t.prototype.deleteImageStyleAction=function(n){var t=this,i=t.$q.defer();return t.$http({method:"DELETE",url:"/api/imagestyleaction/"+n}).then(function(n){i.resolve(n.data)},function(){t.altaiNotificationFactory.error("Could not delete the image style");i.reject()}),i.promise},t.prototype.listActiveImageStyle=function(){var n=this,t;return n.retina=!1,n.width=window.innerWidth,n.orientation,n.orientation=window.innerHeight>window.innerWidth?"portrait":"landscape",t=n.$q.defer(),n.$http.get("/api/activeimagestyleset/"+n.orientation+"/"+n.retina+"/"+n.width).then(function(i){n.activeImageStyleSets=i.data;t.resolve(i.data);n.$rootScope.$broadcast("activeimagestylesetupdated")},function(){t.reject()}),t.promise},t.prototype.getImageUrl=function(n,t){var u=this,e=u.$rootScope.staticFileBase+"/"+t,i=t;i=i.split("/");i=i[i.length-1].split(".");var s=i[i.length-2],o=i[i.length-1],r=u.activeImageStyleSets.filter(function(t){return t.name==n})[0],f=u.$q.defer();return u.$http.get("/api/checkexistence/"+n+"/"+t).then(function(){void 0!=r&&void 0!=r.imageStyles&&1==r.imageStyles.length&&(""!=r.imageStyles[0].fileFormat&&(o=r.imageStyles[0].fileFormat),e=u.$rootScope.staticFileBase+"/cache/"+n+"/"+r.imageStyles[0].minWidth+"/"+r.imageStyles[0].orientation+"/"+r.imageStyles[0].retina+"/"+s+"."+o,f.resolve(e))},function(){f.reject()}),f.promise},t.prototype.getImageUrlDirect=function(n,t){var f=this,e=f.$rootScope.staticFileBase+"/"+t,u=t;u=u.split("/");var r=u[u.length-1],s=r.substr(0,r.lastIndexOf(".")),o=r.substr(r.lastIndexOf(".")+1,r.length),i=f.activeImageStyleSets.filter(function(t){return t.name==n})[0];return void 0!=i&&void 0!=i.imageStyles&&1==i.imageStyles.length&&(""!=i.imageStyles[0].fileFormat&&(o=i.imageStyles[0].fileFormat),e=f.$rootScope.staticFileBase+"/cache/"+n+"/"+i.imageStyles[0].minWidth+"/"+i.imageStyles[0].orientation+"/"+i.imageStyles[0].retina+"/"+s+"."+o),e},t}(AltaiCore.AltaiDataService);n.ImageStyleSetService=t}(AltaiImageStyleSets||(AltaiImageStyleSets={}));!function(n){var t=angular.module("altai.imageStyleSets",["xeditable"]);t.service("imageStyleSetService",n.ImageStyleSetService);t.directive("altaiImageStyleSetList",n.AltaiImageStyleSetListDirective);t.directive("altaiImageStyleSetUpdate",n.AltaiImageStyleSetUpdateDirective);t.directive("altaiImageStyleSetCreate",n.AltaiImageStyleSetCreateDirective);t.directive("altaiImageStyleUpdate",n.ImageStyleUpdateDirective);t.directive("altaiImageStyleCreate",n.ImageStyleCreateDirective);t.directive("altaiImageStyleActionBlur",n.ImageStyleActionBlurDirective);t.directive("altaiImageStyleActionBorder",n.ImageStyleActionBorderDirective);t.directive("altaiImageStyleActionChangeFileFormat",n.ImageStyleActionChangeFileFormatDirective);t.directive("altaiImageStyleActionGrayScale",n.ImageStyleActionGrayScaleDirective);t.directive("altaiImageStyleActionPolaroid",n.ImageStyleActionPolaroidDirective);t.directive("altaiImageStyleActionRoundedCorners",n.ImageStyleActionRoundedCornersDirective);t.directive("altaiImageStyleActionScaleAndCircle",n.ImageStyleActionScaleAndCircleDirective);t.directive("altaiImageStyleActionScaleAndCrop",n.ImageStyleActionScaleAndCropDirective);t.directive("altaiImageStyleActionScaleWithinBounds",n.ImageStyleActionScaleWithinBoundsDirective);t.directive("altaiImageStyleActionVerge",n.ImageStyleActionVergeDirective);t.directive("altaiImageStyleActionVignette",n.ImageStyleActionVignetteDirective);t.directive("altaiImageStyleSet",n.ImageStyleSetDirective);t.directive("altaiImageStyleSetBackground",n.ImageStyleSetBackgroundDirective);t.config(function(t,i){t.state("admin.imagestyleset",{url:"/imagestyleset",abstract:!0}).state("admin.imagestyleset.list",{url:"/list",system:!0,views:{"bodyView@":{altaiTemplate:"admin",altaiTemplateType:"Admin",controller:n.ImageStyleSetListController}}});i.add({parent:"config",name:"config.imagestylesets",securable:"accessmanagement",label:"imagestylesets",icon:"mdi mdi-camera",state:"admin.imagestyleset.list"})});t.run(function(n){n.listActiveImageStyle().then(function(){})})}(AltaiImageStyleSets||(AltaiImageStyleSets={}));config.modules.push("altai.imageStyleSets");__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(n){var t=function(n){function t(t,i,r,u,f){var e=n.call(this,"api/backgroundjob","BackgroundJob",i,t,r,f)||this;return e.$interval=u,e}return __extends(t,n),t.prototype.waitForJob=function(n){var t=this,i=this.$q.defer(),r=this.$interval(function(){t.altaiHttp.get("/api/backgroundjob/"+n+"/state").then(function(n){n&&(t.$interval.cancel(r),i.resolve())})},5e3);return i.promise},t.prototype.getActiveJobs=function(){var n=this,t=n.$q.defer();return n.altaiHttp.get(n.apiUrl).then(function(n){t.resolve(n)},function(n){t.reject(n)}),t.promise},t.prototype.getJobCount=function(){var n=this,t=n.$q.defer();return n.altaiHttp.get(n.apiUrl+"/count").then(function(n){t.resolve(n)},function(n){t.reject(n)}),t.promise},t}(AltaiCore.AltaiDataService);n.BackgroundJobService=t}(AltaiBackgroundWork||(AltaiBackgroundWork={}));!function(n){function t(){return{scope:{languages:"="},templateUrl:"/api/template/Admin/Background:InfoCenter",controller:i,controllerAs:"vm",bindToController:!0}}n.BackgroundWorkInfoCenter=t;var i=function(){function n(n,t,i){this.$interval=n;this.$scope=t;this.backgroundJobService=i;this.jobcount=0;this.showBackgroundWorkInfoCenter=!1;this.getJobCount()}return n.prototype.openMenu=function(n,t){n(t)},n.prototype.toggleBackgroundWorkInfoCenterView=function(){var n=this;n.showBackgroundWorkInfoCenter=!n.showBackgroundWorkInfoCenter},n.prototype.setBackgroundWorkInfoCenterView=function(n){var t=this;t.showBackgroundWorkInfoCenter=n},n.prototype.getJobCount=function(){var n=this;this.$interval(function(){n.backgroundJobService.getJobCount().then(function(t){n.jobcount=t},function(){console.log("issue with getting the jobcount")})},5e3)},n.prototype.toggleData=function(){var n=this;n.showBackgroundWorkInfoCenter=!n.showBackgroundWorkInfoCenter},n}()}(AltaiBackgroundWork||(AltaiBackgroundWork={}));!function(n){var t=angular.module("altai.backgroundwork",[]);t.service("backgroundJobService",n.BackgroundJobService);t.directive("backgroundWorkInfoCenter",n.BackgroundWorkInfoCenter);config.modules.push(t.name)}(AltaiBackgroundWork||(AltaiBackgroundWork={}));